[{"url": "https://api.github.com/repos/evennia/evennia/issues/3166", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3166/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3166/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3166/events", "html_url": "https://github.com/evennia/evennia/issues/3166", "id": 1662683399, "node_id": "I_kwDOAPX8f85jGokH", "number": 3166, "title": "[BUG] CmdPage drops most of the message in some cases", "user": {"login": "kran4", "id": 69279519, "node_id": "MDQ6VXNlcjY5Mjc5NTE5", "avatar_url": "https://avatars.githubusercontent.com/u/69279519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kran4", "html_url": "https://github.com/kran4", "followers_url": "https://api.github.com/users/kran4/followers", "following_url": "https://api.github.com/users/kran4/following{/other_user}", "gists_url": "https://api.github.com/users/kran4/gists{/gist_id}", "starred_url": "https://api.github.com/users/kran4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kran4/subscriptions", "organizations_url": "https://api.github.com/users/kran4/orgs", "repos_url": "https://api.github.com/users/kran4/repos", "events_url": "https://api.github.com/users/kran4/events{/privacy}", "received_events_url": "https://api.github.com/users/kran4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-11T14:55:36Z", "updated_at": "2023-04-29T06:13:54Z", "closed_at": "2023-04-29T06:13:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nSending a page/tell without using ``=`` causes the message after the first one or two words to be dropped.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. From an Account or Character, enter a command in the form: page <account> Several words in a message\r\n2. Observe that only the word \"Several\" is paged to <account>.\r\n\r\n#### Expected behavior\r\nThe entire \"Several words in a message\" should be sent.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.2.1, Python 3.10.10, Win 10.\r\n\r\n#### Additional context\r\nProbably caused by this line having a 4 instead of a 1 in evennia.commands.default.comms.CmdPage: \r\ntarget, *message = self.args.split(\" \", 4)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3149", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3149/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3149/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3149/events", "html_url": "https://github.com/evennia/evennia/issues/3149", "id": 1634667695, "node_id": "I_kwDOAPX8f85hbwyv", "number": 3149, "title": "[BUG] Typo in logger module?", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T20:48:50Z", "updated_at": "2023-03-23T22:19:20Z", "closed_at": "2023-03-23T22:19:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI was reviewing the `logger` module to see if I could use it for a particular function, and I spotted this:\r\n\r\nhttps://github.com/evennia/evennia/blob/a9bf05734e137435a2cc016c0d751f84064ce2dd/evennia/utils/logger.py#L40-L41\r\n\r\nI'm pretty sure `str(e)` needs to be `str(err)` for this to work as intended.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3147", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3147/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3147/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3147/events", "html_url": "https://github.com/evennia/evennia/issues/3147", "id": 1628668791, "node_id": "I_kwDOAPX8f85hE4N3", "number": 3147, "title": "[BUG] tickerhandler attempts to save, despite `persistent` being `False`", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-17T04:25:34Z", "updated_at": "2023-03-18T11:21:14Z", "closed_at": "2023-03-18T11:21:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI want to use a non-persistent ticker so that I don't have to worry about whether it can be pickled and I don't need it to be saved across reloads. However, it is still trying to save, breaking my code.\r\n\r\nThe traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"./evgames/venv/Lib/site-packages/evennia/commands/cmdhandler.py\", line 627, in _run_command\r\n    _progressive_cmd_run(cmd, ret)\r\n  File \"./evgames/venv/Lib/site-packages/evennia/commands/cmdhandler.py\", line 235, in _progressive_cmd_run\r\n    value = next(generator)\r\n  File \"./evgames/nexus/.ic/commands/social.py\", line 220, in func\r\n    target.at_spoken_to(caller, speech, whisper=whisper)\r\n  File \"./evgames/nexus/.ictypeclassescellphones.py\", line 26, in at_spoken_to\r\n    app.listen(speaker, message.lower(), **kwargs)\r\n  File \"./evgames/nexus/.systems/software/phones.py\", line 189, in listen\r\n    if self.use(action, user=speaker, args=args) is None:\r\n  File \"./evgames/nexus/.systems/software/phones.py\", line 202, in use\r\n    return self.navigate(location, destination, **kwargs)\r\n  File \"./evgames/nexus/.systems/software/phones.py\", line 233, in navigate\r\n    self.start()\r\n  File \"./evgames/nexus/.systems/software/phones.py\", line 299, in start\r\n    tickerhandler.add(1, NaviApp.check_route, idstring, False, self)\r\n  File \"./evgames/venv/Lib/site-packages/evennia/scripts/tickerhandler.py\", line 538, in add\r\n    self.save()\r\n  File \"./evgames/venv/Lib/site-packages/evennia/scripts/tickerhandler.py\", line 433, in save\r\n    ServerConfig.objects.conf(key=self.save_name, value=dbserialize(to_save))\r\n  File \"./evgames/venv/Lib/site-packages/evennia/utils/dbserialize.py\", line 977, in dbserialize\r\n    return do_pickle(to_pickle(data))\r\n  File \"./evgames/venv/Lib/site-packages/evennia/utils/dbserialize.py\", line 960, in do_pickle\r\n    return dumps(data, protocol=PICKLE_PROTOCOL)\r\nTypeError: cannot pickle 'weakref' object\r\n```\r\nAs you can see, `tickerhandler.add(1, NaviApp.check_route, idstring, False, self)` has False passed in for the persistent argument, but the tickerhandler is still attempting to save it.\r\n\r\n#### Expected behavior\r\nI would expect that `persistent=False` would *not* attempt to save the ticker.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\n         Evennia version: 1.2.1\r\n         OS: nt\r\n         Python: 3.10.2\r\n         Twisted: 22.10.0\r\n         Django: 4.1.7\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3147/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3143", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3143/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3143/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3143/events", "html_url": "https://github.com/evennia/evennia/issues/3143", "id": 1620239384, "node_id": "I_kwDOAPX8f85gkuQY", "number": 3143, "title": "[BUG] Freshly installed game keeps erroring out and disconnecting (mac)", "user": {"login": "trandromeda", "id": 8782432, "node_id": "MDQ6VXNlcjg3ODI0MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8782432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trandromeda", "html_url": "https://github.com/trandromeda", "followers_url": "https://api.github.com/users/trandromeda/followers", "following_url": "https://api.github.com/users/trandromeda/following{/other_user}", "gists_url": "https://api.github.com/users/trandromeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/trandromeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trandromeda/subscriptions", "organizations_url": "https://api.github.com/users/trandromeda/orgs", "repos_url": "https://api.github.com/users/trandromeda/repos", "events_url": "https://api.github.com/users/trandromeda/events{/privacy}", "received_events_url": "https://api.github.com/users/trandromeda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-12T05:19:31Z", "updated_at": "2023-04-29T06:28:36Z", "closed_at": "2023-04-29T06:28:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI cannot get an Evennia server to start on MacOS\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Git clone Evennia (up to date as of Mar 12, 2023)\r\n2. Make a `venv` and activate it\r\n3. `pip install -e evennia`\r\n4. `evennia --init my-game`\r\n5. `cd my-game`\r\n6. `evennia migrate` - proceeds without error\r\n7. `evennia start -l` - enter name, email, password, and then it crashes\r\n\r\nThe first time I try to start the server, I get this error:\r\n```\r\n\u276f evennia start -l\r\n   Tailing logfiles /Users/trandromeda/dev/evennia/evennia/tut-evennia/server/logs/server.log and portal.log (Ctrl-C to exit) ...\r\n [Devel: settings.IN_GAME_ERRORS is True. Turn off in production.]\r\n [Devel: settings.ALLOWED_HOSTS set to '*' (all). Limit in production.]\r\n [Devel: settings.SERVER_HOSTNAME is set to 'localhost'. Update to the actual hostname in production.]\r\nPortal is already running as process 12366. Not restarted.\r\nServer starting ...\r\n[Failure instance: Traceback (failure with no frames): <class 'Exception'>: [Errno 2] No such file or directory: '/Users/trandromeda/dev/tut-evennia/server/logs/server.log' (error logged on other side)\r\n]\r\n```\r\n\r\nI ctrl-c out of this, run `evennia stop` and then I need to manually kill the process e.g. `kill -9 <some_process>`, otherwise I get an address already in use error, and then try `evennia start -l` again and this error prints on a loop.\r\n\r\n```\r\n2023-03-12 05:00:19 [..] Server disconnected from the portal.\r\n2023-03-12 05:00:20 [!!] Unhandled Error\r\n\tTraceback (most recent call last):\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/python/log.py\", line 96, in callWithLogger\r\n\t    return callWithContext({\"system\": lp}, func, *args, **kw)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/python/log.py\", line 80, in callWithContext\r\n\t    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/python/context.py\", line 117, in callWithContext\r\n\t    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/python/context.py\", line 82, in callWithContext\r\n\t    return func(*args, **kw)\r\n\t--- <exception caught here> ---\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/internet/selectreactor.py\", line 148, in _doReadOrWrite\r\n\t    why = getattr(selectable, method)()\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/internet/tcp.py\", line 615, in doConnect\r\n\t    self._connectDone()\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/internet/tcp.py\", line 643, in _connectDone\r\n\t    self.protocol.makeConnection(self)\r\n\t  File \"/Users/trandromeda/dev/evennia/evennia/server/portal/amp.py\", line 449, in makeConnection\r\n\t    amp.BinaryBoxProtocol.makeConnection(self, transport)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/twisted/protocols/amp.py\", line 2345, in makeConnection\r\n\t    self.connectionMade()\r\n\t  File \"/Users/trandromeda/dev/evennia/evennia/server/amp_client.py\", line 120, in connectionMade\r\n\t    self.factory.server.run_initial_setup()\r\n\t  File \"/Users/trandromeda/dev/evennia/evennia/server/server.py\", line 362, in run_initial_setup\r\n\t    last_initial_setup_step = ServerConfig.objects.conf(\"last_initial_setup_step\")\r\n\t  File \"/Users/trandromeda/dev/evennia/evennia/server/manager.py\", line 50, in conf\r\n\t    if not conf:\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/models/query.py\", line 408, in __bool__\r\n\t    self._fetch_all()\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/models/query.py\", line 1867, in _fetch_all\r\n\t    self._result_cache = list(self._iterable_class(self))\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/models/query.py\", line 87, in __iter__\r\n\t    results = compiler.execute_sql(\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/models/sql/compiler.py\", line 1398, in execute_sql\r\n\t    cursor.execute(sql, params)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/backends/utils.py\", line 67, in execute\r\n\t    return self._execute_with_wrappers(\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/backends/utils.py\", line 80, in _execute_with_wrappers\r\n\t    return executor(sql, params, many, context)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/backends/utils.py\", line 89, in _execute\r\n\t    return self.cursor.execute(sql, params)\r\n\t  File \"/Users/trandromeda/dev/evenv/lib/python3.11/site-packages/django/db/backends/sqlite3/base.py\", line 357, in execute\r\n\t    return Database.Cursor.execute(self, query, params)\r\n\tbuiltins.MemoryError:\r\n```\r\n\r\n#### Expected behavior\r\nServer to start and able to connect to game via web client\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 1.2.1 (rev fd8c5abd0)\r\n    OS: posix\r\n    Python: 3.11.2\r\n    Twisted: 22.10.0\r\n    Django: 4.1.7\r\n\r\n#### Additional context\r\nI have been able to run Evennia before. The difference is that at the time I had a Homebrew-installed version of Python@3.11. I replaced this with Pyenv and a Pyenv-installed Python@3.11.2. However, I've also removed, re-cloned and re-installed Evennia several times before posting this issue.\r\n\r\nThese errors occur similarly in a virtual env and non-virtual env.\r\n\r\nFurther notes:\r\n- similar errors if I install Evennia from PyPi i.e. `pip install evennia` and use that instead\r\n- I tried reproducing these steps on another machine (WSL 2 on my PC) and got Evennia running successfully there. The versioning on the other machine was the exact same except for `Evennia 1.2.1 (rev 4ef81b5c)` instead\r\n\r\nUpdate: Just realized my issue is the same (I think) as this one, so going to try and follow their solution: https://github.com/evennia/evennia/issues/3119\r\n\r\nUpdate 2: Can confirm that it worked! I followed the instructions specifically `brew install sqlite` (version 3.41 when I installed it), re-installed python 3.11.2 via pyenv, and then confirmed in python interactive that the version was 3.41 matching `brew info sqlite` (`sqlite3 --version` still showed the older, system sqlite version)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3134", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3134/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3134/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3134/events", "html_url": "https://github.com/evennia/evennia/issues/3134", "id": 1613038661, "node_id": "I_kwDOAPX8f85gJQRF", "number": 3134, "title": "[BUG] (ExtendedRoom not properly utilizing DefaultRoom appearance_template)", "user": {"login": "jakeleviathan", "id": 81382567, "node_id": "MDQ6VXNlcjgxMzgyNTY3", "avatar_url": "https://avatars.githubusercontent.com/u/81382567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakeleviathan", "html_url": "https://github.com/jakeleviathan", "followers_url": "https://api.github.com/users/jakeleviathan/followers", "following_url": "https://api.github.com/users/jakeleviathan/following{/other_user}", "gists_url": "https://api.github.com/users/jakeleviathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakeleviathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakeleviathan/subscriptions", "organizations_url": "https://api.github.com/users/jakeleviathan/orgs", "repos_url": "https://api.github.com/users/jakeleviathan/repos", "events_url": "https://api.github.com/users/jakeleviathan/events{/privacy}", "received_events_url": "https://api.github.com/users/jakeleviathan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-07T09:22:30Z", "updated_at": "2023-03-18T11:11:04Z", "closed_at": "2023-03-18T11:09:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![image_2023-03-07_042227786](https://user-images.githubusercontent.com/81382567/223378990-62e34508-630b-4196-9592-6eade626e53c.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3134/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3129", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3129/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3129/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3129/events", "html_url": "https://github.com/evennia/evennia/issues/3129", "id": 1609951545, "node_id": "I_kwDOAPX8f85f9ek5", "number": 3129, "title": "[BUG] Cannot load help on the web without an active session", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-04T21:14:32Z", "updated_at": "2023-03-18T09:26:06Z", "closed_at": "2023-03-18T09:24:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen attempting to access helpfiles through the help view while logged in as your account, but without an active session, this error sometimes occurs:\r\n\r\n```py\r\n2023-03-04 20:43:05 [EE]   File \"mud/env/lib/python3.11/site-packages/evennia/web/website/views/help.py\", line 116, in collect_topics\r\n2023-03-04 20:43:05 [EE]     if not cmd.access(puppet, \"cmd\"):\r\n2023-03-04 20:43:05 [EE]            ^^^^^^^^^^^^^^^^^^^^^^^^^\r\n2023-03-04 20:43:05 [EE]   File \"mud/env/lib/python3.11/site-packages/evennia/commands/command.py\", line 397, in access\r\n2023-03-04 20:43:05 [EE]     return self.lockhandler.check(srcobj, access_type, default=default)\r\n2023-03-04 20:43:05 [EE]            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n2023-03-04 20:43:05 [EE]   File \"mud/env/lib/python3.11/site-packages/evennia/locks/lockhandler.py\", line 574, in check\r\n2023-03-04 20:43:05 [EE]     true_false = tuple(\r\n2023-03-04 20:43:05 [EE]                  ^^^^^^\r\n2023-03-04 20:43:05 [EE]   File \"mud/env/lib/python3.11/site-packages/evennia/locks/lockhandler.py\", line 575, in <genexpr>\r\n2023-03-04 20:43:05 [EE]     bool(tup[0](accessing_obj, self.obj, *tup[1], **tup[2])) for tup in func_tup\r\n2023-03-04 20:43:05 [EE]          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n2023-03-04 20:43:05 [EE]   File \"mud/env/lib/python3.11/site-packages/evennia/locks/lockfuncs.py\", line 523, in is_ooc\r\n2023-03-04 20:43:05 [EE]     session = account.sessions.get()[0]  # note-this doesn't work well\r\n2023-03-04 20:43:05 [EE]               ~~~~~~~~~~~~~~~~~~~~~~^^^\r\n2023-03-04 20:43:05 [EE] IndexError: list index out of range\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Log in via the web, but don't log into the webclient and clear active sessions\r\n2. Visit server/help\r\n3. Observe 500 error with linked traceback\r\n\r\n#### Expected behavior\r\nHelp should display properly\r\n\r\n#### Environment, Evennia version, OS etc\r\n1.2.1\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3120", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3120/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3120/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3120/events", "html_url": "https://github.com/evennia/evennia/issues/3120", "id": 1599802109, "node_id": "I_kwDOAPX8f85fWwr9", "number": 3120, "title": "[BUG] Channel command nick doesn't match channel command key", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-25T19:07:47Z", "updated_at": "2023-02-25T22:11:29Z", "closed_at": "2023-02-25T22:11:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nNicks created by the channel command (e.g. the \"pub\") nick for the Public channel don't use the right command key: they reference `channel` instead of `@channel`. Normally this doesn't matter, but if you set `CMD_IGNORE_PREFIXES = \"/+\"` in your settings, this mismatch causes channel nicks to break.\r\n\r\n```\r\n> pub test\r\nCommand 'channel public = test' is not available. Type \"help\" for help.\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set CMD_IGNORE_PREFIXES to anything that pays attention to the option @ prefix (like \"/+\")\r\n2. Run any channel nick-based command.\r\n3. Observe error.\r\n\r\n#### Expected behavior\r\nChannel nicks command keys should match the channel command.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.2.0\r\n\r\n#### Additional context\r\nThe issue looks like it's here: \r\nhttps://github.com/evennia/evennia/blob/bee281f82d126482f0acb8e3ea4153cba0ad4779/evennia/comms/comms.py#L69\r\nI think this should be `@channel` instead of `channel`. Then it matches the command key and CMD_IGNORE_PREFIXES shouldn't matter anymore.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3120/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3119", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3119/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3119/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3119/events", "html_url": "https://github.com/evennia/evennia/issues/3119", "id": 1595969099, "node_id": "I_kwDOAPX8f85fII5L", "number": 3119, "title": "[BUG] MemoryError when starting Evennia", "user": {"login": "stevesmit", "id": 30558265, "node_id": "MDQ6VXNlcjMwNTU4MjY1", "avatar_url": "https://avatars.githubusercontent.com/u/30558265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevesmit", "html_url": "https://github.com/stevesmit", "followers_url": "https://api.github.com/users/stevesmit/followers", "following_url": "https://api.github.com/users/stevesmit/following{/other_user}", "gists_url": "https://api.github.com/users/stevesmit/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevesmit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevesmit/subscriptions", "organizations_url": "https://api.github.com/users/stevesmit/orgs", "repos_url": "https://api.github.com/users/stevesmit/repos", "events_url": "https://api.github.com/users/stevesmit/events{/privacy}", "received_events_url": "https://api.github.com/users/stevesmit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-22T23:03:58Z", "updated_at": "2023-02-23T22:58:35Z", "closed_at": "2023-02-23T22:58:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI run `evennia start` and get \r\n```\r\nPortal starting ...\r\n... Portal started.\r\nServer starting  ...\r\n```\r\n\r\nThis doesn't start. Inspecting logs with `evennia --log` I get the traceback:\r\n\r\n```\r\n2023-02-22 22:55:16 [!!] Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/python/log.py\", line 96, in callWithLogger\r\n            return callWithContext({\"system\": lp}, func, *args, **kw)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/python/log.py\", line 80, in callWithContext\r\n            return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/python/context.py\", line 117, in callWithContext\r\n            return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/python/context.py\", line 82, in callWithContext\r\n            return func(*args, **kw)\r\n        --- <exception caught here> ---\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/internet/selectreactor.py\", line 148, in _doReadOrWrite\r\n            why = getattr(selectable, method)()\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/internet/tcp.py\", line 615, in doConnect\r\n            self._connectDone()\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/internet/tcp.py\", line 643, in _connectDone\r\n            self.protocol.makeConnection(self)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/evennia/server/portal/amp.py\", line 449, in makeConnection\r\n            amp.BinaryBoxProtocol.makeConnection(self, transport)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/twisted/protocols/amp.py\", line 2345, in makeConnection\r\n            self.connectionMade()\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/evennia/server/amp_client.py\", line 120, in connectionMade\r\n            self.factory.server.run_initial_setup()\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/evennia/server/server.py\", line 362, in run_initial_setup\r\n            last_initial_setup_step = ServerConfig.objects.conf(\"last_initial_setup_step\")\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/evennia/server/manager.py\", line 50, in conf\r\n            if not conf:\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/models/query.py\", line 408, in __bool__\r\n            self._fetch_all()\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/models/query.py\", line 1867, in _fetch_all\r\n            self._result_cache = list(self._iterable_class(self))\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/models/query.py\", line 87, in __iter__\r\n            results = compiler.execute_sql(\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py\", line 1398, in execute_sql\r\n            cursor.execute(sql, params)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/backends/utils.py\", line 67, in execute\r\n            return self._execute_with_wrappers(\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/backends/utils.py\", line 80, in _execute_with_wrappers\r\n            return executor(sql, params, many, context)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/backends/utils.py\", line 89, in _execute\r\n            return self.cursor.execute(sql, params)\r\n          File \"/.../fmud/env/lib/python3.10/site-packages/django/db/backends/sqlite3/base.py\", line 357, in execute\r\n            return Database.Cursor.execute(self, query, params)\r\n        builtins.MemoryError: \r\n\r\n2023-02-22 22:55:17 [..] Server disconnected from the portal.\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Follow evennia install guide on the homepage of the site\r\n2. See error when examining logs with evennia --log\r\n\r\n#### Expected behavior\r\nThe server to start successfully.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 1.1.1\r\n    OS: posix\r\n    Python: 3.10.7\r\n    Twisted: 22.10.0\r\n    Django: 4.1.7\r\n\r\nmacOS Ventura 13.2.1, M1 2020 chip\r\nSQLite3 version: `3.39.5 2022-10-14 20:58:05 554764a6e721fab307c63a4f98cd958c8428a5d9d8edfde951858d6fd02daapl`\r\n#### Additional context\r\nI have seen the other \"accepted/solved\" solution but this is quite a complicated approach and TBH they had the problem with an older version of sqlite, I am now 11 minor versions ahead of that used in the guide. Something else must be going on?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3106", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3106/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3106/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3106/events", "html_url": "https://github.com/evennia/evennia/issues/3106", "id": 1574563475, "node_id": "I_kwDOAPX8f85d2e6T", "number": 3106, "title": "[BUG] Multiple channels with the same name, differed only by case, can exist - and prove difficult to extinguish.", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-07T15:42:31Z", "updated_at": "2023-02-25T08:04:55Z", "closed_at": "2023-02-25T08:04:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI (accidentally) created a duplicate channel with a different case as its key (ooc vs OOC) through the server/settings.py. Deleting proved difficult.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a channel in the game through the usual default fashion, say `channel/create OOC`.\r\n2. Add the below DEFAULT_CHANNELS dict to your settings.py.\r\n3. Restart your game so the updated settings take effect. \r\n5. Type `channel/delete ooc`\r\n5. Try, in a spontaneous fit of hope, `channel/delete OOC`\r\n6. See error\r\n```\r\nDEFAULT_CHANNELS = [\r\n    {\r\n        \"key\": \"ooc\",\r\n        \"desc\": \"Public OOC discussion\",\r\n        \"locks\": \"control:perm(Admin);listen:all();send:all()\",\r\n        \"typeclass\": BASE_CHANNEL_TYPECLASS,\r\n    }\r\n]\r\n```\r\n#### Expected behavior\r\nEither channels should be case insensitive and it should be impossible to create a channel of the same name but a different case, or channels should be case sensitive and when passed in as arguments to the channel command the matching-case channel should be returned.\r\n\r\nI think the former makes more sense as that's already how it works with the in-game command (you can't `chan/create ooc` and then `chan/create OOC`. The server setting just bypasses it.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 1.0-dev (rev 96e486de80)\r\n\r\n#### Additional context\r\nHonestly I don't think this is the first time this has happened to me. I think like the last time, I'll just manually delete it through py commands. But I can't be the only person this ever happens to.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3103", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3103/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3103/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3103/events", "html_url": "https://github.com/evennia/evennia/issues/3103", "id": 1569678308, "node_id": "I_kwDOAPX8f85dj2Pk", "number": 3103, "title": "[BUG] Inconsistent string casting on tag functions", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-03T11:15:31Z", "updated_at": "2023-02-25T07:41:32Z", "closed_at": "2023-02-25T07:41:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nValidation/string-casting on tag add/get/remove isn't consistent. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `py self.tags.get(1)` -> AttributeError\r\n2. `py self.tags.has(1)` -> AttributeError\r\n3. `py self.tags.add(1)` -> allowed (1 is cast to str)\r\n4. `py self.tags.remove(1)` -> AttributeError\r\n5. `evennia.utils.search.search_tag(1)` -> allowed, and works\r\n6. `evennia.utils.search.search_tag('1')` -> allowed, and works (identically as 5)\r\n\r\nError:\r\n```\r\n    key = key.strip().lower() if key else None\r\nAttributeError: 'int' object has no attribute 'strip'\r\n```\r\n\r\n#### Expected behavior\r\nTags should either always attempt to cast or never cast. The fact that you can `py self.tags.add(1)` and then immediately run into an error when you `py self.tags.get(1)` seems wrong. I'd like to go with \"cast when possible, error if unable to cast to string\".\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 1.1.0 (rev ce63889331)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3103/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3101", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3101/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3101/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3101/events", "html_url": "https://github.com/evennia/evennia/issues/3101", "id": 1567097016, "node_id": "I_kwDOAPX8f85daAC4", "number": 3101, "title": "[BUG] Spawner doesn't validate typeclass path, resulting in wrong `db_typeclass_path` value", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-02T00:28:17Z", "updated_at": "2023-02-26T14:24:34Z", "closed_at": "2023-02-26T14:24:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen creating an object via the spawner, if the provided typeclass path is a valid alias for the typeclass, that path is used instead of the full typeclass model path. This makes the object unfindable by the objects manager on the typeclass.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `spawn {\"key\": \"first thing\", \"typeclass\": \"evennia.DefaultObject\", \"location\": \"#2\" }`\r\n2. `create second thing:evennia.DefaultObject`\r\n3. `ex first` shows a typeclass path of \"evennia.DefaultObject\"\r\n4. `ex second` shows a typeclass path of \"evennia.objects.objects.DefaultObject\"\r\n5. `py from evennia import DefaultObject; print(DefaultObject.objects.all())` only finds \"second thing\" because of the incorrect path on \"first thing\"\r\n\r\n#### Expected behavior\r\nAll objects that are loading a valid typeclass should be findable via manager queries. Also, the spawner should create objects with the same typeclass path they would get if the object was created with the same typeclass string and `create_object` - which is not the case.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.1.0\r\nWindows 10", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3100", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3100/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3100/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3100/events", "html_url": "https://github.com/evennia/evennia/issues/3100", "id": 1566549158, "node_id": "I_kwDOAPX8f85dX6Sm", "number": 3100, "title": "[BUG] Incorrect implementation (or docstring?) on `ServerSession.get_account` and `ServerSession.get_puppet`", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-01T17:51:10Z", "updated_at": "2023-02-26T13:44:49Z", "closed_at": "2023-02-26T13:44:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nOn the `ServerSession` class, both `.get_account()` and `.get_puppet()` claim in the docstring that they return the account, or the puppet, if such a thing exists on the session.\r\n\r\nHowever, the actual code returns a boolean.\r\n\r\nBased on the names of the functions, I think this is an implementation error, not a documentation error, and the code should be updated to return account-or-None and object-or-None, respectively.\r\n\r\n#### Additional context\r\nhttps://github.com/evennia/evennia/blob/bee281f82d126482f0acb8e3ea4153cba0ad4779/evennia/server/serversession.py#L153-L171", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3096", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3096/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3096/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3096/events", "html_url": "https://github.com/evennia/evennia/issues/3096", "id": 1561097456, "node_id": "I_kwDOAPX8f85dDHTw", "number": 3096, "title": "[BUG] Global Script Delete Causing Incorrect Prompt", "user": {"login": "jaborsh", "id": 73198594, "node_id": "MDQ6VXNlcjczMTk4NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/73198594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaborsh", "html_url": "https://github.com/jaborsh", "followers_url": "https://api.github.com/users/jaborsh/followers", "following_url": "https://api.github.com/users/jaborsh/following{/other_user}", "gists_url": "https://api.github.com/users/jaborsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaborsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaborsh/subscriptions", "organizations_url": "https://api.github.com/users/jaborsh/orgs", "repos_url": "https://api.github.com/users/jaborsh/repos", "events_url": "https://api.github.com/users/jaborsh/events{/privacy}", "received_events_url": "https://api.github.com/users/jaborsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-29T02:47:31Z", "updated_at": "2023-02-25T23:10:12Z", "closed_at": "2023-02-25T23:10:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen you delete a global script with the same dbref as a character, it will say `Script on <character> Deleted` even if it is a global script.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create Global Script in `server.py` to load on restart.\r\n2. Have character with the same dbref as listed in the scripts command.\r\n3. `script/del <dbref>`\r\n4. See error\r\n\r\n#### Expected behavior\r\n`Script on <character> Deleted` should be `Global Script Deleted`, which is what is displayed when no such dbref sharing occurs.\r\n\r\n#### Environment, Evennia version, OS etc\r\nLatest version. Ubuntu 20 OS.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3090", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3090/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3090/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3090/events", "html_url": "https://github.com/evennia/evennia/issues/3090", "id": 1551321165, "node_id": "I_kwDOAPX8f85cd0hN", "number": 3090, "title": "_keyaliases ordering in command.py causing issues with wrong key/alias matching commands", "user": {"login": "shogidude", "id": 94855537, "node_id": "U_kgDOBadhcQ", "avatar_url": "https://avatars.githubusercontent.com/u/94855537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shogidude", "html_url": "https://github.com/shogidude", "followers_url": "https://api.github.com/users/shogidude/followers", "following_url": "https://api.github.com/users/shogidude/following{/other_user}", "gists_url": "https://api.github.com/users/shogidude/gists{/gist_id}", "starred_url": "https://api.github.com/users/shogidude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shogidude/subscriptions", "organizations_url": "https://api.github.com/users/shogidude/orgs", "repos_url": "https://api.github.com/users/shogidude/repos", "events_url": "https://api.github.com/users/shogidude/events{/privacy}", "received_events_url": "https://api.github.com/users/shogidude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-20T19:09:13Z", "updated_at": "2023-02-26T19:15:42Z", "closed_at": "2023-02-26T19:15:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nCreation of set of _keyaliases from _matchset in command.py affecting aliases with spaces.\r\n\r\nFor my example, I had one \"smile\" command with the aliases of \"smile at\", \"grin\", and \"grin at\". In the command.py's _optimize method. \"matches\" list is created from the aliases and the key. Then the _keyaliases tuple is created for use in the cmdparser.py's build_matches method.\r\n\r\nThe following are from the logs I created\r\n\r\n2023-01-20 11:39:47 [..] list of matches['smile', 'smile at', 'grin', 'grin at']\r\n2023-01-20 11:39:47 [..] _keyaliases = ('smile at', 'grin', 'grin at', 'smile')\r\n\r\nWhen 'smile at' appears before 'smile' and 'grin at' appears before 'grin' in the _keyaliases, then everything works fine. However, when the non-spaced version of the command appears first, the 'at' is treated as an argument to the command instead of part of the command. The ordering of _keyaliases is different every time the server is reloaded.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a command with aliases that have spaces for some versions\r\n2. Restart server and try to use the command (This may take multiple restarts, because ordering seems random.)\r\n3. Depending on the order of _keyaliases in command.py, the spaced versions of the aliases may or may not be matched\r\n\r\n#### Expected behavior\r\nFrom the example above, the command \"smile at me\" should match to the alias \"smile at\" rather than \"smile\".\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 1.1.0 (rev 2241756455)\r\n    OS: nt\r\n    Python: 3.11.1\r\n    Twisted: 22.10.0\r\n    Django: 4.1.4\r\n\r\n#### Additional context\r\nn/a\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3090/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3087", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3087/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3087/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3087/events", "html_url": "https://github.com/evennia/evennia/issues/3087", "id": 1536415237, "node_id": "I_kwDOAPX8f85bk9YF", "number": 3087, "title": "[BUG] nattribute (.ndb) reference to deleted object clings to life", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-17T13:51:29Z", "updated_at": "2023-01-28T21:57:25Z", "closed_at": "2023-01-28T21:57:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nUsing a .ndb attribute to reference an in-game object, then deleting that object, results in the .ndb attribute 'partly' remaining. In my opinion, if it is possible to use a .ndb attribute to reference an object, the attribute should accurately map to said object.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Have two items (say, yourself and an apple)\r\n2. Set `self.ndb.apple = apple`\r\n3. `delete apple`\r\n4. Check `self.ndb.apple`\r\n5. Check `self.ndb.apple.get_display_name(self)`\r\n6. Check `self.ndb.apple.id`\r\n7. Check `type(self.ndb.apple)`\r\n8. Notice errors/inconsistency above: self.ndb.apple still appears to be the apple, .id returns nothing, type() returns the correct type that the apple _was_, back when it existed. \r\n\r\n#### Expected behavior\r\nIn this case I believe .ndb should function the same as .db, even though I know they're completely different systems; when the original object is deleted, the reference is too. \r\nHow .db works:\r\n1. `self.db.apple = apple`\r\n2. Delete the apple\r\n3. Check `self.db.apple`\r\n4. Notice `self.db.apple` no longer exists\r\n\r\n#### Environment, Evennia version, OS etc\r\n1.1.0 (rev c8846eb5f5)\r\n\r\n#### Additional context\r\nI know that InMemoryAttributes (aka nattributes) do not have a database backend, so it seems unlikely that there's going to be an easy way to check \"hey, was this in-memory attribute supposed to exist in the database in the first place - and does it still?\"... I looked at the InMemoryAttribute class and haven't the foggiest idea how you'd go about fixing this.\r\n\r\nIf it's not doable, maybe in big letters in documentation somewhere put \"Don't save Object References In Non-Database Attributes\"\r\n\r\nCurrent [attribute/nattribute documentation](https://www.evennia.com/docs/latest/Components/Attributes.html):\r\n> \"Trying to access a non-existing Attribute will never lead to an AttributeError. Instead you will get None back. [...] NAttributes [...] mimic Attributes in most things\"\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3087/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3085", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3085/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3085/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3085/events", "html_url": "https://github.com/evennia/evennia/issues/3085", "id": 1534130058, "node_id": "I_kwDOAPX8f85bcPeK", "number": 3085, "title": "[BUG] Escaped | in command help is still processed with ANSI", "user": {"login": "duckw", "id": 8157896, "node_id": "MDQ6VXNlcjgxNTc4OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8157896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duckw", "html_url": "https://github.com/duckw", "followers_url": "https://api.github.com/users/duckw/followers", "following_url": "https://api.github.com/users/duckw/following{/other_user}", "gists_url": "https://api.github.com/users/duckw/gists{/gist_id}", "starred_url": "https://api.github.com/users/duckw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duckw/subscriptions", "organizations_url": "https://api.github.com/users/duckw/orgs", "repos_url": "https://api.github.com/users/duckw/repos", "events_url": "https://api.github.com/users/duckw/events{/privacy}", "received_events_url": "https://api.github.com/users/duckw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-16T01:58:56Z", "updated_at": "2023-02-26T16:41:46Z", "closed_at": "2023-02-26T16:41:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nEscaped | don't appear to be processed properly in the help for a command and text is unexpectedly converted to color.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add a command:\r\n```\r\nclass TestCommand(Command):\r\n    \"\"\"\r\n    Choose between FIRE||ROSES\r\n    \"\"\"\r\n    ...\r\n```\r\n2. Execute the help for the command in-game. eg \"help test\"\r\n3. Confirm invalid output.  OSES is in red.\r\n```\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\nHelp for test (aliases: tes)\r\n\r\nChoose between FIREOSES\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n```\r\n\r\n#### Expected behavior\r\n```\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\nHelp for test (aliases: tes)\r\n\r\nChoose between FIRE|ROSES\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 1.1.0\r\n    OS: posix\r\n    Python: 3.11.1\r\n    Twisted: 22.10.0\r\n    Django: 4.1.5\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3081", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3081/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3081/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3081/events", "html_url": "https://github.com/evennia/evennia/issues/3081", "id": 1532183649, "node_id": "I_kwDOAPX8f85bU0Rh", "number": 3081, "title": "[BUG] webclient - text2html is overzealous in interpreting text as links", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T11:48:12Z", "updated_at": "2023-01-13T19:39:03Z", "closed_at": "2023-01-13T19:39:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you message an MXP link with link content ending in at least 3 'w's or 'http' alone, the webclient outputs junk.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Open the browser webclient with MXP on\r\n2. `py self.msg(\"TEST HERE: |lchelp drawwww|ltdrawwww|le\")`\r\n3. See `TEST HERE: www\";],{});return false;\">drawwww>`\r\n\r\n#### Expected behavior\r\nOutput of the above command should just be the link `drawwww` to `help drawwww`.\r\nWhile it's unlikely that a real game in production is going to send such text to the user anyway (I found it because I wanted to test different 'draw' commands in parallel and that was the, uh, 'naming schema' I settled on), it seems wrong that it should even potentially happen. I think the cause is regex in text2html.py, probably re_url.\r\n\r\nAt the very least, I think:\r\nInterpreting www as a url should require:\r\nA period immediately following the www\r\nA second period any point later in the same line\r\n\r\nInterpreting http/https as a url should require:\r\nA colon immediately following the http/https match\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 1.1.0 (rev 74d470a4f6)\r\nWebclient\r\n\r\n#### Additional context\r\n<img width=\"417\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9540334/212312035-5771b1c3-2642-4be4-bfcd-a4c6c8fc44ef.png\">\r\n<img width=\"389\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9540334/212312084-7e0c5aa5-7a18-4521-8fc7-d007c9e9ba29.png\">\r\n\r\nAlso, I think this is the same bug - while link *content* ending in www results in the above, link *text* alone ending in www seems to break in the following way, where only the non-'www' part is linkified:\r\n<img width=\"326\" alt=\"image\" src=\"https://user-images.githubusercontent.com/9540334/212317710-f20c1a3a-5e3a-4d62-8996-50ab74b0cf62.png\">\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3081/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3077", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3077/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3077/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3077/events", "html_url": "https://github.com/evennia/evennia/issues/3077", "id": 1524701376, "node_id": "I_kwDOAPX8f85a4RjA", "number": 3077, "title": "[BUG] Discord bot occasionally creates two portal sessions", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-01-08T22:08:23Z", "updated_at": "2023-01-26T09:23:52Z", "closed_at": "2023-01-26T09:23:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nSometimes when starting up or reloading a game, the Discord bot appears to create two portal sessions instead of one. A reboot of the game (the restart which stops and restarts the portal as well) corrects the issue.\r\n\r\nIt's not entirely clear what conditions cause this yet, so I am opening this issue to collect additional information to track down the problem.\r\n\r\n#### Environment, Evennia version, OS etc\r\nDebian, evennia 1.0.2\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3074", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3074/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3074/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3074/events", "html_url": "https://github.com/evennia/evennia/issues/3074", "id": 1523555693, "node_id": "I_kwDOAPX8f85az51t", "number": 3074, "title": "[BUG] No way to refer to a name if it contains color codes", "user": {"login": "Oreolek", "id": 308627, "node_id": "MDQ6VXNlcjMwODYyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/308627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oreolek", "html_url": "https://github.com/Oreolek", "followers_url": "https://api.github.com/users/Oreolek/followers", "following_url": "https://api.github.com/users/Oreolek/following{/other_user}", "gists_url": "https://api.github.com/users/Oreolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oreolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oreolek/subscriptions", "organizations_url": "https://api.github.com/users/Oreolek/orgs", "repos_url": "https://api.github.com/users/Oreolek/repos", "events_url": "https://api.github.com/users/Oreolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Oreolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-07T07:12:49Z", "updated_at": "2023-03-04T19:15:36Z", "closed_at": "2023-03-04T19:15:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIt is possible to use color codes and formatting in names and `sdesc`, making them fancy like  **a**d**m**i**n**\r\n\r\nThese handles become impossible to refer to because you can't eyeball which of 256 colors were used for each letter and how. (Copying strips the formatting.)\r\n\r\n#### To Reproduce\r\n```\r\nname admin = |ra|ndmin\r\nlook admin\r\n```\r\n\r\n#### Expected behavior\r\nStrip formatting from object names during the lookup so it would use plain UTF-8. (Unicode is still full of 0-width pitfalls but at least you can copy them.)\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.2, python 3.10.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3074/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3073", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3073/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3073/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3073/events", "html_url": "https://github.com/evennia/evennia/issues/3073", "id": 1523550502, "node_id": "I_kwDOAPX8f85az4km", "number": 3073, "title": "[BUG] No way to remove sdesc", "user": {"login": "Oreolek", "id": 308627, "node_id": "MDQ6VXNlcjMwODYyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/308627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oreolek", "html_url": "https://github.com/Oreolek", "followers_url": "https://api.github.com/users/Oreolek/followers", "following_url": "https://api.github.com/users/Oreolek/following{/other_user}", "gists_url": "https://api.github.com/users/Oreolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oreolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oreolek/subscriptions", "organizations_url": "https://api.github.com/users/Oreolek/orgs", "repos_url": "https://api.github.com/users/Oreolek/repos", "events_url": "https://api.github.com/users/Oreolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Oreolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-07T07:07:04Z", "updated_at": "2023-02-26T11:11:43Z", "closed_at": "2023-02-26T11:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nOnce you set an `sdesc`, it is not possible to erase it.\r\n\r\n#### To Reproduce\r\n1. `sdesc thisisme`\r\n2. `sdesc`\r\n`Usage: sdesc <sdesc-text>`\r\n\r\n#### Expected behavior\r\nActually removing sdesc if the text is empty\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.2, python 3.10.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3073/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3072", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3072/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3072/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3072/events", "html_url": "https://github.com/evennia/evennia/issues/3072", "id": 1523549209, "node_id": "I_kwDOAPX8f85az4QZ", "number": 3072, "title": "[BUG] contrib: rpmodule force-capitalizes nicks", "user": {"login": "Oreolek", "id": 308627, "node_id": "MDQ6VXNlcjMwODYyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/308627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oreolek", "html_url": "https://github.com/Oreolek", "followers_url": "https://api.github.com/users/Oreolek/followers", "following_url": "https://api.github.com/users/Oreolek/following{/other_user}", "gists_url": "https://api.github.com/users/Oreolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oreolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oreolek/subscriptions", "organizations_url": "https://api.github.com/users/Oreolek/orgs", "repos_url": "https://api.github.com/users/Oreolek/repos", "events_url": "https://api.github.com/users/Oreolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Oreolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-07T07:05:18Z", "updated_at": "2023-01-07T09:20:47Z", "closed_at": "2023-01-07T09:20:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAfter installing rpmodule, all `sdesc` nicks are capitalized unless they start with a color code.\r\n\r\n#### Expected behavior\r\nDo not change the nick or `sdesc` capitalization\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 1.0.2, python: 3.10.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3072/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3071", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3071/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3071/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3071/events", "html_url": "https://github.com/evennia/evennia/issues/3071", "id": 1523545236, "node_id": "I_kwDOAPX8f85az3SU", "number": 3071, "title": "[BUG] contrib: rpmodule inserts /Me in every phrase", "user": {"login": "Oreolek", "id": 308627, "node_id": "MDQ6VXNlcjMwODYyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/308627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oreolek", "html_url": "https://github.com/Oreolek", "followers_url": "https://api.github.com/users/Oreolek/followers", "following_url": "https://api.github.com/users/Oreolek/following{/other_user}", "gists_url": "https://api.github.com/users/Oreolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oreolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oreolek/subscriptions", "organizations_url": "https://api.github.com/users/Oreolek/orgs", "repos_url": "https://api.github.com/users/Oreolek/repos", "events_url": "https://api.github.com/users/Oreolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Oreolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-01-07T07:02:01Z", "updated_at": "2023-01-09T11:58:23Z", "closed_at": "2023-01-07T09:19:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nrpmodule's `pre_say` hook mangles the chat\r\n\r\n#### To Reproduce\r\n```\r\n> say hi\r\noreolek says, \"/Me says, \"hi\"\"\r\n```\r\n#### Expected behavior\r\nsaying \"hi\"\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.2, python 3.10.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3071/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3070", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3070/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3070/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3070/events", "html_url": "https://github.com/evennia/evennia/issues/3070", "id": 1523544336, "node_id": "I_kwDOAPX8f85az3EQ", "number": 3070, "title": "[BUG] contrib: rpmodule breaks saying URLs", "user": {"login": "Oreolek", "id": 308627, "node_id": "MDQ6VXNlcjMwODYyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/308627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oreolek", "html_url": "https://github.com/Oreolek", "followers_url": "https://api.github.com/users/Oreolek/followers", "following_url": "https://api.github.com/users/Oreolek/following{/other_user}", "gists_url": "https://api.github.com/users/Oreolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oreolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oreolek/subscriptions", "organizations_url": "https://api.github.com/users/Oreolek/orgs", "repos_url": "https://api.github.com/users/Oreolek/repos", "events_url": "https://api.github.com/users/Oreolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Oreolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-07T06:59:44Z", "updated_at": "2023-02-26T10:54:09Z", "closed_at": "2023-02-26T10:54:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAfter installing rpmodule, it is not possible to say something containing URLs in chat because it tries to parse the link, fails and discards the input. (Channels still work.)\r\n\r\n#### To Reproduce\r\n```\r\nsay https://wjen.dd/dsdw\r\nNo match for /dsdw.\r\nNo match for /wjen.\r\n```\r\n\r\n#### Expected behavior\r\nSaying the phrase without discarding it.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.2, python 3.10.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3069", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3069/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3069/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3069/events", "html_url": "https://github.com/evennia/evennia/issues/3069", "id": 1523543319, "node_id": "I_kwDOAPX8f85az20X", "number": 3069, "title": "[BUG] contrib: building menu does not catch its keys", "user": {"login": "Oreolek", "id": 308627, "node_id": "MDQ6VXNlcjMwODYyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/308627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oreolek", "html_url": "https://github.com/Oreolek", "followers_url": "https://api.github.com/users/Oreolek/followers", "following_url": "https://api.github.com/users/Oreolek/following{/other_user}", "gists_url": "https://api.github.com/users/Oreolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oreolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oreolek/subscriptions", "organizations_url": "https://api.github.com/users/Oreolek/orgs", "repos_url": "https://api.github.com/users/Oreolek/repos", "events_url": "https://api.github.com/users/Oreolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Oreolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-07T06:56:58Z", "updated_at": "2023-02-26T13:24:09Z", "closed_at": "2023-02-26T13:24:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nGame parses building menu keys as directions.\r\n\r\n#### To Reproduce\r\n```\r\n> @edit me\r\nBuilding menu: oreolek\r\n\r\n [K]ey: oreolek\r\n [D]escription: \r\n [Q]uit the menu\r\n> d\r\n[character goes down]\r\n```\r\n\r\n#### Expected behavior\r\nEdit the description\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.2, python 3.10.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3064", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3064/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3064/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3064/events", "html_url": "https://github.com/evennia/evennia/issues/3064", "id": 1519588978, "node_id": "I_kwDOAPX8f85akxZy", "number": 3064, "title": "[BUG] Updating a prototype causes changed attributes to save as string instead of their appropriate type", "user": {"login": "Tegiminis", "id": 2596300, "node_id": "MDQ6VXNlcjI1OTYzMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/2596300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tegiminis", "html_url": "https://github.com/Tegiminis", "followers_url": "https://api.github.com/users/Tegiminis/followers", "following_url": "https://api.github.com/users/Tegiminis/following{/other_user}", "gists_url": "https://api.github.com/users/Tegiminis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tegiminis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tegiminis/subscriptions", "organizations_url": "https://api.github.com/users/Tegiminis/orgs", "repos_url": "https://api.github.com/users/Tegiminis/repos", "events_url": "https://api.github.com/users/Tegiminis/events{/privacy}", "received_events_url": "https://api.github.com/users/Tegiminis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-04T21:23:52Z", "updated_at": "2023-01-06T17:57:01Z", "closed_at": "2023-01-06T17:57:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI'm trying to figure out the best way to save representations of custom classes in prototypes.\r\n\r\nHere is the prototype in question:\r\n\r\n```python\r\nHIVE_BOOMER = {\r\n    \"name\": \"Hive Boomer\",\r\n    \"accuracy\": 1.0,\r\n    \"damage\": 10,\r\n    \"crit\": 2.0,\r\n    \"mult\": 2.0,\r\n    \"shots\": 1,\r\n    \"cooldown\": 5,\r\n    \"element\": \"arc\",\r\n    \"messaging\": {\r\n        \"attack\": \"{attacker} lobs a bomb of electrifying energy at {defender}!\",\r\n        \"hit\": \"{defender} is shocked by electric current!\",\r\n        \"crit\": \"{defender} is knocked back by explosive force!\",\r\n    },\r\n    \"is_object\": False,\r\n}\r\n\r\nHIVE_KNIGHT = {\r\n    \"key\": \"hive knight\",\r\n    \"typeclass\": \"typeclasses.npc.NPC\",\r\n    \"weapon\": WeaponStats(**HIVE_BOOMER),\r\n    \"brain\": PatrolBrain,\r\n}\r\n```\r\n\r\nThis works fine when I spawn the prototype. Brain and weapon are assigned correctly, show as their respective objects. This is consistent with documentation on spawning.\r\n\r\n![image](https://user-images.githubusercontent.com/2596300/210649557-b808002a-a2ac-42b8-baf9-89462095472e.png)\r\n\r\nHowever, when I `spawn/update` the prototype, both brain and weapon are converted to strings after their object is constructed. This obviously breaks everything, as they no longer have the correct methods.\r\n\r\n![image](https://user-images.githubusercontent.com/2596300/210649456-fbec8ca8-ad0a-47b9-895b-fae655c01de5.png)\r\n---\r\nThis occurs regardless of how the class is assigned. I attempted\r\n```py\r\n\"args\": [(\"brain\", PatrolBrain), (\"weapon\", WeaponStats(**HIVE_BOOMER))]\r\n```\r\nand\r\n```py\r\n\"attrs\": [(\"brain\", PatrolBrain), (\"weapon\", WeaponStats(**HIVE_BOOMER))]\r\n```\r\nAnd they resulted in identical behavior.\r\n\r\n#### To Reproduce\r\n1. Create a prototype with an attribute that contains a class to instantiate on spawn\r\n2. Spawn the prototype\r\n3. Spawn/update the prototype\r\n4. See error\r\n\r\n#### Expected behavior\r\nSpawn/update replaces old object instances with new ones, not string representations of new instances.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 31e14f2599)\r\nOS: nt\r\nPython: 3.10.4\r\nTwisted: 22.10.0\r\nDjango: 4.1.4\r\n\r\n#### Notes\r\nAny prototype which uses instances classes will always count as an \"older prototype\" for purposes of updating.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3064/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3062", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3062/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3062/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3062/events", "html_url": "https://github.com/evennia/evennia/issues/3062", "id": 1518060974, "node_id": "I_kwDOAPX8f85ae8Wu", "number": 3062, "title": "[BUG] \"category\" is ignored for module-based help files", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-03T23:36:00Z", "updated_at": "2023-01-03T23:37:11Z", "closed_at": "2023-01-03T23:36:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen defining help entries in a module, the \"category\" key is not used to define the category of the help file. Instead, it's put into a generic \"Game & World\" section. I also tried adding a \"help_category\" key in case it was just a naming inconsistency but that didn't do anything either.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Copy [the documentation's](https://www.evennia.com/docs/latest/Components/Help-System.html#file-stored-help-entries) example `HELP_ENTRY_DICTS` into a help module and add it to settings as per instructions.\r\n2. Reload the game\r\n3. Type `help` in game.\r\n4. Verify that the new entry of `the gods` is in `Game & World` at the bottom, not in a `Lore` category.\r\n\r\n#### Expected behavior\r\nThe \"category\" key should define the category it appears in.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.2, Windows 10", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3062/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3050", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3050/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3050/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3050/events", "html_url": "https://github.com/evennia/evennia/issues/3050", "id": 1510448413, "node_id": "I_kwDOAPX8f85aB50d", "number": 3050, "title": "[BUG] iter_to_str() misprint with two objects.", "user": {"login": "BernardoFPereira", "id": 40927177, "node_id": "MDQ6VXNlcjQwOTI3MTc3", "avatar_url": "https://avatars.githubusercontent.com/u/40927177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BernardoFPereira", "html_url": "https://github.com/BernardoFPereira", "followers_url": "https://api.github.com/users/BernardoFPereira/followers", "following_url": "https://api.github.com/users/BernardoFPereira/following{/other_user}", "gists_url": "https://api.github.com/users/BernardoFPereira/gists{/gist_id}", "starred_url": "https://api.github.com/users/BernardoFPereira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BernardoFPereira/subscriptions", "organizations_url": "https://api.github.com/users/BernardoFPereira/orgs", "repos_url": "https://api.github.com/users/BernardoFPereira/repos", "events_url": "https://api.github.com/users/BernardoFPereira/events{/privacy}", "received_events_url": "https://api.github.com/users/BernardoFPereira/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-26T00:10:12Z", "updated_at": "2023-01-06T17:14:30Z", "closed_at": "2023-01-06T17:14:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n<!--(Replace with a clear and concise description of what the bug is.)-->\r\n`iter_to_str` inside `get_display_*`'s behaviour seems faulty.\r\n\r\nWith it's default separators (`sep\",\"` , `endsep=\", and\"`), and 2 objects in the iterable, the in-game game return is `\" and \"` separating the names `(obj1 and obj2)`. While more than 2, returns `\", and\"`; `(obj1, obj2, and obj3)`.\r\n\r\nChanging the default  `sep` to something like `sep=\"-\"`, makes the return `X, and Y` as opposed to `X and Y` when there's 2 objects.\r\n\r\nApparenty, this happens whenever `sep` and `endsep` are the same (or `endsep` starts with the same character).\r\nGot the same behavior with `[sep=',', endsep=',']`, `[sep='-', endsep='-']`, `[sep=';', endsep=';']`.\r\nIn these cases output with 2 objects is `X Y` as opposed to `X, Y`, for example.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Overload any `get_display_*` function in an object.\r\n2. Set it's `*_names` value's `iter_to_str` separator parameters as the same character. (e.g.: `sep\",\"` , `endsep=\",\"`)\r\n3. Run the game and `look` in a place where there's two of anything (`Exits`, `Characters` or `Things`)\r\n4. Check `look` output for misprint\r\n\r\n#### Expected behavior\r\n<!--(Replace with a clear and concise description of what you expected to happen.)-->\r\nThe presence of 2 objects in the iterable being used by `iter_to_str` should output the proper `endsep` string.\r\nWith the same separators parameters, output with 2 objects should be `X, Y`, not `X Y`.\r\n\r\n#### Environment, Evennia version, OS etc\r\n<!--(Replace with info. If unsure, run `evennia -v` or get the first few lines of the `about` command in-game.)-->\r\n    Evennia 1.0.2\r\n    OS: nt\r\n\r\n#### Additional context\r\n<!--(Replace with any other context about the problem, or ideas on how to solve.)-->\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3044", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3044/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3044/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3044/events", "html_url": "https://github.com/evennia/evennia/issues/3044", "id": 1508661322, "node_id": "I_kwDOAPX8f85Z7FhK", "number": 3044, "title": "[BUG] (XYZGrid contrib) Prototypes are not generated for custom MapLink classes ", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-22T23:17:32Z", "updated_at": "2023-02-25T19:58:20Z", "closed_at": "2023-02-25T19:52:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\n***EDIT*** The _inconsistent_ traceback issue below is due to a typo on line 412:\r\nhttps://github.com/evennia/evennia/blob/981dbc0d29469b759cdc9f3e1ce1b908f864b745/evennia/contrib/grid/xyzgrid/xymap_legend.py#L412\r\n\r\nCorrecting `self.prototype` to `prot` gives the following traceback instead:\r\n\r\n> 2022-12-22 17:56:27 [..]     raise MapError(\r\n> 2022-12-22 17:56:27 [..] evennia.contrib.grid.xyzgrid.utils.MapError: BridgeNode 'B' at XYZ=(19,1,riverport) The prototype {'prototype_key': 'a8e7cdcf-e998-5e60-befe-4578a1e1f31c'} for this node has no 'typeclass' key.\r\n\r\nDigging further, I identified that my custom defined map link class isn't having a prototype generated for it, despite inheriting directly from the default class.\r\n\r\nThe class:\r\n```python\r\nclass BridgeLink(xymap_legend.MapLink):\r\n    symbol = \"\u039e\"\r\n    display_symbol = \"\u039e\"\r\n    directions = { 'e': 'w', 'w': 'e' }\r\n```\r\n\r\n(I attempted changing the symbol to `%` in case it didn't like it, but that made no difference.)\r\n\r\nInserting log lines at [line 370](https://github.com/evennia/evennia/blob/981dbc0d29469b759cdc9f3e1ce1b908f864b745/evennia/contrib/grid/xyzgrid/xymap_legend.py#L369) printing `link` and `link.prototype` reveals that my nodes have an empty dictionary, while the default link node found first has a full prototype.\r\n\r\n```python\r\n# timestamps removed for readability\r\n[..] <LinkNode '|' XY=(19,1.5)>\r\n[..] {'prototype_key': 'xyz_exit', 'typeclass': 'evennia.contrib.grid.xyzgrid.xyzroom.XYZExit', 'prototype_tags': ['xyzexit', 'module'], 'prototype_locks': 'spawn:all();edit:all()', 'prototype_desc': '', 'attrs': [('desc', 'An exit.', None, '')], 'tags': []}\r\n[..] <LinkNode '\u039e' XY=(19.5,1)>\r\n[..] {}\r\n[..] <LinkNode '\u039e' XY=(18.5,1)>\r\n[..] {}\r\n```\r\n\r\n\r\n***Original issue***\r\n\r\nI have my prototypes set up for the xyzcontrib according to the examples, e.g. this property on a node class:\r\n```python\r\n    prototype = {\r\n            \"prototype_parent\": \"xyz_room\",\r\n            \"key\": \"A bridge\",\r\n            \"desc\": \"A bridge over the river.\"\r\n        }\r\n```\r\nHowever, when the game goes to actually create the node, it generates this traceback:\r\n> 2022-12-22 16:02:06 [..]     raise MapError(\r\n> 2022-12-22 16:02:06 [..] evennia.contrib.grid.xyzgrid.utils.MapError: BridgeNode 'B' at XYZ=(19,1,riverport) The prototype {'prototype_key': 'prototype-15a452b', 'typeclass': 'evennia.contrib.grid.xyzgrid.xyzroom.XYZRoom', 'prototype_tags': [], 'key': 'A bridge', 'attrs': [('desc', 'A bridge over the river.', None, '')], 'prototype_locks': 'spawn:all();edit:all()', 'prototype_desc': '', 'tags': []} for this node has no 'typeclass' key.\r\n\r\nThe typeclass key is clearly there, and from the relevant code it's not clear why it would raise a false negative.\r\nhttps://github.com/evennia/evennia/blob/981dbc0d29469b759cdc9f3e1ce1b908f864b745/evennia/contrib/grid/xyzgrid/xymap_legend.py#L323-L327\r\n\r\n#### Environment, Evennia version, OS etc\r\nevennia 1.0.1, Windows 10\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3036", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3036/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3036/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3036/events", "html_url": "https://github.com/evennia/evennia/issues/3036", "id": 1503598930, "node_id": "I_kwDOAPX8f85ZnxlS", "number": 3036, "title": "[BUG] \"evennia xyzgrid help\" causes TypeError: NoneType takes no arguments", "user": {"login": "shogidude", "id": 94855537, "node_id": "U_kgDOBadhcQ", "avatar_url": "https://avatars.githubusercontent.com/u/94855537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shogidude", "html_url": "https://github.com/shogidude", "followers_url": "https://api.github.com/users/shogidude/followers", "following_url": "https://api.github.com/users/shogidude/following{/other_user}", "gists_url": "https://api.github.com/users/shogidude/gists{/gist_id}", "starred_url": "https://api.github.com/users/shogidude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shogidude/subscriptions", "organizations_url": "https://api.github.com/users/shogidude/orgs", "repos_url": "https://api.github.com/users/shogidude/repos", "events_url": "https://api.github.com/users/shogidude/events{/privacy}", "received_events_url": "https://api.github.com/users/shogidude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-19T21:05:32Z", "updated_at": "2022-12-23T15:43:02Z", "closed_at": "2022-12-23T15:43:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nFresh migration from git master to main and then installing xyzgrid prevents evennia xyzgrid commands from working. For example, \"evennia xyzgrid help\" causes TypeError: NoneType takes no arguments\r\n\r\n#### To Reproduce\r\n1. Migrated from git master branch to main branch for 1.x release of Evennia.\r\n2. Installed [extra](use to be in requirements_extra). \r\n\r\nAt this point, I can run the server and log in.\r\n\r\n3. Added the xyzgrid command set and restarted. \r\n\r\n'path', 'goto', 'map' are seen in the command list. The Limbo room does not have a map. Everything appears to work fine.\r\n\r\n4. Modify the server/conf/settings.py.\r\n\r\nxyzgrid is now available.\r\n\r\nWhen I use xyzgrid, such as 'evennia xyzgrid help', or any other xyzgrid command:\r\nTypeError: NoneType takes no arguments\r\n\r\n#### Expected behavior\r\n'evennia xyzgrid <command>' should call the xyzgrid command.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\n    Evennia 1.0.1 (rev 38011cc48d)\r\n    OS: nt\r\n    Python: 3.11.1\r\n    Twisted: 22.10.0\r\n    Django: 4.1.4\r\n\r\n#### Additional context\r\n\r\nThis is based off helix4's message in #general on discord. I added my current steps that seem to reproduce the same issue down below. Here is the original message from helix4, with steps for reproducing on the older version of the code.\r\n\r\nI am trying to test XYZGrid on a brand new install but failing. 1. cloned the single branch of evennia-develop, and initiated an evennia game. 2. installed requirements_extra, and migrated. I can run the server and log in. 3. i added the command set and reloadead, i see path, goto, map ingame. the Limbo room does not have a map. seems to work well. 4. modify the server/conf/settings.py, xyzgrid is now available.\r\n\r\nWhen I use xyzgrid, such as evennia xyzgrid help, or any other xyzgrid command:\r\n    from evennia.utils.eveditor import EvEditor\r\n  File \"/home/ubuntu/3ProjectMUD/evennia/evennia/utils/eveditor.py\", line 201, in <module>\r\n    class SaveYesNoCmdSet(CmdSet):\r\nTypeError: NoneType takes no arguments\r\n\r\nOriginal message\r\n\r\nhttps://discord.com/channels/246323978879107073/246323978879107073/937578545704730624\r\n\r\nGriatch's response\r\n\r\nhttps://discord.com/channels/246323978879107073/246323978879107073/937610453184561183\r\n\r\nSteps:\r\n\r\n1. Migrated from git master branch to main branch for 1.x release of Evennia.\r\n2. Installed [extra](use to be in requirements_extra). \r\n\r\nAt this point, I can run the server and log in.\r\n\r\n3. Added the xyzgrid command set and restarted. \r\n\r\n'path', 'goto', 'map' are seen in the command list. The Limbo room does not have a map. Everything appears to work fine.\r\n\r\n4. Modify the server/conf/settings.py.\r\n\r\nxyzgrid is now available.\r\n\r\nWhen I use xyzgrid, such as 'evennia xyzgrid help', or any other xyzgrid command:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\muddev\\evenv\\Scripts\\evennia_launcher.py\", line 18, in <module>\r\n    main()\r\n  File \"C:\\muddev\\evennia\\evennia\\server\\evennia_launcher.py\", line 2422, in main\r\n    if run_custom_commands(option, *unknown_args):\r\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\muddev\\evennia\\evennia\\server\\evennia_launcher.py\", line 2023, in run_custom_commands\r\n    mod = importlib.import_module(modpath)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n...\r\n\r\n  File \"<frozen importlib._bootstrap>\", line 1206, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1178, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1128, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1206, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1178, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1149, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 690, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 940, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"C:\\muddev\\evennia\\evennia\\contrib\\grid\\xyzgrid\\__init__.py\", line 6, in <module>\r\n    from . import commands  # noqa\r\n    ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\muddev\\evennia\\evennia\\contrib\\grid\\xyzgrid\\commands.py\", line 15, in <module>\r\n    from evennia.commands.default import building\r\n  File \"C:\\muddev\\evennia\\evennia\\commands\\default\\building.py\", line 14, in <module>\r\n    from evennia.prototypes import menus as olc_menus\r\n  File \"C:\\muddev\\evennia\\evennia\\prototypes\\menus.py\", line 20, in <module>\r\n    from evennia.utils.evmenu import EvMenu, list_node\r\n  File \"C:\\muddev\\evennia\\evennia\\utils\\evmenu.py\", line 350, in <module>\r\n    class CmdEvMenuNode(Command):\r\nTypeError: NoneType takes no arguments\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3036/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3036/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3035", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3035/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3035/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3035/events", "html_url": "https://github.com/evennia/evennia/issues/3035", "id": 1501639339, "node_id": "I_kwDOAPX8f85ZgTKr", "number": 3035, "title": "[BUG] Leading whitespace getting stripped from py shell input", "user": {"login": "JProffitt71", "id": 1316947, "node_id": "MDQ6VXNlcjEzMTY5NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1316947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JProffitt71", "html_url": "https://github.com/JProffitt71", "followers_url": "https://api.github.com/users/JProffitt71/followers", "following_url": "https://api.github.com/users/JProffitt71/following{/other_user}", "gists_url": "https://api.github.com/users/JProffitt71/gists{/gist_id}", "starred_url": "https://api.github.com/users/JProffitt71/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JProffitt71/subscriptions", "organizations_url": "https://api.github.com/users/JProffitt71/orgs", "repos_url": "https://api.github.com/users/JProffitt71/repos", "events_url": "https://api.github.com/users/JProffitt71/events{/privacy}", "received_events_url": "https://api.github.com/users/JProffitt71/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-17T23:34:58Z", "updated_at": "2022-12-23T16:11:40Z", "closed_at": "2022-12-23T16:11:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen you try to enter py code with indentation through the game client, the python shell responds with IndentationError as if you didn't add any indentation. This came up while following the [Beginner's Tutorial Part 1 Lesson 7](https://www.evennia.com/docs/latest/Howtos/Beginner-Tutorial/Part1/Beginner-Tutorial-Learning-Typeclasses.html)\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Log into the webclient (e.g. 127.0.0.1:4001/webclient/ on a local install) as an admin\r\n2. Enter \"py\" by itself to enter into the python shell\r\n3. Try to input the following code line by line:\r\n```python\r\nfor i in [0,1,2]:\r\n    print(i)\r\n```\r\n4. Outputs \"IndentationError: expected an indented block after 'for' statement on line 1\"\r\n\r\n#### Expected behavior\r\nOutput of:\r\n```\r\n0\r\n1\r\n2\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 1.0.1\r\n    OS: nt\r\n    Python: 3.11.0\r\n    Twisted: 22.10.0\r\n    Django: 4.1.4\r\n\r\n#### Additional context\r\nI inspected the websocket connection, and it appear the \"print\" line is being sent with leading whitespace, so the issue doesn't seem to be on the client side js.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3034", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3034/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3034/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3034/events", "html_url": "https://github.com/evennia/evennia/issues/3034", "id": 1501449719, "node_id": "I_kwDOAPX8f85Zfk33", "number": 3034, "title": "[BUG] AttributeProperties bypass at_get / at_set when using the AttributeHandler", "user": {"login": "BigJMoney", "id": 28933626, "node_id": "MDQ6VXNlcjI4OTMzNjI2", "avatar_url": "https://avatars.githubusercontent.com/u/28933626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BigJMoney", "html_url": "https://github.com/BigJMoney", "followers_url": "https://api.github.com/users/BigJMoney/followers", "following_url": "https://api.github.com/users/BigJMoney/following{/other_user}", "gists_url": "https://api.github.com/users/BigJMoney/gists{/gist_id}", "starred_url": "https://api.github.com/users/BigJMoney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BigJMoney/subscriptions", "organizations_url": "https://api.github.com/users/BigJMoney/orgs", "repos_url": "https://api.github.com/users/BigJMoney/repos", "events_url": "https://api.github.com/users/BigJMoney/events{/privacy}", "received_events_url": "https://api.github.com/users/BigJMoney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-17T15:43:11Z", "updated_at": "2023-02-25T19:23:35Z", "closed_at": "2023-02-25T19:23:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using the AttributeHandler to work with AttributeProperties, their at_get and at_set hook methods will not be called. This requires a programmer to know ahead of time (knowledge they very likely may not have) that some attribute they're accessing is an AttributeProperty, and must not use the AttributeHandler.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an AttributeProperty subclass called APChild\r\n2. Implement something in at_get() (ex. increase default value +1)\r\n3. Add an attribute to a game class that is an APChild object, called my_stat, with a default value\r\n4. Create an instance of the game class\r\n5. Access the my_stat attr directly\r\n6. Access the my_stat attr using the AttributeHandler (.db)\r\n\r\nRESULT: AttributeHandler returns the default value without the +1\r\n\r\n#### Expected behavior\r\nAttributeProperty would always run at_get when getting\r\n\r\n#### Environment, Evennia version, OS etc\r\nv1.0.1, Windows\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3029", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3029/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3029/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3029/events", "html_url": "https://github.com/evennia/evennia/issues/3029", "id": 1495220837, "node_id": "I_kwDOAPX8f85ZH0Jl", "number": 3029, "title": "[BUG] `CmdTeleport` permission checks fail for Builders", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-13T21:53:48Z", "updated_at": "2023-02-25T19:00:11Z", "closed_at": "2023-02-25T19:00:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe teleport command itself is, to the best of my knowledge, both defined and intended as a Builder-level tool. However, the actual teleport itself is locked behind Admin privileges or a `teleport` lock access.\r\n\r\nhttps://github.com/evennia/evennia/blob/981dbc0d29469b759cdc9f3e1ce1b908f864b745/evennia/commands/default/building.py#L3708\r\n\r\nAt a brief glance, this seems like it might be reasonable, but it has one very significant problem: this `teleport` permission is not added to any object, anywhere, in all of Evennia's core typeclasses. Since the default access result when no lock is found is `False`, this means that a Builder can't actually teleport anything - not even their own character - unless the object or character has explicitly had a lock added permitting it.\r\n\r\nThis causes a lot of confusion when trying to use the command as a Builder, in particular because the help string indicates that setting the lock is what you should do to _prevent_ an object from being teleported.\r\n\r\n#### Expected behavior\r\nIt's unclear what the intended purpose of the lock check with Admin bypass would be. If it's supposed to allow you to put a lock on particular objects to prevent builders from teleporting them, a `teleport:perm(Admin)` lock on the object would do the job better than hardcoding it.\r\n\r\nI would expect builders to be able to teleport all non-character and non-room objects by default, personally, so I think teleport locks should be added in the basetype setup methods. Something like `teleport:true()` for base objects, `teleport:perm(Admin) or id({id})` or similar for characters, `teleport:false()` for rooms.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3027", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3027/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3027/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3027/events", "html_url": "https://github.com/evennia/evennia/issues/3027", "id": 1493344578, "node_id": "I_kwDOAPX8f85ZAqFC", "number": 3027, "title": "[BUG] Using a key and no desc in EvMenu results in excess blank lines.", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-13T04:30:00Z", "updated_at": "2023-02-25T17:42:47Z", "closed_at": "2023-02-25T17:41:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen a menunode has options that have the `key` specified but no `desc`, the menu adds a number of extra blank lines after the options.\r\n\r\nThis was first identified in the \"confirm name\" step of the character creator contrib after the justify fix, but I've confirmed it with the following much simpler menu:\r\n\r\n```python\r\ndef menunode_start(caller):\r\n    text = \"Starting node.\"\r\n    options = {\"desc\": \"Start\", \"goto\": \"menunode_no_descs\"}\r\n    return text, options\r\n\r\ndef menunode_no_descs(caller, raw_string, **kwargs):\r\n    text = \"A node with an option that has no desc.\"\r\n    options = {\"key\": \"Continue\", \"goto\": \"menunode_end\"}\r\n    return text, options\r\n\r\ndef menunode_end(caller, raw_string, **kwargs):\r\n    text = \"The end.\"\r\n    return text, None\r\n```\r\n\r\n#### To Reproduce\r\n1. Set up a menu with the nodes above.\r\n2. On node 2, you should notice at least half a dozen blank lines after the `Continue` prompt.\r\n\r\n#### Environment, Evennia version, OS etc\r\nevennia 1.0.1\r\n\r\n#### Additional context\r\nSee also #3024", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3024", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3024/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3024/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3024/events", "html_url": "https://github.com/evennia/evennia/issues/3024", "id": 1487477295, "node_id": "I_kwDOAPX8f85YqRov", "number": 3024, "title": "[BUG] Lots of blank lines in EvMenu", "user": {"login": "0bviouSquirre1", "id": 41396915, "node_id": "MDQ6VXNlcjQxMzk2OTE1", "avatar_url": "https://avatars.githubusercontent.com/u/41396915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0bviouSquirre1", "html_url": "https://github.com/0bviouSquirre1", "followers_url": "https://api.github.com/users/0bviouSquirre1/followers", "following_url": "https://api.github.com/users/0bviouSquirre1/following{/other_user}", "gists_url": "https://api.github.com/users/0bviouSquirre1/gists{/gist_id}", "starred_url": "https://api.github.com/users/0bviouSquirre1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0bviouSquirre1/subscriptions", "organizations_url": "https://api.github.com/users/0bviouSquirre1/orgs", "repos_url": "https://api.github.com/users/0bviouSquirre1/repos", "events_url": "https://api.github.com/users/0bviouSquirre1/events{/privacy}", "received_events_url": "https://api.github.com/users/0bviouSquirre1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-09T21:32:01Z", "updated_at": "2022-12-13T00:40:05Z", "closed_at": "2022-12-09T23:05:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using the Character Creator contrib fresh out of the box, at the step where you choose a name, the name check pauses for a moment, then outputs a whole screen of blank lines. I can scroll back up to see that it's finished, and can continue on after that. This is a known EvMenu issue, I just found it using the CC contrib.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Install Character Creator Contrib\r\n2. Run evennia and create a new character\r\n3. Progress through and enter a name for your character\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe output should appear on the screen with no extraneous blank space.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0.1\r\nOS: posix\r\nPython: 3.11.0rc2\r\nTwisted: 22.10.0\r\nDjango: 4.1.4\r\n\r\n#### Additional context\r\nUpdated info on 12/12", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3024/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3023", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3023/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3023/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3023/events", "html_url": "https://github.com/evennia/evennia/issues/3023", "id": 1483529967, "node_id": "I_kwDOAPX8f85YbN7v", "number": 3023, "title": "[BUG] \"puppet me\" throws an unhandled exception", "user": {"login": "chiizujin", "id": 1300745, "node_id": "MDQ6VXNlcjEzMDA3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1300745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chiizujin", "html_url": "https://github.com/chiizujin", "followers_url": "https://api.github.com/users/chiizujin/followers", "following_url": "https://api.github.com/users/chiizujin/following{/other_user}", "gists_url": "https://api.github.com/users/chiizujin/gists{/gist_id}", "starred_url": "https://api.github.com/users/chiizujin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chiizujin/subscriptions", "organizations_url": "https://api.github.com/users/chiizujin/orgs", "repos_url": "https://api.github.com/users/chiizujin/repos", "events_url": "https://api.github.com/users/chiizujin/events{/privacy}", "received_events_url": "https://api.github.com/users/chiizujin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-08T03:46:19Z", "updated_at": "2022-12-09T23:12:41Z", "closed_at": "2022-12-09T23:12:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIssuing the command `puppet me` throws the following unhandled exception:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/src/evennia/evennia/commands/cmdhandler.py\", line 624, in _run_command\r\n    ret = cmd.func()\r\n          ^^^^^^^^^^\r\n  File \"/usr/src/evennia/evennia/commands/default/account.py\", line 319, in func\r\n    character_candidates.extend(\r\nTypeError: 'Account' object is not iterable\r\n\r\nAn untrapped error occurred.\r\n```\r\n#### To Reproduce\r\n1. Connect to the server (superuser or player)\r\n2. Use `puppet me`\r\n\r\n#### Expected behavior\r\nI'm not sure what the intended behaviour  of typing `puppet me` is, other than not throwing an exception.\r\n\r\n#### Environment\r\nEvennia version: 1.0.1\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3021", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3021/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3021/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3021/events", "html_url": "https://github.com/evennia/evennia/issues/3021", "id": 1483116925, "node_id": "I_kwDOAPX8f85YZpF9", "number": 3021, "title": "[BUG] Discord Integration - still creating 2 sessions every time it reconnects", "user": {"login": "ShardsDev", "id": 56969683, "node_id": "MDQ6VXNlcjU2OTY5Njgz", "avatar_url": "https://avatars.githubusercontent.com/u/56969683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShardsDev", "html_url": "https://github.com/ShardsDev", "followers_url": "https://api.github.com/users/ShardsDev/followers", "following_url": "https://api.github.com/users/ShardsDev/following{/other_user}", "gists_url": "https://api.github.com/users/ShardsDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShardsDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShardsDev/subscriptions", "organizations_url": "https://api.github.com/users/ShardsDev/orgs", "repos_url": "https://api.github.com/users/ShardsDev/repos", "events_url": "https://api.github.com/users/ShardsDev/events{/privacy}", "received_events_url": "https://api.github.com/users/ShardsDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-12-07T23:40:23Z", "updated_at": "2022-12-14T21:28:53Z", "closed_at": "2022-12-14T21:28:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI have enabled discord integration with one channel in evennia to one channel in discord. It works well, but when it sits idle it manages to reconnect 2 sessions every time it disconnects. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. follow the steps to create an evennia-discord integration\r\n2.set up one channel in evennia to connect to one on a discord server\r\n3. wait\r\n4. See error\r\n```\r\n+--------------+--------+------+------------+--------+------+----------+------------+\r\n| Account Name | On for | Idle | Puppeting  | Room   | Cmds | Protocol | Host       |\r\n+--------------+--------+------+------------+--------+------+----------+------------+\r\n| DiscordBot   | 00:19  | 19m  | None       | None   | 1    | discord  | discord.gg |\r\n| DiscordBot   | 00:02  | 2m   | None       | None   | 1    | discord  | discord.gg |\r\n| DiscordBot   | 00:02  | 2m   | None       | None   | 1    | discord  | discord.gg |\r\n| Zephyr       | 02:28  | 4m   | Zephyr(#3) | RP Hub | 7    | telnet   | 127.0.0.1  |\r\n+--------------+--------+------+------------+--------+------+----------+------------+\r\n```\r\n```\r\n2 unique players logged in.\r\n--------------------------------------------------------------------------------------\r\n|Portal| 2022-12-07 15:51:16 [..] Portal starting server ... \r\n|Portal| 2022-12-07 15:51:17 [..] Connecting to Discord Gateway...\r\n|Portal| 2022-12-07 15:51:17 [..] Attempting connection to Discord...\r\n|Portal| 2022-12-07 17:08:05 [..] Discord disconnected: connection was closed uncleanly (peer dropped the TCP connection without previous WebSocket closing handshake)\r\n|Portal| 2022-12-07 17:08:06 [..] Attempting connection to Discord...\r\n|Portal| 2022-12-07 18:00:56 [..] Discord: received 'Reconnect' opcode. Reconnecting.\r\n|Portal| 2022-12-07 18:00:56 [..] Attempting connection to Discord...\r\n|Portal| 2022-12-07 18:00:56 [..] Discord disconnected: connection was closed uncleanly (peer dropped the TCP connection without previous WebSocket closing handshake)\r\n|Portal| 2022-12-07 18:00:58 [..] Attempting connection to Discord...\r\n|Portal| 2022-12-07 18:17:25 [..] Discord: received 'Reconnect' opcode. Reconnecting.\r\n|Portal| 2022-12-07 18:17:25 [..] Attempting connection to Discord...\r\n|Portal| 2022-12-07 18:17:25 [..] Discord disconnected: connection was closed uncleanly (peer dropped the TCP connection without previous WebSocket closing handshake)\r\n|Portal| 2022-12-07 18:17:28 [..] Attempting connection to Discord...\r\n```\r\n\r\n#### Expected behavior\r\nwhen the discord integration times out, it should disconnect and only reconnect once.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia version: 1.0.1 (rev fd0abb4520)\r\nOS: posix\r\nPython: 3.11.0rc1\r\nTwisted: 22.10.0\r\nDjango: 4.1.3\r\n```\r\n#### Additional context\r\nIs there maybe some timing issue? or did I mess something up?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3021/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3019", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3019/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3019/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3019/events", "html_url": "https://github.com/evennia/evennia/issues/3019", "id": 1477446211, "node_id": "I_kwDOAPX8f85YEApD", "number": 3019, "title": "[BUG] Line-break issues with EvMenu options rendering", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-05T21:10:37Z", "updated_at": "2022-12-07T19:40:57Z", "closed_at": "2022-12-07T19:40:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nSome menu nodes seem to be inserting extra line breaks into options; it's unclear why.\r\n\r\nI tested it using the Character Creator contrib's [example menu](https://github.com/evennia/evennia/blob/main/evennia/contrib/rpg/character_creator/example_menu.py) (which all rendered correctly previously) in a clean game.\r\n\r\nThese are two basic examples of the erroneous line breaks:\r\n![image](https://user-images.githubusercontent.com/51038201/205742084-2ca5cfd3-8a32-4959-a84a-16154b6fa3f8.png)\r\n![image](https://user-images.githubusercontent.com/51038201/205742100-e9869103-a876-4650-9399-6984e3cd24ac.png)\r\n\r\nThe penultimate node, confirming your character name, broke in an especially spectacular way. The options rendered very badly, and then it was followed by a massive quantity of blank lines.\r\n\r\nCompare the position of the scroll bar marker in these two images:\r\n![image](https://user-images.githubusercontent.com/51038201/205742707-f04932d2-43da-4f6d-bf41-e2ed1a51c179.png)\r\n![image](https://user-images.githubusercontent.com/51038201/205742804-a109f8f8-1c99-4049-a22b-fa891610922b.png)\r\n\r\n#### Environment, Evennia version, OS etc\r\nWindows 10, the current pip release of evennia.\r\n\r\n#### Additional context\r\nOriginally reported on Discord by owllex, who is also on the current release and is using WSL.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3019/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3015", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3015/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3015/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3015/events", "html_url": "https://github.com/evennia/evennia/issues/3015", "id": 1473671413, "node_id": "I_kwDOAPX8f85X1nD1", "number": 3015, "title": "[BUG - Develop] discord integration multiple connections", "user": {"login": "ShardsDev", "id": 56969683, "node_id": "MDQ6VXNlcjU2OTY5Njgz", "avatar_url": "https://avatars.githubusercontent.com/u/56969683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShardsDev", "html_url": "https://github.com/ShardsDev", "followers_url": "https://api.github.com/users/ShardsDev/followers", "following_url": "https://api.github.com/users/ShardsDev/following{/other_user}", "gists_url": "https://api.github.com/users/ShardsDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShardsDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShardsDev/subscriptions", "organizations_url": "https://api.github.com/users/ShardsDev/orgs", "repos_url": "https://api.github.com/users/ShardsDev/repos", "events_url": "https://api.github.com/users/ShardsDev/events{/privacy}", "received_events_url": "https://api.github.com/users/ShardsDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-03T02:44:55Z", "updated_at": "2022-12-04T09:45:48Z", "closed_at": "2022-12-04T09:45:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI pulled the latest discord patch. it has successfully removed the traceback, but now it ends up sending each message 3 times. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. set up discord integration, including a bot. \r\n2. leave your evennia game idle for a bit. \r\n3. watch the discord bot connect, disconnect, connect, connect, disconnect, etc.  I am now up to 4 discordbots logged in. They're multiplying.\r\n4. See error when you then try to say something.\r\n[Mudinfo] [2022-12-02(20:47)]: DiscordBot disconnected ()\r\n[Mudinfo] [2022-12-02(20:47)]: DiscordBot connected\r\n[Mudinfo] [2022-12-02(20:47)]: DiscordBot connected\r\n--------- New Activity ---------\r\n[Mudinfo] [2022-12-02(21:05)]: DiscordBot disconnected ()\r\n[Mudinfo] [2022-12-02(21:05)]: DiscordBot connected\r\n[Mudinfo] [2022-12-02(21:05)]: DiscordBot connected\r\n[Mudinfo] [2022-12-02(21:05)]: DiscordBot disconnected ()\r\n[Mudinfo] [2022-12-02(21:05)]: DiscordBot connected\r\n[Public] Radiance(#1) yays. it workssssss.\r\non discord:\r\n[Public] Radiance yays. it workssssss.\r\n[Public] Radiance yays. it workssssss.\r\n[Public] Radiance yays. it workssssss.\r\nAmethyst \u2014 Today at 9:37 PM\r\nfacepalm.\r\nand then back on Evennia\r\n[Public] [#chat] Amethyst: facepalm.\r\n[Public] [#chat] Amethyst: facepalm.\r\n[Public] [#chat] Amethyst: facepalm.\r\n\r\n#### Expected behavior\r\nI think the discord bot should reconnect only as many times as it disconnects.\r\n\r\n#### Develop-branch commit\r\nEvennia version: 1.0-dev (rev 06be8e4b29)\r\n\r\n#### Additional context\r\nNo clue how to fix, but thought I would raise this for someone to take a look at when there's time.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3015/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3014", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3014/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3014/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3014/events", "html_url": "https://github.com/evennia/evennia/issues/3014", "id": 1473574493, "node_id": "I_kwDOAPX8f85X1PZd", "number": 3014, "title": "[BUG - Develop] `evennia test` running with the wrong project root", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-02T23:29:30Z", "updated_at": "2022-12-03T11:40:29Z", "closed_at": "2022-12-03T11:40:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen running `evennia test` on your own gamedir, the parent directory is used as the project root instead of your game's folder. This results in any relative path imports involving typeclasses creating conflicting model tracebacks.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add a super basic test to a clean install, like:\r\n```python\r\n# file typeclasses/tests.py\r\n\r\nfrom evennia.utils.test_resources import BaseEvenniaTest\r\n\r\nfrom . import objects\r\n\r\nclass TestTesting(BaseEvenniaTest):\r\n    def test_testing_stuff(self):\r\n        self.assertTrue(True)\r\n```\r\n2. Run `evennia test --settings=settings .` from your game's root directory\r\n3. Instead of passing or even running the test, it will traceback with the ultimate error of:\r\n```\r\nRuntimeError: Conflicting 'object' models in application 'objects': <class 'TestGame.typeclasses.objects.Object'> and <class 'typeclasses.objects.Object'>.\r\n```\r\n\r\n#### Expected behavior\r\nThis used to work correctly with the game's root folder being identified as the project root, the same as it is for the game's code itself.\r\n\r\n#### Develop-branch commit\r\n1271764100\r\n\r\n#### Additional context\r\nI tried this on both the new pip install and on the from-git install, on both Windows 10 and on Debian Linux, with the same results.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/3007", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/3007/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/3007/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/3007/events", "html_url": "https://github.com/evennia/evennia/issues/3007", "id": 1472006454, "node_id": "I_kwDOAPX8f85XvQk2", "number": 3007, "title": "_SaverSet doesn't contain the core Python set functionality.", "user": {"login": "BigJMoney", "id": 28933626, "node_id": "MDQ6VXNlcjI4OTMzNjI2", "avatar_url": "https://avatars.githubusercontent.com/u/28933626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BigJMoney", "html_url": "https://github.com/BigJMoney", "followers_url": "https://api.github.com/users/BigJMoney/followers", "following_url": "https://api.github.com/users/BigJMoney/following{/other_user}", "gists_url": "https://api.github.com/users/BigJMoney/gists{/gist_id}", "starred_url": "https://api.github.com/users/BigJMoney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BigJMoney/subscriptions", "organizations_url": "https://api.github.com/users/BigJMoney/orgs", "repos_url": "https://api.github.com/users/BigJMoney/repos", "events_url": "https://api.github.com/users/BigJMoney/events{/privacy}", "received_events_url": "https://api.github.com/users/BigJMoney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-01T21:56:16Z", "updated_at": "2022-12-03T12:04:59Z", "closed_at": "2022-12-03T12:04:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n_SaverSet doesn't contain all basic Python set functionality. There are methods that are normally available from a Python set, which are not available on _SaverSet.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a _SaverSet instance (happens naturally if an typeclassed object attribute is set to store a new set() or {'example', 'set'}, and then the attribute is accessed)\r\n2. Call the difference() method from the _SaverSet instance; ex. myset.difference({'other', 'set'})\r\n\r\nRESULT: AttributeError: '_SaverSet' object has no attribute 'difference'\r\n\r\n#### Expected behavior\r\n_SaverSet has the same basic features as the Python 'set' iterable object. In this example repro, the difference() method would run without any errors.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEv 0.95, Python 3.9, Windows\r\n\r\n#### Additional context\r\nBug report requested by Griatch\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/3007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/3007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2998", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2998/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2998/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2998/events", "html_url": "https://github.com/evennia/evennia/issues/2998", "id": 1465037897, "node_id": "I_kwDOAPX8f85XUrRJ", "number": 2998, "title": "[BUG - Develop] \"no_prefix\" kwarg has no effect on `at_pre_channel_msg`", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-26T04:00:00Z", "updated_at": "2022-11-26T22:26:19Z", "closed_at": "2022-11-26T22:25:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nPassing `no_prefix=True` to the `at_pre_channel_msg` hook on accounts does not prevent the addition of the channel prefix.\r\n\r\n#### To Reproduce\r\nI used the following py command in-game to reproduce.\r\n`py from evennia import DefaultAccount, search_channel; chan = search_channel(\"Public\")[0]; print(DefaultAccount.at_pre_channel_msg(me, \"test\", chan, senders=[me], no_prefix=True))`\r\n\r\nThe output:\r\n> `[Public] admin(#1): test`\r\n\r\n#### Expected behavior\r\nAccording to the documentation, this kwarg should prevent the channel prefix of `[Public]` from being added.\r\n\r\n#### Develop-branch commit\r\n4f09ef9c05\r\n\r\n#### Additional context\r\nI'm about to submit a patch to fix this; posting this issue for record-keeping since I already had it typed up.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2995", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2995/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2995/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2995/events", "html_url": "https://github.com/evennia/evennia/issues/2995", "id": 1462766925, "node_id": "I_kwDOAPX8f85XMA1N", "number": 2995, "title": "[BUG - Develop] Channels can't be searched by ID", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-24T05:06:59Z", "updated_at": "2022-11-25T11:13:56Z", "closed_at": "2022-11-25T11:13:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAll attempts to use `search_channel` to find a channel by its ID fail, either with zero results or a traceback.\r\n\r\n#### To Reproduce\r\nThe simplest way is using `py` in game.\r\n ```py\r\n>>> evennia.search_channel('pub')\r\n<QuerySet [Public]>\r\n>>> evennia.search_channel('pub')[0].id\r\n2\r\n>>> evennia.search_channel(2)\r\n<QuerySet []>\r\n>>> evennia.search_channel('2')\r\n<QuerySet []>\r\n>>> evennia.search_channel('#2')\r\n  File \"./evennia/evennia/comms/managers.py\", line 432, in search_channel\r\n    dbref_match = self.search_dbref(dbref)\r\nAttributeError: 'ChannelDBManager' object has no attribute 'search_dbref'\r\n```\r\n#### Expected behavior\r\nI should be able to search for a channel by its ID.\r\n\r\n#### Develop-branch commit\r\n796bf543c5\r\n\r\n#### Additional context\r\nAs a related note, since the `channel_msg` hook adds the `from_channel` identifier on as the channel's numeric ID, this makes it very difficult to actually use that identifier.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2991", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2991/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2991/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2991/events", "html_url": "https://github.com/evennia/evennia/issues/2991", "id": 1459027009, "node_id": "I_kwDOAPX8f85W9vxB", "number": 2991, "title": "[BUG - Develop] Extra or missing space before permissions in quell/unquell output", "user": {"login": "chiizujin", "id": 1300745, "node_id": "MDQ6VXNlcjEzMDA3NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1300745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chiizujin", "html_url": "https://github.com/chiizujin", "followers_url": "https://api.github.com/users/chiizujin/followers", "following_url": "https://api.github.com/users/chiizujin/following{/other_user}", "gists_url": "https://api.github.com/users/chiizujin/gists{/gist_id}", "starred_url": "https://api.github.com/users/chiizujin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chiizujin/subscriptions", "organizations_url": "https://api.github.com/users/chiizujin/orgs", "repos_url": "https://api.github.com/users/chiizujin/repos", "events_url": "https://api.github.com/users/chiizujin/events{/privacy}", "received_events_url": "https://api.github.com/users/chiizujin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-22T04:15:58Z", "updated_at": "2022-11-25T11:21:16Z", "closed_at": "2022-11-25T11:21:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n- When using quell/unquell as a superuser, there is an extra space before \"(superuser)\".\r\n- When using quell in OOC mode as a normal player, there is no space before \"(player)\"\r\n\r\n#### To Reproduce\r\n1. use \"quell\" or \"unquell\" as a superuser.\r\n2. See the extra space before \"(superuser)\"\r\n\r\nand:\r\n\r\n1. Create a normal player account.\r\n2. Use the \"ooc\" command.\r\n3. Use quell.\r\n4. See the missing space before \"(player)\"\r\n\r\n#### Additional context\r\nTo fix this, commands/default/account.py needs changing as below:\r\n\r\nChange:\r\n`account.is_superuser and \" (superuser)\" or \"(%s)\" % \", \".join(account.permissions.all())`\r\nto:\r\n`account.is_superuser and \"(superuser)\" or \"(%s)\" % \", \".join(account.permissions.all())`\r\n\r\nChange:\r\n`self.msg(f\"Quelling Account permissions{permstr}. Use unquell to get them back.\")`\r\nto:\r\n`self.msg(f\"Quelling Account permissions {permstr}. Use unquell to get them back.\")`\r\n\r\nThere is also a minor thing in the same function that doesn't actually cause an issue. The line:\r\n\r\n`if self.cmdstring in (\"unquell\", \"unquell\"):`\r\n\r\nchecks \"unquell\" twice.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2991/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2986", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2986/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2986/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2986/events", "html_url": "https://github.com/evennia/evennia/issues/2986", "id": 1456668122, "node_id": "I_kwDOAPX8f85W0v3a", "number": 2986, "title": "[BUG - Develop] EvTable is stripping color codes ", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-19T21:30:35Z", "updated_at": "2022-11-27T17:30:13Z", "closed_at": "2022-11-27T17:30:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAll color formats are being stripped from EvTable.\r\n\r\n#### To Reproduce\r\nAdd and execute the command class provided below - the same strings are being used for both outputs, but the table has no colors.\r\n\r\n```python\r\nclass TableTest(Command):\r\n    key = \"tabletest\"\r\n    def func(self):\r\n        from evennia.utils.evtable import EvTable\r\n        \r\n        table = EvTable()\r\n        row1 = \"|cAn entire colored row|n\"\r\n        row2 = \"A single |rred|n word\"\r\n        \r\n        self.caller.msg(f\"The strings:\\n{row1}\\n{row2}\")\r\n        self.caller.msg(\"\\nThe table:\")\r\n        table.add_row(row1)\r\n        table.add_row(row2)\r\n        self.caller.msg(table)\r\n```\r\n![image](https://user-images.githubusercontent.com/51038201/202872309-b3c543d9-74f5-4f1e-a47b-547435b5dc68.png)\r\n\r\n#### Develop-branch commit\r\nc75708a32\r\n\r\n#### Additional context\r\nReported by Lundex on Discord", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2983", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2983/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2983/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2983/events", "html_url": "https://github.com/evennia/evennia/issues/2983", "id": 1447063264, "node_id": "I_kwDOAPX8f85WQG7g", "number": 2983, "title": "[BUG - Develop] Module defining a global script cannot import a name from a module that references the script (via settings.py)", "user": {"login": "BigJMoney", "id": 28933626, "node_id": "MDQ6VXNlcjI4OTMzNjI2", "avatar_url": "https://avatars.githubusercontent.com/u/28933626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BigJMoney", "html_url": "https://github.com/BigJMoney", "followers_url": "https://api.github.com/users/BigJMoney/followers", "following_url": "https://api.github.com/users/BigJMoney/following{/other_user}", "gists_url": "https://api.github.com/users/BigJMoney/gists{/gist_id}", "starred_url": "https://api.github.com/users/BigJMoney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BigJMoney/subscriptions", "organizations_url": "https://api.github.com/users/BigJMoney/orgs", "repos_url": "https://api.github.com/users/BigJMoney/repos", "events_url": "https://api.github.com/users/BigJMoney/events{/privacy}", "received_events_url": "https://api.github.com/users/BigJMoney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-13T20:05:15Z", "updated_at": "2022-11-15T21:07:30Z", "closed_at": "2022-11-15T21:05:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nIf you have a module that defines a global script stored in the settings file, you cannot import a name from another module that accesses that script from the settings file.\r\n\r\n#### To Reproduce\r\n1. Start with new server, then 'evennia migrate'\r\n2. Set up these files:\r\n\r\nFile1.py\r\n```\r\nfrom evennia.utils.containers import GLOBAL_SCRIPTS\r\n\r\nTEST_SCRIPT = GLOBAL_SCRIPTS.my_test_script\r\n\r\nclass TestClass:\r\n    pass\r\n```\r\n\r\nFile2.py\r\n```\r\nfrom typeclasses.scripts import Script\r\nfrom file1 import TestClass\r\n\r\nclass MyTestScript(Script):\r\n    pass\r\n```\r\n\r\nsettings.py\r\n```\r\nGLOBAL_SCRIPTS = {\r\n    'my_test_script': {\r\n        'typeclass': 'file2.MyTestScript',\r\n        'persistent': True\r\n    }\r\n}\r\n```\r\n3. Run 'evennia start'\r\n\r\n#### Result\r\nThe evennia launcher crashes very early with:\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\evdev\\evennia\\bin\\windows\\evennia_launcher.py\", line 18, in <module>\r\n    main()\r\n  File \"D:\\evdev\\evennia\\evennia\\server\\evennia_launcher.py\", line 2305, in main\r\n    init_game_directory(CURRENT_DIR, check_db=True)\r\n  File \"D:\\evdev\\evennia\\evennia\\server\\evennia_launcher.py\", line 1793, in init_game_directory\r\n    check_database()\r\n  File \"D:\\evdev\\evennia\\evennia\\server\\evennia_launcher.py\", line 1494, in check_database\r\n    evennia._init()\r\n  File \"D:\\evdev\\evennia\\evennia\\__init__.py\", line 363, in _init\r\n    GLOBAL_SCRIPTS.start()\r\n  File \"D:\\evdev\\evennia\\evennia\\utils\\containers.py\", line 185, in start\r\n    self.load_data()\r\n  File \"D:\\evdev\\evennia\\evennia\\utils\\containers.py\", line 208, in load_data\r\n    self.typeclass_storage[key] = class_from_module(\r\n  File \"D:\\evdev\\evennia\\evennia\\utils\\utils.py\", line 1600, in class_from_module\r\n    mod = importlib.import_module(testpath, package=\"evennia\")\r\n  File \"C:\\Python\\Python39\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 855, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"D:\\evdev\\Passage\\file2.py\", line 3, in <module>\r\n    import file1\r\n  File \"D:\\evdev\\Passage\\file1.py\", line 3, in <module>\r\n    TEST_SCRIPT = GLOBAL_SCRIPTS.my_test_script\r\n  File \"D:\\evdev\\evennia\\evennia\\utils\\containers.py\", line 56, in __getattr__\r\n    return self.get(key)\r\n  File \"D:\\evdev\\evennia\\evennia\\utils\\containers.py\", line 230, in get\r\n    return self._load_script(key) or default\r\n  File \"D:\\evdev\\evennia\\evennia\\utils\\containers.py\", line 137, in _load_script\r\n    typeclass = self.typeclass_storage[key]\r\nKeyError: 'my_test_script'\r\n```\r\n\r\nProcess finished with exit code 1\r\n\r\n#### Expected behavior\r\nEvennia starts, and the imports resolve (I don't think they should be considered cyclical)\r\n\r\n#### Workaround\r\nGet rid of the import statement in File2, or to not access GLOBAL_SCRIPTS.my_test_script in File1. Sometimes I am successful changing the import from the form 'from file1 import TestClass' to 'import file1', but in the exact test case above, this workaround isn't working.\r\n\r\n#### Develop-branch commit\r\nrev 5d0fe2e38\r\n\r\n#### Additional context\r\nThis is similar to #2334 but that bug assumes the cyclic import is actually cyclic. Also, I notice that I still get the above KeyError crash (rather than some error message from Evennia).\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2982", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2982/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2982/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2982/events", "html_url": "https://github.com/evennia/evennia/issues/2982", "id": 1447057139, "node_id": "I_kwDOAPX8f85WQFbz", "number": 2982, "title": "[BUG - Develop] win32api version upgrade requirement message is out of date", "user": {"login": "BigJMoney", "id": 28933626, "node_id": "MDQ6VXNlcjI4OTMzNjI2", "avatar_url": "https://avatars.githubusercontent.com/u/28933626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BigJMoney", "html_url": "https://github.com/BigJMoney", "followers_url": "https://api.github.com/users/BigJMoney/followers", "following_url": "https://api.github.com/users/BigJMoney/following{/other_user}", "gists_url": "https://api.github.com/users/BigJMoney/gists{/gist_id}", "starred_url": "https://api.github.com/users/BigJMoney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BigJMoney/subscriptions", "organizations_url": "https://api.github.com/users/BigJMoney/orgs", "repos_url": "https://api.github.com/users/BigJMoney/repos", "events_url": "https://api.github.com/users/BigJMoney/events{/privacy}", "received_events_url": "https://api.github.com/users/BigJMoney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-13T19:46:53Z", "updated_at": "2022-11-15T20:25:18Z", "closed_at": "2022-11-15T20:25:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen the user needs a newer version of win32api for Twisted, the message given to them has out of date instructions.\r\n\r\nThe instructions are:\r\n```\r\nERROR: Unable to import win32api, which Twisted requires to run.\r\nYou may download it from:\r\n\r\nhttp://sourceforge.net/projects/pywin32/files/pywin32/\r\n\r\nIf you are running in a virtual environment, browse to the\r\nlocation of the latest win32api exe file for your computer and\r\nPython version and copy the url to it; then paste it into a call\r\nto easy_install:\r\n\r\neasy_install http://<url to win32api exe>\r\n```\r\n\r\nThey should be:\r\n```\r\nERROR: Unable to import win32api, which Twisted requires to run.\r\nYou may download it via pip in the Python environment (main or virtual) you use to run Evennia:\r\n\r\npip install pywin32 --upgrade\r\n```\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Have a python environment with pywin302 or older\r\n2. Get latest development\r\n3. Run evennia migrate\r\n4. See error\r\n\r\n#### Expected behavior\r\n<!--(Add a clear and concise description of what you expected to happen.)-->\r\n\r\n#### Develop-branch commit\r\nrev 5d0fe2e38\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2982/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2981", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2981/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2981/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2981/events", "html_url": "https://github.com/evennia/evennia/issues/2981", "id": 1446736348, "node_id": "I_kwDOAPX8f85WO3Hc", "number": 2981, "title": "[BUG - Develop] MENU_LOGIN hangs server at login", "user": {"login": "Antrare", "id": 8153375, "node_id": "MDQ6VXNlcjgxNTMzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/8153375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Antrare", "html_url": "https://github.com/Antrare", "followers_url": "https://api.github.com/users/Antrare/followers", "following_url": "https://api.github.com/users/Antrare/following{/other_user}", "gists_url": "https://api.github.com/users/Antrare/gists{/gist_id}", "starred_url": "https://api.github.com/users/Antrare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Antrare/subscriptions", "organizations_url": "https://api.github.com/users/Antrare/orgs", "repos_url": "https://api.github.com/users/Antrare/repos", "events_url": "https://api.github.com/users/Antrare/events{/privacy}", "received_events_url": "https://api.github.com/users/Antrare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-13T05:03:06Z", "updated_at": "2022-11-13T19:32:54Z", "closed_at": "2022-11-13T19:32:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nEvennia Server appears to hang upon login (new user & existing) when using the MENU_LOGIN contrib.\r\n\r\nTOP shows twistd maxing out CPU at the time.\r\n\r\nServer log shows both Authentication success & Login lines immediately\r\n\r\nI was using the contrib prior to upgrading to 1.0 and it was not causing this issue.  \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Enable EVMENU by adding the following lines into conf/settings.py\r\nCMDSET_UNLOGGEDIN = \"evennia.contrib.base_systems.menu_login.UnloggedinCmdSet\"\r\nCONNECTION_SCREEN_MODULE = \"evennia.contrib.base_systems.menu_login.connection_screens\"\r\n3. Reload the server\r\n4. Attempt to login.\r\n\r\n#### Expected behavior\r\nNormal login performance.\r\n\r\n#### Develop-branch commit\r\n(evenv) root@li2133-155:~/evriftmud/RiftMud/server/logs# evennia -v\r\n\r\n    Evennia 1.0-dev (rev 4b6ee288c) (rev 4b6ee288c)\r\n    OS: posix\r\n    Python: 3.10.8\r\n    Twisted: 21.7.0\r\n    Django: 4.0.8\r\n\r\n\r\n#### Additional context\r\nNone.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2981/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2972", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2972/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2972/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2972/events", "html_url": "https://github.com/evennia/evennia/issues/2972", "id": 1434851945, "node_id": "I_kwDOAPX8f85Vhhpp", "number": 2972, "title": "[BUG] Serializing invalid JSON results in silent failure.", "user": {"login": "rowebb", "id": 1274082, "node_id": "MDQ6VXNlcjEyNzQwODI=", "avatar_url": "https://avatars.githubusercontent.com/u/1274082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rowebb", "html_url": "https://github.com/rowebb", "followers_url": "https://api.github.com/users/rowebb/followers", "following_url": "https://api.github.com/users/rowebb/following{/other_user}", "gists_url": "https://api.github.com/users/rowebb/gists{/gist_id}", "starred_url": "https://api.github.com/users/rowebb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rowebb/subscriptions", "organizations_url": "https://api.github.com/users/rowebb/orgs", "repos_url": "https://api.github.com/users/rowebb/repos", "events_url": "https://api.github.com/users/rowebb/events{/privacy}", "received_events_url": "https://api.github.com/users/rowebb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-11-03T15:25:27Z", "updated_at": "2022-11-30T22:20:54Z", "closed_at": "2022-11-30T22:20:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen sending OOB data to a Character, if the data that is being serialized to JSON contains data that does not \"cleanly\" serialize to a string/JSON structure, the web client will appear to never receive the message (probably blocked on the web client end for being invalid JSON). This manifests as a silent failure with no indication as to why the message was never received on the web client end (save for maybe a message in the debug console).\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\nDefine an enum to use:\r\n```python\r\nfrom enum import Enum\r\nclass ValueType(Enum):\r\n    VALUE_1 = 1\r\n    VALUE_2 = 2\r\n```\r\nNow use the enum in a payload to send to the client via:\r\n`\r\nclient.msg(cmd_name={\"data\": ValueType.VALUE_1})\r\n`\r\nThis will result in no error being thrown and no message received on the Evennia.js end.\r\n\r\n#### Expected behavior\r\nI would expect the msg() method to throw an error if it was generating invalid JSON before it sent it off to the web client.\r\n\r\n#### Environment, Evennia version, OS etc\r\nUsing the evennia docker image:\r\n    Evennia 0.9.5\r\n    OS: posix\r\n    Python: 3.7.15\r\n    Twisted: 21.7.0\r\n    Django: 3.2.16\r\n\r\n#### Additional context\r\n<!--(Add with any other context about the problem, or ideas on how to solve.)-->\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2971", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2971/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2971/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2971/events", "html_url": "https://github.com/evennia/evennia/issues/2971", "id": 1433776539, "node_id": "I_kwDOAPX8f85VdbGb", "number": 2971, "title": "[BUG - Develop] Destroy command's contents check is incorrect", "user": {"login": "nyweryl", "id": 23739149, "node_id": "MDQ6VXNlcjIzNzM5MTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/23739149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyweryl", "html_url": "https://github.com/nyweryl", "followers_url": "https://api.github.com/users/nyweryl/followers", "following_url": "https://api.github.com/users/nyweryl/following{/other_user}", "gists_url": "https://api.github.com/users/nyweryl/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyweryl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyweryl/subscriptions", "organizations_url": "https://api.github.com/users/nyweryl/orgs", "repos_url": "https://api.github.com/users/nyweryl/repos", "events_url": "https://api.github.com/users/nyweryl/events{/privacy}", "received_events_url": "https://api.github.com/users/nyweryl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-02T20:54:03Z", "updated_at": "2022-11-07T17:31:55Z", "closed_at": "2022-11-07T17:31:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe [destroy command](https://www.evennia.com/docs/1.0-dev/_modules/evennia/commands/default/building.html#CmdDestroy) gives feedback to the user whether the destroyed object had any exits and any other contents:\r\n```\r\nhad_exits = hasattr(obj, \"exits\") and obj.exits\r\nhad_objs = hasattr(obj, \"contents\") and any(\r\n    obj\r\n    for obj in obj.contents\r\n    if not (hasattr(obj, \"exits\") and obj not in obj.exits)\r\n)\r\n```\r\n\r\nThis is mildly confusing to read as both the object to be destroyed and each of its contents in the loop are referred to as `obj`. Yet this part in the loop also doesn't seem correct to me: `(hasattr(obj, \"exits\") and obj not in obj.exits)` If the object to be destroyed has exits and the content is not one of them, it will return True and the content erroneously won't be regarded as non-exit content.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set up an object with a content object \"inside\" it.\r\n2. Destroy the object.\r\n3. See error: the contents won't be mentioned.\r\n\r\n>i\r\n>You are carrying:\r\n> a cloth pouch ([#1405](http://192.168.2.41:4001/webclient/#)) \r\n>\r\n>l pouch\r\n>You look at a cloth pouch.\r\n>You see nothing special.\r\n>\r\n>It is about a quarter full. You see:\r\n>a golden coin\r\n>\r\n>destroy/force #1405\r\n>z1i0003 was destroyed.\r\n\r\n#### Expected behavior\r\nThe feedback message `string` should include objects were moved.\r\n\r\n#### Develop-branch commit\r\nEvennia version: 1.0-dev (rev ee48982ea)\r\nOS: posix\r\nPython: 3.9.2\r\nTwisted: 21.7.0\r\nDjango: 4.0.7\r\n\r\n#### Additional context\r\nI don't think it is necessary, but here is a suggestion anyway to perhaps make the situation more clear:\r\n```\r\nhad_exits = hasattr(obj, \"exits\") and obj.exits\r\nhad_objs = hasattr(obj, \"contents\") and any(\r\n    con\r\n    for conin obj.contents\r\n    if not (hasattr(obj, \"exits\") and con in obj.exits)\r\n)\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2969", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2969/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2969/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2969/events", "html_url": "https://github.com/evennia/evennia/issues/2969", "id": 1432268427, "node_id": "I_kwDOAPX8f85VXq6L", "number": 2969, "title": "[BUG - Develop] Exception when teleporting by name", "user": {"login": "Qaishin", "id": 799620, "node_id": "MDQ6VXNlcjc5OTYyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/799620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Qaishin", "html_url": "https://github.com/Qaishin", "followers_url": "https://api.github.com/users/Qaishin/followers", "following_url": "https://api.github.com/users/Qaishin/following{/other_user}", "gists_url": "https://api.github.com/users/Qaishin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Qaishin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Qaishin/subscriptions", "organizations_url": "https://api.github.com/users/Qaishin/orgs", "repos_url": "https://api.github.com/users/Qaishin/repos", "events_url": "https://api.github.com/users/Qaishin/events{/privacy}", "received_events_url": "https://api.github.com/users/Qaishin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 4737389983, "node_id": "LA_kwDOAPX8f88AAAABGl7Vnw", "url": "https://api.github.com/repos/evennia/evennia/labels/needs-triage", "name": "needs-triage", "color": "ffffff", "default": false, "description": "Yet to be looked at and verified as an a real issue/feature that could be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-02T00:09:17Z", "updated_at": "2022-11-02T07:22:49Z", "closed_at": "2022-11-02T07:22:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen attempting to teleport to a room by name such as \"Limbo\", an exception is thrown and the command fails. Teleporting by dbref works as intended.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/david/muddev/evennia/evennia/commands/cmdhandler.py\", line 617, in _run_command\r\n    yield cmd.parse()\r\n  File \"/home/david/muddev/evennia/evennia/commands/default/building.py\", line 3634, in parse\r\n    self.destination = self.caller.search(self.lhs, global_search=True)\r\n  File \"/home/david/muddev/evennia/evennia/objects/objects.py\", line 501, in search\r\n    return _AT_SEARCH_RESULT(\r\n  File \"/home/david/muddev/evennia/evennia/utils/utils.py\", line 2296, in at_search_result\r\n    aliases = [alias for alias in aliases if alias.category not in (\"plural_key\",)]\r\n  File \"/home/david/muddev/evennia/evennia/utils/utils.py\", line 2296, in <listcomp>\r\n    aliases = [alias for alias in aliases if alias.category not in (\"plural_key\",)]\r\nAttributeError: 'Tag' object has no attribute 'category'\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1.Type `tel Limbo`\r\n2. See error\r\n\r\n#### Expected behavior\r\nThe player should be teleported to a matching object or presented a list if encountering multiple matches.\r\n\r\n#### Develop-branch commit\r\n0eda75187\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2960", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2960/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2960/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2960/events", "html_url": "https://github.com/evennia/evennia/issues/2960", "id": 1425720746, "node_id": "I_kwDOAPX8f85U-sWq", "number": 2960, "title": "[BUG - Develop] Multimatch results don't include aliases", "user": {"login": "nyweryl", "id": 23739149, "node_id": "MDQ6VXNlcjIzNzM5MTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/23739149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyweryl", "html_url": "https://github.com/nyweryl", "followers_url": "https://api.github.com/users/nyweryl/followers", "following_url": "https://api.github.com/users/nyweryl/following{/other_user}", "gists_url": "https://api.github.com/users/nyweryl/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyweryl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyweryl/subscriptions", "organizations_url": "https://api.github.com/users/nyweryl/orgs", "repos_url": "https://api.github.com/users/nyweryl/repos", "events_url": "https://api.github.com/users/nyweryl/events{/privacy}", "received_events_url": "https://api.github.com/users/nyweryl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-27T14:19:27Z", "updated_at": "2022-10-27T14:55:30Z", "closed_at": "2022-10-27T14:55:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen a multimatch occurs, the list of matches don't include aliases.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Collect multiple objects with the same name or alias.\r\n2. Use a command that uses the object.search function, like drop or examine.\r\n3. See error:\r\n\r\n>drop key\r\n>You carry more than one key.\r\n> a bronze key-1 [] (carried)\r\n> a small key-2 [] (carried)\r\n\r\n#### Expected behavior\r\nThe aliases of an object should be between the brackets:\r\n\r\n>drop key\r\n>You carry more than one key.\r\n> a bronze key-1 [bronze, key] (carried)\r\n> a small key-2 [small, key] (carried)\r\n\r\n#### Develop-branch commit\r\nEvennia version: 1.0-dev (rev 77171aee8)\r\nOS: posix\r\nPython: 3.9.2\r\nTwisted: 21.7.0\r\nDjango: 4.0.7\r\n\r\n#### Additional context\r\nIn https://www.evennia.com/docs/1.0-dev/_modules/evennia/utils/utils.html#at_search_result, an attempt is made to remove all pluralization aliases:\r\n\r\n```\r\naliases = [\r\n    alias\r\n    for alias in aliases\r\n    if hasattr(alias, \"category\") and alias.category not in (\"plural_key\",)\r\n]\r\n```\r\n\r\nWhile this attempt is successful, it gets rid of *all* aliases without a category. A possible solution would be:\r\n\r\n```\r\naliases = [\r\n    alias\r\n    for alias in aliases\r\n    if not hasattr(alias, \"category\") or (hasattr(alias, \"category\") and alias.category not in (\"plural_key\",))\r\n]\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2960/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2946", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2946/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2946/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2946/events", "html_url": "https://github.com/evennia/evennia/issues/2946", "id": 1419693845, "node_id": "I_kwDOAPX8f85Uns8V", "number": 2946, "title": "[BUG] Evennia test raises RuntimeError after upgrade to django 3.2", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-23T07:55:23Z", "updated_at": "2022-11-30T22:22:09Z", "closed_at": "2022-11-30T22:22:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI decided to finally see about maybe updating the version of Evennia I'm using for Arx. There were a few trivial changes to address deprecations, but a more serious issue is that the test runner completely refuses to function. After running through migrations for the test database and adding context types/permissions, I get the following error, which only touches library code:\r\n```\r\nUsing settings file 'test_settings' (server.conf.test_settings).\r\n\r\n    TESTING: Using specified settings file 'server.conf.test_settings'.\r\n\r\n    OBS: Evennia's full test suite may not pass if the settings are very\r\n    different from the default (use 'evennia test evennia' to run core tests)\r\n\r\nCreating test database for alias 'default'...\r\nTraceback (most recent call last):\r\n  File \"D:\\arx\\venv\\Scripts\\evennia_launcher.py\", line 18, in <module>\r\n    main()\r\n  File \"D:\\arx\\evennia\\evennia\\server\\evennia_launcher.py\", line 2282, in main\r\n    sys.exit(execute_from_command_line(sys.argv))\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 419, in execute_from_command_line\r\n    utility.execute()\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 413, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\management\\commands\\test.py\", line 23, in run_from_argv\r\n    super().run_from_argv(argv)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\management\\base.py\", line 354, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\management\\base.py\", line 398, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\test_without_migrations\\management\\commands\\_base.py\", line 78, in handle\r\n    super(CommandMixin, self).handle(*test_labels, **options)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\management\\commands\\test.py\", line 55, in handle\r\n    failures = test_runner.run_tests(test_labels)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\test\\runner.py\", line 725, in run_tests\r\n    old_config = self.setup_databases(aliases=databases)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\test\\runner.py\", line 643, in setup_databases\r\n    return _setup_databases(\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\test\\utils.py\", line 179, in setup_databases\r\n    connection.creation.create_test_db(\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\db\\backends\\base\\creation.py\", line 90, in create_test_db\r\n    self.connection._test_serialized_contents = self.serialize_db_to_string()\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\db\\backends\\base\\creation.py\", line 136, in serialize_db_to_string\r\n    serializers.serialize(\"json\", get_objects(), indent=None, stream=out)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\serializers\\__init__.py\", line 129, in serialize\r\n    s.serialize(queryset, **options)\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\core\\serializers\\base.py\", line 90, in serialize\r\n    for count, obj in enumerate(queryset, start=1):\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\db\\backends\\base\\creation.py\", line 125, in get_objects\r\n    for model in app_config.get_models():\r\n  File \"D:\\arx\\venv\\Lib\\site-packages\\django\\apps\\config.py\", line 287, in get_models\r\n    for model in self.models.values():\r\nRuntimeError: dictionary changed size during iteration\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Have a game with other apps/models\r\n2.  run `evennia test --settings=<your settings file here>`\r\n3. See error\r\n\r\n#### Expected behavior\r\nThe test runner to function the same as it did in django 2.12\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.5 (rev 8f916cb20) (rev 8f916cb20)\r\nOS: nt\r\nPython: 3.8.3\r\nTwisted: 21.7.0\r\nDjango: 3.2.16\r\n\r\n#### Additional context\r\nMy only running theory is that it might have something to do with how Evennia creates typeclasses, since they're proxy models that aren't fully registered. If you try to run `makemigrations` it'll try to generate bogus migrations inside the evennia.typeclasses app. Possibly they could be mucking up the test database here in some way with some new change they made in django's test runner in 3.2?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2938", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2938/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2938/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2938/events", "html_url": "https://github.com/evennia/evennia/issues/2938", "id": 1408027130, "node_id": "I_kwDOAPX8f85T7Mn6", "number": 2938, "title": "[BUG - Develop] Commands don't replace each other if aliases differ", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-13T15:37:30Z", "updated_at": "2022-11-07T22:58:55Z", "closed_at": "2022-11-07T22:58:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n(I'm not sure if this is a bug or intentional, so I figured I'd go the safe route and report it anyway.)\r\n\r\nWhen adding a command to a base cmdset that has the same key, but additional aliases, to a pre-existing command, the merge *does not* override the old command. Instead, both commands are present and indistinguishable.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Start with a fresh game, and make your own `say` command. (It can just inherit from core.)\r\n2. Give this command a key of `say` and aliases of `('\"', \"'\", \"whisper\", \"shout\",)`\r\n3. Add it to your default Character CmdSet\r\n4. Reload and try to `say` something.\r\n5. See error\r\n\r\n#### Expected behavior\r\nI expected my new command to override the old one since it has an identical key, regardless of having additional aliases. If there were aliases on the original command that I didn't keep on my new one, it might make sense? e.g. if I had removed the single- and double-quote aliases? But since I only added extra aliases, I feel like it *should* completely override the pre-existing command when added.\r\n\r\n#### Develop-branch commit\r\nb0f24f997", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2927", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2927/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2927/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2927/events", "html_url": "https://github.com/evennia/evennia/issues/2927", "id": 1403753866, "node_id": "I_kwDOAPX8f85Tq5WK", "number": 2927, "title": "[BUG - Develop] Whitespace is collapsed when `FuncParser` input raises error and returns \"unparsed\" string", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-10T22:03:07Z", "updated_at": "2022-11-06T15:40:39Z", "closed_at": "2022-11-06T15:40:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe intended behavior of FuncParser is to return an input string verbatim if `raise_errors=False` and there is an exception when parsing. However, currently whitespace is collapsed in multi-argument function calls.\r\n\r\n#### To Reproduce\r\nTest that demonstrates this issue:\r\n\r\n```\r\n    def test_parse_whitespace_preserved(self):\r\n        string = \"The answer is $add(1, x)\"\r\n        ret = self.parser.parse(string)\r\n        self.assertEqual(\"The answer is $add(1, x)\", ret)\r\n```\r\n\r\nFailure message\r\n\r\n```\r\n======================================================================\r\nFAIL: test_parse_whitespace_preserved (evennia.utils.tests.test_funcparser.TestFuncParser)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 258, in test_parse_whitespace_preserved\r\n    self.assertEqual(\"The answer is $add(1, x)\", ret)\r\nAssertionError: 'The answer is $add(1, x)' != 'The answer is $add(1,x)'\r\n- The answer is $add(1, x)\r\n?                      -\r\n+ The answer is $add(1,x)\r\n```\r\n\r\n#### Expected behavior\r\nThe test passes.\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nThis was discovered when writing tests in https://github.com/evennia/evennia/pull/2918\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2926", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2926/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2926/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2926/events", "html_url": "https://github.com/evennia/evennia/issues/2926", "id": 1403750615, "node_id": "I_kwDOAPX8f85Tq4jX", "number": 2926, "title": "[BUG - Develop] Funcparser `_MAX_NESTING` isn't applied properly", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-10T21:58:34Z", "updated_at": "2022-10-31T19:50:45Z", "closed_at": "2022-10-31T19:50:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe process for checking `_MAX_NESTING` in funcparser.py is too permissive. When it is set to 2 it allows nesting up to 4 before it fails\r\n\r\n#### To Reproduce\r\n```\r\n    @patch(\"evennia.utils.funcparser._MAX_NESTING\", 2)\r\n    def test_parse_max_nesting(self):\r\n        \"\"\"\r\n        Make sure it is an error if the max nesting value is reached.\r\n        \"\"\"\r\n        string = \"$add(1, $add(1, $toint(42)))\"\r\n        ret = self.parser.parse(string)\r\n        self.assertEqual(\"$add(1,$add(1,$toint(42)))\", ret)\r\n```\r\n\r\nThis test currently fails\r\n\r\n#### Expected behavior\r\nThe value of `_MAX_NESTING` should be applied properly and the test passes. It looks like currently it takes N+2 calls to trigger the nesting failure, since `len(callstack)` is 0 when encountering the first function call. An off by one error.\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nThis was discovered when writing tests in #2918\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2917", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2917/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2917/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2917/events", "html_url": "https://github.com/evennia/evennia/issues/2917", "id": 1401841754, "node_id": "I_kwDOAPX8f85Tjmha", "number": 2917, "title": "[BUG - Develop] Funcparser `$search()` doesn't check access appropriately", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-08T06:26:06Z", "updated_at": "2022-10-12T18:46:34Z", "closed_at": "2022-10-12T18:46:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThis line in funcparser:\r\n\r\nhttps://github.com/evennia/evennia/blob/develop/evennia/utils/funcparser.py#L1165\r\n\r\nThis seems to be intended to check if `caller` can access `target`. But it seems to always pass, possibly because `access` is meant to be called with two arguments and this invocation is slurping the `\"control\"` access level as an unused args?\r\n\r\n#### To Reproduce\r\nFailing test:\r\n\r\n```\r\n    def test_search_no_access(self):\r\n        string = \"Go to $search(Room)\"\r\n        with self.assertRaises(funcparser.ParsingError):\r\n            self.parser.parse(string, caller=self.char2, return_list=True, raise_errors=True)\r\n```\r\n\r\nFailure:\r\n```\r\n======================================================================\r\nFAIL: test_search_no_access (evennia.utils.tests.test_funcparser.TestCallableSearch)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 708, in test_search_no_access\r\n    self.parser.parse(string, caller=self.char2, return_list=True, raise_errors=True)\r\nAssertionError: ParsingError not raised\r\n\r\n----------------------------------------------------------------------\r\n```\r\n\r\n#### Expected behavior\r\nTest passes because `self.char2` doesn't have a \"control\" access on any rooms.\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nAgain, a small bug that should be easy to fix, but I'd rather submit a skipped failing test and fix it after review.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2917/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2916", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2916/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2916/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2916/events", "html_url": "https://github.com/evennia/evennia/issues/2916", "id": 1401832392, "node_id": "I_kwDOAPX8f85TjkPI", "number": 2916, "title": "[BUG - Develop] `$search` in funcparser throws wrong exception when no results found", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-08T05:43:26Z", "updated_at": "2022-10-13T21:04:48Z", "closed_at": "2022-10-13T21:04:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe `$search()` func should throw funcparser.ParsingError when no results found. Instead it throws NameError because the variable used in the f string is not found.\r\n\r\n#### To Reproduce\r\nTest:\r\n```\r\n    def test_search_not_found(self):\r\n        string = \"$search(foo)\"\r\n        with self.assertRaises(funcparser.ParsingError):\r\n            self.parser.parse(string, caller=self.char1, return_str=False, raise_errors=True)\r\n\r\n        ret = self.parser.parse(string, caller=self.char1, return_str=False, raise_errors=False)\r\n        self.assertEqual(\"$search(foo)\", ret)\r\n\r\n        ret = self.parser.parse(string, caller=self.char1, return_list=True, raise_errors=False)\r\n        self.assertEqual([], ret)\r\n```\r\n\r\nResult:\r\n```\r\n======================================================================\r\nERROR: test_search_not_found (evennia.utils.tests.test_funcparser.TestCallableSearch)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 688, in test_search_not_found\r\n    self.parser.parse(string, caller=self.char1, return_str=False, raise_errors=True)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/funcparser.py\", line 540, in parse\r\n    exec_return = self.execute(\r\n  File \"/home/tmoney/code/evennia/evennia/utils/funcparser.py\", line 259, in execute\r\n    ret = func(*args, **kwargs)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/funcparser.py\", line 1156, in funcparser_callable_search\r\n    raise ParsingError(f\"$search: Query '{query}' gave no matches.\")\r\nNameError: name 'query' is not defined\r\n\r\n----------------------------------------------------------------------\r\n```\r\n\r\nhttps://github.com/evennia/evennia/blob/develop/evennia/utils/funcparser.py#L1160\r\n\r\n#### Expected behavior\r\nThe proper ParsingError is thrown.\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nThis is a pretty simple bug to fix, but I'm trying to write tests to increase test coverage without modifying any code-under-test, since that confuses things. I will add the failing test with a 'skip' to demonstrate the issue, and it can be unskipped when it is fixed.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2915", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2915/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2915/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2915/events", "html_url": "https://github.com/evennia/evennia/issues/2915", "id": 1401821522, "node_id": "I_kwDOAPX8f85TjhlS", "number": 2915, "title": "[BUG - Develop] Evennia can no longer create global scripts from settings.py", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-10-08T04:47:37Z", "updated_at": "2022-10-29T19:04:49Z", "closed_at": "2022-10-29T19:04:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAs of merging #2882 any attempt to create a new game with global scripts defined in settings does not create the script. It simply fails the assertion check and moves on without attempting to create them.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set up a new freshly-made game with `GLOBAL_SCRIPTS` defined in the settings. (I included what I used at the bottom.)\r\n2. Attempt to start the game.\r\n4. See error\r\n\r\n#### Expected behavior\r\nIt's supposed to automatically create the script if it doesn't exist.\r\n\r\n#### Develop-branch commit\r\nb0f24f997\r\n\r\n#### Additional context\r\n```py\r\n# added to typeclasses/scripts.py\r\nfrom evennia.utils import logger\r\n\r\nclass TestScript(DefaultScript):\r\n    key = \"global_test_script\"\r\n\r\n    def at_repeat(self):\r\n        logger.log_msg(\"This just prints a nice message.\")\r\n```\r\n\r\n```py\r\n# added to server/conf/settings.py\r\nGLOBAL_SCRIPTS = {\r\n    \"global_test_script\": {\r\n        \"typeclass\": \"typeclasses.scripts.TestScript\",\r\n        \"persistent\": True,\r\n        \"interval\": 60,\r\n        \"desc\": \"A simple script to test creation.\",\r\n    },\r\n}\r\n```\r\n\r\n```\r\n2022-10-08 04:42:58 [!!] Traceback (most recent call last):\r\n2022-10-08 04:42:58 [!!]   File \"./evgames/evennia/evennia/utils/containers.py\", line 214, in load_data\r\n2022-10-08 04:42:58 [!!]     assert issubclass(script_typeclass, _BASE_SCRIPT_TYPECLASS)\r\n2022-10-08 04:42:58 [!!] AssertionError\r\n2022-10-08 04:42:58 [!!] GlobalScriptContainer could not start import global script global_test_script. It will be removed (skipped).\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2915/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2915/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2913", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2913/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2913/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2913/events", "html_url": "https://github.com/evennia/evennia/issues/2913", "id": 1401749493, "node_id": "I_kwDOAPX8f85TjP_1", "number": 2913, "title": "[BUG - Develop] `obj.tags.has` no longer returns `False` when tag is not present", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-07T23:45:01Z", "updated_at": "2022-10-09T10:24:01Z", "closed_at": "2022-10-09T10:24:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen checking for the presence of a tag, the `has` method no longer returns `False` for tags that are not present on the object. It only returns `True` matches or nothing.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Open the `py` console within a clean game.\r\n2. `self.tags.add(\"sitting\")` and `self.tags.add(\"hungry\")`\r\n3. `self.tags.has(\"sitting\")` will return `True`\r\n4. `self.tags.has(\"kneeling\")` will return an empty list\r\n5. `self.tags.has([\"sitting\", \"kneeling\", \"hungry\"])` will return `[True, True]`\r\n\r\n#### Expected behavior\r\n- `self.tags.has(\"kneeling\")` should return `False`\r\n- `self.tags.has([\"sitting\", \"kneeling\", \"hungry\"])` should return `[True, False, True]`\r\n\r\n#### Develop-branch commit\r\nb0f24f997\r\n\r\n#### Additional context\r\nThis worked correctly several months ago, but I'm not sure how recently the bug was introduced.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2913/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2912", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2912/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2912/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2912/events", "html_url": "https://github.com/evennia/evennia/issues/2912", "id": 1401623194, "node_id": "I_kwDOAPX8f85TixKa", "number": 2912, "title": "[BUG - Develop] Built in funcparser method, `$round` is broken (doesn't return its value)", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-07T20:11:41Z", "updated_at": "2022-10-12T18:45:15Z", "closed_at": "2022-10-12T18:45:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe func parser method `$round`, implemented [here](https://github.com/evennia/evennia/blob/develop/evennia/utils/funcparser.py#L776), doesn't return its value. It is broken because of this and evaluates to the literal string `\"None\"`.\r\n\r\nSee following test:\r\n\r\n```\r\n            (\"$round(2.9) apples\", \"3.0 apples\"),\r\n            (\"$round(2.967, 1) apples\", \"3.0 apples\"),\r\n```\r\n\r\nWhich fail with:\r\n\r\n```\r\n======================================================================\r\nFAIL: test_other_callables_22__round_2_9_apples (evennia.utils.tests.test_funcparser.TestDefaultCallables)\r\nTest default callables [with string='$round(2.9) apples', expected='3.0 apples'].\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/gamedir/venv/lib/python3.9/site-packages/parameterized/parameterized.py\", line 533, in standalone_func\r\n    return func(*(a + p.args), **p.kwargs)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 513, in test_other_callables\r\n    self.assertEqual(expected, ret)\r\nAssertionError: '3.0 apples' != 'None apples'\r\n- 3.0 apples\r\n+ None apples\r\n\r\n\r\n======================================================================\r\nFAIL: test_other_callables_23__round_2_967_1_apples (evennia.utils.tests.test_funcparser.TestDefaultCallables)\r\nTest default callables [with string='$round(2.967, 1) apples', expected='3.0 apples'].\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/gamedir/venv/lib/python3.9/site-packages/parameterized/parameterized.py\", line 533, in standalone_func\r\n    return func(*(a + p.args), **p.kwargs)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 513, in test_other_callables\r\n    self.assertEqual(expected, ret)\r\nAssertionError: '3.0 apples' != 'None apples'\r\n- 3.0 apples\r\n+ None apples\r\n```\r\n\r\n#### To Reproduce\r\nRun tests.\r\n\r\n#### Expected behavior\r\nPer tests.\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nObviously this is a one line fix, it just needs to return the value it's computing. I'm filing this bug because I'm trying to write tests and my general best practice is to not modify the code-under-test at the same time, because it gets confusing. Better to just submit a skipped, failing test and come back to it.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2911", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2911/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2911/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2911/events", "html_url": "https://github.com/evennia/evennia/issues/2911", "id": 1401617389, "node_id": "I_kwDOAPX8f85Tivvt", "number": 2911, "title": "[BUG - Develop] Calls to int() wrapped in `TypeError`, should be `ValueError`, in funcparser.py", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-07T20:04:44Z", "updated_at": "2022-11-01T16:26:26Z", "closed_at": "2022-11-01T16:26:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere are a bunch of calls in the funcparser default callables that are set up to do int conversion/parsing, ie `int(some_var)`. Many if not all of these are wrapped in a try/except block to anticipate the value not being parseable. However, there is a repeated mistake where the caught exception is `TypeError` when it should be `ValueError`:\r\n\r\n```\r\nPython 3.9.14 (main, Sep 30 2022, 20:25:24)\r\n[GCC 9.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> int('foo')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nValueError: invalid literal for int() with base 10: 'foo'\r\n```\r\n\r\nSee  the following:\r\n\r\nhttps://github.com/evennia/evennia/blob/develop/evennia/utils/funcparser.py#L685\r\nhttps://github.com/evennia/evennia/blob/develop/evennia/utils/funcparser.py#L917\r\nhttps://github.com/evennia/evennia/blob/develop/evennia/utils/funcparser.py#L949\r\n\r\netc\r\n\r\n#### To Reproduce\r\nN/A\r\n\r\n#### Expected behavior\r\nCatch ValueError if the logic in the catch is expected to run. Otherwise, this may be no big deal because the FuncParser itself handles exceptions and the calls to *convert_types would raise the exception before it got to this line if the widths aren't strings. So in that case, remove the exception handling altogether.\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2910", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2910/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2910/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2910/events", "html_url": "https://github.com/evennia/evennia/issues/2910", "id": 1401593313, "node_id": "I_kwDOAPX8f85Tip3h", "number": 2910, "title": "[BUG - Develop] Built-in `$choice` func for funcparser seems broken", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-07T19:34:38Z", "updated_at": "2022-10-13T21:22:53Z", "closed_at": "2022-10-13T21:22:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nBuilt-in `$choice` func for funcparser seems broken. Found when attempting to add tests for this (it has no tests currently).\r\n\r\n#### To Reproduce\r\nAttempting to add unit tests for the `$choice` function:\r\n\r\n```\r\n    def test_choice(self):\r\n        string = \"$choice([red, green]) apple\"\r\n        ret = self.parser.parse(string)\r\n        self.assertIn(ret, ('red apple', 'green apple'))\r\n\r\n    def test_choice_raise(self):\r\n        string = \"$choice([red, green]) apple\"\r\n        ret = self.parser.parse(string, raise_errors=True)\r\n        self.assertIn(ret, ('red apple', 'green apple'))\r\n```\r\n\r\nGives the following:\r\n\r\n```\r\n======================================================================\r\nERROR: test_choice_raise (evennia.utils.tests.test_funcparser.TestDefaultCallables)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 544, in test_choice_raise\r\n    ret = self.parser.parse(string, raise_errors=True)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/funcparser.py\", line 540, in parse\r\n    exec_return = self.execute(\r\n  File \"/home/tmoney/code/evennia/evennia/utils/funcparser.py\", line 259, in execute\r\n    ret = func(*args, **kwargs)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/funcparser.py\", line 882, in funcparser_callable_choice\r\n    args, _ = safe_convert_to_types((\"py\", {}), *args, **kwargs)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/utils.py\", line 2609, in safe_convert_to_types\r\n    args[iarg] = converter(arg)\r\n  File \"/home/tmoney/code/evennia/evennia/utils/utils.py\", line 2592, in _safe_eval\r\n    raise ParsingError(err)\r\nevennia.utils.funcparser.ParsingError: Errors converting '[red, green]' to python:\r\nliteral_eval raised ValueError: malformed node or string: <ast.Name object at 0x7f69b9a4d910>\r\nsimple_eval raised FeatureNotAvailable: Sorry, List is not available in this evaluator\r\n\r\n======================================================================\r\nFAIL: test_choice (evennia.utils.tests.test_funcparser.TestDefaultCallables)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/tmoney/code/evennia/evennia/utils/tests/test_funcparser.py\", line 540, in test_choice\r\n    self.assertIn(ret, ('red apple', 'green apple'))\r\nAssertionError: ' apple' not found in ('red apple', 'green apple')\r\n```\r\n\r\n#### Expected behavior\r\nThe tests pass\r\n\r\n#### Develop-branch commit\r\nb0f24f9975e14fddeabef06a19b5b61575957b1c\r\n\r\n#### Additional context\r\nThe string `\"$choice(red, green) apple\"` also fails, and produces output `\" apple\"`\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2909", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2909/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2909/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2909/events", "html_url": "https://github.com/evennia/evennia/issues/2909", "id": 1400498813, "node_id": "I_kwDOAPX8f85Teep9", "number": 2909, "title": "[BUG - Develop] inline funcparsers sent to `msg_contents` parses the same for everyone", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-07T01:17:37Z", "updated_at": "2022-10-26T17:33:36Z", "closed_at": "2022-10-26T17:33:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen passing an inline func for the new funcparser, it parses the string from the perspective of the first object in the list of contents and then uses that same parsed message to all of the successive messages.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add the test command class I provided under \"Additional context\"\r\n2. Create two characters and have them each execute the command.\r\n3. The string will print with the correct *actor* but from the perspective of whichever character was created or entered the room first, to both characters.\r\n\r\n#### Expected behavior\r\nI believe it's supposed to parse each time so the viewer sees the correct names relative to themself.\r\n\r\n#### Develop-branch commit\r\n3992f37da\r\n\r\n#### Additional context\r\n```python\r\nclass TestFuncparser(Command):\r\n    \"\"\"Usage: test <object>\"\"\"\r\n    key = \"test\"\r\n\r\n    def func(self):\r\n        caller = self.caller\r\n        location = caller.location\r\n\r\n        target = caller.search(self.args.strip())\r\n        if not target:\r\n            return\r\n\r\n        message = f\"$You() point at $you({target.name}).\"\r\n\r\n        location.msg_contents(message, from_obj=caller, mapping={\"you\": caller, target.name: target})\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2909/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2908", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2908/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2908/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2908/events", "html_url": "https://github.com/evennia/evennia/issues/2908", "id": 1399756825, "node_id": "I_kwDOAPX8f85TbpgZ", "number": 2908, "title": "funcparser_callable_search", "user": {"login": "Sk33t3rson", "id": 88866796, "node_id": "MDQ6VXNlcjg4ODY2Nzk2", "avatar_url": "https://avatars.githubusercontent.com/u/88866796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sk33t3rson", "html_url": "https://github.com/Sk33t3rson", "followers_url": "https://api.github.com/users/Sk33t3rson/followers", "following_url": "https://api.github.com/users/Sk33t3rson/following{/other_user}", "gists_url": "https://api.github.com/users/Sk33t3rson/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sk33t3rson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sk33t3rson/subscriptions", "organizations_url": "https://api.github.com/users/Sk33t3rson/orgs", "repos_url": "https://api.github.com/users/Sk33t3rson/repos", "events_url": "https://api.github.com/users/Sk33t3rson/events{/privacy}", "received_events_url": "https://api.github.com/users/Sk33t3rson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-06T14:31:43Z", "updated_at": "2022-10-13T18:06:35Z", "closed_at": "2022-10-13T18:06:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nso I did some tinkering, it doesn't mean much to me but makes sense on the error now.\r\n\r\nI did my bootleg version if seeing what comes through that kicks the error, hopefully this will help!\r\n\r\nprototype:\r\nCRAB = {\r\n\"key\": \"Large crab\",\r\n\"Attacks\":[\"lsweep\",\"bash\",\"stomp\"],\r\n\"typeclass\":\"typeclasses.characters.Crab\",\r\n\"location\": '$obj($choice($objlist(beach,category=zone,type=tag)))'\r\n}\r\ncommand:\r\nspawn crab\r\n\r\nbold variables are what I had the system message me their values, now based on my observation I see that when the tag comes through its presents the return_list value, when the type value object comes through it does an object search prototype its like prototype isn't an object my guy! Should it be doing the object search on the choice return and not the prototype? my brain is thinking it should nix the prototype stuff and only hold onto the $choice results and be searching against that object\r\n\r\nKwargs: {'return_list': True, 'category': 'zone', 'type': 'tag', 'prototype': {'key': 'Large crab', 'typeclass': 'typeclasses.characters.Crab', 'location': '$obj($choice($objlist(beach,category=zone,type=tag)))', 'prototype_key': 'crab', 'prototype_tags': ['module'], 'prototype_locks': 'spawn:all();edit:all()', 'prototype_desc': '', 'attrs': [('Attacks', ['lsweep', 'bash', 'stomp'], None, '')], 'tags': []}, 'funcparser': <evennia.utils.funcparser.FuncParser object at 0x00000236167711E0>, 'raise_errors': True}\r\nreturn list: True\r\ntype: tag\r\n\r\nKwargs: {'prototype': {'key': 'Large crab', 'typeclass': 'typeclasses.characters.Crab', 'location': '$obj($choice($objlist(beach,category=zone,type=tag)))', 'prototype_key': 'crab', 'prototype_tags': ['module'], 'prototype_locks': 'spawn:all();edit:all()', 'prototype_desc': '', 'attrs': [('Attacks', ['lsweep', 'bash', 'stomp'], None, '')], 'tags': []}, 'funcparser': <evennia.utils.funcparser.FuncParser object at 0x00000236167711E0>, 'raise_errors': True}\r\nreturn list: False\r\ntype: obj\r\n\r\nTraceback (most recent call last):\r\nFile \"c:\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 624, in _run_command\r\n_progressive_cmd_run(cmd, ret)\r\nFile \"c:\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 234, in _progressive_cmd_run\r\nvalue = next(generator)\r\nFile \"c:\\muddev\\evennia\\evennia\\commands\\default\\building.py\", line 4399, in func\r\nfor obj in spawner.spawn(prototype, caller=self.caller):\r\nFile \"c:\\muddev\\evennia\\evennia\\prototypes\\spawner.py\", line 950, in spawn\r\ncreate_kwargs[\"db_location\"] = init_spawn_value(\r\nFile \"c:\\muddev\\evennia\\evennia\\prototypes\\prototypes.py\", line 1133, in init_spawn_value\r\nresult = protfunc_parser(value, caller=caller, prototype=prototype)\r\nFile \"c:\\muddev\\evennia\\evennia\\prototypes\\prototypes.py\", line 962, in protfunc_parser\r\nresult = FUNC_PARSER.parse(value, raise_errors=True, return_str=False, caller=caller, **kwargs)\r\nFile \"c:\\muddev\\evennia\\evennia\\utils\\funcparser.py\", line 540, in parse\r\nexec_return = self.execute(\r\nFile \"c:\\muddev\\evennia\\evennia\\utils\\funcparser.py\", line 259, in execute\r\nret = func(*args, **kwargs)\r\nFile \"c:\\muddev\\evennia\\evennia\\utils\\funcparser.py\", line 1143, in funcparser_callable_search\r\ntargets = search.search_object(*args, **search_kwargs)\r\nTypeError: ObjectDBManager.search_object() got an unexpected keyword argument 'prototype'\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 22-10-06 10:04:30-04).\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2908/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2902", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2902/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2902/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2902/events", "html_url": "https://github.com/evennia/evennia/issues/2902", "id": 1398264748, "node_id": "I_kwDOAPX8f85TV9Os", "number": 2902, "title": "Adding Functionality to prototype for a random location choice from a zone list search (caused  bug)", "user": {"login": "Sk33t3rson", "id": 88866796, "node_id": "MDQ6VXNlcjg4ODY2Nzk2", "avatar_url": "https://avatars.githubusercontent.com/u/88866796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sk33t3rson", "html_url": "https://github.com/Sk33t3rson", "followers_url": "https://api.github.com/users/Sk33t3rson/followers", "following_url": "https://api.github.com/users/Sk33t3rson/following{/other_user}", "gists_url": "https://api.github.com/users/Sk33t3rson/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sk33t3rson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sk33t3rson/subscriptions", "organizations_url": "https://api.github.com/users/Sk33t3rson/orgs", "repos_url": "https://api.github.com/users/Sk33t3rson/repos", "events_url": "https://api.github.com/users/Sk33t3rson/events{/privacy}", "received_events_url": "https://api.github.com/users/Sk33t3rson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259905, "node_id": "MDU6TGFiZWw3NjI1OTkwNQ==", "url": "https://api.github.com/repos/evennia/evennia/labels/feature-request", "name": "feature-request", "color": "84b6eb", "default": false, "description": "A suggestion for new functionality."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-10-05T19:26:12Z", "updated_at": "2022-10-13T18:06:58Z", "closed_at": "2022-10-13T18:06:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the solution you'd like\r\n{..., \"location\": \"$choice($objlist(beach, type=tag))\", ...} -- thanks Griatch\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2883", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2883/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2883/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2883/events", "html_url": "https://github.com/evennia/evennia/issues/2883", "id": 1393591970, "node_id": "I_kwDOAPX8f85TEIai", "number": 2883, "title": "[BUG - Develop] False positives on URL detection", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-01T23:56:29Z", "updated_at": "2022-10-09T08:57:52Z", "closed_at": "2022-10-09T08:57:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf someone e.g. says \"Awww.\" in-game, the pattern `www.X` gets picked up as a web address by the text2html parser.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Open up the webclient for an active game.\r\n2. `emote www.t`\r\n3. See error\r\n\r\n#### Expected behavior\r\nThe URL detection for the text2html parser needs to be reworked to avoid false positives, or possibly removed entirely. I'm of the opinion to remove it entirely. If I take on fixing this, which is likely, that's the approach I'll take.\r\n\r\n#### Develop-branch commit\r\n3992f37da", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2883/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2875", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2875/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2875/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2875/events", "html_url": "https://github.com/evennia/evennia/issues/2875", "id": 1391685823, "node_id": "I_kwDOAPX8f85S83C_", "number": 2875, "title": "[BUG - Develop] Log rotation infinite-loops", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-30T01:22:06Z", "updated_at": "2022-10-05T07:01:22Z", "closed_at": "2022-10-05T07:01:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nMy log file reached the maximum size and when trying to rotate, it hits an infinite loop.\r\n\r\nhttps://github.com/evennia/evennia/blob/3992f37dada8ae9d495b7bdc087ff107e21e29aa/evennia/utils/logger.py#L352-L354\r\n\r\nI think maybe it's supposed to be `super().rotate()` instead of `self.rotate()`?\r\n\r\n#### Develop-branch commit\r\n3992f37da", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2875/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2872", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2872/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2872/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2872/events", "html_url": "https://github.com/evennia/evennia/issues/2872", "id": 1388092281, "node_id": "I_kwDOAPX8f85SvJt5", "number": 2872, "title": "[BUG - Develop] REST API endpoints for specialized Objects (e.g. Characters) don't work", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-27T17:08:42Z", "updated_at": "2022-10-23T10:17:18Z", "closed_at": "2022-10-23T10:17:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe endpoints for `characters`, `rooms` etc can't find any objects at all. When accessing a known Character by ID, e.g. `/api/characters/335` it returns `{'detail': 'not found'}` and when checking the list view at `/api/characters/` it returns a list of length 0.\r\n\r\nThe `objects` endpoint can locate the same objects just fine, however, so they're accessible by the API - the endpoints themselves are what's broken.\r\n\r\nI believe the method of filtering by typeclass is broken. e.g.\r\nhttps://github.com/evennia/evennia/blob/3992f37dada8ae9d495b7bdc087ff107e21e29aa/evennia/web/api/views.py#L115-L117\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a game with some objects, rooms, and characters.\r\n2. Turn on the API by adding `REST_API_ENABLED = True` to settings\r\n3. Authenticate and access the endpoints `/api/objects/` `/api/characters/` and `/api/rooms/`\r\n4. See error\r\n\r\n#### Expected behavior\r\nI expected the endpoints to return the info for the relevant object, and to correctly return all existing objects of the endpoint type.\r\n\r\n#### Develop-branch commit\r\n3992f37da\r\n\r\n#### Additional context\r\nThe regular `objects` endpoint and all of the non-Object endpoints such as `/api/accounts` and `/api/scripts` work as expected.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2872/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2855", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2855/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2855/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2855/events", "html_url": "https://github.com/evennia/evennia/issues/2855", "id": 1369081864, "node_id": "I_kwDOAPX8f85RmogI", "number": 2855, "title": "[BUG] Puppeting from an EvMenu results in a lack of Exit CommandSet", "user": {"login": "Exsavio", "id": 107019827, "node_id": "U_kgDOBmD-Mw", "avatar_url": "https://avatars.githubusercontent.com/u/107019827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Exsavio", "html_url": "https://github.com/Exsavio", "followers_url": "https://api.github.com/users/Exsavio/followers", "following_url": "https://api.github.com/users/Exsavio/following{/other_user}", "gists_url": "https://api.github.com/users/Exsavio/gists{/gist_id}", "starred_url": "https://api.github.com/users/Exsavio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Exsavio/subscriptions", "organizations_url": "https://api.github.com/users/Exsavio/orgs", "repos_url": "https://api.github.com/users/Exsavio/repos", "events_url": "https://api.github.com/users/Exsavio/events{/privacy}", "received_events_url": "https://api.github.com/users/Exsavio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-11T22:24:01Z", "updated_at": "2022-11-06T23:46:06Z", "closed_at": "2022-11-06T23:46:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen account.puppet_obj(session, character) is invoked from a Session level EvMenu, the character is puppeted without error however the Character does not receive an Exit Command Sets, and thus cannot move.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an Account and a Character (the initial superuser suffices)\r\n2. Create an EvMenu: \r\n```\r\ndef start(caller, raw_string, **kwargs):\r\n\t\r\n\ttext = \"Press any button to load first character\"\r\n\toptions = [{ \"key\"  : \"_default\", \"desc\" : \"\", \"goto\" : \"play\" },]\r\n\r\n\treturn text, options\r\n\r\ndef play(caller, raw_string, **kwargs):\r\n\r\n\tsession = caller\r\n\taccount = session.account\r\n\tcharacter = account.db._playable_characters[0]\r\n\r\n\t#code taken from default CmdIC command:\r\n\ttry:\r\n\t\taccount.puppet_object(session, character)\r\n\t\taccount.db._last_puppet = character\r\n\t\tlogger.log_sec(\r\n\t\t\t\"Puppet Success: (Caller: %s, Target: %s, IP: %s).\"\r\n\t\t\t% (account, character, session.address)\r\n\t\t)\r\n\texcept RuntimeError as exc:\r\n\t\tself.msg(\"|rYou cannot become |C%s|n: %s\" % (character.name, exc))\r\n\t\tlogger.log_sec(\r\n\t\t\t\"Puppet Failed: %s (Caller: %s, Target: %s, IP: %s).\"\r\n\t\t\t% (exc, account, character, session.address)\r\n\t\t)\r\n\r\n\treturn None, None\r\n```\r\n3.  Override DefaultAccount in order to trigger the menu on login (using at_look())\r\n```\r\n        if target and not is_iter(target):\r\n            # single target - just show it\r\n            if hasattr(target, \"return_appearance\"):\r\n                return target.return_appearance(self)\r\n            else:\r\n                return f\"{target} has no in-game appearance.\"\r\n        else:\r\n            EvMenu(session, \"account.menu_account\",\r\n                auto_look=False, auto_quit=False, auto_help=False,\r\n                persistent=False, cmd_on_exit = None, session=session,\r\n                cmdset_mergetype=\"Replace\")\r\n\r\n            return \"\"\r\n```\r\n\r\n4. Reload\r\n5. Logout or OOC\r\n6. Press any button\r\n7. Observe inability to move, as Exit Command Sets not available to Character.\r\n8. Reload\r\n9. Observe ability to move restored.\r\n\r\n#### Expected behavior\r\nAbility to utilize movement commands upon puppeting from an EvMenu\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 1.0-dev (rev 77171aee8a4) (rev 77171aee8a4)\r\n    OS: nt\r\n    Python: 3.10.5\r\n    Twisted: 21.7.0\r\n    Django: 4.0.5\r\n```\r\n\r\n#### Additional context\r\nWhen establishing a simplified version of this issue to reproduce,  it was observed that if the EvMenu had no options (i.e. start retuned None, None) the issue did not reoccur.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2854", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2854/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2854/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2854/events", "html_url": "https://github.com/evennia/evennia/issues/2854", "id": 1368589885, "node_id": "I_kwDOAPX8f85RkwY9", "number": 2854, "title": "[BUG - Develop] Can't start server on fresh game install - builtins.MemoryError", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-09-10T11:13:40Z", "updated_at": "2023-01-08T06:34:00Z", "closed_at": "2022-09-13T01:05:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen trying the initial `evennia start` from within a fresh game install based on the develop branch, the server won't start and the logs report a `builtins.MemoryError` over and over\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a new game with `evennia --init`\r\n2. cd into the directory of the game and run `evennia migrate`\r\n3. Try to start the game with `evennia start`\r\n4. Script reports `... Server started.`, but it is not connectable\r\n5. Open logs for server in game directory, see:\r\n\r\n```\r\n22-09-10 11:10:04 [..] Server disconnected from the portal.\r\n22-09-10 11:10:05 Unhandled Error\r\n\tTraceback (most recent call last):\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/python/log.py\", line 103, in callWithLogger\r\n\t    return callWithContext({\"system\": lp}, func, *args, **kw)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/python/log.py\", line 86, in callWithContext\r\n\t    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/python/context.py\", line 122, in callWithContext\r\n\t    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/python/context.py\", line 85, in callWithContext\r\n\t    return func(*args,**kw)\r\n\t--- <exception caught here> ---\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/internet/selectreactor.py\", line 149, in _doReadOrWrite\r\n\t    why = getattr(selectable, method)()\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/internet/tcp.py\", line 627, in doConnect\r\n\t    self._connectDone()\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/internet/tcp.py\", line 656, in _connectDone\r\n\t    self.protocol.makeConnection(self)\r\n\t  File \"<redacted path>/evennia/evennia/server/portal/amp.py\", line 348, in makeConnection\r\n\t    amp.BinaryBoxProtocol.makeConnection(self, transport)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/twisted/protocols/amp.py\", line 2391, in makeConnection\r\n\t    self.connectionMade()\r\n\t  File \"<redacted path>/evennia/evennia/server/amp_client.py\", line 118, in connectionMade\r\n\t    self.factory.server.run_initial_setup()\r\n\t  File \"<redacted path>/evennia/evennia/server/server.py\", line 345, in run_initial_setup\r\n\t    last_initial_setup_step = ServerConfig.objects.conf(\"last_initial_setup_step\")\r\n\t  File \"<redacted path>/evennia/evennia/server/manager.py\", line 50, in conf\r\n\t    if not conf:\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/models/query.py\", line 278, in __bool__\r\n\t    self._fetch_all()\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/models/query.py\", line 1242, in _fetch_all\r\n\t    self._result_cache = list(self._iterable_class(self))\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/models/query.py\", line 55, in __iter__\r\n\t    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/models/sql/compiler.py\", line 1142, in execute_sql\r\n\t    cursor.execute(sql, params)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/backends/utils.py\", line 67, in execute\r\n\t    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/backends/utils.py\", line 76, in _execute_with_wrappers\r\n\t    return executor(sql, params, many, context)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\n\t    return self.cursor.execute(sql, params)\r\n\t  File \"<redacted path>/scriptslash-ev/venv/lib/python3.9/site-packages/django/db/backends/sqlite3/base.py\", line 383, in execute\r\n\t    return Database.Cursor.execute(self, query, params)\r\n\tbuiltins.MemoryError: \r\n```\r\n\r\n#### Expected behavior\r\nServer starts without errors\r\n\r\n#### Develop-branch commit\r\nEvennia 0.9.0 (rev a61918c6) (rev a61918c6)\r\n\r\n#### Additional context\r\nRunning on macOS 10.15.7 with Python 3.9.13 installed using asdf. Directory structure is:\r\n\r\ncode/evennia\r\ncode/scriptslash-ev\r\ncode/scriptslash-ev/venv\r\n\r\nEvennia installed in the venv with `pip install -e ../evennia` from the `scriptslash-ev` directory.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2853", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2853/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2853/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2853/events", "html_url": "https://github.com/evennia/evennia/issues/2853", "id": 1368497171, "node_id": "I_kwDOAPX8f85RkZwT", "number": 2853, "title": "[BUG] Odd 'double-space after period' in some places in tutorial world text", "user": {"login": "audiodude", "id": 57832, "node_id": "MDQ6VXNlcjU3ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/57832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audiodude", "html_url": "https://github.com/audiodude", "followers_url": "https://api.github.com/users/audiodude/followers", "following_url": "https://api.github.com/users/audiodude/following{/other_user}", "gists_url": "https://api.github.com/users/audiodude/gists{/gist_id}", "starred_url": "https://api.github.com/users/audiodude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audiodude/subscriptions", "organizations_url": "https://api.github.com/users/audiodude/orgs", "repos_url": "https://api.github.com/users/audiodude/repos", "events_url": "https://api.github.com/users/audiodude/events{/privacy}", "received_events_url": "https://api.github.com/users/audiodude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-10T04:41:42Z", "updated_at": "2022-09-11T15:11:27Z", "closed_at": "2022-09-11T15:11:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nLots of the text in contrib/tutorial_world uses double-space after a period. It is not used consistently and can be visually distracting.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Explore the tutorial world, or\r\n2. Read the source code of the tutorial world\r\n\r\n#### Expected behavior\r\nGet rid of the double space after period. I was going to submit a PR to do this myself, but I don't want to bother if for some reason this is WAI.\r\n\r\n#### Environment, Evennia version, OS etc\r\nN/A\r\n\r\n#### Additional context\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2853/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2850", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2850/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2850/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2850/events", "html_url": "https://github.com/evennia/evennia/issues/2850", "id": 1368473610, "node_id": "I_kwDOAPX8f85RkUAK", "number": 2850, "title": "[BUG] Initial character is not `Developer` perm", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 531060771, "node_id": "MDU6TGFiZWw1MzEwNjA3NzE=", "url": "https://api.github.com/repos/evennia/evennia/labels/discussion", "name": "discussion", "color": "eeffee", "default": false, "description": "A discussion or a request for one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-10T03:15:37Z", "updated_at": "2022-10-27T20:28:01Z", "closed_at": "2022-10-27T20:28:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen creating a fresh game, Evennia will create a SU account and a character automatically. [The documentation](https://www.evennia.com/docs/latest/Building-Quickstart.html#stepping-down-from-godhood) suggests that this character is supposed to be Developer level, which would make sense. However, it is Player level.\r\n\r\nThis is true for both 0.9.5 and 1.0-beta\r\n\r\nIf it is actually intentional that the SU-account character is Player instead of Developer (which I would *not* expect and which has always puzzled me) then the code doesn't need to be fixed, but the documentation needs to be updated.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2850/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2846", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2846/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2846/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2846/events", "html_url": "https://github.com/evennia/evennia/issues/2846", "id": 1362673181, "node_id": "I_kwDOAPX8f85ROL4d", "number": 2846, "title": "[BUG - Develop] Clothing class is now ContribClothing", "user": {"login": "Routhinator", "id": 727535, "node_id": "MDQ6VXNlcjcyNzUzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/727535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Routhinator", "html_url": "https://github.com/Routhinator", "followers_url": "https://api.github.com/users/Routhinator/followers", "following_url": "https://api.github.com/users/Routhinator/following{/other_user}", "gists_url": "https://api.github.com/users/Routhinator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Routhinator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Routhinator/subscriptions", "organizations_url": "https://api.github.com/users/Routhinator/orgs", "repos_url": "https://api.github.com/users/Routhinator/repos", "events_url": "https://api.github.com/users/Routhinator/events{/privacy}", "received_events_url": "https://api.github.com/users/Routhinator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T04:06:06Z", "updated_at": "2022-09-06T08:26:45Z", "closed_at": "2022-09-06T08:26:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn https://www.evennia.com/docs/1.0-dev/Contribs/Contrib-Clothing.html the instructions for creating a clothing object reference typclass path `evennia.contrib.game_systems.clothing.Clothing` - this has been changed to `evennia.contrib.game_systems.clothing.ContribClothing` for 1.0\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Follow docs to create a clothing object\r\n2. Error occurs:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/src/evennia/evennia/commands/cmdhandler.py\", line 621, in _run_command\r\n    ret = cmd.func()\r\n  File \"/usr/src/evennia/evennia/commands/default/building.py\", line 606, in func\r\n    obj = create.create_object(\r\n  File \"/usr/src/evennia/evennia/objects/manager.py\", line 679, in create_object\r\n    typeclass = class_from_module(typeclass, settings.TYPECLASS_PATHS)\r\n  File \"/usr/src/evennia/evennia/utils/utils.py\", line 1596, in class_from_module\r\n    raise ImportError(err)\r\nImportError: \r\nCould not load typeclass 'evennia.contrib.game_systems.clothing.Clothing'\r\nPaths searched:\r\n    evennia.contrib.game_systems.clothing.Clothing\r\n    typeclasses.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.contrib.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.contrib.game_systems.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.contrib.base_systems.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.contrib.full_systems.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.contrib.tutorials.evennia.contrib.game_systems.clothing.Clothing\r\n    evennia.contrib.utils.evennia.contrib.game_systems.clothing.Clothing\r\n```\r\n\r\n#### Expected behavior\r\nWith the correct class the Clothing object is created correctly\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2844", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2844/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2844/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2844/events", "html_url": "https://github.com/evennia/evennia/issues/2844", "id": 1362660694, "node_id": "I_kwDOAPX8f85ROI1W", "number": 2844, "title": "[BUG - Develop] Contrib Menu Login instructions have missing `evennia.`", "user": {"login": "Routhinator", "id": 727535, "node_id": "MDQ6VXNlcjcyNzUzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/727535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Routhinator", "html_url": "https://github.com/Routhinator", "followers_url": "https://api.github.com/users/Routhinator/followers", "following_url": "https://api.github.com/users/Routhinator/following{/other_user}", "gists_url": "https://api.github.com/users/Routhinator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Routhinator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Routhinator/subscriptions", "organizations_url": "https://api.github.com/users/Routhinator/orgs", "repos_url": "https://api.github.com/users/Routhinator/repos", "events_url": "https://api.github.com/users/Routhinator/events{/privacy}", "received_events_url": "https://api.github.com/users/Routhinator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-06T03:40:32Z", "updated_at": "2022-09-06T08:24:40Z", "closed_at": "2022-09-06T08:24:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn the installation docs for the Menu Login contrib module:\r\nhttps://www.evennia.com/docs/1.0-dev/Contribs/Contrib-Menu-Login.html \r\n\r\n```python\r\nCMDSET_UNLOGGEDIN = \"evennia.contrib.base_systems.menu_login.UnloggedinCmdSet\"\r\nCONNECTION_SCREEN_MODULE = \"contrib.base_systems.menu_login.connection_screens\"\r\n```\r\nThe `CONNECTION_SCREEN_MODULE` is missing the `evennia.` before contrib.\r\n\r\nFollowing the directions as is results in:\r\n\r\n```\r\nparadox_1   | Traceback (most recent call last):\r\nparadox_1   |   File \"/usr/local/bin/evennia\", line 10, in <module>\r\nparadox_1   |     main()\r\nparadox_1   |   File \"/usr/src/evennia/evennia/server/evennia_launcher.py\", line 2273, in main\r\nparadox_1   |     error_check_python_modules(show_warnings=args.tail_log)\r\nparadox_1   |   File \"/usr/src/evennia/evennia/server/evennia_launcher.py\", line 1683, in error_check_python_modules\r\nparadox_1   |     _imp(settings.CONNECTION_SCREEN_MODULE)\r\nparadox_1   |   File \"/usr/src/evennia/evennia/server/evennia_launcher.py\", line 1666, in _imp\r\nparadox_1   |     __import__(mod, fromlist=[fromlist])\r\nparadox_1   | ModuleNotFoundError: No module named 'contrib'\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Follow instructions\r\n2. Start server\r\n3. Error\r\n\r\nThis is a doc error and fix (which just adding `evennia.` to the affected setting) is confirmed.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2844/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2840", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2840/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2840/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2840/events", "html_url": "https://github.com/evennia/evennia/issues/2840", "id": 1357489689, "node_id": "I_kwDOAPX8f85Q6aYZ", "number": 2840, "title": "[BUG] tzdata missing from requirements.txt", "user": {"login": "Routhinator", "id": 727535, "node_id": "MDQ6VXNlcjcyNzUzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/727535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Routhinator", "html_url": "https://github.com/Routhinator", "followers_url": "https://api.github.com/users/Routhinator/followers", "following_url": "https://api.github.com/users/Routhinator/following{/other_user}", "gists_url": "https://api.github.com/users/Routhinator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Routhinator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Routhinator/subscriptions", "organizations_url": "https://api.github.com/users/Routhinator/orgs", "repos_url": "https://api.github.com/users/Routhinator/repos", "events_url": "https://api.github.com/users/Routhinator/events{/privacy}", "received_events_url": "https://api.github.com/users/Routhinator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-31T15:15:25Z", "updated_at": "2022-09-06T08:23:42Z", "closed_at": "2022-09-06T08:23:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n`tzdata`, while required for Timestamps on `[MudInfo]` events, is not in the requirements.txt file. As a result, unless the system already had it installed before evennia was installed, there are stack traces seen in the game whenever a `[MudInfo]` event occurs.\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Install evennia on a system where `tzdata` is not installed.\r\n2. Start evennia\r\n3. Login with a superuser that recieves `[MudInfo]` events.\r\n\r\n#### Expected behavior\r\n`tzdata` should be explicitly declared in requirements.txt as a dependency.\r\n\r\n#### Environment, Evennia version, OS etc\r\nTested on a fresh Ubuntu 22.04 container with Python 3.10 installed.\r\n\r\n#### Additional context\r\n<!--(Add with any other context about the problem, or ideas on how to solve.)-->\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2839", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2839/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2839/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2839/events", "html_url": "https://github.com/evennia/evennia/issues/2839", "id": 1352602618, "node_id": "I_kwDOAPX8f85QnxP6", "number": 2839, "title": "[BUG - Develop] Traceback on multimatching session commands", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-26T18:28:15Z", "updated_at": "2022-11-06T10:21:17Z", "closed_at": "2022-11-06T10:21:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI've discovered an unusual bug regarding these lines:\r\nhttps://github.com/evennia/evennia/blob/8b9e1da9413202de69e5467a98e652fe7d58e1de/evennia/commands/command.py#L531-L532\r\n\r\nIt seems as though it's intending to check if the command is attached to an object and only call the display name hook if it is. However, the `obj` property isn't always an Object or Character - it will _also_ return the Account or Session that the command is attached to, if it's an account- or session-level command.\r\n\r\nThis becomes a problem if you multimatch on a command input which includes a session-level command match because, unlike Objects, Characters and Accounts, the various Session types have no `get_display_name` method. Which then results in:\r\n```\r\nFile \"./evennia/evennia/commands/command.py\", line 532, in get_extra_info\r\n    return \" (%s)\" % self.obj.get_display_name(caller).strip()\r\nAttributeError: 'ServerSession' object has no attribute 'get_display_name'\r\n```\r\n\r\n#### Possible Solutions\r\nI can see a few different ways to handle this, and I'm unsure which would be best.\r\n\r\n1. Change `get_extra_info` on commands to validate the existence of `get_display_name` on the attached `obj` property before calling it\r\n2. Give sessions a `get_display_name` hook\r\n3. Change the `obj` property on commands so it only returns in-game objects (this is probably the worst option)\r\n\r\n#### Develop-branch commit\r\n8b9e1da94", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2808", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2808/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2808/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2808/events", "html_url": "https://github.com/evennia/evennia/issues/2808", "id": 1309799620, "node_id": "I_kwDOAPX8f85OEfTE", "number": 2808, "title": "[BUG] cannot serialize dict subclasses", "user": {"login": "aogier", "id": 321364, "node_id": "MDQ6VXNlcjMyMTM2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/321364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aogier", "html_url": "https://github.com/aogier", "followers_url": "https://api.github.com/users/aogier/followers", "following_url": "https://api.github.com/users/aogier/following{/other_user}", "gists_url": "https://api.github.com/users/aogier/gists{/gist_id}", "starred_url": "https://api.github.com/users/aogier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aogier/subscriptions", "organizations_url": "https://api.github.com/users/aogier/orgs", "repos_url": "https://api.github.com/users/aogier/repos", "events_url": "https://api.github.com/users/aogier/events{/privacy}", "received_events_url": "https://api.github.com/users/aogier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-07-19T16:51:20Z", "updated_at": "2022-08-02T11:54:50Z", "closed_at": "2022-08-02T11:54:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nDear evennia developers, I've found that I'm not able to persist a dict subclass and after tracking it down a bit I think there's a generic problem when working w/ base types subclasses.\r\n\r\n#### To Reproduce\r\nA simple PoC using a dict:\r\n1. put this in `/typeclasses/foo.py`:\r\n```python\r\nfrom evennia import CmdSet, Command, DefaultObject\r\n\r\n\r\nclass MaskedDict(dict):\r\n    pass\r\n\r\n\r\nclass CmdFoo(Command):\r\n\r\n    key = \"cf\"\r\n\r\n    def func(self):\r\n        self.obj.db.foo = MaskedDict({\"foo\": 1, \"bar\": 2})\r\n\r\n\r\nclass CmdSetFoo(CmdSet):\r\n    def at_cmdset_creation(self):\r\n        self.add(CmdFoo())\r\n\r\n\r\nclass FooObject(DefaultObject):\r\n    def at_object_creation(self):\r\n        self.cmdset.add_default(CmdSetFoo)\r\n```\r\n2. reload and create a foo object\r\n```\r\nreload\r\ncreate foo :foo.FooObject\r\n```\r\n3. try to persist a dict subclass in foo obj:\r\n```\r\ncf\r\nTraceback (most recent call last):\r\n  File \"/home/oggei/dev/evennia/evennia/commands/cmdhandler.py\", line 621, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/oggei/dev/evennia/dict-bug/typeclasses/foo.py\", line 13, in func\r\n    self.obj.db.foo = MaskedDict({\"foo\": 1, \"bar\": 2})\r\n  File \"/home/oggei/dev/evennia/evennia/typeclasses/attributes.py\", line 1414, in __setattr__\r\n    _GA(self, _GA(self, \"name\")).add(attrname, value)\r\n  File \"/home/oggei/dev/evennia/evennia/typeclasses/attributes.py\", line 1251, in add\r\n    self.backend.create_attribute(keystr, category, lockstring, value, strattr)\r\n  File \"/home/oggei/dev/evennia/evennia/typeclasses/attributes.py\", line 697, in create_attribute\r\n    attr = self.do_create_attribute(key, category, lockstring, value, strvalue)\r\n  File \"/home/oggei/dev/evennia/evennia/typeclasses/attributes.py\", line 1033, in do_create_attribute\r\n    kwargs[\"db_value\"] = to_pickle(value)\r\n  File \"/home/oggei/dev/evennia/evennia/utils/dbserialize.py\", line 663, in to_pickle\r\n    return process_item(data)\r\n  File \"/home/oggei/dev/evennia/evennia/utils/dbserialize.py\", line 650, in process_item\r\n    return item.__class__([process_item(val) for val in item])\r\nValueError: dictionary update sequence element #0 has length 3; 2 is required\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 22-07-19 15:38:57).\r\n```\r\n4. confirm that nothing has indeed ben set\r\n```\r\nexamine foo\r\n--------------------------------------------------------------------------------\r\nName/key: foo (#4)\r\nTypeclass: FooObject (typeclasses.foo.FooObject)\r\nLocation: oggei (#1)\r\nHome: oggei (#1)\r\nLocks:   call:true(); control:id(1) or perm(Admin); delete:id(1) or perm(Admin);\r\n  drop:holds(); edit:perm(Admin); examine:perm(Builder); get:all();\r\n  puppet:pperm(Developer); tell:perm(Admin); view:all()\r\nStored Cmdset(s):\r\n  typeclasses.foo.CmdSetFoo [Unnamed CmdSet] (Union, prio 0)\r\nMerged Cmdset(s):\r\n  typeclasses.foo.CmdSetFoo [Unnamed CmdSet] (Union, prio 0)\r\nCommands available to foo (result of Merged Cmdset(s)):\r\n  cf\r\nPersistent Attributes:\r\n  desc=You see nothing special.\r\n--------------------------------------------------------------------------------\r\n```\r\n\r\n#### Expected behavior\r\nI'd like to be able to persist those subclasses :)\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 1.0-dev (rev ae5b353ef) (rev ae5b353ef)\r\n    OS: posix\r\n    Python: 3.9.13\r\n    Twisted: 21.7.0\r\n    Django: 4.0.6\r\n```\r\n\r\nthe problem occurs in 0.9.5 too\r\n\r\n#### Moving toward a solution\r\n\r\nAt a glance, it's clear that an eg. `dict`subclass will never match the correct [condition here](https://github.com/evennia/evennia/blob/ae5b353ef245450a05fba08e863b36d407600031/evennia/utils/dbserialize.py#L620).  \r\nThe first solution that come to mind is to check `isinstance` calls rather than `type` ones, by reordering the checks following inheritance chains bottom-up, which does not seems to pose particular diamond problems:\r\n\r\n```mermaid\r\nclassDiagram\r\n\r\nint <|-- bool\r\n\r\n\r\nstr <|-- django_utils_safestring_SafeString\r\n\r\ndjango_utils_safestring_SafeData <|-- django_utils_safestring_SafeString\r\n\r\n\r\n\r\nevennia_utils_dbserialize__SaverMutable <|-- evennia_utils_dbserialize__SaverList\r\n\r\ncollections_abc_MutableSequence <|-- evennia_utils_dbserialize__SaverList\r\ncollections_abc_Sequence <|-- collections_abc_MutableSequence\r\ncollections_abc_Reversible <|-- collections_abc_Sequence\r\ncollections_abc_Iterable <|-- collections_abc_Reversible\r\n\r\ncollections_abc_Collection <|-- collections_abc_Sequence\r\ncollections_abc_Sized <|-- collections_abc_Collection\r\n\r\ncollections_abc_Iterable <|-- collections_abc_Collection\r\n\r\ncollections_abc_Container <|-- collections_abc_Collection\r\n\r\n\r\nevennia_utils_dbserialize__SaverMutable <|-- evennia_utils_dbserialize__SaverDict\r\n\r\ncollections_abc_MutableMapping <|-- evennia_utils_dbserialize__SaverDict\r\ncollections_abc_Mapping <|-- collections_abc_MutableMapping\r\ncollections_abc_Collection <|-- collections_abc_Mapping\r\ncollections_abc_Sized <|-- collections_abc_Collection\r\n\r\ncollections_abc_Iterable <|-- collections_abc_Collection\r\n\r\ncollections_abc_Container <|-- collections_abc_Collection\r\n\r\ndict <|-- collections_defaultdict\r\n\r\nevennia_utils_dbserialize__SaverDict <|-- evennia_utils_dbserialize__SaverDefaultDict\r\nevennia_utils_dbserialize__SaverMutable <|-- evennia_utils_dbserialize__SaverDict\r\n\r\ncollections_abc_MutableMapping <|-- evennia_utils_dbserialize__SaverDict\r\ncollections_abc_Mapping <|-- collections_abc_MutableMapping\r\ncollections_abc_Collection <|-- collections_abc_Mapping\r\ncollections_abc_Sized <|-- collections_abc_Collection\r\n\r\ncollections_abc_Iterable <|-- collections_abc_Collection\r\n\r\ncollections_abc_Container <|-- collections_abc_Collection\r\n\r\n\r\nevennia_utils_dbserialize__SaverMutable <|-- evennia_utils_dbserialize__SaverSet\r\n\r\ncollections_abc_MutableSet <|-- evennia_utils_dbserialize__SaverSet\r\ncollections_abc_Set <|-- collections_abc_MutableSet\r\ncollections_abc_Collection <|-- collections_abc_Set\r\ncollections_abc_Sized <|-- collections_abc_Collection\r\n\r\ncollections_abc_Iterable <|-- collections_abc_Collection\r\n\r\ncollections_abc_Container <|-- collections_abc_Collection\r\n\r\ndict <|-- collections_OrderedDict\r\n\r\nevennia_utils_dbserialize__SaverMutable <|-- evennia_utils_dbserialize__SaverOrderedDict\r\n\r\ncollections_abc_MutableMapping <|-- evennia_utils_dbserialize__SaverOrderedDict\r\ncollections_abc_Mapping <|-- collections_abc_MutableMapping\r\ncollections_abc_Collection <|-- collections_abc_Mapping\r\ncollections_abc_Sized <|-- collections_abc_Collection\r\n\r\ncollections_abc_Iterable <|-- collections_abc_Collection\r\n\r\ncollections_abc_Container <|-- collections_abc_Collection\r\n\r\n\r\nevennia_utils_dbserialize__SaverMutable <|-- evennia_utils_dbserialize__SaverDeque\r\n\r\n```\r\n\r\nI could work on that but maybe I'm missing an obvious, already existing way of doing things so what do you think? \r\n\r\nMany thanks, regards", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2808/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2806", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2806/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2806/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2806/events", "html_url": "https://github.com/evennia/evennia/issues/2806", "id": 1304010988, "node_id": "I_kwDOAPX8f85NuaDs", "number": 2806, "title": "[BUG] dumpdata and typeclasses.Attribute", "user": {"login": "dvoraen", "id": 42825596, "node_id": "MDQ6VXNlcjQyODI1NTk2", "avatar_url": "https://avatars.githubusercontent.com/u/42825596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvoraen", "html_url": "https://github.com/dvoraen", "followers_url": "https://api.github.com/users/dvoraen/followers", "following_url": "https://api.github.com/users/dvoraen/following{/other_user}", "gists_url": "https://api.github.com/users/dvoraen/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvoraen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvoraen/subscriptions", "organizations_url": "https://api.github.com/users/dvoraen/orgs", "repos_url": "https://api.github.com/users/dvoraen/repos", "events_url": "https://api.github.com/users/dvoraen/events{/privacy}", "received_events_url": "https://api.github.com/users/dvoraen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-13T22:31:11Z", "updated_at": "2022-09-24T23:10:18Z", "closed_at": "2022-09-24T23:10:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nUse of the django-admin dumpdata command on typeclasses.Attribute will fail.  PickledObjectField will fail to serialize.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Go to the root folder for your evennia project.\r\n2. Command line: \"evennia dumpdata -o test.json --indent 4 typeclasses.Attribute\"\r\n3. Observe the following error:\r\n\r\n```\r\nCommandError: Unable to serialize database: 'PickledObjectField' object has no attribute '_get_val_from_obj'\r\nException ignored in: <generator object cursor_iter at 0x00000280921BB4A0>\r\nTraceback (most recent call last):\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\db\\models\\sql\\compiler.py\", line 1557, in cursor_iter\r\n    cursor.close()\r\nsqlite3.ProgrammingError: Cannot operate on a closed database.\r\n```\r\n\r\n4. If you include --traceback option in the command line, this is the (expanded) error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Scripts\\evennia_launcher.py\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"F:\\ArxDev\\evennia\\bin\\windows\\evennia_launcher.py\", line 18, in <module>\r\n    main()\r\n  File \"f:\\arxdev\\evennia\\evennia\\server\\evennia_launcher.py\", line 2282, in main\r\n    sys.exit(execute_from_command_line(sys.argv))\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 381, in execute_from_command_line\r\n    utility.execute()\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 375, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\management\\base.py\", line 323, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\management\\base.py\", line 364, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\management\\commands\\dumpdata.py\", line 181, in handle\r\n    serializers.serialize(\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\serializers\\__init__.py\", line 128, in serialize\r\n    s.serialize(queryset, **options)\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\serializers\\base.py\", line 107, in serialize\r\n    self.handle_field(obj, field)\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\serializers\\python.py\", line 50, in handle_field\r\n    self._current[field.name] = self._value_from_field(obj, field)\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\core\\serializers\\python.py\", line 47, in _value_from_field\r\n    return value if is_protected_type(value) else field.value_to_string(obj)\r\n  File \"f:\\arxdev\\evennia\\evennia\\utils\\picklefield.py\", line 289, in value_to_string\r\n    value = self._get_val_from_obj(obj)\r\nAttributeError: 'PickledObjectField' object has no attribute '_get_val_from_obj'\r\nException ignored in: <generator object cursor_iter at 0x000001EB86E0FCF0>\r\nTraceback (most recent call last):\r\n  File \"F:\\ArxDev\\arxcode\\venv\\Lib\\site-packages\\django\\db\\models\\sql\\compiler.py\", line 1557, in cursor_iter\r\n    cursor.close()\r\nsqlite3.ProgrammingError: Cannot operate on a closed database.\r\n```\r\n\r\n#### Expected behavior\r\nA bigass file named test.json in my current directory that contains a (JSON) dump of the attribute table.\r\n\r\n#### Environment, Evennia version, OS etc\r\nPython 3.8.10\r\nWindows 10 (PowerShell)\r\nEvennia 0.9.5 (Tehom's fork of it for Arx)\r\n\r\n#### Additional context\r\nI looked through the master branch of Evennia, and it seems like the code for PickledObjectField hasn't really changed compared to the fork I'm using (that is, the line ```value = self._get_val_from_obj(obj)``` is still present in PickledObjectField) so I presume it affects the current state of Evennia as well.\r\n\r\nMy dive through the Evennia code led me to wonder if ```value_from_string()``` in PickledObjectField is using defunct code, in that I can't find any function/method named ```_get_val_from_obj()``` anywhere, including django, from which PickledObjectField inherits.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2806/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2796", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2796/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2796/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2796/events", "html_url": "https://github.com/evennia/evennia/issues/2796", "id": 1296945181, "node_id": "I_kwDOAPX8f85NTdAd", "number": 2796, "title": "[BUG] using SET to create a dictionary attribute and assign a key:value pair at the same time creates a misnamed attribute", "user": {"login": "Tegiminis", "id": 2596300, "node_id": "MDQ6VXNlcjI1OTYzMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/2596300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tegiminis", "html_url": "https://github.com/Tegiminis", "followers_url": "https://api.github.com/users/Tegiminis/followers", "following_url": "https://api.github.com/users/Tegiminis/following{/other_user}", "gists_url": "https://api.github.com/users/Tegiminis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tegiminis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tegiminis/subscriptions", "organizations_url": "https://api.github.com/users/Tegiminis/orgs", "repos_url": "https://api.github.com/users/Tegiminis/repos", "events_url": "https://api.github.com/users/Tegiminis/events{/privacy}", "received_events_url": "https://api.github.com/users/Tegiminis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-07-07T07:18:23Z", "updated_at": "2022-09-24T23:30:54Z", "closed_at": "2022-09-24T23:30:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nUsing SET to create a dictionary attribute and assign a key:value pair at the same time through switches creates a misnamed attribute. For example, if you were to use `set self/foo['foo'] = 3`, it creates an attribute named `foo['foo']` with the value 3, rather than the attribute `foo = {'foo': 3}`.\r\n\r\nThis is a problem because if you then try to remove the misnamed attribute with `set self/foo['foo'] =`, it errors out as a mismatch, as it is an integer attribute instead of a dictionary. You can only remove it via code or resetting your typeclass.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Use `set self/foo['foo'] = 3`\r\n2. Observe that it creates the attribute `foo['foo'] = 3` instead of the attribute `foo = {'foo': 3}`\r\n\r\n#### Original Repro\r\n\r\n1. I had the following attribute on myself:``buffs = {'maxHP': {'ref': <class 'content.bufflist.PropertyBuffTest'>, 'pid': 'maxHP', 'start': 1657171549.4178708, 'duration': 0, 'prevtick': None, 'stacks': 1, 'source': succendo}}``\r\n2. I attempted to change the duration with the following command:``set self/buffs['maxHP']['duration'] = 30``\r\n3. Which created the attribute ``buffs['maxhp']['duration'] = 30``.\r\n4. I then attempted to delete it with the command ``set self/buffs['maxHP']['duration'] =``\r\n5. Which resulted in the following traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 621, in _run_command\r\n    ret = cmd.func()\r\n  File \"c:\\muddev\\evennia\\evennia\\commands\\default\\building.py\", line 1946, in func\r\n    result.append(self.rm_attr(obj, attr, category))\r\n  File \"c:\\muddev\\evennia\\evennia\\commands\\default\\building.py\", line 1739, in rm_attr\r\n    deep = self.do_nested_lookup(val, *nested_keys[:-1])\r\n  File \"c:\\muddev\\evennia\\evennia\\commands\\default\\building.py\", line 1706, in do_nested_lookup\r\n    result = result.__getitem__(key)\r\nAttributeError: 'int' object has no attribute '__getitem__'\r\n```\r\n\r\n#### Expected behavior\r\nEither an error that informs the player they must create a dictionary through the format `set self/foo = {'foo': 3}`, or proper parsing of set command arguments such that `set self/foo['foo'] = 3` creates the attribute `foo = {'foo': 3}`.\r\n\r\n#### Environment, Evennia version, OS etc\r\n1.0 dev\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2795", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2795/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2795/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2795/events", "html_url": "https://github.com/evennia/evennia/issues/2795", "id": 1296934190, "node_id": "I_kwDOAPX8f85NTaUu", "number": 2795, "title": "[BUG] SET command strips capitals from dictionary keys", "user": {"login": "Tegiminis", "id": 2596300, "node_id": "MDQ6VXNlcjI1OTYzMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/2596300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tegiminis", "html_url": "https://github.com/Tegiminis", "followers_url": "https://api.github.com/users/Tegiminis/followers", "following_url": "https://api.github.com/users/Tegiminis/following{/other_user}", "gists_url": "https://api.github.com/users/Tegiminis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tegiminis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tegiminis/subscriptions", "organizations_url": "https://api.github.com/users/Tegiminis/orgs", "repos_url": "https://api.github.com/users/Tegiminis/repos", "events_url": "https://api.github.com/users/Tegiminis/events{/privacy}", "received_events_url": "https://api.github.com/users/Tegiminis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-07T07:07:24Z", "updated_at": "2022-08-02T16:20:45Z", "closed_at": "2022-08-02T16:20:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe default SET command strips capitals from dictionary keys, which causes it to fail when attempting to set a dictionary value which has them, instead creating a new attribute with the name `attr['key']`\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a dictionary attribute on yourself named `foo` with the key `FooCap` and the value `3` through `py` or code\r\n2. Attempt to set the dictionary value using the SET command (`set self/foo['FooCap'] = 5`)\r\n3. Observe creation of new attribute instead of modification of existing attribute\r\n\r\n#### Expected behavior\r\nSET should not strip capitals from dictionary keys.\r\n\r\n#### Environment, Evennia version, OS etc\r\n1.0 dev\r\n\r\n#### Additional context\r\nYou have to go through `py` or a code path when creating the CamelCase dictionary key in order to repro this bug, as using SET to create the attribute in-client strips the capitals.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2795/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2792", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2792/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2792/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2792/events", "html_url": "https://github.com/evennia/evennia/issues/2792", "id": 1294532306, "node_id": "I_kwDOAPX8f85NKP7S", "number": 2792, "title": "[BUG - Develop] Over 9000 prototypes? Spawn slower than molasses", "user": {"login": "volundmush", "id": 4450786, "node_id": "MDQ6VXNlcjQ0NTA3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/4450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volundmush", "html_url": "https://github.com/volundmush", "followers_url": "https://api.github.com/users/volundmush/followers", "following_url": "https://api.github.com/users/volundmush/following{/other_user}", "gists_url": "https://api.github.com/users/volundmush/gists{/gist_id}", "starred_url": "https://api.github.com/users/volundmush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volundmush/subscriptions", "organizations_url": "https://api.github.com/users/volundmush/orgs", "repos_url": "https://api.github.com/users/volundmush/repos", "events_url": "https://api.github.com/users/volundmush/events{/privacy}", "received_events_url": "https://api.github.com/users/volundmush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-05T16:45:36Z", "updated_at": "2022-10-30T11:20:12Z", "closed_at": "2022-10-30T11:20:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen there are a ton of DbPrototype scripts saved in OLC, spawn becomes unbearably slow. Average of 8-15 seconds where the game locks up before it finally spits out an object.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create over 9000 DbPrototypes\r\n2. Try to spawn one of them.\r\n3. Cry as it takes 15 seconds.\r\n\r\n#### Expected behavior\r\nWell, presumably spawning an object shouldn't take longer than a few blinks...\r\n\r\n#### Develop-branch commit\r\n22fa2c6b\r\n\r\n#### Additional context\r\nI've deduced that this is only happening with DbPrototypes and it seems to have nothing to do with Django. if I do...\r\n```python\r\nDbPrototype.objects.filter_family(db_key=\"my_prototype\").first()\r\n```\r\n\r\ninstant result...\r\n\r\nStoring all of the prototypes as .py modules also doesn't seem to cause this.\r\n\r\nThis also appears to happen even if you are just spawning the simplest object possible, having nothing to do with the SAVED PROTOTYPES.\r\n\r\nspawn {\"key\": \"Worthless Junk\"}\r\nWill also take forever.\r\n\r\nThis has no correlation with the number of ObjectDB instances mind you because even with 450,000 objects, dig is instantaneous but spawn lags.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2792/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2789", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2789/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2789/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2789/events", "html_url": "https://github.com/evennia/evennia/issues/2789", "id": 1289007213, "node_id": "I_kwDOAPX8f85M1LBt", "number": 2789, "title": "[BUG - Develop] Can't `|` two SaverDicts", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-06-29T16:59:47Z", "updated_at": "2022-08-02T12:13:31Z", "closed_at": "2022-08-02T12:13:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen combining two attributes containing dict data, it fails with a traceback.\r\n```\r\nFile \"./TestGame/typeclasses/characters.py\", line 30, in test_attr\r\nreturn self.db.db_one | self.db.db_two\r\nFile \"./evennia/evennia/utils/dbserialize.py\", line 243, in __or__\r\nreturn self._data | other\r\nTypeError: unsupported operand type(s) for |: 'dict' and '_SaverDict\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Store dicts in two attributes or attribute properties.\r\n2. Use the `|` operator on them\r\n4. See error\r\n\r\n#### Develop-branch commit\r\n22fa2c6b8", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2783", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2783/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2783/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2783/events", "html_url": "https://github.com/evennia/evennia/issues/2783", "id": 1284231192, "node_id": "I_kwDOAPX8f85Mi9AY", "number": 2783, "title": "[BUG - Develop] `text` overrides `prompt` when in the same `msg` call", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-24T22:05:52Z", "updated_at": "2022-07-11T06:34:42Z", "closed_at": "2022-07-11T06:34:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAccording to [this How-To](https://www.evennia.com/docs/1.0-dev/Howtos/Command-Prompt.html), it's intended that you should be able to do `char.msg(\"a text message\", prompt=\"some prompt text\")` and have the server send both the normal message and also a prompt message.\r\n\r\nHowever, all of the portals appears to be designed so that, if `prompt` is in the kwargs, it _replaces_ the `prompt` string with `text` and sends that as a prompt.\r\n\r\n#### Expected behavior\r\nI'd expect it to behave as described in the documentation, where it sends the text field as a regular text message and the prompt field as a prompt message.\r\n\r\nEven if only one type of message could be sent at a time, in _no_ situation would I expect the `text` kwarg to replace the `prompt` kwarg and be sent in its place.\r\n\r\n#### Develop-branch commit\r\n6edf9064c\r\n\r\n#### Additional context\r\nIt doesn't look too difficult to fix this, just a bit tedious, so I'll take a stab at it over the next week.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2783/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2782", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2782/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2782/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2782/events", "html_url": "https://github.com/evennia/evennia/issues/2782", "id": 1282581424, "node_id": "I_kwDOAPX8f85McqOw", "number": 2782, "title": "[BUG] Issue creating superuser", "user": {"login": "Misan404", "id": 78882965, "node_id": "MDQ6VXNlcjc4ODgyOTY1", "avatar_url": "https://avatars.githubusercontent.com/u/78882965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Misan404", "html_url": "https://github.com/Misan404", "followers_url": "https://api.github.com/users/Misan404/followers", "following_url": "https://api.github.com/users/Misan404/following{/other_user}", "gists_url": "https://api.github.com/users/Misan404/gists{/gist_id}", "starred_url": "https://api.github.com/users/Misan404/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Misan404/subscriptions", "organizations_url": "https://api.github.com/users/Misan404/orgs", "repos_url": "https://api.github.com/users/Misan404/repos", "events_url": "https://api.github.com/users/Misan404/events{/privacy}", "received_events_url": "https://api.github.com/users/Misan404/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-23T15:22:36Z", "updated_at": "2022-06-25T11:35:25Z", "closed_at": "2022-06-25T11:35:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to create a superuser after migrating and it won't let me type in a password. I can put in a username and optional email, but when it asks for a password, I can't type anything. I can hit enter and it'll ask for me to enter the password again. Hitting enter a second time will say the passwords don't match.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2782/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2771", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2771/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2771/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2771/events", "html_url": "https://github.com/evennia/evennia/issues/2771", "id": 1273626255, "node_id": "I_kwDOAPX8f85L6f6P", "number": 2771, "title": "[BUG - Develop] Help Command doesn't honour Style settings", "user": {"login": "ShardsDev", "id": 56969683, "node_id": "MDQ6VXNlcjU2OTY5Njgz", "avatar_url": "https://avatars.githubusercontent.com/u/56969683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShardsDev", "html_url": "https://github.com/ShardsDev", "followers_url": "https://api.github.com/users/ShardsDev/followers", "following_url": "https://api.github.com/users/ShardsDev/following{/other_user}", "gists_url": "https://api.github.com/users/ShardsDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShardsDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShardsDev/subscriptions", "organizations_url": "https://api.github.com/users/ShardsDev/orgs", "repos_url": "https://api.github.com/users/ShardsDev/repos", "events_url": "https://api.github.com/users/ShardsDev/events{/privacy}", "received_events_url": "https://api.github.com/users/ShardsDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-16T14:14:56Z", "updated_at": "2022-10-23T10:12:19Z", "closed_at": "2022-10-23T10:12:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n(This is for bugs in the develop-branch only. Make sure you test with the latest version.)\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. use the style command to update help_category_color and help_entry_color\r\n2. type help or help <command.>\r\n3. See error - the style colors don't show up.\r\n\r\n#### Expected behavior\r\nThe help category and help entry colors should match the changed style colours.\r\n\r\n#### Develop-branch commit\r\n(The commit-hash. If unsure, run `evennia -v` or get the first few lines of the `about` command in-game.)\r\n Evennia version: 1.0-dev (rev c511b4b68)\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2770", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2770/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2770/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2770/events", "html_url": "https://github.com/evennia/evennia/issues/2770", "id": 1273619449, "node_id": "I_kwDOAPX8f85L6eP5", "number": 2770, "title": "[BUG - Develop] Style Command - references a command (@tz) that doesn't exist", "user": {"login": "ShardsDev", "id": 56969683, "node_id": "MDQ6VXNlcjU2OTY5Njgz", "avatar_url": "https://avatars.githubusercontent.com/u/56969683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShardsDev", "html_url": "https://github.com/ShardsDev", "followers_url": "https://api.github.com/users/ShardsDev/followers", "following_url": "https://api.github.com/users/ShardsDev/following{/other_user}", "gists_url": "https://api.github.com/users/ShardsDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShardsDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShardsDev/subscriptions", "organizations_url": "https://api.github.com/users/ShardsDev/orgs", "repos_url": "https://api.github.com/users/ShardsDev/repos", "events_url": "https://api.github.com/users/ShardsDev/events{/privacy}", "received_events_url": "https://api.github.com/users/ShardsDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-16T14:10:04Z", "updated_at": "2022-10-17T09:10:20Z", "closed_at": "2022-10-17T09:10:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn the Style command help, it references @tz which does not seem to exist anywhere. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Type style in game.\r\n2. type @tz \r\n3. See error\r\n\r\n#### Expected behavior\r\nThe time zone list should show; or the help file should be corrected.\r\n\r\n#### Develop-branch commit\r\n(The commit-hash. If unsure, run `evennia -v` or get the first few lines of the `about` command in-game.)\r\n Evennia version: 1.0-dev (rev c511b4b68) \r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2770/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2769", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2769/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2769/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2769/events", "html_url": "https://github.com/evennia/evennia/issues/2769", "id": 1273022290, "node_id": "I_kwDOAPX8f85L4MdS", "number": 2769, "title": "[BUG - Develop] Prototype spawner breaks on \"unknown parsed function\"", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-06-16T04:08:30Z", "updated_at": "2022-10-23T09:55:53Z", "closed_at": "2022-10-23T09:37:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI'm trying to spawn objects that have funcparser $funcs in an attribute string, in order to use that string in use emotes later. However, the prototype spawner crashes and burns hard whenever it encounters one of those in a string.\r\n\r\nFor example:\r\n```\r\n    File \"./mods/shops/vendors.py\", line 147, in _spawn\r\n      obj = spawn(proto)[0]\r\n    File \"./evennia/evennia/prototypes/spawner.py\", line 1022, in spawn\r\n      init_spawn_value(value, caller=caller, prototype=prototype),\r\n    File \"./evennia/evennia/prototypes/prototypes.py\", line 1133, in init_spawn_value\r\n      result = protfunc_parser(value, caller=caller, prototype=prototype)\r\n    File \"./evennia/evennia/prototypes/prototypes.py\", line 962, in protfunc_parser\r\n      result = FUNC_PARSER.parse(value, raise_errors=True, return_str=False, caller=caller, **kwargs)\r\n    File \"./evennia/evennia/utils/funcparser.py\", line 511, in parse\r\n      exec_return = self.execute(\r\n    File \"./evennia/evennia/utils/funcparser.py\", line 244, in execute\r\n      raise ParsingError(\r\n  evennia.utils.funcparser.ParsingError: Unknown parsed function '$gp(their)' (available: 'protkey', 'eval', 'add', 'sub', 'mult', 'div', 'round', 'toint', 'random', 'randint', 'choice', 'pad', 'crop', 'just', 'ljust', 'rjust', 'cjust', 'justify', 'justify_left', 'justify_right', 'justify_center', 'space', 'clr', 'search', 'obj', 'objlist', 'dbref')\r\n```\r\nIn this case, `$gp` is a custom funcparser I've added, which works perfectly well in all of the others contexts I'm using it. None of the other caller/receiver functions are there (of course) so I would expect they would break it the same way, e.g. `$conj(throw)`\r\n\r\n#### Expected behavior\r\nI'd expect it to work the same way the funcparser does in other contexts.\r\n\r\n#### Develop-branch commit\r\n6edf9064c\r\n\r\n#### Additional context\r\nBased on this bit:\r\n```py\r\nresult = FUNC_PARSER.parse(value, raise_errors=True, return_str=False, caller=caller, **kwargs)\r\n```\r\nIt looks like it's explicitly set to raise errors instead of ignoring invalid functions? Maybe we could have that as a kwarg option on `spawn` that gets passed along, instead of hardcoded? I could see the issue I'm having coming up again, once more people are using the new funcparser utility.\r\n\r\nBarring that: the initial solution which I looked for was actually some way to escape the functions, so that they would just be parsed from the escaped version to `$func` after the spawner was done with it and before it was applied to the object.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2763", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2763/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2763/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2763/events", "html_url": "https://github.com/evennia/evennia/issues/2763", "id": 1266620619, "node_id": "I_kwDOAPX8f85LfxjL", "number": 2763, "title": "[BUG - Develop] `EvForm` generates extraneous ANSI codes", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-06-09T20:29:29Z", "updated_at": "2022-11-05T18:16:54Z", "closed_at": "2022-11-05T17:13:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nPutting styling in an EvForm template seems to result in the style being extraneously re-applied further down the form. The issue is masked by the way ANSI code is parsed by consoles - I only discovered it through the webclient.\r\n\r\n#### To Reproduce\r\nI don't fully understand what's happening well enough to create a reproducible test case, but here's the situation where I identified the problem.\r\n\r\nMy form text:\r\n```\r\n.----------------------------------------------------------------------------.\r\n| |wNAME|n: xxxxxxxxxx1xxxxxxxxxxxx xxxx2xxxxx    F A T E   xxxxxxxxxxxxxxxxxxxx |\r\n|                                              /x4x|n\\\\    xxxxxxxxxxxxxxxxxxxx |\r\n| |wDESC|n: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx      [-----]   xxxxxxxxx0xxxxxxxxxx |\r\n|       xxxxxxxxxxxx3xxxxxxxxxxxxxxxxxxx       \\\\x5x/    xxxxxxxxxxxxxxxxxxxx |\r\n|       xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx      REFRESH   xxxxxxxxxxxxxxxxxxxx |\r\n >--------------------------------------------------------------------------<\r\n| |*> ASPECTS > > > > > > > > > |n | |*> SKILLS > > > > > > > > > > > > > > > > > |n |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| ccccccccccccAccccccccccccccc | ccccccccccccccccccccccBcccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n >--------------------------------------------------------------------------<\r\n| |*(Phys) > > STRESS < < (Ment)|n | |*> STUNTS and EXTRAS  > > > > > > > > > > > |n |\r\n| xxxxxx6xxxxxx  xxxxxx7xxxxxx | ccccccccccccccccccccccccccccccccccccccccccc |\r\n|                              | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| |*> CONSEQUENCE > > > > > > > |n | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccDcccccccccccccccccccc |\r\n| ccccccccccccCccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n| cccccccccccccccccccccccccccc | ccccccccccccccccccccccccccccccccccccccccccc |\r\n ----------------------------------------------------------------------------\r\n```\r\n\r\n\r\nThe output to my log via `logger.log_msg`:\r\n```\r\n.----------------------------------------------------------------------------.\r\n| ^[1m^[37mNAME^[0m: ^[0mGM(#1)                 ^[0m^[1m^[37m^[0m ^[0mthey/them ^[0m^[1m^[37m^[0m^[0m^[0m^[1m^[37m^[0m    F A T E   ^[0m^[1m^[37m       .           ^[0m ^[0m^[1m^[37m^[0m^[0m^[0m^[1m^[37m^[0m^[0m^[0m^[1m^[37m^[0m^[0m^[0m^[1m^[37m^[0m |\r\n|                                              /^[0m.0.^[0m^[0m\\    ^[0m^[1m^[37m^[0m^[1m^[37m.!=== / \\ =========^[0m ^[0m^[0m^[0m^[0m |\r\n| ^[1m^[37mDESC^[0m: ^[0mThis is User #1.                ^[0m^[1m^[37m^[0m      [-----]   ^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[1m^[37m=!== /___\\  !  !== ^[0m ^[0m^[1m^[37m^[0m |\r\n|       ^[0m                                ^[0m       \\^[0m.3.^[0m^[0m^[0m/    ^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[1m^[37m.!  /     \\ !  !===^[0m ^[0m |\r\n|       ^[0m                                ^[0m      REFRESH   ^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[1m^[37m^[0m      CORE MU*      ^[0m |\r\n >--------------------------------------------------------------------------< \r\n| ^[7m> ASPECTS > > > > > > > > > ^[0m | ^[7m> SKILLS > > > > > > > > > > > > > > > > > ^[0m |\r\n| ^[0m^[0mconcept ^[0m     ^[0m^[0m^[0mI'm A Genius ^[0m  ^[0m | ^[0m^[0mGreat (+4) ^[0m .......^[0m^[0m^[0mDecei, Lore, Resou ^[0m ....^[0m^[0m^[0m^[0m^[0m^[0m^[0m^[0m^[0m |\r\n| ^[0m^[0mtrouble ^[0m     ^[0m^[0m^[0mOh No! ^[0m        ^[0m | ^[0m^[0mGood (+3) ^[0m ........^[0m^[0m^[0mCraft, Inves, Rappo ^[0m ...^[0m^[0m^[0m^[0m^[0m^[0m^[0m^[0m^[0m |\r\n| ^[0m             ^[0m^[0m               ^[0m | ^[0m^[0mFair (+2) ^[0m ........^[0m^[0m^[0mConta, ^[0mFight, ^[0mPr[...]...^[0m^[0m^[0m^[0m^[0m |\r\n| ^[0m             ^[0m^[0m               ^[0m | ^[0m^[0mAverage (+1) ^[0m .....^[0m^[0m^[0mBurgl, ^[0mEmpat, ^[0mPh[...]...^[0m^[0m^[0m^[0m^[0m |\r\n| ^[0m             ^[0m^[0m               ^[0m | ^[0m^[0mMediocre (+0) ^[0m ....^[0m^[0m^[0mAthle, ^[0mDrive, ^[0mNotic, ^[0m...^[0m^[0m^[0m^[0m^[0m |\r\n| ^[0m             ^[0m^[0m               ^[0m | ^[0m...................^[0m^[0m^[0mShoot^[0m...................^[0m^[0m^[0m^[0m^[0m |\r\n >--------------------------------------------------------------------------< \r\n| ^[7m(Phys) > > STRESS < < (Ment)^[0m | ^[7m> STUNTS and EXTRAS  > > > > > > > > > > > ^[0m |\r\n| ^[0m^[1m^[37m[1]^[0m^[1m^[37m[2]^[0m[3][4] ^[0m  ^[0m.^[1m^[37m[1]^[0m^[1m^[37m[2]^[0m[3][4]^[0m^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[0m | ^[0m^[0mstunts ^[0m                                    ^[0m^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[0m^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[0m^[0m^[1m^[37m^[0m^[1m^[37m^[0m^[0m |\r\n|                              | ^[0m^[0mextras ^[0m                                    ^[0m |\r\n| ^[7m> CONSEQUENCE > > > > > > > ^[0m | ^[0m                                           ^[0m^[7m^[0m |\r\n| ^[0m^[0m^[1m^[37m[2]^[0m ^[0m                        ^[0m | ^[0m                                           ^[0m |\r\n| ^[0m^[0m^[1m^[37m[4]^[0m ^[0m                        ^[0m | ^[0m                                           ^[0m |\r\n| ^[0m^[0m^[1m^[37m[6]^[0m ^[0m                        ^[0m | ^[0m                                           ^[0m |\r\n| ^[0m^[0m[2] ^[0m                        ^[0m | ^[0m                                           ^[0m |\r\n ---------------------------------------------------------------------------- \r\n                                                                              \r\n```\r\n\r\nTo highlight a specific line:\r\n```\r\nInput string:\r\n| |*> CONSEQUENCE > > > > > > > |n | ccccccccccccccccccccccccccccccccccccccccccc |\r\n\r\nOutput string: \r\n| ^[7m> CONSEQUENCE > > > > > > > ^[0m | ^[0m                                           ^[0m^[7m^[0m |\r\n```\r\nThere are a _ton_ of extra ANSI normal flags all throughout the text, but those aren't in themselves much of an issue - it's the reoccurrence of previous flags that's concerning.\r\n\r\n#### Develop-branch commit\r\n6edf9064c\r\n\r\n#### Additional context\r\nAfter seeing what's going on, I can (and will) patch `text2html` to correct for it by having the ANSI normal flag override any previous adjacent flags, which should fix the user-facing issues. However, there's clearly something amiss in the way the form template is being converted that should likely be addressed at some point.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2763/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2762", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2762/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2762/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2762/events", "html_url": "https://github.com/evennia/evennia/issues/2762", "id": 1266463503, "node_id": "I_kwDOAPX8f85LfLMP", "number": 2762, "title": "[BUG - Develop] `EvTable` adds two extra spaces to cell data", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-09T17:44:50Z", "updated_at": "2022-11-06T09:23:41Z", "closed_at": "2022-11-06T09:23:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nRegardless of width or padding settings, two extra spaces get added on to cell contents. These extra spaces get counted as part of the cell width, so it crops or wraps at len(contents)+2 instead of at len(contents).\r\n\r\n#### To Reproduce\r\n```py\r\ncolA = EvColumn(\"this\",\"is\",\"a\",\"column\")\r\ncolB = EvColumn(\"and\",\"another\",\"one\",\"here\",width=8) #shouldn't wrap anything, \"another\" is 7 long\r\ntable = EvTable(table=[colA,colB],fill_char='.',pad_char='#')\r\nprint(table)\r\n```\r\n#### Actual Output\r\n```\r\n+----------+----------+\r\n|#this  ..#|#and     #|\r\n|#is  ....#|#anothe  #|\r\n|#........#|#r       #|\r\n|#a  .....#|#one     #|\r\n|#column  #|#here    #|\r\n+----------+----------+\r\n```\r\n#### Expected Ouput\r\n```\r\n+--------+----------+\r\n|#this..#|#and.....#|\r\n|#is....#|#another.#|\r\n|#a.....#|#one.....#|\r\n|#column#|#here....#|\r\n+--------+----------+\r\n```\r\n#### Develop-branch commit\r\nf47c723\r\n\r\n#### Additional context\r\nWhen demonstrating the wrapping length, you can also see that it ignores the fill character when establishing width and uses a space instead. I think that caused by the same issue as #2761 \r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2761", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2761/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2761/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2761/events", "html_url": "https://github.com/evennia/evennia/issues/2761", "id": 1266439271, "node_id": "I_kwDOAPX8f85LfFRn", "number": 2761, "title": "[BUG - Develop] `EvTable` enforces `width` kwarg, but then expands the column anyway", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-09T17:21:11Z", "updated_at": "2022-11-06T09:56:37Z", "closed_at": "2022-11-06T09:56:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nExplicitly setting a width on a column results in any cells longer than that being cropped, which is correct. However, if the table width is set larger, it expands the column to beyond the declared width.\r\n\r\n#### To Reproduce\r\n```py\r\ncolA = EvColumn(\"it\",\"is\",\"a\",\"column\",width=5,enforce_size=True)\r\ncolB = EvColumn(\"and\",\"another\",\"column\",\"here\")\r\ntable = EvTable(table=[colA,colB],border=None,width=40)\r\nself.caller.msg(table)\r\n```\r\nThis crops \"column\" to fit the width and then adds on extra fill space, leading both to a column that is wider than desired and to having text cropped when it would fit.\r\n\r\n#### Expected behavior\r\nThe first column should be capped at the width of 6, and the _second_ column should be the only one to expand to fill the table width. (If there were 3 columns and the first had a width set, I would expect the 2nd and 3rd to expand, etc.)\r\n\r\n#### Develop-branch commit\r\nf47c72317\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2760", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2760/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2760/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2760/events", "html_url": "https://github.com/evennia/evennia/issues/2760", "id": 1266401649, "node_id": "I_kwDOAPX8f85Le8Fx", "number": 2760, "title": "[BUG - Develop] `EvTable` overrides `EvColumn` styling with defaults", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-09T16:43:24Z", "updated_at": "2022-11-06T10:01:11Z", "closed_at": "2022-11-06T10:01:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAttempting to style individual `EvColumn` elements using the allowed kwargs (e.g. `fill_char`, `align`) is overridden by the table's settings, _even if_ no styles have been explicitly passed to the `EvTable` and it's just assuming defaults.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n```py\r\ncolumn = EvColumn(\"this\",\"is\",\"a\",\"column\",fill_char='.')\r\ntable = EvTable(table=[column])\r\nprint(table)\r\n```\r\n\r\n#### Expected behavior\r\nI'd expect the column to use the `.` to fill in extra space as explicitly set, but it instead uses the default implicit ` `.\r\n\r\nI haven't rigorously checked all of the options, but it happens with `align` as well.\r\n\r\n#### Develop-branch commit\r\nf47c72317\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2759", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2759/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2759/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2759/events", "html_url": "https://github.com/evennia/evennia/issues/2759", "id": 1266368226, "node_id": "I_kwDOAPX8f85Lez7i", "number": 2759, "title": "[BUG - Develop] EvForm strips *single* leading spaces on cells", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-09T16:10:18Z", "updated_at": "2022-11-05T18:11:31Z", "closed_at": "2022-11-05T18:11:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen putting a string into an EvForm cell, if it begins with a single leading space, that space is stripped. If there is more than one leading space, all of the spaces are left intact.\r\n\r\n#### To Reproduce & Expected Behavior\r\nI put together a `formtest` command that demonstrates the issue: <https://pastebin.com/YdNpMdWX>\r\n\r\nThe expected form output is:\r\n```\r\n.-----------------------.\r\n|       Test Form       |\r\n|                       |\r\n|. Hi.   . Single space |\r\n|.       .  Double      |\r\n|.       . Single again |\r\n|        .              |\r\n|                       |\r\n ----------------------- \r\n```\r\nWhile the actual displayed form is this:\r\n```\r\n.-----------------------.\r\n|       Test Form       |\r\n|                       |\r\n|.Hi.    .Single space  |\r\n|.       .  Double      |\r\n|.       .Single again  |\r\n|        .              |\r\n|                       |\r\n ----------------------- \r\n```\r\nAs you can see based on the anchor dots, the lines that are supposed to have a single leading space have _no_ leading space, while the line with the double leading space is printed correctly.\r\n\r\n#### Develop-branch commit\r\nf47c72317\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2759/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2756", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2756/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2756/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2756/events", "html_url": "https://github.com/evennia/evennia/issues/2756", "id": 1263825743, "node_id": "I_kwDOAPX8f85LVHNP", "number": 2756, "title": "[BUG] Unhandled Error always occurs when you click Play Online on the homepage", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-07T20:24:46Z", "updated_at": "2022-06-08T06:33:39Z", "closed_at": "2022-06-08T03:31:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nUnhandled Error always occurs when you click Play Online on the homepage\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. evennia --init mygame\r\n2. cd mygame\r\n3. evennia -l start\r\n4. web browser localhost:4005, Play Online (menu click)\r\n\r\n#### Expected behavior\r\n22-06-07 20:17:23  |Portal| Unhandled Error\r\n\tTraceback (most recent call last):\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/python/log.py\", line 101, in callWithLogger\r\n\t    return callWithContext({\"system\": lp}, func, *args, **kw)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/python/log.py\", line 85, in callWithContext\r\n\t    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n\t    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/python/context.py\", line 83, in callWithContext\r\n\t    return func(*args, **kw)\r\n\t--- <exception caught here> ---\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/internet/selectreactor.py\", line 149, in _doReadOrWrite\r\n\t    why = getattr(selectable, method)()\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/internet/tcp.py\", line 247, in doRead\r\n\t    return self._dataReceived(data)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/internet/tcp.py\", line 252, in _dataReceived\r\n\t    rval = self.protocol.dataReceived(data)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/protocols/basic.py\", line 554, in dataReceived\r\n\t    why = self.rawDataReceived(data)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/web/http.py\", line 706, in rawDataReceived\r\n\t    self.handleResponseEnd()\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/web/proxy.py\", line 82, in handleResponseEnd\r\n\t    self.father.finish()\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/web/server.py\", line 279, in finish\r\n\t    return http.Request.finish(self)\r\n\t  File \"/Users/ethan/evenv/lib/python3.9/site-packages/twisted/web/http.py\", line 1131, in finish\r\n\t    raise RuntimeError(\r\n\tbuiltins.RuntimeError: Request.finish called on a request after its connection was lost; use Request.notifyFinish to keep track of this.\r\n(Replace with a clear and concise description of what you expected to happen.)\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev fc6b8550b) (rev fc6b8550b)\r\n    OS: posix\r\n    Python: 3.9.12\r\n    Twisted: 21.7.0\r\n    Django: 3.2.13\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2753", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2753/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2753/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2753/events", "html_url": "https://github.com/evennia/evennia/issues/2753", "id": 1261156313, "node_id": "I_kwDOAPX8f85LK7fZ", "number": 2753, "title": "[BUG - Develop] django.contrib.admin.sites.AlreadyRegistered raised", "user": {"login": "cfcohen", "id": 2515512, "node_id": "MDQ6VXNlcjI1MTU1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2515512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfcohen", "html_url": "https://github.com/cfcohen", "followers_url": "https://api.github.com/users/cfcohen/followers", "following_url": "https://api.github.com/users/cfcohen/following{/other_user}", "gists_url": "https://api.github.com/users/cfcohen/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfcohen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfcohen/subscriptions", "organizations_url": "https://api.github.com/users/cfcohen/orgs", "repos_url": "https://api.github.com/users/cfcohen/repos", "events_url": "https://api.github.com/users/cfcohen/events{/privacy}", "received_events_url": "https://api.github.com/users/cfcohen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-05T20:47:45Z", "updated_at": "2022-06-05T22:01:12Z", "closed_at": "2022-06-05T22:01:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen trying to migrate or start a new evennia game, django raises django.contrib.admin.sites.AlreadyRegistered in several modules.\r\n\r\nThis might be a configuration error in some way on my system, because I'm not very familiar with Django or evennia, and I have run older versions of evennia in the past.  If so please feel free to say so and largely ignore this report.  I've worked around the problem, I'm just exploring the development branch, and thought I should report this for your awareness.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `sudo python3 setup.py install`\r\n2. `evennia --init mygame`\r\n3. `cd mygame`\r\n4. `evennia migrate`\r\n5. See error.\r\n\r\n#### Expected behavior\r\nMigration occurs.\r\n\r\n#### Develop-branch commit\r\n6edf9064c9df6912b66a3f402908ed2d82cf991b\r\n\r\n#### Additional context\r\nRemoving the following lines from various files in web/admin makes the error go away:\r\n\r\n```\r\n@admin.register(AccountDB)\r\n@admin.register(ChannelDB)\r\n@admin.register(HelpEntry)\r\n@admin.register(ObjectDB)\r\n@admin.register(ScriptDB)\r\n@admin.register(ServerConfig)\r\n@admin.register(Tag)\r\n```\r\n\r\nHowever, it's not clear to me that this is the correct fix, even though the attributes seem to appear correctly in the Django admin interface.  Instead, adding something like this might be more appropriate, which also works for me but raises AlreadyRegistered in every invocation I've found.\r\n\r\n```\r\ntry:\r\n    from django.contrib.admin.sites import site as default_site\r\n    default_site.register(Tag, TagAdmin)\r\nexcept admin.sites.AlreadyRegistered:\r\n    pass\r\n```\r\n\r\nI can submit a pull request in either style if it's actually the correct fix.  There's also one reference to `@admin.register(Msg)` in comms.py that does not raise AlreadyRegistered for some reason, and I've left it unchanged without really understanding this issue.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2747", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2747/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2747/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2747/events", "html_url": "https://github.com/evennia/evennia/issues/2747", "id": 1251786036, "node_id": "I_kwDOAPX8f85KnL00", "number": 2747, "title": "[BUG - Develop] `get_by_tag` category list fails on None", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-29T04:40:01Z", "updated_at": "2022-05-31T19:22:05Z", "closed_at": "2022-05-31T19:22:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using a list for the `category` kwarg that contains an entry of `None` (which is a valid category), it fails with a traceback. Presumably due to the use of `sorted` here <https://github.com/evennia/evennia/blob/develop/evennia/typeclasses/managers.py#L289>\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add tags to an object (e.g. a room), both with categories and without. Let's say:\r\n```\r\ntag here = test\r\ntag here = tag1:cat1\r\ntag here = tag2:cat2\r\n```\r\n2. `Room.objects.get_by_tag(key=[\"tag1\",\"tag2\"], category=[\"cat1\",\"cat2\"])` returns the current room\r\n3. `Room.objects.get_by_tag(key=[\"tag1\",\"test\"], category=[\"cat1\",None])` _should_ return the current room as well, but instead will traceback.\r\n\r\n#### Expected behavior\r\nSince `None` is a valid tag category, the function should be capable of searching for tags with categories of strings _and_ of `None`.\r\n\r\n#### Develop-branch commit\r\n7f4769bd9\r\n\r\n#### Additional context\r\nTraceback:\r\n```\r\nFile \"./evennia/evennia/typeclasses/managers.py\", line 289, in get_by_tag\r\n    unique_categories = sorted(set(categories))\r\nTypeError: '<' not supported between instances of 'NoneType' and 'str'\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2744", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2744/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2744/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2744/events", "html_url": "https://github.com/evennia/evennia/issues/2744", "id": 1248946187, "node_id": "I_kwDOAPX8f85KcWgL", "number": 2744, "title": "[BUG - Develop] GlobalScriptsContainer only starts scripts from settings", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-26T00:35:43Z", "updated_at": "2022-05-27T08:59:14Z", "closed_at": "2022-05-27T08:59:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhile all other means of viewing the global scripts return all global scripts from the database, `GlobalScriptsContainer.start()` will only iterate through the scripts defined within settings.py\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a global script in-game that has a timer component.\r\n2. Make sure it's running.\r\n3. Stop the server, then start it again.\r\n4. The script created in game will not be running.\r\n\r\n#### Develop-branch commit\r\n7f4769bd9\r\n\r\n#### Additional context\r\nThe problem seems to be rooted in `__init__` creating `self.loaded_data` from the settings file here: <https://github.com/evennia/evennia/blob/7f4769bd9d3403b8011998b0c903a490caa07be9/evennia/utils/containers.py#L116-L118>\r\nand then that is what's iterated through in `.start` when starting the scripts back up:\r\n<https://github.com/evennia/evennia/blob/7f4769bd9d3403b8011998b0c903a490caa07be9/evennia/utils/containers.py#L187>\r\nNothing else is added to `loaded_data` anywhere else, so only the scripts defined in settings are ever auto-started.\r\n\r\nI can see that `._get_scripts` retrieves all of the scripts from the database, but I'm not personally familiar enough with how to work with a django queryset to attempt adding that in.\r\n\r\n(p.s. unrelated to the bug, but when I was in there I noticed `self.load_data()` is called both in `.start` and in `._load_script` which is probably not necessary)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2744/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2742", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2742/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2742/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2742/events", "html_url": "https://github.com/evennia/evennia/issues/2742", "id": 1239180568, "node_id": "I_kwDOAPX8f85J3GUY", "number": 2742, "title": "[BUG - Develop] LOCALECHO flag has no effect when using the webclient", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-17T21:34:58Z", "updated_at": "2022-06-02T06:35:25Z", "closed_at": "2022-06-02T06:35:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen `option LOCALECHO=True` and using the webclient, the input text isn't echoed back to the client\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set up an account in a game and connect with the webclient\r\n2. set the `LOCALECHO` option to True\r\n3. Enter any commands\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe flag is supposed to cause the portal to echo back whatever you sent, regardless of protocol.\r\n\r\n#### Develop-branch commit\r\n7f4769bd9\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2737", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2737/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2737/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2737/events", "html_url": "https://github.com/evennia/evennia/issues/2737", "id": 1228748649, "node_id": "I_kwDOAPX8f85JPTdp", "number": 2737, "title": "[BUG - Develop] funcparser breaks when args contain an odd number of apostrophe or quote marks", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2022-05-07T23:35:01Z", "updated_at": "2022-10-29T16:45:37Z", "closed_at": "2022-10-29T16:45:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen a string with an odd number of quote or apostrophe characters is put into a funcparser function, it fails to parse the function.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Put `$crop(spider silk, 5)` through the parser and verify it works (output: `spide`)\r\n2. Put `$crop(spider's silk, 5)` through the parser: one apostrophe, output: `$crop(spider's silk, 5)`\r\n3. Then put `$crop(spider's' silk, 5)` through the parser: two apostrophies, output: `spide`\r\n4. Lastly, put `$crop('spider's' silk, 5)` through the parser: three apostrophes, output: `$crop('spider's' silk, 5)`\r\n\r\n#### Expected behavior\r\nIt should successfully parse the function when it's being given a string that contains a single quote mark or apostrophe.\r\n\r\n#### Develop-branch commit\r\n7f4769bd9", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2737/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2736", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2736/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2736/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2736/events", "html_url": "https://github.com/evennia/evennia/issues/2736", "id": 1228513276, "node_id": "I_kwDOAPX8f85JOZ_8", "number": 2736, "title": "[BUG - Develop] CmdSet.remove() does not take string args", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-05-07T03:32:47Z", "updated_at": "2022-08-02T10:59:39Z", "closed_at": "2022-08-02T10:59:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nNot sure if it's a documentation error or a code error - this claims that you can pass it the key of a command to remove, but causes a traceback.\r\nhttps://github.com/evennia/evennia/blob/7f4769bd9d3403b8011998b0c903a490caa07be9/evennia/commands/cmdset.py#L566-L568 \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Attempt to remove a command from any CmdSet with the key, e.g. `self.remove(\"charcreate\")`\r\n2. The code gives a traceback because it cannot handle a string.\r\n\r\n#### Expected behavior\r\nEither it should remove the command in the set with that key or the docstring is inaccurate.\r\n\r\n#### Develop-branch commit\r\n7f4769bd9\r\n\r\n#### Additional context\r\nThe traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \".../evennia/evennia/commands/cmdsethandler.py\", line 208, in import_cmdset\r\n    cmdsetclass = cmdsetclass(cmdsetobj)\r\n  File \".../evennia/evennia/commands/cmdset.py\", line 222, in __init__\r\n    self.at_cmdset_creation()\r\n  File \"./accounts/commands.py\", line 27, in at_cmdset_creation\r\n    self.remove(\"charcreate\")\r\n  File \".../evennia/evennia/commands/cmdset.py\", line 572, in remove\r\n    if cmd.key.startswith(\"__\"):\r\nAttributeError: 'str' object has no attribute 'key'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2734", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2734/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2734/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2734/events", "html_url": "https://github.com/evennia/evennia/issues/2734", "id": 1225417327, "node_id": "I_kwDOAPX8f85JCmJv", "number": 2734, "title": "[BUG - Develop] Character remains puppeted after player goes link dead", "user": {"login": "jumpscarejumpscare", "id": 90410262, "node_id": "MDQ6VXNlcjkwNDEwMjYy", "avatar_url": "https://avatars.githubusercontent.com/u/90410262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jumpscarejumpscare", "html_url": "https://github.com/jumpscarejumpscare", "followers_url": "https://api.github.com/users/jumpscarejumpscare/followers", "following_url": "https://api.github.com/users/jumpscarejumpscare/following{/other_user}", "gists_url": "https://api.github.com/users/jumpscarejumpscare/gists{/gist_id}", "starred_url": "https://api.github.com/users/jumpscarejumpscare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jumpscarejumpscare/subscriptions", "organizations_url": "https://api.github.com/users/jumpscarejumpscare/orgs", "repos_url": "https://api.github.com/users/jumpscarejumpscare/repos", "events_url": "https://api.github.com/users/jumpscarejumpscare/events{/privacy}", "received_events_url": "https://api.github.com/users/jumpscarejumpscare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-04T14:01:17Z", "updated_at": "2022-10-29T19:01:31Z", "closed_at": "2022-10-29T19:01:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf someone loses their connection to Evennia without quitting/unpuppeting properly, their character will still be marked as online until they receive a msg of some kind.\r\n\r\nWhen the window is closed, the 60 second detection might detect that the account is no longer active, but the character doesn't get unpuppeted until something \"observes\" the character. I'm not sure how best to describe it. It's like Schrodinger's Character, you don't know if it's logged out until it's observed.\r\n\r\nFor example, a link dead character will just remain in a room by itself, forever. Once your character either enters the room or says something in the room, you'll instantly see them get unpuppeted, even if they logged out over a day ago.\r\n\r\nOwllex has stated observing this in Owllex's game, too.\r\n\r\nThis has been observed in 1.0, but I originally experienced it in 0.9.5 and have upgraded since.\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. One way of achieving a logged-in link dead state is by browsing to the webclient and logging on with one character in a tablet's browser. Next, press the home button to leave the browser, then turn off the tablet.\r\n2. Wait a few minutes.\r\n3. Have a second character walk into the room that the link dead character is in. You'll see the character there.\r\n4. Sometimes that's enough to get the link dead character to be unpuppeted. Other times you need to take a single action in the room.\r\n5. See error in \"Additional context\" section.\r\n\r\n\r\n#### Expected behavior\r\nThe link dead character should be unpuppeted after the 60 second timeout. According to Griatch, \"If you close the client window without logging out normally, the portal should ping and detect this after a 60 second timeout. Or sooner, if data is tried to be sent to the disconnected client before that.\"\r\n\r\nThe \"or sooner\" part seems to be doing its job, but not the 60 second timeout.\r\n\r\n\r\n#### Develop-branch commit\r\n        Evennia version: 1.0-dev (rev f093c8bcb)\r\n        OS: posix\r\n        Python: 3.9.5\r\n        Twisted: 21.7.0\r\n        Django: 4.0.3\r\n\r\n\r\n#### Additional context\r\nHere's a log of it happening in-game, from the perspective of a character named Bonnie walking in on a link-dead character named Clyde. Bonnie moves into the room with Clyde. (Clyde should have received a message about Bonnie entering the room, but it doesn't cause Clyde to be unpuppeted.) Then Bonnie says \"Um,\" which causes Clyde to be unpuppeted.\r\n\r\nYou head toward the west.\r\n\r\n[...New room description...]\r\nClyde is standing here.\r\n[...]\r\n\r\nYou say, \"Um.\"\r\nExhaustion's hand engulfs Clyde in dreamless rest. (This is the unpuppeted message.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2734/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2730", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2730/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2730/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2730/events", "html_url": "https://github.com/evennia/evennia/issues/2730", "id": 1212755262, "node_id": "I_kwDOAPX8f85ISS0-", "number": 2730, "title": "[BUG - Develop] XYZGrid contrib breaks in newest python versions", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-22T20:40:09Z", "updated_at": "2022-04-23T03:23:31Z", "closed_at": "2022-04-23T03:23:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhile I don't personally use python 3.10, I've noticed the PRs are all failing 3.10 tests recently and when investigating my own, discovered that the `xyzgrid` unit tests are all failing for Python 3.10.4.\r\n\r\nIt appears on cursory examination as though the map parsing is returning `None`.\r\n\r\n#### To Reproduce\r\nI haven't personally reproduced it, but according to github's test results:\r\n\r\n1. Upgrade to Python 3.10.4\r\n2. Run unit tests\r\n3. See error\r\n\r\n#### Develop-branch commit\r\nf093c8bcb\r\n\r\n#### Additional information\r\nHopefully someone who uses 3.10 can better trace the point of failure or give more context", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2722", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2722/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2722/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2722/events", "html_url": "https://github.com/evennia/evennia/issues/2722", "id": 1197605382, "node_id": "I_kwDOAPX8f85HYgIG", "number": 2722, "title": "[BUG] tickerhandler.clear() not functioning correctly.", "user": {"login": "RandomEC", "id": 97635743, "node_id": "U_kgDOBdHNnw", "avatar_url": "https://avatars.githubusercontent.com/u/97635743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RandomEC", "html_url": "https://github.com/RandomEC", "followers_url": "https://api.github.com/users/RandomEC/followers", "following_url": "https://api.github.com/users/RandomEC/following{/other_user}", "gists_url": "https://api.github.com/users/RandomEC/gists{/gist_id}", "starred_url": "https://api.github.com/users/RandomEC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RandomEC/subscriptions", "organizations_url": "https://api.github.com/users/RandomEC/orgs", "repos_url": "https://api.github.com/users/RandomEC/repos", "events_url": "https://api.github.com/users/RandomEC/events{/privacy}", "received_events_url": "https://api.github.com/users/RandomEC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-04-08T17:52:02Z", "updated_at": "2022-04-23T12:40:10Z", "closed_at": "2022-04-23T12:40:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI ran a script to clean up some lingering tickers that I created without corresponding code to get rid of them when done. The active elements were:\r\n\r\n```python\r\ntickerhandler.clear(interval=900)\r\ntickerhandler.clear(interval=1800)\r\n```\r\nAfter running, any command that called tickerhandler created an error similar to this (apologies for some typos, had to use a text converter from a photo).\r\n\r\n```python\r\nTraceback (most recent call last): \r\nFile \"c:\\users\\bradm\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 644, in _run_command ret = cmd. func() \r\n\r\nFile \".\\commands combat_commands.py\", line 464, in func combat = rules_combat.create_combat(caller, target) \r\n\r\nFile \"C:\\Users\\bradm\\muddev\\echoes\\world\\rules_combat.py\", line 25, in create_combat combat = create_object(\"commands.combat_commands.Combat\", key=(\"combat_handler_%S\" % attacker.location.db. vnum)) \r\n\r\nFile \"c:\\users\\bradm\\muddev\\evennia\\evennia\\utils\\create.py\", line 171, in create_object new_object. save() \r\n\r\nFile \"c:\\users\\bradm\\muddev\\evennia\\evennia\\utils\\idmapper\\models.py\", line 442, in save super().save(*args, **kwargs) \r\n\r\nFile \"C:\\Users\\bradm\\muddev\\evenv\\Lib\\site-packages\\django\\db\\models\\base.py\", line 740, in save force_update=force_update, update_fields=update_fields) \r\n\r\nFile \"C:\\Users\\bradm\\muddev\\evenv\\Lib\\site-packages\\django\\db\\models\\base.py\", line 789, in save_base update_fields=update_fields, raw=raw, using=using, \r\n\r\nFile \"C:\\Users\\bradm\\muddev\\evenv\\Lib\\site-packages\\django\\dispatch\\dispatcher.py\", line 182, in send for receiver in self._live_receivers ( sender) \r\n\r\nFile \"C:\\Users\\bradm\\muddev\\evenv\\Lib\\site-packages\\django\\dispatch\\dispatcher.py\", line 182, in <listcomp> for receiver in self._live_receivers ( sender) \r\n\r\nFile \"c:\\users\\bradm\\muddevlevennialevennia\\typeclasses\\models.py\", line 70, in call_at_first_save instance.at_first_save(). \r\n\r\nFile \"c:\\users\\bradm\\muddevlevennia\\evennia\\objects\\objects.py\", line 1141, in at_first_save self.at_object_creation() \r\n\r\nFile \".\\commands\\combat_commands.py\", line 22, in at_object_creation \r\ntickerhandler.add(2, self.at_repeat) \r\n\r\nFile \"c:\\users\\bradm\\muddev\\evennialevennia\\scripts\\tickerhandler.py\", line 533, in add self.save(). \r\n\r\nFile \"c:\\users\\bradm\\muddev\\evennia\\evennia\\scripts\\tickerhandler.py\", line 416, in save for store_key, (args, kwargs) in self.ticker_storage. items (). \r\n\r\nFile \"c:\\users\\bradm\\muddev\\evennialevennia\\scripts\\tickerhandler.py\", line 416, in <dictcomp> for store_key, (args, kwargs) in self.ticker_storage. items () \r\n\r\nValueError: too many values to unpack (expected 2) \r\nAn untrapped error occurred. \r\n(Traceback was logged 22-04-08 08:39:23-04). \r\n```\r\n#### To Reproduce\r\n\r\nBelow is a best guess, since I haven't been able to ELIMINATE the behavior yet. ;)\r\n\r\nSteps to reproduce the behavior:\r\n1. Have existing tickers of interval 900 (approx. 10)\r\n2. Have one existing ticker of interval 1800\r\n3. Run a script containing the above lines as a part of at_script_creation\r\n4. See error\r\n\r\n#### Expected behavior\r\n\r\nI expected it to simply eliminate all of the 900 and 1800 duration tickers.\r\n\r\n#### Environment, Evennia version, OS etc\r\nI am in 0.9.5, running in Windows. Will have to check version, as it is a new laptop.\r\n\r\n#### Additional context\r\nI'd suggest ideas if I had any, but this is WAY above my Python level of understanding.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2712", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2712/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2712/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2712/events", "html_url": "https://github.com/evennia/evennia/issues/2712", "id": 1191257037, "node_id": "I_kwDOAPX8f85HASPN", "number": 2712, "title": "[BUG - Develop] `schedule` isn't scheduling properly", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-04T05:02:50Z", "updated_at": "2022-05-27T08:59:09Z", "closed_at": "2022-05-27T08:59:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using `evennia.utils.gametime.schedule` to schedule a recurring event, it happens at the correct time for the first iteration and then continues repeating at intervals of that initial delay, instead of the scheduled interval.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Schedule an hourly task starting in a few minutes, e.g. if the gametime is 10:40, set it for `min=45, sec=0`\r\n2. Wait for it to trigger.\r\n3. Check the time until the second iteration (which should be in one gametime hour).\r\n4. See error\r\n\r\n#### Expected behavior\r\nIt should trigger as it does with the initial delay the first time, but then continue further iterations at the scheduled time.\r\n\r\n#### Develop-branch commit\r\nf093c8bcb\r\n\r\n#### Additional context\r\nMy original schedule line in `py`: `schedule(clock_chime, repeat=True, min=45,sec=0)`\r\n\r\nShortly after that initial schedule:\r\n```\r\n+-------+----------+----------+--------+------+------+-----------+-----------+\r\n| dbref |      obj |      key | intval | next | rept | typeclass |      desc |\r\n+~~~~~~~+~~~~~~~~~~+~~~~~~~~~~+~~~~~~~~+~~~~~~+~~~~~~+~~~~~~~~~~~+~~~~~~~~~~~+\r\n|       |          |          |        |      |      |           | A gametim |\r\n|    #9 | <Global> | TimeScri | 147.54 | 130s |  -/- | TimeScrip | e-sens[.. |\r\n|       |          |       pt |   1335 |      |      |         t |        .] |\r\n+-------+----------+----------+--------+------+------+-----------+-----------+\r\n```\r\nRight after it triggered the first time:\r\n```\r\n+-------+----------+----------+--------+------+------+-----------+-----------+\r\n| dbref |      obj |      key | intval | next | rept | typeclass |      desc |\r\n+~~~~~~~+~~~~~~~~~~+~~~~~~~~~~+~~~~~~~~+~~~~~~+~~~~~~+~~~~~~~~~~~+~~~~~~~~~~~+\r\n|       |          |          |        |      |      |           | A gametim |\r\n|    #9 | <Global> | TimeScri | 147.54 | 144s |  -/- | TimeScrip | e-sens[.. |\r\n|       |          |       pt |   1335 |      |      |         t |        .] |\r\n+-------+----------+----------+--------+------+------+-----------+-----------+\r\n```\r\nI waited for a couple of minutes to confirm that it would successfully trigger, which it did, and then looped on that initial interval again.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2709", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2709/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2709/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2709/events", "html_url": "https://github.com/evennia/evennia/issues/2709", "id": 1190740560, "node_id": "I_kwDOAPX8f85G-UJQ", "number": 2709, "title": "[BUG] After migrating from 0.9 to 0.9.5 evenia start tracebacks - deprecated usage of evennias Command class?", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-02T21:12:04Z", "updated_at": "2022-05-03T17:34:27Z", "closed_at": "2022-05-03T17:34:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhile preparing to resume work on my project, I started migrating from 0.9 to 0.9.5 and having issues with importing evennias Command class.\r\n\r\nWith a fresh db after an `evennia migrate`, I get the following traceback from `evennia start`:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/santo/development/ldmud/venv-3.10.4/bin/evennia\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"/home/santo/development/ldmud/evennia/bin/unix/evennia\", line 10, in <module>\r\n    main()\r\n  File \"/home/santo/development/ldmud/evennia/evennia/server/evennia_launcher.py\", line 2209, in main\r\n    init_game_directory(CURRENT_DIR, check_db=True)\r\n  File \"/home/santo/development/ldmud/evennia/evennia/server/evennia_launcher.py\", line 1746, in init_game_directory\r\n    check_database()\r\n  File \"/home/santo/development/ldmud/evennia/evennia/server/evennia_launcher.py\", line 1449, in check_database\r\n    evennia._init()\r\n  File \"/home/santo/development/ldmud/evennia/evennia/__init__.py\", line 160, in _init\r\n    from .objects.objects import DefaultObject\r\n  File \"/home/santo/development/ldmud/evennia/evennia/objects/objects.py\", line 44, in <module>\r\n    _COMMAND_DEFAULT_CLASS = class_from_module(settings.COMMAND_DEFAULT_CLASS)\r\n  File \"/home/santo/development/ldmud/evennia/evennia/utils/utils.py\", line 1468, in class_from_module\r\n    mod = importlib.import_module(testpath, package=\"evennia\")\r\n  File \"/home/santo/development/python-source/python3.10.4/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/home/santo/development/ldmud/ldmud/commands/default_mux_command.py\", line 2, in <module>\r\n    from commands.top_command import TopCommand\r\n  File \"/home/santo/development/ldmud/ldmud/commands/top_command.py\", line 4, in <module>\r\n    class TopCommand(Command):\r\nTypeError: NoneType takes no arguments\r\n```\r\n\r\nCONTEXT:\r\ndefault_mux_command.py contains my base command class (COMMAND_DEFAULT_CLASS points to it in settings.py) - it inherits from top_command.py, which itself is just a placeholder that inherits from evennias Command.\r\nPycharm linter sees `from evenia import Command` as a valid import however of type none which lines up with the traceback.\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\nOutput of `evennia -v` for old environment (currently works fine) [debian 10]:\r\n```\r\n    Evennia 0.9.0 (rev 7b13553f2) (rev 7b13553f2)\r\n    OS: posix\r\n    Python: 3.8.3\r\n    Twisted: 20.3.0\r\n    Django: 2.2.12\r\n```\r\nOutput for new (results in above traceback) [debian 11]:\r\n```\r\n    Evennia 0.9.5 (rev 5d708f72f) (rev 5d708f72f)\r\n    OS: posix\r\n    Python: 3.10.4\r\n    Twisted: 21.7.0\r\n    Django: 3.2.12\r\n```\r\n\r\n\r\nI have a year and a half worth of evennias commits to read through for changes but thought it would not hurt to make an issue to steal some brain folds from the community c:", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2707", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2707/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2707/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2707/events", "html_url": "https://github.com/evennia/evennia/issues/2707", "id": 1190241297, "node_id": "I_kwDOAPX8f85G8aQR", "number": 2707, "title": "[BUG - Develop] Global scripts are not being started, only restarted.", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-01T20:27:17Z", "updated_at": "2022-05-26T03:16:06Z", "closed_at": "2022-05-26T03:16:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen creating a new game, global scripts are not automatically started.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a new game dir.\r\n2. Create a script with `at_repeat` and add it to your server conf.\r\n3. `evennia migrate` and `evennia start`\r\n4. Check global scripts status.\r\n5. See error\r\n\r\n#### Expected behavior\r\nGlobal scripts are supposed to start automatically.\r\n\r\n#### Develop-branch commit\r\nf093c8bcb\r\n\r\n#### Additional context\r\nI used the following dict in my settings:\r\n```python\r\nGLOBAL_SCRIPTS = {\r\n                \"test_script\": {\r\n                        \"typeclass\": \"typeclasses.scripts.TestScript\",\r\n                        \"persistent\": True,\r\n                        \"interval\": 20,\r\n                        \"desc\": \"Testing script starting and iteration.\"\r\n                },\r\n\r\n        }\r\n```\r\nAnd the following script class:\r\n```python\r\nclass TestScript(Script):\r\n\r\n    def at_repeat(self):\r\n        print(\"hey, listen\")\r\n```\r\n\r\nThe script loaded correctly, and I was able to manually start it. After fully stopping and then starting the server, the script was automatically started again.\r\n\r\nHowever, if I create a new game, start the server, and I _don't_ manually start the script, then fully stopping and then starting the server again does _not_ automatically start the script.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2707/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2706", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2706/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2706/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2706/events", "html_url": "https://github.com/evennia/evennia/issues/2706", "id": 1188871215, "node_id": "I_kwDOAPX8f85G3Lwv", "number": 2706, "title": "[BUG - Develop] Global Scripts loading doesn't catch parse errors", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-03-31T21:59:20Z", "updated_at": "2022-10-06T21:18:12Z", "closed_at": "2022-10-06T21:18:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen there's an error with loading a global scripts module, e.g. it imports the `Room` class but that class has a syntax error, the loading error isn't caught and the traceback points to [this line](https://github.com/evennia/evennia/blob/251a70275bbd98a3e157cbb4c025597a4bb24ac9/evennia/utils/containers.py#L135) with a KeyError\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a simple global script which imports a class such as `Room` from your game dir, and add it to `settings.py`\r\n2. Introduce a syntax error to your `Room` class, such as an extra space in an indent.\r\n3. Reload the server.\r\n4. See error\r\n\r\n#### Expected behavior\r\nIt'd be more useful if there was an error thrown which indicated that the script had failed being loaded (and, ideally, why), as the current error invariably leads people to think there is a problem with the global scripts dict in `settings.py`.\r\n\r\n#### Develop-branch commit\r\nf093c8bcb\r\n\r\n#### Additional context\r\nI feel like it should be catching that kind of an error in [`class_from_module`](https://github.com/evennia/evennia/blob/f093c8bcb1321a44e33003cf91cf9f565e028de7/evennia/utils/utils.py#L1524) or it should at least be throwing an exception in [`load_data`](https://github.com/evennia/evennia/blob/f093c8bcb1321a44e33003cf91cf9f565e028de7/evennia/utils/containers.py#L202) but neither seem to be doing so. Instead, they just silently don't load the script.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2705", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2705/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2705/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2705/events", "html_url": "https://github.com/evennia/evennia/issues/2705", "id": 1188546688, "node_id": "I_kwDOAPX8f85G18iA", "number": 2705, "title": "[BUG - Develop] `rpsystem` object search can't handle duplicate names", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-31T19:08:44Z", "updated_at": "2022-04-15T06:32:09Z", "closed_at": "2022-04-15T06:32:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen there are two or more objects of the same name in a list of candidates (e.g. the default of a character's contents and location's contents), only the first one is located.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Inherit from the `ContribRP` classes on your `Object` and `Character` class.\r\n2. `create test object`\r\n3. `create test object` again\r\n4. `py self.contents` to confirm both are there\r\n5. `py self.search(\"test object\")` and `py self.search(\"test object\", quiet=True)`\r\n6. See error\r\n\r\n#### Expected behavior\r\nIt should give a multi-match error, or return all matching objects if `quiet=True`.\r\n\r\n#### Develop-branch commit\r\nf093c8bcb\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2703", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2703/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2703/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2703/events", "html_url": "https://github.com/evennia/evennia/issues/2703", "id": 1187189181, "node_id": "I_kwDOAPX8f85GwxG9", "number": 2703, "title": "[BUG - Develop] Crafting contrib traceback on unknown recipe", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-30T23:54:10Z", "updated_at": "2022-10-03T17:35:56Z", "closed_at": "2022-10-03T17:35:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you try to craft a recipe but use a non-existent recipe name, Evennia tracebacks instead of handling the error. I misremembered a crafting recipe as \"shirt\" and got the following:\r\n\r\n```\r\nTraceback (most recent call last):\r\n File \"./evgames/evennia/evennia/commands/cmdhandler.py\", line 621, in _run_command\r\n   ret = cmd.func()\r\n File \"./evgames/evennia/evennia/contrib/game_systems/crafting/crafting.py\", line 1067, in func\r\n   result = craft(caller, self.recipe, *(tools + ingredients))\r\n File \"./evgames/evennia/evennia/contrib/game_systems/crafting/crafting.py\", line 930, in craft\r\n   raise KeyError(\r\nKeyError: 'No recipe in settings.CRAFT_RECIPE_MODULES has a name matching shirt'\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set up some crafting recipes - the examples are probably fine.\r\n2. Enter a correctly formatted craft command for a non-existent recipe (e.g. `craft sandwich from bread, peanut butter, jelly using knife` in a game that has no recipe for `sandwich`) \r\n3. See error\r\n\r\n#### Expected behavior\r\nI'd expect the game itself to tell me that no such recipe exists, like when trying to `look` at something that isn't there.\r\n\r\n#### Develop-branch commit\r\nf093c8bcb\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2702", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2702/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2702/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2702/events", "html_url": "https://github.com/evennia/evennia/issues/2702", "id": 1187047974, "node_id": "I_kwDOAPX8f85GwOom", "number": 2702, "title": "[BUG - Develop] How To Make Infinite Logs", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-30T22:03:17Z", "updated_at": "2022-10-23T09:21:04Z", "closed_at": "2022-10-23T09:21:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf someone who is not very intelligent happens to set the CHANNEL_LOG_ROTATE_SIZE in their settings to a very small quantity, when it comes time to rotate, if _CHANNEL_LOG_NUM_TAIL_LINES is not set to a size smaller than CHANNEL_LOG_ROTATE_SIZE (one of them is lines and the other one is bytes, which is awkward also), then... the rotation will trigger a new rotation will trigger a new rotation... \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set CHANNEL_LOG_ROTATE_SIZE = 100\r\n2. Do anything that creates log text.\r\n3. Watch your folder fill.\r\n\r\n#### Expected behavior\r\nEither there should be a minimum value on CHANNEL_LOG_ROTATE_SIZE (but who are you to tell me how tiny my logs cannot be) or _CHANNEL_LOG_NUM_TAIL_LINES should be always be smaller than CHANNEL_LOG_ROTATE_SIZE would allow. \r\n\r\nOr maybe you just get a big old YOUR LOGS ARE GOING TO TAKE OVER THE WORLD warning when that would happen and logging stops working until you fix it.\r\n\r\n#### Develop-branch commit\r\n(The commit-hash. If unsure, run `evennia -v` or get the first few lines of the `about` command in-game.)\r\nf093c8bcb\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n![image](https://user-images.githubusercontent.com/9540334/160938394-77d82694-f14c-4681-a47d-95a7aa39e42a.png)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2702/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2701", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2701/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2701/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2701/events", "html_url": "https://github.com/evennia/evennia/issues/2701", "id": 1182648467, "node_id": "I_kwDOAPX8f85GfciT", "number": 2701, "title": "[BUG] (webclient conversion of blank spaces unmanageable in EvForm)", "user": {"login": "alephate", "id": 72240438, "node_id": "MDQ6VXNlcjcyMjQwNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/72240438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alephate", "html_url": "https://github.com/alephate", "followers_url": "https://api.github.com/users/alephate/followers", "following_url": "https://api.github.com/users/alephate/following{/other_user}", "gists_url": "https://api.github.com/users/alephate/gists{/gist_id}", "starred_url": "https://api.github.com/users/alephate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alephate/subscriptions", "organizations_url": "https://api.github.com/users/alephate/orgs", "repos_url": "https://api.github.com/users/alephate/repos", "events_url": "https://api.github.com/users/alephate/events{/privacy}", "received_events_url": "https://api.github.com/users/alephate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-27T20:11:39Z", "updated_at": "2022-04-15T05:59:56Z", "closed_at": "2022-04-15T05:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe webclient does not show blank spaces the same way that telnet does, due to the conversion to html. An EvForm that looks perfect from mudlet might look strangely jogged around in the webclient. This is a problem majorly with EvTable and EvForm because in other situations, it can be managed by using different symbols for blank spaces. But when it comes to more dynamic content, it is difficult to predict what management might be necessary.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1.  Use this form and command: https://pastebin.com/YiHLXEA0\r\n2.  Connect through the webclient and run the command.\r\n3.  Connect through mudlet and run the command.\r\n4. See error\r\n\r\n#### Expected behavior\r\nBlank spaces and blank rows inside of EvTables should be properly represented in EvForm format in order not to run into problems with the html conversion for the webclient.\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.5 (rev 76af934fd)\r\n         OS: nt\r\n         Python: 3.7.9\r\n         Twisted: 20.3.0\r\n         Django: 2.2.5\r\n\r\n#### Additional context\r\nThe html conversion for the webclient could be fixed to not have this problem: it seems that `|_` works better than tabs or blank spaces.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2699", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2699/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2699/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2699/events", "html_url": "https://github.com/evennia/evennia/issues/2699", "id": 1181220475, "node_id": "I_kwDOAPX8f85GZ_57", "number": 2699, "title": "[BUG - Develop] Sending message to channel not relayed by bot", "user": {"login": "elixx", "id": 2325870, "node_id": "MDQ6VXNlcjIzMjU4NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2325870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elixx", "html_url": "https://github.com/elixx", "followers_url": "https://api.github.com/users/elixx/followers", "following_url": "https://api.github.com/users/elixx/following{/other_user}", "gists_url": "https://api.github.com/users/elixx/gists{/gist_id}", "starred_url": "https://api.github.com/users/elixx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elixx/subscriptions", "organizations_url": "https://api.github.com/users/elixx/orgs", "repos_url": "https://api.github.com/users/elixx/repos", "events_url": "https://api.github.com/users/elixx/events{/privacy}", "received_events_url": "https://api.github.com/users/elixx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-25T20:03:16Z", "updated_at": "2022-09-24T23:01:52Z", "closed_at": "2022-09-24T23:01:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen attempting to send chat to a grapevine2chan bridged channel:\r\n\r\n```\r\n2022-03-25 19:49:28 [!!] Traceback (most recent call last):\r\n2022-03-25 19:49:28 [!!]   File \"/usr/src/evennia/evennia/comms/comms.py\", line 570, in msg\r\n2022-03-25 19:49:28 [!!]     receiver.channel_msg(recv_message, self, **send_kwargs)\r\n2022-03-25 19:49:28 [!!]   File \"/usr/src/evennia/evennia/accounts/accounts.py\", line 1039, in channel_msg\r\n2022-03-25 19:49:28 [!!]     self.msg(\r\n2022-03-25 19:49:28 [!!]   File \"/usr/src/evennia/evennia/accounts/bots.py\", line 544, in msg\r\n2022-03-25 19:49:28 [!!]     prefix, text = text.split(\":\", 1)\r\n2022-03-25 19:49:28 [!!] AttributeError: 'tuple' object has no attribute 'split'\r\n2022-03-25 19:49:28 [!!] Error sending channel message to grapewinebot-gvtest-testing(account 3).\r\n```\r\n\r\n\r\n#### To Reproduce\r\nWith grapevine API keys configured:\r\n```\r\nchannel/create testing\r\n@grapevine2chan testing = testing\r\ntesting foo\r\n```\r\n\r\n#### Expected behavior\r\nThe message should be relayed via the bot.\r\n\r\n#### Develop-branch commit\r\ncurrent `evennia/evennia:develop` docker image\r\n    Evennia 1.0-dev\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.3\r\n\r\n\r\n#### Additional context\r\nReceiving messages via the bot works OK. Sending messages causes the traceback to be logged, and appears to the user that the message was formatted and sent OK.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2699/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2698", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2698/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2698/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2698/events", "html_url": "https://github.com/evennia/evennia/issues/2698", "id": 1179014000, "node_id": "I_kwDOAPX8f85GRlNw", "number": 2698, "title": "[BUG - Develop] Package installation errors; cannot run evennia command", "user": {"login": "changemewtf", "id": 14329, "node_id": "MDQ6VXNlcjE0MzI5", "avatar_url": "https://avatars.githubusercontent.com/u/14329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changemewtf", "html_url": "https://github.com/changemewtf", "followers_url": "https://api.github.com/users/changemewtf/followers", "following_url": "https://api.github.com/users/changemewtf/following{/other_user}", "gists_url": "https://api.github.com/users/changemewtf/gists{/gist_id}", "starred_url": "https://api.github.com/users/changemewtf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changemewtf/subscriptions", "organizations_url": "https://api.github.com/users/changemewtf/orgs", "repos_url": "https://api.github.com/users/changemewtf/repos", "events_url": "https://api.github.com/users/changemewtf/events{/privacy}", "received_events_url": "https://api.github.com/users/changemewtf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-24T05:13:42Z", "updated_at": "2022-03-25T08:37:07Z", "closed_at": "2022-03-25T08:37:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhile following the directions in Griatch's [post](https://github.com/evennia/evennia/discussions/2640), I initially ran into this error while running `pip install -e .` in my `mud/evennia` directory:\r\n\r\n```\r\nModuleNotFoundError: No module named 'distutils.command.bdist_wininst'\r\n```\r\n\r\nAt first, I was able to get past this by running `sudo apt install python3-distutils-extra` and then `pip install -e .` again, but on future attempts from an empty virtualenv, the error came back.\r\n\r\nFor some strange reason, running `easy_install --upgrade pip` and then running `pip install -e .` again results in a successful run (the process has a zero exitcode).\r\n\r\nHowever, even if I do get to this point, and successfully run `pip install -r requirements_extra.txt` (which also finishes running successfully), then I run `evennia` to see if things are working and I get one of three errors:\r\n\r\n```\r\npkg_resources.DistributionNotFound: The 'dataclasses>=0.6; python_version < \"3.7\"' distribution was not found and is required by black\r\n```\r\n\r\n```\r\npkg_resources.DistributionNotFound: The 'typed-ast>=1.4.2; python_version < \"3.8\" and implementation_name == \"cpython\"' distribution was not found and is required by black\r\n```\r\n\r\n```\r\npkg_resources.DistributionNotFound: The 'backports.zoneinfo; python_version < \"3.9\"' distribution was not found and is required by django\r\n```\r\n\r\n#### Additional context\r\nI'm pretty sure my environment is set up correctly:\r\n\r\n```\r\n(mudvenv) changemewtf@maxbook:~/mud/evennia$ pip --version\r\npip 22.0.4 from /home/changemewtf/mud/mudvenv/lib/python3.10/site-packages/pip-22.0.4-py3.10.egg/pip (python 3.10)\r\n(mudvenv) changemewtf@maxbook:~/mud/evennia$ python --version\r\nPython 3.10.0\r\n(mudvenv) changemewtf@maxbook:~/mud/evennia$ which python\r\n/home/changemewtf/mud/mudvenv/bin/python\r\n(mudvenv) changemewtf@maxbook:~/mud/evennia$ which pip\r\n/home/changemewtf/mud/mudvenv/bin/pip\r\n(mudvenv) changemewtf@maxbook:~/mud/evennia$ sudo apt install python3.10 python3.10-dev python3.10-distutils python3-distutils-extra python3.10-venv gcc\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nNote, selecting 'python3-distutils' instead of 'python3.10-distutils'\r\ngcc is already the newest version (4:11.2.0-1ubuntu1).\r\npython3-distutils is already the newest version (3.9.7-1).\r\npython3-distutils-extra is already the newest version (2.45).\r\npython3.10 is already the newest version (3.10.0-2).\r\npython3.10-dev is already the newest version (3.10.0-2).\r\npython3.10-venv is already the newest version (3.10.0-2).\r\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\r\n```\r\n\r\nI'm on Pop!_OS 21.10, an Ubuntu variant provided by System76 for their Linux-native machines.\r\n\r\nThere's a lot going on here, and I'm really not sure where to go next in finding a solution. There seems to be some serious confusion on the package side of things.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2698/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2697", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2697/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2697/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2697/events", "html_url": "https://github.com/evennia/evennia/issues/2697", "id": 1178868599, "node_id": "I_kwDOAPX8f85GRBt3", "number": 2697, "title": "[BUG - Develop] AttributeProperty and NAttributeProperty default mutable values are reused", "user": {"login": "ChrisLR", "id": 7611762, "node_id": "MDQ6VXNlcjc2MTE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7611762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLR", "html_url": "https://github.com/ChrisLR", "followers_url": "https://api.github.com/users/ChrisLR/followers", "following_url": "https://api.github.com/users/ChrisLR/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLR/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLR/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLR/orgs", "repos_url": "https://api.github.com/users/ChrisLR/repos", "events_url": "https://api.github.com/users/ChrisLR/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-03-24T02:38:18Z", "updated_at": "2022-08-16T13:32:01Z", "closed_at": "2022-08-16T13:32:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using a Mutable default value such as a List or a Dict with AttributeProperty or NAttributeProperty,\r\nthe same object will be reused for all instances.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add either AttributeProperty or NAttributeProperty to a typeclass, like a character\r\n2. Add a value in one instance\r\n3. Verify the presence of the value in the second instance\r\n4. See error\r\n\r\n#### Expected behavior\r\nEach instance should have its own list (or whatever) mutable object.\r\n\r\n\r\n#### Develop-branch commit\r\n Evennia 1.0-dev (rev 177f4a01d) (rev 177f4a01d)\r\n\r\n#### Additional context\r\nI know this is similar to the issue where using a default arg with a mutable object will have the same problem.\r\nPerhaps we could support taking in a callable instead, such as the builtins list or dict.\r\nHaving them all share the same object can be difficult to track down\r\n\r\nHere is a TestCase for this issue\r\n\r\n```\r\nfrom evennia import DefaultCharacter\r\nfrom evennia.typeclasses.attributes import AttributeProperty, NAttributeProperty\r\nfrom evennia.utils.test_resources import EvenniaTest\r\n\r\n\r\nclass CharA(DefaultCharacter):\r\n    test_att_list = AttributeProperty([])\r\n    test_natt_list = NAttributeProperty([])\r\n\r\n\r\nclass TestMutableAttribute(EvenniaTest):\r\n    character_typeclass = CharA\r\n\r\n    def test_attribute_default_mutable_value_should_be_distinct(self):\r\n        self.char1.test_att_list.append(\"test_1\")\r\n        assert \"test_1\" not in self.char2.test_att_list\r\n\r\n    def test_nattribute_default_mutable_value_should_be_distinct(self):\r\n        self.char1.test_natt_list.append(\"test_1\")\r\n        assert \"test_1\" not in self.char2.test_natt_list\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2696", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2696/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2696/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2696/events", "html_url": "https://github.com/evennia/evennia/issues/2696", "id": 1178425589, "node_id": "I_kwDOAPX8f85GPVj1", "number": 2696, "title": "[BUG - Develop] Curly braces break object messages", "user": {"login": "elixx", "id": 2325870, "node_id": "MDQ6VXNlcjIzMjU4NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2325870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elixx", "html_url": "https://github.com/elixx", "followers_url": "https://api.github.com/users/elixx/followers", "following_url": "https://api.github.com/users/elixx/following{/other_user}", "gists_url": "https://api.github.com/users/elixx/gists{/gist_id}", "starred_url": "https://api.github.com/users/elixx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elixx/subscriptions", "organizations_url": "https://api.github.com/users/elixx/orgs", "repos_url": "https://api.github.com/users/elixx/repos", "events_url": "https://api.github.com/users/elixx/events{/privacy}", "received_events_url": "https://api.github.com/users/elixx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 1116337924, "node_id": "MDU6TGFiZWwxMTE2MzM3OTI0", "url": "https://api.github.com/repos/evennia/evennia/labels/not%20implemented", "name": "not implemented", "color": "ffffff", "default": false, "description": "Was not and will not be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-23T17:21:08Z", "updated_at": "2022-10-29T16:35:00Z", "closed_at": "2022-10-29T15:07:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe internal formatting used in `evennia/objects/objects.py` conflicts with messages containing curly-braces.\r\nThis breaks the contrib for color compatibility in `color_markups.py` and anyone trying to send a `{`.\r\n\r\n#### To Reproduce\r\n\r\n```\r\nELIX:~> !here.msg_contents(\"Test\")\r\n>>> here.msg_contents(\"Test\")\r\nTest\r\nELIX:~> !here.msg_contents(\"{bTest\")\r\n>>> here.msg_contents(\"{bTest\")\r\n  File \"c:\\_src\\evennia\\evennia\\objects\\objects.py\", line 820, in msg_contents\r\n    outmessage = inmessage.format(\r\nValueError: expected '}' before end of string\r\n```\r\n\r\n#### Expected behavior\r\nThe string \"{bTest\" to be emitted.\r\n\r\n#### Develop-branch commit\r\n39422d11a\r\n\r\n#### Additional context\r\n`objects.py:820` looks like it's now a data structure that is delimited by curly braces.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2696/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2695", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2695/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2695/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2695/events", "html_url": "https://github.com/evennia/evennia/issues/2695", "id": 1178396190, "node_id": "I_kwDOAPX8f85GPOYe", "number": 2695, "title": "[BUG - Develop] xyzgrid spawn doesn't call at_object_creation", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-23T16:54:13Z", "updated_at": "2022-10-19T20:29:50Z", "closed_at": "2022-10-19T20:29:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen creating rooms in the game using the xyzgrid module and a custom typeclass, the `at_object_creation` hook is never called.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create custom room and exit classes that inherit from the XYZGrid room and exits\r\n2. Add a simple `at_object_creation` hook to each class with something easily identifiable, e.g. setting a new attribute to `True`\r\n3. Create a basic xyzgrid map module using those room and exit classes\r\n4. Add the map module and spawn using the xyzgrid launcher commands.\r\n5. Go into the game and examine any spawned room or exit. Everything looks fine _except that_ the new attribute is not there.\r\n\r\n#### Develop-branch commit\r\n473f2e379\r\n\r\n#### Additional context\r\nI tested with these bare-bones classes, but on the more complicated classes where I discovered it, all of the other hooks I overloaded worked correctly.\r\n```python\r\n# Room\r\nclass CustomXYZRoom(XYZRoom):\r\n    def at_object_creation(self):\r\n        self.db.checkmark = True\r\n\r\n# Exit\r\nclass CustomXYZExit(XYZExit):\r\n    def at_object_creation(self):\r\n        self.db.checkmark = True\r\n```\r\nMy rooms and exits using those classes look like this, suggesting the hook never ran:\r\n```\r\nName/key: A major street (#13)\r\nTypeclass: CustomXYZRoom (typeclasses.rooms.CustomXYZRoom)\r\nHome: Limbo (#2)\r\nLocks:   call:true(); control:id(13) or perm(Admin);  delete:id(13) or perm(Admin);\r\n drop:holds();  edit:id(13) or perm(Admin); examine:perm(Builder);\r\n get:false(); puppet:false(); tell:perm(Admin); view:all()\r\nTags:   1[room_y_coordinate], 5[room_x_coordinate], main_streets[zone],\r\n prototype-4ee42f8[from_prototype], the city[room_z_coordinate]\r\nPersistent Attributes:\r\n  desc=A wide cobbled street.\r\nExits: west(#84), east(#85), north(#86), southeast(#87)\r\nCharacters: admin(#1)\r\n\r\nName/key: east (#85)\r\nAliases: e\r\nTypeclass: CustomXYZExit (typeclasses.exits.CustomXYZExit)\r\nLocation: A major street (#13)\r\nHome: Limbo (#2)\r\nDestination: A street in Spiritgate (#14)\r\nLocks:   call:true(); control:id(85) or perm(Admin);  delete:id(85) or perm(Admin);\r\n drop:holds();  edit:id(85) or perm(Admin); examine:perm(Builder);\r\n get:false(); puppet:false(); tell:perm(Admin); traverse:all(); view:all()\r\nStored Cmdset(s):\r\n  evennia.commands.cmdset.CmdSet [ExitCmdSet] (Union, prio 101, duplicates: T)\r\nMerged Cmdset(s):\r\n  evennia.commands.cmdset.CmdSet [ExitCmdSet] (Union, prio 101, duplicates: T)\r\nCommands vailable to east (result of Merged Cmdset(s)):\r\n  east, north, southeast, west\r\nTags:   1[exit_dest_y_coordinate], 1[room_y_coordinate], 5[room_x_coordinate],\r\n 7[exit_dest_x_coordinate], prototype-3c7b431[from_prototype], the\r\n city[exit_dest_z_coordinate], the city[room_z_coordinate]\r\nPersistent Attributes:\r\n  desc=A path to the next location.\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2695/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2694", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2694/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2694/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2694/events", "html_url": "https://github.com/evennia/evennia/issues/2694", "id": 1177466731, "node_id": "I_kwDOAPX8f85GLrdr", "number": 2694, "title": "[BUG - Develop] `TypedObjectManager.typeclass_search` bugs", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-23T01:06:48Z", "updated_at": "2022-10-13T14:42:29Z", "closed_at": "2022-10-13T14:42:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nA couple related bugs in `TypedObjectManager.typeclass_search`\r\n\r\nA) Difference in results depending on whether you pass a typeclass object or its path.\r\nB) Passing a class with include_children=True causes a traceback.\r\nC) include_children only searches one layer deep, not recursively.\r\nD) Documentation references a location param that does not exist.\r\n\r\n#### To Reproduce\r\n\r\nBug A\r\n```\r\n>>> from typeclasses.characters import Character\r\n[py mode - quit() to exit]\r\n>>> Character.objects.typeclass_search(Character)\r\n<QuerySet []>\r\n[py mode - quit() to exit]\r\n>>> Character.objects.typeclass_search(\"typeclasses.characters.Character\")\r\n<QuerySet [Relthari(#1), Nevrei(#3), anonymous(#43), Phethjeld(#260), Ari(#261), Zithan(#430), Elithi(#434), Gilgreth(#436)]>\r\n```\r\n\r\nBug B\r\n```\r\n>>> Character.objects.typeclass_search(\"typeclasses.characters.Character\", include_children=True)\r\n<QuerySet [Relthari(#1), Nevrei(#3), anonymous(#43), Phethjeld(#260), Ari(#261), Zithan(#430), Elithi(#434), Gilgreth(#436), goblin(#28), goblin(#30), goblin(#31), goblin(#32), goblin(#33), goblin(#34), goblin(#35), goblin(#38), goblin(#39), goblin(#40), beady-eyed goblin(#45), pig-nosed goblin(#47), '...(remaining elements truncated)...']>\r\n>>> Character.objects.typeclass_search(Character, include_children=True)\r\nTraceback (most recent call last):\r\n File \"<console>\", line 1, in <module>\r\n File \"/home/rel/mud/evennia/evennia/typeclasses/managers.py\", line 571, in typeclass_search\r\n   subclasses = cls.__subclasses__()\r\nTypeError: unbound method type.__subclasses__() needs an argument\r\n```\r\n\r\n#### Expected behavior\r\n\r\nConsistent behavior when passing typeclasses and paths, and recursive search for children.\r\n\r\n#### Develop-branch commit\r\n\r\n    Evennia 1.0-dev (rev 473f2e379) (rev 473f2e379)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2688", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2688/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2688/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2688/events", "html_url": "https://github.com/evennia/evennia/issues/2688", "id": 1169867022, "node_id": "I_kwDOAPX8f85FusEO", "number": 2688, "title": "[BUG] Adding a tag with no category adds a pre-existing tag with a category instead", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-15T15:57:15Z", "updated_at": "2022-10-23T08:58:48Z", "closed_at": "2022-10-23T08:58:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nIf a tag x:y (tagname x, category y) already exists and you attempt to add a tag x:None, evennia will instead add tag x:y.\r\n\r\n#### To Reproduce\r\n\r\nThese steps reproduce the issue reliably in a py shell:\r\n```\r\n>>> me.tags.add(\"testing\", category=\"test\")\r\n[py mode - quit() to exit]\r\n>>> me.tags.remove(category=\"test\")\r\n[py mode - quit() to exit]\r\n>>> me.tags.add(\"testing\")\r\n[py mode - quit() to exit]\r\n>>> me.tags.all(return_key_and_category=True)\r\n[('testing', 'test')]\r\n```\r\n\r\n#### Expected behavior\r\n\r\n`obj.tags.add(\"foo\")` should always add foo:None rather than looking for foo:y tags to add.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\nOccurs on both master and develop.\r\n\r\n    Evennia 1.0-dev (rev 473f2e379) (rev 473f2e379)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n\r\n#### Additional context\r\n\r\nIn the above example, deleting the tag testing:test from the DB (using the Django admin) restores the correct behavior.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2688/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2684", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2684/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2684/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2684/events", "html_url": "https://github.com/evennia/evennia/issues/2684", "id": 1165853115, "node_id": "I_kwDOAPX8f85FfYG7", "number": 2684, "title": "[BUG - Develop] `createsuperuser` repeats itself after user creation", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-11T00:00:57Z", "updated_at": "2022-09-24T22:41:56Z", "closed_at": "2022-09-24T22:41:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nRunning `createsuperuser` command successfully creates a superuser account, but then it restarts and prompts to create another.\r\n\r\n#### Expected behavior\r\nNot sure if this is new/expected behavior. It gave no indication to do so but I had to use Ctrl+C to break the loop.\r\n\r\n#### Develop-branch commit\r\n```\r\nEvennia version: 1.0-dev (rev 473f2e3)\r\n         OS: posix\r\n         Python: 3.9.4\r\n         Twisted: 21.7.0\r\n         Django: 4.0.2\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2683", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2683/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2683/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2683/events", "html_url": "https://github.com/evennia/evennia/issues/2683", "id": 1165541780, "node_id": "I_kwDOAPX8f85FeMGU", "number": 2683, "title": "[BUG - Develop] $pron incorrectly maps \"plural\" pronouns", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-10T17:55:23Z", "updated_at": "2022-10-11T21:39:28Z", "closed_at": "2022-10-11T21:39:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using the `$pron` inline func from funcparser, many of the pronouns return the singular \"neutral\" pronouns instead of the \"plural\" pronouns.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a second character with the `.gender` attribute of \"plural\"\r\n3. Pass the parser a string `\"$pron(you) $pron(you,object) $pron(your) $pron(yours) $pron(yourself) - $pron(I) $pron(me) $pron(my) $pron(mine) $pron(myself)\"` so that you are the receiver and your new character is the caller\r\n4. View the results\r\n\r\n#### Expected behavior\r\nThe output should be: `they them their theirs themselves - they them their theirs themselves`\r\n\r\nThe actual output is: `they them their theirs itself  - it it its theirs themselves`\r\n\r\n#### Develop-branch commit\r\n473f2e379", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2683/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2679", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2679/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2679/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2679/events", "html_url": "https://github.com/evennia/evennia/issues/2679", "id": 1164170912, "node_id": "I_kwDOAPX8f85FY9ag", "number": 2679, "title": "[BUG - Develop] Syntax error in $pron callable", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-09T16:34:10Z", "updated_at": "2022-03-27T20:05:11Z", "closed_at": "2022-03-27T20:05:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n[This line](https://github.com/evennia/evennia/blob/473f2e37932759ab07e2e062ba461569106aef87/evennia/utils/funcparser.py#L1290) is incorrect, causing `$pron` parsing to fail. It should be `callable(caller.gender)`\r\n\r\n#### Develop-branch commit\r\n473f2e379\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2677", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2677/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2677/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2677/events", "html_url": "https://github.com/evennia/evennia/issues/2677", "id": 1163279509, "node_id": "I_kwDOAPX8f85FVjyV", "number": 2677, "title": "[BUG - Develop] Unreliable EvMenu option offset in the webclient", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-08T23:13:50Z", "updated_at": "2022-04-15T06:00:27Z", "closed_at": "2022-04-15T06:00:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen viewing an EvMenu in the web client, the first line of the options is offset - in my case, to the right by one space. I tested it in the web client using the current versions of Firefox and Edge, as well as in my non-web mu* clients. The issue occurred only in the web client and appeared the same in both browsers.\r\n\r\n#### To Reproduce\r\n1. Create an EvMenu node with options\r\n2. Log in using the web client\r\n3. Access the EvMenu in game\r\n\r\n#### Expected behavior\r\nThe option lines should be lined up evenly, as they are using a non-web client.\r\n\r\n#### Develop-branch commit\r\n473f2e379", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2665", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2665/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2665/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2665/events", "html_url": "https://github.com/evennia/evennia/issues/2665", "id": 1160342096, "node_id": "I_kwDOAPX8f85FKWpQ", "number": 2665, "title": "[BUG - Develop] CmdTag applies tag globally, does not prioritize local objs", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-05T12:58:30Z", "updated_at": "2022-10-29T14:33:19Z", "closed_at": "2022-10-29T14:33:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nCmdTag applies the tag to the first instance of the target. So if you do something like 'tag south=test' there's no guarantee the 'south' in the same room as you gets the tag. Also goes for tag/del (which targets the first instance of an item, not a local one). If you only use dbrefs you'll never run into this issue. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Make a new exit with a name that matches many other exits. For instance, 'south'.\r\n2. tag south=test\r\n3. Note that the tag does not exist on this new 'south' exit...\r\n4. But as per 'tag/search test' is applied to another one (probably the oldest one, I think)\r\n\r\n#### Expected behavior\r\nI want tags to apply locally first, then globally if the target isn't found locally.\r\n\r\n#### Develop-branch commit\r\n479c259da\r\n\r\n#### Additional context\r\n[(I kind of fixed it here but have no idea how to open a separate PR instead of mashing it onto the old one anyway.)](https://github.com/evennia/evennia/commit/bcbe75741d1326ca647157d87d9a20cde7c444d6)\r\n\r\n![image](https://user-images.githubusercontent.com/9540334/156884197-db6b9ae3-cab0-4573-ab34-9a75490f2e57.png)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2660", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2660/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2660/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2660/events", "html_url": "https://github.com/evennia/evennia/issues/2660", "id": 1155726683, "node_id": "I_kwDOAPX8f85E4v1b", "number": 2660, "title": "[BUG - Develop] Can't convert attribute to strattr", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-01T19:29:22Z", "updated_at": "2022-03-01T19:47:38Z", "closed_at": "2022-03-01T19:47:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nConverting an existing attribute in develop to a strattr fails. I think is because `AttributeHandler.add` doesn't pass the `strattr` param to the backend's `update_attribute`, which just updates the regular `value` instead. This looks like a regression compared to master.\r\n\r\n#### To Reproduce\r\nEnter the following in an in-game py shell:\r\n```\r\n>>> me.db.test\r\n>>> me.db.test = \"one\"\r\n>>> me.db.test\r\none\r\n>>> me.attributes.add(\"test\", \"two\", strattr=True)\r\n>>> me.attributes.get(\"test\", strattr=True)\r\n```\r\n\r\n#### Expected behavior\r\n\r\nExisting attribute `strvalue` can be updated properly.\r\n\r\n#### Develop-branch commit\r\n\r\n    Evennia 1.0-dev (rev 2e645c58b) (rev 2e645c58b)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2660/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2657", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2657/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2657/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2657/events", "html_url": "https://github.com/evennia/evennia/issues/2657", "id": 1153480325, "node_id": "I_kwDOAPX8f85EwLaF", "number": 2657, "title": "[BUG - Develop] TransactionManagementError when using TraitProperty", "user": {"login": "davidrideout", "id": 6044811, "node_id": "MDQ6VXNlcjYwNDQ4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6044811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidrideout", "html_url": "https://github.com/davidrideout", "followers_url": "https://api.github.com/users/davidrideout/followers", "following_url": "https://api.github.com/users/davidrideout/following{/other_user}", "gists_url": "https://api.github.com/users/davidrideout/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidrideout/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidrideout/subscriptions", "organizations_url": "https://api.github.com/users/davidrideout/orgs", "repos_url": "https://api.github.com/users/davidrideout/repos", "events_url": "https://api.github.com/users/davidrideout/events{/privacy}", "received_events_url": "https://api.github.com/users/davidrideout/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-28T00:58:04Z", "updated_at": "2022-09-24T22:36:52Z", "closed_at": "2022-09-24T22:36:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI refactored a lot of my code to use `TraitProperty` instead of `TraitHandler` mainly for ease of use (and type hinting). Ran into this issue shortly afterwards.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set values on objects with `TraitProperty` during tests.\r\n\r\n```\r\nfrom evennia.contrib.rpg.traits.traits import TraitProperty\r\n\r\nfrom evennia.utils.test_resources import EvenniaTest\r\nfrom typeclasses.characters import Character\r\n\r\n\r\nclass MyChar(Character):\r\n    HP = TraitProperty(\"health\", trait_type=\"trait\", value=5)\r\n\r\n\r\nclass TraitPropertyTestCase(EvenniaTest):\r\n    character_typeclass = MyChar\r\n\r\n    def test_round1(self):\r\n        self.char1.HP.value = 1\r\n\r\n    def test_round2(self):\r\n        # only throws an error when more than one test is executed.\r\n        self.char1.HP.value = 2\r\n```\r\n\r\n\r\n#### Expected behavior\r\nThe trait should be modified.\r\n\r\n#### Develop-branch commit\r\n`82fdcf06f`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2654", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2654/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2654/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2654/events", "html_url": "https://github.com/evennia/evennia/issues/2654", "id": 1152229944, "node_id": "I_kwDOAPX8f85EraI4", "number": 2654, "title": "[BUG] Error when using aliases with build commands like @dig", "user": {"login": "RodRitter", "id": 4159679, "node_id": "MDQ6VXNlcjQxNTk2Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/4159679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RodRitter", "html_url": "https://github.com/RodRitter", "followers_url": "https://api.github.com/users/RodRitter/followers", "following_url": "https://api.github.com/users/RodRitter/following{/other_user}", "gists_url": "https://api.github.com/users/RodRitter/gists{/gist_id}", "starred_url": "https://api.github.com/users/RodRitter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RodRitter/subscriptions", "organizations_url": "https://api.github.com/users/RodRitter/orgs", "repos_url": "https://api.github.com/users/RodRitter/repos", "events_url": "https://api.github.com/users/RodRitter/events{/privacy}", "received_events_url": "https://api.github.com/users/RodRitter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-26T20:07:09Z", "updated_at": "2022-02-26T21:22:32Z", "closed_at": "2022-02-26T21:22:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n(Replace with a clear and concise description of what the bug is.)\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. In a fresh install, sitting in Limbo\r\n2. Run `dig Portal Room;portal`\r\n3. Line 1: `Created room Portal Room(#10) of type typeclasses.rooms.Room.`\r\n4. Line 2: `Command 'portal' is not available. Maybe you meant \"globalscript\", \"cpattr\" or \"teleport\"?`\r\n5. Room is created but no alias assigned\r\n\r\n#### Expected behavior\r\nExpect to create the room with alias assigned.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.5 (rev 5d708f72f) (rev 5d708f72f)\r\nOS: posix\r\nPython: 3.8.10\r\nTwisted: 21.7.0\r\nDjango: 3.2.12\r\n```\r\n\r\n\r\n#### Additional context\r\nThis happens with any commands using `;` in the command (name, create, etc)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2654/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2653", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2653/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2653/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2653/events", "html_url": "https://github.com/evennia/evennia/issues/2653", "id": 1149924816, "node_id": "I_kwDOAPX8f85EinXQ", "number": 2653, "title": "[BUG - Develop] Exponential growth in EvTable columns", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-25T00:54:26Z", "updated_at": "2022-09-24T20:59:19Z", "closed_at": "2022-09-24T20:59:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nRepeated called to `add_row()` on an EvTable with an uneven number of columns causes the table to start doubling its column count with subsequent calls. Eventually the table grows so big that memory operations to expand the table causes those calls to start taking many seconds each.\r\n\r\n#### To Reproduce\r\n\r\nHere is a minimal test case that reliably reproduces the problem:\r\n```py\r\nfrom django.test import SimpleTestCase\r\nfrom evennia.utils.evtable import EvTable\r\n\r\nclass TestTable(SimpleTestCase):\r\n    def test(self):\r\n        # Note: set range to 50+ to see your computer lock up.\r\n        table = EvTable(border=None)\r\n        for i in range(35):\r\n            if i % 5 == 0:\r\n                table.add_row(\"Single\")\r\n            else:\r\n                table.add_row(\"Double\", \"Double\")\r\n            print(f\"Iteration {i}: cols: {table.ncols}, rows: {table.nrows}\")\r\n        print(str(table))\r\n```\r\n\r\nSteps to reproduce the behavior:\r\n1. Add above unit test and run.\r\n2. The test eventually times out.\r\n3. Observe output:\r\nIteration 0: cols: 1, rows: 1\r\nIteration 1: cols: 2, rows: 2\r\nIteration 2: cols: 2, rows: 3\r\nIteration 3: cols: 2, rows: 4\r\nIteration 4: cols: 2, rows: 5\r\nIteration 5: cols: 3, rows: 6\r\nIteration 6: cols: 4, rows: 7\r\nIteration 7: cols: 6, rows: 8\r\nIteration 8: cols: 10, rows: 9\r\nIteration 9: cols: 18, rows: 10\r\nIteration 10: cols: 35, rows: 11\r\nIteration 11: cols: 68, rows: 12\r\nIteration 12: cols: 134, rows: 13\r\nIteration 13: cols: 266, rows: 14\r\nIteration 14: cols: 530, rows: 15\r\nIteration 15: cols: 1059, rows: 16\r\nIteration 16: cols: 2116, rows: 17\r\nIteration 17: cols: 4230, rows: 18\r\nIteration 18: cols: 8458, rows: 19\r\nIteration 19: cols: 16914, rows: 20\r\nIteration 20: cols: 33827, rows: 21\r\nIteration 21: cols: 67652, rows: 22\r\nIteration 22: cols: 135302, rows: 23\r\nIteration 23: cols: 270602, rows: 24\r\nIteration 24: cols: 541202, rows: 25\r\nIteration 25: cols: 1082403, rows: 26\r\nIteration 26: cols: 2164804, rows: 27\r\nIteration 27: cols: 4329606, rows: 28\r\nIteration 28: cols: 8659210, rows: 29\r\nIteration 29: cols: 17318418, rows: 30\r\nIteration 30: cols: 34636835, rows: 31\r\nIteration 31: cols: 69273668, rows: 32\r\nIteration 32: cols: 138547334, rows: 33\r\nIteration 33: cols: 277094666, rows: 34\r\nIteration 34: cols: 554189330, rows: 35\r\n\r\n#### Expected behavior\r\n\r\nI would have expected the table to only ever have 2 columns, as each row is no more than that in length.\r\n\r\n#### Develop-branch commit\r\n    \r\n    Evennia 1.0-dev (rev 2e645c58b) (rev 2e645c58b)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n\r\n#### Additional context\r\n\r\nI instrumented the code a bit to see what was going on, and at some point, a mysterious new column has appeared. Everything being added to the table is a fixed width, so it's unclear why this happens. Once it does, reliably around row 7, each subsequent call looks like the table is missing one or more columns and starts adding them, causing the exponential growth.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2653/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2653/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2646", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2646/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2646/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2646/events", "html_url": "https://github.com/evennia/evennia/issues/2646", "id": 1129053548, "node_id": "I_kwDOAPX8f85DS_1s", "number": 2646, "title": "[BUG - Develop] EvMore breaks inline coloring for HELP command.", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-09T21:46:53Z", "updated_at": "2022-09-22T21:33:17Z", "closed_at": "2022-09-22T21:33:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nColor markup gets lost in HELP output when run through `EvMore`. Only occurs if help output is long enough to require paging.\r\n\r\n![color_bleed_bug](https://user-images.githubusercontent.com/15664651/153295203-9c7c2efe-6d64-406f-b8a3-4627c8efc86c.png)\r\n\r\n\r\n#### To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n1. Add many help topics or commands.\r\n2. Run command HELP\r\n3. Observe color bleed.\r\n\r\n#### Develop-branch commit\r\n\r\n    Evennia 1.0-dev (rev c2f4f8568) (rev c2f4f8568)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2645", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2645/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2645/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2645/events", "html_url": "https://github.com/evennia/evennia/issues/2645", "id": 1129049078, "node_id": "I_kwDOAPX8f85DS-v2", "number": 2645, "title": "[BUG - Develop] Deleted script being restarted", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-09T21:41:13Z", "updated_at": "2022-10-14T06:13:00Z", "closed_at": "2022-10-14T06:13:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nI've encountered several situations where a script that stops and deletes itself somehow manages to get automatically restarted and have its `at_start()` and `is_valid()` methods called. As it's been deleted, it's likely to raise an exception if code in those functions checks any attributes (very likely).\r\n\r\n#### To Reproduce\r\n\r\nThe following test case demonstrates the error.\r\n\r\n```py\r\nfrom evennia.utils.test_resources import EvenniaTest\r\nfrom evennia.utils.create import create_script\r\n\r\nclass DegenerateScript(Script):\r\n    def at_script_creation(self):\r\n        super().at_script_creation()\r\n        self.repeats = 0\r\n        self.interval = 1\r\n        self.persistent = True\r\n        self.start_delay = False\r\n        print(\"Creating script\")\r\n\r\n    def at_stop(self):\r\n        print(\"at_stop\")\r\n        self.delete(stop_task=False)\r\n        print(\"deleted\")\r\n\r\n    def at_start(self):\r\n        print(\"at_start\")\r\n        # logic...\r\n        if self._is_deleted:\r\n            raise AttributeError()\r\n\r\n    def is_valid(self):\r\n        # Auto-stop as soon as it starts.\r\n        return not self.is_active\r\n\r\n    def at_repeat(self, **kwargs):\r\n        # Reset wait interval if necessary.\r\n        self.interval = 1\r\n        self.resolve()\r\n\r\nclass TestDegenerateScript(EvenniaTest):\r\n    def test(self):\r\n        script = create_script(DegenerateScript, obj=self.char1, autostart=False)\r\n        self.assertTrue(script.is_valid())\r\n        script.start()\r\n```\r\n\r\nSteps to reproduce the behavior:\r\n1. Put above code into a test file.\r\n2. Run the above test case\r\n3. Observe output log print sequence:\r\n```\r\nCreating script\r\nat_stop\r\ndeleted\r\nat_start\r\n```\r\n4. Observe test failure with exception `AttributeError`, manually raised in `at_start()` after deletion. The `self._is_deleted` check is a stand-in for script-specific logic, as attempting to access a script attribute raises (for example): `django.core.exceptions.ObjectDoesNotExist: Cannot access db_is_active: Hosting object was already deleted.`\r\n\r\n#### Expected behavior\r\n\r\n`at_start()` is not called after deletion.\r\n\r\n#### Develop-branch commit\r\n\r\n    Evennia 1.0-dev (rev c2f4f8568) (rev c2f4f8568)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n\r\n#### Additional context\r\n\r\nThe situation presented by this test case is admittedly a little contrived. The script stops itself immediately as soon as it starts. But this edge case I think might point to a bigger problem with start/stop handling as I see a similar flavor of problem even if the script repeats itself a few times before stopping (but it's harder to capture in a test).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2643", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2643/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2643/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2643/events", "html_url": "https://github.com/evennia/evennia/issues/2643", "id": 1128524817, "node_id": "I_kwDOAPX8f85DQ-wR", "number": 2643, "title": "[BUG - Develop] NAttributes are not shown in examine", "user": {"login": "aMiss-aWry", "id": 9540334, "node_id": "MDQ6VXNlcjk1NDAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9540334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aMiss-aWry", "html_url": "https://github.com/aMiss-aWry", "followers_url": "https://api.github.com/users/aMiss-aWry/followers", "following_url": "https://api.github.com/users/aMiss-aWry/following{/other_user}", "gists_url": "https://api.github.com/users/aMiss-aWry/gists{/gist_id}", "starred_url": "https://api.github.com/users/aMiss-aWry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aMiss-aWry/subscriptions", "organizations_url": "https://api.github.com/users/aMiss-aWry/orgs", "repos_url": "https://api.github.com/users/aMiss-aWry/repos", "events_url": "https://api.github.com/users/aMiss-aWry/events{/privacy}", "received_events_url": "https://api.github.com/users/aMiss-aWry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-09T13:11:07Z", "updated_at": "2022-02-12T13:11:57Z", "closed_at": "2022-02-12T13:11:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nNAttributes are not displayed under examination.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set an NAttribute on anything.\r\n2. Examine it.\r\n4. See lack of NAttribute.\r\n\r\n#### Expected behavior\r\nSee NAttributes when they exist.\r\n\r\n#### Develop-branch commit\r\nEvennia 1.0-dev (rev c2f4f8568) (rev c2f4f8568)\r\n\r\n#### Additional context\r\nExamine calls get_formatted_obj_data which calls format_nattributes which tries to run obj.nattributes.all(return_tuples=True) but nattributes is considered an 'AttributeHandler' and you end up with \r\n```\r\nself.nattributes.all(return_tuples=True)\r\nTypeError: AttributeHandler.all() got an unexpected keyword argument 'return_tuples'\r\n```\r\n\r\nIt looks to me like NAttributeHandler was removed in branch-develop, and along with it this definition of all():\r\n\r\n```\r\n    def all(self, return_tuples=False):\r\n        \"\"\"\r\n        List the contents of the handler.\r\n\r\n        Args:\r\n            return_tuples (bool, optional): Defines if the Nattributes\r\n                are returns as a list of keys or as a list of `(key, value)`.\r\n\r\n        Returns:\r\n            nattributes (list): A list of keys `[key, key, ...]` or a\r\n                list of tuples `[(key, value), ...]` depending on the\r\n                setting of `return_tuples`.\r\n\r\n        \"\"\"\r\n        if return_tuples:\r\n            return [(key, value) for (key, value) in self._store.items() if not key.startswith(\"_\")]\r\n        return [key for key in self._store if not key.startswith(\"_\")]\r\n```\r\n\r\nhttps://www.evennia.com/docs/latest/_modules/evennia/server/serversession.html#NAttributeHandler.all", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2642", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2642/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2642/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2642/events", "html_url": "https://github.com/evennia/evennia/issues/2642", "id": 1126609542, "node_id": "I_kwDOAPX8f85DJrKG", "number": 2642, "title": "[BUG - Develop] Infinite recursion when deleting scripts", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-07T23:21:22Z", "updated_at": "2022-02-12T19:30:10Z", "closed_at": "2022-02-12T19:30:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nAttempting to have a script delete itself while stopping causes infinite recursion. The following simple code in a Script will trigger the bug:\r\n\r\n```py\r\ndef at_stop(self):\r\n    self.delete()\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Install code as above\r\n2. Call script.stop()\r\n\r\n#### Expected behavior\r\n\r\ndelete() while stopping should work as normal.\r\n\r\n#### Develop-branch commit\r\n\r\n    Evennia 1.0-dev (rev efa8e99d0) (rev efa8e99d0)\r\n    OS: posix\r\n    Python: 3.10.2\r\n    Twisted: 21.7.0\r\n    Django: 4.0.2\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2641", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2641/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2641/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2641/events", "html_url": "https://github.com/evennia/evennia/issues/2641", "id": 1126361357, "node_id": "I_kwDOAPX8f85DIukN", "number": 2641, "title": "[BUG - Develop] `at_init()` not called for scripts", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-07T18:43:48Z", "updated_at": "2022-02-07T19:46:07Z", "closed_at": "2022-02-07T19:46:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nAlthough they are typeclassed objects, the `at_init()` method is not called on Script objects when they are loaded.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a new script with a log statement in `at_init()`\r\n2. Observe the log statement is not triggered\r\n\r\n#### Expected behavior\r\n\r\n`at_init()` should be called.\r\n\r\n#### Develop-branch commit\r\n\r\nEvennia 1.0-dev (rev e1241a9b0)\r\nOS: posix\r\nPython: 3.10.2\r\nTwisted: 21.7.0\r\nDjango: 4.0.2\r\n\r\n#### Additional context\r\n\r\nNoticed this when migrated OOC-object type scripts to initialize themselves without using `at_start()`, which I had previously relied on in 0.9.5 for scripts without a timer. `at_init()` is helpful for NDB/property initialization on script reload.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2626", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2626/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2626/events", "html_url": "https://github.com/evennia/evennia/issues/2626", "id": 1103839000, "node_id": "I_kwDOAPX8f85Byz8Y", "number": 2626, "title": "[BUG] Error after connecting Admin account", "user": {"login": "THEGODFATHERRX", "id": 61771930, "node_id": "MDQ6VXNlcjYxNzcxOTMw", "avatar_url": "https://avatars.githubusercontent.com/u/61771930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/THEGODFATHERRX", "html_url": "https://github.com/THEGODFATHERRX", "followers_url": "https://api.github.com/users/THEGODFATHERRX/followers", "following_url": "https://api.github.com/users/THEGODFATHERRX/following{/other_user}", "gists_url": "https://api.github.com/users/THEGODFATHERRX/gists{/gist_id}", "starred_url": "https://api.github.com/users/THEGODFATHERRX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/THEGODFATHERRX/subscriptions", "organizations_url": "https://api.github.com/users/THEGODFATHERRX/orgs", "repos_url": "https://api.github.com/users/THEGODFATHERRX/repos", "events_url": "https://api.github.com/users/THEGODFATHERRX/events{/privacy}", "received_events_url": "https://api.github.com/users/THEGODFATHERRX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-01-14T16:04:17Z", "updated_at": "2022-09-22T19:20:21Z", "closed_at": "2022-09-22T19:20:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\ncould not connect, so checked logs, there were a lot of errors, and all of them were AccountDB has no attribute something.\r\n\r\nfor example\r\n`22-01-14 13:21:17  |Portal| [EE]  'AccountDB' object has no attribute 'at_init' (error logged on other side)\r\n`\r\n```\r\n22-01-14 13:21:19  |Portal| [EE] AMP Error from AdminPortal2Server: Traceback (most recent call last):\r\n22-01-14 13:21:19  |Portal| [EE] Failure: builtins.Exception: 'AccountDB' object has no attribute 'at_disconnect' (error logged on other side)\r\n22-01-14 13:21:19  |Portal| [EE]  'AccountDB' object has no attribute 'at_disconnect' (error logged on other side)\r\n\r\n```\r\n```\r\n22-01-14 15:33:58 [::] Traceback (most recent call last):\r\n22-01-14 15:33:58 [::]   File \"/home/godfather/evennia/evennia/server/sessionhandler.py\", line 853, in call_inputfuncs\r\n22-01-14 15:33:58 [::]     _INPUT_FUNCS[cname](session, *cmdargs, **cmdkwargs)\r\n22-01-14 15:33:58 [::]   File \"/home/godfather/evennia/evennia/server/inputfuncs.py\", line 84, in text\r\n22-01-14 15:33:58 [::]     txt = session.account.nicks.nickreplace(\r\n22-01-14 15:33:58 [::] AttributeError: 'AccountDB' object has no attribute 'nicks'\r\n22-01-14 15:49:43 [SS] Authentication Success: username(account 2) (IP: 127.0.0.1).\r\n22-01-14 15:49:43 [..] Logged in: username(account 2) 127.0.0.1 (1 session(s) total)\r\n\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\nI am just following 'Getting Started' guide for Linux, I successfully made an account, but when I tried connecting the admin account it would return an error.(client side)\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/godfather/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/godfather/evennia/evennia/commands/default/unloggedin.py\", line 151, in func\r\n    session.sessionhandler.login(session, account)\r\n  File \"/home/godfather/evennia/evennia/server/sessionhandler.py\", line 506, in login\r\n    account.at_init()\r\nAttributeError: 'AccountDB' object has no attribute 'at_init'\r\n\r\n```\r\nI can however login using the admin dashboard website.\r\nAlso normal user account works just fine, but I can still see the \"has no attribute\" error in the Evennia server logs\r\n#### Expected behavior\r\nAdmin accounts should connect.\r\nthere shouldn't be those \"has no attributes\" errors\r\n#### Environment, Evennia version, OS etc\r\n```\r\n\r\n    Evennia 0.9.5 (rev fa79110ba) (rev fa79110ba)\r\n    OS: posix\r\n    Python: 3.10.1\r\n    Twisted: 21.7.0\r\n    Django: 3.2.11\r\n    \r\n```\r\nOS is Arch Linux.\r\n\r\n\r\n#### Additional context\r\n```\r\n\u276f evennia start -l\r\n   Tailing logfiles /home/godfather/Code/muddev/mygame/server/logs/server.log and portal.log (Ctrl-C to exit) ...\r\n [Devel: settings.IN_GAME_ERRORS is True. Turn off in production.]\r\n [Devel: settings.ALLOWED_HOSTS set to '*' (all). Limit in production.]\r\nPortal starting ...\r\n22-01-14 12:44:39  |Portal| Loading /home/godfather/evennia/evennia/server/portal/portal.py...\r\n22-01-14 12:44:40  |Portal| Loaded.\r\n22-01-14 12:44:40  |Portal| twistd 21.7.0 (/usr/bin/python 3.10.1) starting up.\r\n22-01-14 12:44:40  |Portal| reactor class: twisted.internet.epollreactor.EPollReactor.\r\n22-01-14 12:44:40  |Portal| AMP starting on 4006\r\n22-01-14 12:44:40  |Portal| Telnet starting on 4000\r\n22-01-14 12:44:40  |Portal| Websocket starting on 4002\r\n22-01-14 12:44:40  |Portal| Webserver-proxy starting on 4001\r\n... Portal started.\r\nServer starting  ...\r\n... Server started.\r\nEvennia running.\r\n------------------------ Evennia ---\r\nmygame Portal 0.9.5 (rev fa79110ba)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nmygame Server 0.9.5 (rev fa79110ba)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n------------------------------------\r\n22-01-14 12:44:40  |Portal| Portal starting server ... \r\n22-01-14 12:44:40 Loading /home/godfather/evennia/evennia/server/server.py...\r\n22-01-14 12:44:40 Loaded.\r\n22-01-14 12:44:40 twistd 21.7.0 (/usr/bin/python 3.10.1) starting up.\r\n22-01-14 12:44:40 reactor class: twisted.internet.epollreactor.EPollReactor.\r\n22-01-14 12:44:40 Webserver starting on 4005\r\n22-01-14 12:44:40 Evennia Server successfully started.\r\n22-01-14 12:46:09  |Portal| Timing out client: IPv4Address(type='TCP', host='127.0.0.1', port=42018)\r\n22-01-14 12:46:09 [SS] Authentication Success: gAdmin(account 3) (IP: 127.0.0.1).\r\n22-01-14 12:46:09 [::] Traceback (most recent call last):\r\n22-01-14 12:46:09 [::]   File \"/home/godfather/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n22-01-14 12:46:09 [::]     ret = cmd.func()\r\n22-01-14 12:46:09 [::]   File \"/home/godfather/evennia/evennia/commands/default/unloggedin.py\", line 151, in func\r\n22-01-14 12:46:09 [::]     session.sessionhandler.login(session, account)\r\n22-01-14 12:46:09 [::]   File \"/home/godfather/evennia/evennia/server/sessionhandler.py\", line 506, in login\r\n22-01-14 12:46:09 [::]     account.at_init()\r\n22-01-14 12:46:09 [::] AttributeError: 'AccountDB' object has no attribute 'at_init'\r\n22-01-14 12:46:09 [EE] User input was: 'connect gAdmin FAKEpassword'.\r\n```\r\n\r\nCLIENT->\r\n```\r\n\u276f telnet 127.0.0.1 4000\r\nTrying 127.0.0.1...\r\nConnected to 127.0.0.1.\r\nEscape character is '^]'.\r\n\r\n==============================================================\r\n Welcome to mygame, version 0.9.5!\r\n\r\n If you have an existing account, connect to it by typing:\r\n      connect <username> <password>\r\n If you need to create an account, type (without the <>'s):\r\n      create <username> <password>\r\n\r\n Enter help for more info. look will re-show this screen.\r\n==============================================================\r\nconnect gAdmin FAKEpassword\r\nTraceback (most recent call last):\r\n  File \"/home/godfather/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/godfather/evennia/evennia/commands/default/unloggedin.py\", line 151, in func\r\n    session.sessionhandler.login(session, account)\r\n  File \"/home/godfather/evennia/evennia/server/sessionhandler.py\", line 506, in login\r\n    account.at_init()\r\nAttributeError: 'AccountDB' object has no attribute 'at_init'\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 22-01-14 12:46:09).\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2621", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2621/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2621/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2621/events", "html_url": "https://github.com/evennia/evennia/issues/2621", "id": 1099855135, "node_id": "I_kwDOAPX8f85BjnUf", "number": 2621, "title": "[BUG] Official Evennia docker image Django version not matching master branch", "user": {"login": "lorecrafting", "id": 4595918, "node_id": "MDQ6VXNlcjQ1OTU5MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/4595918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lorecrafting", "html_url": "https://github.com/lorecrafting", "followers_url": "https://api.github.com/users/lorecrafting/followers", "following_url": "https://api.github.com/users/lorecrafting/following{/other_user}", "gists_url": "https://api.github.com/users/lorecrafting/gists{/gist_id}", "starred_url": "https://api.github.com/users/lorecrafting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lorecrafting/subscriptions", "organizations_url": "https://api.github.com/users/lorecrafting/orgs", "repos_url": "https://api.github.com/users/lorecrafting/repos", "events_url": "https://api.github.com/users/lorecrafting/events{/privacy}", "received_events_url": "https://api.github.com/users/lorecrafting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-12T04:09:27Z", "updated_at": "2022-01-16T18:09:05Z", "closed_at": "2022-01-16T18:09:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe requirements.txt on master branch has Django version as: `django >= 3.2, < 3.3`\r\nThe official Docker image at the Evennia repository on Dockerhub has `django >= 2.2.5, < 3.0` in its requirements.txt\r\n\r\nThe older version of Django causes issues with psycopg2 database connector when connecting to Postgres 13\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Shell into a running evennia:latest container and check requirements.txt and compare with the requirements.txt on Github master branch\r\n\r\n#### Expected behavior\r\nThe requirements.txt on master branch on Github should match the baked image on Docker Hub\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5\r\n    OS: posix\r\n    Python: 3.7.9\r\n    Twisted: 20.3.0\r\n    Django: 2.2.17\r\n   \r\n   This was done on a Macbook Air M1 within the Evennia Docker image.\r\n\r\n#### Additional context\r\n\r\nThis may be an issue with the Github CI system or action workflow.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2620", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2620/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2620/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2620/events", "html_url": "https://github.com/evennia/evennia/issues/2620", "id": 1099616453, "node_id": "I_kwDOAPX8f85BitDF", "number": 2620, "title": "[BUG][DEVELOP] Module Prototypes are no longer loaded", "user": {"login": "ChrisLR", "id": 7611762, "node_id": "MDQ6VXNlcjc2MTE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7611762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLR", "html_url": "https://github.com/ChrisLR", "followers_url": "https://api.github.com/users/ChrisLR/followers", "following_url": "https://api.github.com/users/ChrisLR/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLR/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLR/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLR/orgs", "repos_url": "https://api.github.com/users/ChrisLR/repos", "events_url": "https://api.github.com/users/ChrisLR/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-11T21:07:07Z", "updated_at": "2022-01-19T21:10:28Z", "closed_at": "2022-01-19T21:10:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nModule prototypes no longer load, trying to spawn one says there are None\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add a prototype in a module\r\n2. Try to spawn said prototype\r\n3. ??\r\n4. See error (No profit here)\r\n\r\n#### Expected behavior\r\nThe prototypes are loaded\r\n\r\n#### Environment, Evennia version, OS etc\r\nThis happens on the latest develop commit\r\n\r\n#### Additional context\r\nRegression as talked about on Discord\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2620/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2612", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2612/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2612/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2612/events", "html_url": "https://github.com/evennia/evennia/issues/2612", "id": 1096907988, "node_id": "I_kwDOAPX8f85BYXzU", "number": 2612, "title": "[BUG] (Develop) Unable to initialize new game on Windows", "user": {"login": "sailgoat", "id": 5974650, "node_id": "MDQ6VXNlcjU5NzQ2NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5974650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sailgoat", "html_url": "https://github.com/sailgoat", "followers_url": "https://api.github.com/users/sailgoat/followers", "following_url": "https://api.github.com/users/sailgoat/following{/other_user}", "gists_url": "https://api.github.com/users/sailgoat/gists{/gist_id}", "starred_url": "https://api.github.com/users/sailgoat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sailgoat/subscriptions", "organizations_url": "https://api.github.com/users/sailgoat/orgs", "repos_url": "https://api.github.com/users/sailgoat/repos", "events_url": "https://api.github.com/users/sailgoat/events{/privacy}", "received_events_url": "https://api.github.com/users/sailgoat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-08T11:47:52Z", "updated_at": "2022-02-12T19:55:40Z", "closed_at": "2022-02-12T19:55:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAttempting to run the command evennia --init mygame fails with the following traceback:\r\n\r\nTraceback (most recent call last):\r\n  File \"O:\\Projects\\mud\\mudenv\\Scripts\\evennia_launcher.py\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"O:\\Projects\\mud\\evennia\\bin\\windows\\evennia_launcher.py\", line 16, in <module>\r\n    from evennia.server.evennia_launcher import main\r\nModuleNotFoundError: No module named 'evennia.server'\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Clone the develop branch to an empty directory.\r\n2. Create a new virtual environment.\r\n3. Install evennia with pip.\r\n4. Attempt to create a new game.\r\n5. See error\r\n\r\n#### Expected behavior\r\nA game is created.\r\n\r\n#### Environment, Evennia version, OS etc\r\nUsing Windows 10 and Python version 3.9.9. I've also tried with Python version 3.10.1.\r\n\r\n#### Additional context\r\nAfter experiencing this issue, I tested an install using WSL and it works fine. Appears to be confined to Windows at the moment, and is not occurring on the master branch.\r\n-----\r\nA log of all steps taken:\r\n\r\nPS O:\\Projects> cd mud\r\nPS O:\\Projects\\mud> ls\r\nPS O:\\Projects\\mud> git clone -b develop https://github.com/evennia/evennia.git\r\nCloning into 'evennia'...\r\nremote: Enumerating objects: 146471, done.\r\nremote: Counting objects: 100% (49211/49211), done.\r\nremote: Compressing objects: 100% (7313/7313), done.\r\nremote: Total 146471 (delta 45148), reused 45705 (delta 41799), pack-reused 97260\r\nReceiving objects: 100% (146471/146471), 232.55 MiB | 11.76 MiB/s, done.\r\nResolving deltas: 100% (125976/125976), done.\r\nPS O:\\Projects\\mud> virtualenv mudenv\r\ncreated virtual environment CPython3.9.9.final.0-64 in 2542ms\r\n  creator CPython3Windows(dest=O:\\Projects\\mud\\mudenv, clear=False, no_vcs_ignore=False, global=False)\r\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=C:\\Users\\user\\AppData\\Local\\pypa\\virtualenv)\r\n    added seed packages: pip==21.3.1, setuptools==60.2.0, wheel==0.37.1\r\n  activators BashActivator,BatchActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\r\nPS O:\\Projects\\mud> .\\mudenv\\Scripts\\activate\r\n(mudenv) PS O:\\Projects\\mud> python --version\r\nPython 3.9.9\r\n(mudenv) PS O:\\Projects\\mud> pip install -e evennia\r\nObtaining file:///O:/Projects/mud/evennia\r\n  Installing build dependencies ... done\r\n  Checking if build backend supports build_editable ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... done\r\nRequirement already satisfied: wheel in o:\\projects\\mud\\mudenv\\lib\\site-packages (from evennia==1.0.dev0) (0.37.1)\r\nCollecting django<3.3,>=3.2\r\n  Using cached Django-3.2.11-py3-none-any.whl (7.9 MB)\r\nCollecting model-mommy\r\n  Using cached model_mommy-2.0.0-py2.py3-none-any.whl (16 kB)\r\nCollecting djangorestframework<3.12,>=3.10.3\r\n  Using cached djangorestframework-3.11.2-py3-none-any.whl (911 kB)\r\nCollecting django-filter==2.4\r\n  Using cached django_filter-2.4.0-py3-none-any.whl (73 kB)\r\nCollecting inflect>=5.2.0\r\n  Using cached inflect-5.3.0-py3-none-any.whl (32 kB)\r\nCollecting twisted<22.0.0,>=21.7.0\r\n  Using cached Twisted-21.7.0-py3-none-any.whl (3.1 MB)\r\nCollecting attrs>=19.2.0\r\n  Using cached attrs-21.4.0-py2.py3-none-any.whl (60 kB)\r\nCollecting autobahn<21.0.0,>=20.7.1\r\n  Using cached autobahn-20.12.3-py2.py3-none-any.whl (1.5 MB)\r\nCollecting parameterized==0.8.1\r\n  Using cached parameterized-0.8.1-py2.py3-none-any.whl (26 kB)\r\nCollecting pypiwin32\r\n  Using cached pypiwin32-223-py3-none-any.whl (1.7 kB)\r\nCollecting lunr==0.6.0\r\n  Using cached lunr-0.6.0-py2.py3-none-any.whl (34 kB)\r\nCollecting django-sekizai==2.0.0\r\n  Using cached django_sekizai-2.0.0-py3-none-any.whl (12 kB)\r\nCollecting pyyaml\r\n  Using cached PyYAML-6.0-cp39-cp39-win_amd64.whl (151 kB)\r\nCollecting pytz\r\n  Using cached pytz-2021.3-py2.py3-none-any.whl (503 kB)\r\nCollecting anything==0.2.1\r\n  Using cached anything-0.2.1-py3-none-any.whl\r\nCollecting mock>=1.0.1\r\n  Using cached mock-4.0.3-py3-none-any.whl (28 kB)\r\nCollecting simpleeval<=1.0\r\n  Using cached simpleeval-0.9.11-py2.py3-none-any.whl (14 kB)\r\nCollecting black\r\n  Using cached black-21.12b0-py3-none-any.whl (156 kB)\r\nCollecting django-classy-tags>=1\r\n  Using cached django_classy_tags-2.0.0-py3-none-any.whl (23 kB)\r\nCollecting cryptography>=2.9.2\r\n  Using cached cryptography-36.0.1-cp36-abi3-win_amd64.whl (2.2 MB)\r\nCollecting hyperlink>=20.0.1\r\n  Using cached hyperlink-21.0.0-py2.py3-none-any.whl (74 kB)\r\nCollecting txaio>=20.4.1\r\n  Using cached txaio-21.2.1-py2.py3-none-any.whl (30 kB)\r\nCollecting asgiref<4,>=3.3.2\r\n  Using cached asgiref-3.4.1-py3-none-any.whl (25 kB)\r\nCollecting sqlparse>=0.2.2\r\n  Using cached sqlparse-0.4.2-py3-none-any.whl (42 kB)\r\nCollecting typing-extensions>=3.6.5\r\n  Using cached typing_extensions-4.0.1-py3-none-any.whl (22 kB)\r\nCollecting zope.interface>=4.4.2\r\n  Using cached zope.interface-5.4.0-cp39-cp39-win_amd64.whl (210 kB)\r\nCollecting Automat>=0.8.0\r\n  Using cached Automat-20.2.0-py2.py3-none-any.whl (31 kB)\r\nCollecting incremental>=21.3.0\r\n  Using cached incremental-21.3.0-py2.py3-none-any.whl (15 kB)\r\nCollecting constantly>=15.1\r\n  Using cached constantly-15.1.0-py2.py3-none-any.whl (7.9 kB)\r\nCollecting twisted-iocpsupport~=1.0.0\r\n  Using cached twisted_iocpsupport-1.0.2-cp39-cp39-win_amd64.whl (45 kB)\r\nCollecting pathspec<1,>=0.9.0\r\n  Using cached pathspec-0.9.0-py2.py3-none-any.whl (31 kB)\r\nCollecting click>=7.1.2\r\n  Using cached click-8.0.3-py3-none-any.whl (97 kB)\r\nCollecting tomli<2.0.0,>=0.2.6\r\n  Using cached tomli-1.2.3-py3-none-any.whl (12 kB)\r\nCollecting platformdirs>=2\r\nCollecting mypy-extensions>=0.4.3\r\n  Using cached mypy_extensions-0.4.3-py2.py3-none-any.whl (4.5 kB)\r\nCollecting pywin32>=223\r\n  Using cached pywin32-303-cp39-cp39-win_amd64.whl (9.3 MB)\r\nCollecting six\r\n  Using cached six-1.16.0-py2.py3-none-any.whl (11 kB)\r\nCollecting colorama\r\n  Using cached colorama-0.4.4-py2.py3-none-any.whl (16 kB)\r\nCollecting cffi>=1.12\r\n  Using cached cffi-1.15.0-cp39-cp39-win_amd64.whl (180 kB)\r\nCollecting idna>=2.5\r\n  Using cached idna-3.3-py3-none-any.whl (61 kB)\r\nRequirement already satisfied: setuptools in o:\\projects\\mud\\mudenv\\lib\\site-packages (from zope.interface>=4.4.2->twisted<22.0.0,>=21.7.0->evennia==1.0.dev0) (60.2.0)\r\nCollecting pycparser\r\n  Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB)\r\nInstalling collected packages: sqlparse, pytz, pycparser, asgiref, six, idna, django, colorama, cffi, attrs, zope.interface, typing-extensions, txaio, twisted-iocpsupport, tomli, pywin32, platformdirs, pathspec, mypy-extensions, incremental, hyperlink, django-classy-tags, cryptography, constantly, click, Automat, twisted, simpleeval, pyyaml, pypiwin32, parameterized, model-mommy, mock, lunr, inflect, djangorestframework, django-sekizai, django-filter, black, autobahn, anything, evennia\r\n  Running setup.py develop for evennia\r\nSuccessfully installed Automat-20.2.0 anything-0.2.1 asgiref-3.4.1 attrs-21.4.0 autobahn-20.12.3 black-21.12b0 cffi-1.15.0 click-8.0.3 colorama-0.4.4 constantly-15.1.0 cryptography-36.0.1 django-3.2.11 django-classy-tags-2.0.0 django-filter-2.4.0 django-sekizai-2.0.0 djangorestframework-3.11.2 evennia-1.0.dev0 hyperlink-21.0.0 idna-3.3 incremental-21.3.0 inflect-5.3.0 lunr-0.6.0 mock-4.0.3 model-mommy-2.0.0 mypy-extensions-0.4.3 parameterized-0.8.1 pathspec-0.9.0 platformdirs-2.4.1 pycparser-2.21 pypiwin32-223 pytz-2021.3 pywin32-303 pyyaml-6.0 simpleeval-0.9.11 six-1.16.0 sqlparse-0.4.2 tomli-1.2.3 twisted-21.7.0 twisted-iocpsupport-1.0.2 txaio-21.2.1 typing-extensions-4.0.1 zope.interface-5.4.0\r\n(mudenv) PS O:\\Projects\\mud> evennia --init mygame\r\nTraceback (most recent call last):\r\n  File \"O:\\Projects\\mud\\mudenv\\Scripts\\evennia_launcher.py\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"O:\\Projects\\mud\\evennia\\bin\\windows\\evennia_launcher.py\", line 16, in <module>\r\n    from evennia.server.evennia_launcher import main\r\nModuleNotFoundError: No module named 'evennia.server'\r\n(mudenv) PS O:\\Projects\\mud>\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2611", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2611/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2611/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2611/events", "html_url": "https://github.com/evennia/evennia/issues/2611", "id": 1096803371, "node_id": "I_kwDOAPX8f85BX-Qr", "number": 2611, "title": "[BUG - Web Client] CTRL + C will not copy highlighted text.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-08T01:50:00Z", "updated_at": "2022-10-03T17:24:05Z", "closed_at": "2022-10-03T17:24:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nPressing CTRL + C in the Evennia web client will focus on the text input box, instead of copying highlighted text on the page.\r\n\r\n@friarzen explained that this is due to any key input, other than CTRL or other modifiers, forcing the focus to the input box.\r\n\r\nSo as soon as the C is pressed when using CTRL + C, it will instead focus the input box, instead of copying the highlighted text from the Main output box.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Highlight some text on the web client.\r\n2. Press CTRL + C.\r\n3. Try to paste and notice that nothing was copied.\r\n\r\n#### Expected behavior\r\nCTRL + C should instead copy the highlighted text.\r\n\r\n#### Solution\r\nIt's best that the \"Focus input box on keypress.\" feature be quelled while a modifier key is held down.\r\n\r\n```py\r\nif ctrl == keypressdown:\r\n    ignore input box focus\r\n```\r\n^ not real code \ud83d\ude05", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2610", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2610/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2610/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2610/events", "html_url": "https://github.com/evennia/evennia/issues/2610", "id": 1096681815, "node_id": "I_kwDOAPX8f85BXglX", "number": 2610, "title": "[BUG] delays not firing when scheduled in Script during startup", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-07T21:26:45Z", "updated_at": "2022-02-12T18:26:26Z", "closed_at": "2022-02-12T18:26:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nNon-persistent callbacks scheduled with `delay` (using `persistent=False`) do not fire properly when called from some script `at_start` methods. These callbacks appear to be scheduled successfully and return a `TaskHandlerTask` as expected, and contain a valid `Deferred` under the hood. After the correct amount of time passes, these tasks indicate that they have been called, but the underlying callback methods do not indeed get called.\r\n\r\nIf I call `at_start` after the server has fully initialized (including by `restart()`ing the script), callbacks and delays behave properly.\r\n\r\nI am not sure the root cause, though it is possible there is a problem with initialization order. I have observed this behavior with global scripts defined in `settings.GLOBAL_SCRIPTS` as well as with non-global scripts attached to a specific object. It appears that global scripts NOT defined in `settings.GLOBAL_SCRIPTS` behave properly.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Define a new script like the following and it attach it a puppeted character.\r\n```py\r\nclass ScriptTest(Script):\r\n    def at_start(self):\r\n        super().at_start()\r\n        delay(10, self.obj.msg, \"TEST\")\r\n        print(\"test message scheduled\")\r\n```\r\n\r\n2. Observe that, after 10 seconds, the message TEST is sent to the attached session.\r\n3. Reload the server.\r\n4. Check the logs and observe that \"test message scheduled\" appears.\r\n5. Observe that TEST is not sent to the attached session.\r\n6. Call `restart()` on the script.\r\n7. Observe that TEST is again printed.\r\n\r\n#### Expected behavior\r\n`delay` callbacks should behave consistently during script startup.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.5 (rev aa6d01e01)\r\nOS: posix (WSL2)\r\nPython: 3.8.10\r\nTwisted: 21.7.0\r\nDjango: 3.2.8\r\n\r\n#### Additional context\r\nI've spent some time investigating this and am attempting to dump as much knowledge as I can into this bug.\r\n\r\n* I can reproduce this reliably on master, though I have not tried on develop.\r\n* Setting breakpoints or adding print statements in the callback function (for the example above, by instrumenting `Object.msg`) shows that the callback itself is never executed in the misbehavior case.\r\n* Retrieving the `TaskHandlerTask` created by `delay` manually (before it would normally fire) and calling `do_task()` on it does not change the outcome. It still does not execute the actual callback, but reports that it completed successfully, as far as I can tell.\r\n* The fact that behavior depends on what kind of script it is (global vs non-global vs defined in GLOBAL_SCRIPTS) seems to be an important issue that may indicate some kind of initialization error.\r\n* No exceptions whatsoever are logged in the error case. Adding try/except wrappers to `at_start` shows that no exceptions are raised during the delay setup process.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2609", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2609/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2609/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2609/events", "html_url": "https://github.com/evennia/evennia/issues/2609", "id": 1096528436, "node_id": "I_kwDOAPX8f85BW7I0", "number": 2609, "title": "[BUG] `at_start` called twice for global scripts on reload", "user": {"login": "owllex", "id": 15664651, "node_id": "MDQ6VXNlcjE1NjY0NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15664651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owllex", "html_url": "https://github.com/owllex", "followers_url": "https://api.github.com/users/owllex/followers", "following_url": "https://api.github.com/users/owllex/following{/other_user}", "gists_url": "https://api.github.com/users/owllex/gists{/gist_id}", "starred_url": "https://api.github.com/users/owllex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owllex/subscriptions", "organizations_url": "https://api.github.com/users/owllex/orgs", "repos_url": "https://api.github.com/users/owllex/repos", "events_url": "https://api.github.com/users/owllex/events{/privacy}", "received_events_url": "https://api.github.com/users/owllex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-07T17:41:31Z", "updated_at": "2022-02-12T18:20:00Z", "closed_at": "2022-02-12T18:20:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen reloading the game with the reload command, global scripts that are defined in settings.GLOBAL_SCRIPTS have their `at_start` called twice. See stack traces below.\r\n\r\nThe bug does not occur for scripts that are not defined in GLOBAL_SCRIPTS.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior (observed in master branch):\r\n1. Define a global script in settings.GLOBAL_SCRIPTS. Add a trackback log to its `at_start` method.\r\n2. Run reload command\r\n3. Observe two calls.\r\n\r\n#### Expected behavior\r\n`at_start` is called only once for scripts at startup regardless of how the script is defined.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.5 (rev aa6d01e01) (rev aa6d01e01)\r\nOS: posix (Note: WSL2)\r\nPython: 3.8.10\r\nTwisted: 21.7.0\r\nDjango: 3.2.8\r\n\r\n#### Additional context\r\nDid not test on develop.\r\n\r\n<details>\r\n\r\n<summary>Stack traces and system log</summary\r\n<p>\r\n\r\n```\r\n22-01-07 17:00:36 [..] Server disconnected from the portal.\r\n22-01-07 17:00:36 Main loop terminated.\r\n22-01-07 17:00:36 Server Shut Down.\r\n  File \"/home/rel/mud/env/bin/twistd\", line 8, in <module>\r\n    sys.exit(run())\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/scripts/twistd.py\", line 36, in run\r\n    app.run(runApp, ServerOptions)\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 676, in run\r\n    runApp(config)\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/scripts/twistd.py\", line 30, in runApp\r\n    runner.run()\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 372, in run\r\n    self.application = self.createOrGetApplication()\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 439, in createOrGetApplication\r\n    application = getApplication(self.config, passphrase)\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 448, in getApplication\r\n    application = service.loadApplication(filename, style, passphrase)\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/service.py\", line 404, in loadApplication\r\n    application = sob.loadValueFromFile(filename, \"application\")\r\n  File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/persisted/sob.py\", line 176, in loadValueFromFile\r\n    eval(codeObj, d, d)\r\n  File \"/home/rel/mud/evennia/evennia/server/server.py\", line 26, in <module>\r\n    evennia._init()\r\n  File \"/home/rel/mud/evennia/evennia/__init__.py\", line 369, in _init\r\n    GLOBAL_SCRIPTS.start()\r\n  File \"/home/rel/mud/evennia/evennia/utils/containers.py\", line 182, in start\r\n    self._load_script(key)\r\n  File \"/home/rel/mud/evennia/evennia/utils/containers.py\", line 163, in _load_script\r\n    found.restart(interval=interval, start_delay=start_delay, repeats=repeats)\r\n  File \"/home/rel/mud/evennia/evennia/scripts/scripts.py\", line 599, in restart\r\n    self.start()\r\n  File \"/home/rel/mud/evennia/evennia/scripts/scripts.py\", line 477, in start\r\n    self.at_start()\r\n  File \"/home/rel/mud/aelandris/typeclasses/weather.py\", line 92, in at_start\r\n    traceback.print_stack()\r\n22-01-07 17:00:36 Loading /home/rel/mud/evennia/evennia/server/server.py...\r\n22-01-07 17:00:36 Loaded.\r\n22-01-07 17:00:36 twistd 21.7.0 (/home/rel/mud/env/bin/python 3.8.10) starting up.\r\n22-01-07 17:00:36 reactor class: twisted.internet.epollreactor.EPollReactor.\r\n22-01-07 17:00:36 Webserver starting on 4005\r\n22-01-07 17:00:36 Server successfully reloaded.\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/bin/twistd\", line 8, in <module>\r\n22-01-07 17:00:36     sys.exit(run())\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/scripts/twistd.py\", line 36, in run\r\n22-01-07 17:00:36     app.run(runApp, ServerOptions)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 676, in run\r\n22-01-07 17:00:36     runApp(config)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/scripts/twistd.py\", line 30, in runApp\r\n22-01-07 17:00:36     runner.run()\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 376, in run\r\n22-01-07 17:00:36     self.postApplication()\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/scripts/_twistd_unix.py\", line 269, in postApplication\r\n22-01-07 17:00:36     self.startReactor(None, self.oldstdout, self.oldstderr)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 388, in startReactor\r\n22-01-07 17:00:36     runReactorWithLogging(self.config, oldstdout, oldstderr, self.profiler, reactor)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/application/app.py\", line 306, in runReactorWithLogging\r\n22-01-07 17:00:36     reactor.run()\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/base.py\", line 1318, in run\r\n22-01-07 17:00:36     self.mainLoop()\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/base.py\", line 1331, in mainLoop\r\n22-01-07 17:00:36     reactorBaseSelf.doIteration(t)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/epollreactor.py\", line 244, in doPoll\r\n22-01-07 17:00:36     log.callWithLogger(selectable, _drdw, selectable, fd, event)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/python/log.py\", line 101, in callWithLogger\r\n22-01-07 17:00:36     return callWithContext({\"system\": lp}, func, *args, **kw)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/python/log.py\", line 85, in callWithContext\r\n22-01-07 17:00:36     return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n22-01-07 17:00:36     return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/python/context.py\", line 83, in callWithContext\r\n22-01-07 17:00:36     return func(*args, **kw)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/posixbase.py\", line 686, in _doReadOrWrite\r\n22-01-07 17:00:36     why = selectable.doRead()\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/tcp.py\", line 247, in doRead\r\n22-01-07 17:00:36     return self._dataReceived(data)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/tcp.py\", line 252, in _dataReceived\r\n22-01-07 17:00:36     rval = self.protocol.dataReceived(data)\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/server/portal/amp.py\", line 364, in dataReceived\r\n22-01-07 17:00:36     super(AMPMultiConnectionProtocol, self).dataReceived(data)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2360, in dataReceived\r\n22-01-07 17:00:36     return Int16StringReceiver.dataReceived(self, data)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 731, in dataReceived\r\n22-01-07 17:00:36     self.stringReceived(packet)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 841, in stringReceived\r\n22-01-07 17:00:36     self.state = statehandler(string)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2411, in proto_key\r\n22-01-07 17:00:36     self.boxReceiver.ampBoxReceived(self._currentBox)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 1031, in ampBoxReceived\r\n22-01-07 17:00:36     self._commandReceived(box)\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/server/portal/amp.py\", line 347, in _commandReceived\r\n22-01-07 17:00:36     deferred = self.dispatchCommand(box)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 1065, in dispatchCommand\r\n22-01-07 17:00:36     return maybeDeferred(responder, box)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/defer.py\", line 191, in maybeDeferred\r\n22-01-07 17:00:36     result = f(*args, **kwargs)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 1159, in doit\r\n22-01-07 17:00:36     maybeDeferred(aCallable, **kw)\r\n22-01-07 17:00:36   File \"/home/rel/mud/env/lib/python3.8/site-packages/twisted/internet/defer.py\", line 191, in maybeDeferred\r\n22-01-07 17:00:36     result = f(*args, **kwargs)\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/server/amp_client.py\", line 230, in server_receive_adminportal2server\r\n22-01-07 17:00:36     server_sessionhandler.portal_sessions_sync(kwargs.get(\"sessiondata\"))\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/server/sessionhandler.py\", line 400, in portal_sessions_sync\r\n22-01-07 17:00:36     self.server.at_post_portal_sync(mode)\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/server/server.py\", line 537, in at_post_portal_sync\r\n22-01-07 17:00:36     ScriptDB.objects.validate(init_mode=mode)\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/scripts/manager.py\", line 207, in validate\r\n22-01-07 17:00:36     nr_started += script.start(force_restart=init_mode)\r\n22-01-07 17:00:36   File \"/home/rel/mud/evennia/evennia/scripts/scripts.py\", line 477, in start\r\n22-01-07 17:00:36     self.at_start()\r\n22-01-07 17:00:36   File \"/home/rel/mud/aelandris/typeclasses/weather.py\", line 92, in at_start\r\n22-01-07 17:00:36     traceback.print_stack()\r\n```\r\n\r\n</p>\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2609/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2608", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2608/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2608/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2608/events", "html_url": "https://github.com/evennia/evennia/issues/2608", "id": 1095822173, "node_id": "I_kwDOAPX8f85BUOtd", "number": 2608, "title": "Web Client: Input frame focus is not retained if multiple input frames are open", "user": {"login": "Tegiminis", "id": 2596300, "node_id": "MDQ6VXNlcjI1OTYzMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/2596300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tegiminis", "html_url": "https://github.com/Tegiminis", "followers_url": "https://api.github.com/users/Tegiminis/followers", "following_url": "https://api.github.com/users/Tegiminis/following{/other_user}", "gists_url": "https://api.github.com/users/Tegiminis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tegiminis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tegiminis/subscriptions", "organizations_url": "https://api.github.com/users/Tegiminis/orgs", "repos_url": "https://api.github.com/users/Tegiminis/repos", "events_url": "https://api.github.com/users/Tegiminis/events{/privacy}", "received_events_url": "https://api.github.com/users/Tegiminis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-07T00:06:50Z", "updated_at": "2022-10-29T19:05:40Z", "closed_at": "2022-10-29T19:05:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIf you have multiple input frames open on the default web client, inputting a command will unfocus the input frame, requiring you to click into it every time.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Start up an Evennia server and log in using the localhost web client\r\n2. Open an extra input frame\r\n3. Input any command\r\n4. Observe input frame focus being lost\r\n\r\n#### Error output / Expected result of feature\r\nThe currently-used input frame should stay focused until the user clicks out of it, regardless of command use.\r\n\r\n####Screenshot####\r\nInput frames should look like this to repro the bug.\r\n![image](https://user-images.githubusercontent.com/2596300/148469782-004a17d2-bced-4d8b-8a48-5ea9691f2e3f.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2608/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2606", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2606/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2606/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2606/events", "html_url": "https://github.com/evennia/evennia/pull/2606", "id": 1088206626, "node_id": "PR_kwDOAPX8f84wQToI", "number": 2606, "title": "Fix gh-pages README.md link text", "user": {"login": "gtaylor", "id": 75556, "node_id": "MDQ6VXNlcjc1NTU2", "avatar_url": "https://avatars.githubusercontent.com/u/75556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtaylor", "html_url": "https://github.com/gtaylor", "followers_url": "https://api.github.com/users/gtaylor/followers", "following_url": "https://api.github.com/users/gtaylor/following{/other_user}", "gists_url": "https://api.github.com/users/gtaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtaylor/subscriptions", "organizations_url": "https://api.github.com/users/gtaylor/orgs", "repos_url": "https://api.github.com/users/gtaylor/repos", "events_url": "https://api.github.com/users/gtaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/gtaylor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700730365, "node_id": "MDU6TGFiZWw3MDA3MzAzNjU=", "url": "https://api.github.com/repos/evennia/evennia/labels/documentation", "name": "documentation", "color": "bfd4f2", "default": true, "description": "Issue with wiki or docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-24T07:24:07Z", "updated_at": "2022-01-06T21:24:29Z", "closed_at": "2022-01-06T21:20:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/evennia/evennia/pulls/2606", "html_url": "https://github.com/evennia/evennia/pull/2606", "diff_url": "https://github.com/evennia/evennia/pull/2606.diff", "patch_url": "https://github.com/evennia/evennia/pull/2606.patch", "merged_at": "2022-01-06T21:20:18Z"}, "body": "Leetle fix!", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2606/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2602", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2602/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2602/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2602/events", "html_url": "https://github.com/evennia/evennia/issues/2602", "id": 1077813566, "node_id": "I_kwDOAPX8f85APiE-", "number": 2602, "title": "[BUG] Bad interpreter: Error finding evennia executable if spaces in folder name", "user": {"login": "Jaykingamez", "id": 39272482, "node_id": "MDQ6VXNlcjM5MjcyNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/39272482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jaykingamez", "html_url": "https://github.com/Jaykingamez", "followers_url": "https://api.github.com/users/Jaykingamez/followers", "following_url": "https://api.github.com/users/Jaykingamez/following{/other_user}", "gists_url": "https://api.github.com/users/Jaykingamez/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jaykingamez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jaykingamez/subscriptions", "organizations_url": "https://api.github.com/users/Jaykingamez/orgs", "repos_url": "https://api.github.com/users/Jaykingamez/repos", "events_url": "https://api.github.com/users/Jaykingamez/events{/privacy}", "received_events_url": "https://api.github.com/users/Jaykingamez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-12T13:58:16Z", "updated_at": "2022-09-22T18:29:45Z", "closed_at": "2022-09-22T18:29:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nFollowing the Getting Started documentation, if one chooses to name their folder \"Mud Development\" or any other name with one spacing in it. An error will be outputted when typing in \r\n\r\n```\r\nevennia --init mygame\r\n```\r\nOne would receive the following error\r\n```\r\n-bash: /mnt/c/Users/jayki/documents/Mud Development/evenv/bin/evennia: \"/mnt/c/Users/jayki/documents/Mud: bad interpreter: No such file or directory\r\n```\r\nAs one can see, \r\n#### To Reproduce\r\nSteps to reproduce the behavior (According to the quickstart [tutorial](https://www.evennia.com/docs/latest/Getting-Started.html)):\r\n1. Install Python, GIT and python-virtualenv. Start a Console/Terminal.\r\n2. cd to some place you want to do your development (like a folder /home/anna/mud dev/ on Linux or a folder in your personal user directory on Windows).\r\nNote: As long as the named folder's name have spaces in it, when one reaches step 7 evennia --init mygame\r\n3. See error\r\n\r\n#### Expected behavior\r\nevennia command should be able to be executed without errors\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.5 (rev aa6d01e01) (rev aa6d01e01)\r\n    OS: posix\r\n    Python: 3.8.10\r\n    Twisted: 21.7.0\r\n    Django: 3.2.10\r\n```\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2602/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2599", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2599/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2599/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2599/events", "html_url": "https://github.com/evennia/evennia/issues/2599", "id": 1068922383, "node_id": "I_kwDOAPX8f84_tnYP", "number": 2599, "title": "[Bug] SaverDict Saving Situation", "user": {"login": "alephate", "id": 72240438, "node_id": "MDQ6VXNlcjcyMjQwNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/72240438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alephate", "html_url": "https://github.com/alephate", "followers_url": "https://api.github.com/users/alephate/followers", "following_url": "https://api.github.com/users/alephate/following{/other_user}", "gists_url": "https://api.github.com/users/alephate/gists{/gist_id}", "starred_url": "https://api.github.com/users/alephate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alephate/subscriptions", "organizations_url": "https://api.github.com/users/alephate/orgs", "repos_url": "https://api.github.com/users/alephate/repos", "events_url": "https://api.github.com/users/alephate/events{/privacy}", "received_events_url": "https://api.github.com/users/alephate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1116337924, "node_id": "MDU6TGFiZWwxMTE2MzM3OTI0", "url": "https://api.github.com/repos/evennia/evennia/labels/not%20implemented", "name": "not implemented", "color": "ffffff", "default": false, "description": "Was not and will not be implemented."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-01T22:14:54Z", "updated_at": "2022-03-05T15:43:42Z", "closed_at": "2022-03-05T15:43:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen you reference a saverdict in a command, edit it, and then call a function to edit it, and then edit it in the command again -- the editing done in the function is erased.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Use this code:\r\n```python\r\nfrom commands.command import Command\r\n\r\ndef saverdict_test(caller):\r\n    print(caller.db.test_saverdict)\r\n    caller.db.test_saverdict[\"test\"][\"nest\"].append(\"the called function value has saved\")\r\n    print(caller.db.test_saverdict)\r\n\r\nclass CmdTest(Command):\r\n    \"\"\"Command for testing code, replaceable\"\"\"\r\n    key=\"test\"\r\n    locks = \"perm(Admin)\"\r\n    def func(self):\r\n        caller = self.caller\r\n        caller.db.test_saverdict = {\"test\": {\"nest\": []}}\r\n        saverdict = caller.db.test_saverdict\r\n        saverdict[\"test\"][\"nest\"].append(\"the value is set up initially from the command func\")\r\n        print(caller.db.test_saverdict)\r\n        saverdict_test(caller)\r\n        saverdict[\"test\"][\"nest\"].append(\"a second value is set up from the command func\")\r\n        print(caller.db.test_saverdict)\r\n\r\n```\r\n2. Add CmdTest to your character cmdset.\r\n3. Start evennia in interactive mode, log in, enter 'test', then look at your terminal\r\n4. See error\r\n\r\n#### Expected behavior\r\nYou should see something like this:\r\n```\r\n\r\n2021-12-01T16:55:28-0500 [stdout#info] {'test': {'nest': ['the value is set up initially from the command func']}}\r\n2021-12-01T16:55:28-0500 [stdout#info] {'test': {'nest': ['the value is set up initially from the command func']}}\r\n2021-12-01T16:55:28-0500 [stdout#info] {'test': {'nest': ['the value is set up initially from the command func', 'the called function value has saved']}}\r\n2021-12-01T16:55:28-0500 [stdout#info] {'test': {'nest': ['the value is set up initially from the command func', 'a second value is set up from the command func']}}\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n\r\n         Evennia version: 0.9.5 (rev 76af934fd)\r\n         OS: nt\r\n         Python: 3.7.9\r\n         Twisted: 20.3.0\r\n         Django: 2.2.5\r\n```\r\n\r\n#### Additional context\r\nIt has something to do with how saverdicts are managed. I would suggest making all changes to them persistent (?) or making sure this issue is well-known in the documentation.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2598", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2598/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2598/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2598/events", "html_url": "https://github.com/evennia/evennia/issues/2598", "id": 1064927423, "node_id": "I_kwDOAPX8f84_eYC_", "number": 2598, "title": "[BUG] Help Files Do Not Display New Line Characters With Escape", "user": {"login": "jaborsh", "id": 73198594, "node_id": "MDQ6VXNlcjczMTk4NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/73198594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaborsh", "html_url": "https://github.com/jaborsh", "followers_url": "https://api.github.com/users/jaborsh/followers", "following_url": "https://api.github.com/users/jaborsh/following{/other_user}", "gists_url": "https://api.github.com/users/jaborsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaborsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaborsh/subscriptions", "organizations_url": "https://api.github.com/users/jaborsh/orgs", "repos_url": "https://api.github.com/users/jaborsh/repos", "events_url": "https://api.github.com/users/jaborsh/events{/privacy}", "received_events_url": "https://api.github.com/users/jaborsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-27T07:25:23Z", "updated_at": "2022-09-22T18:22:38Z", "closed_at": "2022-09-22T18:22:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Help entries no longer validate `||/` to display `|/`. Instead, it continues onward to display a new line.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create help entry\r\n2. Put `||/` somewhere in help entry\r\n3. See error\r\n\r\n#### Expected behavior\r\nIn master branch, help entries automatically escape the new line generation to display. Helpful information for builders.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2598/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2595", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2595/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2595/events", "html_url": "https://github.com/evennia/evennia/issues/2595", "id": 1063277235, "node_id": "I_kwDOAPX8f84_YFKz", "number": 2595, "title": "[BUG] Unban Command Msg Display", "user": {"login": "jaborsh", "id": 73198594, "node_id": "MDQ6VXNlcjczMTk4NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/73198594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaborsh", "html_url": "https://github.com/jaborsh", "followers_url": "https://api.github.com/users/jaborsh/followers", "following_url": "https://api.github.com/users/jaborsh/following{/other_user}", "gists_url": "https://api.github.com/users/jaborsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaborsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaborsh/subscriptions", "organizations_url": "https://api.github.com/users/jaborsh/orgs", "repos_url": "https://api.github.com/users/jaborsh/repos", "events_url": "https://api.github.com/users/jaborsh/events{/privacy}", "received_events_url": "https://api.github.com/users/jaborsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-25T08:15:52Z", "updated_at": "2021-11-25T09:27:52Z", "closed_at": "2021-11-25T09:27:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Summary:\r\nUnban Command does not display the final `.msg` due to a syntax error.\r\n\r\n#### Reproduce:\r\nSteps to reproduce the behavior:\r\n1. Fresh installation\r\n2. Create a ban.\r\n3. Attempt to unban.\r\n4. See error\r\n\r\n#### Expected behavior\r\nUnban should properly display: \"Cleared ban `num`: `value`\"\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2590", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2590/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2590/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2590/events", "html_url": "https://github.com/evennia/evennia/issues/2590", "id": 1059280448, "node_id": "I_kwDOAPX8f84_I1ZA", "number": 2590, "title": "[BUG] No switches in Typeclass Command", "user": {"login": "jaborsh", "id": 73198594, "node_id": "MDQ6VXNlcjczMTk4NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/73198594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaborsh", "html_url": "https://github.com/jaborsh", "followers_url": "https://api.github.com/users/jaborsh/followers", "following_url": "https://api.github.com/users/jaborsh/following{/other_user}", "gists_url": "https://api.github.com/users/jaborsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaborsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaborsh/subscriptions", "organizations_url": "https://api.github.com/users/jaborsh/orgs", "repos_url": "https://api.github.com/users/jaborsh/repos", "events_url": "https://api.github.com/users/jaborsh/events{/privacy}", "received_events_url": "https://api.github.com/users/jaborsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-11-21T03:15:56Z", "updated_at": "2021-11-21T10:07:53Z", "closed_at": "2021-11-21T10:07:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Cmd Typeclass has no attribute 'switches'.\r\n\r\nSteps to reproduce the behavior:\r\n1. Fresh Evennia installation\r\n2. Use command 'update'\r\n3. See error\r\n\r\n![image](https://user-images.githubusercontent.com/73198594/142748097-6faf93ed-518a-447c-b784-dabe6db636bb.png)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2590/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2587", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2587/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2587/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2587/events", "html_url": "https://github.com/evennia/evennia/issues/2587", "id": 1059180966, "node_id": "I_kwDOAPX8f84_IdGm", "number": 2587, "title": "[DEVEL][BUG] Help command fails to find some default commands and topics", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-20T16:33:30Z", "updated_at": "2022-03-01T21:23:29Z", "closed_at": "2022-03-01T21:23:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe `help <target>` command fails to properly find/display help for the default `say` and `who` commands (if searched for by key), and the `building` topic (and possibly others not yet tested).\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Log into a newly created game instance.\r\n2. Use the `help say`, `help who`, or `help building` command (or list topics with `help` and then click the command/topic name).\r\n3. See error(s)\r\n\r\n#### Expected behavior\r\nHelp for these commands/topic(s) should be consistent with others.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 1.0-dev (rev ffd6da2c5) (rev ffd6da2c5)\r\n    OS: posix\r\n    Python: 3.9.7\r\n    Twisted: 21.7.0\r\n    Django: 3.2.3\r\n```\r\n#### Additional context\r\nHelp for `say` and `who` can be found by searching for their aliases such as `help '` or `help doing`.  The list returned by `help` used by itself also displays the keys for all of these commands/topics without issue.\r\n\r\nAlso, while playing around to see if I could find a quick fix to suggest for this issue (sadly, no such luck), I noticed that, contrary to the comments in `CmdHelp`, setting `suggestion_maxnum = 0`, rather than just disabling suggestions, completely prevents the `help` command from returning any matches at all.  Either the functioning of the variable or the comment about how it works may need altering. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2586", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2586/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2586/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2586/events", "html_url": "https://github.com/evennia/evennia/issues/2586", "id": 1059175482, "node_id": "I_kwDOAPX8f84_Ibw6", "number": 2586, "title": "[DEVEL][BUG] Django Warning urls.W005", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-20T16:04:32Z", "updated_at": "2022-01-08T16:42:36Z", "closed_at": "2022-01-08T16:42:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nNewly created game instances alert users to the following:\r\n```\r\nWARNINGS:\r\n?: (urls.W005) URL namespace 'admin' isn't unique. You may not be able to reverse all URLs in this namespace\r\n```\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `evennia --init newinstance`\r\n2. `cd newinstance`\r\n3. `evennia migrate`\r\n4. start and then stop the server\r\n5. `evennia migrate` or `evennia check`\r\n6. See error\r\n\r\n#### Expected behavior\r\nFresh instances probably shouldn't raise any warnings.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 1.0-dev (rev ffd6da2c5) (rev ffd6da2c5)\r\n    OS: posix\r\n    Python: 3.9.7\r\n    Twisted: 21.7.0\r\n    Django: 3.2.3\r\n```\r\n#### Additional context\r\nI have yet to see this actually impact the behavior of the webserver, but it has the potential to alarm new users.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2582", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2582/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2582/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2582/events", "html_url": "https://github.com/evennia/evennia/issues/2582", "id": 1048596251, "node_id": "I_kwDOAPX8f84-gE8b", "number": 2582, "title": "[BUG] makemessages starts from root directory", "user": {"login": "mrseeker", "id": 1099127, "node_id": "MDQ6VXNlcjEwOTkxMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1099127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrseeker", "html_url": "https://github.com/mrseeker", "followers_url": "https://api.github.com/users/mrseeker/followers", "following_url": "https://api.github.com/users/mrseeker/following{/other_user}", "gists_url": "https://api.github.com/users/mrseeker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrseeker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrseeker/subscriptions", "organizations_url": "https://api.github.com/users/mrseeker/orgs", "repos_url": "https://api.github.com/users/mrseeker/repos", "events_url": "https://api.github.com/users/mrseeker/events{/privacy}", "received_events_url": "https://api.github.com/users/mrseeker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-09T13:17:11Z", "updated_at": "2022-02-12T18:02:31Z", "closed_at": "2022-02-12T18:02:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn windows, running `evennia makemessages --locale nl` will cause django to create pot files from the root directory.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Use windows\r\n2. run `evennia makemessages --locale nl`\r\n3. See error\r\n\r\n#### Expected behavior\r\nCreate a potfile from the evennia folder.\r\n\r\n#### Environment, Evennia version, OS etc\r\n  Evennia 1.0-dev\r\n    OS: nt\r\n    Python: 3.9.7\r\n    Twisted: 21.7.0\r\n    Django: 3.2.9\r\n\r\n#### Additional context\r\nThis is output from my end:\r\n\r\n```\r\nPS D:\\Data\\Git\\evennia-dev\\evennia> evennia makemessages --locale nl\r\n\r\n    TESTING: Using Evennia's default settings file (evennia.settings_default).\r\n    (use 'evennia test --settings settings.py .' to run only your custom game tests)\r\n\r\nUnicodeDecodeError: skipped file _sample.txt in .\\Data\\Dropbox\\BCMGames\\Plugins (reason: 'utf-8' codec can't decode byte 0xf6 in position 498: invalid start byte)\r\nUnicodeDecodeError: skipped file Readme.txt in .\\Data\\Dropbox\\Keepers\\Ham\\MMSSTV (reason: 'utf-8' codec can't decode byte 0xa9 in position 8: invalid start byte)\r\nUnicodeDecodeError: skipped file Terms.txt in .\\Data\\Dropbox\\Keepers\\Ham\\MMSSTV (reason: 'utf-8' codec can't decode byte 0xa9 in position 8: invalid start byte)\r\nUnicodeDecodeError: skipped file Credits.txt in .\\Data\\Dropbox\\Keepers\\netgore\\netgore\\trunk\\DevContent\\Grh\\Tiles\\LPC full\\Attributions (reason: 'utf-8' codec can't decode byte 0xf6 in position 5818: invalid start byte)\r\nUnicodeDecodeError: skipped file 127.0.0.1.txt in .\\Data\\Dropbox\\MUDGame\\MUDGame\\bin\\Debug (reason: 'utf-8' codec can't decode byte 0xff in position 6: invalid start byte)\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Scripts\\evennia_launcher.py\", line 18, in <module>\r\n    main()\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\evennia\\server\\evennia_launcher.py\", line 2342, in main\r\n    sys.exit(execute_from_command_line(sys.argv))\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 419, in execute_from_command_line\r\n    utility.execute()\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 413, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\base.py\", line 354, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\base.py\", line 398, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\commands\\makemessages.py\", line 382, in handle\r\n    potfiles = self.build_potfiles()\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\commands\\makemessages.py\", line 432, in build_potfiles\r\n    self.process_files(file_list)\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\commands\\makemessages.py\", line 503, in process_files\r\n    self.process_locale_dir(locale_dir, files)\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\commands\\makemessages.py\", line 522, in process_locale_dir\r\n    build_file.preprocess()\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\django\\core\\management\\commands\\makemessages.py\", line 107, in preprocess\r\n    src_data = fp.read()\r\n  File \"C:\\Users\\Julius\\AppData\\Local\\Programs\\Python\\Python39\\lib\\codecs.py\", line 319, in decode\r\n    def decode(self, input, final=False):\r\nKeyboardInterrupt\r\n^CTerminate batch job (Y/N)? Y\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2582/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2580", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2580/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2580/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2580/events", "html_url": "https://github.com/evennia/evennia/issues/2580", "id": 1043123425, "node_id": "I_kwDOAPX8f84-LMzh", "number": 2580, "title": "[BUG] Stack trace when invoking raw_ansi with parameter string=None", "user": {"login": "luciensadi", "id": 28811446, "node_id": "MDQ6VXNlcjI4ODExNDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/28811446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luciensadi", "html_url": "https://github.com/luciensadi", "followers_url": "https://api.github.com/users/luciensadi/followers", "following_url": "https://api.github.com/users/luciensadi/following{/other_user}", "gists_url": "https://api.github.com/users/luciensadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/luciensadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luciensadi/subscriptions", "organizations_url": "https://api.github.com/users/luciensadi/orgs", "repos_url": "https://api.github.com/users/luciensadi/repos", "events_url": "https://api.github.com/users/luciensadi/events{/privacy}", "received_events_url": "https://api.github.com/users/luciensadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-03T06:17:26Z", "updated_at": "2022-03-01T22:56:55Z", "closed_at": "2022-03-01T22:56:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nEntering `i` when holding an item with no description produces the following stack trace:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/<snip>/dev/evennia/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"/Users/<snip>/dev/evennia/evennia/evennia/commands/default/general.py\", line 387, in func\r\n    \"{}\".format(utils.crop(raw_ansi(item.db.desc), width=50) or \"\"),\r\n  File \"/Users/<snip>/dev/evennia/evennia/evennia/utils/ansi.py\", line 523, in raw\r\n    return string.replace(\"{\", \"{\").replace(\"|\", \"|\")\r\nAttributeError: 'NoneType' object has no attribute 'replace'\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an object like this:\r\n```\r\nobj = create_object(\r\n                typeclass=Object,\r\n                key=\"new obj\",\r\n                home=caller,\r\n                report_to=caller\r\n            )\r\nsuccess = clothes.move_to(caller, quiet=True)\r\n```\r\n2. Hit `i`\r\n3. See error\r\n\r\n#### Expected behavior\r\nThe raw_ansi function should account for None strings and return the empty string `\"\"` instead of an exception.\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.5 (rev 630681337)\r\n         OS: posix\r\n         Python: 3.9.7\r\n         Twisted: 21.7.0\r\n         Django: 3.2.8\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2579", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2579/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2579/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2579/events", "html_url": "https://github.com/evennia/evennia/issues/2579", "id": 1034828077, "node_id": "I_kwDOAPX8f849rjkt", "number": 2579, "title": "[BUG] Unexpected behavior when renaming objects with the same or very similar name", "user": {"login": "fire-hawk-86", "id": 29975443, "node_id": "MDQ6VXNlcjI5OTc1NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/29975443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fire-hawk-86", "html_url": "https://github.com/fire-hawk-86", "followers_url": "https://api.github.com/users/fire-hawk-86/followers", "following_url": "https://api.github.com/users/fire-hawk-86/following{/other_user}", "gists_url": "https://api.github.com/users/fire-hawk-86/gists{/gist_id}", "starred_url": "https://api.github.com/users/fire-hawk-86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fire-hawk-86/subscriptions", "organizations_url": "https://api.github.com/users/fire-hawk-86/orgs", "repos_url": "https://api.github.com/users/fire-hawk-86/repos", "events_url": "https://api.github.com/users/fire-hawk-86/events{/privacy}", "received_events_url": "https://api.github.com/users/fire-hawk-86/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-25T08:23:16Z", "updated_at": "2022-03-01T17:51:51Z", "closed_at": "2022-03-01T17:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe wrong object is being matched (renamed), instead of the one under `(please narrow target)`\r\nThere is a discrepancy between which object the \"please narrow target\" listing expects to be targeted when using the name \"1-guest\", and the actual object being targeted, which is named \"guest 1\" but has a different id and isn't even shown in the \"narrow target\" list.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. create three objects named: \"guest 1\", \"guest\" and \"guest\"\r\n2. type `@name guest=guest 2`\r\n3. response:\r\n```\r\nMore than one match for 'Guest' (please narrow target):\r\n1-guest(#62)\r\n2-guest(#63)\r\n```\r\n4. type `@name 1-guest=guest 2`\r\n5. type `@look`\r\n6. the unexpected result: `\"guest 2\", \"guest\" and \"guest\"`\r\n\r\n#### Expected behavior\r\nI expected the object with the id `#62` being changed, instead an other object was renamed which wasn't shown in the `(please narrow target)` listing.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.5 (rev 8822cd3cb) (rev 8822cd3cb)\r\nOS: posix\r\nPython: 3.8.10\r\nTwisted: 21.7.0\r\nDjango: 3.2.8\r\n\r\n#### Additional context\r\nI think the mismatch has to do with the number 1 preceding in \"1-guest\" and the number 1 in the name of the object \"guest 1\".", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2579/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2578", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2578/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2578/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2578/events", "html_url": "https://github.com/evennia/evennia/issues/2578", "id": 1034501321, "node_id": "I_kwDOAPX8f849qTzJ", "number": 2578, "title": "[BUG] Browser color issues", "user": {"login": "mrseeker", "id": 1099127, "node_id": "MDQ6VXNlcjEwOTkxMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1099127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrseeker", "html_url": "https://github.com/mrseeker", "followers_url": "https://api.github.com/users/mrseeker/followers", "following_url": "https://api.github.com/users/mrseeker/following{/other_user}", "gists_url": "https://api.github.com/users/mrseeker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrseeker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrseeker/subscriptions", "organizations_url": "https://api.github.com/users/mrseeker/orgs", "repos_url": "https://api.github.com/users/mrseeker/repos", "events_url": "https://api.github.com/users/mrseeker/events{/privacy}", "received_events_url": "https://api.github.com/users/mrseeker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-24T19:58:17Z", "updated_at": "2022-09-22T18:18:56Z", "closed_at": "2022-09-22T18:18:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe following code will not work in the browser, and will in fact generate the word \"test\" in bold only. If the newline is omitted, then test2 will be bold and the resulting text will not be correct.\r\n\r\n```\r\nprint(\"|htest|w|n\\ntest2|h test3|n\")\r\n```\r\nresult:\r\n```\r\n<b>test</b>\r\n```\r\n\r\n```\r\nprint(\"|htest1|w|n test2|h test3|n\")\r\n```\r\nresult:\r\n```\r\n<b>test1 test2\u001b[1m test3</b>\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Start evennia in the browser\r\n2. Log in and use the \"py\" command\r\n3. Type the print examples\r\n4. See weird behaviour\r\n\r\n#### Expected behavior\r\n```\r\nprint(\"|htest|w|n\\ntest2|h test3|n\")\r\n```\r\nresult:\r\n```\r\n<b>test</b>\r\ntest2<b> test3</b>\r\n```\r\n\r\n```\r\nprint(\"|htest1|w|n test2|h test3|n\")\r\n```\r\nresult:\r\n```\r\n<b>test1</b> test2 <b>test3</b>\r\n```\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 1.0-dev\r\n    OS: posix\r\n    Python: 3.9.2\r\n    Twisted: 21.7.0\r\n    Django: 3.2.8\r\n\r\n#### Additional context\r\nHave not tested this on putty, only in browser.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2578/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2575", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2575/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2575/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2575/events", "html_url": "https://github.com/evennia/evennia/issues/2575", "id": 1033999021, "node_id": "I_kwDOAPX8f849oZKt", "number": 2575, "title": "[BUG] Regular users cannot edit/delete characters from the website", "user": {"login": "fariparedes", "id": 20873000, "node_id": "MDQ6VXNlcjIwODczMDAw", "avatar_url": "https://avatars.githubusercontent.com/u/20873000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fariparedes", "html_url": "https://github.com/fariparedes", "followers_url": "https://api.github.com/users/fariparedes/followers", "following_url": "https://api.github.com/users/fariparedes/following{/other_user}", "gists_url": "https://api.github.com/users/fariparedes/gists{/gist_id}", "starred_url": "https://api.github.com/users/fariparedes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fariparedes/subscriptions", "organizations_url": "https://api.github.com/users/fariparedes/orgs", "repos_url": "https://api.github.com/users/fariparedes/repos", "events_url": "https://api.github.com/users/fariparedes/events{/privacy}", "received_events_url": "https://api.github.com/users/fariparedes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-22T22:58:47Z", "updated_at": "2022-03-01T22:51:07Z", "closed_at": "2022-03-01T22:51:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nUsers have access to the Manage Characters page but cannot use it to edit or delete their characters without admin permissions.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a new Evennia game\r\n2. Create a new non-superuser account\r\n3. Open the dropdown on the website and click Manage Characters\r\n4. Attempt to edit or delete the character\r\n4. 403 Forbidden error\r\n\r\n#### Expected behavior\r\nNormal players should be able to edit and delete their characters with the Manage Characters page that is made available to all users.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.5 (rev da1885aaa)\r\nOS: nt\r\nPython: 3.8.5\r\nTwisted: 21.7.0\r\nDjango: 3.2.8\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2562", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2562/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2562/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2562/events", "html_url": "https://github.com/evennia/evennia/issues/2562", "id": 1025799657, "node_id": "I_kwDOAPX8f849JHXp", "number": 2562, "title": "[BUG] Error on connecting to a guest account twice", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-14T00:10:47Z", "updated_at": "2021-10-14T19:23:12Z", "closed_at": "2021-10-14T19:23:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nMy environment has an error occur when you connect to a guest account twice. The reason for this is that \"webclient_authenticated_nonce\" (from #2024) is set to `0` while a value of `None` is expected.\r\n\r\nThe actual value doesn't matter in this case, so the default value of the nonce can be safely considered `0` to prevent these issues.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Login as a guest. A new guest Account is created for the duration of the session. `webclient_authenticated_nonce` is `None`.\r\n2. Disconnect the webclient. The guest Account is deleted. `webclient_authenticated_nonce` is `None`, expected value is `None`: the value of `webclient_authenticated_uid` is reset to `None`. `webclient_authenticated_nonce` is reset to `0`.\r\n3. Login as a guest for a second time. A new guest Account is created for the duration of the session. `webclient_authenticated_nonce` is `0`, but the internal value is stored as `None` because `webclient_authenticated_uid` is `None`.\r\n4. Disconnect the webclient. The guest Account is deleted. `webclient_authenticated_nonce` is `0` and the expected value is `None`. Now, `webclient_authenticated_uid` is _not_ reset and points to a non-existent account ID.\r\n5. Navigate to any page on the website, or try to open the webclient again.\r\n\r\nYou'll be confronted with an error message because line 57 of evennia/web/utils/middleware.py attempts to fetch the Account:\r\n\r\n```\r\n        elif webclient_uid:\r\n            # Not logged into website, but logged into webclient\r\n            if website_uid is None:\r\n                csession[\"website_authenticated_uid\"] = account.id\r\n                account = AccountDB.objects.get(id=webclient_uid)  # this line raises an AccountDB.DoesNotExist error\r\n                try:\r\n                    # calls our custom authenticate, in web/utils/backend.py\r\n                    authenticate(autologin=account)\r\n                    login(request, account)\r\n                except AttributeError:\r\n                    logger.log_trace()\r\n```\r\n\r\n#### Expected behavior\r\nI would have preferred if this was automatically corrected by the `website_authenticated_uid` being reset back to `None` if the database object doesn't exist. Unfortunately, this flexibility seems absent in this case.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 43fd533) (rev 43fd533)\r\nOS: nt\r\nPython: 3.8.0\r\nTwisted: 21.2.0\r\nDjango: 3.2.4\r\n\r\n#### Additional context\r\nI'll create a PR shortly referencing this issue, as I'm _accountable_ for this.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2561", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2561/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2561/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2561/events", "html_url": "https://github.com/evennia/evennia/issues/2561", "id": 1024341793, "node_id": "I_kwDOAPX8f849Djch", "number": 2561, "title": "[BUG] Children of DefaultScript sometimes revert to their parent until a server reload", "user": {"login": "fariparedes", "id": 20873000, "node_id": "MDQ6VXNlcjIwODczMDAw", "avatar_url": "https://avatars.githubusercontent.com/u/20873000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fariparedes", "html_url": "https://github.com/fariparedes", "followers_url": "https://api.github.com/users/fariparedes/followers", "following_url": "https://api.github.com/users/fariparedes/following{/other_user}", "gists_url": "https://api.github.com/users/fariparedes/gists{/gist_id}", "starred_url": "https://api.github.com/users/fariparedes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fariparedes/subscriptions", "organizations_url": "https://api.github.com/users/fariparedes/orgs", "repos_url": "https://api.github.com/users/fariparedes/repos", "events_url": "https://api.github.com/users/fariparedes/events{/privacy}", "received_events_url": "https://api.github.com/users/fariparedes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-10-12T20:35:36Z", "updated_at": "2021-10-18T15:24:32Z", "closed_at": "2021-10-18T15:24:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen creating extensions of DefaultScript to apply object-oriented programming to things that don't have a physical presence in the world (e.g. stored settings for a user), these custom scripts sometimes revert back to DefaultScript and begin throwing errors until the server is reloaded.\r\n\r\n#### To Reproduce\r\nNo consistent reproduction that I have found, but occasionally this error will occur when the server has been running for a while:\r\n```\r\nAttributeError: 'DefaultScript' object has no attribute 'wear_outfit'\r\nAn untrapped error occurred. Please file a bug report detailing the steps to reproduce.\r\n```\r\nThe scripts are supposed to be SavedOutfit objects, not DefaultScript. Reloading the server restores their proper type and eliminates the error temporarily.\r\n\r\n#### Expected behavior\r\nA class descending from DefaultScript retains any additional functions, properties, etc. and does not revert into a generic DefaultScript object.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.5 (rev da1885aaa)\r\nOS: posix\r\nPython: 3.8.10\r\nTwisted: 21.7.0\r\nDjango: 3.2.8", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2540", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2540/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2540/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2540/events", "html_url": "https://github.com/evennia/evennia/issues/2540", "id": 1014097276, "node_id": "I_kwDOAPX8f848ceV8", "number": 2540, "title": "[BUG] UnicodeDecodeError when loading https://demo.evennia.com/channels/public/ ", "user": {"login": "dimitrilw", "id": 5898931, "node_id": "MDQ6VXNlcjU4OTg5MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5898931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimitrilw", "html_url": "https://github.com/dimitrilw", "followers_url": "https://api.github.com/users/dimitrilw/followers", "following_url": "https://api.github.com/users/dimitrilw/following{/other_user}", "gists_url": "https://api.github.com/users/dimitrilw/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimitrilw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimitrilw/subscriptions", "organizations_url": "https://api.github.com/users/dimitrilw/orgs", "repos_url": "https://api.github.com/users/dimitrilw/repos", "events_url": "https://api.github.com/users/dimitrilw/events{/privacy}", "received_events_url": "https://api.github.com/users/dimitrilw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-02T16:18:03Z", "updated_at": "2021-10-02T18:01:23Z", "closed_at": "2021-10-02T17:22:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am not an Evennia dev. I'm just exploring the project. So, I do not yet have any meaningful insight on the bug encountered. Just relaying logs.\r\n\r\n#### Describe the bug\r\n\r\nUnicodeDecodeError when loading https://demo.evennia.com/channels/public/ as of Sat 02-Oct, 4pm UTC.\r\n\r\n#### To Reproduce\r\n\r\nVisit [public channels page](https://demo.evennia.com/channels/public/) while troublesome message is still in message list.\r\n\r\n#### Expected behavior\r\n\r\nHandle bad message at time of post (deny putting into message queue) or at time of page load (skip flawed message).\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\nUsing Chrome browser on MacOS while visiting [public channels page](https://demo.evennia.com/channels/public/).\r\n\r\n#### Additional context\r\n\r\n##### Error content\r\n\r\n```\r\nUnicodeDecodeError\r\n'utf-8' codec can't decode bytes in position 87-89: invalid continuation byte\r\n/home/evennia/evdemo/evennia/evennia/utils/logger.py in <listcomp>, line 395\r\n/home/evennia/evdemo/.vienv/bin/python\r\n3.8.10\r\n['/home/evennia/evdemo/.vienv/bin',  '.',  '/home/evennia/evdemo/.vienv/bin',  '/home/evennia/evdemo/evdemo',  '/home/evennia/evdemo/evennia',  '/usr/lib/python3.8',  '/usr/lib/python3.8/lib-dynload',  '/home/evennia/evdemo/.vienv/lib/python3.8/site-packages',  '/usr/lib/python38.zip']\r\nSat, 2 Oct 2021 15:54:04 +0000\r\n```\r\n\r\n##### Unicode error hint\r\n\r\n```\r\nUnicode error hint\r\nThe string that could not be encoded/decoded was: Sure \ufffd\ufffd\ufffdH> Hi\r\n```\r\n\r\n##### Traceback\r\n\r\n```\r\nEnvironment:\r\n\r\n\r\nRequest Method: GET\r\nRequest URL: http://demo.evennia.com/channels/public/\r\n\r\nDjango Version: 2.2.24\r\nPython Version: 3.8.10\r\nInstalled Applications:\r\n['django.contrib.auth',\r\n 'django.contrib.contenttypes',\r\n 'django.contrib.sessions',\r\n 'django.contrib.admin',\r\n 'django.contrib.admindocs',\r\n 'django.contrib.flatpages',\r\n 'django.contrib.sites',\r\n 'django.contrib.staticfiles',\r\n 'django.contrib.messages',\r\n 'sekizai',\r\n 'evennia.utils.idmapper',\r\n 'evennia.server',\r\n 'evennia.typeclasses',\r\n 'evennia.accounts',\r\n 'evennia.objects',\r\n 'evennia.comms',\r\n 'evennia.help',\r\n 'evennia.scripts',\r\n 'evennia.web.website',\r\n 'evennia.web.webclient']\r\nInstalled Middleware:\r\n['django.middleware.common.CommonMiddleware',\r\n 'django.contrib.sessions.middleware.SessionMiddleware',\r\n 'django.contrib.messages.middleware.MessageMiddleware',\r\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\r\n 'django.middleware.csrf.CsrfViewMiddleware',\r\n 'django.contrib.admindocs.middleware.XViewMiddleware',\r\n 'django.contrib.flatpages.middleware.FlatpageFallbackMiddleware',\r\n 'evennia.web.utils.middleware.SharedLoginMiddleware']\r\n\r\n\r\n\r\nTraceback:\r\n\r\nFile \"/home/evennia/evdemo/.vienv/lib/python3.8/site-packages/django/core/handlers/exception.py\" in inner\r\n  34.             response = get_response(request)\r\n\r\nFile \"/home/evennia/evdemo/.vienv/lib/python3.8/site-packages/django/core/handlers/base.py\" in _get_response\r\n  115.                 response = self.process_exception_by_middleware(e, request)\r\n\r\nFile \"/home/evennia/evdemo/.vienv/lib/python3.8/site-packages/django/core/handlers/base.py\" in _get_response\r\n  113.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n\r\nFile \"/home/evennia/evdemo/.vienv/lib/python3.8/site-packages/django/views/generic/base.py\" in view\r\n  71.             return self.dispatch(request, *args, **kwargs)\r\n\r\nFile \"/home/evennia/evdemo/.vienv/lib/python3.8/site-packages/django/views/generic/base.py\" in dispatch\r\n  97.         return handler(request, *args, **kwargs)\r\n\r\nFile \"/home/evennia/evdemo/.vienv/lib/python3.8/site-packages/django/views/generic/detail.py\" in get\r\n  107.         context = self.get_context_data(object=self.object)\r\n\r\nFile \"/home/evennia/evdemo/evennia/evennia/web/website/views.py\" in get_context_data\r\n  936.         for log in (x.strip() for x in tail_log_file(filename, 0, self.max_num_lines)):\r\n\r\nFile \"/home/evennia/evdemo/evennia/evennia/utils/logger.py\" in tail_log_file\r\n  532.             return seek_file(filehandle, offset, nlines, callback)\r\n\r\nFile \"/home/evennia/evdemo/evennia/evennia/utils/logger.py\" in seek_file\r\n  511.             lines_found = filehandle.readlines()\r\n\r\nFile \"/home/evennia/evdemo/evennia/evennia/utils/logger.py\" in readlines\r\n  395.         return [line.decode(\"utf-8\") for line in self._file.readlines(*args, **kwargs)]\r\n\r\nFile \"/home/evennia/evdemo/evennia/evennia/utils/logger.py\" in <listcomp>\r\n  395.         return [line.decode(\"utf-8\") for line in self._file.readlines(*args, **kwargs)]\r\n\r\nException Type: UnicodeDecodeError at /channels/public/\r\nException Value: 'utf-8' codec can't decode bytes in position 87-89: invalid continuation byte\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2532", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2532/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2532/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2532/events", "html_url": "https://github.com/evennia/evennia/issues/2532", "id": 998079561, "node_id": "I_kwDOAPX8f847fXxJ", "number": 2532, "title": "[BUG] EvTables header skewed when using colors", "user": {"login": "mrseeker", "id": 1099127, "node_id": "MDQ6VXNlcjEwOTkxMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1099127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrseeker", "html_url": "https://github.com/mrseeker", "followers_url": "https://api.github.com/users/mrseeker/followers", "following_url": "https://api.github.com/users/mrseeker/following{/other_user}", "gists_url": "https://api.github.com/users/mrseeker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrseeker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrseeker/subscriptions", "organizations_url": "https://api.github.com/users/mrseeker/orgs", "repos_url": "https://api.github.com/users/mrseeker/repos", "events_url": "https://api.github.com/users/mrseeker/events{/privacy}", "received_events_url": "https://api.github.com/users/mrseeker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-09-16T11:04:31Z", "updated_at": "2022-02-15T22:37:04Z", "closed_at": "2022-02-15T22:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn certain cases, the evtables header can be skewed. This happens when the header has leading/trailing spaces. They get trimmed which causes the table to look skewed.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Use the following example script:\r\n```\r\nfrom evennia.utils import evtable\r\n\r\ntable = evtable.EvTable(\"|cHeading1|n\", \"|cHeading2 |n\", \"|cHeading 3|n\")\r\ntable.add_row(\"This\",\"Test\",\"test\")\r\nprint(table)\r\n```\r\n2. Execute said script\r\n3. See the error occur (as shown below)\r\n```\r\n+----------+-----------+-----------+\r\n| Heading1 | Heading2 | Heading 3 |\r\n+~~~~~~~~~~+~~~~~~~~~~~+~~~~~~~~~~~+\r\n| This     | Test      | test      |\r\n```\r\n\r\n#### Expected behavior\r\nThe table should be straight without any indentations\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 1.0-dev (rev 54ebdb5ab)\r\n        OS: nt\r\n        Python: 3.9.7\r\n        Twisted: 21.7.0\r\n        Django: 3.2.7\r\n\r\n#### Additional context\r\nThis only seems to occur when you are using colors and the space character, otherwise it looks fine.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2530", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2530/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2530/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2530/events", "html_url": "https://github.com/evennia/evennia/issues/2530", "id": 993232788, "node_id": "MDU6SXNzdWU5OTMyMzI3ODg=", "number": 2530, "title": "[BUG] evennia/objects/objects.py DefaultObject return_appearance does not adhere to the same convention as elsewhere.", "user": {"login": "VexiaOnline", "id": 90459126, "node_id": "MDQ6VXNlcjkwNDU5MTI2", "avatar_url": "https://avatars.githubusercontent.com/u/90459126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VexiaOnline", "html_url": "https://github.com/VexiaOnline", "followers_url": "https://api.github.com/users/VexiaOnline/followers", "following_url": "https://api.github.com/users/VexiaOnline/following{/other_user}", "gists_url": "https://api.github.com/users/VexiaOnline/gists{/gist_id}", "starred_url": "https://api.github.com/users/VexiaOnline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VexiaOnline/subscriptions", "organizations_url": "https://api.github.com/users/VexiaOnline/orgs", "repos_url": "https://api.github.com/users/VexiaOnline/repos", "events_url": "https://api.github.com/users/VexiaOnline/events{/privacy}", "received_events_url": "https://api.github.com/users/VexiaOnline/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-10T13:23:18Z", "updated_at": "2021-10-07T23:07:20Z", "closed_at": "2021-10-07T23:07:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Within the DefaultObject `return_appearance` code breaks the convention that everywhere else uses. Most instances all use `get_display_name` whereby they return an object's name by calling `object.name`, while in this case `return_appearance` references `object.key` for users and exits. \r\n\r\nI believe this should be changed to use `.name` so that in cases where we are overriding the object name method, we do not ALSO have to override DefaultObject's `return_appearance` to see the changes reflected when someone uses look.\r\n\r\nLines 1755 and 1756 should be changed to the following in my opinion:\r\n```\r\nusers = [f\"|c{user.name}|n\" for user in users_list]\r\nexits = [ex.name for ex in exits_list]\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2527", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2527/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2527/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2527/events", "html_url": "https://github.com/evennia/evennia/issues/2527", "id": 992560911, "node_id": "MDU6SXNzdWU5OTI1NjA5MTE=", "number": 2527, "title": "[BUG] Random I/O Errors", "user": {"login": "jumpscarejumpscare", "id": 90410262, "node_id": "MDQ6VXNlcjkwNDEwMjYy", "avatar_url": "https://avatars.githubusercontent.com/u/90410262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jumpscarejumpscare", "html_url": "https://github.com/jumpscarejumpscare", "followers_url": "https://api.github.com/users/jumpscarejumpscare/followers", "following_url": "https://api.github.com/users/jumpscarejumpscare/following{/other_user}", "gists_url": "https://api.github.com/users/jumpscarejumpscare/gists{/gist_id}", "starred_url": "https://api.github.com/users/jumpscarejumpscare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jumpscarejumpscare/subscriptions", "organizations_url": "https://api.github.com/users/jumpscarejumpscare/orgs", "repos_url": "https://api.github.com/users/jumpscarejumpscare/repos", "events_url": "https://api.github.com/users/jumpscarejumpscare/events{/privacy}", "received_events_url": "https://api.github.com/users/jumpscarejumpscare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-09-09T19:33:43Z", "updated_at": "2022-02-12T17:51:07Z", "closed_at": "2022-02-12T17:51:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nSometimes (maybe 1 time out of every 1,000 commands), Evennia just can't access the DB, giving disk I/O errors. This has been happening for about a year.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n\r\n1. Script inside characters.py\r\n```python\r\n    class ActionQueueHandler(DefaultScript):\r\n        \"\"\"\r\n        Lies dormant while queue is empty.\r\n        Is active while queue is not empty.\r\n        Calls a valid action (at time of entry) from the action queue and attempts to run it. The action is removed from the action queue and this script is restarted, waiting for the next interval in the queue.\r\n\r\n        def at_script_creation(self):\r\n            self.key = \"queue_handler\"\r\n            self.desc = \"Handles timing for actions in a queue.\"\r\n            self.persistent = True\r\n            self.interval = 1\r\n\r\n        def at_start(self):\r\n            # We're going to resolve stuff in our queue if it was still there prior to a restart. If there's nothing to resolve, we pause.\r\n            if not self.obj.db.action_queue:\r\n                self.pause()\r\n\r\n        def at_repeat(self):\r\n            #Run 1st item in queue, remove it from queue, pause if queue is empty, then restart script\r\n            if not self.obj.db.action_queue:\r\n                self.pause()\r\n            else:\r\n                self.obj.resolve_action(self.obj.db.action_queue[0][0])\r\n                self.obj.db.action_queue.pop(0)\r\n\r\n            if not self.obj.db.action_queue:\r\n                self.pause()\r\n            else:\r\n                # Step 1: When we restart, we pause the interval, then we trigger at_repeat and resolve it above.\r\n                self.restart ( interval = self.obj.db.action_queue[0][1], start_delay=True )\r\n```\r\n2.Also in characters.py, this is the thing you call to add something to the queue.\r\n```python\r\n    def queue_command(self, queue_string, delay):\r\n        \"\"\"\r\n        Queues up a command to be run.\r\n        queue_string is command, [space], arguments\r\n        delay is how long to delay after running\r\n        to do a multi-step command, you have to call this after the first command completes\r\n        \"\"\"\r\n        aq_empty = False\r\n        if self.db.action_queue == []:\r\n            aq_empty = True\r\n        #self.msg(\"We appended: \" + queue_string + \" @ \" + str(delay) + \"sec.\")\r\n        self.db.action_queue.append([queue_string, delay])\r\n        # Because the delay always happens first, we don't need to restart the queue_handler unless the action queue is empty. An empty action queue means the queue_handler is inert.\r\n        if aq_empty == True:\r\n            #self.msg(\"We restarted the queue_handler because it was paused.\")\r\n            _aqh = self.scripts.get('queue_handler')\r\n            _aqh[0].restart(interval=delay, start_delay=True)\r\n```\r\n3. Lastly is this, where you put whatever you want to resolve the queued action. Put a ton of DB accesses and writes in here, for example.\r\n```python\r\n    def resolve_action(self, queue_string):\r\n        # Put a bunch of DB accesses and writes here.\r\n        if self.db.something:\r\n            self.db.something += 1\r\n        else:\r\n            self.db.something = 1\r\n        self.msg(\"This has worked correctly \" + str(self.db.something) + \" times.\")\r\n        # restart this whole thing from the beginning\r\n        self.queue_command(\"whatever\", 1)\r\n```\r\n4. To start it, you'll need a command that calls\r\n    self.caller.queue_command(\"whatever\", 1)\r\nand it might be handy to have a command to stop it from going, which just needs\r\n    self.caller.db.action_queue = []\r\n\r\n5. See error\r\nScript queue_handler(#8) of type 'ActionQueueHandler': a_repeat() error 'disk I/O error'.\r\n\r\n#### Expected behavior\r\nIt should keep going without that error.\r\n\r\n#### Environment, Evennia version, OS etc\r\nI have a fresh hard drive and I'm using WSL2.\r\n    Evennia 0.9.5 (rev 5f361fbd5) (rev 5f361fbd5)\r\n    OS: posix\r\n    Python: 3.7.5\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n\r\n#### Additional context\r\nI think this might just be a \"me\" problem or a problem unique to WSL2. But Griatch asked me to open this. Thanks, Griatch!", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2524", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2524/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2524/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2524/events", "html_url": "https://github.com/evennia/evennia/issues/2524", "id": 988870744, "node_id": "MDU6SXNzdWU5ODg4NzA3NDQ=", "number": 2524, "title": "[BUG] Prototype Attribute and Tag Tuple - Failed Homogenization", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-06T07:35:12Z", "updated_at": "2022-02-05T21:53:11Z", "closed_at": "2022-02-05T21:53:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe prototype system fails to homogenize **both** `tags` and `attrs` assignment, when assigning a tuple with less than the full parameters.\r\n\r\n#### To Reproduce\r\nCreate a generic prototype:\r\n```py\r\nROCK = {\r\n    'prototype_key': 'rock',\r\n    'typeclass': 'typeclasses.objects.Object',\r\n    'key': 'a rock',\r\n    'tags': [('quantity', 'groupable')],\r\n    'attrs': [('quantity', 1)],\r\n    'desc': 'A good way to get stoned.'\r\n}\r\n```\r\n\r\nNow run the `evennia.prototypes.spawner.spawn('rock')[0]` method.\r\n\r\nGet error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\muddev\\hecate\\items\\tests\\test_item_prototypes.py\", line 15, in test_rock_spawn\r\n    spawn(ROCK)[0]\r\n  File \"d:\\muddev\\evennia\\evennia\\prototypes\\spawner.py\", line 899, in spawn\r\n    prototype, protparents, uninherited={\"prototype_key\": prototype.get(\"prototype_key\")}\r\n  File \"d:\\muddev\\evennia\\evennia\\prototypes\\spawner.py\", line 236, in _get_prototype\r\n    inprot[\"attrs\"] = _inherit_attrs(_workprot.get(\"attrs\", {}), inprot.get(\"attrs\", {}))\r\n  File \"d:\\muddev\\evennia\\evennia\\prototypes\\spawner.py\", line 214, in _inherit_attrs\r\n    new = {(tup[0], tup[2]): tup for tup in new_attrs}\r\n  File \"d:\\muddev\\evennia\\evennia\\prototypes\\spawner.py\", line 214, in <dictcomp>\r\n    new = {(tup[0], tup[2]): tup for tup in new_attrs}\r\nIndexError: tuple index out of range\r\n```\r\n\r\n#### Expected behavior\r\nThe prototype system should be adding the None to the missing fields in the tuple.\r\n\r\nThis will work fine:\r\n```py\r\nROCK = {\r\n    'prototype_key': 'rock',\r\n    'typeclass': 'typeclasses.objects.Object',\r\n    'key': 'a rock',\r\n    'tags': [('quantity', 'groupable', None)],\r\n    'attrs': [('quantity', 1, None, None)],\r\n    'desc': 'A good way to get stoned.'\r\n}\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.5 (rev 125c5664f) (rev 125c5664f)\r\n    OS: nt\r\n    Python: 3.7.4\r\n    Twisted: 20.3.0\r\n    Django: 2.2.16", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2522", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2522/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2522/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2522/events", "html_url": "https://github.com/evennia/evennia/issues/2522", "id": 988307714, "node_id": "MDU6SXNzdWU5ODgzMDc3MTQ=", "number": 2522, "title": "Error in xyzgrid when the looker is a non-character", "user": {"login": "josiahzimm", "id": 15162324, "node_id": "MDQ6VXNlcjE1MTYyMzI0", "avatar_url": "https://avatars.githubusercontent.com/u/15162324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josiahzimm", "html_url": "https://github.com/josiahzimm", "followers_url": "https://api.github.com/users/josiahzimm/followers", "following_url": "https://api.github.com/users/josiahzimm/following{/other_user}", "gists_url": "https://api.github.com/users/josiahzimm/gists{/gist_id}", "starred_url": "https://api.github.com/users/josiahzimm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josiahzimm/subscriptions", "organizations_url": "https://api.github.com/users/josiahzimm/orgs", "repos_url": "https://api.github.com/users/josiahzimm/repos", "events_url": "https://api.github.com/users/josiahzimm/events{/privacy}", "received_events_url": "https://api.github.com/users/josiahzimm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-04T14:47:26Z", "updated_at": "2022-10-23T08:23:27Z", "closed_at": "2022-10-23T08:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue:\r\nWhen I spawn a monster(non-character) object into an xyzgrid room, it throws an error in the server log. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Spawn a looker object (DefaultCharacter works) , that is not a player character\r\n2. Move object into an xyzgrid room\r\n3. Check server.log\r\n\r\n#### Error output\r\n\r\n\r\n```\r\n21-09-04 14:17:16 [::] Traceback (most recent call last):\r\n21-09-04 14:17:16 [::]   File \"/usr/src/evennia/evennia/objects/objects.py\", line 941, in move_to\r\n21-09-04 14:17:16 [::]     self.at_after_move(source_location, **kwargs)\r\n21-09-04 14:17:16 [::]   File \"/usr/src/evennia/evennia/objects/objects.py\", line 2272, in at_after_move\r\n21-09-04 14:17:16 [::]     self.msg(text=(self.at_look(self.location), {\"type\": \"look\"}))\r\n21-09-04 14:17:16 [::]   File \"/usr/src/evennia/evennia/objects/objects.py\", line 1808, in at_look\r\n21-09-04 14:17:16 [::]     description = target.return_appearance(self, **kwargs)\r\n21-09-04 14:17:16 [::]   File \"/usr/src/evennia/evennia/contrib/xyzgrid/xyzroom.py\", line 435, in return_appearance\r\n21-09-04 14:17:16 [::]     client_width, _ = looker.sessions.get()[0].get_client_size()\r\n21-09-04 14:17:16 [::] IndexError: list index out of range\r\n\r\n```\r\n\r\nThis happens when i spawn a monster to a room like this:\r\n\r\nnew_objects = spawner.spawn(random.choice(MONSTER_LIST))\r\n\r\nAnd move it into the room\r\n\r\n#### Extra information, such as Evennia revision\r\nDevelop branch, xyzgrid contrib\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2522/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2519", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2519/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2519/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2519/events", "html_url": "https://github.com/evennia/evennia/issues/2519", "id": 988105724, "node_id": "MDU6SXNzdWU5ODgxMDU3MjQ=", "number": 2519, "title": "[Feature Request] (Develop) Attribute `defaultdict` value does not serialize/deserialize correctly", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-09-03T21:18:36Z", "updated_at": "2022-02-14T08:19:55Z", "closed_at": "2022-02-14T08:19:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nStoring a `defaultdict` to an Attribute results in the values being lost.\r\n\r\n#### To Reproduce\r\n```\r\n>>> from collections import defaultdict\r\n>>> d = defaultdict(list)\r\n>>> c.db.lists = d\r\n>>> c.db.lists\r\n[]\r\n>>> d['name'].append('bob')\r\n>>> c.db.lists = d\r\n>>> c.db.lists\r\n['name']\r\n>>> c.db.lists['name']\r\nTraceback (most recent call last):\r\n  File \"<console>\", line 1, in <module>\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/dbserialize.py\", line 224, in __getitem__\r\n    return self._data.__getitem__(key)\r\nTypeError: list indices must be integers or slices, not str\r\n```\r\n\r\n#### Expected behavior\r\nWas mainly curious to see if it works.\r\n\r\nStore the object correctly or raise an error about it being unserializable.\r\n\r\n#### Environment, Evennia version, OS etc\r\nDevelop", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2514", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2514/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2514/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2514/events", "html_url": "https://github.com/evennia/evennia/issues/2514", "id": 982196142, "node_id": "MDU6SXNzdWU5ODIxOTYxNDI=", "number": 2514, "title": "[DEVEL][BUG] Multi-match command doesn't pass args", "user": {"login": "Qaishin", "id": 799620, "node_id": "MDQ6VXNlcjc5OTYyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/799620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Qaishin", "html_url": "https://github.com/Qaishin", "followers_url": "https://api.github.com/users/Qaishin/followers", "following_url": "https://api.github.com/users/Qaishin/following{/other_user}", "gists_url": "https://api.github.com/users/Qaishin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Qaishin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Qaishin/subscriptions", "organizations_url": "https://api.github.com/users/Qaishin/orgs", "repos_url": "https://api.github.com/users/Qaishin/repos", "events_url": "https://api.github.com/users/Qaishin/events{/privacy}", "received_events_url": "https://api.github.com/users/Qaishin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-29T20:28:37Z", "updated_at": "2021-09-07T21:23:59Z", "closed_at": "2021-09-07T21:23:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen presented with and resolving a command multi-match prompt, arguments are not passed in correctly.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create `testobjs.py` in the `typeclasses` folder:\r\n```python\r\nfrom typeclasses.objects import Object\r\nfrom commands.command import Command\r\nfrom evennia import CmdSet\r\n\r\n\r\nclass CmdSmash(Command):\r\n    \"\"\"\r\n    Smash an object!\r\n\r\n    Usage:\r\n      smash <obj>\r\n    \"\"\"\r\n    key = \"smash\"\r\n    help_category = \"TestObj\"\r\n\r\n    def func(self):\r\n        caller = self.caller\r\n\r\n        if not self.args:\r\n            caller.msg(\"Smash what?\")\r\n            return\r\n\r\n        target = caller.search(self.args.strip())\r\n\r\n        if target:\r\n            if target is self.obj:\r\n                if target.tags.get(\"smashed\", category=\"testobj\"):\r\n                    caller.msg(\"A %s has already been smashed!\" % target.key)\r\n                    return\r\n                caller.msg(\"You smash the %s.\" % target.key)\r\n                self.obj.tags.add(\"smashed\", category=\"testobj\")\r\n            else:\r\n                caller.msg(\"You are not able to smash %s.\" % target.key)\r\n\r\n\r\nclass TestObjCmdSet(CmdSet):\r\n    key = \"TestObjCmdSet\"\r\n\r\n    def at_cmdset_creation(self):\r\n        self.add(CmdSmash())\r\n\r\n\r\nclass TestObj(Object):\r\n    \"\"\"\r\n    A test object for us to play with!\r\n    \"\"\"\r\n\r\n    def at_object_creation(self):\r\n        self.db.desc = \"This is a small test object for testing things.\"\r\n        self.cmdset.add(TestObjCmdSet, persistent=True)\r\n\r\n    def return_appearance(self, looker):\r\n        msg = super().return_appearance(looker)\r\n        if self.tags.get(\"smashed\", category=\"testobj\"):\r\n            msg += \"\\nIt has been smashed to bits!\"\r\n        return msg\r\n```\r\n2. In game, type `create/drop test:typeclasses.testobjs.TestObj` to create a test object containing the **smash** command.\r\n3. Type `smash`. Observe the message: `Smash what?`. Next type `smash test`. Observe the message: `You smash test.`\r\n4. Type `create/drop test:typeclasses.testobjs.TestObj` to create a second test object.\r\n5. Type `smash`. Observe the multi-match prompt.\r\n6. **ERROR:** Type `smash-1 test`. Observe that it does not work as intended: `Smash what?`. The argument is no longer being passed properly in the command.\r\n\r\n#### Expected behavior\r\nAfter manually resolving the multi-match error by selecting smash-1 or smash-2, the command should work as intended when passing in the proper arguments.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 1.0-dev (rev 287a76921)\r\nOS: posix\r\nPython: 3.8.10\r\nTwisted: 20.3.0\r\nDjango: 3.2.6\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2510", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2510/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2510/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2510/events", "html_url": "https://github.com/evennia/evennia/issues/2510", "id": 976443883, "node_id": "MDU6SXNzdWU5NzY0NDM4ODM=", "number": 2510, "title": "[BUG] Django Admin save sets dictionaries with pickled objects as strings", "user": {"login": "alephate", "id": 72240438, "node_id": "MDQ6VXNlcjcyMjQwNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/72240438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alephate", "html_url": "https://github.com/alephate", "followers_url": "https://api.github.com/users/alephate/followers", "following_url": "https://api.github.com/users/alephate/following{/other_user}", "gists_url": "https://api.github.com/users/alephate/gists{/gist_id}", "starred_url": "https://api.github.com/users/alephate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alephate/subscriptions", "organizations_url": "https://api.github.com/users/alephate/orgs", "repos_url": "https://api.github.com/users/alephate/repos", "events_url": "https://api.github.com/users/alephate/events{/privacy}", "received_events_url": "https://api.github.com/users/alephate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-22T18:48:58Z", "updated_at": "2022-02-14T06:55:50Z", "closed_at": "2022-02-14T06:55:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you have serialized strings from database objects in a dictionary on an object as an attribute, and then you edit other attributes on the object from the Django admin website, and then save there, it will turn those dictionary attributes into strings.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set up a room with a dictionary: py here.db.test_attribute = {self: 'Testing'}\r\n2. Go into the webpage and change the name of the room.\r\n3. Press save, and look back in your connected client.\r\n4. See error (the dictionary is now a string, you can test thing by trying: py print(here.db.test_attribute.copy())\r\n\r\n#### Expected behavior\r\nThe Django admin should save dictionaries as dictionaries even when they have pickled database objects inside them.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev 76af934fd) (rev 76af934fd)\r\n    OS: nt\r\n    Python: 3.7.9\r\n    Twisted: 20.3.0\r\n    Django: 2.2.5\r\n\r\n#### Additional context\r\nMaybe instead of showing up as 'packed_db_object' in the django admin, the referenced object could show up as its serialized string in order to save properly.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2510/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2504", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2504/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2504/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2504/events", "html_url": "https://github.com/evennia/evennia/issues/2504", "id": 973100406, "node_id": "MDU6SXNzdWU5NzMxMDA0MDY=", "number": 2504, "title": "[BUG] Changing typeclass appears to delete character locks", "user": {"login": "jaborsh", "id": 73198594, "node_id": "MDQ6VXNlcjczMTk4NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/73198594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaborsh", "html_url": "https://github.com/jaborsh", "followers_url": "https://api.github.com/users/jaborsh/followers", "following_url": "https://api.github.com/users/jaborsh/following{/other_user}", "gists_url": "https://api.github.com/users/jaborsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaborsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaborsh/subscriptions", "organizations_url": "https://api.github.com/users/jaborsh/orgs", "repos_url": "https://api.github.com/users/jaborsh/repos", "events_url": "https://api.github.com/users/jaborsh/events{/privacy}", "received_events_url": "https://api.github.com/users/jaborsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-17T22:05:54Z", "updated_at": "2022-02-14T06:49:12Z", "closed_at": "2022-02-13T23:08:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nSwapping the typeclass of a character removes default locks, rendering them unpuppetable. Discovered by Jarenko.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `type/force <non-superuser>`\r\n\r\n#### Expected behavior\r\n1. `swap_typeclass` method will successfully swap typeclasses without losing default character permissions.\r\n\r\n#### Additional context\r\n1. After some detective work, this may be due to the `cdict` generated in `create_character` from account models not being recreated in the swap process. Appears necessary to establish appropriate account to character puppet permissions. \r\n\r\n2. Using /update instead of /force does not replicate the issue, but not an ideal solution.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2494", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2494/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2494/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2494/events", "html_url": "https://github.com/evennia/evennia/issues/2494", "id": 965171266, "node_id": "MDU6SXNzdWU5NjUxNzEyNjY=", "number": 2494, "title": "[BUG] XYZGrid Spawner cannot spawn exits when overriding XYZRoom typeclass", "user": {"login": "ChrisLR", "id": 7611762, "node_id": "MDQ6VXNlcjc2MTE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7611762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLR", "html_url": "https://github.com/ChrisLR", "followers_url": "https://api.github.com/users/ChrisLR/followers", "following_url": "https://api.github.com/users/ChrisLR/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLR/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLR/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLR/orgs", "repos_url": "https://api.github.com/users/ChrisLR/repos", "events_url": "https://api.github.com/users/ChrisLR/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-10T17:28:02Z", "updated_at": "2021-08-22T18:36:38Z", "closed_at": "2021-08-22T18:36:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen I override the XYZRoom's typeclass the spawner cannot create exits, it raises the following exception\r\n```python\r\nFile \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\launchcmd.py\", line 413, in xyzcommand\r\n    _option_spawn(*suboptions)\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\launchcmd.py\", line 315, in _option_spawn\r\n    grid.spawn(xyz=(x, y, z))\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\xyzgrid.py\", line 266, in spawn\r\n    xymap.spawn_links(xy=(x, y), directions=directions)\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\xymap.py\", line 669, in spawn_links\r\n    node.spawn_links(directions=directions)\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\xymap_legend.py\", line 402, in spawn_links\r\n    exi, err = ExitTypeclass.create(\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\xyzroom.py\", line 569, in create\r\n    source = XYZRoom.objects.get_xyz(xyz=(x, y, z))\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\xyzroom.py\", line 108, in get_xyz\r\n    raise self.model.DoesNotExist(f\"{self.model.__name__} \"\r\nevennia.contrib.xyzgrid.xyzroom.DoesNotExist: XYZRoom matching query xyz=(2,0,hospital_1f), db_typeclass_path__in=['evennia.contrib.xyzgrid.xyzroom.XYZRoom'] does not exist.\r\n```\r\n\r\nThis happens when overriding with the setting and/or the typeclasses.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a new typeclass somewhere like typeclasses.rooms.XYZRoomExt\r\n2. Add the setting XYZROOM_PARENT_PROTOTYPE_OVERRIDE = {\"typeclass\": \"typeclasses.rooms.XYZRoomExt\"}\r\n3. Set the typeclass in the parent_prototype or each prototype (just to be sure)\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe exits should spawn and the rooms should be found\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 514b1b84d) (rev 514b1b84d)\r\n    OS: nt\r\n    Python: 3.8.10\r\n    Twisted: 21.7.0\r\n    Django: 3.2.6\r\n\r\n#### Additional context\r\nTrying to import the proper typeclass in the module (to make sure the spawner finds it) raises another type of import error.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2485", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2485/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2485/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2485/events", "html_url": "https://github.com/evennia/evennia/issues/2485", "id": 963148919, "node_id": "MDU6SXNzdWU5NjMxNDg5MTk=", "number": 2485, "title": "[BUG] Problem with EvMenu, coloring the desc, and rjust", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-08-07T04:04:20Z", "updated_at": "2022-03-01T20:47:57Z", "closed_at": "2022-03-01T20:47:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using EvMenu, using colors for some of the option descriptions, and rjust to line up the descriptions, the spacing is off by one. I can adjust for this, but it also seems that the spacing for the middle part (when the line is broken into two for length) is also off.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create EvMenu with lots of options\r\n2. Change the color on some of the option descriptions\r\n3. Use rjust to line up all the descriptions\r\n4. Highlighted descriptions are not lined up\r\n\r\n#### Expected behavior\r\nThe error disappears if I specify a character to fill the empty space (like - but not a space). It also doesn't appear when not using rjust and just changing the color of some words.\r\n\r\n#### Environment, Evennia version, OS etc\r\nWindows and Linux", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2482", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2482/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2482/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2482/events", "html_url": "https://github.com/evennia/evennia/issues/2482", "id": 957625812, "node_id": "MDU6SXNzdWU5NTc2MjU4MTI=", "number": 2482, "title": "[BUG] XYZGrid list still shows 0 maps after adding one", "user": {"login": "ChrisLR", "id": 7611762, "node_id": "MDQ6VXNlcjc2MTE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7611762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLR", "html_url": "https://github.com/ChrisLR", "followers_url": "https://api.github.com/users/ChrisLR/followers", "following_url": "https://api.github.com/users/ChrisLR/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLR/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLR/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLR/orgs", "repos_url": "https://api.github.com/users/ChrisLR/repos", "events_url": "https://api.github.com/users/ChrisLR/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-02T00:20:34Z", "updated_at": "2021-08-03T19:53:55Z", "closed_at": "2021-08-03T19:53:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAdded one XYMap using the proper commandline, then used spawn and it did nothing.\r\nWent to try the xyzgrid list and it shows 0 maps.\r\nReadded a few times, no change, shows as 0 maps and does not spawn anything.\r\nDoes not display any error\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. evennia xyzgrid init\r\n2. Add one using evennia xyzgrid add\r\n3. use evennia xyzgrid list, it shows 0 maps\r\n4. Try to spawn the map, nothing happens\r\n\r\n#### Expected behavior\r\nThe map is supposed to be listed and spawned when the command is called.\r\n\r\n#### Environment, Evennia version, OS etc\r\nLatest Evennia Dev, Windows\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2481", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2481/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2481/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2481/events", "html_url": "https://github.com/evennia/evennia/issues/2481", "id": 957613927, "node_id": "MDU6SXNzdWU5NTc2MTM5Mjc=", "number": 2481, "title": "[BUG] XYZGrid Adding a single map raises TypeError", "user": {"login": "ChrisLR", "id": 7611762, "node_id": "MDQ6VXNlcjc2MTE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7611762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLR", "html_url": "https://github.com/ChrisLR", "followers_url": "https://api.github.com/users/ChrisLR/followers", "following_url": "https://api.github.com/users/ChrisLR/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLR/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLR/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLR/orgs", "repos_url": "https://api.github.com/users/ChrisLR/repos", "events_url": "https://api.github.com/users/ChrisLR/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-01T23:30:20Z", "updated_at": "2021-08-03T19:09:33Z", "closed_at": "2021-08-03T19:09:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAttempting to add  a single XYZMap using XYMAP_DATA in a module does not work.\r\nSee relevant traceback\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\launchcmd.py\", line 260, in _option_add\r\n    maps = grid.maps_from_module(path)\r\n  File \"d:\\progstuff\\protozfeve\\erep\\evennia\\evennia\\contrib\\xyzgrid\\xyzgrid.py\", line 129, in maps_from_module\r\n    mapdata['module_path'] = module_path\r\nTypeError: 'str' object does not support item assignment\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a map using the XYMAP_DATA variable in the module\r\n2. Use the commandline evennia xyzgrid add on the module\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe map should be added the same as using XYMAP_DATA_LIST\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia Develop (latest), Windows, Python 3.9\r\n\r\n#### Additional context\r\nUsing XYMAP_DATA_LIST to add the list works, so it is something to do with the make_iter result.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2474", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2474/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2474/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2474/events", "html_url": "https://github.com/evennia/evennia/issues/2474", "id": 952035045, "node_id": "MDU6SXNzdWU5NTIwMzUwNDU=", "number": 2474, "title": "[BUG] Using evennia.prototypes.spawner.spawn merges keys with incorrect precedence ", "user": {"login": "jerryaldrichiii", "id": 13783510, "node_id": "MDQ6VXNlcjEzNzgzNTEw", "avatar_url": "https://avatars.githubusercontent.com/u/13783510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jerryaldrichiii", "html_url": "https://github.com/jerryaldrichiii", "followers_url": "https://api.github.com/users/jerryaldrichiii/followers", "following_url": "https://api.github.com/users/jerryaldrichiii/following{/other_user}", "gists_url": "https://api.github.com/users/jerryaldrichiii/gists{/gist_id}", "starred_url": "https://api.github.com/users/jerryaldrichiii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jerryaldrichiii/subscriptions", "organizations_url": "https://api.github.com/users/jerryaldrichiii/orgs", "repos_url": "https://api.github.com/users/jerryaldrichiii/repos", "events_url": "https://api.github.com/users/jerryaldrichiii/events{/privacy}", "received_events_url": "https://api.github.com/users/jerryaldrichiii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-24T09:03:16Z", "updated_at": "2021-07-26T21:52:40Z", "closed_at": "2021-07-26T21:52:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nThe following example/test fails:\r\n\r\n```python\r\nfrom evennia.prototypes.spawner import spawn\r\nfrom evennia.utils.test_resources import EvenniaTest\r\n\r\nPROTOTYPES = {\r\n    \"WEAPON\": {\r\n        \"typeclass\": \"evennia.objects.objects.DefaultObject\",\r\n        \"key\": \"Weapon\",\r\n        \"desc\": \"A generic blade.\",\r\n        \"magic\": False,\r\n    },\r\n    \"STING\": {\r\n        \"prototype_parent\": \"WEAPON\",\r\n        \"key\": \"Sting\",\r\n        \"desc\": \"A dagger that shines with a cold light if Orcs are near.\",\r\n        \"magic\": True,\r\n    },\r\n}\r\n\r\nclass Example:\r\n    def run():\r\n        return spawn(PROTOTYPES[\"STING\"], prototype_parents=PROTOTYPES)[0]\r\n\r\nclass TestExample(EvenniaTest):\r\n    def test_run(self):\r\n        sting = Example.run()\r\n        self.assertEqual(sting.db.magic, True)\r\n```\r\n\r\nI would expect `sting.db.magic` to be True, but it appears that `spawn` has the reverse precedence than I expect.\r\n\r\nThis can also be seen in the `tutorial_world` contrib when receiving one of the magic weapons at the end. The key is correct, but the description, magic status, etc are all set to the attributes of the parent. Additionally, when traversing multiple parents it only overwrites using the value from the 1st parent. This leads to the magic weapons not having the magic attribute set.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\n```\r\n    Evennia 0.9.0\r\n    OS: posix\r\n    Python: 3.7.6\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2465", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2465/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2465/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2465/events", "html_url": "https://github.com/evennia/evennia/issues/2465", "id": 932997342, "node_id": "MDU6SXNzdWU5MzI5OTczNDI=", "number": 2465, "title": "[DEVEL] [BUG] builtins.TypeError: 'NoneType' object is not iterable", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-29T18:29:14Z", "updated_at": "2021-07-26T20:23:02Z", "closed_at": "2021-07-26T20:23:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI'm getting this (sometimes) when I stop the server:\r\n\r\n```\r\n21-06-29 19:22:39+01 Unhandled error in Deferred:\r\n21-06-29 19:22:39+01 Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"Lib\\site-packages\\twisted\\internet\\defer.py\", line 167, in maybeDeferred\r\n            result = f(*args, **kw)\r\n          File \"evennia\\server\\amp_client.py\", line 247, in server_receive_adminportal2server\r\n            server_sessionhandler.server.shutdown(mode=\"shutdown\")\r\n          File \"Lib\\site-packages\\twisted\\internet\\defer.py\", line 1656, in unwindGenerator\r\n            return _cancellableInlineCallbacks(gen)\r\n          File \"Lib\\site-packages\\twisted\\internet\\defer.py\", line 1571, in _cancellableInlineCallbacks\r\n            _inlineCallbacks(None, g, status)\r\n        --- <exception caught here> ---\r\n          File \"Lib\\site-packages\\twisted\\internet\\defer.py\", line 1445, in _inlineCallbacks\r\n            result = current_context.run(g.send, result)\r\n          File \"evennia\\server\\server.py\", line 443, in shutdown\r\n            yield [\r\n          File \"evennia\\server\\server.py\", line 444, in <listcomp>\r\n            (p.unpuppet_all(), p.at_server_shutdown())\r\n          File \"evennia\\accounts\\accounts.py\", line 1778, in at_server_shutdown\r\n            for character in characters:\r\n        builtins.TypeError: 'NoneType' object is not iterable\r\n\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Start the server.\r\n2. Puppet a character.\r\n3. Stop the server.\r\n4. See error.\r\n\r\n#### Expected behavior\r\nNo errors during shutdown.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 43fd533) (rev 43fd533) + patch applied for #2462\r\nOS: nt\r\nPython: 3.8.0\r\nTwisted: 21.2.0\r\nDjango: 3.2.4\r\n\r\n#### Additional context\r\nAn if statement would probably fix this.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2465/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2465/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2463", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2463/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2463/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2463/events", "html_url": "https://github.com/evennia/evennia/issues/2463", "id": 931456527, "node_id": "MDU6SXNzdWU5MzE0NTY1Mjc=", "number": 2463, "title": "[DEVEL] [BUG] Editing a script on the admin site shows a dropdown of all attributes", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-28T11:12:44Z", "updated_at": "2021-08-03T20:05:45Z", "closed_at": "2021-08-03T20:05:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen editing or viewing a Script on the admin site, the \"Attributes\" area shows a dropdown of _all_ attributes.\r\n\r\n![yikes](https://user-images.githubusercontent.com/56974578/123627547-0f209c00-d80a-11eb-8130-118f82c1693f.png)\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Boot up the game.\r\n2. Go to the admin site and click \"Scripts\".\r\n3. Open a script.\r\n4. Wait a while...\r\n\r\n#### Expected behavior\r\nAccounts and Objects have free input fields here, which makes sense.\r\n\r\n![image](https://user-images.githubusercontent.com/56974578/123627604-1f387b80-d80a-11eb-8e36-561f77b24081.png)\r\n\r\nBut for some reason, scripts show a dropdown of all attributes. That's... not good for performance.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 43fd533) (rev 43fd533) + patch applied for #2462\r\nOS: nt\r\nPython: 3.8.0\r\nTwisted: 21.2.0\r\nDjango: 3.2.4\r\n\r\n#### Additional context\r\nThis doesn't look right. There's a typeclass dropdown here too. Are these even regular attributes?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2461", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2461/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2461/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2461/events", "html_url": "https://github.com/evennia/evennia/issues/2461", "id": 931081361, "node_id": "MDU6SXNzdWU5MzEwODEzNjE=", "number": 2461, "title": "[DEVEL] [BUG] Typeclass dropdown does not show custom typeclasses", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-28T01:33:27Z", "updated_at": "2021-06-28T11:14:49Z", "closed_at": "2021-06-28T11:14:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn the develop branch, the admin site seems to have a new feature where typeclasses are no longer CharFields but are ChoiceFields instead. However, none of my typeclasses are shown there. Instead, the only typeclasses that are shown are the DefaultAccount/DefaultGuest/Bots and DefaultObject/DefaultRoom/DefaultExit/etc.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Start my project.\r\n2. Check out the admin site and open an Account or an Object.\r\n3. Typeclass is wrong and is also reset to the wrong typeclass when you save the entity.\r\n\r\n#### Expected behavior\r\nTypeclass field should be a string or a valid list of typeclasses.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 43fd533) (rev 43fd533)\r\nOS: nt\r\nPython: 3.8.0\r\nTwisted: 21.2.0\r\nDjango: 3.2.4\r\n\r\n#### Additional context\r\nIt does say \"If your custom class is not found here, it may not be imported as part of Evennia's startup.\" but it's unclear how to make the typeclass be imported on Evennia's startup. In this case, I actually wanted to use the default \"typeclasses.accounts.Account\" typeclass. I also have some custom object typeclasses that should continue to work.\r\n\r\n![image](https://user-images.githubusercontent.com/56974578/123567111-5894cb00-d7b9-11eb-8c6b-6762b4de50a0.png)\r\nThis should be \"typeclasses.accounts.Account\"\r\n\r\n![image](https://user-images.githubusercontent.com/56974578/123567184-76623000-d7b9-11eb-9d5a-c460bf10493a.png)\r\nThis should be \"share.objects.Object\"", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2458", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2458/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2458/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2458/events", "html_url": "https://github.com/evennia/evennia/issues/2458", "id": 930921536, "node_id": "MDU6SXNzdWU5MzA5MjE1MzY=", "number": 2458, "title": "[DEVEL] [BUG] builtins.RuntimeError: Request.finish called on a request after its connection was lost", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-06-27T12:38:55Z", "updated_at": "2022-02-13T22:05:28Z", "closed_at": "2022-02-13T22:05:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n```\r\n21-06-27 13:31:45+01  |Portal| Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"site-packages\\twisted\\application\\app.py\", line 306, in runReactorWithLogging\r\n            reactor.run()\r\n          File \"site-packages\\twisted\\internet\\base.py\", line 1423, in run\r\n            self.mainLoop()\r\n          File \"site-packages\\twisted\\internet\\base.py\", line 1436, in mainLoop\r\n            reactorBaseSelf.doIteration(t)\r\n          File \"site-packages\\twisted\\internet\\selectreactor.py\", line 143, in doSelect\r\n            _logrun(selectable, _drdw, selectable, method)\r\n        --- <exception caught here> ---\r\n          File \"site-packages\\twisted\\python\\log.py\", line 101, in callWithLogger\r\n            return callWithContext({\"system\": lp}, func, *args, **kw)\r\n          File \"site-packages\\twisted\\python\\log.py\", line 85, in callWithContext\r\n            return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n          File \"site-packages\\twisted\\python\\context.py\", line 118, in callWithContext\r\n            return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n          File \"site-packages\\twisted\\python\\context.py\", line 83, in callWithContext\r\n            return func(*args, **kw)\r\n          File \"site-packages\\twisted\\internet\\selectreactor.py\", line 154, in _doReadOrWrite\r\n            self._disconnectSelectable(selectable, why, method == \"doRead\")\r\n          File \"site-packages\\twisted\\internet\\posixbase.py\", line 300, in _disconnectSelectable\r\n            selectable.readConnectionLost(f)\r\n          File \"site-packages\\twisted\\internet\\tcp.py\", line 307, in readConnectionLost\r\n            self.connectionLost(reason)\r\n          File \"site-packages\\twisted\\internet\\tcp.py\", line 506, in connectionLost\r\n            self._commonConnection.connectionLost(self, reason)\r\n          File \"site-packages\\twisted\\internet\\tcp.py\", line 324, in connectionLost\r\n            protocol.connectionLost(reason)\r\n          File \"site-packages\\twisted\\web\\http.py\", line 657, in connectionLost\r\n            self.handleResponseEnd()\r\n          File \"site-packages\\twisted\\web\\proxy.py\", line 82, in handleResponseEnd\r\n            self.father.finish()\r\n          File \"site-packages\\twisted\\web\\server.py\", line 279, in finish\r\n            return http.Request.finish(self)\r\n          File \"site-packages\\twisted\\web\\http.py\", line 1133, in finish\r\n            raise RuntimeError(\r\n        builtins.RuntimeError: Request.finish called on a request after its connection was lost; use Request.notifyFinish to keep track of this.\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Boot up the game.\r\n2. Repeatedly press CTRL+R on a page in your web browser.\r\n3. Eventually, your browser will terminate an old connection prematurely.\r\n4. See error.\r\n\r\n#### Expected behavior\r\nNo stack trace is supposed to be logged for this, because a connection being terminated halfway is normal behavior.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 43fd533f2) (rev 43fd533f2)\r\nOS: nt\r\nPython: 3.8.0\r\nTwisted: 21.2.0\r\nDjango: 3.2.4", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2457", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2457/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2457/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2457/events", "html_url": "https://github.com/evennia/evennia/issues/2457", "id": 930900832, "node_id": "MDU6SXNzdWU5MzA5MDA4MzI=", "number": 2457, "title": "[DEVEL] [BUG] \"builtins.RuntimeError: dictionary changed size during iteration\" error in clean_stale_tasks", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-06-27T10:42:40Z", "updated_at": "2022-02-12T17:46:04Z", "closed_at": "2022-02-12T17:46:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI'm getting a \"dictionary changed size during iteration\" error in `clean_stale_tasks` in `taskhandler.py` in a game that uses a lot of tickers (and resets them on `at_init`)\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev 43fd533f2) (rev 43fd533f2)\r\nOS: nt\r\nPython: 3.8.0\r\nTwisted: 21.2.0\r\nDjango: 3.2.4\r\n\r\n#### Additional context\r\nI've patched this issue locally by editing `evennia/evennia/scripts/taskhandler.py` and editing line 271 from:\r\n\r\n```\r\nfor task_id, (date, callback, args, kwargs, persistent, _) in self.tasks.items():\r\n```\r\n\r\nto\r\n\r\n```\r\nfor task_id, (date, callback, args, kwargs, persistent, _) in list(self.tasks.items()).copy():\r\n```\r\n\r\nThis fixes the issue for the time being, though a more complete fix may be to synchronize the `self.tasks` variable so that it isn't modified between different Python 'threads'.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2455", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2455/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2455/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2455/events", "html_url": "https://github.com/evennia/evennia/issues/2455", "id": 929674795, "node_id": "MDU6SXNzdWU5Mjk2NzQ3OTU=", "number": 2455, "title": "[BUG] (Develop) Scripts - How to retain auto-delete functionality?", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-24T22:54:45Z", "updated_at": "2021-08-03T20:17:00Z", "closed_at": "2021-08-03T20:17:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere no longer seems to be a way to have scripts auto-delete themselves at stop.\r\n\r\nAny hook called from `at_stop` that might result in self-deletion instead results in recursion errors (for obvious reasons, but still).\r\n\r\nI might be able to do a `utils.delay` to call `delete` on it, but that's messy.\r\n\r\nWas this functionality removed altogether?\r\n\r\n#### Environment, Evennia version, OS etc\r\nDevelop", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2452", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2452/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2452/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2452/events", "html_url": "https://github.com/evennia/evennia/issues/2452", "id": 927715039, "node_id": "MDU6SXNzdWU5Mjc3MTUwMzk=", "number": 2452, "title": "[BUG] CmdHelp.can_list_topic not respecting auto_help settings", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-22T23:45:38Z", "updated_at": "2021-08-03T20:26:55Z", "closed_at": "2021-08-03T20:26:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nCommands that define `auto_help = False` show up in the default help list.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Define `auto_help = False` on a command.\r\n2. Reload the server.\r\n3. Use the HELP command.\r\n4. See error.\r\n\r\n#### Expected behavior\r\nCommands with auto_help defined as False should not appear in the help table.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 1.0-dev (rev 43fd533f2) (rev 43fd533f2)\r\n    OS: posix\r\n    Python: 3.9.2\r\n    Twisted: 20.3.0\r\n    Django: 3.2.3\r\n\r\n#### Additional context\r\nA simple check along the lines of...\r\n```\r\nif not cmd_or_topic.auto_help:\r\n    return False\r\n```\r\n... at the top of can_list_topic should fix the issue.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2450", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2450/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2450/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2450/events", "html_url": "https://github.com/evennia/evennia/issues/2450", "id": 927657921, "node_id": "MDU6SXNzdWU5Mjc2NTc5MjE=", "number": 2450, "title": "[BUG] Traits - Bad example for HP gauge", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-06-22T21:43:39Z", "updated_at": "2021-08-30T20:34:59Z", "closed_at": "2021-08-30T20:34:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere are conflicting examples of how to implement an HP gauge, but one of them does not work as documented:\r\n\r\nhttps://github.com/evennia/evennia/blob/43fd533f28e4b17e33f0ab4a90372ccc6f7d723c/evennia/contrib/traits.py#L58\r\n\r\nThis creates a gauge with min and max set to 0. Setting the values manually yields an error in which the handler tells you to set `base` instead of `max`.\r\n\r\nLater on there is a different example:\r\n\r\nhttps://github.com/evennia/evennia/blob/43fd533f28e4b17e33f0ab4a90372ccc6f7d723c/evennia/contrib/traits.py#L268\r\n\r\nThis one appears to work though.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2439", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2439/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2439/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2439/events", "html_url": "https://github.com/evennia/evennia/issues/2439", "id": 925099398, "node_id": "MDU6SXNzdWU5MjUwOTkzOTg=", "number": 2439, "title": "[BUG] Instance methods can no longer be pickled", "user": {"login": "fariparedes", "id": 20873000, "node_id": "MDQ6VXNlcjIwODczMDAw", "avatar_url": "https://avatars.githubusercontent.com/u/20873000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fariparedes", "html_url": "https://github.com/fariparedes", "followers_url": "https://api.github.com/users/fariparedes/followers", "following_url": "https://api.github.com/users/fariparedes/following{/other_user}", "gists_url": "https://api.github.com/users/fariparedes/gists{/gist_id}", "starred_url": "https://api.github.com/users/fariparedes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fariparedes/subscriptions", "organizations_url": "https://api.github.com/users/fariparedes/orgs", "repos_url": "https://api.github.com/users/fariparedes/repos", "events_url": "https://api.github.com/users/fariparedes/events{/privacy}", "received_events_url": "https://api.github.com/users/fariparedes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-18T17:52:37Z", "updated_at": "2021-06-20T14:42:31Z", "closed_at": "2021-06-19T13:57:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAfter merging the last ~40 commits of the upstream branch, the functionality to automatically close my doors stopped working. It now throws a TypeError when attempting to pickle the instance method. This breaks `delay()` on any instance methods.\\\r\n\r\n```\r\nTraceback (most recent call last):\r\n  line 342, in add\r\n    dbserialize(callback)\r\n  line 751, in dbserialize\r\n    return do_pickle(to_pickle(data))\r\n  line 734, in do_pickle\r\n    return dumps(data, protocol=PICKLE_PROTOCOL)\r\nTypeError: cannot pickle 'weakref' object\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  line 644, in _run_command\r\n    ret = cmd.func()\r\n  line 56, in func\r\n    door.open(self.caller)\r\n  line 156, in open\r\n    self.toggle(\"open\", opener)\r\n  line 120, in toggle\r\n    self.autoclose_delay = delay(self.db.autoclose_interval, self.auto_close, persistent=True)\r\n  line 1064, in delay\r\n    return _TASK_HANDLER.add(timedelay, callback, *args, **kwargs)\r\n  line 344, in add\r\n    raise ValueError(\r\nValueError: the specified callback <bound method Door.auto_close of room> cannot be pickled. It must be a top-level function in a module or an instance method.\r\n```\r\n\r\nThe method code:\r\n```\r\ndef toggle(self, state, toggler=None):\r\n    [...]\r\n    self.autoclose_delay = delay(self.db.autoclose_interval, self.auto_close, persistent=True)\r\n\r\n[...]\r\n\r\ndef auto_close(self):\r\n    if not self.db.closed:\r\n\t    mapping = {\r\n\t\t    \"door\": self.db.door_name,\r\n\t\t    \"exit\": self.name\r\n\t    }\r\n\t    self.location.msg_contents(\r\n\t\t    (self.db.swing_closed_msg, {\"type\": \"door\"}),\r\n\t\t    from_obj=self.db.last_opened_by,\r\n\t\t    mapping=mapping\r\n\t    )\r\n\t    self.close()\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a typeclassed object\r\n2. Add an instance method to the object\r\n3. Call `delay()` on the instance method\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe TaskHandler object is created and returned.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.5 (rev 45b99e59e)\r\nOS: nt\r\nPython: 3.8.5\r\nTwisted: 20.3.0\r\nDjango: 2.2.19\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2438", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2438/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2438/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2438/events", "html_url": "https://github.com/evennia/evennia/issues/2438", "id": 921371105, "node_id": "MDU6SXNzdWU5MjEzNzExMDU=", "number": 2438, "title": "[BUG] Compilation error in characters.py causes character duplication glitch", "user": {"login": "mrseeker", "id": 1099127, "node_id": "MDQ6VXNlcjEwOTkxMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1099127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrseeker", "html_url": "https://github.com/mrseeker", "followers_url": "https://api.github.com/users/mrseeker/followers", "following_url": "https://api.github.com/users/mrseeker/following{/other_user}", "gists_url": "https://api.github.com/users/mrseeker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrseeker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrseeker/subscriptions", "organizations_url": "https://api.github.com/users/mrseeker/orgs", "repos_url": "https://api.github.com/users/mrseeker/repos", "events_url": "https://api.github.com/users/mrseeker/events{/privacy}", "received_events_url": "https://api.github.com/users/mrseeker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-15T13:00:00Z", "updated_at": "2021-08-05T22:16:48Z", "closed_at": "2021-08-05T22:16:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen characters.py contains an error and fails, a duplication glitch occurs where the superuser character is constantly being recreated, causing it to crash the server due to resource exhaustion. Shutting down the server and stopping the batch processes does not prevent stopping this behaviour, a manual kill of the offending process is needed to shut it down.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a new game\r\n2. Change the file at Typeclasses -> Characters.py, and add the following code as an example to cause an error:\r\n```\r\ndef at_object_creation(self):\r\n    tickerhandler.add(interval=6, callback=self.at_turn_start)\r\n```\r\n3. Do an evennia migrate\r\n4. Create a superuser\r\n5. Start evennia\r\n6. The server will now boot and create user 1, followed by duplicating user 1 until it runs out of disk space.\r\n7. Check how many accounts exist using the web interface.\r\n\r\n#### Expected behavior\r\nAn error saying that user 1 could not be created due to compilation errors during creation of the superuser.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 1.0-dev (rev f5581ba84) (rev f5581ba84)\r\n    OS: Windows 10\r\n    Python: 3.9.5\r\n    Twisted: 21.2.0\r\n    Django: 3.2.4\r\n\r\n#### Additional context\r\nStopping evennia (using evennia stop) won't work, a rogue python shell is still running in the background, locking the database.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2434", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2434/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2434/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2434/events", "html_url": "https://github.com/evennia/evennia/issues/2434", "id": 919819760, "node_id": "MDU6SXNzdWU5MTk4MTk3NjA=", "number": 2434, "title": "[BUG] File \"setup.py\" not found", "user": {"login": "LimpingNinja", "id": 14851464, "node_id": "MDQ6VXNlcjE0ODUxNDY0", "avatar_url": "https://avatars.githubusercontent.com/u/14851464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LimpingNinja", "html_url": "https://github.com/LimpingNinja", "followers_url": "https://api.github.com/users/LimpingNinja/followers", "following_url": "https://api.github.com/users/LimpingNinja/following{/other_user}", "gists_url": "https://api.github.com/users/LimpingNinja/gists{/gist_id}", "starred_url": "https://api.github.com/users/LimpingNinja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LimpingNinja/subscriptions", "organizations_url": "https://api.github.com/users/LimpingNinja/orgs", "repos_url": "https://api.github.com/users/LimpingNinja/repos", "events_url": "https://api.github.com/users/LimpingNinja/events{/privacy}", "received_events_url": "https://api.github.com/users/LimpingNinja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-13T15:10:24Z", "updated_at": "2021-06-13T16:27:03Z", "closed_at": "2021-06-13T15:15:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\nOn a fresh install, attempting to run pip install -e evennia from the root leads to the following error:\r\n**ERROR: File \"setup.py\" not found. Directory cannot be installed in editable mode: /home/limpingninja/muds/evennia/evennia**\r\n\r\n### To Reproduce\r\nSteps to reproduce the behavior:\r\nExactly followed: https://evennia.readthedocs.io/en/latest/Getting-Started.html#linux-install\r\nThe only difference was naming the virtual environment differently.\r\n\r\n### Expected behavior\r\nEvennia boots.\r\n\r\n### Environment, Evennia version, OS etc\r\nOS: Ubuntu 20.04.2 LTS x86_64 \r\nKernel: 5.8.0-55-generic \r\nPython: Python 3.8.5 pip 20.0.2 \r\n\r\n### Additional context\r\n**limpingninja@DamagedGoods:~$** cd muds\r\n**limpingninja@DamagedGoods:~/muds$** cd evennia\r\n**limpingninja@DamagedGoods:~/muds/evennia$** ls\r\nbin                  CODING_STYLE.md  evennia      pyproject.toml\r\nCHANGELOG.md         CONTRIBUTING.md  INSTALL.md   README.md\r\nCODE_OF_CONDUCT.md   Dockerfile       LICENSE.txt  requirements.txt\r\ncodeql-analysis.yml  docs             Makefile     setup.py\r\n**limpingninja@DamagedGoods:~/muds/evennia$** virtualenv mud\r\ncreated virtual environment CPython3.8.5.final.0-64 in 56ms\r\n  creator CPython3Posix(dest=/home/limpingninja/muds/evennia/mud, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, pkg_resources=latest, via=copy, app_data_dir=/home/limpingninja/.local/share/virtualenv/seed-app-data/v1.0.1.debian.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n**limpingninja@DamagedGoods:~/muds/evennia$** source mud/bin/activate\r\n**(mud) limpingninja@DamagedGoods:~/muds/evennia$** ls\r\nbin                  CODING_STYLE.md  evennia      mud               setup.py\r\nCHANGELOG.md         CONTRIBUTING.md  INSTALL.md   pyproject.toml\r\nCODE_OF_CONDUCT.md   Dockerfile       LICENSE.txt  README.md\r\ncodeql-analysis.yml  docs             Makefile     requirements.txt\r\n**(mud) limpingninja@DamagedGoods:~/muds/evennia$** pip install -e evennia\r\n**_ERROR: File \"setup.py\" not found. Directory cannot be installed in editable mode: /home/limpingninja/muds/evennia/evennia_**\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2431", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2431/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2431/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2431/events", "html_url": "https://github.com/evennia/evennia/issues/2431", "id": 918099889, "node_id": "MDU6SXNzdWU5MTgwOTk4ODk=", "number": 2431, "title": "[BUG] (Develop) Multimatched commands dropping rest of cmdstring", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-11T01:07:40Z", "updated_at": "2021-09-07T21:24:10Z", "closed_at": "2021-09-07T21:24:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nMultimatched commands with args/lhs/rhs are losing this additional data after the command disambiguation.\r\n\r\n#### To Reproduce\r\n```\r\nclass CmdRetrDemo(MuxCommand):\r\n    \"\"\"\r\n    Retrieves an object from a container.\r\n    \r\n    \"\"\"\r\n    key = 'retrdemo'\r\n    \r\n    def func(self):\r\n        self.msg(f\"Retrieving {self.lhs}...\")\r\n\r\nclass ContainerCmdSet(CmdSet):\r\n    \r\n    key = 'Container'\r\n    duplicates = True\r\n    \r\n    def at_cmdset_creation(self):\r\n        self.add(CmdRetrDemo)\r\n\r\nclass Container(Object):\r\n    \r\n    def at_object_creation(self):\r\n        self.cmdset.add(ContainerCmdSet)\r\n```\r\n* Create a Container\r\n* Try to `retrdemo asdfasdf`\r\n* Create another Container\r\n* Try to `retrdemo-1 asdsdfsdf`\r\n* Compare outputs :)\r\n\r\n#### Expected behavior\r\nDisambiguated command should retain all optional params.\r\n\r\n#### Environment, Evennia version, OS etc\r\nDevelop", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2428", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2428/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2428/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2428/events", "html_url": "https://github.com/evennia/evennia/issues/2428", "id": 910160239, "node_id": "MDU6SXNzdWU5MTAxNjAyMzk=", "number": 2428, "title": "[BUG] CmdSet merge error when items are dropped, examined, picked up, and examined again", "user": {"login": "madamdata", "id": 16723964, "node_id": "MDQ6VXNlcjE2NzIzOTY0", "avatar_url": "https://avatars.githubusercontent.com/u/16723964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madamdata", "html_url": "https://github.com/madamdata", "followers_url": "https://api.github.com/users/madamdata/followers", "following_url": "https://api.github.com/users/madamdata/following{/other_user}", "gists_url": "https://api.github.com/users/madamdata/gists{/gist_id}", "starred_url": "https://api.github.com/users/madamdata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madamdata/subscriptions", "organizations_url": "https://api.github.com/users/madamdata/orgs", "repos_url": "https://api.github.com/users/madamdata/repos", "events_url": "https://api.github.com/users/madamdata/events{/privacy}", "received_events_url": "https://api.github.com/users/madamdata/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-03T06:45:09Z", "updated_at": "2021-06-03T21:25:20Z", "closed_at": "2021-06-03T21:25:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I drop an item (typeclasses.object.Object, the kind of thing produced by CmdCreate, but also reproducible with objects that inherit from Object), \r\n\"examine item\" while it's on the ground, pick it up, and \"examine item\" again, I get the below error in the log.\r\nAfter testing a bit with Griatch, it seems to only happen in rooms with exits or other objects that provide a CmdSet that needs to be merged. \r\n\r\n21-06-03 05:53:30 Unhandled error in Deferred:\r\n21-06-03 05:53:30 Unhandled Error\r\n\tTraceback (most recent call last):\r\n\t  File \"/home/pi/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n\t    ret = cmd.func()\r\n\t  File \"/home/pi/evennia/evennia/commands/default/building.py\", line 2741, in func\r\n\t    ).addCallback(get_cmdset_callback)\r\n\t  File \"/home/pi/.local/lib/python3.7/site-packages/twisted/internet/defer.py\", line 322, in addCallback\r\n\t    callbackKeywords=kw)\r\n\t  File \"/home/pi/.local/lib/python3.7/site-packages/twisted/internet/defer.py\", line 311, in addCallbacks\r\n\t    self._runCallbacks()\r\n\t--- <exception caught here> ---\r\n\t  File \"/home/pi/.local/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\r\n\t    current.result = callback(current.result, *args, **kw)\r\n\t  File \"/home/pi/evennia/evennia/commands/default/building.py\", line 2659, in get_cmdset_callback\r\n\t    self.msg(self.format_output(obj, cmdset).strip())\r\n\t  File \"/home/pi/evennia/evennia/commands/default/building.py\", line 2548, in format_output\r\n\t    all_cmdsets = [(cmdset.key, cmdset) for cmdset in current_cmdset.merged_from]\r\n\tbuiltins.AttributeError: 'NoneType' object has no attribute 'merged_from'\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. 'create testobj' \r\n2. Go to a room with at least one object that provides a CmdSet such as an exit\r\n2. 'drop testobj'\r\n3. 'examine testobj'\r\n4. 'get testobj'\r\n5. 'examine testobj'\r\n6. at this point you should get no response at all in the client, and see the above error in the log.\r\n\r\n#### Expected behavior\r\nExamine should work the same no matter where the object is or what has been done to it. \r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev 56b1c259f) (rev 56b1c259f)\r\n    OS: posix\r\n    Python: 3.7.3\r\n    Twisted: 20.3.0\r\n    Django: 2.2.23\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2423", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2423/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2423/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2423/events", "html_url": "https://github.com/evennia/evennia/issues/2423", "id": 900055296, "node_id": "MDU6SXNzdWU5MDAwNTUyOTY=", "number": 2423, "title": "[BUG] (Develop) Attributes - Locks cannot be changed, `'super' object has no attribute '_Attribute__lock_storage_set'`", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-24T22:08:52Z", "updated_at": "2021-08-06T21:55:53Z", "closed_at": "2021-08-06T21:55:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nLocks on Attribute objects seem to lose their ability to be modified after creation.\r\n\r\n#### To Reproduce\r\n```\r\nIn [1]: from evennia import ObjectDB\r\n\r\nIn [2]: o = ObjectDB.objects.last()\r\n\r\nIn [3]: o.attributes.all()\r\nOut[3]: [creator_id(23), activated(25), desc(48)]\r\n\r\nIn [4]: o.attributes.all()[-1]\r\nOut[4]: desc(48)\r\n\r\nIn [5]: o.attributes.all()[-1].locks.add('boogie:false()')\r\n```\r\n\r\n```\r\nFile \"/home/ubuntu/workspace/evennia/evennia/locks/lockhandler.py\", line 379, in add\r\n    self._save_locks()\r\n  File \"/home/ubuntu/workspace/evennia/evennia/locks/lockhandler.py\", line 294, in _save_locks\r\n    self.obj.lock_storage = \";\".join([tup[2] for tup in self.locks.values()])\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/attributes.py\", line 237, in __lock_storage_set\r\n    super().__lock_storage_set(value)\r\nAttributeError: 'super' object has no attribute '_Attribute__lock_storage_set'\r\n```\r\n\r\n#### Additional context\r\n```\r\nEvennia 1.0-dev (rev 407a564) (rev 407a564)\r\n    OS: posix\r\n    Python: 3.7.10\r\n    Twisted: 21.2.0\r\n    Django: 3.2.3\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2413", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2413/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2413/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2413/events", "html_url": "https://github.com/evennia/evennia/issues/2413", "id": 887256809, "node_id": "MDU6SXNzdWU4ODcyNTY4MDk=", "number": 2413, "title": "[BUG] Unexpected prototype_key attached to utils.variable_from_module()", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-11T13:18:02Z", "updated_at": "2021-05-11T19:32:03Z", "closed_at": "2021-05-11T17:27:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nprototype_key is added to the end of the dictionary when importing from a module that is listed within settings.py PROTOTYPE_MODULES setting. If the module is removed from the setting, it removes the prototype_key from the import.\r\n\r\nThis behavior happens even if there are no prototype specific keys within the variable's dictionary.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a module with variables that hold dictionary values.\r\n2. Add this module to the PROTOTYPE_MODULES settings in settings.py\r\n3. In another module, use utils.variable_from_module() to import one of the dictionary variables from the first module.\r\n4. Check the resulting dictionary and notice that it will contain a new prototype_key dictionary key with the name of the variable as the value.\r\n5. Remove the dictionary module from the PROTOTYPE_MODULES settings.\r\n6. Check the import again and see that the prototype_key is no longer there.\r\n\r\n#### Expected behavior\r\nI expect the variable_from_module to simply import the raw variable, as it is within the module. I don't know why it insists on adding a prototype_key at the end. Simply listing this module as a PROTOTYPE_MODULE in the settings.py shouldn't cause this behavior.\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.5 (rev 1c47bbe2d)\r\n         OS: nt\r\n         Python: 3.7.4\r\n         Twisted: 20.3.0\r\n         Django: 2.2.16\r\n\r\n#### Additional context\r\nExample dictionary variables module: https://gist.github.com/kovitikus/16e4bd7740d61590d378a3fd9fcba88a\r\n\r\nTest function for importing and printing the dictionary variable: https://gist.github.com/kovitikus/bcbb982784ada71535e75c601305ccd3\r\n\r\n***\r\n\r\nThis issue was also discussed in Evennia chat. I initially mentioned it here:\r\nhttps://irclogs.jackgrigg.com/irc.freenode.net/evennia/2021-05-11#i_4716755\r\n\r\nFurther conversation with Griatch took place a bit later, starting here:\r\nhttps://irclogs.jackgrigg.com/irc.freenode.net/evennia/2021-05-11#i_4716789", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2392", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2392/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2392/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2392/events", "html_url": "https://github.com/evennia/evennia/issues/2392", "id": 866430233, "node_id": "MDU6SXNzdWU4NjY0MzAyMzM=", "number": 2392, "title": "[BUG] (Develop) AttributeHandler `all()` method appears to be checking the wrong permissions", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-23T21:03:20Z", "updated_at": "2021-08-06T21:59:01Z", "closed_at": "2021-08-06T21:59:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n...or I can't read.\r\n\r\nhttps://github.com/evennia/evennia/blob/dca152469bde8a04eff838b4c5d5d59c81193a07/evennia/typeclasses/attributes.py#L1200-L1223\r\n\r\nL1223 appears to be checking for edit permissions on a read method.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2392/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2391", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2391/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2391/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2391/events", "html_url": "https://github.com/evennia/evennia/issues/2391", "id": 866207476, "node_id": "MDU6SXNzdWU4NjYyMDc0NzY=", "number": 2391, "title": "[BUG] (Develop) Setup fails due to requirements.txt parse error", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-23T15:15:56Z", "updated_at": "2021-05-18T07:24:02Z", "closed_at": "2021-05-18T05:17:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nTrying to `pip install -e evennia` per the docs in a clean environment:\r\n\r\n```\r\nObtaining file:///home/ubuntu/workspace/evennia\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /home/ubuntu/workspace/EV37/bin/python3.7 /home/ubuntu/workspace/EV37/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /tmp/tmp2c79m5qa\r\n       cwd: /home/ubuntu/workspace/evennia\r\n  Complete output (1 lines):\r\n  error in evennia setup command: 'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Parse error at \"'+https:/'\": Expected stringEnd\r\n  ----------------------------------------\r\nERROR: Command errored out with exit status 1: /home/ubuntu/workspace/EV37/bin/python3.7 /home/ubuntu/workspace/EV37/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /tmp/tmp2c79m5qa Check the logs for full command output.\r\n```\r\n\r\n#### Additional context\r\nThis line in requirements.txt is causing the issue:\r\n\r\n```\r\n# conjugation library, py3 version\r\ngit+https://github.com/markrogersjr/nodebox_linguistics_extended.git\r\n```\r\n\r\nDoing `pip install -r evennia/requirements.txt` forces it through. \r\n\r\nAfter commenting that line out post-manual-installation, the rest installs on a subsequent `pip install -e evennia`. There's something about this URL that setup does not like...\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2389", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2389/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2389/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2389/events", "html_url": "https://github.com/evennia/evennia/issues/2389", "id": 863282981, "node_id": "MDU6SXNzdWU4NjMyODI5ODE=", "number": 2389, "title": "[BUG] EvTable.add_row() does not obey valign keyword arg", "user": {"login": "Zhiroc", "id": 37159485, "node_id": "MDQ6VXNlcjM3MTU5NDg1", "avatar_url": "https://avatars.githubusercontent.com/u/37159485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zhiroc", "html_url": "https://github.com/Zhiroc", "followers_url": "https://api.github.com/users/Zhiroc/followers", "following_url": "https://api.github.com/users/Zhiroc/following{/other_user}", "gists_url": "https://api.github.com/users/Zhiroc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zhiroc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zhiroc/subscriptions", "organizations_url": "https://api.github.com/users/Zhiroc/orgs", "repos_url": "https://api.github.com/users/Zhiroc/repos", "events_url": "https://api.github.com/users/Zhiroc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zhiroc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-20T22:10:44Z", "updated_at": "2021-08-16T19:10:59Z", "closed_at": "2021-08-16T19:10:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAfter creating a table, and using table.add_row(..., valign='t'), the formatted table displays with default (centered) vertical alignment.\r\n\r\n#### To Reproduce\r\nExample code:\r\n```\r\ntable = EvTable(\"#\", \"Subject\", \"Type\", \"Discovered\", \"Tags\", maxwidth=70)\r\ntable.add_row(1, 'The fog', 'Secret', '2021-03-14', 'amber, fog, magic, pattern, sir tommy, stasis, trump, will, will o the wisp', valign='t')\r\n```\r\nDisplaying this will show the centered vertical alignment. Also, using a shell and inspecting the data:\r\n```\r\n>>> table.table[0].column[1]\r\n<EvCel [ANSIString('\\x1b[0m 1 \\x1b[0m', decoded=True)]>\r\n>>> table.table[0].column[1].valign\r\n'c'\r\n```\r\n\r\n#### Expected behavior\r\nAs the help for EvTable.add_row() states:\r\n```\r\n        Keyword Args:\r\n            Other keywords are as per `EvCell.__init__`.\r\n```\r\nAs valign is an EvCell option, it should be able to be specified here.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.5 (rev a07def36a)\r\n\r\n#### Additional context\r\nAs a workaround, you can use reformat_column() on each column to set them all to valign='t'.\r\n\r\nI believe the issue is with EvColumn.add_rows():\r\n```\r\n    def add_rows(self, *args, **kwargs):\r\n        ...\r\n        if ypos is None or ypos > len(self.column):\r\n            # add to the end\r\n            self.column.extend([EvCell(data, **self.options) for data in args])\r\n        else:\r\n            # insert cells before given index\r\n            ypos = min(len(self.column) - 1, max(0, int(ypos)))\r\n            new_cells = [EvCell(data, **self.options) for data in args]\r\n```\r\nThe `kwargs` parameter is not passed along to the EvCell constructor, which is why I believe the constructed cells are using the default valign.\r\n\r\nAs an aside, I would find it useful for valign to be a EvTable option, because if you want vertical alignment, you probably want it on all rows consistently (though perhaps not the header).\r\n\r\nA minor bug is that the EvCell `__repr__()` method misspells EvCell as `EvCel`\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2382", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2382/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2382/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2382/events", "html_url": "https://github.com/evennia/evennia/issues/2382", "id": 859683135, "node_id": "MDU6SXNzdWU4NTk2ODMxMzU=", "number": 2382, "title": "[BUG] `set/edit here` gives IndexError", "user": {"login": "Enfors", "id": 6192628, "node_id": "MDQ6VXNlcjYxOTI2Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/6192628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Enfors", "html_url": "https://github.com/Enfors", "followers_url": "https://api.github.com/users/Enfors/followers", "following_url": "https://api.github.com/users/Enfors/following{/other_user}", "gists_url": "https://api.github.com/users/Enfors/gists{/gist_id}", "starred_url": "https://api.github.com/users/Enfors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Enfors/subscriptions", "organizations_url": "https://api.github.com/users/Enfors/orgs", "repos_url": "https://api.github.com/users/Enfors/repos", "events_url": "https://api.github.com/users/Enfors/events{/privacy}", "received_events_url": "https://api.github.com/users/Enfors/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-16T10:23:36Z", "updated_at": "2021-08-16T19:32:34Z", "closed_at": "2021-08-16T19:31:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen attempting to use the editor to edit a room description from a MUD client (TinyFugue), I'm getting an IndexError when I press enter, and the editor doesn't start. The same thing seems to happen in all rooms I've tried it from, including my \"home\" room.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. set/edit here\r\nThis produces the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/enfors/devel/python/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/enfors/devel/python/evennia/evennia/commands/default/building.py\", line 1877, in func\r\n    self.edit_handler(obj, attrs[0])\r\nIndexError: list index out of range\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 21-04-16 10:15:42).\r\n```\r\n#### Expected behavior\r\nI was expecting the editor to start and to allow me to edit the room description.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia version: 0.9.5 (rev 251a70275)\r\nOS: posix\r\nPython: 3.7.5\r\nTwisted: 20.3.0\r\nDjango: 2.2.20\r\n```\r\n\r\n#### Additional context\r\nThis is running on Kubuntu GNU/Linux 20.04.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2378", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2378/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2378/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2378/events", "html_url": "https://github.com/evennia/evennia/issues/2378", "id": 855211647, "node_id": "MDU6SXNzdWU4NTUyMTE2NDc=", "number": 2378, "title": "[BUG] NAttributeHandler - `all()` method raises exception when objects are used as keys", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-11T03:54:37Z", "updated_at": "2021-08-16T19:36:08Z", "closed_at": "2021-08-16T19:36:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe NAttributeHandler `all()` method chokes when objects have been used as keys.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"./commands/command.py\", line 213, in func\r\n    for key, value in self.obj.nattributes.all(True):\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/attributes.py\", line 1130, in all\r\n    return [(key, value) for (key, value) in self._store.items() if not key.startswith(\"_\")]\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/attributes.py\", line 1130, in <listcomp>\r\n    return [(key, value) for (key, value) in self._store.items() if not key.startswith(\"_\")]\r\nAttributeError: 'Object' object has no attribute 'startswith'\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `key = self`\r\n2. `some_obj.nattributes.add(key, True)`\r\n3. `some_obj.nattributes.all()`\r\n4. See error\r\n\r\n#### Expected behavior\r\nJust cast keys to string before doing the `.startswith()` call.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2369", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2369/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2369/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2369/events", "html_url": "https://github.com/evennia/evennia/issues/2369", "id": 850048305, "node_id": "MDU6SXNzdWU4NTAwNDgzMDU=", "number": 2369, "title": "[BUG] Tag prototype syntax needs tweaking", "user": {"login": "fariparedes", "id": 20873000, "node_id": "MDQ6VXNlcjIwODczMDAw", "avatar_url": "https://avatars.githubusercontent.com/u/20873000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fariparedes", "html_url": "https://github.com/fariparedes", "followers_url": "https://api.github.com/users/fariparedes/followers", "following_url": "https://api.github.com/users/fariparedes/following{/other_user}", "gists_url": "https://api.github.com/users/fariparedes/gists{/gist_id}", "starred_url": "https://api.github.com/users/fariparedes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fariparedes/subscriptions", "organizations_url": "https://api.github.com/users/fariparedes/orgs", "repos_url": "https://api.github.com/users/fariparedes/repos", "events_url": "https://api.github.com/users/fariparedes/events{/privacy}", "received_events_url": "https://api.github.com/users/fariparedes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-04-05T03:51:55Z", "updated_at": "2021-08-17T18:09:26Z", "closed_at": "2021-08-17T18:09:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nErrors are thrown when the exact syntax for applying tags to module prototypes is not followed. Better parsing is needed.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add one of the following under a prototype dict in world.prototypes: `\"tags\": [(\"item\",)]` or `\"tags\": [(\"item\", \"category\")]`\r\n2. Restart Evennia\r\n3. Try to spawn the prototype\r\n4. See error\r\n\r\n#### Errors\r\nFor `[(\"item\",)]`:\r\n```\r\n  File \"c:\\evennia\\evennia\\prototypes\\spawner.py\", line 209, in <dictcomp>\r\n    new = {(tup[0], tup[1]): tup for tup in new_tags}\r\nIndexError: tuple index out of range\r\n```\r\n\r\nFor `[(\"item\",\"category\")]`:\r\n```\r\n  File \"c:\\evennia\\evennia\\prototypes\\spawner.py\", line 938, in spawn\r\n    for (tag, category, data) in val:\r\nValueError: not enough values to unpack (expected 3, got 2)\r\n```\r\n\r\n#### Expected behavior\r\nItem should be spawned with the desired tags.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.5 (rev 35940cc93)\r\nOS: Windows 10\r\nPython: 3.8.5\r\nTwisted: 20.3.0\r\nDjango: 2.2.19\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2369/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2368", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2368/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2368/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2368/events", "html_url": "https://github.com/evennia/evennia/issues/2368", "id": 849609685, "node_id": "MDU6SXNzdWU4NDk2MDk2ODU=", "number": 2368, "title": "[BUG] Website - Generic form does not display error messages", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-03T08:26:52Z", "updated_at": "2021-11-02T20:22:03Z", "closed_at": "2021-11-02T20:22:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe generic form template extends base.html and overwrites the body block.\r\n\r\nThe body block normally displays generic success/failure messages with the inclusion of messages.html, but it is overwritten in this case. Form errors are the only ones accounted for.\r\n\r\nhttps://github.com/evennia/evennia/blob/a07def36aa34d135803792c7afb00d1215a9bd35/evennia/web/website/templates/website/base.html#L32-L45\r\n\r\nThe form template does not read the messages from the queue. Because of that, they end up being drawn from the message queue and presented on unrelated pages, which is confusing.\r\n\r\nhttps://github.com/evennia/evennia/blob/a07def36aa34d135803792c7afb00d1215a9bd35/evennia/web/website/templates/website/generic_form.html#L1-L51\r\n\r\n#### Additional context\r\nEasy to fix. Just add `{% include 'website/messages.html' %}` to L17 of generic_form.html.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2366", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2366/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2366/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2366/events", "html_url": "https://github.com/evennia/evennia/issues/2366", "id": 848872685, "node_id": "MDU6SXNzdWU4NDg4NzI2ODU=", "number": 2366, "title": "[BUG] utils.delay() won't store in db attribute.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-04-02T00:28:41Z", "updated_at": "2021-04-06T19:39:37Z", "closed_at": "2021-04-06T19:39:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAttempting to store a delay() in object.db causes an infinite recursion error.\r\n```\r\n  File \"c:\\evennia\\evennia\\utils\\dbserialize.py\", line 587, in <listcomp>\r\n    return item.__class__([process_item(val) for val in item])\r\n  File \"C:\\evenv\\Lib\\site-packages\\twisted\\internet\\defer.py\", line 741, in send\r\n    result = getattr(self, 'result', _NO_RESULT)\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a utils.delay() and store it in a variable.\r\n2. Store that variable on a typeclassed object as an attribute.\r\n\r\n#### Expected behavior\r\nRecalling the delay from the attribute should allow the user to `.cancel()` it.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n         Evennia version: 0.9.5 (rev 35940cc93)\r\n         OS: nt\r\n         Python: 3.8.5\r\n         Twisted: 20.3.0\r\n         Django: 2.2.19\r\n\r\n         Licence https://opensource.org/licenses/BSD-3-Clause\r\n         Web http://www.evennia.com\r\n         Irc #evennia on irc.freenode.net:6667\r\n         Forum http://www.evennia.com/discussions\r\n         Maintainer (2010-)   Griatch (griatch AT gmail DOT com)\r\n         Maintainer (2006-10) Greg Taylor\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2364", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2364/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2364/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2364/events", "html_url": "https://github.com/evennia/evennia/issues/2364", "id": 847113675, "node_id": "MDU6SXNzdWU4NDcxMTM2NzU=", "number": 2364, "title": "[BUG] Spawner TypeError, '<' not supported between instances of 'NoneType' and 'str'", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-31T18:37:10Z", "updated_at": "2021-08-17T17:46:38Z", "closed_at": "2021-08-17T17:46:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWent to do a `spawn/update container` and it's crashing with a traceback:\r\n\r\n```\r\n21-03-31 18:24:26 [::] Traceback (most recent call last):\r\n21-03-31 18:24:26 [::]   File \"/home/ubuntu/workspace/evennia/evennia/commands/default/building.py\", line 3563, in _update_existing_objects\r\n21-03-31 18:24:26 [::]     prototype, objects=existing_objects\r\n21-03-31 18:24:26 [::]   File \"/home/ubuntu/workspace/evennia/evennia/prototypes/spawner.py\", line 647, in batch_update_objects_with_prototype\r\n21-03-31 18:24:26 [::]     diff, _ = prototype_diff_from_object(new_prototype, objects[0])\r\n21-03-31 18:24:26 [::]   File \"/home/ubuntu/workspace/evennia/evennia/prototypes/spawner.py\", line 528, in prototype_diff_from_object\r\n21-03-31 18:24:26 [::]     obj_prototype = prototype_from_object(obj)\r\n21-03-31 18:24:26 [::]   File \"/home/ubuntu/workspace/evennia/evennia/prototypes/spawner.py\", line 326, in prototype_from_object\r\n21-03-31 18:24:26 [::]     [(tag.db_key, tag.db_category, tag.db_data) for tag in obj.tags.all(return_objs=True)]\r\n21-03-31 18:24:26 [::] TypeError: '<' not supported between instances of 'NoneType' and 'str'\r\n```\r\n\r\n#### To Reproduce\r\nAt some point, I had defined tags with `None` set as the category and data, but the spawner adds a tag with the category `from_prototype`. The spawner attempts to sort the list of tags but since types have been mixed, it's failing to compare `None` to a `str`.\r\n```\r\n[('container', None, None), ('locker', 'from_prototype', None), ('locker', None, None)]\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2362", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2362/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2362/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2362/events", "html_url": "https://github.com/evennia/evennia/issues/2362", "id": 845534448, "node_id": "MDU6SXNzdWU4NDU1MzQ0NDg=", "number": 2362, "title": "[BUG] Exits without a destination are treated as Objects", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-03-31T00:30:58Z", "updated_at": "2021-10-07T23:09:04Z", "closed_at": "2021-10-07T23:09:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nExits that do not have a destination are treated as Objects in room descriptions and elsewhere.\r\n\r\n```\r\nLimbo(#2)\r\nWelcome to your new Evennia-based game! Visit http://www.evennia.com if you need\r\nhelp, want to contribute, report issues or just join the community.\r\nAs Account #1 you can create a demo/tutorial area with 'batchcommand tutorial_world.build'.\r\nExits: down(#7)\r\nYou see: an exit(#3)\r\n```\r\n\r\n(`down` was created using `tunnel`. `exit` was created from a prototype that did not specify a destination.)\r\n\r\n`#3` _is_ a child of `Exit`:\r\n\r\n```\r\nName/key: exit (#3)\r\nAliases: an exit(#3),one exit(#3)\r\nTypeclass: Exit (typeclasses.exits.Exit)\r\n```\r\n\r\nThis also impacts the `exits` property of Room objects:\r\n\r\n```\r\n>>> self.location.exits\r\n[down]\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2353", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2353/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2353/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2353/events", "html_url": "https://github.com/evennia/evennia/issues/2353", "id": 838563634, "node_id": "MDU6SXNzdWU4Mzg1NjM2MzQ=", "number": 2353, "title": "[BUG] Update the building commands to have less 'common' names", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-03-23T10:15:07Z", "updated_at": "2021-11-13T01:32:31Z", "closed_at": "2021-11-13T01:32:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bugs\r\n\r\nAfter the `@` became optional, there are builder commands like `open` and `lock` that regularly collide with commands that users may want to implement themselves (open/locking doors). \r\n\r\n#### To Reproduce\r\n- The `simpledoor` contrib uses an `open` command that collides with the builder `open` command.\r\n\r\n#### Expected behavior\r\n\r\nWhile we don't want to go back to `@`-prefixes, we can change the default builder commands to have less 'common' names.\r\n\r\n#### Additional context\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2353/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2351", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2351/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2351/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2351/events", "html_url": "https://github.com/evennia/evennia/issues/2351", "id": 838223817, "node_id": "MDU6SXNzdWU4MzgyMjM4MTc=", "number": 2351, "title": "[BUG] perm() lockstring for non-hierarchical permissions fails to allow Object permissions to pass", "user": {"login": "InspectorCaracal", "id": 51038201, "node_id": "MDQ6VXNlcjUxMDM4MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/51038201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InspectorCaracal", "html_url": "https://github.com/InspectorCaracal", "followers_url": "https://api.github.com/users/InspectorCaracal/followers", "following_url": "https://api.github.com/users/InspectorCaracal/following{/other_user}", "gists_url": "https://api.github.com/users/InspectorCaracal/gists{/gist_id}", "starred_url": "https://api.github.com/users/InspectorCaracal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InspectorCaracal/subscriptions", "organizations_url": "https://api.github.com/users/InspectorCaracal/orgs", "repos_url": "https://api.github.com/users/InspectorCaracal/repos", "events_url": "https://api.github.com/users/InspectorCaracal/events{/privacy}", "received_events_url": "https://api.github.com/users/InspectorCaracal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-23T00:43:16Z", "updated_at": "2021-08-07T07:32:56Z", "closed_at": "2021-08-07T07:32:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen I give a permission that _isn't_ in the hierarchy to a Character object and the character attempts to do anything locked to that permission, it fails. If I add the permission to the Account instead, it passes.\r\n\r\nI know that for hierarchical permissions it's intended behavior to use the Account permission level to avoid escalating via puppeting. However, my understanding is that non-hierarchical permissions should be checking the Account first and if the permission isn't found, checking the acting Object next. It's clearly not checking the Object next.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a test object and a non-superuser test character, e.g. \"TestCharacter\"\r\n2. Assign the \"test_perm\" permission to TestCharacter.\r\n3. Add a lock to the test object, e.g. \"get:perm(test_perm)\"\r\n4. Attempt to pass the lock with TestCharacter, e.g. get the test object.\r\n5. See error\r\n\r\n#### Expected behavior\r\nI expected TestCharacter, having the non-hierarchical permission \"test_perm\", to pass the lock and get the object.\r\n\r\n#### Environment, Evennia version, OS etc\r\nOutput of `evennia -v`\r\n\r\n    Evennia 0.9.5 (rev 8afa4ce02) (rev 8afa4ce02)\r\n    OS: posix\r\n    Python: 3.7.3\r\n    Twisted: 20.3.0\r\n    Django: 2.2.17\r\n\r\nMore specifically, the operating system is **Debian 10.7**\r\n\r\n#### Additional context\r\nI made sure to test this on a brand new cleanly-initialized game with no modifications to rule out any of my code causing the problem and confirmed that this happens.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2351/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2350", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2350/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2350/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2350/events", "html_url": "https://github.com/evennia/evennia/issues/2350", "id": 838153735, "node_id": "MDU6SXNzdWU4MzgxNTM3MzU=", "number": 2350, "title": "[BUG] Default `typeclass` command should not allow to change to typeclass meant for another table", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-22T22:24:11Z", "updated_at": "2021-08-06T21:45:02Z", "closed_at": "2021-08-06T21:45:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nThe default `typeclass` command will allow to set a typeclass from the wrong table of the object being modified. This leads to \r\nvery confusing and potentially disastrous errors sine the `#dbref` given to `typeclass` is always assumed to be that of an `ObjectDB`. It can require using `evennia dbshell` to resolve with direct SQL queries, which is not something we want users to regularly have to face ...\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `typeclass #<existing_ObjectDB_dbref> = typeclasses.accounts.Account`\r\n2. Errors appear. \r\n\r\n#### Expected behavior\r\n\r\nTrying to assign a typeclass from another table than the target should at the very least be forbidden. The `typeclass` \r\ncommand is also a bit confusing since one can argue it's logical that if you try to assign an Account typeclass, the `#dbref` \r\nyou provide would then search the `AccountDB` table.\r\n\r\nThere are a few possible solutions:\r\n- Simplest: The `typeclass` command should analyze the typeclass base and make sure it's an `ObjectDB`, fail otherwise. \r\n- More powerful: The `typeclass` should analyze the given typeclass-path and search `#dbrefs` from the matching table as that typeclass.\r\n\r\nEither way, we should also add some extra protection on the TypedObject model level to avoid it getting a Typeclass-path set to point to another table. There is never a case when a typeclass should be allowed to cross the Table boundary.\r\n\r\n#### Environment, Evennia version, OS etc\r\nMaster branch. \r\n\r\n#### Additional context\r\n\r\nThis appeared after a strange situation where user Fari would find an Account of another user in their inventory. The working hypothethis suggested by @TehomCD is that the ContentsHandler loads the object (by #dbref, using its `db_location`) but as it loads its Typeclass is initialized which changes its `__db_class__`, now making the thing in the inventory a full-fledged Account while in memory. Has not been able to reproduce this though.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2336", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2336/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2336/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2336/events", "html_url": "https://github.com/evennia/evennia/issues/2336", "id": 836275394, "node_id": "MDU6SXNzdWU4MzYyNzUzOTQ=", "number": 2336, "title": "[BUG] Django reports MySQL server has gone away (similar to #1376)", "user": {"login": "realkinetix", "id": 13442583, "node_id": "MDQ6VXNlcjEzNDQyNTgz", "avatar_url": "https://avatars.githubusercontent.com/u/13442583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/realkinetix", "html_url": "https://github.com/realkinetix", "followers_url": "https://api.github.com/users/realkinetix/followers", "following_url": "https://api.github.com/users/realkinetix/following{/other_user}", "gists_url": "https://api.github.com/users/realkinetix/gists{/gist_id}", "starred_url": "https://api.github.com/users/realkinetix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/realkinetix/subscriptions", "organizations_url": "https://api.github.com/users/realkinetix/orgs", "repos_url": "https://api.github.com/users/realkinetix/repos", "events_url": "https://api.github.com/users/realkinetix/events{/privacy}", "received_events_url": "https://api.github.com/users/realkinetix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-19T18:55:26Z", "updated_at": "2021-04-24T20:45:03Z", "closed_at": "2021-04-24T20:45:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a fairly recent and fresh install of Evennia 0.9.5, and it appears that old DB connection issues are still around.  If the server sits around for awhile, it stops functioning - opening up the webclient greets the user with \"The connection was closed or lost.\"\r\n\r\nEvennia's portal.log shows:\r\n```\r\n21-03-19 18:22:59  |Portal| Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/http.py\", line 1755, in dataReceived\r\n            finishCallback(data[contentLength:])\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/http.py\", line 2171, in _finishRequestBody\r\n            self.allContentReceived()\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/http.py\", line 2284, in allContentReceived\r\n            req.requestReceived(command, path, version)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/http.py\", line 946, in requestReceived\r\n            self.process()\r\n        --- <exception caught here> ---\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/server.py\", line 235, in process\r\n            self.render(resrc)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/server.py\", line 302, in render\r\n            body = resrc.render(self)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/twisted/web/resource.py\", line 265, in render\r\n            return m(request)\r\n          File \"/home/evennia/muddev/evennia/evennia/server/portal/webclient_ajax.py\", line 313, in render_POST\r\n            return self.mode_init(request)\r\n          File \"/home/evennia/muddev/evennia/evennia/server/portal/webclient_ajax.py\", line 207, in mode_init\r\n            uid = csession and csession.get(\"webclient_authenticated_uid\", False)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/contrib/sessions/backends/base.py\", line 65, in get\r\n            return self._session.get(key, default)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/contrib/sessions/backends/base.py\", line 194, in _get_session\r\n            self._session_cache = self.load()\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/contrib/sessions/backends/db.py\", line 43, in load\r\n            s = self._get_session_from_db()\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/contrib/sessions/backends/db.py\", line 34, in _get_session_from_db\r\n            expire_date__gt=timezone.now()\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/models/manager.py\", line 82, in manager_method\r\n            return getattr(self.get_queryset(), name)(*args, **kwargs)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/models/query.py\", line 402, in get\r\n            num = len(clone)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/models/query.py\", line 256, in __len__\r\n            self._fetch_all()\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/models/query.py\", line 1242, in _fetch_all\r\n            self._result_cache = list(self._iterable_class(self))\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/models/query.py\", line 55, in __iter__\r\n            results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/models/sql/compiler.py\", line 1142, in execute_sql\r\n            cursor.execute(sql, params)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/backends/utils.py\", line 67, in execute\r\n            return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/backends/utils.py\", line 76, in _execute_with_wrappers\r\n            return executor(sql, params, many, context)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\n            return self.cursor.execute(sql, params)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/utils.py\", line 89, in __exit__\r\n            raise dj_exc_value.with_traceback(traceback) from exc_value\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\n            return self.cursor.execute(sql, params)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/django/db/backends/mysql/base.py\", line 71, in execute\r\n            return self.cursor.execute(query, args)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/MySQLdb/cursors.py\", line 206, in execute\r\n            res = self._query(query)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/MySQLdb/cursors.py\", line 319, in _query\r\n            db.query(q)\r\n          File \"/home/evennia/muddev/evenv/lib/python3.7/site-packages/MySQLdb/connections.py\", line 259, in query\r\n            _mysql.connection.query(self, query)\r\n        django.db.utils.OperationalError: (2006, 'MySQL server has gone away')\r\n```\r\n\r\n#### Expected behavior\r\n\r\nIf nothing else, rather than bombing out I would hope the portal would re-establish a mysql connection.  The mysqld is there and waiting.\r\n\r\nAlso, evennia isn't handling restoring service very easily - an \"evennia restart\" doesn't resolve the situation - I have to \"evennia stop\" and \"evennia start\" to get the portal back properly.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\nevennia 0.9.5, commit 135e1ba14de4ed8b3dd5a26dc57ebbb79eebf99a from Feb. 27 \r\nmariadb 10.3.27 - wait_timeout is 28800\r\n\r\nI have tried \"CONN_MAX_AGE = 3600\" in mygame/server/conf/settings.py but it hasn't improved the issue.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2334", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2334/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2334/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2334/events", "html_url": "https://github.com/evennia/evennia/issues/2334", "id": 831302993, "node_id": "MDU6SXNzdWU4MzEzMDI5OTM=", "number": 2334, "title": "[BUG] Container.load_data() doesn't catch all import errors", "user": {"login": "TehFamine", "id": 5091791, "node_id": "MDQ6VXNlcjUwOTE3OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5091791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehFamine", "html_url": "https://github.com/TehFamine", "followers_url": "https://api.github.com/users/TehFamine/followers", "following_url": "https://api.github.com/users/TehFamine/following{/other_user}", "gists_url": "https://api.github.com/users/TehFamine/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehFamine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehFamine/subscriptions", "organizations_url": "https://api.github.com/users/TehFamine/orgs", "repos_url": "https://api.github.com/users/TehFamine/repos", "events_url": "https://api.github.com/users/TehFamine/events{/privacy}", "received_events_url": "https://api.github.com/users/TehFamine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-15T00:20:08Z", "updated_at": "2022-11-13T16:36:55Z", "closed_at": "2021-08-06T22:06:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nload_data(self) is called in def _load_script(self, key) within containers.py when loading GLOBAL_SCRIPTS. If there are any issues with your scripts when passing to GLOBAL_SCRIPTS via settings.py that is not apart of the ImportError exception in load_data(self), then loading of that script could fail without any correct feedback to the user or log.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Define a new Script object in typeclasses.scripts.py\r\n2. Mimic a circular import error between scripts.py and another py file.\r\n3. Define the script in GLOBAL_SCRIPT in your settings.py\r\n4. See error in the form of a KeyError of the script object\r\n\r\n#### Expected behavior\r\nI had a circular import issue with scripts.py and another py file. This caused _load_script() to return a KeyError of the script when defined in GLOBAL_SCRIPTS. The KeyError was because load_data() was not able to load the script file due to circular import issue. The exception was only an ImportError and thus, no feedback was sent to me until I added a broader exception to see what was causing load_data(self) to fail. I expected the behavior of load_data to tell me exactly what the exception was.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev b3ac55b58) (rev b3ac55b58)\r\n    OS: nt (Windows 10 64-bit)\r\n    Python: 3.8.6 (PipEnv)\r\n    Twisted: 20.3.0\r\n    Django: 2.2.19\r\n\r\n\r\n#### Additional context\r\nI would just put more exception catches in load_data(self) to catch more issues with scripts.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2333", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2333/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2333/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2333/events", "html_url": "https://github.com/evennia/evennia/issues/2333", "id": 831238906, "node_id": "MDU6SXNzdWU4MzEyMzg5MDY=", "number": 2333, "title": "[BUG] Django (default) in-memory cache hangs server on run_async functions", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-03-14T19:31:40Z", "updated_at": "2022-11-05T09:14:07Z", "closed_at": "2022-11-05T09:14:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe Django in-memory cache (`LocMemCache`) is supposed to be thread-safe, but hangs the server when accessed from a thread spawned by `run_async`.\r\n\r\n#### To Reproduce\r\nPseudocode:\r\n```\r\ndef do_stuff():\r\n    cache.set('foo','bar')\r\n    return cache.get('foo')\r\n\r\nclass CmdDoStuff(Command):\r\n    def func(self):\r\n        run_async(do_stuff)\r\n```\r\n\r\nThis problem does not seem to occur with disk-based caches. \r\n\r\nHave not tried with database-backed (though expect similar behavior if the server and cache share the same sqlite db).\r\n\r\n#### Expected behavior\r\n`LocMemCache` is presented as thread-safe. Twisted deferreds are supposedly \"threads\", not \"processes,\" so it should not hang under these conditions.\r\n\r\n#### Additional context\r\nHaving ported this particular cache class to other non-Django projects, I think the problem here is the method of locking being used by the cache. The file-based cache locks the file using some sort of custom Django file lock and works across async requests, but the in-memory one uses locks from the `threading` library which (I'm guessing) are not being acquired or released properly by child Twisted threads. \r\n\r\nhttps://github.com/django/django/blob/876dc0c1a7dbf569782eb64f62f339c1daeb75e0/django/core/cache/backends/locmem.py#L5-L29\r\n\r\nI have minimal grasp of parallel computing and no understanding of Twisted whatsoever, so have no idea where to even begin trying to \"prove\" this theory short of modifying the problematic class itself.\r\n\r\n* Implementing a custom LocMemCache that mirrors the parent but omits the lines pertaining to locks, then setting that as the default Django cache would likely solve the problem (the LocMemCache _without_ locks would look and operate very similar to the NDB handler).\r\n* Alternately, replacing the locks from `threading` with those from `multiprocessing` might work (have not tried).\r\n* If a subclass of `LocMemCache` implemented Evennia's custom pickle/unpickle methods as well, it would solve some other annoyances related to serialization.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2330", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2330/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2330/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2330/events", "html_url": "https://github.com/evennia/evennia/issues/2330", "id": 823828537, "node_id": "MDU6SXNzdWU4MjM4Mjg1Mzc=", "number": 2330, "title": "[BUG] Evennia.init() fails if COMMAND_DEFAULT_CLASS uses flat API", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-07T04:40:39Z", "updated_at": "2021-03-07T09:31:41Z", "closed_at": "2021-03-07T09:31:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn discord, Mysterin encountered a TypeError where she received a confusing traceback:\r\n```\r\nFile \"C:\\Users\\mysti\\Documents\\MudDev\\Mystavaria\\typeclasses\\accounts.py\", line 28, in <module>\r\n    class Account(DefaultAccount):\r\nTypeError: NoneType takes no arguments\r\n```\r\n\r\nIt seemed the source of this was a separate traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\mysti\\Documents\\MudDev\\evenv\\Scripts\\evennia_launcher.py\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"C:\\Users\\mysti\\Documents\\MudDev\\evennia\\bin\\windows\\evennia_launcher.py\", line 18, in <module>\r\n    main()\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\server\\evennia_launcher.py\", line 2209, in main\r\n    init_game_directory(CURRENT_DIR, check_db=True)\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\server\\evennia_launcher.py\", line 1746, in init_game_directory\r\n    check_database()\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\server\\evennia_launcher.py\", line 1449, in check_database\r\n    evennia._init()\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\__init__.py\", line 173, in _init\r\n    from .accounts.accounts import DefaultAccount\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\accounts\\accounts.py\", line 25, in <module>\r\n    from evennia.commands import cmdhandler\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 47, in <module>\r\n    from evennia.comms.channelhandler import CHANNELHANDLER\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\comms\\channelhandler.py\", line 38, in <module>\r\n    _COMMAND_DEFAULT_CLASS = class_from_module(settings.COMMAND_DEFAULT_CLASS)\r\n  File \"c:\\users\\mysti\\documents\\muddev\\evennia\\evennia\\utils\\utils.py\", line 1464, in class_from_module\r\n    mod = importlib.import_module(testpath, package=\"evennia\")\r\n  File \"c:\\program files\\python37\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"C:\\Users\\mysti\\Documents\\MudDev\\Mystavaria\\commands\\command.py\", line 14, in <module>\r\n    class Command(BaseCommand):\r\nTypeError: NoneType takes no arguments\r\n```\r\n\r\nThe tldr here is that `init` when importing the `DefaultAccount` imports cmdhandler, which imports `CHANNELHANDLER`, which fetches the default command class - which is in a user file which employed the flat API, and therefore `Command` (imported by her as `BaseCommand`) had not yet been populated by `_init`.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Call evennia.init() while `settings.COMMAND_DEFAULT_CLASS` points to a file with flat api\r\n2. See error\r\n\r\n#### Expected behavior\r\nI would expect the flat API to not break based on the default command class's imports.\r\n\r\n#### Additional context\r\nMaybe just moving the command imports above DefaultAccount might solve it? Changing cmdhandler to a local import in the `execute_cmd` method where it's used in `DefaultAccount` might be cleaner though, and break the cascading imports that caused the error.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2329", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2329/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2329/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2329/events", "html_url": "https://github.com/evennia/evennia/issues/2329", "id": 823714189, "node_id": "MDU6SXNzdWU4MjM3MTQxODk=", "number": 2329, "title": "[BUG] KeyError: 'prototype' when using protkey.", "user": {"login": "Skaapdev", "id": 52762341, "node_id": "MDQ6VXNlcjUyNzYyMzQx", "avatar_url": "https://avatars.githubusercontent.com/u/52762341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Skaapdev", "html_url": "https://github.com/Skaapdev", "followers_url": "https://api.github.com/users/Skaapdev/followers", "following_url": "https://api.github.com/users/Skaapdev/following{/other_user}", "gists_url": "https://api.github.com/users/Skaapdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/Skaapdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Skaapdev/subscriptions", "organizations_url": "https://api.github.com/users/Skaapdev/orgs", "repos_url": "https://api.github.com/users/Skaapdev/repos", "events_url": "https://api.github.com/users/Skaapdev/events{/privacy}", "received_events_url": "https://api.github.com/users/Skaapdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-06T18:29:17Z", "updated_at": "2022-02-05T21:53:11Z", "closed_at": "2022-02-05T21:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n#### To Reproduce\r\n`@spawn {\"prototype_key\": \"shaman\", \"key\":\"Orc shaman\", \"gender\": \"$choice(Male, Female)\", \"desc\": \"Orc $protkey(gender)\" }`\r\n\r\n#### Error\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/skaap//game/evennia/evennia/commands/cmdhandler.py\", line 647, in _run_command\r\n    _progressive_cmd_run(cmd, ret)\r\n  File \"/home/skaap//game/evennia/evennia/commands/cmdhandler.py\", line 226, in _progressive_cmd_run\r\n    value = next(generator)\r\n  File \"/home/skaap//game/evennia/evennia/commands/default/building.py\", line 3815, in func\r\n    for obj in spawner.spawn(prototype):\r\n  File \"/home/skaap//game/evennia/evennia/prototypes/spawner.py\", line 959, in spawn\r\n    attributes.append((attrname, init_spawn_value(value), category, locks))\r\n  File \"/home/skaap//game/evennia/evennia/prototypes/prototypes.py\", line 938, in init_spawn_value\r\n    result = protfunc_parser(value)\r\n  File \"/home/skaap//game/evennia/evennia/prototypes/prototypes.py\", line 761, in protfunc_parser\r\n    result = inlinefuncs.parse_inlinefunc(\r\n  File \"/home/skaap//game/evennia/evennia/utils/inlinefuncs.py\", line 505, in parse_inlinefunc\r\n    retval = \"\".join(_run_stack(item) for item in stack)\r\n  File \"/home/skaap//game/evennia/evennia/utils/inlinefuncs.py\", line 505, in <genexpr>\r\n    retval = \"\".join(_run_stack(item) for item in stack)\r\n  File \"/home/skaap//game/evennia/evennia/utils/inlinefuncs.py\", line 502, in _run_stack\r\n    retval = \"\" if strip else func(*args, **kwargs)\r\n  File \"/home/skaap//game/evennia/evennia/prototypes/protfuncs.py\", line 138, in protkey\r\n    prototype = kwargs[\"prototype\"]\r\nKeyError: 'prototype'\r\n\r\n```\r\n\r\n#### Expected behavior\r\n$protkey(gender) to assign Female / Male string to desc attribute.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nevennia -v\r\n    Evennia 0.9.5 (rev 4ba752ebd) (rev 4ba752ebd)\r\n    OS: posix\r\n    Python: 3.8.0\r\n    Twisted: 20.3.0\r\n    Django: 2.2.19\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2328", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2328/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2328/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2328/events", "html_url": "https://github.com/evennia/evennia/issues/2328", "id": 821732960, "node_id": "MDU6SXNzdWU4MjE3MzI5NjA=", "number": 2328, "title": "[BUG] ExitCmdSet appears to become 'stuck' on objects.", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-04T04:11:44Z", "updated_at": "2022-02-05T21:53:11Z", "closed_at": "2022-02-05T21:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAn object placed in a room with an Exit seems to maintain the ExitCmdSet on itself even after being moved to another location.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. dig/tel to a new room with no exits in it.\r\n2. create/drop an object.\r\n3. examine object (should be fine).\r\n4. get object.\r\n5. examine object (should still be fine).\r\n6. dig an exit to another room.\r\n7. drop object.\r\n8. examine object (should still be fine, shows ExitCmdSet on object).\r\n9. get object.\r\n10. examine object (the examine will break at this point).\r\n11. cmdsets object (this will show the ExitCmdSet still present on the object).\r\n\r\n#### Expected behavior\r\nI believe the intended behavior is for the ExitCmdSet to be removed from an object that is moved to a location with no Exits.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev 135e1ba14) (rev 135e1ba14)\r\n    OS: posix\r\n    Python: 3.9.1\r\n    Twisted: 20.3.0\r\n    Django: 2.2.16\r\n\r\n#### Additional context\r\nI first ran into this issue while working on my current project, but tested with a newly --init'd instance to ensure the issue was not introduced though my own code.\r\n\r\nThe traceback when the examine error occurs, displays the following:\r\n```\r\n21-03-03 19:49:26-08 Unhandled error in Deferred:\r\n21-03-03 19:49:26-08 Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"/home/awranthyr/muddev/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n            ret = cmd.func()\r\n          File \"/home/awranthyr/muddev/evennia/evennia/commands/default/building.py\", line 2739, in func\r\n            get_and_merge_cmdsets(\r\n          File \"/home/awranthyr/muddev/env39/lib/python3.9/site-packages/twisted/internet/defer.py\", line 321, in addCallback\r\n            return self.addCallbacks(callback, callbackArgs=args,\r\n          File \"/home/awranthyr/muddev/env39/lib/python3.9/site-packages/twisted/internet/defer.py\", line 311, in addCallbacks\r\n            self._runCallbacks()\r\n        --- <exception caught here> ---\r\n          File \"/home/awranthyr/muddev/env39/lib/python3.9/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\r\n            current.result = callback(current.result, *args, **kw)\r\n          File \"/home/awranthyr/muddev/evennia/evennia/commands/default/building.py\", line 2659, in get_cmdset_callback\r\n            self.msg(self.format_output(obj, cmdset).strip())\r\n          File \"/home/awranthyr/muddev/evennia/evennia/commands/default/building.py\", line 2548, in format_output\r\n            all_cmdsets = [(cmdset.key, cmdset) for cmdset in current_cmdset.merged_from]\r\n        builtins.AttributeError: 'NoneType' object has no attribute 'merged_from'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2323", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2323/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2323/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2323/events", "html_url": "https://github.com/evennia/evennia/issues/2323", "id": 813944608, "node_id": "MDU6SXNzdWU4MTM5NDQ2MDg=", "number": 2323, "title": "[BUG] Spawner - Attribute locks display as comma-separated", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-02-22T23:12:39Z", "updated_at": "2021-08-17T17:37:45Z", "closed_at": "2021-08-17T17:37:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen adding attributes via 4-tuples in a prototypes module (`('gender', 'neutral', None, 'attrread:true();attredit:self() or perm(Builders)'),`), the lockstring displays in the OLC as a bizarre comma-separated value:\r\n\r\n```\r\nattrs:\r\n level (category: None,  = 1\r\n gender (category: None,  = neutral\r\na, t, t, r, r, e, a, d, :, t, r, u, e, (, ), ;, a, t, t, r, e, d, i, t, :, s, e, l, f, (, ),  , o, r,  , p, e, r, m, (, B, u, i, l, d, e, r, s, )\r\n```\r\nThe locks are correctly added to the DB (as `attrread:true();attredit:self() or perm(Builders)`) so this appears to be a display issue within the OLC.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.5 (rev 4ba752e)\r\n         OS: posix\r\n         Python: 3.7.9\r\n         Twisted: 20.3.0\r\n         Django: 2.2.12", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2308", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2308/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2308/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2308/events", "html_url": "https://github.com/evennia/evennia/issues/2308", "id": 795359096, "node_id": "MDU6SXNzdWU3OTUzNTkwOTY=", "number": 2308, "title": "[BUG] Form fails to display tables correctly.", "user": {"login": "Defying00", "id": 65582797, "node_id": "MDQ6VXNlcjY1NTgyNzk3", "avatar_url": "https://avatars.githubusercontent.com/u/65582797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Defying00", "html_url": "https://github.com/Defying00", "followers_url": "https://api.github.com/users/Defying00/followers", "following_url": "https://api.github.com/users/Defying00/following{/other_user}", "gists_url": "https://api.github.com/users/Defying00/gists{/gist_id}", "starred_url": "https://api.github.com/users/Defying00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Defying00/subscriptions", "organizations_url": "https://api.github.com/users/Defying00/orgs", "repos_url": "https://api.github.com/users/Defying00/repos", "events_url": "https://api.github.com/users/Defying00/events{/privacy}", "received_events_url": "https://api.github.com/users/Defying00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-27T18:56:34Z", "updated_at": "2022-02-13T22:00:37Z", "closed_at": "2022-02-13T22:00:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nSeems like a problem with the form injection code. Two tables seem to fail to render together correctly\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n![table_code](https://user-images.githubusercontent.com/65582797/106039231-1ba39b80-6096-11eb-95a1-d08b02109071.jpg)\r\n\r\n\r\n![table_form](https://user-images.githubusercontent.com/65582797/106039409-53124800-6096-11eb-92be-40d590701dbc.jpg)\r\n\r\n![render_error](https://user-images.githubusercontent.com/65582797/106039472-64f3eb00-6096-11eb-9c21-71d01d76f400.jpg)\r\n\r\n\r\nIf you change the position of the 3 (the table label) then it changes the render output as well\r\n\r\n![form_label_diff](https://user-images.githubusercontent.com/65582797/106039596-86ed6d80-6096-11eb-842c-0e8a89a8f794.jpg)\r\n\r\n![new_form_render](https://user-images.githubusercontent.com/65582797/106039663-9bca0100-6096-11eb-8cd4-d74baf966d89.jpg)\r\n\r\n\r\n#### Expected behavior\r\nI guess expected behavior is for the tables and forms to display as intended, not overlay extra values.\r\n\r\n#### Environment, Evennia version, OS etc\r\nWindows 10\r\nCurrent release version (not dev version)\r\n\r\n\r\n\r\n#### Additional context\r\n(Replace with any other context about the problem, or ideas on how to solve.)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2307", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2307/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2307/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2307/events", "html_url": "https://github.com/evennia/evennia/issues/2307", "id": 793967138, "node_id": "MDU6SXNzdWU3OTM5NjcxMzg=", "number": 2307, "title": "[BUG] systemd service doesn't start the server", "user": {"login": "TwistedBlizzard", "id": 6956106, "node_id": "MDQ6VXNlcjY5NTYxMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/6956106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TwistedBlizzard", "html_url": "https://github.com/TwistedBlizzard", "followers_url": "https://api.github.com/users/TwistedBlizzard/followers", "following_url": "https://api.github.com/users/TwistedBlizzard/following{/other_user}", "gists_url": "https://api.github.com/users/TwistedBlizzard/gists{/gist_id}", "starred_url": "https://api.github.com/users/TwistedBlizzard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TwistedBlizzard/subscriptions", "organizations_url": "https://api.github.com/users/TwistedBlizzard/orgs", "repos_url": "https://api.github.com/users/TwistedBlizzard/repos", "events_url": "https://api.github.com/users/TwistedBlizzard/events{/privacy}", "received_events_url": "https://api.github.com/users/TwistedBlizzard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-26T06:17:03Z", "updated_at": "2021-04-06T19:28:36Z", "closed_at": "2021-04-06T19:28:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe Systemd .service file included with evennia doesn't start the service as it fails to find the twitd executable. The script then fails but the service continues running.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Copy the default service file from the evennia folder.\r\n2. Edit the file with the correct paths.\r\n3. Enable and start the service using systemctl.\r\n4. Service acts like it is running but it has crashed in the background.\r\n\r\n#### Expected behavior\r\nBoth the webserver and telnet server should be running under the service.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version 0.9.0 (rev 69fd31d4)\r\nOS is Ubuntu 20.04.1 running on Proxmox\r\nPython version 3.8.5\r\nTwisted version 19.10.0\r\nDjango version 2.2.17\r\n\r\n#### Additional context\r\nThis issue can be solved by adding the following line to the evennia.service file:\r\n`Environment=\"PATH=/path/to/evenv/bin\"`", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2305", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2305/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2305/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2305/events", "html_url": "https://github.com/evennia/evennia/issues/2305", "id": 787193093, "node_id": "MDU6SXNzdWU3ODcxOTMwOTM=", "number": 2305, "title": "[BUG] UnixCommand - Optional argument \"help\" labeled as \"hel\"", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-15T21:08:09Z", "updated_at": "2021-01-18T21:14:15Z", "closed_at": "2021-01-18T21:14:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\"Help\" is added as an optional argument to all UnixCommand children, but under the name \"hel\" instead of \"help.\"\r\n\r\nNot sure if this was intentional/designed not to conflict with something else, but confounded me for a while as to why the `hel` property kept getting added to the options namespace.\r\n\r\n```\r\nNamespace(attr=['name'], hel=None, quiet=False, what='date', where=('me', 'here'))\r\n```\r\n\r\n#### To Reproduce\r\nhttps://github.com/evennia/evennia/blob/574d7fbd4f65cae60c534fe592803057d452ed7b/evennia/contrib/unixcommand.py#L124-L127\r\n\r\n#### Expected behavior\r\nCorrect spelling.\r\n\r\n#### Additional context\r\nThis command class is woefully underrated and absolutely _insane_ in how flexible it is. Argparse is a little dense at first but I am moved to tears when I consider the number of hours I've wasted on parsing-related issues with the other classes.\r\n\r\nProps to @vincent-lg / @v-legoff for implementing it!", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2300", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2300/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2300/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2300/events", "html_url": "https://github.com/evennia/evennia/issues/2300", "id": 777160080, "node_id": "MDU6SXNzdWU3NzcxNjAwODA=", "number": 2300, "title": "[BUG] TelnetOOB encode_gmcp() cmdname formatting incompatible with Mudlet's Client.GUI command", "user": {"login": "eartsar", "id": 635192, "node_id": "MDQ6VXNlcjYzNTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/635192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eartsar", "html_url": "https://github.com/eartsar", "followers_url": "https://api.github.com/users/eartsar/followers", "following_url": "https://api.github.com/users/eartsar/following{/other_user}", "gists_url": "https://api.github.com/users/eartsar/gists{/gist_id}", "starred_url": "https://api.github.com/users/eartsar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eartsar/subscriptions", "organizations_url": "https://api.github.com/users/eartsar/orgs", "repos_url": "https://api.github.com/users/eartsar/repos", "events_url": "https://api.github.com/users/eartsar/events{/privacy}", "received_events_url": "https://api.github.com/users/eartsar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-31T23:47:36Z", "updated_at": "2022-02-05T21:53:11Z", "closed_at": "2022-02-05T21:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe Mudlet client supports customizing its user interface through GMCP commands. One in particular, `Client.GUI`, gives a directive for the client to download an `mpackage` file used for customizing the user interface. As of the latest version of the client, interpretation of this command seems to be case-sensitive.\r\n\r\n`TelnetOOB::encode_gmcp()` has extensive documentation on the formatting procedures put in place for adjusting the command name, presumably to enforce a standard. However, use of `str.capitalize()` makes it impossible to send `Client.GUI` verbatim, instead yielding `Client.Gui`. Perhaps this is not on Evennia to fix, but introducing a way to work around the issue would be idea, by either allowing a flag that turns off the auto-formatting of `cmdname`, or by adding to the `EVENNIA_TO_GMCP` mapping.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Send the necessary OOB command (however you'd like). For example: `obj.msg(Client_GUI=([], {'version': '1.0', 'url': '127.0.0.1:8080'}))` Feel free to change the URL to any mpackage.\r\n2. Connect to the server via Mudlet. Open up the debugger to see intepretation of the GMCP command.\r\n3. Trigger the OOB message, and nothing happens.\r\n\r\n#### Expected behavior\r\nMudlet should download the mpackage from the given URL, and apply it in its installed packages.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 0.9.5\r\n    OS: posix\r\n    Python: 3.9.1\r\n    Twisted: 20.3.0\r\n    Django: 2.2.17\r\n    ```\r\n\r\n#### Additional context\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2298", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2298/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2298/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2298/events", "html_url": "https://github.com/evennia/evennia/issues/2298", "id": 775632861, "node_id": "MDU6SXNzdWU3NzU2MzI4NjE=", "number": 2298, "title": "[BUG] SessionHandler - TypeError, 'set' object is not subscriptable", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-28T23:57:52Z", "updated_at": "2021-08-06T18:45:21Z", "closed_at": "2021-08-06T18:45:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nMinor bug involving passing a `set` as a kwarg to the `msg` method-- the `set` is correctly identified as an iterable, but is then presumed to be subscriptable in subsequent operations. \r\n\r\nhttps://github.com/evennia/evennia/blob/574d7fbd4f65cae60c534fe592803057d452ed7b/evennia/server/sessionhandler.py#L252-L262\r\n\r\nThis does not work on `set` objects.\r\n```\r\nself.msg(locks=set(keys))\r\n```\r\n\r\n```\r\n File \"/home/ubuntu/workspace/evennia/evennia/server/sessionhandler.py\", line 253, in clean_senddata\r\n    if isinstance(data[-1], dict):\r\nTypeError: 'set' object is not subscriptable\r\n```\r\n#### Expected behavior\r\nForce casting of `data` to `tuple` between L252 and L253?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2294", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2294/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2294/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2294/events", "html_url": "https://github.com/evennia/evennia/issues/2294", "id": 775131009, "node_id": "MDU6SXNzdWU3NzUxMzEwMDk=", "number": 2294, "title": "[BUG] DefaultObject.msg_contents() sends message to all the contents, including objects and exits", "user": {"login": "blackmonkey", "id": 3290783, "node_id": "MDQ6VXNlcjMyOTA3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/3290783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blackmonkey", "html_url": "https://github.com/blackmonkey", "followers_url": "https://api.github.com/users/blackmonkey/followers", "following_url": "https://api.github.com/users/blackmonkey/following{/other_user}", "gists_url": "https://api.github.com/users/blackmonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/blackmonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blackmonkey/subscriptions", "organizations_url": "https://api.github.com/users/blackmonkey/orgs", "repos_url": "https://api.github.com/users/blackmonkey/repos", "events_url": "https://api.github.com/users/blackmonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/blackmonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-12-27T23:57:26Z", "updated_at": "2020-12-30T02:21:12Z", "closed_at": "2020-12-28T20:10:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nDuring running my own test cases, I found that DefaultObject.msg_contents() sends the message to all the contents, including objects and exits. This is unreasonable. Normally, the message should be only sent to characters (NPC or PC). If we want a player to interact with objects or exits, we should define concrete commands instead of sending messages.\r\n\r\n#### Expected behavior\r\nIn default, DefaultObject.msg_contents() should only send messages to instances of DefaultCharacter and its subclass. If it is necessary to keep the current behavior, it is better to add a kwarg to shut it down.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev 50a667daa) (rev 50a667daa)\r\nOS: nt\r\nPython: 3.7.0\r\nTwisted: 19.10.0\r\nDjango: 2.2.13\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2294/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2290", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2290/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2290/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2290/events", "html_url": "https://github.com/evennia/evennia/issues/2290", "id": 773276969, "node_id": "MDU6SXNzdWU3NzMyNzY5Njk=", "number": 2290, "title": "[BUG] MuxCommand - lhslist/rhslist not consistently typed", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-22T21:56:45Z", "updated_at": "2021-01-18T21:09:32Z", "closed_at": "2021-01-18T21:09:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nDespite `lhslist` and `rhslist` both containing the operative word `list`, `MuxCommand.parse()` will instead store an empty `str` if no terms were provided.\r\n\r\n#### To Reproduce\r\nhttps://github.com/evennia/evennia/blob/574d7fbd4f65cae60c534fe592803057d452ed7b/evennia/commands/default/muxcommand.py#L177-L179\r\n\r\n#### Expected behavior\r\nThis really ought to always be a `list`. It leads to unpredictable behavior when trying to access elements by index.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.5 (rev 9d90b52) (rev 9d90b52)\r\n    OS: posix\r\n    Python: 3.7.9\r\n    Twisted: 20.3.0\r\n    Django: 2.2.12\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2290/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2287", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2287/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2287/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2287/events", "html_url": "https://github.com/evennia/evennia/issues/2287", "id": 766259759, "node_id": "MDU6SXNzdWU3NjYyNTk3NTk=", "number": 2287, "title": "[Documentation] Develop branch invading the 0.9.5 API", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700730365, "node_id": "MDU6TGFiZWw3MDA3MzAzNjU=", "url": "https://api.github.com/repos/evennia/evennia/labels/documentation", "name": "documentation", "color": "bfd4f2", "default": true, "description": "Issue with wiki or docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-14T10:28:42Z", "updated_at": "2021-02-27T19:25:37Z", "closed_at": "2021-02-27T19:25:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Documentation issue\r\nBoth the [API](https://www.evennia.com/docs/latest/api/evennia.objects.objects.html#evennia.objects.objects.DefaultObject.contents_get) and the [source](https://www.evennia.com/docs/latest/_modules/evennia/objects/objects.html#DefaultObject.contents_get) entries for `evennia.objects.objects.DefaultObject.contents_get()` method are showing the parameter `content_type`, despite that feature not yet existing in the master branch yet.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2287/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2265", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2265/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2265/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2265/events", "html_url": "https://github.com/evennia/evennia/issues/2265", "id": 756409446, "node_id": "MDU6SXNzdWU3NTY0MDk0NDY=", "number": 2265, "title": "[BUG] sdesc parsing in rpsystem contrib", "user": {"login": "alephate", "id": 72240438, "node_id": "MDQ6VXNlcjcyMjQwNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/72240438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alephate", "html_url": "https://github.com/alephate", "followers_url": "https://api.github.com/users/alephate/followers", "following_url": "https://api.github.com/users/alephate/following{/other_user}", "gists_url": "https://api.github.com/users/alephate/gists{/gist_id}", "starred_url": "https://api.github.com/users/alephate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alephate/subscriptions", "organizations_url": "https://api.github.com/users/alephate/orgs", "repos_url": "https://api.github.com/users/alephate/repos", "events_url": "https://api.github.com/users/alephate/events{/privacy}", "received_events_url": "https://api.github.com/users/alephate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-03T17:42:54Z", "updated_at": "2021-08-06T19:27:55Z", "closed_at": "2021-08-06T19:27:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nAn inordinate amount of lag (and at one point, a droplet server completely crashing) when sending contrib rpsystem emotes around objects that don't have sdescs and have a lot of aliases. This was predicted in the comments by the function: regex_tuple_from_key_alias\r\n\r\nRunning the profile on a clean evennia install also showed all the time going into this problem.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. install evennia with rpsystem contrib\r\n2. create a lot of objects and exits with lots of aliases\r\n3. perform emotes in that room\r\n4. See error\r\n\r\n#### Expected behavior\r\nContribRPObjects and base Evennia exits to work smoothly with the rpsystem.\r\n\r\n#### Environment, Evennia version, OS etc\r\n0.9.5\r\n#### Additional context\r\n\r\nThe ContribRPObject class doesn't have sdescs, so even when inherited from for created objects and exits, it doesn't solve the problem. I solved the problem in my own version of the rpsystem by adapting ContribRPObject to have sdescs like so:\r\n\r\nhttps://pastebin.com/qHuK6v51\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2263", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2263/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2263/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2263/events", "html_url": "https://github.com/evennia/evennia/issues/2263", "id": 754989612, "node_id": "MDU6SXNzdWU3NTQ5ODk2MTI=", "number": 2263, "title": "[BUG] TagHandler has() method not working.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-02T06:34:09Z", "updated_at": "2020-12-02T08:40:45Z", "closed_at": "2020-12-02T08:40:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nEvery time I use an if statement to check if an object has a tag,\r\n[Example Code](https://github.com/kovitikus/hecate/blob/1c662df00da19a2e6e4a8dad87e21dab33280465/world/general_mechanics.py#L150)\r\n```py\r\nif obj.tags.has('stackable'):\r\n```\r\nit gives me an error.\r\n`AttributeError: 'TagHandler' object has no attribute 'has'`\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add an if statement to check if an object has a tag.\r\n2. See error\r\n\r\n#### Expected behavior\r\nIt seemed to work before, after the TagHandler had the `has()` method added. But it sure as heck don't work now. This is the second attempt I've made in recent days to use the `has()` method and getting the same error.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev 9d90b5226) (rev 9d90b5226)\r\n    OS: nt\r\n    Python: 3.7.4\r\n    Twisted: 20.3.0\r\n    Django: 2.2.16\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2257", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2257/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2257/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2257/events", "html_url": "https://github.com/evennia/evennia/issues/2257", "id": 748051145, "node_id": "MDU6SXNzdWU3NDgwNTExNDU=", "number": 2257, "title": "[BUG] \"have connected within the last seven days\" is stuck at 4", "user": {"login": "dorianturba", "id": 9381120, "node_id": "MDQ6VXNlcjkzODExMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9381120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dorianturba", "html_url": "https://github.com/dorianturba", "followers_url": "https://api.github.com/users/dorianturba/followers", "following_url": "https://api.github.com/users/dorianturba/following{/other_user}", "gists_url": "https://api.github.com/users/dorianturba/gists{/gist_id}", "starred_url": "https://api.github.com/users/dorianturba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dorianturba/subscriptions", "organizations_url": "https://api.github.com/users/dorianturba/orgs", "repos_url": "https://api.github.com/users/dorianturba/repos", "events_url": "https://api.github.com/users/dorianturba/events{/privacy}", "received_events_url": "https://api.github.com/users/dorianturba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-11-21T16:24:32Z", "updated_at": "2022-02-05T21:53:10Z", "closed_at": "2022-02-05T21:53:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn the main page of the website https://demo.evennia.com/, the number of connected account in the last 7 days is always 4, in evdemo and mine too : http://www.terazur.online/\r\n![picture of the error:  \"and 4 have connected\"](https://user-images.githubusercontent.com/9381120/99882006-93c88d80-2c1d-11eb-862c-4c4ef17c74e6.png)\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an account on https://demo.evennia.com/webclient/,\r\n2. Connect the new account\r\n3. Reload the main page of https://demo.evennia.com/\r\n4. See error \"X have connected within the last seven days\". In my case, it is stuck at 4.\r\n\r\n#### Expected behavior\r\nShould change depending of the number of account connected in the last 7 days.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev 5f361fbd5) (rev 5f361fbd5)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.17", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2257/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2254", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2254/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2254/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2254/events", "html_url": "https://github.com/evennia/evennia/issues/2254", "id": 744758272, "node_id": "MDU6SXNzdWU3NDQ3NTgyNzI=", "number": 2254, "title": "[BUG] ANSI-to-html leading spaces in messages are not converted", "user": {"login": "friarzen", "id": 2245634, "node_id": "MDQ6VXNlcjIyNDU2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2245634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friarzen", "html_url": "https://github.com/friarzen", "followers_url": "https://api.github.com/users/friarzen/followers", "following_url": "https://api.github.com/users/friarzen/following{/other_user}", "gists_url": "https://api.github.com/users/friarzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/friarzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friarzen/subscriptions", "organizations_url": "https://api.github.com/users/friarzen/orgs", "repos_url": "https://api.github.com/users/friarzen/repos", "events_url": "https://api.github.com/users/friarzen/events{/privacy}", "received_events_url": "https://api.github.com/users/friarzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-17T13:54:45Z", "updated_at": "2021-05-31T07:47:16Z", "closed_at": "2021-05-31T07:47:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn the webclient ansi/html conversion, leading spaces in messages are not converted to `&nbsp;` anymore.\r\nThis can lead to alignment issues.\r\n\r\n#### To Reproduce\r\n@py self.msg(\" this string should be started with a non-breaking space\")\r\n\r\n#### Expected behavior\r\nAny leading/trailing whitespace on a message sent to the client should be converted to `&nbsp;`'s to force the browser to not ignore them.\r\n\r\n#### Environment, Evennia version, OS etc\r\nThis is new in 0.9.5\r\n\r\n#### Additional context\r\nThis is probably an edge case related to the other space/tab modifications that were made in 0.9.5.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2252", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2252/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2252/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2252/events", "html_url": "https://github.com/evennia/evennia/issues/2252", "id": 743060895, "node_id": "MDU6SXNzdWU3NDMwNjA4OTU=", "number": 2252, "title": "[BUG] Tutorial creation errors with MULTISESSION_MODE = 2", "user": {"login": "kcoram", "id": 2364291, "node_id": "MDQ6VXNlcjIzNjQyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2364291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kcoram", "html_url": "https://github.com/kcoram", "followers_url": "https://api.github.com/users/kcoram/followers", "following_url": "https://api.github.com/users/kcoram/following{/other_user}", "gists_url": "https://api.github.com/users/kcoram/gists{/gist_id}", "starred_url": "https://api.github.com/users/kcoram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kcoram/subscriptions", "organizations_url": "https://api.github.com/users/kcoram/orgs", "repos_url": "https://api.github.com/users/kcoram/repos", "events_url": "https://api.github.com/users/kcoram/events{/privacy}", "received_events_url": "https://api.github.com/users/kcoram/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-14T19:04:28Z", "updated_at": "2020-11-21T18:32:05Z", "closed_at": "2020-11-21T18:31:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nRunning 'batchcommand tutorial_world.build' in a new game world configured with MULTISESSION_MODE = 2 generates an unexpected stack trace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/kevin/Source/muddev/evennia/evennia/commands/cmdhandler.py\", line 640, in _run_command\r\n    yield cmd.parse()\r\n  File \"/home/kevin/Source/muddev/evennia/evennia/commands/default/muxcommand.py\", line 201, in parse\r\n    self.character = self.caller.get_puppet(self.session)\r\n  File \"/home/kevin/Source/muddev/evennia/evennia/accounts/accounts.py\", line 376, in get_puppet\r\n    return session.puppet\r\nAttributeError: 'NoneType' object has no attribute 'puppet'\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Generate a new world with `evennia --init mygame`\r\n2. cd mygame\r\n3. evennia migrate\r\n3. Update server/config/settings.py to add `MULTISESSION_MODE = 2` and `MAX_NR_CHARACTERS = 2`\r\n4. evennia start\r\n5. create super user account\r\n6. log into game as super user\r\n7. `ic Superuser` to puppet the character\r\n8. `batchcommand tutorial_world.build`\r\n9. Observe the stack trace\r\n\r\nDetails from the server.log file:\r\n\r\n```\r\n20-11-14 18:49:27 [::] Traceback (most recent call last):\r\n20-11-14 18:49:27 [::]   File \"/home/kevin/Source/muddev/evennia/evennia/commands/cmdhandler.py\", line 640, in _run_command\r\n20-11-14 18:49:27 [::]     yield cmd.parse()\r\n20-11-14 18:49:27 [::]   File \"/home/kevin/Source/muddev/evennia/evennia/commands/default/muxcommand.py\", line 201, in parse\r\n20-11-14 18:49:27 [::]     self.character = self.caller.get_puppet(self.session)\r\n20-11-14 18:49:27 [::]   File \"/home/kevin/Source/muddev/evennia/evennia/accounts/accounts.py\", line 376, in get_puppet\r\n20-11-14 18:49:27 [::]     return session.puppet\r\n20-11-14 18:49:27 [::] AttributeError: 'NoneType' object has no attribute 'puppet'\r\n20-11-14 18:49:27 [EE] User input was: 'unquell'.\r\n```\r\n\r\n#### Expected behavior\r\n\r\nRunning the `batchcommand tutorial_world.build` script should not generate stack traces. The problem does not happen with `\r\nMULTISESSION_MODE = 0`.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\nevennia -v:\r\n```\r\n    Evennia 0.9.5 (rev 5f361fbd5) (rev 5f361fbd5)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.17\r\n```\r\n\r\nOS: Ubuntu 20.04.1 LTS\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2252/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2250", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2250/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2250/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2250/events", "html_url": "https://github.com/evennia/evennia/issues/2250", "id": 738277431, "node_id": "MDU6SXNzdWU3MzgyNzc0MzE=", "number": 2250, "title": "[BUG] @ic crash in ooc (MULTISESSION_MODE = 3)", "user": {"login": "dorianturba", "id": 9381120, "node_id": "MDQ6VXNlcjkzODExMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9381120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dorianturba", "html_url": "https://github.com/dorianturba", "followers_url": "https://api.github.com/users/dorianturba/followers", "following_url": "https://api.github.com/users/dorianturba/following{/other_user}", "gists_url": "https://api.github.com/users/dorianturba/gists{/gist_id}", "starred_url": "https://api.github.com/users/dorianturba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dorianturba/subscriptions", "organizations_url": "https://api.github.com/users/dorianturba/orgs", "repos_url": "https://api.github.com/users/dorianturba/repos", "events_url": "https://api.github.com/users/dorianturba/events{/privacy}", "received_events_url": "https://api.github.com/users/dorianturba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-07T16:52:39Z", "updated_at": "2020-11-10T21:54:48Z", "closed_at": "2020-11-10T21:54:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen in MULTISESSION_MODE = 3 without any character created, the @ic command raise an error.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. MULTISESSION_MODE = 3\r\n2. Create and log on a new account\r\n3. @ic\r\n4. See error\r\n```\r\nTraceback (most recent call last):\r\n File \"<projectpath>\\evennia\\evennia\\commands\\default\\account.py\", line 367, in func\r\n   account.puppet_object(session, new_character)\r\n File \"<projectpath>\\evennia\\evennia\\accounts\\accounts.py\", line 273, in puppet_object\r\n   raise RuntimeError(\"Object not found\")\r\nRuntimeError: Object not found\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n File \"<projectpath>\\evennia\\evennia\\commands\\cmdhandler.py\", line 644, in _run_command\r\n   ret = cmd.func()\r\n File \"<projectpath>\\evennia\\evennia\\commands\\default\\account.py\", line 374, in func\r\n   self.msg(\"You cannot become %s: %s\" % (new_character.name, exc))\r\nAttributeError: 'NoneType' object has no attribute 'name'\r\n\r\nAn untrapped error occurred.\r\n```\r\n\r\n#### Expected behavior\r\nfrom line 308 of evennia\\evennia\\commands\\default\\account.py, it should print \"Usage: ic <character>\"\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.5 (rev d48e213ae) (rev d48e213ae)\r\n    OS: nt\r\n    Python: 3.8.1\r\n    Twisted: 20.3.0\r\n    Django: 2.2.17\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2250/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2246", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2246/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2246/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2246/events", "html_url": "https://github.com/evennia/evennia/issues/2246", "id": 733339406, "node_id": "MDU6SXNzdWU3MzMzMzk0MDY=", "number": 2246, "title": "[BUG]  `$obj()` protfun issue", "user": {"login": "secretofthesteel", "id": 16115539, "node_id": "MDQ6VXNlcjE2MTE1NTM5", "avatar_url": "https://avatars.githubusercontent.com/u/16115539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/secretofthesteel", "html_url": "https://github.com/secretofthesteel", "followers_url": "https://api.github.com/users/secretofthesteel/followers", "following_url": "https://api.github.com/users/secretofthesteel/following{/other_user}", "gists_url": "https://api.github.com/users/secretofthesteel/gists{/gist_id}", "starred_url": "https://api.github.com/users/secretofthesteel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/secretofthesteel/subscriptions", "organizations_url": "https://api.github.com/users/secretofthesteel/orgs", "repos_url": "https://api.github.com/users/secretofthesteel/repos", "events_url": "https://api.github.com/users/secretofthesteel/events{/privacy}", "received_events_url": "https://api.github.com/users/secretofthesteel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-30T16:47:30Z", "updated_at": "2020-11-10T23:43:50Z", "closed_at": "2020-11-10T23:43:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI cannot get correct #dbref using `$obj()` protfun\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create prototype (L1) object who should be placed inside another one (ffa1):\r\n\r\n`L1 = {\r\n    \"prototype_parent\": (\"LASER\", \"LASER_KLASA_1\"),\r\n    \"location\": \"$obj(ffa1)\",\r\n}`\r\n\r\n#### Error output / Expected result of feature\r\n\r\n`ValueError: Cannot assign \"'#141'\": \"ObjectDB.db_location\" must be a \"ObjectDB\" instance.`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nLinux 4.19.66-v7+ #1253 SMP Thu Aug 15 11:49:46 BST 2019 armv7l GNU/Linux\r\nPython 3.8.0", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2244", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2244/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2244/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2244/events", "html_url": "https://github.com/evennia/evennia/issues/2244", "id": 730892705, "node_id": "MDU6SXNzdWU3MzA4OTI3MDU=", "number": 2244, "title": "[BUG] Underline is not terminated properly in EvForm Webclient", "user": {"login": "PeaceBrigade", "id": 953298, "node_id": "MDQ6VXNlcjk1MzI5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/953298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PeaceBrigade", "html_url": "https://github.com/PeaceBrigade", "followers_url": "https://api.github.com/users/PeaceBrigade/followers", "following_url": "https://api.github.com/users/PeaceBrigade/following{/other_user}", "gists_url": "https://api.github.com/users/PeaceBrigade/gists{/gist_id}", "starred_url": "https://api.github.com/users/PeaceBrigade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PeaceBrigade/subscriptions", "organizations_url": "https://api.github.com/users/PeaceBrigade/orgs", "repos_url": "https://api.github.com/users/PeaceBrigade/repos", "events_url": "https://api.github.com/users/PeaceBrigade/events{/privacy}", "received_events_url": "https://api.github.com/users/PeaceBrigade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-27T22:17:45Z", "updated_at": "2022-06-04T11:16:40Z", "closed_at": "2022-06-04T11:16:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nWhen mapping into an EvForm on the webclient and using the text tag |u to start underlining, |n does not end it and return to normalized text.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an EvForm with something simple like xxxxxx1xxxxxx xxxxxx2xxxxxx\r\n2. Map values 1 and 2, including |u in the first map. Ex: \"|uUnderline|n\" and \"Not Underline\"\r\n3. The underline will not end in the displayed form in the webclient. (Have not tested other clients.) It will extend and keep the underline throughout the entirety of the rest of the form. (If color is used it will also taint the \"default color\" of the rest of the form. For example if you used \"|y|uUnderline|n\" all further text in the form not contained in text tags will be turned yellow.\r\n\r\n#### Expected behavior\r\n|n should remove all text formatting. (Theory is that some HTML tags in web client are not closed properly)\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.5 (rev d4053b3bc) (rev d4053b3bc)\r\nOS: posix\r\nPython: 3.7.5\r\nTwisted: 20.3.0\r\nDjango: 2.2.16\r\n\r\n#### Additional context\r\nNot sure how to solve, but I'm sure the complexity arises and is a problem of maybe not knowing what HTML tags are currently \"open\" beforehand to automatically close them with their counter-tag when using |n within.\r\n\r\nIt should be noted that in other areas like using SAY for example:\r\n\"|uUnderline|n Not Underline\r\nYields the expected result and properly terminates the Underline.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2241", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2241/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2241/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2241/events", "html_url": "https://github.com/evennia/evennia/issues/2241", "id": 729442680, "node_id": "MDU6SXNzdWU3Mjk0NDI2ODA=", "number": 2241, "title": "[BUG] Webclient fetches favico.js from broken CDN", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-26T10:29:47Z", "updated_at": "2020-11-01T11:15:23Z", "closed_at": "2020-11-01T11:15:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nUsers have reported errors from the webclient tryring to fetch the `favico.js` library with `<script src=\"https://cdn.rawgit.com/ejci/favico.js/master/favico-0.3.10.min.js\"`. Apparently that CDN is broken. \r\n\r\nThis should be verified and a better CDN picked.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2239", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2239/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2239/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2239/events", "html_url": "https://github.com/evennia/evennia/issues/2239", "id": 727488525, "node_id": "MDU6SXNzdWU3Mjc0ODg1MjU=", "number": 2239, "title": "[BUG] incorrect HTML generated for TAB characters in the webclient", "user": {"login": "friarzen", "id": 2245634, "node_id": "MDQ6VXNlcjIyNDU2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2245634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friarzen", "html_url": "https://github.com/friarzen", "followers_url": "https://api.github.com/users/friarzen/followers", "following_url": "https://api.github.com/users/friarzen/following{/other_user}", "gists_url": "https://api.github.com/users/friarzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/friarzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friarzen/subscriptions", "organizations_url": "https://api.github.com/users/friarzen/orgs", "repos_url": "https://api.github.com/users/friarzen/repos", "events_url": "https://api.github.com/users/friarzen/events{/privacy}", "received_events_url": "https://api.github.com/users/friarzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-22T15:20:57Z", "updated_at": "2020-11-01T18:10:34Z", "closed_at": "2020-11-01T18:10:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nWhen the server creates HTML for the webclient, |- and |> are not translated to expected output.\r\n\r\n\r\n#### To Reproduce\r\n\r\n@py self.msg(\"|-This should be indented.|>And this should be spaced out.\");\r\nprints:\r\nThis should be indented.|>And this should be spaced out.\r\n\r\n#### Expected behavior\r\nexpect output:\r\n`<div color=\"...\">&nbsp;&nbsp;&nbsp;&nbsp;This should be indented.<tab></tab>And this should be spaced out.</div>`\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9 latest.\r\n\r\n#### Additional context\r\nrelated to decisions from issue #1393 \r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2237", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2237/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2237/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2237/events", "html_url": "https://github.com/evennia/evennia/issues/2237", "id": 727004397, "node_id": "MDU6SXNzdWU3MjcwMDQzOTc=", "number": 2237, "title": "[BUG] Stop/Start of EvenniaWebServer4005 yields traceback/untrapped error", "user": {"login": "kinther", "id": 6426957, "node_id": "MDQ6VXNlcjY0MjY5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6426957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinther", "html_url": "https://github.com/kinther", "followers_url": "https://api.github.com/users/kinther/followers", "following_url": "https://api.github.com/users/kinther/following{/other_user}", "gists_url": "https://api.github.com/users/kinther/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinther/subscriptions", "organizations_url": "https://api.github.com/users/kinther/orgs", "repos_url": "https://api.github.com/users/kinther/repos", "events_url": "https://api.github.com/users/kinther/events{/privacy}", "received_events_url": "https://api.github.com/users/kinther/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-22T03:02:21Z", "updated_at": "2020-11-01T16:39:23Z", "closed_at": "2020-11-01T16:39:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nStopping the EvenniaWebServer4005 service, then starting again yields a traceback.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Fresh install of Evennia 0.9.5\r\n2. Login as account #1\r\n3. Issue service/stop EvenniaWebServer4005 (no error, only warning), then issue service/start EvenniaWebServer4005 to see traceback.\r\n4. Stop service again to see traceback, start service again to see traceback.\r\n\r\n#### Expected behavior\r\nTraceback does not occur when restarting EvenniaWebServer4005 service\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.5 (rev 417520dcd)\r\n         OS: posix\r\n         Python: 3.7.3\r\n         Twisted: 20.3.0\r\n         Django: 2.2.16\r\n\r\n#### Additional context\r\nRaspbian Buster operating system.  Followed step by step quickstart guide and was able to run through the tutorial world without any issues.  Only when looking over admin level commands and testing things out did I notice this.\r\n\r\nservice\r\n+------------------------------------------+---------+\r\n| Service (use services/start|stop|delete) | status  |\r\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+~~~~~~~~~+\r\n| ServerAMPClient                          | Running |\r\n| EvenniaWebServer4005                     | Running |\r\n+------------------------------------------+---------+\r\nservice/stop EvenniaWebServer4005\r\nYou seem to be shutting down a core Evennia service (named 'Evennia***'). Note thatstopping some TCP port services will *not* disconnect users *already*connected on those ports, but *may* instead cause spurious errors for them. To safely and permanently remove ports, change settings file and restart the server.\r\nStopped service 'EvenniaWebServer4005'.\r\n\r\n\r\nservice\r\n+------------------------------------------+-------------+\r\n| Service (use services/start|stop|delete) | status      |\r\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+~~~~~~~~~~~~~+\r\n| ServerAMPClient                          | Running     |\r\n| EvenniaWebServer4005                     | Not Running |\r\n+------------------------------------------+-------------+\r\nservice/start EvenniaWebServer4005\r\nStarting service 'EvenniaWebServer4005'.\r\nTraceback (most recent call last):\r\n  File \"/home/home/dev/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/home/dev/evennia/evennia/commands/default/system.py\", line 866, in func\r\n    service.startService()\r\n  File \"/home/home/dev/evennia/evennia/server/webserver.py\", line 280, in startService\r\n    self.pool.start()\r\n  File \"/home/home/dev/evenv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 157, in start\r\n    self.adjustPoolsize()\r\n  File \"/home/home/dev/evenv/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 310, in adjustPoolsize\r\n    self._team.grow(self.min - self.workers)\r\n  File \"/home/home/dev/evenv/lib/python3.7/site-packages/twisted/_threads/_team.py\", line 120, in grow\r\n    self._quit.check()\r\n  File \"/home/home/dev/evenv/lib/python3.7/site-packages/twisted/_threads/_convenience.py\", line 46, in check\r\n    raise AlreadyQuit()\r\ntwisted._threads._ithreads.AlreadyQuit\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 20-10-22 02:53:22).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2236", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2236/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2236/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2236/events", "html_url": "https://github.com/evennia/evennia/issues/2236", "id": 725022470, "node_id": "MDU6SXNzdWU3MjUwMjI0NzA=", "number": 2236, "title": "[BUG] Badly-formatted typeclass attributes involving `dicts` not being stored during construction", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-19T22:29:36Z", "updated_at": "2020-11-12T20:34:04Z", "closed_at": "2020-11-12T20:34:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI was trying to construct an object using an invalid Attribute tuple, which led to some unexpected and unpredictable behavior.\r\n\r\nWhen a bad tuple containing a `dict` object is passed as an Attribute to a typeclass constructor, no errors are raised and the value stored is serialized as either an empty `dict` or `None`.\r\n\r\nNot sure if any other classes are impacted; I noticed this on scripts in particular.\r\n\r\n#### To Reproduce\r\n```\r\nfrom evennia.utils.test_resources import EvenniaTest\r\nfrom evennia import DefaultScript\r\n\r\n\r\nclass AttributeSaverDictTest(EvenniaTest):\r\n    \r\n    def get_template(self):\r\n        return {'name': None, 'rank': None, 'serial': None}\r\n    \r\n    def test_broken(self):\r\n        blob = self.get_template()\r\n        script, e = DefaultScript.create(\r\n            'script1', \r\n            attributes=[\r\n                ('blob', blob, '', ''), # INCORRECT SYNTAX! Last item should be boolean\r\n            ]\r\n        )\r\n        self.assertTrue(script)\r\n        self.assertEqual(blob, script.db.blob)\r\n```\r\n\r\n#### Expected behavior\r\nRaise an error (ideally), or try to resolve the last value as `bool` and continue that way (should be `False` in my case).\r\n\r\nAs it stands I have no idea what this is being interpreted as.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.5 (rev 417520d) (rev 417520d)\r\n    OS: posix\r\n    Python: 3.7.9\r\n    Twisted: 20.3.0\r\n    Django: 2.2.12\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2235", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2235/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2235/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2235/events", "html_url": "https://github.com/evennia/evennia/issues/2235", "id": 723521003, "node_id": "MDU6SXNzdWU3MjM1MjEwMDM=", "number": 2235, "title": "[BUG] Passing a value between 0 and 1 to TICKERHANDLER causes KeyError: 'storekey'", "user": {"login": "pruuk", "id": 72707866, "node_id": "MDQ6VXNlcjcyNzA3ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/72707866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pruuk", "html_url": "https://github.com/pruuk", "followers_url": "https://api.github.com/users/pruuk/followers", "following_url": "https://api.github.com/users/pruuk/following{/other_user}", "gists_url": "https://api.github.com/users/pruuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/pruuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pruuk/subscriptions", "organizations_url": "https://api.github.com/users/pruuk/orgs", "repos_url": "https://api.github.com/users/pruuk/repos", "events_url": "https://api.github.com/users/pruuk/events{/privacy}", "received_events_url": "https://api.github.com/users/pruuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-16T20:45:00Z", "updated_at": "2020-11-12T21:01:32Z", "closed_at": "2020-11-12T21:01:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI'm trying to build a 'twitch' style combat system that uses the TICKERHANDLER to control when characters or mobs attack. The simplified system works fine up until you create a ticker with an interval less than 1 second. Example: Attempting to add a new ticker for .5 (I've also tried passing in 0.5) throws an KeyError.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. tickerhandler.add( <any value between 0 and 1>, <callback>, <etc>)\r\n2. See error\r\nTraceback (most recent call last):\r\n  File \"/home/calabedavis/muddev/evennia/evennia/commands/cmdhandler.py\", line 644, in _run_command\r\n    ret = cmd.func()\r\n  File \"./commands/command_characters.py\", line 144, in func\r\n    self.build_tickers(attacker, defender)\r\n  File \"./commands/command_characters.py\", line 157, in build_tickers\r\n    tickerhandler.add(interval=0.95, callback=attacker.at_attack_tick, idstring=ticker_id, persistent=False)\r\n  File \"/home/calabedavis/muddev/evennia/evennia/scripts/tickerhandler.py\", line 522, in add\r\n    self.ticker_pool.add(store_key, *args, **kwargs)\r\n  File \"/home/calabedavis/muddev/evennia/evennia/scripts/tickerhandler.py\", line 254, in add\r\n    log_err(_ERROR_ADD_TICKER.format(store_key=store_key))\r\nKeyError: 'storekey'\r\n\r\n#### Expected behavior\r\nTicker should be created with an interval less than 1 second.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.0 (rev ea6f245f5)\r\n         OS: posix\r\n         Python: 3.8.2\r\n         Twisted: 20.3.0\r\n         Django: 2.2.16\r\n\r\n#### Additional context\r\nI can use a workaround of creating multiple tickers for characters/NPCs that attack more than once per second, but I'd like to avoid that as a long term solution because it creates a lot of tickers.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2233", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2233/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2233/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2233/events", "html_url": "https://github.com/evennia/evennia/issues/2233", "id": 721566041, "node_id": "MDU6SXNzdWU3MjE1NjYwNDE=", "number": 2233, "title": "[BUG] Webclient doesn't save new text in textarea before switching to a history up/down event.", "user": {"login": "friarzen", "id": 2245634, "node_id": "MDQ6VXNlcjIyNDU2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2245634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friarzen", "html_url": "https://github.com/friarzen", "followers_url": "https://api.github.com/users/friarzen/followers", "following_url": "https://api.github.com/users/friarzen/following{/other_user}", "gists_url": "https://api.github.com/users/friarzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/friarzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friarzen/subscriptions", "organizations_url": "https://api.github.com/users/friarzen/orgs", "repos_url": "https://api.github.com/users/friarzen/repos", "events_url": "https://api.github.com/users/friarzen/events{/privacy}", "received_events_url": "https://api.github.com/users/friarzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-14T15:35:01Z", "updated_at": "2020-10-28T22:00:11Z", "closed_at": "2020-10-28T22:00:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nNew text in progress should be saved before processing history events.\r\n\r\n#### To Reproduce\r\n\r\nIf you type something into the input textarea and then hit shift+up/down-arrow, your text is lost.\r\n\r\n#### Expected behavior\r\nThe text should be stored and then if you shift+down-arrow back to the end of the history list, it should restore your work.\r\n\r\n#### Environment, Evennia version, OS etc\r\nlatest 0.9\r\n\r\n#### Additional context\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2232", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2232/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2232/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2232/events", "html_url": "https://github.com/evennia/evennia/issues/2232", "id": 721133931, "node_id": "MDU6SXNzdWU3MjExMzM5MzE=", "number": 2232, "title": "[BUG] typeclasses used for prototypes that reference dice unable to find default_cmds", "user": {"login": "RianeDev", "id": 42573189, "node_id": "MDQ6VXNlcjQyNTczMTg5", "avatar_url": "https://avatars.githubusercontent.com/u/42573189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RianeDev", "html_url": "https://github.com/RianeDev", "followers_url": "https://api.github.com/users/RianeDev/followers", "following_url": "https://api.github.com/users/RianeDev/following{/other_user}", "gists_url": "https://api.github.com/users/RianeDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/RianeDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RianeDev/subscriptions", "organizations_url": "https://api.github.com/users/RianeDev/orgs", "repos_url": "https://api.github.com/users/RianeDev/repos", "events_url": "https://api.github.com/users/RianeDev/events{/privacy}", "received_events_url": "https://api.github.com/users/RianeDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 76271429, "node_id": "MDU6TGFiZWw3NjI3MTQyOQ==", "url": "https://api.github.com/repos/evennia/evennia/labels/task", "name": "task", "color": "0052cc", "default": false, "description": "A bigger, more general work plan for a bigger issue."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-14T04:50:35Z", "updated_at": "2020-11-12T21:35:40Z", "closed_at": "2020-11-12T21:28:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen using a typeclass that imports/uses dice as a prototype for spawnable objects, evennia is unable to find 'default_cmds' in the evennia dice file.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create/edit a prototype file (I have `world.mob_prototypes_sithesia`)\r\n1.  Create a typeclass that uses dice (I have mobs.Cmob for example) and make so that it has `from evennia.contrib import dice`\r\n2. Create a prototype that inherits from this typeclass (I have `AGGRESSIVE_MOBS` with `\"typeclass\" : \"typeclasses.mobs.Cmob\"`\r\n3. Ensure `PROTOTYPE_MODULES += [\"world.mob_prototypes_sithesia\"]` is in settings.py, reload evennia.\r\n4. See error\r\n\r\n#### Expected behavior\r\nExpected to simply be able to spawn 'aggressive_mobs' member. Instead I get the below error:\r\n\r\n```\r\nFile \"...mygame\\world\\mob_prototypes_sithesia.py\", line 11, in <module>\r\n    from typeclasses.mobs import Cmob\r\n  File \"...mygame\\typeclasses\\mobs.py\", line 2, in <module>\r\n    from typeclasses.characters import Character\r\n  File \"...mygame\\typeclasses\\characters.py\", line 15, in <module>\r\n    from evennia.contrib import dice\r\n  File \"...mygame\\evennia\\evennia\\contrib\\dice.py\", line 125, in <module>\r\n    class CmdDice(default_cmds.MuxCommand):\r\nAttributeError: 'NoneType' object has no attribute 'MuxCommand'\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 51b93c588) (rev 51b93c588)\r\n    OS: nt\r\n    Python: 3.8.2\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n\r\n#### Additional context\r\nAlso tried this in just the generic 'prototypes.py' file rather than my custom file, same error.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2227", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2227/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2227/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2227/events", "html_url": "https://github.com/evennia/evennia/issues/2227", "id": 718932135, "node_id": "MDU6SXNzdWU3MTg5MzIxMzU=", "number": 2227, "title": "[BUG] Lockfuncs - Better handling of cases where `accessing_obj` is a Command instance", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-11T21:38:20Z", "updated_at": "2020-10-14T15:46:44Z", "closed_at": "2020-10-12T17:41:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n(Continuation of #1618; this really is starting to deviate from the scope of the original ticket.)\r\n\r\nA side-issue arose from my observation that locks are not being consistently checked on the appropriate object for quelled users-- in some cases the locks are checked using the instance of the Command as the `accessing_obj`, instead of the actual caller or Object.\r\n\r\nGiven the following container Object and some commands to enter and leave it, `Enter` will always work (albeit incorrectly, since you can recursively enter the same object) and `Exit` is never added to the usable cmdset:\r\n\r\n```\r\nclass CmdEnter(Command):\r\n    \r\n    key = 'enter'\r\n    locks = 'cmd:not inside()'\r\n    \r\n    def func(self):\r\n        self.msg(\"You enter.\")\r\n        self.caller.move_to(self.obj)\r\n    \r\nclass CmdExit(Command):\r\n    \r\n    key = 'exit'\r\n    locks = 'cmd:inside()'\r\n    \r\n    def func(self):\r\n        self.msg(\"You leave.\")\r\n        self.caller.move_to(self.obj.location)\r\n\r\nclass ContainerCmdSet(CmdSet):\r\n    \r\n    key = \"Container\"\r\n\r\n    def at_cmdset_creation(self):\r\n        self.add(CmdEnter())\r\n        self.add(CmdExit())\r\n\r\nclass Container(Object):\r\n    \r\n    def at_object_creation(self):\r\n        super().at_object_creation()\r\n        self.cmdset.add(ContainerCmdSet(), permanent=True)\r\n```\r\n\r\nErrors are raised in the log concerning the absence of a srcobj when the commands are invoked. Superusers simply bypass this and the lock-checking altogether.\r\n\r\n```\r\n20-10-06 23:27:08 [EE] objects.container#581: 'NoneType' object has no attribute 'access'\r\n20-10-06 23:27:10 [EE] objects.room#108: 'NoneType' object has no attribute 'access'\r\n```\r\n\r\nIn this case, the commands are being added to the usable command set based on whether `CmdExit` itself is inside the container-- instead of the caller.\r\n\r\nTo work around this, I redefined the `inside` lockfunc and added a check to look for delegate objects:\r\n\r\n```\r\ndef inside(accessing_obj, accessed_obj, *args, **kwargs):\r\n    \"\"\"\r\n    Usage:\r\n       inside()\r\n    Only true if accessing_obj is \"inside\" accessed_obj\r\n    \"\"\"\r\n    if inherits_from(accessed_obj, 'evennia.commands.command.Command'):\r\n        accessed_obj = getattr(accessed_obj, 'obj', accessed_obj)\r\n            \r\n    return accessing_obj.location == accessed_obj\r\n```\r\n\r\nAnd after looking at the code for other functions, other lockfuncs perform similar checks, though inconsistently:\r\n\r\nhttps://github.com/evennia/evennia/blob/ea6f245f56b9b2b3bed7b588dd83650a529f0efd/evennia/locks/lockfuncs.py#L515-L530\r\n\r\nhttps://github.com/evennia/evennia/blob/ea6f245f56b9b2b3bed7b588dd83650a529f0efd/evennia/locks/lockfuncs.py#L533-L544\r\n\r\nBoth functions deal with tag checking-- but notice that the check performed on L526-L527 is missing from the latter function (and most other functions as well).\r\n\r\n#### Expected behavior\r\nSeems like it would make more sense that all lockfuncs should check for `accessing_obj.obj` attribute by default and use that in place of `accessing_obj`. Trying to address this in every lockfunc currently implemented would leave all custom locks susceptible to the same bug.\r\n\r\n#### Additional context\r\nI think the best place to enforce this is here:\r\n\r\nhttps://github.com/evennia/evennia/blob/ea6f245f56b9b2b3bed7b588dd83650a529f0efd/evennia/locks/lockhandler.py#L573-L585\r\n\r\nPerhaps add a step that automatically replaces `accessing_obj` with `accessing_obj.obj` if available?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2223", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2223/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2223/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2223/events", "html_url": "https://github.com/evennia/evennia/issues/2223", "id": 718780673, "node_id": "MDU6SXNzdWU3MTg3ODA2NzM=", "number": 2223, "title": "[BUG] Reload resets the LOGIN_THROTTLE_LIMIT", "user": {"login": "TehFamine", "id": 5091791, "node_id": "MDQ6VXNlcjUwOTE3OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5091791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehFamine", "html_url": "https://github.com/TehFamine", "followers_url": "https://api.github.com/users/TehFamine/followers", "following_url": "https://api.github.com/users/TehFamine/following{/other_user}", "gists_url": "https://api.github.com/users/TehFamine/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehFamine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehFamine/subscriptions", "organizations_url": "https://api.github.com/users/TehFamine/orgs", "repos_url": "https://api.github.com/users/TehFamine/repos", "events_url": "https://api.github.com/users/TehFamine/events{/privacy}", "received_events_url": "https://api.github.com/users/TehFamine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-11T07:42:38Z", "updated_at": "2020-11-12T21:37:11Z", "closed_at": "2020-11-12T21:36:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI believe it's the login throttle limit, but whatever prevents a single connection (e.g.: same IP address) from creating more than a couple accounts can be circumvented by simply waiting for the MUD to reload. While this may seem silly, the point of the setting is to prevent a single IP from creating multiple accounts. Reloading seems to reset the count so if you restrict a single IP to only having 2 accounts, the reload means you can now create 4 of them.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create 2 accounts (think default throttle is 2)\r\n2. Wait for a game reload / force a crash\r\n3. Create 2 more accounts above the throttle\r\n4. See error\r\n\r\n#### Expected behavior\r\nWould expect the throttle to be persistent.\r\n\r\n#### Environment, Evennia version, OS etc\r\nIf unsure, run `evennia -v` or get the first few lines of the `about` command in-game.\r\n\r\n#### Additional context\r\nThis is not a huge issue, but still seems like a bug because you would expect the setting to be persistent across reloads.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2221", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2221/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2221/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2221/events", "html_url": "https://github.com/evennia/evennia/issues/2221", "id": 717763444, "node_id": "MDU6SXNzdWU3MTc3NjM0NDQ=", "number": 2221, "title": "[BUG] Commands in nested CmdSets losing reference to parent/owner object", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-09T00:39:31Z", "updated_at": "2020-11-12T22:27:27Z", "closed_at": "2020-11-12T22:27:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nCommands in multi-nested CmdSets seem to lose their reference to their \"parent\" object (`self.obj`) when merged.\r\n\r\n(Commands added to a single-level CmdSet work as expected.)\r\n\r\n#### To Reproduce\r\nGiven a setup like so:\r\n```\r\nclass Thing(Object):\r\n\r\n    def at_object_creation(self, *args, **kwargs):\r\n        super().at_object_creation(*args, **kwargs)\r\n        self.cmdset.add(ActionsCmdSet, permanent=True)\r\n\r\nclass CmdEquip(Command):\r\n    \r\n    key = 'equip'\r\n\r\n    def func(self):\r\n        self.msg(f\"You {self.cmdstring} {self.obj}.\")\r\n\r\nclass ClothingCmdSet(CmdSet):\r\n    \r\n    key = \"Clothing\"\r\n\r\n    def at_cmdset_creation(self):\r\n        self.add(CmdEquip)\r\n```\r\n\r\nOnly one of the following implementations works as expected.\r\n```\r\nclass ActionsCmdSet(CmdSet):\r\n    \"\"\"\r\n    This one works fine.\r\n    \"\"\"\r\n    key = \"Actions\"\r\n    \r\n    def at_cmdset_creation(self):\r\n        # This is part of the ClothingCmdSet\r\n        self.add(CmdEquip) \r\n        \r\n```\r\n\r\n```\r\nclass ActionsCmdSet(CmdSet):\r\n    \"\"\"\r\n    This one eventually fails most lockchecking and \r\n    there is no `self.obj` accessible at the time of `func`.\r\n    \"\"\"\r\n    key = \"Actions\"\r\n    \r\n    def at_cmdset_creation(self):\r\n        self.add(ClothingCmdSet)\r\n        \r\n```\r\n\r\nRelated stack trace:\r\n```\r\n20-10-09 00:23:47 Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/commands/cmdhandler.py\", line 631, in _run_command\r\n            ret = cmd.func()\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/commands/default/building.py\", line 2658, in func\r\n            ).addCallback(get_cmdset_callback)\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/twisted/internet/defer.py\", line 322, in addCallback\r\n            callbackKeywords=kw)\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/twisted/internet/defer.py\", line 311, in addCallbacks\r\n            self._runCallbacks()\r\n        --- <exception caught here> ---\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\r\n            current.result = callback(current.result, *args, **kw)\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/commands/default/building.py\", line 2581, in get_cmdset_callback\r\n            string = self.format_output(obj, cmdset)\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/commands/default/building.py\", line 2512, in format_output\r\n            avail_cmdset = sorted([cmd.key for cmd in avail_cmdset if cmd.access(obj, \"cmd\")])\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/commands/default/building.py\", line 2512, in <listcomp>\r\n            avail_cmdset = sorted([cmd.key for cmd in avail_cmdset if cmd.access(obj, \"cmd\")])\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/commands/command.py\", line 328, in access\r\n            return self.lockhandler.check(srcobj, access_type, default=default)\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/locks/lockhandler.py\", line 555, in check\r\n            bool(tup[0](accessing_obj, self.obj, *tup[1], **tup[2])) for tup in func_tup\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/locks/lockhandler.py\", line 555, in <genexpr>\r\n            bool(tup[0](accessing_obj, self.obj, *tup[1], **tup[2])) for tup in func_tup\r\n          File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/locks/lockfuncs.py\", line 633, in holds\r\n            return hasattr(accessed_obj, \"obj\") and check_holds(accessed_obj.obj.dbid)\r\n        builtins.AttributeError: 'NoneType' object has no attribute 'dbid'\r\n```\r\n\r\n#### Expected behavior\r\n`self.obj` should propagate to all child CmdSets when nested, no?\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0\r\n    OS: posix\r\n    Python: 3.7.9\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2214", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2214/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2214/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2214/events", "html_url": "https://github.com/evennia/evennia/issues/2214", "id": 715263369, "node_id": "MDU6SXNzdWU3MTUyNjMzNjk=", "number": 2214, "title": "[BUG] Enter a brief description here", "user": {"login": "friarzen", "id": 2245634, "node_id": "MDQ6VXNlcjIyNDU2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2245634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friarzen", "html_url": "https://github.com/friarzen", "followers_url": "https://api.github.com/users/friarzen/followers", "following_url": "https://api.github.com/users/friarzen/following{/other_user}", "gists_url": "https://api.github.com/users/friarzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/friarzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friarzen/subscriptions", "organizations_url": "https://api.github.com/users/friarzen/orgs", "repos_url": "https://api.github.com/users/friarzen/repos", "events_url": "https://api.github.com/users/friarzen/events{/privacy}", "received_events_url": "https://api.github.com/users/friarzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-06T01:09:06Z", "updated_at": "2020-10-06T07:42:20Z", "closed_at": "2020-10-06T07:42:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWEBSOCKET_CLIENT_INTERFACE listed in default_settings.py appears to be entirely ignored.\r\n\r\n#### To Reproduce\r\nset WEBSOCKET_CLIENT_INTERFACE = '127.0.0.1'  in settings.py\r\nrestart evennia\r\n\r\n\r\n#### Expected behavior\r\n\r\n    The startup text should show:\r\n        webclient-websocket-127.0.0.1: 4002\r\n\r\n    Instead you get:\r\n        webclient-websocket-0.0.0.0: 4002\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\n#### Additional context\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2209", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2209/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2209/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2209/events", "html_url": "https://github.com/evennia/evennia/issues/2209", "id": 713631948, "node_id": "MDU6SXNzdWU3MTM2MzE5NDg=", "number": 2209, "title": "[BUG] Unhandled Error", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-02T13:42:26Z", "updated_at": "2020-11-13T19:02:28Z", "closed_at": "2020-11-13T19:02:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nSometimes an \"unhandled error\" occurs where the cause of the occurrence is unknown.\r\nI've been trying to find the cause for months but couldn't find it.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Unknown cause\r\n<img width=\"907\" alt=\"\uc2a4\ud06c\ub9b0\uc0f7 2020-10-02 \uc624\ud6c4 10 33 04\" src=\"https://user-images.githubusercontent.com/3595071/94929370-fa73d980-04ff-11eb-9f92-615fdaebdb94.png\">\r\n \r\nI don't know if it's the same cause, but there are times when commands from newly connected users don't work until reloaded.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev bec7151b9) (rev bec7151b9)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.14\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2207", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2207/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2207/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2207/events", "html_url": "https://github.com/evennia/evennia/issues/2207", "id": 711064525, "node_id": "MDU6SXNzdWU3MTEwNjQ1MjU=", "number": 2207, "title": "Unexpected return when specifying say 3-box and no such third box exists", "user": {"login": "Neurrone", "id": 16471962, "node_id": "MDQ6VXNlcjE2NDcxOTYy", "avatar_url": "https://avatars.githubusercontent.com/u/16471962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Neurrone", "html_url": "https://github.com/Neurrone", "followers_url": "https://api.github.com/users/Neurrone/followers", "following_url": "https://api.github.com/users/Neurrone/following{/other_user}", "gists_url": "https://api.github.com/users/Neurrone/gists{/gist_id}", "starred_url": "https://api.github.com/users/Neurrone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Neurrone/subscriptions", "organizations_url": "https://api.github.com/users/Neurrone/orgs", "repos_url": "https://api.github.com/users/Neurrone/repos", "events_url": "https://api.github.com/users/Neurrone/events{/privacy}", "received_events_url": "https://api.github.com/users/Neurrone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-29T12:28:46Z", "updated_at": "2020-11-13T19:40:27Z", "closed_at": "2020-11-13T19:40:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nWhen there are multiple matches for a keyword, say 3-box but there are only 2 boxes available, addressing `3-box` should return that no such item was found.\r\n\r\n#### To Reproduce\r\n\r\n1. Create 2 boxes and drop both on the ground\r\n2. Type `l 3-box`\r\n\r\n#### Expected behavior\r\n\r\nAn error message stating that that item doesn't exist.\r\n\r\n#### Actual behavior\r\n\r\nA prompt asking me to select between the 2 boxes on the ground:\r\n\r\n```\r\nMore than one match for '3-box' (please narrow target):\r\n 1-box(#77) (carried)\r\n 2-box(#79) (carried)\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 running in Docker\r\n\r\n#### Context\r\n\r\nFrom Discord:\r\n\r\n```\r\n<Griatch> It's working as designed in that respect, but I can buy that it's less intuitive than it could be.\r\n<Griatch> The core parser is deliberately separate from the database in this regard, it only deals with doing parsing passes.\r\n<Griatch> The issue is that it cannot know how many objects to expect at that point in the parsing, so it can't know that 3- is too high a number.\r\n<Griatch> What it does is that it searches for something named exactly \"3-box\", then when it can't find it, it figures out that the \"3-\" is a way to separate multimatches, and tries with \"box\", for which it finds two matches.\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2207/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2206", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2206/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2206/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2206/events", "html_url": "https://github.com/evennia/evennia/issues/2206", "id": 711060296, "node_id": "MDU6SXNzdWU3MTEwNjAyOTY=", "number": 2206, "title": "Bug in the get command's handling of multiple item matches", "user": {"login": "Neurrone", "id": 16471962, "node_id": "MDQ6VXNlcjE2NDcxOTYy", "avatar_url": "https://avatars.githubusercontent.com/u/16471962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Neurrone", "html_url": "https://github.com/Neurrone", "followers_url": "https://api.github.com/users/Neurrone/followers", "following_url": "https://api.github.com/users/Neurrone/following{/other_user}", "gists_url": "https://api.github.com/users/Neurrone/gists{/gist_id}", "starred_url": "https://api.github.com/users/Neurrone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Neurrone/subscriptions", "organizations_url": "https://api.github.com/users/Neurrone/orgs", "repos_url": "https://api.github.com/users/Neurrone/repos", "events_url": "https://api.github.com/users/Neurrone/events{/privacy}", "received_events_url": "https://api.github.com/users/Neurrone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-29T12:23:43Z", "updated_at": "2020-11-13T20:03:56Z", "closed_at": "2020-11-13T20:03:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nWhen there are multiple matches for an item when using the get command, the get command is not behaving as expected\r\n\r\n#### To Reproduce\r\n\r\n1. Create 2 boxes and drop both on the ground\r\n2. Do `get 2-box` - this works as expected. Then execute the command again - `get 2-box`.\r\n\r\n#### Expected behavior\r\n\r\nThe second invocation of `get 2-box` should fail, because there is only one box left on the ground.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 running in Docker", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2205", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2205/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2205/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2205/events", "html_url": "https://github.com/evennia/evennia/issues/2205", "id": 709409243, "node_id": "MDU6SXNzdWU3MDk0MDkyNDM=", "number": 2205, "title": "[BUG] EvForm displays data incorrectly when multiple cells are on the same line", "user": {"login": "petriomelony", "id": 1066385, "node_id": "MDQ6VXNlcjEwNjYzODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1066385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petriomelony", "html_url": "https://github.com/petriomelony", "followers_url": "https://api.github.com/users/petriomelony/followers", "following_url": "https://api.github.com/users/petriomelony/following{/other_user}", "gists_url": "https://api.github.com/users/petriomelony/gists{/gist_id}", "starred_url": "https://api.github.com/users/petriomelony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petriomelony/subscriptions", "organizations_url": "https://api.github.com/users/petriomelony/orgs", "repos_url": "https://api.github.com/users/petriomelony/repos", "events_url": "https://api.github.com/users/petriomelony/events{/privacy}", "received_events_url": "https://api.github.com/users/petriomelony/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-26T03:01:48Z", "updated_at": "2020-10-26T20:50:34Z", "closed_at": "2020-10-26T20:50:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nEvForm does not display correctly when multiple form cells are defined on the same line.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\nThis test command can be used to recreate various form layouts and test them by printing to the user.  Must be added to a command set also.\r\n\r\n```\r\nfrom evennia.utils.evform import EvForm\r\n\r\nclass CmdFormDebug(Command):\r\n    \"\"\"\r\n    Test\r\n\r\n    Usage:\r\n      formdebug\r\n\r\n    \"\"\"\r\n    key = \"formdebug\"\r\n    locks = \"cmd:all()\"\r\n    help_category = \"debug\"\r\n    arg_regex = r\"\\s|$\"\r\n\r\n    def func(self):\r\n        caller = self.caller\r\n        self.args = self.args.strip()\r\n        argslist = self.args.lower().split()\r\n        cellsdict = {1:\"Apple\",2:\"Banana\",3:\"Citrus\",4:\"Durian\"}\r\n        formdict1 = {\"FORMCHAR\":'x',\"TABLECHAR\":'c',\r\n        \"FORM\":\"\"\"\r\nxxxx1xxxx\r\nxxxx2xxxx\r\nxxxx3xxxx\r\nxxxx4xxxx\r\n\"\"\"\r\n        }\r\n        formdict2 = {\"FORMCHAR\":'x',\"TABLECHAR\":'c',\r\n        \"FORM\":\"\"\"\r\nxxxx1xxxx  xxxx2xxxx\r\nxxxx3xxxx  xxxx4xxxx\r\n\"\"\"\r\n        }\r\n        formdict3 = {\"FORMCHAR\":'x',\"TABLECHAR\":'c',\r\n        \"FORM\":\"\"\"\r\nxxxx1xxxx  xxxx2xxxx  xxxx3xxxx\r\nxxxx4xxxx\r\n\"\"\"\r\n        }\r\n        form1 = EvForm(form=formdict1)\r\n        form2 = EvForm(form=formdict2)\r\n        form3 = EvForm(form=formdict3)\r\n        form1.map(cellsdict)\r\n        form2.map(cellsdict)\r\n        form3.map(cellsdict)\r\n        caller.msg(\"Stacked Form\")\r\n        caller.msg(form1)\r\n        caller.msg(\"Side-by-side 2 Column Form\")\r\n        caller.msg(form2)\r\n        caller.msg(\"Side-by-side 3 Column Form\")\r\n        caller.msg(form3)\r\n```\r\n1. Add above command to command.py\r\n2. Add the command in the default command set.\r\n3. Log into game and use \"formdebug\" command.\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe forms should show properly.  Instead they show:\r\n```\r\nStacked Form\r\nApple    \r\nBanana   \r\nCitrus   \r\nDurian   \r\n         \r\nSide-by-side 2 Column Form\r\n  xxxx2xxxxBanana   \r\n  xxxx4xxxxDurian   \r\n                    \r\nSide-by-side 3 Column Form\r\n  xxxx2xxxxxxCitrus   \r\nDurian              \r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.0 (rev f0e5cbca6)\r\nOS: nt\r\nPython: 3.7.4\r\nTwisted: 19.10.0\r\nDjango: 2.2.10\r\n\r\n#### Additional context\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2205/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2203", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2203/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2203/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2203/events", "html_url": "https://github.com/evennia/evennia/issues/2203", "id": 707850443, "node_id": "MDU6SXNzdWU3MDc4NTA0NDM=", "number": 2203, "title": "[BUG] Server won't start.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-09-24T04:48:45Z", "updated_at": "2021-05-13T22:05:09Z", "closed_at": "2020-09-24T11:15:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI pulled the most recent commits and nothing has changed on my project in about 2 weeks now, it ran fine the last time I had it up on September 18th, 2020 according to both my server and portal log. \r\n\r\nNow I try to boot it up and it just idles on `Portal starting ...` and then after awhile it says `Connection to Evennia timed out. Try again.` and nothing shows up in the portal or server log for today. \r\n\r\n I even tried to restart my computer, didn't help.\r\n\r\nhttps://i.imgur.com/Kx2oasI.png\r\n\r\nLink to my project's github: https://github.com/kovitikus/hecate\r\n\r\nGit shows there's no difference between my project folder and the code on Github. `git diff` shows nothing as well.\r\n\r\n```\r\nD:\\muddev\\hecate>git pull\r\nAlready up to date.\r\n```\r\n\r\n#### To Reproduce\r\n`evennia start`\r\n\r\n#### Expected behavior\r\nServer should start.\r\n\r\n#### Environment, Evennia version, OS etc\r\nMy original attempt after my `git pull` on the evennia folder showed this as my evennia version when using `evennia -v` in my hecate project folder while in my virtual environment.\r\n\r\n```\r\nEvennia 0.9.0 (rev f0e5cbca6) (rev f0e5cbca6)\r\n    OS: nt\r\n    Python: 3.7.4\r\n    Twisted: 19.2.1\r\n    Django: 2.2.9\r\n```\r\n\r\nAfterward, I attempted to do `git reset --hard head@{1}`\r\n\r\n```\r\nD:\\muddev\\evennia>git reflog\r\nd97e9b4e3 (HEAD -> master) HEAD@{0}: reset: moving to master@{1}\r\nf0e5cbca6 (origin/master, origin/HEAD) HEAD@{1}: pull: Fast-forward\r\nd97e9b4e3 (HEAD -> master) HEAD@{2}: pull: Fast-forward\r\na3b1a98bb HEAD@{3}: pull: Fast-forward\r\nf40ca6a73 HEAD@{4}: pull: Fast-forward\r\n46544805a HEAD@{5}: pull: Fast-forward\r\nd9667115f HEAD@{6}: pull: Fast-forward\r\n72ba38bdd HEAD@{7}: pull: Fast-forward\r\n8046f78b9 HEAD@{8}: pull: Fast-forward\r\nc3831ea09 HEAD@{9}: pull: Fast-forward\r\ndd13a3e2e HEAD@{10}: pull: Fast-forward\r\nf5917378d HEAD@{11}: pull: Fast-forward\r\n964929582 HEAD@{12}: pull: Fast-forward\r\n41365fdc0 HEAD@{13}: pull: Fast-forward\r\nd0b762775 HEAD@{14}: pull: Fast-forward\r\ncdb9e3290 HEAD@{15}: pull: Fast-forward\r\nde418b2a1 HEAD@{16}: pull: Fast-forward\r\nfceb7a985 HEAD@{17}: pull: Fast-forward\r\n1517bb654 HEAD@{18}: pull: Fast-forward\r\n0336003d0 HEAD@{19}: pull: Fast-forward\r\n4fefbc0dc HEAD@{20}: clone: from https://github.com/evennia/evennia.git\r\n```\r\n\r\nAfter this I did `git pull` again and now my original project `evennia -v` is showing:\r\n\r\n```\r\n    Evennia 0.9.0 (rev f0e5cbca6) (rev f0e5cbca6)\r\n    OS: nt\r\n    Python: 3.7.4\r\n    Twisted: 19.2.1\r\n    Django: 2.2.9\r\n```\r\nThis still did nothing to make the server start.\r\n\r\n#### Testing the bug\r\nI started a whole new folder, installed a fresh Evennia, virtual environment, and new project.\r\nEvennia started.\r\n```\r\n(evenv) D:\\testmud\\mygame>evennia stop\r\nServer stopping ...\r\n... Server stopped.\r\nStopping Portal ...\r\n... Portal stopped.\r\nEvennia shut down.\r\n\r\n(evenv) D:\\testmud\\mygame>evennia start\r\nPortal starting ...\r\n... Portal started.\r\nServer starting  ...\r\n... Server started.\r\nEvennia running.\r\n------------------------ Evennia ---\r\nmygame Portal 0.9.0 (rev f0e5cbca6)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nmygame Server 0.9.0 (rev f0e5cbca6)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n------------------------------------\r\n\r\n(evenv) D:\\testmud\\mygame>\r\n```\r\n\r\n***\r\n\r\nI then cloned my Hecate project into the `D:\\testmud` directory and went into my new Hecate folder and used `evennia migrate`.\r\n\r\nThe server successfully started.\r\n```\r\n(evenv) D:\\testmud\\hecate>evennia start\r\nsecret_settings.py file not found or failed to import.\r\nPortal starting ...\r\n... Portal started.\r\nServer starting  ...\r\n... Server started.\r\nEvennia running.\r\n------------------------ Evennia ---\r\nHecate Portal 0.9.0 (rev f0e5cbca6)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nHecate Server 0.9.0 (rev f0e5cbca6)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n------------------------------------\r\n```\r\n\r\nI logged in and tried to use some of my custom commands and they work.\r\nhttps://i.imgur.com/1Yre97R.png\r\n\r\n\r\nI didn't touch any of the files in the last 2 weeks and my server started just fine 6 days ago.\r\n\r\nI tried to delete both the server and portal log, but that didn't help. A new `portal.log` was created when I attempted to start the server again after deleting it.\r\n\r\n***\r\n\r\nI tried to copy over the `evennia.db3` to my new fresh Hecate clone and the server started just fine.\r\n\r\nhttps://i.imgur.com/oxOdJQq.png\r\n\r\n```\r\n(evenv) D:\\testmud\\hecate>evennia start\r\nsecret_settings.py file not found or failed to import.\r\nPortal starting ...\r\n... Portal started.\r\nServer starting  ...\r\n... Server started.\r\nEvennia running.\r\n------------------------ Evennia ---\r\nHecate Portal 0.9.0 (rev f0e5cbca6)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nHecate Server 0.9.0 (rev f0e5cbca6)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n------------------------------------\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2199", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2199/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2199/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2199/events", "html_url": "https://github.com/evennia/evennia/issues/2199", "id": 704890938, "node_id": "MDU6SXNzdWU3MDQ4OTA5Mzg=", "number": 2199, "title": "[BUG] `image`, `video` and `audio` outputfunc doesn't update tags in webclient", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-19T14:20:41Z", "updated_at": "2020-10-01T07:42:56Z", "closed_at": "2020-10-01T07:42:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nIn webclient, send a multimedia link to the webclient using e.g. the `video` or `audio` outputfunc - it starts playing but does not offer tagging to reroute to specific pane in the GUI. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n\r\n- `py self.msg(video=(\"https://www.scottbuckley.com.au/library/wp-content/uploads/2020/09/sb_electricdreams.mp3\", {\"type\": \"video-pane\"}))`\r\n- `py self.msg(audio=(\"https://www.scottbuckley.com.au/library/wp-content/uploads/2020/09/sb_electricdreams.mp3\", {\"type\": \"audio-pane\"}))`\r\n\r\nThe audio/video starts playing, but when looking in the tagging menu, there are no new entries for `video-pane` or `audio-pane`, so one cannot (easily) move such output to specific panes. \r\n\r\n#### Expected behavior\r\n\r\nIt would be expected to be able to reroute multimedia output (especially videos) to a specific pane. \r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\nMaster branch. \r\n\r\n#### Additional context\r\n\r\nNot sure if this is a regression or if the functionality was never implemented in the first place. :) @friarzen, do you remember? ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2197", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2197/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2197/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2197/events", "html_url": "https://github.com/evennia/evennia/issues/2197", "id": 703348595, "node_id": "MDU6SXNzdWU3MDMzNDg1OTU=", "number": 2197, "title": "[BUG] Issues with closing webclient", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-17T07:40:24Z", "updated_at": "2020-09-18T22:19:48Z", "closed_at": "2020-09-18T22:19:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nSeen in evdemo log\r\n```\r\n20-09-16 23:03:40  |Portal| Timing out client: IPv4Address(type='TCP', host='XX.XX.XX.XX', port=XXXXX)  \r\n(repeated 5 more times)\r\n```\r\nThis appears pretty regularly in the log when the webclient is concerned. It's not always an unclean shutdown.\r\n\r\nThis was attached to this, much more rare error (probably after a user timed out/closed their browser window uncleanly):\r\n\r\n```\r\n20-09-16 23:06:27  |Portal| [::] Traceback (most recent call last):                                                                                                           \r\n20-09-16 23:06:27  |Portal| [::]   File \"/root/evdemo/evennia/evennia/server/portal/portalsessionhandler.py\", line 454, in data_out                                           \r\n20-09-16 23:06:27  |Portal| [::]     getattr(session, funcname)(*cmdargs, **cmdkwargs)                                                                                        \r\n20-09-16 23:06:27  |Portal| [::]   File \"/root/evdemo/evennia/evennia/server/portal/webclient.py\", line 278, in send_text                                                     \r\n20-09-16 23:06:27  |Portal| [::]     self.sendLine(json.dumps([cmd, args, kwargs]))                                                                                           \r\n20-09-16 23:06:27  |Portal| [::]   File \"/root/evdemo/evennia/evennia/server/portal/webclient.py\", line 194, in sendLine                                                      \r\n20-09-16 23:06:27  |Portal| [::]     return self.sendMessage(line.encode())                                                                                                   \r\n20-09-16 23:06:27  |Portal| [::]   File \"/root/evdemo/vienv/lib/python3.8/site-packages/autobahn/websocket/protocol.py\", line 2216, in sendMessage                            \r\n20-09-16 23:06:27  |Portal| [::]     raise Disconnected(\"Attempt to send on a closed protocol\")                                                                               \r\n20-09-16 23:06:27  |Portal| [::] autobahn.exception.Disconnected: Attempt to send on a closed protocol\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n\r\n1. Unclear, but probably because of an unclean shutdown. The Timeout may possibly be benign (but should not log in that case). \r\n2. ...?\r\n3. See error\r\n\r\n#### Expected behavior\r\n\r\nWe should not have tracebacks from neither unclean browser-closing nor timeouts from the webclient. \r\n\r\n#### Environment, Evennia version, OS etc\r\nMaster branch \r\n\r\n#### Additional context\r\nThis requires more testing with the webclient. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2195", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2195/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2195/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2195/events", "html_url": "https://github.com/evennia/evennia/issues/2195", "id": 703058194, "node_id": "MDU6SXNzdWU3MDMwNTgxOTQ=", "number": 2195, "title": "[BUG] Prototypes: `prototype_tags` tuple yields 'TypeError: \"can only concatenate tuple (not \"list\") to tuple\"'", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-16T20:38:06Z", "updated_at": "2020-09-16T21:38:03Z", "closed_at": "2020-09-16T21:38:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nMore of an annoyance than a bug, but strange nonetheless.\r\n\r\nWhen defining prototypes at the module level:\r\n* The `prototype_tags` key seems to only accept values as a `list`.\r\n* The regular `tags` key will accept `tuple`, `list` and nested combinations thereof.\r\n\r\nIf a `tuple` is provided for `prototype_tags` anyway and the server is reloaded, a `TypeError` is yielded:\r\n\r\n```\r\nFile \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/prototypes/prototypes.py\", line 166, in <module>\r\n    \"prototype_tags\": list(set(make_iter(prot.get(\"prototype_tags\", [])) + [\"module\"])),\r\nTypeError: can only concatenate tuple (not \"list\") to tuple\r\n```\r\n\r\n...which makes this a strange issue because it looks like steps are taken to cast `prototype_tags` as a `set` and then `list` and then concatenated to another `list` (`[\"module\"]`). I don't know why any `tuples` are still part of the equation at this point.\r\n\r\n#### Expected behavior\r\nNot this.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0\r\n    OS: posix\r\n    Python: 3.7.9\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n```\r\n\r\n#### Additional context\r\nFailing prototype:\r\n```\r\nBOX = {\r\n    'prototype_desc': 'Container for storage of small items.',\r\n    'prototype_tags': (\r\n        'container', 'box'\r\n    ),\r\n    'key': 'container',\r\n    'desc': 'A boring container.',\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2194", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2194/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2194/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2194/events", "html_url": "https://github.com/evennia/evennia/issues/2194", "id": 700455278, "node_id": "MDU6SXNzdWU3MDA0NTUyNzg=", "number": 2194, "title": "[BUG] If the channel capacity exceeds 1M, it is not recorded.", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-13T02:06:57Z", "updated_at": "2020-11-13T22:00:33Z", "closed_at": "2020-11-13T21:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf the channel capacity exceeds 1M, it is not recorded.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. evennia --init mygame\r\n2. cd mygame\r\n3. evennia migrate\r\n4. evennia start -l\r\n5. <create #1 and login #1> \r\n6. pub hi\r\n7. shutdown\r\n8. cd server/logs\r\n9. (edit channel_Public.log) -> make file size 1MG\r\n10. evennia start -l\r\n11. <login #1 >\r\n12. pub hi\r\n13. <server log printing 20-09-13 01:53:17 [::] NoneType: None>\r\n<img width=\"592\" alt=\"\uc2a4\ud06c\ub9b0\uc0f7 2020-09-13 \uc624\uc804 10 59 58\" src=\"https://user-images.githubusercontent.com/3595071/93008495-45a96500-f5b0-11ea-8a95-46198d84b961.png\">\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 8046f78b9) (rev 8046f78b9)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.14\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2191", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2191/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2191/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2191/events", "html_url": "https://github.com/evennia/evennia/issues/2191", "id": 697597591, "node_id": "MDU6SXNzdWU2OTc1OTc1OTE=", "number": 2191, "title": "[BUG] More gracefully handle passing the wrong method type to TickerHandler", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-10T08:16:42Z", "updated_at": "2020-09-18T20:03:55Z", "closed_at": "2020-09-18T20:03:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nA user faced a server-level lockup when trying to pass a method on a normal Python object (rather than on a typeclass) to the TickerHandler. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a plain Python class with a method on it.\r\n2. Add the method to TickerHandler. \r\n3. See error about the `obj` not having Attribute `pk` (because it's not a typeclass). \r\n\r\n#### Expected behavior\r\n\r\nThe TickerHandler does not work with non-typeclass based methods. It should either be extended to do so or at least handle the error more gracefully, with a proper warning instead of a crash. \r\n\r\n#### Environment, Evennia version, OS etc\r\nMaster branch. \r\n\r\n#### Additional context\r\nThe reason for the typeclass restriction of the tickerhandler has to do with deserialization of the object; it's possible one could work around that; while the limitation is documented it's not surprising that users don't read and assume the tickerhandler to work with any type of python callable. \r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2190", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2190/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2190/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2190/events", "html_url": "https://github.com/evennia/evennia/issues/2190", "id": 696711903, "node_id": "MDU6SXNzdWU2OTY3MTE5MDM=", "number": 2190, "title": "[BUG] One of the ways to raise an unhandled error", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-09T10:57:02Z", "updated_at": "2020-09-16T21:38:02Z", "closed_at": "2020-09-16T21:38:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nOne of the ways to raise an unhandled error\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. evennia --init mygame\r\n2. #1 login\r\n3. create testitem\r\n4. del #3\r\n5. reload\r\n\r\nAn unhandled error occurred occasionally and the cause was traced.\r\nThe same problem occurs in my mud, and the same problem occurs even with a new game.\r\n\r\n<img width=\"812\" alt=\"\uc2a4\ud06c\ub9b0\uc0f7 2020-09-09 \uc624\ud6c4 7 45 59\" src=\"https://user-images.githubusercontent.com/3595071/92589267-4783d780-f2d5-11ea-9795-2300a57f2acb.png\">\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 8046f78b9) (rev 8046f78b9)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.14\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2189", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2189/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2189/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2189/events", "html_url": "https://github.com/evennia/evennia/issues/2189", "id": 694084829, "node_id": "MDU6SXNzdWU2OTQwODQ4Mjk=", "number": 2189, "title": "[BUG] Grapevine2Chan and IRCStatus commands not in default_cmds", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-05T13:18:57Z", "updated_at": "2020-09-05T21:34:15Z", "closed_at": "2020-09-05T21:34:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n`CmdGrapevine2Chan` and `CmdIRCStatus` appear to have been accidentally omitted from the declaration of `__all__` in comms.py.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. `import default_cmds`\r\n2. attempt to utilize `default_cmds.CmdGrapevine2Chan()` or `default_cmds.CmdIRCStatus()`\r\n3. Receive AttributeError\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev 03f66f1e6)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2187", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2187/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2187/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2187/events", "html_url": "https://github.com/evennia/evennia/issues/2187", "id": 688934120, "node_id": "MDU6SXNzdWU2ODg5MzQxMjA=", "number": 2187, "title": "[BUG] \"evennia --initsettings\" fails if there is an existing settings.py", "user": {"login": "j3b4", "id": 16110930, "node_id": "MDQ6VXNlcjE2MTEwOTMw", "avatar_url": "https://avatars.githubusercontent.com/u/16110930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j3b4", "html_url": "https://github.com/j3b4", "followers_url": "https://api.github.com/users/j3b4/followers", "following_url": "https://api.github.com/users/j3b4/following{/other_user}", "gists_url": "https://api.github.com/users/j3b4/gists{/gist_id}", "starred_url": "https://api.github.com/users/j3b4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j3b4/subscriptions", "organizations_url": "https://api.github.com/users/j3b4/orgs", "repos_url": "https://api.github.com/users/j3b4/repos", "events_url": "https://api.github.com/users/j3b4/events{/privacy}", "received_events_url": "https://api.github.com/users/j3b4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-31T06:12:02Z", "updated_at": "2020-09-01T18:35:26Z", "closed_at": "2020-09-01T18:35:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\"evennia --initsettings\" stops and asks if the user wants to reset the settings file. Choosing y, n, or simply pressing enter all cause a traceback.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. run \"evennia --initsettings\" in a game folder for a game that already has /server/conf/settings.py\r\n   \r\n    `/server/conf/settings.py already exists. Do you want to reset it? y/[N]>`\r\n\r\n2. enter 'y':\r\n3. See error:\r\n\r\n    `File \"<string>\", line 1, in <module>\r\n    NameError: name 'y' is not defined`\r\n\r\n4. repeat step 1 and enter 'n':\r\n5. See error:\r\n\r\n    `File \"<string>\", line 1, in <module>\r\n    NameError: name 'y' is not defined`\r\n\r\n6. repeat step 1 and press \"enter\":\r\n\r\n    `SyntaxError: unexpected EOF while parsing`\r\n\r\n7.  remove /server/conf/settings.py and run evennia --initsettings:\r\n    It works as expected:\r\n    \r\n    `(Re)created an empty settings file in server/conf/settings.py.`\r\n\r\n    `Note that if you were using an existing database, the password`\r\n    `salt of this new settings file will be different from the old one.`\r\n    `This means that any existing accounts may not be able to log in to`\r\n    `their accounts with their old passwords.`\r\n\r\n\r\n#### Expected behavior\r\nSee step 7. above.\r\n\r\n#### Environment, Evennia version, OS etc\r\n\r\n    Evennia 0.9.0 (rev c3831ea09) (rev c3831ea09)\r\n    OS: posix\r\n    Python: 3.8.0\r\n    Twisted: 20.3.0\r\n    Django: 2.2.15\r\n\r\n#### Additional context\r\nRunning \"evennia --initsettings\" is recommended in server/evennia_launcher.py:\r\n\r\n    If you are in a game directory but is missing a settings.py file,\r\n    it may be because you have git-cloned an existing game directory.\r\n    The settings.py file is not cloned by git (it's in .gitignore)\r\n    since it can contain sensitive and/or server-specific information.\r\n    You can create a new, empty settings file with\r\n        evennia --initsettings\r\n\r\nI think this information would be helpful as part of a tutorial for setting up a cloned version of a game directory as part of a small team project.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2185", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2185/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2185/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2185/events", "html_url": "https://github.com/evennia/evennia/issues/2185", "id": 688285243, "node_id": "MDU6SXNzdWU2ODgyODUyNDM=", "number": 2185, "title": "[BUG] Attributes - Default read lock inconsistently defined/applied", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-28T18:42:55Z", "updated_at": "2020-09-01T18:46:11Z", "closed_at": "2020-09-01T18:45:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe AttributeHandler defines a class-level lock governing reading of an attribute as `attrread`:\r\n\r\nhttps://github.com/evennia/evennia/blob/c3831ea09cfb55906bacccbe7421309c0f28b74d/evennia/typeclasses/attributes.py#L216-L224\r\n\r\nThe wiki also cites `attrread` as the intended read lock.\r\n\r\n...but the Attribute model's `access` method uses `read` as the default lock:\r\n\r\nhttps://github.com/evennia/evennia/blob/c3831ea09cfb55906bacccbe7421309c0f28b74d/evennia/typeclasses/attributes.py#L189-L193\r\n\r\n#### Expected behavior\r\nNot sure what to expect. I'm all for brevity, but it appears the popular convention is `attrread` over `read`, so I'm guessing the default lock on `access` should be `attrread` as well?\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0 (rev c3831ea0) (rev c3831ea0)\r\n    OS: posix\r\n    Python: 3.7.6\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2184", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2184/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2184/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2184/events", "html_url": "https://github.com/evennia/evennia/issues/2184", "id": 683636306, "node_id": "MDU6SXNzdWU2ODM2MzYzMDY=", "number": 2184, "title": "[BUG] Util.Delay and Yield don't work with Scripts", "user": {"login": "TehFamine", "id": 5091791, "node_id": "MDQ6VXNlcjUwOTE3OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5091791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehFamine", "html_url": "https://github.com/TehFamine", "followers_url": "https://api.github.com/users/TehFamine/followers", "following_url": "https://api.github.com/users/TehFamine/following{/other_user}", "gists_url": "https://api.github.com/users/TehFamine/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehFamine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehFamine/subscriptions", "organizations_url": "https://api.github.com/users/TehFamine/orgs", "repos_url": "https://api.github.com/users/TehFamine/repos", "events_url": "https://api.github.com/users/TehFamine/events{/privacy}", "received_events_url": "https://api.github.com/users/TehFamine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-21T15:18:57Z", "updated_at": "2020-08-25T20:58:13Z", "closed_at": "2020-08-25T20:58:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nDefaultScript object does not support util.delay or yield calls in at_repeat().\r\n\r\nYield will simply cause the script not to run. util.delay() will import and be executed fine, just without the delay. For example, util.delay(10, self.obj.msg(\"Test\")) will not delay the message of \"Test\" by 10 seconds. It will return the message at the interval of the script.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a test script\r\n2. Import util.delay(10, func()) or use yield 10\r\n3. Assign script to an object\r\n4. See error if Yield, see no delay if util.delay(10, func())\r\n\r\n#### Expected behavior\r\nShould delay beyond the interval of the script. For example, if the interval of the script is every 10 seconds and you set a delay of 5 seconds on a function call, then at the 10 second mark you should see nothing called until 5 seconds later.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 7c05c9ad) (rev 7c05c9ad)\r\n    OS: nt\r\n    Python: 3.7.4\r\n    Twisted: 19.10.0\r\n    Django: 2.2.14\r\n\r\n\r\n#### Additional context\r\nIn my scenario, I am creating a script to assign to a ship object that has crew members in the object.contents. The script is moving the crew objects between the decks of the ship. Each time they move, feedback messages are sent to the player controlling the ship. With a crew of 10 or more on the ship, the message spam can be a lot if they happen all at once. I want to delay the messages randomly to the player to spread them apart.\r\n\r\nI can obviously get around this by creating a script per crew type and assign those scripts to the crew. Then use something like restart(interval=None, repeats=None, start_delay=None) in the at_repeat() call to randomize the single crew objects actions. But, that means having 10 scripts running at once for 10-man crew of a ship versus 1 script per ship.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2183", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2183/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2183/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2183/events", "html_url": "https://github.com/evennia/evennia/issues/2183", "id": 676658228, "node_id": "MDU6SXNzdWU2NzY2NTgyMjg=", "number": 2183, "title": "[BUG] Wrong plural tag", "user": {"login": "blackmonkey", "id": 3290783, "node_id": "MDQ6VXNlcjMyOTA3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/3290783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blackmonkey", "html_url": "https://github.com/blackmonkey", "followers_url": "https://api.github.com/users/blackmonkey/followers", "following_url": "https://api.github.com/users/blackmonkey/following{/other_user}", "gists_url": "https://api.github.com/users/blackmonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/blackmonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blackmonkey/subscriptions", "organizations_url": "https://api.github.com/users/blackmonkey/orgs", "repos_url": "https://api.github.com/users/blackmonkey/repos", "events_url": "https://api.github.com/users/blackmonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/blackmonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-11T07:44:33Z", "updated_at": "2020-09-01T17:11:09Z", "closed_at": "2020-09-01T17:10:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI found incorrect plural_key alias tag was added to my customize object:\r\n```python\r\nclass EntryKey(Object):\r\n    pass\r\n```\r\nAnd these plural_key aliases were found in admin page: \"one keys\", \"a key\"\r\nAs you can see, there is syntax error in \"one keys\".\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a batch building script, and do the following things in it:\r\n   1. dig a room\r\n   2. teleport to that room\r\n   3. create and drop an EntryKey instance with db_key \"key\"\r\n2. Execute the build script\r\n3. Check EntryKey instance attributes in admin page.\r\n4. You will see the incorrect plural_key alias tag.\r\n\r\n#### Expected behavior\r\n\"one keys\" should be \"one key\" instead.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev 9ab8ef68e) (rev 9ab8ef68e)\r\nOS: nt\r\nPython: 3.7.0\r\nTwisted: 19.10.0\r\nDjango: 2.2.13\r\n\r\n#### Additional context\r\nI found the incorrect plural_key alias tag is generated here:\r\nhttps://github.com/evennia/evennia/blob/c3831ea09cfb55906bacccbe7421309c0f28b74d/evennia/objects/objects.py#L345\r\nI don't understand why hardcode the count as 2 here.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2182", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2182/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2182/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2182/events", "html_url": "https://github.com/evennia/evennia/issues/2182", "id": 676522123, "node_id": "MDU6SXNzdWU2NzY1MjIxMjM=", "number": 2182, "title": "[BUG] The time of MudInfo is not affected by the timezone.", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-11T01:58:42Z", "updated_at": "2020-09-01T20:37:34Z", "closed_at": "2020-09-01T20:37:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nA clear and concise description of what the bug is.\r\n<img width=\"472\" alt=\"\uc2a4\ud06c\ub9b0\uc0f7 2020-08-11 \uc624\uc804 10 53 01\" src=\"https://user-images.githubusercontent.com/3595071/89848408-21c5be80-dbc1-11ea-9620-03a544aadbd8.png\">\r\n\r\nThe time zone is reflected in server time, but not in mudinfo.\r\n\r\n#settings.py\r\nTIME_ZONE = 'Asia/Seoul'\r\nUSE_TZ = True\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 343d93d50) (rev 343d93d50)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.14\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2181", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2181/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2181/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2181/events", "html_url": "https://github.com/evennia/evennia/issues/2181", "id": 675566412, "node_id": "MDU6SXNzdWU2NzU1NjY0MTI=", "number": 2181, "title": "[BUG] Unicode characters not supported by base OS X are used in web client tabs", "user": {"login": "luciensadi", "id": 28811446, "node_id": "MDQ6VXNlcjI4ODExNDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/28811446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luciensadi", "html_url": "https://github.com/luciensadi", "followers_url": "https://api.github.com/users/luciensadi/followers", "following_url": "https://api.github.com/users/luciensadi/following{/other_user}", "gists_url": "https://api.github.com/users/luciensadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/luciensadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luciensadi/subscriptions", "organizations_url": "https://api.github.com/users/luciensadi/orgs", "repos_url": "https://api.github.com/users/luciensadi/repos", "events_url": "https://api.github.com/users/luciensadi/events{/privacy}", "received_events_url": "https://api.github.com/users/luciensadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-08T18:17:35Z", "updated_at": "2022-10-06T21:37:21Z", "closed_at": "2022-10-06T21:37:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nOn Mac OS X, the web client's usage of these character codes is unsupported:\r\n\r\n```\r\n./evennia/web/webclient/static/webclient/js/plugins/goldenlayout.js:287:        let renameDropdownControl = $(\"<span class='lm_title' style='font-size: 1.5em;width: 0.5em;'>&#129170;</span>\");\r\n./evennia/web/webclient/static/webclient/js/plugins/goldenlayout.js:288:        let typeDropdownControl   = $(\"<span class='lm_title' style='font-size: 1.0em;width: 1em;'>&#11201;</span>\");\r\n./evennia/web/webclient/static/webclient/js/plugins/goldenlayout.js:289:        let updateDropdownControl = $(\"<span class='lm_title' style='font-size: 1.0em;width: 1em;'>&#11208;</span>\");\r\n```\r\n\r\nInstead of displaying as actual characters, they display as number-boxes in Firefox and empty-boxes in Chrome.\r\n\r\n![erroneous display in Firefox](https://user-images.githubusercontent.com/28811446/89717159-90f4a600-d968-11ea-99e6-4fefe995d70e.png)\r\n![erroneous display in Chrome](https://user-images.githubusercontent.com/28811446/89717162-96ea8700-d968-11ea-8caf-e799eed48e5c.png)\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Open the webclient on OS X.\r\n\r\n#### Expected behavior\r\nSupported characters should be used. I'm not sure what the expected display is, so I can't offer any suggestions at this time.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 0.9.0 (rev c3831ea09) (rev c3831ea09)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.15\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2179", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2179/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2179/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2179/events", "html_url": "https://github.com/evennia/evennia/issues/2179", "id": 673923046, "node_id": "MDU6SXNzdWU2NzM5MjMwNDY=", "number": 2179, "title": "[Documentation] What does calling `yield` within a command do to the state of the command?", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700730365, "node_id": "MDU6TGFiZWw3MDA3MzAzNjU=", "url": "https://api.github.com/repos/evennia/evennia/labels/documentation", "name": "documentation", "color": "bfd4f2", "default": true, "description": "Issue with wiki or docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-06T00:07:16Z", "updated_at": "2020-09-01T20:59:04Z", "closed_at": "2020-09-01T20:59:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Documentation issue\r\nThe docs hint at the state of a command surrounding invocations of `yield` being shaky; I think it's affecting one of my commands but would appreciate some clarification on how I should expect this to actually work.\r\n\r\nI have a command that does something like:\r\n\r\n```\r\ndef func(self):\r\n    actions = self.actions = []\r\n    actions.append('a')\r\n    yield 4                       # arbitrary cooldown\r\n    actions.append('b')\r\n    self.actions = actions        # just to be assertive\r\n\r\ndef at_post_func(self):\r\n    # commit actions\r\n    for action in self.actions:\r\n        print(action)\r\n```\r\n\r\n...I'm finding that `self.actions` in `at_post_func` contains only `a`.\r\n\r\nI'm guessing there is some interruption of the command state when I call yield. Is there a workaround to preserve it? Is this a case for `save_for_next`? Or should I just shove `actions` into a cache?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2177", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2177/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2177/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2177/events", "html_url": "https://github.com/evennia/evennia/issues/2177", "id": 667398247, "node_id": "MDU6SXNzdWU2NjczOTgyNDc=", "number": 2177, "title": "[BUG] Lines become longer when examine objects with a lot of content.", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-28T21:37:50Z", "updated_at": "2020-07-28T21:47:12Z", "closed_at": "2020-07-28T21:47:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n<img width=\"777\" alt=\"\uc2a4\ud06c\ub9b0\uc0f7 2020-07-29 \uc624\uc804 6 27 31\" src=\"https://user-images.githubusercontent.com/3595071/88724010-bf060900-d164-11ea-9cc4-f48647cc1561.png\">\r\n\r\nIf there are many contents, the line becomes longer at the top and bottom.\r\n As many as there are...\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. connected game\r\n2. create test   (repeat * 30) \r\n3. ex me\r\n\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 1d5f27b8) (rev 1d5f27b8)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.14", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2175", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2175/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2175/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2175/events", "html_url": "https://github.com/evennia/evennia/issues/2175", "id": 664069392, "node_id": "MDU6SXNzdWU2NjQwNjkzOTI=", "number": 2175, "title": "[BUG] examine problem", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-22T21:45:20Z", "updated_at": "2020-07-27T13:32:54Z", "closed_at": "2020-07-27T12:57:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n<img width=\"731\" alt=\"\uc2a4\ud06c\ub9b0\uc0f7 2020-07-23 \uc624\uc804 6 33 23\" src=\"https://user-images.githubusercontent.com/3595071/88231081-8b336b00-ccae-11ea-98ec-0547139c50c5.png\">\r\n\r\n#### Describe the bug\r\nThe cause is unknown, but problems occur when using examine.\r\nI couldn't figure out what was wrong, so I tested evennia with a fresh install, but the same problem occurs. The same problem occurred in python 3.7.5 and 3.8.5.\r\nThe same problem occurs when connecting from tintin++ or web.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. git clone https://github.com/evennia/evennia.git\r\n2. pip install -e evennia\r\n3. evennia --init mygame\r\n4. cd mygame\r\n5. evennia migrate\r\n6. evennia start\r\n7. wizard id create and connect\r\n8. set here/bb = 1\r\n9. ex here/bb   => Error (screenshot)\r\n10. ex here   => No problem\r\n\r\n#### Expected behavior\r\nI don't know what I did wrong.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev dc377d28) (rev dc377d28)\r\n    OS: posix\r\n    Python: 3.8.5\r\n    Twisted: 20.3.0\r\n    Django: 2.2.14\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2172", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2172/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2172/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2172/events", "html_url": "https://github.com/evennia/evennia/issues/2172", "id": 659135481, "node_id": "MDU6SXNzdWU2NTkxMzU0ODE=", "number": 2172, "title": "[BUG] Inlinefuncs are not escaped in \"raw\" strings", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-17T10:44:03Z", "updated_at": "2020-07-18T13:51:37Z", "closed_at": "2020-07-18T13:51:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen examining an Attribute or other string with something like the `examine` command, the `{raw: True}` msg-option is used. But any `inlinefuncs` in the string will still be parsed, showing only the result and not the structure of the string. \r\n\r\nInlinefuncs should be escaped when using `raw: True`. \r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Store a string with an `$inlinefunc` in attribute `foo`\r\n2. ex me/foo\r\n3. The result is a string where the inlinefunc was executed. \r\n\r\n#### Expected behavior\r\n\r\nRunning e.g. `ex me/foo` should show the raw string with the `$inlinefunc` structure non-executed.\r\n\r\n#### Additional context\r\n\r\nThis is an oversight in the parser. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2166", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2166/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2166/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2166/events", "html_url": "https://github.com/evennia/evennia/issues/2166", "id": 657466785, "node_id": "MDU6SXNzdWU2NTc0NjY3ODU=", "number": 2166, "title": "[BUG]When using Hangul, the columns in the table do not match.", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-07-15T15:59:14Z", "updated_at": "2020-07-16T01:10:55Z", "closed_at": "2020-07-15T21:24:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nYou suffer a lot.\r\nIf EvTable uses Hangul, etc., the columns do not match.\r\nSo I am temporarily using https://github.com/Robpol86/terminaltables, can it be improved?\r\n\r\nwho\r\nAccounts:\r\n+--------------+--------+------+-----------+-------+------+----------+--------------+\r\n| Account Name | On for | Idle | Puppeting | Room  | Cmds | Protocol | Host         |\r\n+~~~~~~~~~~~~~~+~~~~~~~~+~~~~~~+~~~~~~~~~~~+~~~~~~~+~~~~~~+~~~~~~~~~~+~~~~~~~~~~~~~~+\r\n| amro(#1)     | 01:18  | 4s   | \uc554\ub85c(#1)    | \uad11\uc7a5    | 9    | telnet   | 172.30.1.30  |\r\n| angel        | 16:58  | 11s  | \ucc9c\uc0ac        | 19_57 | 5980 | telnet   | 172.30.1.254 |\r\n| devil        | 16:57  | 11s  | \uc545\ub9c8        | 19_57 | 6664 | telnet   | 172.30.1.254 |\r\n| lucifer      | 16:57  | 11s  | \ub8e8\uc2dc\ud37c       | 19_57 | 6657 | telnet   | 172.30.1.254 |\r\n| michael      | 16:58  | 11s  | \ubbf8\uce74\uc5d8       | 19_57 | 5612 | telnet   | 172.30.1.254 |\r\n| neo          | 01:39  | 0s   | \ub124\uc624        | 19_57 | 6791 | telnet   | 172.30.1.254 |\r\n| oracle       | 16:58  | 11s  | \uc624\ub77c\ud074       | 19_57 | 5898 | telnet   | 172.30.1.254 |\r\n| saby         | 01:41  | 2s   | \uc0ac\ube44        | 7_46  | 6214 | telnet   | 172.30.1.254 |\r\n| tintin       | 16:58  | 3s   | \ud2f4\ud2f4        | 7_46  | 8094 | telnet   | 172.30.1.254 |\r\n| tree         | 16:58  | 3s   | \ud2b8\ub9ac        | 7_46  | 7202 | telnet   | 172.30.1.254 |\r\n| wizard       | 16:58  | 3s   | \ub9c8\ubc95\uc0ac       | 7_46  | 7122 | telnet   | 172.30.1.254 |\r\n| zeze         | 16:58  | 3s   | \uc81c\uc81c        | 7_46  | 8088 | telnet   | 172.30.1.254 |\r\n+--------------+--------+------+-----------+-------+------+----------+--------------+\r\n12 unique accounts logged in.\r\ntickers\r\nActive tickers:\r\n+--------------+---------------+-----------------+----------+----+\r\n| interval (s) | object        | path/methodname | idstring | db |\r\n+~~~~~~~~~~~~~~+~~~~~~~~~~~~~~~+~~~~~~~~~~~~~~~~~+~~~~~~~~~~+~~~~+\r\n| 1            | \uc624\ub77c\ud074 (#97300)  | every_second_do | cha      | *  |\r\n| 1            | \ubbf8\uce74\uc5d8 (#97304)  | every_second_do | cha      | *  |\r\n| 1            | \ud2f4\ud2f4 (#47733)   | every_second_do | cha      | *  |\r\n| 1            | \ucc9c\uc0ac (#56724)   | every_second_do | cha      | *  |\r\n| 1            | \uc81c\uc81c (#47734)   | every_second_do | cha      | *  |\r\n| 1            | \ub9c8\ubc95\uc0ac (#47736)  | every_second_do | cha      | *  |\r\n| 1            | \ud2b8\ub9ac (#47735)   | every_second_do | cha      | *  |\r\n| 1            | \uc545\ub9c8 (#56722)   | every_second_do | cha      | *  |\r\n| 1            | \ub8e8\uc2dc\ud37c (#97305)  | every_second_do | cha      | *  |\r\n| 1            | \uc0ac\ube44 (#47732)   | every_second_do | cha      | *  |\r\n| 1            | \ub124\uc624 (#97301)   | every_second_do | cha      | *  |\r\n| 1            | \uc554\ub85c (#1)       | every_second_do | cha      | *  |\r\n| 1            | \ubc84\uc11c\ucee4 (#113259) | do_attack       | mob      | *  |\r\n| 1            | \ubc84\uc11c\ucee4 (#113236) | do_patrol       | mob      | *  |\r\n| 1            | \ubc84\uc11c\ucee4 (#113240) | do_patrol       | mob      | *  |\r\n| 1            | \ub4c0\ub77c\ud55c (#113205) | do_patrol       | mob      | *  |\r\n| 1            | \ubc84\uc11c\ucee4 (#113257) | do_patrol       | mob      | *  |\r\n| 1            | \ubc84\uc11c\ucee4 (#113241) | do_patrol       | mob      | *  |\r\n| 1            | \ub4c0\ub77c\ud55c (#113235) | do_patrol       | mob      | *  |\r\n| 28           | \ubc84\uc11c\ucee4 (#113258) | set_alive       | mob      | *  |\r\n+--------------+---------------+-----------------+----------+----+\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2165", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2165/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2165/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2165/events", "html_url": "https://github.com/evennia/evennia/issues/2165", "id": 655279264, "node_id": "MDU6SXNzdWU2NTUyNzkyNjQ=", "number": 2165, "title": "[BUG] EvMore - AttributeError: 'EvMore' object has no attribute '_paginator_slice'", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-11T21:05:02Z", "updated_at": "2020-07-18T17:42:42Z", "closed_at": "2020-07-18T17:42:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nPassing a Django Paginator object to evmore yields a traceback.\r\n\r\nhttps://github.com/evennia/evennia/blob/bd656417552089a79dd33053266785b3517ff5ee/evennia/utils/evmore.py#L189-L194\r\n\r\nThe example suggests this is possible, but evmore does try to reference a reflexive attribute that does not exist.\r\n\r\nhttps://github.com/evennia/evennia/blob/bd656417552089a79dd33053266785b3517ff5ee/evennia/utils/evmore.py#L301\r\n\r\nThere is a public method with a similar name. Maybe that is what was intended? (Don't take my word for it, my understanding is limited)\r\n\r\nhttps://github.com/evennia/evennia/blob/bd656417552089a79dd33053266785b3517ff5ee/evennia/utils/evmore.py#L267\r\n\r\n```\r\n20-07-11 20:55:45 [EE] 'EvMore' object has no attribute '_paginator_slice'\r\n20-07-11 20:55:45 [::] Traceback (most recent call last):\r\n20-07-11 20:55:45 [::]   File \"./commands/crud.py\", line 99, in func\r\n20-07-11 20:55:45 [::]     self.get(request, *args, **kwargs)\r\n20-07-11 20:55:45 [::]   File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/django/views/generic/detail.py\", line 108, in get\r\n20-07-11 20:55:45 [::]     return self.render_to_response(context)\r\n20-07-11 20:55:45 [::]   File \"./commands/crud.py\", line 149, in render_to_response\r\n20-07-11 20:55:45 [::]     page_formatter=self.render,\r\n20-07-11 20:55:45 [::]   File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/utils/evmore.py\", line 241, in __init__\r\n20-07-11 20:55:45 [::]     self.init_iterable(text)\r\n20-07-11 20:55:45 [::]   File \"/home/ubuntu/workspace/E37/lib/python3.7/site-packages/evennia/utils/evmore.py\", line 301, in init_iterable\r\n20-07-11 20:55:45 [::]     self._paginator_slice\r\n20-07-11 20:55:45 [::] AttributeError: 'EvMore' object has no attribute '_paginator_slice'\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2160", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2160/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2160/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2160/events", "html_url": "https://github.com/evennia/evennia/issues/2160", "id": 652444260, "node_id": "MDU6SXNzdWU2NTI0NDQyNjA=", "number": 2160, "title": "[BUG] Multiple `utils.create.create_*` functions do not accept tags as kwargs", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-07T16:06:51Z", "updated_at": "2020-07-18T19:36:12Z", "closed_at": "2020-07-18T19:36:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere is a bit of an inconsistency across the `utils.create` methods in that some of the functions do not accept tags as kwargs despite the target models supporting them.\r\n\r\n#### To Reproduce\r\nAffected functions:\r\n1. `create_help_entry`\r\n2. `create_message`\r\n3. `create_channel`\r\n\r\n#### Expected behavior\r\nTags should be handled appropriately if provided to the creation function.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n\r\n    Evennia 0.9.0 (rev bd656417) (rev bd656417)\r\n    OS: posix\r\n    Python: 3.7.6\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2159", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2159/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2159/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2159/events", "html_url": "https://github.com/evennia/evennia/issues/2159", "id": 651697429, "node_id": "MDU6SXNzdWU2NTE2OTc0Mjk=", "number": 2159, "title": "[BUG] Changes that require Shutdown and not Reload", "user": {"login": "TehFamine", "id": 5091791, "node_id": "MDQ6VXNlcjUwOTE3OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5091791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehFamine", "html_url": "https://github.com/TehFamine", "followers_url": "https://api.github.com/users/TehFamine/followers", "following_url": "https://api.github.com/users/TehFamine/following{/other_user}", "gists_url": "https://api.github.com/users/TehFamine/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehFamine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehFamine/subscriptions", "organizations_url": "https://api.github.com/users/TehFamine/orgs", "repos_url": "https://api.github.com/users/TehFamine/repos", "events_url": "https://api.github.com/users/TehFamine/events{/privacy}", "received_events_url": "https://api.github.com/users/TehFamine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-06T17:12:29Z", "updated_at": "2021-08-19T01:31:01Z", "closed_at": "2020-09-03T06:44:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen editing one of the contributor modules located in evennia\\evennia\\contrib\\rpsystem.py I ran into an issue where I had to shutdown the game and execute 'evennia start' to see a change I made. When removing the change, I could reload and see the change removed. But, if I tried to add back in the change and do another reload, the change would not show until I shutdown.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add the rpsystem.py module to your objects, rooms, character type classes.\r\n2. Create a new typeclass for rooms called ChargenRoom that inherits ContribRPRoom.\r\n3. dig a new room with the ChargenRoom typeclass\r\n4. Teleport to that room\r\n5. Note the room name and the object # number\r\n6. Open rpsystem.py located in the contrib directory. Find def get_display_name()\r\n7. Change idstr = \"(#%s)\" to idstr = \"(1#%s)\" in def get_display_name()\r\n8. Reload the game\r\n9. Note the change does not show.\r\n10. Shutdown the game.\r\n11. Execute evennia start within the game folder and in the console\r\n12. Note the change now shows as (1# your room id)\r\n13. Change idstr = \"(1#%s)\" back to idstr = \"(#%s)\"\r\n14. Reload the game.\r\n15. Note the change now shows as (# your room id)\r\n16. Change idstr = \"(#%s)\" to idstr = \"(1#%s)\" in def get_display_name() again\r\n17. Reload the game.\r\n18. Note the change DOES NOT show\r\n19. Repeat the steps to shutdown, evennia start again.\r\n20. Note the change now shows as (1# your room id)\r\n\r\n#### Expected behavior\r\nI would expect the moment I changed get_display_name() that any reload would work. I shouldn't have to shutdown. I also wouldn't expect that after the game was started, that removing the change and then reloading would remove the change. Logically, I should have to shutdown again if you follow the pattern. But you don't. Yet, if you add the change back, reloading does not work. It's extremely odd.\r\n\r\n#### Environment, Evennia version, OS etc\r\nWindows 10, 64-bit, Intel i7 processor, PyCharm IDE\r\n\r\n    Evennia 0.9.0 (rev ff11fbd8) (rev ff11fbd8)\r\n    OS: nt\r\n    Python: 3.7.4\r\n    Twisted: 19.10.0\r\n    Django: 2.2.13\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2158", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2158/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2158/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2158/events", "html_url": "https://github.com/evennia/evennia/issues/2158", "id": 650931085, "node_id": "MDU6SXNzdWU2NTA5MzEwODU=", "number": 2158, "title": "[BUG] DefaultObject - Class-level lock string is defined as two strings", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-04T17:53:36Z", "updated_at": "2020-07-18T19:50:26Z", "closed_at": "2020-07-18T19:49:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe class-level lockstring for `DefaultObject` is defined as two separate strings.\r\n\r\n#### To Reproduce\r\nhttps://github.com/evennia/evennia/blob/bd656417552089a79dd33053266785b3517ff5ee/evennia/objects/objects.py#L207-L211\r\n\r\n#### Expected behavior\r\nNot sure if this actually impacts anything but this looks like a typo.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2152", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2152/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2152/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2152/events", "html_url": "https://github.com/evennia/evennia/issues/2152", "id": 647833258, "node_id": "MDU6SXNzdWU2NDc4MzMyNTg=", "number": 2152, "title": "[BUG] Builders can't control exits created with open command.", "user": {"login": "bonnedav", "id": 14209707, "node_id": "MDQ6VXNlcjE0MjA5NzA3", "avatar_url": "https://avatars.githubusercontent.com/u/14209707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonnedav", "html_url": "https://github.com/bonnedav", "followers_url": "https://api.github.com/users/bonnedav/followers", "following_url": "https://api.github.com/users/bonnedav/following{/other_user}", "gists_url": "https://api.github.com/users/bonnedav/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonnedav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonnedav/subscriptions", "organizations_url": "https://api.github.com/users/bonnedav/orgs", "repos_url": "https://api.github.com/users/bonnedav/repos", "events_url": "https://api.github.com/users/bonnedav/events{/privacy}", "received_events_url": "https://api.github.com/users/bonnedav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-30T03:44:32Z", "updated_at": "2020-06-30T08:12:59Z", "closed_at": "2020-06-30T08:12:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen you create an exit using the open command, your id is not added to the exit's lock string for control and delete.\r\nThis means that if a builder makes an exit with open, they can not modify or delete that exit.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Login as a builder\r\n2. Make an exit with open\r\n3. Try to delete or modify it\r\n4. See error\r\n\r\n#### Expected behavior\r\nThe creator's Id should be added to the exit's lock string, as is done with the create command, so that they can modify or delete it without being admin.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.0 (rev ff11fbd8)\r\nOS: posix\r\nPython: 3.7.3\r\nTwisted: 19.7.0\r\nDjango: 2.2.5\r\n\r\n#### Additional context\r\nI ran into this while playing around on the demo.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2152/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2151", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2151/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2151/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2151/events", "html_url": "https://github.com/evennia/evennia/issues/2151", "id": 646935717, "node_id": "MDU6SXNzdWU2NDY5MzU3MTc=", "number": 2151, "title": "[BUG] Grammar issue in CmdCharCreate in multisession mode 2 with maximum of 1 character", "user": {"login": "Valishet", "id": 67276965, "node_id": "MDQ6VXNlcjY3Mjc2OTY1", "avatar_url": "https://avatars.githubusercontent.com/u/67276965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Valishet", "html_url": "https://github.com/Valishet", "followers_url": "https://api.github.com/users/Valishet/followers", "following_url": "https://api.github.com/users/Valishet/following{/other_user}", "gists_url": "https://api.github.com/users/Valishet/gists{/gist_id}", "starred_url": "https://api.github.com/users/Valishet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Valishet/subscriptions", "organizations_url": "https://api.github.com/users/Valishet/orgs", "repos_url": "https://api.github.com/users/Valishet/repos", "events_url": "https://api.github.com/users/Valishet/events{/privacy}", "received_events_url": "https://api.github.com/users/Valishet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-28T14:37:51Z", "updated_at": "2020-07-18T19:57:35Z", "closed_at": "2020-07-18T19:56:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you have multisession mode set to 2 and MAX_NR_Characters set to 1, and you then try to create a second character, the error message you receive is \"You may create a maximum of 1 characters.\"  This is ungrammatical.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. In settings.py, set MULTISESSION_MODE = 2 and MAX_NR_CHARACTERS = 1\r\n2. Create a test account\r\n3. Create a character using `@charcreate`\r\n4. Attempt to create a second character using `@charcreate`\r\n5. See error (bad grammar)\r\n\r\n#### Expected behavior\r\nBetter grammar when a player attempts to create a second character when MULTISESSION_MODE = 2 and MAX_NR_CHARACTERS = 1\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 143137cc) (rev 143137cc)\r\n    OS: posix\r\n    Python: 3.8.2\r\n    Twisted: 19.10.0\r\n    Django: 2.2.13\r\n\r\n#### Additional context\r\n[Suggested patch](https://pastebin.com/X2m3DAum) for /evennia/evennia/commands/default/account.py\r\n\r\nThe suggested patch changes only the last 'if' statement. I provided the rest of the function leading up to it for context only.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2150", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2150/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2150/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2150/events", "html_url": "https://github.com/evennia/evennia/issues/2150", "id": 645950300, "node_id": "MDU6SXNzdWU2NDU5NTAzMDA=", "number": 2150, "title": "using attr() as a cmd: lockstring only does \"equals\" comparisons", "user": {"login": "Tegiminis", "id": 2596300, "node_id": "MDQ6VXNlcjI1OTYzMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/2596300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tegiminis", "html_url": "https://github.com/Tegiminis", "followers_url": "https://api.github.com/users/Tegiminis/followers", "following_url": "https://api.github.com/users/Tegiminis/following{/other_user}", "gists_url": "https://api.github.com/users/Tegiminis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tegiminis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tegiminis/subscriptions", "organizations_url": "https://api.github.com/users/Tegiminis/orgs", "repos_url": "https://api.github.com/users/Tegiminis/repos", "events_url": "https://api.github.com/users/Tegiminis/events{/privacy}", "received_events_url": "https://api.github.com/users/Tegiminis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-06-26T01:47:49Z", "updated_at": "2020-06-28T15:09:53Z", "closed_at": "2020-06-28T15:09:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I set up a command to test lockfuncs like so. I want to restrict a command from being visible/used unless the player has the appropriate attribute. I created it to test a lockfunc I made which works like ``attr()`` except on nested dictionary values. Then I noticed that my comparison was only ever \"equals\", even when trying to use the ``compare`` kwarg on ``attr()``\r\n```\r\nclass CmdPTest(BaseCommand):\r\n    \"\"\"\r\n    Tests a lock\r\n\r\n    Usage:\r\n      ptest\r\n\r\n    A debug command to test lockfuncs.\r\n    \"\"\"\r\n\r\n    key = \"ptest\"\r\n    locks = \"cmd:attr(locktest, 80, compare=gt)\"\r\n    help_category = \"General\"\r\n\r\n    def parse(self):\r\n        self.target = self.args.strip()\r\n\r\n    def func(self):\r\n        caller = self.caller\r\n        caller.msg(\"Lockfunc assigned to this command works properly.\")\r\n```\r\nIt checks if the attribute ``locktest`` is on my calling object, and then presumably whatever comparison the kwarg states, or equals if none. Instead it only ever checks if the value is equal to 80, regardless of what value I set compare to.\r\n\r\nI've tried ``compare=gt`` and ``{'compare':'gt'}``, with and without ``**`` and various orderings of apostrophes, and neither work. If there's some syntax I'm missing, I understand, would be delighted to figure out what I'm doing wrong, if I am.\r\n\r\nI presume this is a limitation of how lockfuncs work - hence why there's ``attr_gt()`` and such - but I'd like confirmation it's part of that limitation and not a bug before I write 5 new lockfuncs.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2149", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2149/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2149/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2149/events", "html_url": "https://github.com/evennia/evennia/issues/2149", "id": 645671647, "node_id": "MDU6SXNzdWU2NDU2NzE2NDc=", "number": 2149, "title": "[BUG] `lockfuncs.objtag` does not pass kwargs to TagHandler", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-25T15:50:41Z", "updated_at": "2020-06-28T09:22:13Z", "closed_at": "2020-06-28T09:22:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere seems to be a discrepancy between how `tag` and `objtag` are defined. \r\n\r\nThe `tag` lock will explicitly pass the `category` kwarg to the TagHandler. The `objtag` lock only passes args. \r\n\r\nThis seems like an oversight (and probably explains the issue that prompted my investigation; I was trying to lockcheck a categorized tag on an object before giving up and working around it).\r\n\r\nhttps://github.com/evennia/evennia/blob/ff11fbd8c35c0b3d148719da96129c6f907352c8/evennia/locks/lockfuncs.py#L515-L542\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0 (rev ff11fbd8) (rev ff11fbd8)\r\n    OS: posix\r\n    Python: 3.7.6\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2148", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2148/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2148/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2148/events", "html_url": "https://github.com/evennia/evennia/issues/2148", "id": 645663965, "node_id": "MDU6SXNzdWU2NDU2NjM5NjU=", "number": 2148, "title": "[BUG] Migration resulting in deletion of custom SharedMemoryModel raises AttributeError: type object has no attribute '__dbclass__' ", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-25T15:39:57Z", "updated_at": "2020-06-25T16:03:15Z", "closed_at": "2020-06-25T16:03:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI have a custom Django app with a single model defined:\r\n\r\n```\r\nclass Data(SharedMemoryModel):\r\n    \r\n    class Meta:\r\n        unique_together = (\r\n            ('db_category', 'db_key', 'db_version'),\r\n        )\r\n    \r\n    db_key = models.CharField(\"key\", max_length=255, db_index=True)\r\n    db_category = models.CharField(\"category\", max_length=255, default='', blank=True, db_index=True)\r\n    db_version = models.PositiveIntegerField(default=1)\r\n    \r\n    # Creation date. This is not changed once the object is created.\r\n    db_date_created = models.DateTimeField(\"creation date\", editable=False, auto_now_add=True)\r\n    db_date_updated = models.DateTimeField(\"updated date\", editable=False, auto_now=True)\r\n    db_date_expires = models.DateTimeField(\"expiry date\", blank=True, null=True)\r\n    db_enabled = models.BooleanField(\"enabled\", default=True)\r\n    \r\n    db_data = models.TextField(default='{}')\r\n    \r\n    db_lock_storage = models.TextField(\r\n        \"locks\",\r\n        blank=True,\r\n        default='get:true();set:true();enable:true();disable:true()',\r\n        help_text=\"locks limit access to an entity. A lock is defined as a 'lock string' on the form 'type:lockfunctions', defining what functionality is locked and how to determine access. Not defining a lock means no access is granted.\",\r\n    )\r\n    \r\n    db_tags = models.ManyToManyField(\r\n        Tag,\r\n        help_text=\"tags on this object. Tags are simple string markers to identify, group and alias objects.\",\r\n    )\r\n\r\n    # Database manager\r\n    objects = managers.TypedObjectManager()\r\n\r\n    @lazy_property\r\n    def locks(self):\r\n        return LockHandler(self)\r\n\r\n    @lazy_property\r\n    def tags(self):\r\n        return TagHandler(self)\r\n\r\n    @lazy_property\r\n    def aliases(self):\r\n        return AliasHandler(self)\r\n```\r\n\r\nCreation works, everything migrates and objects CRUD just fine.\r\n\r\nI'm now trying to make this an abstract model, which will result in its deletion during subsequent migration, but during migration it is raising an error about the lack of a `__dbclass__` attribute.\r\n\r\n```\r\n... <truncated> ...\r\nFile \"/home/ubuntu/workspace/evennia/evennia/utils/idmapper/models.py\", line 533, in flush_cache\r\n    cls.flush_instance_cache()\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/idmapper/models.py\", line 370, in flush_instance_cache\r\n    for key, obj in cls.__dbclass__.__instance_cache__.items()\r\nAttributeError: type object 'Data' has no attribute '__dbclass__'\r\n```\r\n\r\n#### Expected behavior\r\nDeletion of the model.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0 (rev ff11fbd8) (rev ff11fbd8)\r\n    OS: posix\r\n    Python: 3.7.6\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n```\r\n\r\n#### Additional context\r\nThis could totally be an artifact of something improperly defined on my part (if so, please advise).\r\n\r\nI'm probably doing something unconventional using the `TypedObjectManager` on a non-`TypedObject` (was an oversight on my part) but it seems to work so I haven't corrected it. Doing so now seems to have no impact on this issue.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2146", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2146/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2146/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2146/events", "html_url": "https://github.com/evennia/evennia/issues/2146", "id": 632182523, "node_id": "MDU6SXNzdWU2MzIxODI1MjM=", "number": 2146, "title": "[BUG] Exit cmdset duplicates do not merge onto character if syscmdkeys.CMD_NOMATCH also present on character", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-06T03:56:59Z", "updated_at": "2020-06-27T10:59:56Z", "closed_at": "2020-06-27T10:59:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Exit commandset in case of multiple exits of same name is not properly merged onto the stack for non superusers.\r\n\r\nEXAMPLE:\r\nIf there are two exits named **up** (both also have the command alias **u**), my superuser can access those commands per usually by doing 1-u or 1-up and 2-u or 2-up respectively and traverse to the correct room.\r\n\r\n**However in case of my player test character they always end up traversing the same exit regardless of specyfing 1-up, 2-up, 1-u, 2-u etc.**\r\nThey can still look at both exits by specyfing 1-up, 2-up (so multimatch search does work) however their merged commandset only contains a single up command!\r\n\r\nExamining other exits in the room shows that all the other exits have two **up** commands in their merge stack. So in a room with one exit north and two exits up both my admin character(among other commands) and all the exits have \"north up up\" in their merged comandsets. Only my player character(among other commands) has \"north up\", lacking the second up command.\r\n\r\nADDITIONAL INFORMATION:\r\n- I have tried looking everywhere for hours thinking innitially it had to do with some sort of multimach bug before I noticed the player character has only one up command in their merged set. \r\n- Both my player and superuser characters use the same typeclass, the superuser character gets their character and account commandsets replaced with an admin one (for convienience) from within at_initial_setup.py - apart from what commands they contain both character and admin ones are identitcal (same priority etc.)\r\n- Other objects in the same room do not list any exit commands in their merge stack including my animal typeclassed objects (which just have look for now) - not sure if that is correct behaviour or not.\r\n- Server reload or restart does not seem to change anything as is leaving the player character alone in that room (examining by dbref from afar still shows lack of the secondary up command)\r\n- The player character was created by just making a new account in the default way from the connection screen for it.\r\n\r\nI tried everything I could think of to narrow it down, spent hours reading my code to make sure there is nothing wierd there but I could barely find anything even relevant - if anybody has any idea what I could try to provide more information please let me know ;_;\r\n\r\n*UPDATE:\r\nI tried to copy an exit object using the ingame copy command and that resulted with an exit object with the _copy suffix, where both characters now have access to: the original command and the one for the copy. Since my original object had a command alias set, that command alias is same for both exits and results in multichoice kicking in properly rulling out problems with multichoice.\r\nUnfortunately the moment I remove the _copy suffix, the merge breaks again as if allow duplicates was set to false somehow and the secondary command dissapears from the non superusers.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2145", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2145/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2145/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2145/events", "html_url": "https://github.com/evennia/evennia/issues/2145", "id": 630401181, "node_id": "MDU6SXNzdWU2MzA0MDExODE=", "number": 2145, "title": "[BUG] Python 2 syntax and potentially deprecated code in batchprocess.py", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-03T23:36:52Z", "updated_at": "2020-06-26T19:28:08Z", "closed_at": "2020-06-26T19:28:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "In batchprocess.py (default commands directory) there is a ProcPool related global string defined that seems to be using python 2 syntax for print.\r\n\r\nThe ingame command from that module seems to attempt running the batch process using PythonProcPool if its present in currently running services and the backend is not sqlite3.\r\n\r\nConsidering that nobody seems to have stumbled onto problems due to the mentioned python 2 syntax these checks I would assume always fail and PythonProcPool is never present as a service even if the db backend was something else than sqlite3.\r\n\r\nApart from the potential bug left over from the 08.>0.9 move, If ProcPool is deprecated in general in evennia it would be good to remove this reference to it and/or allow the batch process to still run_async just without using ProcPool, if there is any benefit in current evennia to it that is.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2143", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2143/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2143/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2143/events", "html_url": "https://github.com/evennia/evennia/issues/2143", "id": 627798638, "node_id": "MDU6SXNzdWU2Mjc3OTg2Mzg=", "number": 2143, "title": "[Feature Request] utils.validate_email_address cleanups/redundancies", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-30T19:07:48Z", "updated_at": "2020-06-27T11:12:48Z", "closed_at": "2020-06-27T11:12:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe `utils` module has a function to validate email addresses, `validate_email_address`.\r\n\r\n`utils.validatorfuncs.email` duplicates this functionality, but also does it differently (by leveraging [Django's own validator](https://docs.djangoproject.com/en/3.0/ref/validators/#emailvalidator)).\r\n\r\n`Account` objects created with an email address will also use the Django validator by default.\r\n\r\n#### Expected behavior\r\nGiven that the home-rolled validator's logic is not entirely sound (`ubuntu@localhost` *is* a real address despite not having a TLD) I think it would make more sense to force `utils.validate_email_address` to reference `utils.validatorfuncs.email`.\r\n\r\nThe only point of contention I can predict with this is that the two functions \"do\" different things-- `utils.validate_email_address` returns a `bool`, but `utils.validatorfuncs.email` raises an exception or returns the original value. Either way it is very unclear why competing solutions to a niche problem need to coexist :)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2139", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2139/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2139/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2139/events", "html_url": "https://github.com/evennia/evennia/issues/2139", "id": 619957017, "node_id": "MDU6SXNzdWU2MTk5NTcwMTc=", "number": 2139, "title": "[BUG] Using a tag in an exit lock doesn't work if there is a tag category", "user": {"login": "RianeDev", "id": 42573189, "node_id": "MDQ6VXNlcjQyNTczMTg5", "avatar_url": "https://avatars.githubusercontent.com/u/42573189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RianeDev", "html_url": "https://github.com/RianeDev", "followers_url": "https://api.github.com/users/RianeDev/followers", "following_url": "https://api.github.com/users/RianeDev/following{/other_user}", "gists_url": "https://api.github.com/users/RianeDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/RianeDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RianeDev/subscriptions", "organizations_url": "https://api.github.com/users/RianeDev/orgs", "repos_url": "https://api.github.com/users/RianeDev/repos", "events_url": "https://api.github.com/users/RianeDev/events{/privacy}", "received_events_url": "https://api.github.com/users/RianeDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-05-18T06:54:59Z", "updated_at": "2020-07-18T20:40:42Z", "closed_at": "2020-07-18T20:40:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you try to use an exit with a tag for the lock, you can't have a category for the tag.\r\n![2020-05-18 (1)](https://user-images.githubusercontent.com/42573189/82182853-2d476900-98a2-11ea-8074-030cf9819ed3.png)\r\n![2020-05-18](https://user-images.githubusercontent.com/42573189/82182856-2e789600-98a2-11ea-9444-d0a71dd0002e.png)\r\n\r\n\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an exit with traverse:tag(tagname)\r\n2. Create a tag (tagname) with a category (tagcategory) on your character\r\n3. Try to go through the exit. Won't allow it.\r\n4. Remove the tag category from the character so it's just the tag name and it works.\r\n\r\n#### Expected behavior\r\nI would expect you should be able to use the exit regardless if there is a category?\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev 10a6685f) (rev 10a6685f)\r\n    OS: nt\r\n    Python: 3.8.2\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n#### Additional context\r\n\r\nI have also tried to keep the category on the object tag, and then add it to the lock to see if that works, but it doesn't appear to. Once you have the category, it appears to cease working.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2136", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2136/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2136/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2136/events", "html_url": "https://github.com/evennia/evennia/issues/2136", "id": 618282824, "node_id": "MDU6SXNzdWU2MTgyODI4MjQ=", "number": 2136, "title": "[BUG] 'Reset' Switch mentioned but not implemented ", "user": {"login": "RianeDev", "id": 42573189, "node_id": "MDQ6VXNlcjQyNTczMTg5", "avatar_url": "https://avatars.githubusercontent.com/u/42573189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RianeDev", "html_url": "https://github.com/RianeDev", "followers_url": "https://api.github.com/users/RianeDev/followers", "following_url": "https://api.github.com/users/RianeDev/following{/other_user}", "gists_url": "https://api.github.com/users/RianeDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/RianeDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RianeDev/subscriptions", "organizations_url": "https://api.github.com/users/RianeDev/orgs", "repos_url": "https://api.github.com/users/RianeDev/repos", "events_url": "https://api.github.com/users/RianeDev/events{/privacy}", "received_events_url": "https://api.github.com/users/RianeDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-14T14:34:57Z", "updated_at": "2020-05-18T16:20:25Z", "closed_at": "2020-05-18T16:19:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Documentation issue\r\nThe 'reset' switch for copying an object is mentioned in the [Copy Command](https://github.com/evennia/evennia/blob/10305003bec49b13a41689c76dd9dd9157198c2d/evennia/commands/default/building.py), but not actually implemented.\r\n#### Suggested change\r\nAdd reset switch.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2136/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2130", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2130/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2130/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2130/events", "html_url": "https://github.com/evennia/evennia/issues/2130", "id": 615939449, "node_id": "MDU6SXNzdWU2MTU5Mzk0NDk=", "number": 2130, "title": "[BUG] Default tests assume mygame level functions weren't overloaded", "user": {"login": "trhr", "id": 5786272, "node_id": "MDQ6VXNlcjU3ODYyNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5786272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trhr", "html_url": "https://github.com/trhr", "followers_url": "https://api.github.com/users/trhr/followers", "following_url": "https://api.github.com/users/trhr/following{/other_user}", "gists_url": "https://api.github.com/users/trhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/trhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trhr/subscriptions", "organizations_url": "https://api.github.com/users/trhr/orgs", "repos_url": "https://api.github.com/users/trhr/repos", "events_url": "https://api.github.com/users/trhr/events{/privacy}", "received_events_url": "https://api.github.com/users/trhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-11T14:42:12Z", "updated_at": "2020-06-27T11:21:08Z", "closed_at": "2020-06-27T11:21:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n'evennia test evennia' tests, e.g. TestAccount, fail when functions like return_appearance have been overloaded at the mygame level\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Overload return_appearance in mygame.typeclasses.characters.Character to return arbitrary string\r\n2. Run tests\r\n4. See error\r\n\r\n#### Expected behavior\r\nEvennia Test should not be testing against mygame classes, as there's no guarantee that mygame returns an appearance in the same format that the test expects", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2128", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2128/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2128/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2128/events", "html_url": "https://github.com/evennia/evennia/issues/2128", "id": 615127388, "node_id": "MDU6SXNzdWU2MTUxMjczODg=", "number": 2128, "title": "[BUG] `Typeclass.manager.get_by_tag` improperly matches when number of tags found/requested is mismatched", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-09T08:52:22Z", "updated_at": "2020-05-18T18:29:37Z", "closed_at": "2020-05-18T18:25:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nFor a stock match-all query on the Typeclass manager `get_by_tag` method, the manager will assume all tags matched when fewer tags were found than were requested.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. A single tag exists-- `one`\r\n2. We want to match on two tags-- `...get_by_tag(('one', 'two'))`\r\n3. https://github.com/evennia/evennia/blob/6c968af31326bb034e7a5d7ae6e9fa314102562d/evennia/typeclasses/managers.py#L329-L330\r\n4. Since there is only one tag, `tags.count()` will be 1, and `n_req_tags` will be lowered to 1, which is less than what was requested and will match on more objects than it should.\r\n\r\n#### Additional context\r\nThe `match=any` option was intended for this sort of best-effort matching. `all` really ought to return matches on *all* terms passed to it, or nothing at all if that is not possible.\r\n\r\nSetting line 329 to `n_req_tags = n_keys or n_unique_categories` fixes this, or can be worked around using the `any` query and manually applying an additional `.filter(matches__gte=<num expected>)` to the result.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2127", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2127/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2127/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2127/events", "html_url": "https://github.com/evennia/evennia/issues/2127", "id": 613166310, "node_id": "MDU6SXNzdWU2MTMxNjYzMTA=", "number": 2127, "title": "[BUG] Msg.senders allows duplicate (string) values", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-06T09:09:52Z", "updated_at": "2020-07-18T21:10:54Z", "closed_at": "2020-07-18T21:10:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you create a Msg object and add some senders as strings, no checks are performed to enforce uniqueness (i.e. your message can end up like `[<Msg: xyzzy,plugh,xyzzy,xyzzy->: you are in a twisty maze of passages>]`). \r\n\r\nMay or may not be a \"bug,\" but I'm not seeing the value to this-- every duplicate string value allowed to be added incurs another call to `save()`.\r\n\r\n#### Expected behavior\r\nDo not add additional string values to the list if it already contains the value.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2126", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2126/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2126/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2126/events", "html_url": "https://github.com/evennia/evennia/issues/2126", "id": 613136167, "node_id": "MDU6SXNzdWU2MTMxMzYxNjc=", "number": 2126, "title": "[BUG] spawn/list with many prototypes blocks or hangs server until memory exhausted", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-06T08:20:24Z", "updated_at": "2020-09-16T21:38:15Z", "closed_at": "2020-09-14T21:35:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhere many prototypes exist (~1000), when the `spawn/list` command is issued, the server pauses for a considerable amount of time.\r\n\r\nAt 5000 or more, the server takes longer and longer to complete the command to the point where memory is more likely to be exhausted than for the result to be returned. (Unlike #1994 the usage does not just skyrocket-- it builds gradually).\r\n\r\n#### To Reproduce\r\n````\r\nfrom evennia.utils.test_resources import EvenniaTest\r\nfrom random import sample\r\nfrom evennia.prototypes import prototypes as protlib\r\nimport uuid\r\nfrom time import time\r\n\r\n\r\nclass PrototypeCrashTest(EvenniaTest):\r\n    \r\n    num_prototypes = 1000\r\n    \r\n    def create(self, num=None):\r\n        if not num: num = self.num_prototypes\r\n        print(f\"Creating {num} prototypes...\")\r\n        for x in range(num):\r\n            prot = {\r\n                'prototype_key': str(uuid.uuid4()),\r\n                'some_attributes': [str(uuid.uuid4()) for x in range(10)],\r\n                'prototype_tags': list(sample(['demo', 'test', 'stuff'], 2)),\r\n            }\r\n            protlib.save_prototype(prot)\r\n    \r\n    def test_prototype_dos(self, *args, **kwargs):\r\n        num_prototypes = self.num_prototypes\r\n        for x in range(10):\r\n            self.create(num_prototypes)\r\n            print(f\"Attempting to list prototypes...\")\r\n            start_time = time()\r\n            self.char1.execute_cmd('spawn/list')\r\n            print(f\"Prototypes listed in {time()-start_time} seconds.\")\r\n            num_prototypes = num_prototypes * x\r\n````\r\n\r\n#### Expected behavior\r\nA quicker result would be more favorable.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 0.9.0 (rev a6ed068) (rev a6ed068)\r\n    OS: posix\r\n    Python: 3.7.7\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n```\r\n\r\n#### Additional context\r\nAs with #1994 I think the problem(s) in this case are again the entire queryset being loaded into memory instead of using `.iterator()`:\r\n\r\nhttps://github.com/evennia/evennia/blob/6c968af31326bb034e7a5d7ae6e9fa314102562d/evennia/prototypes/prototypes.py#L383-L393\r\n\r\nBut that may not even be necessary either; for L393 in particular-- surely grabbing the value of a single attribute could be better performed by something like the Django `values_list` or `only` filters to do the work in SQL instead of manually iterating the queryset in Python? I think it is this line that forces evaluation of the entire queryset anyway.\r\n\r\nThis much data being rendered in a single-paged table may also be a contributing factor to the delay; tables are rather slow to render at times (#1232).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2126/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2124", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2124/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2124/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2124/events", "html_url": "https://github.com/evennia/evennia/issues/2124", "id": 612926390, "node_id": "MDU6SXNzdWU2MTI5MjYzOTA=", "number": 2124, "title": "[BUG] Evennia webclient does not load in firefox version 75.0", "user": {"login": "richard-william-fox", "id": 39064412, "node_id": "MDQ6VXNlcjM5MDY0NDEy", "avatar_url": "https://avatars.githubusercontent.com/u/39064412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richard-william-fox", "html_url": "https://github.com/richard-william-fox", "followers_url": "https://api.github.com/users/richard-william-fox/followers", "following_url": "https://api.github.com/users/richard-william-fox/following{/other_user}", "gists_url": "https://api.github.com/users/richard-william-fox/gists{/gist_id}", "starred_url": "https://api.github.com/users/richard-william-fox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richard-william-fox/subscriptions", "organizations_url": "https://api.github.com/users/richard-william-fox/orgs", "repos_url": "https://api.github.com/users/richard-william-fox/repos", "events_url": "https://api.github.com/users/richard-william-fox/events{/privacy}", "received_events_url": "https://api.github.com/users/richard-william-fox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-05-05T22:10:53Z", "updated_at": "2020-07-18T02:53:41Z", "closed_at": "2020-07-17T07:58:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWith a fresh install of Evennia, the webclient does not load properly in firefox version 75.0. There are two javascript errors reported in the developer tools:\r\n```\r\nTypeError: localStorage is nullmessage_routing.js:136:27\r\n    init http://tabletopsupercrew.net:4001/static/webclient/js/plugins/message_routing.js:136\r\n    init http://tabletopsupercrew.net:4001/static/webclient/js/webclient_gui.js:226\r\n    <anonymous> http://tabletopsupercrew.net:4001/static/webclient/js/webclient_gui.js:300\r\n    jQuery 2\r\n        j\r\n        k\r\n\r\nTypeError: myLayout is undefinedgoldenlayout.js:423:26\r\n    onText http://tabletopsupercrew.net:4001/static/webclient/js/plugins/goldenlayout.js:423\r\n    onText http://tabletopsupercrew.net:4001/static/webclient/js/webclient_gui.js:123\r\n    emit http://tabletopsupercrew.net:4001/static/webclient/js/evennia.js:183\r\n    emit http://tabletopsupercrew.net:4001/static/webclient/js/evennia.js:157\r\n    onmessage http://tabletopsupercrew.net:4001/static/webclient/js/evennia.js:271\r\n```\r\nI'm trying to test with two different types of users in different browsers so I can sign in as different users. I cannot test in firefox because of this.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Clone the evennia repository.\r\n2. Activate a virtual environment.\r\n3. pip install -e evennia\r\n4. evennia --init basegame\r\n5. cd basegame\r\n6. evennia migrate\r\n7. evennia start\r\n8. Enter account information\r\n9. Navigate to localhost:4001/webclient/ in firefox version 75.0.\r\n\r\nNotice that the client does not load.\r\n\r\n10. Open the firefox developer tools.\r\n\r\nNotice the two javascript errors listed above.\r\n\r\n#### Expected behavior\r\nWebclient works in firefox.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev dd13a3e2) (rev dd13a3e2)\r\nOS: posix\r\nPython: 3.7.7\r\nTwisted: 19.10.0\r\nDjango: 2.2.11\r\nFirefox run from windows 10\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n![evennia_error](https://user-images.githubusercontent.com/39064412/81120967-fad55d80-8eea-11ea-9a12-a2ea960c05f7.png)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2120", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2120/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2120/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2120/events", "html_url": "https://github.com/evennia/evennia/issues/2120", "id": 608646560, "node_id": "MDU6SXNzdWU2MDg2NDY1NjA=", "number": 2120, "title": "[BUG] list_to_string doesn't like generators", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-28T22:07:09Z", "updated_at": "2020-06-28T09:10:15Z", "closed_at": "2020-06-28T09:10:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf one passes a generator to `list_to_string`, it will choke with a TypeError:\r\n```\r\nFile \"/home/ubuntu/workspace/evennia/evennia/utils/utils.py\", line 382, in list_to_string\r\n    if len(inlist) == 1:\r\nTypeError: object of type 'generator' has no len()\r\n```\r\n\r\n#### Expected behavior\r\nI'd personally expect the function to just cast the generator to something valid, but given that it would exhaust the generator I don't know if that presumption is socially acceptable.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2120/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2117", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2117/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2117/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2117/events", "html_url": "https://github.com/evennia/evennia/issues/2117", "id": 605340614, "node_id": "MDU6SXNzdWU2MDUzNDA2MTQ=", "number": 2117, "title": "[BUG] bug in system 'scripts' command", "user": {"login": "trhr", "id": 5786272, "node_id": "MDQ6VXNlcjU3ODYyNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5786272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trhr", "html_url": "https://github.com/trhr", "followers_url": "https://api.github.com/users/trhr/followers", "following_url": "https://api.github.com/users/trhr/following{/other_user}", "gists_url": "https://api.github.com/users/trhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/trhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trhr/subscriptions", "organizations_url": "https://api.github.com/users/trhr/orgs", "repos_url": "https://api.github.com/users/trhr/repos", "events_url": "https://api.github.com/users/trhr/events{/privacy}", "received_events_url": "https://api.github.com/users/trhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-23T08:26:47Z", "updated_at": "2020-06-28T09:37:32Z", "closed_at": "2020-06-28T09:37:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/5786272/80076657-1e270280-8512-11ea-92d7-e4ff04c8e51a.png)\r\n\r\nget_all_scripts() returns a list, but .exclude() is a queryset function.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2116", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2116/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2116/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2116/events", "html_url": "https://github.com/evennia/evennia/issues/2116", "id": 603130700, "node_id": "MDU6SXNzdWU2MDMxMzA3MDA=", "number": 2116, "title": "[BUG] Storing method in .db attribute raises exception", "user": {"login": "trhr", "id": 5786272, "node_id": "MDQ6VXNlcjU3ODYyNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5786272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trhr", "html_url": "https://github.com/trhr", "followers_url": "https://api.github.com/users/trhr/followers", "following_url": "https://api.github.com/users/trhr/following{/other_user}", "gists_url": "https://api.github.com/users/trhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/trhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trhr/subscriptions", "organizations_url": "https://api.github.com/users/trhr/orgs", "repos_url": "https://api.github.com/users/trhr/repos", "events_url": "https://api.github.com/users/trhr/events{/privacy}", "received_events_url": "https://api.github.com/users/trhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-20T10:33:54Z", "updated_at": "2020-06-29T15:37:37Z", "closed_at": "2020-05-15T20:01:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nStoring a method in a db attr seems to throw a select.epoll error, no matter how simple the method is\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\nhttps://hastebin.com/uguyesaqaj.rb", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2112", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2112/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2112/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2112/events", "html_url": "https://github.com/evennia/evennia/issues/2112", "id": 602543325, "node_id": "MDU6SXNzdWU2MDI1NDMzMjU=", "number": 2112, "title": "[BUG] Admin changing password logs admin out.", "user": {"login": "P-Fitzgerald", "id": 63561487, "node_id": "MDQ6VXNlcjYzNTYxNDg3", "avatar_url": "https://avatars.githubusercontent.com/u/63561487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/P-Fitzgerald", "html_url": "https://github.com/P-Fitzgerald", "followers_url": "https://api.github.com/users/P-Fitzgerald/followers", "following_url": "https://api.github.com/users/P-Fitzgerald/following{/other_user}", "gists_url": "https://api.github.com/users/P-Fitzgerald/gists{/gist_id}", "starred_url": "https://api.github.com/users/P-Fitzgerald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/P-Fitzgerald/subscriptions", "organizations_url": "https://api.github.com/users/P-Fitzgerald/orgs", "repos_url": "https://api.github.com/users/P-Fitzgerald/repos", "events_url": "https://api.github.com/users/P-Fitzgerald/events{/privacy}", "received_events_url": "https://api.github.com/users/P-Fitzgerald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-18T20:19:36Z", "updated_at": "2020-06-26T19:19:26Z", "closed_at": "2020-06-26T19:18:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nWhen using the Admin interface to change a users password (IE. http://192.168.0.1:4001/admin/accounts/accountdb/2/password/ ). You can change the password but it gives a 'Error 500, Internal Server Error' and then requires you to log back in again although the password IS changed.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1.  Find a user to change the password of.\r\n2. Change Password.\r\n3. See Error\r\n\r\n#### Expected behavior\r\n\r\nI expect to be dropped back into the Admin interface after changing the users password. When I click 'Return to home page' I get a notification that 'Password changed successfully' but I'm logged out of the admin account as well.\r\n\r\n#### Environment, Evennia version, OS etc\r\nIf unsure, run `evennia -v` or get the first few lines of the `about` command in-game.\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2102", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2102/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2102/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2102/events", "html_url": "https://github.com/evennia/evennia/issues/2102", "id": 600634401, "node_id": "MDU6SXNzdWU2MDA2MzQ0MDE=", "number": 2102, "title": "[BUG] EvTable and panes", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-15T22:51:54Z", "updated_at": "2020-06-26T12:03:36Z", "closed_at": "2020-06-26T12:02:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nUsing a layout that has multiple panes and trying to send an EvTable to one of them gives a traceback. The table works just fine in Main and I can output text to the other pane, but when I attempt to send an EvTable it doesn't work.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create new pane in addition to Main on in webclient\r\n2. Send EvTable to that pane using a tag\r\n4. Portal Traceback\r\n\r\n Traceback (most recent call last):\r\n   File \"f:\\repositories\\evennia\\evennia\\server\\portal\\portalsessionhandler.py\", line 454, in data_out\r\n     getattr(session, funcname)(*cmdargs, **cmdkwargs)\r\n   File \"f:\\repositories\\evennia\\evennia\\server\\portal\\webclient.py\", line 273, in send_text\r\n     args[0] = parse_html(text, strip_ansi=nocolor)\r\n   File \"f:\\repositories\\evennia\\evennia\\utils\\text2html.py\", line 369, in parse_html\r\n     return parser.parse(string, strip_ansi=strip_ansi)\r\n   File \"f:\\repositories\\evennia\\evennia\\utils\\text2html.py\", line 337, in parse\r\n     text = parse_ansi(text, strip_ansi=strip_ansi, xterm256=True, mxp=True)\r\n   File \"f:\\repositories\\evennia\\evennia\\utils\\ansi.py\", line 479, in parse_ansi\r\n    return parser.parse_ansi(string, strip_ansi=strip_ansi, xterm256=xterm256, mxp=mxp)\r\n   File \"f:\\repositories\\evennia\\evennia\\utils\\ansi.py\", line 412, in parse_ansi\r\n     string = self.brightbg_sub.sub(self.sub_brightbg, string)\r\n TypeError: expected string or bytes-like object`", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2101", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2101/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2101/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2101/events", "html_url": "https://github.com/evennia/evennia/issues/2101", "id": 600286166, "node_id": "MDU6SXNzdWU2MDAyODYxNjY=", "number": 2101, "title": "[BUG] Database connection error inside twisted deferred", "user": {"login": "trhr", "id": 5786272, "node_id": "MDQ6VXNlcjU3ODYyNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5786272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trhr", "html_url": "https://github.com/trhr", "followers_url": "https://api.github.com/users/trhr/followers", "following_url": "https://api.github.com/users/trhr/following{/other_user}", "gists_url": "https://api.github.com/users/trhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/trhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trhr/subscriptions", "organizations_url": "https://api.github.com/users/trhr/orgs", "repos_url": "https://api.github.com/users/trhr/repos", "events_url": "https://api.github.com/users/trhr/events{/privacy}", "received_events_url": "https://api.github.com/users/trhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-15T13:11:02Z", "updated_at": "2020-06-26T10:32:59Z", "closed_at": "2020-06-26T10:32:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAfter ~8 hours of nonuse, attempts to query the mysql from inside the portal in specific ways are unsuccessful.\r\n\r\n![image](https://user-images.githubusercontent.com/5786272/79340615-2c609780-7ef0-11ea-8f42-3a1564ee62ad.png)\r\n\r\nThis line returns \"Connection has gone away\" error after trying to access a twisted deferred call to the cursor, which it expects to exist but does not. Does not reproduce on existing protocols in obvious ways.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Without accessing the Django website, connect to the websocket and pass in the csessid via wss://ip/ws?csessid\r\n2. Wait until the mysql connection dies due to wait, and repeat step 1\r\n3. See error\r\n\r\n#### Expected behavior\r\nI should be able to run database queries at any point in the server's database connection lifecycle.\r\n\r\n#### Environment, Evennia version, OS etc\r\ndebian, ev 0.9", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2100", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2100/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2100/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2100/events", "html_url": "https://github.com/evennia/evennia/issues/2100", "id": 599745409, "node_id": "MDU6SXNzdWU1OTk3NDU0MDk=", "number": 2100, "title": "[BUG] Repeated errors from Portal after websocket disconnect", "user": {"login": "elixx", "id": 2325870, "node_id": "MDQ6VXNlcjIzMjU4NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2325870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elixx", "html_url": "https://github.com/elixx", "followers_url": "https://api.github.com/users/elixx/followers", "following_url": "https://api.github.com/users/elixx/following{/other_user}", "gists_url": "https://api.github.com/users/elixx/gists{/gist_id}", "starred_url": "https://api.github.com/users/elixx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elixx/subscriptions", "organizations_url": "https://api.github.com/users/elixx/orgs", "repos_url": "https://api.github.com/users/elixx/repos", "events_url": "https://api.github.com/users/elixx/events{/privacy}", "received_events_url": "https://api.github.com/users/elixx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-14T17:42:52Z", "updated_at": "2020-11-13T22:11:11Z", "closed_at": "2020-11-13T22:11:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI am trying to troubleshoot a websocket disconnection error; I have CloudFlare in front of nginx, which proxies to a docker instance of `evennia/evennia:latest`. In troubleshooting, I'm seeing odd behaviour where the Portal continues to repeatedly log an error, even after the web client and session have gone away. I understand that the websocket disconnection is kind of a complicated edge case, but the fact that it continues to log errors until restarted suggests that the session isn't being cleaned up upon disconnection.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. While running evennia in Docker, have a nginx reverse proxy. Have evennia use `WEBSOCKET_CLIENT_URL = \"wss://mud.domain.com/ws\"` and \r\n2. Configure CloudFlare origin to point to your server\r\n3. Connect with webclient and wait for session to disconnect.\r\n4. See error below -- Even after the browser session is logged-out and closed completely, the errors will continue to be logged by the evennia Portal.\r\n\r\n#### Expected behavior\r\nIt sounds like the back-end isn't aware that the webclient has disconnected. I'd expect it to not continue to send data and throw exceptions.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 0.9.0\r\n    OS: posix\r\n    Python: 3.7.7\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n```\r\n\r\n#### Additional context\r\n\r\n```\r\n20-04-14 17:32:07  |Portal| [::] Traceback (most recent call last):\r\n20-04-14 17:32:07  |Portal| [::]   File \"/usr/src/evennia/evennia/server/portal/portalsessionhandler.py\", line 454, in data_out\r\n20-04-14 17:32:07  |Portal| [::]     getattr(session, funcname)(*cmdargs, **cmdkwargs)\r\n20-04-14 17:32:07  |Portal| [::]   File \"/usr/src/evennia/evennia/server/portal/webclient.py\", line 276, in send_text\r\n20-04-14 17:32:07  |Portal| [::]     self.sendLine(json.dumps([cmd, args, kwargs]))\r\n20-04-14 17:32:07  |Portal| [::]   File \"/usr/src/evennia/evennia/server/portal/webclient.py\", line 194, in sendLine\r\n20-04-14 17:32:07  |Portal| [::]     return self.sendMessage(line.encode())\r\n20-04-14 17:32:07  |Portal| [::]   File \"/usr/local/lib/python3.7/site-packages/autobahn/websocket/protocol.py\", line 2216, in sendMessage\r\n20-04-14 17:32:07  |Portal| [::]     raise Disconnected(\"Attempt to send on a closed protocol\")\r\n20-04-14 17:32:07  |Portal| [::] autobahn.exception.Disconnected: Attempt to send on a closed protocol\r\n```\r\n\r\nRelevant sections of nginx config:\r\n```\r\nupstream mud_backend {\r\n  server 192.0.0.x:4001;\r\n}\r\n\r\nupstream mud_ws_backend {\r\n  server 192.0.0.x:4002;\r\n  keepalive 10;\r\n}\r\n...\r\n    location ~ /ws {\r\n      include snippets/proxy_headers.conf;\r\n       proxy_http_version 1.1;\r\n       proxy_set_header Upgrade $http_upgrade;\r\n       proxy_set_header Connection \"upgrade\";\r\n       client_max_body_size 1024M;\r\n       proxy_set_header X-Frame-Options SAMEORIGIN;\r\n       proxy_read_timeout 86400;\r\n       proxy_send_timeout 86400;\r\n       proxy_buffering off;\r\n       \r\n       proxy_pass http://mud_ws_backend;\r\n\r\n   }\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2098", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2098/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2098/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2098/events", "html_url": "https://github.com/evennia/evennia/issues/2098", "id": 598567091, "node_id": "MDU6SXNzdWU1OTg1NjcwOTE=", "number": 2098, "title": "[BUG] Error when logging in as a Guest", "user": {"login": "P-Fitzgerald", "id": 63561487, "node_id": "MDQ6VXNlcjYzNTYxNDg3", "avatar_url": "https://avatars.githubusercontent.com/u/63561487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/P-Fitzgerald", "html_url": "https://github.com/P-Fitzgerald", "followers_url": "https://api.github.com/users/P-Fitzgerald/followers", "following_url": "https://api.github.com/users/P-Fitzgerald/following{/other_user}", "gists_url": "https://api.github.com/users/P-Fitzgerald/gists{/gist_id}", "starred_url": "https://api.github.com/users/P-Fitzgerald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/P-Fitzgerald/subscriptions", "organizations_url": "https://api.github.com/users/P-Fitzgerald/orgs", "repos_url": "https://api.github.com/users/P-Fitzgerald/repos", "events_url": "https://api.github.com/users/P-Fitzgerald/events{/privacy}", "received_events_url": "https://api.github.com/users/P-Fitzgerald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-12T20:40:37Z", "updated_at": "2020-06-26T14:35:15Z", "closed_at": "2020-06-26T14:34:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nError appears to be related to MULTISESSION_MODE = 3. The error does not appear in MULTISESSION_MODE = 1 which leads me to believe it is related to these higher level sessions not generating a character object for the temporary account.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Run Evennia with MULTISESSION_MODE = 3 (May also occur in 2. Does not occur in 1 and possibly 0).\r\n2. Login as a guest (with connect guest)\r\n3. See error ( https://pastebin.com/MZh8qyax )\r\n\r\n#### Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\nExpect a guest account to have a character object automatically created and dropped into the DEFAULT_HOME or START_LOCATION.\r\n\r\n#### Environment, Evennia version, OS etc\r\nIf unsure, run `evennia -v` or get the first few lines of the `about` command in-game.\r\n\r\n    Evennia 0.9.0 (rev 5b93aeb4) (rev 5b93aeb4)\r\n    OS: posix\r\n    Python: 3.7.3\r\n    Twisted: 19.10.0\r\n    Django: 2.2.12\r\n\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n\r\nProbably just make it generate a default character object and automatically puppet them when a guest session is created. Alternatively could possibly include a setting or just assume that guest accounts are only able to have a MAX_NR_CHARACTERS = 1 or maybe a guest-specific setting so they don't generate a bunch of character objects.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2098/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2098/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2093", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2093/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2093/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2093/events", "html_url": "https://github.com/evennia/evennia/issues/2093", "id": 597666509, "node_id": "MDU6SXNzdWU1OTc2NjY1MDk=", "number": 2093, "title": "[BUG] TravisCI Postgres/MySQL Tests Failing", "user": {"login": "trhr", "id": 5786272, "node_id": "MDQ6VXNlcjU3ODYyNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5786272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trhr", "html_url": "https://github.com/trhr", "followers_url": "https://api.github.com/users/trhr/followers", "following_url": "https://api.github.com/users/trhr/following{/other_user}", "gists_url": "https://api.github.com/users/trhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/trhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trhr/subscriptions", "organizations_url": "https://api.github.com/users/trhr/orgs", "repos_url": "https://api.github.com/users/trhr/repos", "events_url": "https://api.github.com/users/trhr/events{/privacy}", "received_events_url": "https://api.github.com/users/trhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-10T02:59:49Z", "updated_at": "2020-04-15T08:47:17Z", "closed_at": "2020-04-15T08:47:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Just two things to note here:\r\n\r\n- These databases fail on TravisCI. They also fail on Github's Actions, where I run my tests. With the same error.\r\n-  The tests do not actually fail on a real box. I have a live server on MySQL, and my tests are fine.\r\n\r\nWeird.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2093/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2088", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2088/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2088/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2088/events", "html_url": "https://github.com/evennia/evennia/issues/2088", "id": 596902774, "node_id": "MDU6SXNzdWU1OTY5MDI3NzQ=", "number": 2088, "title": "[BUG] Search function returns both list and queryset.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-08T22:31:49Z", "updated_at": "2020-06-26T10:16:37Z", "closed_at": "2020-06-26T10:16:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n`caller.search` from a command returns a list for the item I have on my character, but a queryset for the item on the ground. Both items are of the Object typeclass, the only difference are the names and the locations of the objects. There's only one of each item in existence.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Put item on player's character.\r\n2. Put item on ground.\r\n3. Call a search for each item.\r\n4. Print the results.\r\n5. Item on character will return as a list.\r\n6. Item on ground will return as a queryset.\r\n\r\n#### Expected behavior\r\nBoth searches should return a list.\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.0 (rev dd13a3e2)\r\n         OS: nt\r\n         Python: 3.7.4\r\n         Twisted: 19.2.1\r\n         Django: 2.2.9\r\n\r\n#### Additional context\r\nHere's a pastebin showing my print results at the top and the code I was checking below:\r\nhttps://pastebin.com/Mg2LSuDr\r\n\r\nHere are the functioning commands, after I added in the proper len() checks, more specifically the CmdPut(Command):\r\nhttps://pastebin.com/e1KNiSKC", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2080", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2080/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2080/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2080/events", "html_url": "https://github.com/evennia/evennia/issues/2080", "id": 586593739, "node_id": "MDU6SXNzdWU1ODY1OTM3Mzk=", "number": 2080, "title": "[BUG] Evennia Webserver Tracebacks.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-23T23:56:44Z", "updated_at": "2022-02-13T13:20:16Z", "closed_at": "2022-02-13T13:20:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nStarting up Evennia and then navigating to localhost:4001 on Firefox Win10 results in several tracebacks.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Start Evennia\r\n2. Navigate to the localhost site.\r\n3. See tracebacks\r\n\r\n#### Expected behavior\r\nNo errors.\r\n\r\n#### Environment, Evennia version, OS etc\r\nWindows 10\r\nPython: 3.7.4\r\nTwisted: 19.2.1\r\nDjango: 2.2.9\r\n\r\n\r\nEvennia Portal 0.9.0 (rev dd13a3e2)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nEvennia Server 0.9.0 (rev dd13a3e2)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n\r\n#### Additional context\r\nThe tracebacks from navigating to local host: https://pastebin.com/LAXFPMPP\r\n\r\nI then navigate to the admin page and these tracebacks happen: https://pastebin.com/k15rpNeB", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2080/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2079", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2079/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2079/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2079/events", "html_url": "https://github.com/evennia/evennia/issues/2079", "id": 584837191, "node_id": "MDU6SXNzdWU1ODQ4MzcxOTE=", "number": 2079, "title": "[BUG] Password too similar to \"dummy\" prevents account creation", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-20T04:28:21Z", "updated_at": "2020-03-20T20:58:03Z", "closed_at": "2020-03-20T20:58:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhile trying to create an account (without specifying an email address), player used a password that contained 'dummy' (backwards) and couldn't make an account. The log showed that the password was too similar to the (non-existent and set to dummy@example.com) email address. There also wasn't any notification to the player that this was why there was trouble creating the account - it just told them there was a problem and to contact an admin if it persisted.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2075", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2075/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2075/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2075/events", "html_url": "https://github.com/evennia/evennia/issues/2075", "id": 581464597, "node_id": "MDU6SXNzdWU1ODE0NjQ1OTc=", "number": 2075, "title": "[BUG] Minor rplanguage contrib sentence identification oversight", "user": {"login": "Lichado", "id": 59547756, "node_id": "MDQ6VXNlcjU5NTQ3NzU2", "avatar_url": "https://avatars.githubusercontent.com/u/59547756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lichado", "html_url": "https://github.com/Lichado", "followers_url": "https://api.github.com/users/Lichado/followers", "following_url": "https://api.github.com/users/Lichado/following{/other_user}", "gists_url": "https://api.github.com/users/Lichado/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lichado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lichado/subscriptions", "organizations_url": "https://api.github.com/users/Lichado/orgs", "repos_url": "https://api.github.com/users/Lichado/repos", "events_url": "https://api.github.com/users/Lichado/events{/privacy}", "received_events_url": "https://api.github.com/users/Lichado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-15T02:03:57Z", "updated_at": "2020-03-21T18:01:08Z", "closed_at": "2020-03-21T18:01:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe rplanguage contrib only identifies \".\" as final sentence punctuation. \"?\", and \"!\" are also common, leading to failed identification of new sentences.\r\n\r\n#### To Reproduce\r\nUse say and end a sentence with \"?\", then start another sentence.\r\n\r\n#### Expected behavior\r\nIdentify \"?\" and \"!\" as end of sentence for proper nouns and capitalization.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 228b7495) (rev 228b7495)\r\n    OS: nt\r\n    Python: 3.8.1\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n#### Additional context\r\nPossible fix, replacing line 334 of rplanguage.py:\r\n```\r\nif preceeding.endswith(\".\") or preceeding.endswith(\"?\") or preceeding.endswith(\"!\"):\r\n    start_sentence = True\r\nelse:\r\n    start_sentence = False\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2070", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2070/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2070/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2070/events", "html_url": "https://github.com/evennia/evennia/issues/2070", "id": 575796903, "node_id": "MDU6SXNzdWU1NzU3OTY5MDM=", "number": 2070, "title": "File \"setup.py\" not found", "user": {"login": "LucasMali", "id": 4554407, "node_id": "MDQ6VXNlcjQ1NTQ0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4554407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucasMali", "html_url": "https://github.com/LucasMali", "followers_url": "https://api.github.com/users/LucasMali/followers", "following_url": "https://api.github.com/users/LucasMali/following{/other_user}", "gists_url": "https://api.github.com/users/LucasMali/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucasMali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucasMali/subscriptions", "organizations_url": "https://api.github.com/users/LucasMali/orgs", "repos_url": "https://api.github.com/users/LucasMali/repos", "events_url": "https://api.github.com/users/LucasMali/events{/privacy}", "received_events_url": "https://api.github.com/users/LucasMali/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-04T21:36:58Z", "updated_at": "2020-03-05T09:24:34Z", "closed_at": "2020-03-05T09:24:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\npip install -e evennia\r\n\r\nERROR: File \"setup.py\" not found. Directory cannot be installed in editable mode: /home/parallels/Developer/evennia/evennia\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Follow this guide https://github.com/evennia/evennia/wiki/Getting-Started#mac-install\r\n\r\n#### Expected behavior\r\nNot error out.\r\n\r\n#### Environment, Evennia version, OS etc\r\nUbuntu 18.04, Python3.6.9, latest Evennia\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2061", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2061/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2061/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2061/events", "html_url": "https://github.com/evennia/evennia/issues/2061", "id": 568514599, "node_id": "MDU6SXNzdWU1Njg1MTQ1OTk=", "number": 2061, "title": "[BUG] Bug in executing script", "user": {"login": "finalcn", "id": 39675735, "node_id": "MDQ6VXNlcjM5Njc1NzM1", "avatar_url": "https://avatars.githubusercontent.com/u/39675735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finalcn", "html_url": "https://github.com/finalcn", "followers_url": "https://api.github.com/users/finalcn/followers", "following_url": "https://api.github.com/users/finalcn/following{/other_user}", "gists_url": "https://api.github.com/users/finalcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/finalcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finalcn/subscriptions", "organizations_url": "https://api.github.com/users/finalcn/orgs", "repos_url": "https://api.github.com/users/finalcn/repos", "events_url": "https://api.github.com/users/finalcn/events{/privacy}", "received_events_url": "https://api.github.com/users/finalcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-20T19:19:46Z", "updated_at": "2020-02-29T11:27:35Z", "closed_at": "2020-02-29T11:27:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bug in executing script\r\n\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Bug 1\r\n```python\r\nclass BugScript(DoNothing):\r\n    def at_script_creation(self):\r\n        self.interval=1\r\n    def at_repeat(self):\r\n        self.stop()\r\n```\r\nrun script self=script.test.BugScript\r\n```\r\nat_repeat()  ''NoneType' object has no attribute 'callcount''\r\n```\r\n2. Bug 2\r\n```python\r\nclass BugScript(DoNothing):\r\n    def at_script_creation(self):\r\n        self.interval=1\r\n        self.start_delay=3\r\n    def at_repeat(self):\r\n        pass\r\n```\r\nrun script self=script.test.BugScript\r\n```\r\ndjango.core.exceptions.ValidationError: [\"'3' value must be either True or False.\"]\r\n```\r\n\r\n         Evennia version: 0.9.0\r\n         OS: nt\r\n         Python: 3.8.0\r\n         Twisted: 19.7.0\r\n         Django: 2.2.9", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2061/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2061/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2059", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2059/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2059/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2059/events", "html_url": "https://github.com/evennia/evennia/issues/2059", "id": 567829118, "node_id": "MDU6SXNzdWU1Njc4MjkxMTg=", "number": 2059, "title": "[BUG] rpsystem contrib recog parsing bug", "user": {"login": "Lichado", "id": 59547756, "node_id": "MDQ6VXNlcjU5NTQ3NzU2", "avatar_url": "https://avatars.githubusercontent.com/u/59547756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lichado", "html_url": "https://github.com/Lichado", "followers_url": "https://api.github.com/users/Lichado/followers", "following_url": "https://api.github.com/users/Lichado/following{/other_user}", "gists_url": "https://api.github.com/users/Lichado/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lichado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lichado/subscriptions", "organizations_url": "https://api.github.com/users/Lichado/orgs", "repos_url": "https://api.github.com/users/Lichado/repos", "events_url": "https://api.github.com/users/Lichado/events{/privacy}", "received_events_url": "https://api.github.com/users/Lichado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-19T20:33:38Z", "updated_at": "2020-02-29T13:01:19Z", "closed_at": "2020-02-29T13:00:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nSmall, easily correctable bug for beginners with the rpsystem contrib. Recogging a player without enough arguments returns:\r\n```\r\nTraceback (most recent call last):\r\n  File \"j:\\games\\mud development\\evennia\\evennia\\commands\\cmdhandler.py\", line 631, in _run_command\r\n    ret = cmd.func()\r\n  File \"j:\\games\\mud development\\evennia\\evennia\\contrib\\rpsystem.py\", line 1110, in func\r\n    alias = caller.recog.add(obj, alias)\r\n  File \"j:\\games\\mud development\\evennia\\evennia\\contrib\\rpsystem.py\", line 757, in add\r\n    raise SdescError(\"Recog string cannot be empty.\")\r\nevennia.contrib.rpsystem.SdescError: Recog string cannot be empty.\r\n\r\nAn untrapped error occurred.\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. recog (target)\r\n\r\n#### Expected behavior\r\nCatch with parsing and return expected command usage instructions to player.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 06c1ace3) (rev 06c1ace3)\r\n    OS: nt\r\n    Python: 3.8.1\r\n    Twisted: 19.10.0\r\n    Django: 2.2.9\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2059/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2057", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2057/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2057/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2057/events", "html_url": "https://github.com/evennia/evennia/issues/2057", "id": 565858463, "node_id": "MDU6SXNzdWU1NjU4NTg0NjM=", "number": 2057, "title": "[BUG] evennia command hangs if server start fails", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-16T06:14:43Z", "updated_at": "2022-02-13T11:38:55Z", "closed_at": "2022-02-13T11:38:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIf you try to issue `evennia start` and the server has an error, the application will hang.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Add raising a ValueError to the webserver's addService, or some other non-import-time error.\r\n2. attempt to start the game with `evennia start`\r\n3. See `Server starting ...` and the error in server.log\r\n4. Freeze forever.\r\n\r\n#### Expected behavior\r\nThe CLI to display the error to the user and return to the commandline.\r\n\r\n#### Environment, Evennia version, OS etc\r\nlinux, latest rev\r\n\r\n#### Additional context\r\nIt occurred to me that this probably wasn't intended behavior as I was trying to investigate adding a retry mechanism on failures.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2054", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2054/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2054/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2054/events", "html_url": "https://github.com/evennia/evennia/issues/2054", "id": 562811442, "node_id": "MDU6SXNzdWU1NjI4MTE0NDI=", "number": 2054, "title": "[Cleanup] Code duplication: comms.managers.dbref == evennia.utils.dbref", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-10T20:34:05Z", "updated_at": "2020-02-12T22:19:27Z", "closed_at": "2020-02-12T22:19:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe\r\n`evennia.comms.managers.dbref` seems to replicate the intent and functionality of `evennia.utils.utils.dbref`; given that these codeblocks lack parity it also appears one or the other is stale.\r\n\r\nThe expected inputs and outputs are the same so it is unclear what benefit this duplicated effort serves. I assume it was an oversight.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2053", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2053/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2053/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2053/events", "html_url": "https://github.com/evennia/evennia/issues/2053", "id": 562581402, "node_id": "MDU6SXNzdWU1NjI1ODE0MDI=", "number": 2053, "title": "[BUG] Corrupt log locks server", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 34, "created_at": "2020-02-10T14:03:16Z", "updated_at": "2022-02-13T11:00:01Z", "closed_at": "2022-02-13T10:57:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThis is related to the old bug where the AMP sends garbage data in a loop between the portal and server. It seems when this information is dumped to the server.log, it locks down the entire process: the server can no longer be gracefully shut down, so it requires a `kill -9` to stop every time. Interestingly, even trying to tail the log can freeze up a shell sometimes, at least when ssh'd in on MacOS. Using `file` on the log says it's now a binary rather than text file.\r\n\r\nExample output:\r\n```\r\n0-02-10 08:52:16-05 [::]     return Int16StringReceiver.dataReceived(self, data)\r\n20-02-10 08:52:16-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 766, in dataReceived\r\n20-02-10 08:52:16-05 [::]     self.stringReceived(packet)\r\n20-02-10 08:52:16-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 878, in stringReceived\r\n20-02-10 08:52:16-05 [::]     self.state = statehandler(string)\r\n20-02-10 08:52:16-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2459, in proto_key\r\n20-02-10 08:52:16-05 [::]     self.boxReceiver.ampBoxReceived(self._currentBox)\r\n20-02-10 08:52:16-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 1058, in ampBoxReceived\r\n20-02-10 08:52:16-05 [::]     self._answerReceived(box)\r\n20-02-10 08:52:16-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 984, in _answerReceived\r\n20-02-10 08:52:16-05 [::]     question = self._outstandingRequests.pop(box[ANSWER])\r\n20-02-10 08:52:16-05 [::] KeyError: b'5825'\r\n20-02-10 08:52:16-05 [EE] Discarded incoming partial data: _ask3b3_commandMsgPortal2Server\r\n20-02-10 08:52:16-05 [EE] packed_dataFx\u00dak`\ufffdj\u00c1\u00be\ufffdB\u00b5SzXJR+J\u00a6\u00c4N\u00d1\ufffd\u00b23SrR\u00a7$\u00d6N\u00d1\u00e8aM\u00ceM\u00c9L\ufffd\u00e2\u00cd\u00d6\u00c3\ufffd_P\ufffd\ufffd\ufffdW<\u00a5vJijq\u00db=\u00b2Yc\r\n20-02-10 08:52:17-05 [::] Traceback (most recent call last):\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/evennia/evennia/server/portal/amp.py\", line 315, in dataReceived\r\n20-02-10 08:52:17-05 [::]     super(AMPMultiConnectionProtocol, self).dataReceived(data)\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2406, in dataReceived\r\n20-02-10 08:52:17-05 [::]     return Int16StringReceiver.dataReceived(self, data)\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 766, in dataReceived\r\n20-02-10 08:52:17-05 [::]     self.stringReceived(packet)\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 878, in stringReceived\r\n20-02-10 08:52:17-05 [::]     self.state = statehandler(string)\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2459, in proto_key\r\n20-02-10 08:52:17-05 [::]     self.boxReceiver.ampBoxReceived(self._currentBox)\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 1058, in ampBoxReceived\r\n20-02-10 08:52:17-05 [::]     self._answerReceived(box)\r\n20-02-10 08:52:17-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 984, in _answerReceived\r\n20-02-10 08:52:17-05 [::]     question = self._outstandingRequests.pop(box[ANSWER])\r\n20-02-10 08:52:17-05 [::] KeyError: b'5825'\r\n20-02-10 08:52:17-05 [EE] Discarded incoming partial data: _ask3b3_commandAdminPortal2Server\r\n20-02-10 08:52:17-05 [EE] packed_data\r\n20-02-10 08:52:17-05 [EE] x\u00daM\ufffd\u00cfJ\u00c3@\u00c6[\ufffd6\ufffd\u00b6\">\r\n20-02-10 08:52:17-05 [EE] -b\u00ed1MB(\u00eaF\u00a2E/\u00d6\u00ec\u00b6\u00b7\u00d9\ufffd\u00dd\ufffda\r\n20-02-10 08:52:17-05 [EE] \u00c6g\u00f3u\u00dc\u00feQ:\ufffd\ufffdo~\u00b33\u00f3\u00de\u00fe~j66q39y\u00c3Spd\u00c9+\u00aasY 4\ufffd\ufffd+e\u00a3\ufffd\u00e2\u00da\u00d0++\u00a9e&E\u00fa\u00c2_:\ufffd\ufffd\ufffdk\ufffd2V/0\r\n20-02-10 08:52:17-05 [EE] \u00b9\u00c3\u00e1\u00d8=w\u00a3\r\n20-02-10 08:52:17-05 [EE] K\u00d59C\ufffdM+\ufffd\u00e6'\u00b0\u00b3\ufffd \u00d0\u00da\u00d2v]\u00d0%7\ufffd#\u00e4b\u00c1Y\ufffd\u00f8        V\u00b9\u00a5N&\ufffd\"\u00d5\u00b9qD\u00de\u00cf\u00d7\u00a3\u00e5\u00f9}8\u00ce\ufffd,T\u00e9t\ufffd\u00ab\u00fcY\u00ec\u00b3\u00ee\u00db\u00ab9\u00eb\ufffd\ufffd\ufffd\r\n20-02-10 08:52:17-05 [EE] \u00bcj\u00c0\u00d1\u00ff\"sAj\u00b3\\7$~\r\n20-02-10 08:52:17-05 [EE] LI\ufffdf\r\n20-02-10 08:52:17-05 [EE] =?\u00bbD\u00e8\u00dd\u00f9I\ufffd$\u00f4\ufffd01\r\n20-02-10 08:52:17-05 [EE] L\u00c9\u00ed\u00ec'\u00b3\u00c8\u00a8V\u00e2=\ufffd\u00c7&\u00b1_\u00c7\ufffd\u00d7\u00eb\ufffdU+^\u00a5\u00bb\ufffd\u00d5\u00f5\u00ba\u00bf\ufffd3\ufffd\u00de\r\n20-02-10 08:52:18-05 [::] Traceback (most recent call last):\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/evennia/evennia/server/portal/amp.py\", line 315, in dataReceived\r\n20-02-10 08:52:18-05 [::]     super(AMPMultiConnectionProtocol, self).dataReceived(data)\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2406, in dataReceived\r\n20-02-10 08:52:18-05 [::]     return Int16StringReceiver.dataReceived(self, data)\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 766, in dataReceived\r\n20-02-10 08:52:18-05 [::]     self.stringReceived(packet)\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/basic.py\", line 878, in stringReceived\r\n20-02-10 08:52:18-05 [::]     self.state = statehandler(string)\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 2459, in proto_key\r\n20-02-10 08:52:18-05 [::]     self.boxReceiver.ampBoxReceived(self._currentBox)\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 1058, in ampBoxReceived\r\n20-02-10 08:52:18-05 [::]     self._answerReceived(box)\r\n20-02-10 08:52:18-05 [::]   File \"/home/tehom/arx/arxvenv/lib/python3.8/site-packages/twisted/protocols/amp.py\", line 984, in _answerReceived\r\n20-02-10 08:52:18-05 [::]     question = self._outstandingRequests.pop(box[ANSWER])\r\n20-02-10 08:52:18-05 [::] KeyError: b'5825'\r\n20-02-10 08:52:18-05 [EE] Discarded incoming partial data: _ask3b3_commandAdminPortal2Server\r\n20-02-10 08:52:18-05 [EE] packed_dataTx\u00da=POO\u00c20\r\n20-02-10 08:52:18-05 [EE]\r\n20-02-10 08:52:18-05 [EE]\u00f2ox\u00d0/\u00e1\u00c5%9\ufffd\u00aen\r\n20-02-10 08:52:18-05 [EE] [\u00bb\ufffd\"x\"\r\n20-02-10 08:52:18-05 [EE] \u2592\ufffd\ufffdl\ufffd\ufffdOF\ufffd\r\n20-02-10 08:52:18-05 [EE] <\u00d4o\u00e0w\u00f2\u00eb\u00d8\u00da\u00cb\u00fb\u00bd_\u00df\u00ef\u00bd\u00e4\u00bdV\u00bf\u00be\u00cb\u00a5\u00dd\r\n20-02-10 08:52:18-05 [EE] \ufffd\u00a7/\u00ea\\6\u00f86\u00cdb\u00b1\u00e2\u2592\ufffd\ufffd\u00ad<\u00cds\u00cd\ufffdX\u00c4\u00acm\u00c6_\u00f0\u00f5\u00fc!}V\u00f2X\u00a4\u00ebM*\ufffd\u00ac\u00c5I\ufffdi\u00ad\ufffd\u00ed\u00ce\u00a0ow\u00bb\u00fb\u00d2\u00ee\u00f4{Z\u00b2\u00b3H\ufffdN\ufffd\u00b5\u00c5\ufffd\u00d9X\u00f0\u00cdf.V\ufffd\u00a9r\u00c1\u00cf\u00e7\u00ac`[\ufffd\u00fc\u00bb/\u00d7\u00f1}\u00beK\u00ac#\u00a9\ufffd\ufffd\u00abd\u00b5\u00cb\ufffdk%\u00ad1\ufffd\"\ufffd\u00d4\ufffdlbN\ufffd\ufffd\ufffdW\u00b3L5\u00d4\r\n20-02-10 08:52:18-05 [EE] \u00d4\u00a7\u00e6\u00bfA\u00a8K\ufffd\u00a7\u00e5\u00ea]\u00b6\u00f6\u00c7S\u00ec0O\ufffdJ#\ufffd\u00ff9\u00bb\r\n20-02-10 08:52:18-05 [EE] \u00dbo\u00cfr\u00d9\u00be\u00a1D\"\ufffd\ufffd   \u00d2\u00b7U\u00c6\u00eeB3Tc\ufffd\ufffd\u00a1\u00c9\u00a4th \ufffdf\ufffd\r\n20-02-10 08:52:18-05 [EE] \ufffd\ufffdo\ufffd\u00ba>c(\r\n20-02-10 08:52:18-05 [EE] \u00baW==7\u00a1\ufffdaHwRU\u00b2b\ufffds\r\n20-02-10 08:52:18-05 [EE] \u00ae\r\n20-02-10 08:52:18-05 [EE] S|\u00f6\ufffdf\u00f3C\u00f1E\u00f1\u00a6\u00ec_\ufffdT\ufffd\u00a7\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Random error in AMP\r\n2.try to shut down server from console\r\n3. Command freezes\r\n4. Have to kill -9 the process\r\n\r\n#### Expected behavior\r\nThe game to handle the AMP error gracefully and not cause the process to lock up.\r\n\r\n#### Environment, Evennia version, OS etc\r\nIf unsure, run `evennia -v` or get the first few lines of the `about` command in-game.\r\n\r\n#### Additional context\r\nGetting rid of the discarded partial data bit might solve it, since that seems like it could be what's screwing up the log. Alternately, making shutdown not write to the log so that it can be independent of a buggy log might work, or wrapping logging during shutdown in a deferred with an errback, maybe? Something like that.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2053/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2047", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2047/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2047/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2047/events", "html_url": "https://github.com/evennia/evennia/issues/2047", "id": 558284395, "node_id": "MDU6SXNzdWU1NTgyODQzOTU=", "number": 2047, "title": "[BUG] Scripts - at_repeat() error ''NoneType' object has no attribute 'callcount''", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-31T18:08:08Z", "updated_at": "2020-02-12T22:14:00Z", "closed_at": "2020-02-12T22:14:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nGetting a script-related error in the logs but I'm having trouble isolating the stack trace.\r\n\r\n```\r\n20-01-31 17:56:20 [EE] Script xxxx(#48) of type 'Job': at_repeat() error ''NoneType' object has no attribute 'callcount''.\r\n```\r\n\r\n#### To Reproduce\r\nI don't have this problem with other scripts, so this is likely related to my efforts to remove the timer component from a running script by restarting it without one:\r\n\r\n```\r\ndef go_idle(self):\r\n    self.restart(interval=-1, start_delay=False)\r\n```\r\n\r\n#### Expected behavior\r\nScript should restart, maintain all the same attributes but not be registered to the ticker-- it should just go dormant.\r\n\r\nAs best I can tell, the script does do this, but it also triggers the above error any time I reference the dormant script after a reload.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia version: 0.9.0 (rev 1eacae3a)\r\n         OS: posix\r\n         Python: 3.7.6\r\n         Twisted: 19.10.0\r\n         Django: 2.2.9\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2047/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2047/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2046", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2046/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2046/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2046/events", "html_url": "https://github.com/evennia/evennia/issues/2046", "id": 557846404, "node_id": "MDU6SXNzdWU1NTc4NDY0MDQ=", "number": 2046, "title": "[BUG] Non-standard search multimatch regex failures", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-31T00:53:13Z", "updated_at": "2020-02-04T21:49:27Z", "closed_at": "2020-02-04T21:49:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nI changed the multimatch string around so that the numeric identifier became the suffix instead of the prefix (i.e. `object-2` instead of `2-object`).\r\n\r\n(Aside: where multimatches are detected, it is much easier to press Up and append a `-#` than having to move the cursor to the beginning of the line; many mobile devices and clients lack a Home button on the stock keyboard.)\r\n\r\n```\r\n# On a multi-match when search objects or commands, the user has the\r\n# ability to search again with an index marker that differentiates\r\n# the results. If multiple \"box\" objects\r\n# are found, they can by default be separated as 1-box, 2-box. Below you\r\n# can change the regular expression used. The regex must have one\r\n# have two capturing groups (?P<number>...) and (?P<name>...) - the default\r\n# parser expects this. It should also involve a number starting from 1.\r\n# When changing this you must also update SEARCH_MULTIMATCH_TEMPLATE\r\n# to properly describe the syntax.\r\nSEARCH_MULTIMATCH_REGEX = r\"(?P<name>.*)-(?P<number>[0-9]+)\"\r\n\r\n# To display multimatch errors in various listings we must display\r\n# the syntax in a way that matches what SEARCH_MULTIMATCH_REGEX understand.\r\n# The template will be populated with data and expects the following markup:\r\n# {number} - the order of the multimatch, starting from 1; {name} - the\r\n# name (key) of the multimatched entity; {aliases} - eventual\r\n# aliases for the entity; {info} - extra info like #dbrefs for staff. Don't\r\n# forget a line break if you want one match per line.\r\nSEARCH_MULTIMATCH_TEMPLATE = \" {name}-{number}{aliases}{info}\\n\"\r\n```\r\n\r\nAs a result I'm seeing two issues--\r\n* Where multimatches are detected, I can't get past the multimatch screen to make a selection-- it just keeps displaying the multimatch choices over and over.\r\n* When I try to use `@py` to manually search for the same object, I run into parsing issues at the character position where the hyphen should occur:\r\n\r\n```\r\n>>> self.search('obj\r\n    self.search('obj\r\n                   ^\r\nSyntaxError: EOL while scanning string literal\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/evennia2/evennia/commands/default/system.py\", line 212, in _run_code_snippet\r\n    pycode_compiled = compile(pycode, \"\", mode)\r\n  File \"<string>\", line 1\r\n    self.search('obj\r\n                   ^\r\nSyntaxError: EOL while scanning string literal\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia version: 0.9.0 (rev 1eacae3)\r\n         OS: posix\r\n         Python: 3.7.6\r\n         Twisted: 19.7.0\r\n         Django: 2.2.6\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2044", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2044/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2044/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2044/events", "html_url": "https://github.com/evennia/evennia/issues/2044", "id": 557238744, "node_id": "MDU6SXNzdWU1NTcyMzg3NDQ=", "number": 2044, "title": "[BUG] Axmud is an unsupported client", "user": {"login": "trhr", "id": 5786272, "node_id": "MDQ6VXNlcjU3ODYyNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5786272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trhr", "html_url": "https://github.com/trhr", "followers_url": "https://api.github.com/users/trhr/followers", "following_url": "https://api.github.com/users/trhr/following{/other_user}", "gists_url": "https://api.github.com/users/trhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/trhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trhr/subscriptions", "organizations_url": "https://api.github.com/users/trhr/orgs", "repos_url": "https://api.github.com/users/trhr/repos", "events_url": "https://api.github.com/users/trhr/events{/privacy}", "received_events_url": "https://api.github.com/users/trhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-01-30T03:03:05Z", "updated_at": "2020-02-01T22:17:01Z", "closed_at": "2020-02-01T22:15:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nAxmud can't connect to Evennia servers.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Connect to the evdemo server\r\n2. Get forcibly disconnected by Twisted\r\n\r\n#### Additional context\r\nI spent about twelve hours on this today, and here's what I found:\r\n\r\n- Axmud likes MSDP a lot. If it doesn't get MSDP commands it likes, it sends IAC DONT MSDP\r\n- Twisted doesn't like IAC DONT MSDP at all after the handshake has already been \"negotiated\" - following are two common errors I got depending on how deep I got into overloading inputfuncs and rewriting telnet_oob. Note that the first OptionRefused error is \\x22 (IAC DO LINEMODE) and the second is \\x45 (IAC DO MSDP)\r\n`\tFailure: twisted.conch.telnet.OptionRefused: twisted.conch.telnet.OptionRefused:b'\"'`\r\n`\tFailure: twisted.conch.telnet.OptionRefused: twisted.conch.telnet.OptionRefused:b'E'`\r\n- Evennia seems to be receiving and decoding MSDP commands ok; functions are being called correctly; args are correct. This seems to be entirely centered around its handling of the handshake.\r\n- I was actually able to reproduce a version of this bug in tintin; Evennia did not respond as expected when I sent IAC DO MSDP. The handshake appeared not to happen, and #send {$IAC$DO$MSDP\\} as an event on IAC WILL MSDP didn't seem to work either. But tintin maintained the connection without issue.\r\n- A raw dump of the telnet events looks perfect:\r\n`TELNET_EVENT: p1[253] p2[34] p3[\ufffd\ufffd\"] (IAC DO LINEMODE)`\r\n`TELNET_EVENT: p1[251] p2[3] p3[\ufffd\ufffd\u0003] (IAC DO ...)`\r\n`TELNET_EVENT: p1[253] p2[31] p3[\ufffd\ufffd\u001f] (IAC DO ...)`\r\n`TELNET_EVENT: p1[253] p2[24] p3[\ufffd\ufffd\u0018] (IAC DO ...)`\r\n`TELNET_EVENT: p1[251] p2[86] p3[\ufffd\ufffdV] (IAC DO ...)`\r\n`TELNET_EVENT: p1[251] p2[70] p3[\ufffd\ufffdF] (IAC DO MSSP)`\r\n`TELNET_EVENT: p1[251] p2[69] p3[\ufffd\ufffdE] (IAC DO MSDP)`\r\n- Bug verified on latest commit (1-29-20)\r\n- All other handshakes work beautifully on all clients. I'm stumped as to why Axmud falls on its sword when it's supposedly one of the \"more modern\" clients available.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2041", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2041/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2041/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2041/events", "html_url": "https://github.com/evennia/evennia/issues/2041", "id": 556204093, "node_id": "MDU6SXNzdWU1NTYyMDQwOTM=", "number": 2041, "title": "[BUG] Logs no longer rotating", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-28T13:18:44Z", "updated_at": "2020-01-29T22:24:27Z", "closed_at": "2020-01-29T22:18:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nportal.log and server.log are not rotating and growing infinitely large.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. run game\r\n2. ls -al ./server/logs\r\n3. see 10 meg portal/server logs\r\n\r\n#### Expected behavior\r\nThe log files to rotate and append old versions to them as previous.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia version: 0.9.0 (rev 9649295)\r\n         OS: posix\r\n         Python: 3.8.1\r\n         Twisted: 19.10.0\r\n         Django: 2.2.9\r\n\r\n#### Additional context\r\nAlso had my shell session crash upon trying to tail the server log and getting garbage characters after a game freeze. Still have no idea what's in there.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2040", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2040/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2040/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2040/events", "html_url": "https://github.com/evennia/evennia/issues/2040", "id": 555886473, "node_id": "MDU6SXNzdWU1NTU4ODY0NzM=", "number": 2040, "title": "[BUG] Access Method returning Incomplete Tuple", "user": {"login": "thunderdrop", "id": 60172496, "node_id": "MDQ6VXNlcjYwMTcyNDk2", "avatar_url": "https://avatars.githubusercontent.com/u/60172496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thunderdrop", "html_url": "https://github.com/thunderdrop", "followers_url": "https://api.github.com/users/thunderdrop/followers", "following_url": "https://api.github.com/users/thunderdrop/following{/other_user}", "gists_url": "https://api.github.com/users/thunderdrop/gists{/gist_id}", "starred_url": "https://api.github.com/users/thunderdrop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thunderdrop/subscriptions", "organizations_url": "https://api.github.com/users/thunderdrop/orgs", "repos_url": "https://api.github.com/users/thunderdrop/repos", "events_url": "https://api.github.com/users/thunderdrop/events{/privacy}", "received_events_url": "https://api.github.com/users/thunderdrop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-01-27T23:04:53Z", "updated_at": "2020-01-29T17:54:53Z", "closed_at": "2020-01-28T18:12:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### The Bug\r\nFamiliarising myself with Evennia, I was running through the [First Steps coding](https://github.com/evennia/evennia/wiki/First%20Steps%20Coding) tutorial.  As documented, I re-wrote the `at_object_creation` function in the `Character` class to assign 3 persistent ability attributes (self.db.strength, self.db.agility, self.db.magic) the values of 5, 4, and 2 respectively. Then, I wrote a function to return those values as a tuple.\r\n\r\nWhen I `@reload`, `@update`, and call this function in-game, however, it only returns the first element, 5. The entries exist in the database, confirmed with `@examine self`, and the values can be printed and indexed from the tuple.\r\n\r\n#### Input\r\n\r\nIn typeclasses.characters, as found in the documentation:\r\n```\r\n\r\n    def at_object_creation(self):\r\n        \"\"\"\r\n        Called only at initial creation. This is a rather silly\r\n        example since ability scores should vary from Character to\r\n        Character and is usually set during some character\r\n        generation step instead.\r\n        \"\"\"\r\n        #set persistent attributes\r\n        self.db.strength = 5\r\n        self.db.agility = 4\r\n        self.db.magic = 2\r\n\r\n    def get_abilities(self):\r\n        \"\"\"\r\n        Simple access method to return ability\r\n        scores as a tuple (str,agi,mag)\r\n        \"\"\"\r\n        return self.db.strength, self.db.agility, self.db.magic\r\n```\r\n\r\n#### Expected Result\r\n`@py self.get_abilities()`\r\n*\\>\\>\\> (5, 4, 2)\r\n\r\nEvennia correctly returns all elements in the tuple corresponding to persistent data.\r\n\r\n#### Actual Result\r\n\r\n`reload`\r\n\r\n Server restart initiated ...\r\n ... Server restarted.\r\n`update rainboa`\r\nrainboa updated its existing typeclass (typeclasses.characters.Character).\r\nOnly the at_object_creation hook was run (update mode). Attributes set before swap were not removed.\r\n`py self.get_abilities()`\r\n\\>\\>\\> self.get_abilities()\r\n5\r\n`examine self`\r\n\r\nName/key: rainboa (\\#1)\r\nSession id(s): \\#1\r\nAccount: rainboa\r\nAccount Perms: <Superuser>\r\nTypeclass: Character (typeclasses.characters.Character)\r\nLocation: Limbo (\\#2)\r\nHome: Limbo (\\#2)\r\nPermissions: developer [Superuser]\r\nLocks:      ...\r\nCommands:      ...\r\nPersistent attributes:\r\n desc = This is User #1.\r\n prelogout_location = Limbo\r\n strength = 5\r\n agility = 4\r\n magic = 2\r\n\r\n#### Steps Taken\r\nI have:\r\n- Tried this on a clean database.\r\n- Tried this on a new character.\r\n- Reproduced this in Linux and Windows.\r\n- Experimented with writing different functions that do the same thing.\r\n- Experimented with making the attributes non-persistent.\r\n\r\n#### Systems Information\r\n##### OS\r\n1. Windows 10Ver1909 (64-bit) build 18363.592\r\n2. Debian GNU/Linux 10\r\n\r\n##### Python, Evennia, Etc\r\nEvennia version: 0.9.0 (rev 798cacc2)\r\n         OS: nt\r\n         Python: 3.8.1\r\n         Twisted: 19.10.0\r\n         Django: 2.2.9\r\n         ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2040/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2039", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2039/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2039/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2039/events", "html_url": "https://github.com/evennia/evennia/issues/2039", "id": 555828740, "node_id": "MDU6SXNzdWU1NTU4Mjg3NDA=", "number": 2039, "title": "[BUG] Restarting script with interval 0 yields ZeroDivisionError", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-27T20:57:56Z", "updated_at": "2020-01-29T17:12:19Z", "closed_at": "2020-01-29T10:15:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nCalling `self.restart(interval=0, repeats=0, start_delay=False)` on a script seems to be resulting in a ZeroDivisionError.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia version: 0.9.0 (rev a27a8c3d)\r\n         OS: posix\r\n         Python: 3.7.6\r\n         Twisted: 19.10.0\r\n         Django: 2.2.9\r\n```\r\n#### Additional context\r\n```\r\n20-01-27 20:45:33 Unhandled error in Deferred:\r\n20-01-27 20:45:33 Unhandled Error\r\n        Traceback (most recent call last):\r\n          File \"/home/ubuntu/CLOWN/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n            result = f(*args, **kw)\r\n          File \"/home/ubuntu/workspace/evennia/evennia/server/amp_client.py\", line 236, in server_receive_adminportal2server\r\n            server_sessionhandler.server.shutdown(mode=\"reload\")\r\n          File \"/home/ubuntu/CLOWN/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1613, in unwindGenerator\r\n            return _cancellableInlineCallbacks(gen)\r\n          File \"/home/ubuntu/CLOWN/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1529, in _cancellableInlineCallbacks\r\n            _inlineCallbacks(None, g, status)\r\n        --- <exception caught here> ---\r\n          File \"/home/ubuntu/CLOWN/lib/python3.7/site-packages/twisted/internet/defer.py\", line 1418, in _inlineCallbacks\r\n            result = g.send(result)\r\n          File \"/home/ubuntu/workspace/evennia/evennia/server/server.py\", line 418, in shutdown\r\n            for s in ScriptDB.get_all_cached_instances()\r\n          File \"/home/ubuntu/workspace/evennia/evennia/server/server.py\", line 419, in <listcomp>\r\n            if s.is_active or s.attributes.has(\"_manual_pause\")\r\n          File \"/home/ubuntu/workspace/evennia/evennia/scripts/scripts.py\", line 517, in pause\r\n            self.db._paused_time = task.next_call_time()\r\n          File \"/home/ubuntu/workspace/evennia/evennia/scripts/scripts.py\", line 141, in next_call_time\r\n            return interval - (total_runtime % self.interval)\r\n        builtins.ZeroDivisionError: float modulo\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2039/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2038", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2038/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2038/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2038/events", "html_url": "https://github.com/evennia/evennia/issues/2038", "id": 555783388, "node_id": "MDU6SXNzdWU1NTU3ODMzODg=", "number": 2038, "title": "[BUG] [contrib] gendersub fails with OOB-enhanced messages", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-27T19:27:36Z", "updated_at": "2020-02-03T07:51:18Z", "closed_at": "2020-02-03T07:51:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIt seems the gendersub contrib fails on messages with out-of-band flags (i.e. the result of `CmdLook`-- `self.msg((caller.at_look(target), {\"type\": \"look\"}), options=None)`). The raw identifiers are left in the message.\r\n\r\n#### Additional context\r\nThe code appears to want to deal exclusively with strings, but OOB-enhanced messages arrive as tuples. \r\n\r\nhttps://github.com/evennia/evennia/blob/798cacc234f4a52b7d7fb30887b980589d58318b/evennia/contrib/gendersub.py#L110-L133\r\n\r\nSome unpacking/repacking seems to be warranted to correctly process these messages.\r\n\r\n```\r\ndef msg(self, text, from_obj=None, session=None, *args, **kwargs):\r\n        \"\"\"\r\n        Emits something to a session attached to the object.\r\n        Overloads the default msg() implementation to include\r\n        gender-aware markers in output.\r\n\r\n        Args:\r\n            text (str, optional): The message to send\r\n            from_obj (obj, optional): object that is sending. If\r\n                given, at_msg_send will be called\r\n            session (Session or list, optional): session or list of\r\n                sessions to relay to, if any. If set, will\r\n                force send regardless of MULTISESSION_MODE.\r\n        Notes:\r\n            `at_msg_receive` will be called on this Object.\r\n            All extra kwargs will be passed on to the protocol.\r\n\r\n        \"\"\"\r\n        # pre-process the text before continuing\r\n        _text = text\r\n        try:\r\n            if isinstance(text, tuple):\r\n                text = list(text)\r\n                text[0] = self._RE_GENDER_PRONOUN.sub(self._get_pronoun, text[0])\r\n                text = tuple(text)\r\n            else:\r\n                text = self._RE_GENDER_PRONOUN.sub(self._get_pronoun, text)\r\n        except TypeError:\r\n            text = _text\r\n        except Exception as e:\r\n            text = _text\r\n            logger.log_trace(e)\r\n            \r\n        super().msg(text, from_obj=from_obj, session=session, *args, **kwargs)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2035", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2035/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2035/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2035/events", "html_url": "https://github.com/evennia/evennia/issues/2035", "id": 555027997, "node_id": "MDU6SXNzdWU1NTUwMjc5OTc=", "number": 2035, "title": "[BUG] New `Command` structure oddities", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-25T01:55:25Z", "updated_at": "2020-01-29T17:38:26Z", "closed_at": "2020-01-29T10:19:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere appear to be duplicate methods for `get_command_info`, the first of which looks like it would trigger an infinite loop if executed and the second of which looks like it would leave half of its code unexecuted altogether.\r\n\r\nNot sure if this is an oversight, an indentation issue or some sort of Python voodoo I'm unfamiliar with. Even the docstrings are identical so I'm not sure what to make of it.\r\n\r\n#### To Reproduce\r\nhttps://github.com/evennia/evennia/blob/798cacc234f4a52b7d7fb30887b980589d58318b/evennia/commands/command.py#L404-L447\r\n\r\n#### Expected behavior\r\nExplanation plz? :)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2030", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2030/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2030/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2030/events", "html_url": "https://github.com/evennia/evennia/issues/2030", "id": 553836679, "node_id": "MDU6SXNzdWU1NTM4MzY2Nzk=", "number": 2030, "title": "[BUG] ANSIString and substring ranges", "user": {"login": "thenomain", "id": 935160, "node_id": "MDQ6VXNlcjkzNTE2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/935160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenomain", "html_url": "https://github.com/thenomain", "followers_url": "https://api.github.com/users/thenomain/followers", "following_url": "https://api.github.com/users/thenomain/following{/other_user}", "gists_url": "https://api.github.com/users/thenomain/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenomain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenomain/subscriptions", "organizations_url": "https://api.github.com/users/thenomain/orgs", "repos_url": "https://api.github.com/users/thenomain/repos", "events_url": "https://api.github.com/users/thenomain/events{/privacy}", "received_events_url": "https://api.github.com/users/thenomain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-22T22:40:21Z", "updated_at": "2020-03-29T13:30:37Z", "closed_at": "2020-03-29T13:30:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nANSIString errors with some substring ranges, specifically (so far tested):\r\n\r\n* `ansistring[:value]`\r\n* `ansistring[value:]`\r\n* `ansistring[0:len(ansistring)]`\r\n* `ansistring[0:number_longer_than_ansistring]`\r\n\r\n#### To Reproduce\r\nI created and used this as my test:\r\n\r\n```python\r\ndef test_error(self):\r\n    pattern = ansi.ANSIString(\"|c-|n-\")\r\n    width = 94\r\n    border = pattern * 47\r\n    self.msg(border)  #works\r\n    self.msg(border[0:width])  #errors\r\n```\r\n\r\nNote: If `pattern` is `ansi.ANSIString(\"--\")`, it works fine. I have not extensively tested the other conditions.\r\n\r\n#### Expected behavior\r\nHowever raw Python string class is meant to work.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n         Evennia version: 0.9.0 (rev 3642b50f)\r\n         OS: posix\r\n         Python: 3.7.4\r\n         Twisted: 19.10.0\r\n         Django: 2.2.7\r\n```\r\nmacOS 10.15.1\r\n\r\n#### Additional context\r\nNone at this time", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2029", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2029/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2029/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2029/events", "html_url": "https://github.com/evennia/evennia/issues/2029", "id": 552556310, "node_id": "MDU6SXNzdWU1NTI1NTYzMTA=", "number": 2029, "title": "[BUG] Ansi Hilite (\"bold\") and the Web Client", "user": {"login": "thenomain", "id": 935160, "node_id": "MDQ6VXNlcjkzNTE2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/935160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenomain", "html_url": "https://github.com/thenomain", "followers_url": "https://api.github.com/users/thenomain/followers", "following_url": "https://api.github.com/users/thenomain/following{/other_user}", "gists_url": "https://api.github.com/users/thenomain/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenomain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenomain/subscriptions", "organizations_url": "https://api.github.com/users/thenomain/orgs", "repos_url": "https://api.github.com/users/thenomain/repos", "events_url": "https://api.github.com/users/thenomain/events{/privacy}", "received_events_url": "https://api.github.com/users/thenomain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-20T23:57:01Z", "updated_at": "2022-09-21T20:06:50Z", "closed_at": "2022-09-21T20:06:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\n\r\nParts of ANSI escape codes being also being outputted as text in the web client.\r\n\r\nhttps://pasteboard.co/IQUwvHp.png\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Log into a game (in my case, localhost) from the web page client.\r\n2. @py me.msg(\"|ht|n |he|n |hs|n |ht|n\")\r\n\r\n#### Expected behavior\r\nEach letter in \"t e s t\" should be normal/hilite.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n    Evennia 0.9.0 (rev 3642b50f) (rev 3642b50f)\r\n    OS: posix\r\n    Python: 3.7.4\r\n    Twisted: 19.10.0\r\n    Django: 2.2.7\r\n```\r\n\r\nmacOS 10.15.1\r\n\r\n#### Additional context\r\nNo additional context.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2026", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2026/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2026/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2026/events", "html_url": "https://github.com/evennia/evennia/issues/2026", "id": 550329964, "node_id": "MDU6SXNzdWU1NTAzMjk5NjQ=", "number": 2026, "title": "[BUG] turnbattle tb_magic.py returns 'TypeError' when trying to learn a spell", "user": {"login": "virgildotcodes", "id": 16354900, "node_id": "MDQ6VXNlcjE2MzU0OTAw", "avatar_url": "https://avatars.githubusercontent.com/u/16354900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/virgildotcodes", "html_url": "https://github.com/virgildotcodes", "followers_url": "https://api.github.com/users/virgildotcodes/followers", "following_url": "https://api.github.com/users/virgildotcodes/following{/other_user}", "gists_url": "https://api.github.com/users/virgildotcodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/virgildotcodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/virgildotcodes/subscriptions", "organizations_url": "https://api.github.com/users/virgildotcodes/orgs", "repos_url": "https://api.github.com/users/virgildotcodes/repos", "events_url": "https://api.github.com/users/virgildotcodes/events{/privacy}", "received_events_url": "https://api.github.com/users/virgildotcodes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-15T17:33:16Z", "updated_at": "2020-01-18T11:53:14Z", "closed_at": "2020-01-18T11:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nImplemented the included turnbattle contribution, specifically tb_magic.py. When attempting to learn a spell in server, you get an error on line 789 in tb_magic.py:\r\n`Traceback (most recent call last):\r\n  File \"/home/virgil/evennia/evennia/evennia/commands/cmdhandler.py\", line 631, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/virgil/evennia/evennia/evennia/contrib/turnbattle/tb_magic.py\", line 789, in func\r\n    if spell_to_learn not in self.caller.db.spells_known:  # If the spell isn't known...\r\nTypeError: argument of type 'NoneType' is not iterable`\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Follow instructions to implement tb_magic.py magic system.\r\n2. Reboot server.\r\n3. Attempt to learn a spell, for example `learnspell heal`.\r\n4. See error\r\n\r\n#### Expected behavior\r\nShould have learned the spell and received the message: `\"You learn the spell '%s'!\"`\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.0 (rev 0056b94)\r\n         OS: posix\r\n         Python: 3.7.5\r\n         Twisted: 19.10.0\r\n         Django: 2.2.9\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2026/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2015", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2015/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2015/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2015/events", "html_url": "https://github.com/evennia/evennia/issues/2015", "id": 548499466, "node_id": "MDU6SXNzdWU1NDg0OTk0NjY=", "number": 2015, "title": "[BUG] IndexError from get_numbered_name", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-12T00:32:09Z", "updated_at": "2020-01-18T12:01:42Z", "closed_at": "2020-01-18T12:01:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhile debugging the upgrade of Arx to the latest version of Evennia, one bug is that get_numbered_name raises an IndexError on names that don't perfectly conform to its expected input. Looking at some issues on Inflect's github, it seems like a won't-fix issue for them so probably needs to be handled on Evennia's side. Relevant issue [here](https://github.com/jazzband/inflect/issues/68).\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Name an object something like \"A Complex Hedge Maze With A Vast Variety of Roses\"\r\n2. drop it in room\r\n3. look\r\nTraceback like following:\r\n```\r\n20-01-11 19:06:41-05 [::] Traceback (most recent call last):\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/evennia/evennia/commands/cmdhandler.py\", line 656, in _run_command\r\n20-01-11 19:06:41-05 [::]     ret = cmd.func()\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/arx/typeclasses/rooms.py\", line 498, in func\r\n20-01-11 19:06:41-05 [::]     desc = looking_at_obj.return_appearance(caller, detailed=False)\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/arx/typeclasses/rooms.py\", line 141, in return_appearance\r\n20-01-11 19:06:41-05 [::]     ExtendedRoom.return_appearance(self, looker)\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/evennia/evennia/contrib/extended_room.py\", line 290, in return_appearance\r\n20-01-11 19:06:41-05 [::]     return super(ExtendedRoom, self).return_appearance(looker, **kwargs)\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/evennia/evennia/objects/objects.py\", line 1711, in return_appearance\r\n20-01-11 19:06:41-05 [::]     key, _ = itemlist[0].get_numbered_name(nitem, looker, key=key)\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/evennia/evennia/objects/objects.py\", line 352, in get_numbered_name\r\n20-01-11 19:06:41-05 [::]     plural = _INFLECT.plural(key, 2)\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/stgvenv/lib/python3.8/site-packages/inflect.py\", line 2245, in plural\r\n20-01-11 19:06:41-05 [::]     plural = self.postprocess(\r\n20-01-11 19:06:41-05 [::]   File \"/home/tehom/arxstg/stgvenv/lib/python3.8/site-packages/inflect.py\", line 2219, in postprocess\r\n20-01-11 19:06:41-05 [::]     result[index] = result[index].capitalize()\r\n20-01-11 19:06:41-05 [::] IndexError: list index out of range\r\n20-01-11 19:06:41-05 [EE] User input was: 'l'.\r\n```\r\n\r\n#### Expected behavior\r\nlook to function normally. Look in this case is from a modified ExtendedRoom, but all the functionality is inside Evennia's DefaultObject.\r\n\r\n#### Environment, Evennia version, OS etc\r\n>Evennia version: 0.9.0 (rev 9649295)\r\n>         OS: posix\r\n>         Python: 3.8.1\r\n>         Twisted: 19.10.0\r\n>        Django: 2.2.9\r\n\r\n\r\n#### Additional context\r\nprobably catch IndexError in get_numbered_name and return the unmodified key.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2015/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2012", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2012/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2012/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2012/events", "html_url": "https://github.com/evennia/evennia/issues/2012", "id": 548196677, "node_id": "MDU6SXNzdWU1NDgxOTY2Nzc=", "number": 2012, "title": "[BUG] CmdFind - Runaway memory usage with improper syntax", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-10T17:17:14Z", "updated_at": "2020-01-17T21:33:33Z", "closed_at": "2020-01-17T21:33:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWas dealing with a \"bug\" where the `find` command was returning seemingly random results and/or dumping the entire contents of the database. Like #1994 this caused the entire queryset to be loaded into memory before rendering to the user.\r\n\r\nIt turns out the syntax I was using was incorrect but it was accepted anyway, which led to these side effects.\r\n\r\nEx: `find/startswith = searchterm`\r\n\r\nGiven that I did not provide a lhs and the rhs should only be a dbref/range, validating both before executing any queries would be beneficial.\r\n\r\n#### Environment, Evennia version, OS etc\r\nDev", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2012/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2010", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2010/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2010/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2010/events", "html_url": "https://github.com/evennia/evennia/issues/2010", "id": 546321697, "node_id": "MDU6SXNzdWU1NDYzMjE2OTc=", "number": 2010, "title": "BUG: scheduled events seem to fire multiple times", "user": {"login": "blongden", "id": 103911, "node_id": "MDQ6VXNlcjEwMzkxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/103911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blongden", "html_url": "https://github.com/blongden", "followers_url": "https://api.github.com/users/blongden/followers", "following_url": "https://api.github.com/users/blongden/following{/other_user}", "gists_url": "https://api.github.com/users/blongden/gists{/gist_id}", "starred_url": "https://api.github.com/users/blongden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blongden/subscriptions", "organizations_url": "https://api.github.com/users/blongden/orgs", "repos_url": "https://api.github.com/users/blongden/repos", "events_url": "https://api.github.com/users/blongden/events{/privacy}", "received_events_url": "https://api.github.com/users/blongden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-07T14:42:15Z", "updated_at": "2020-01-18T19:50:56Z", "closed_at": "2020-01-18T19:50:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen scheduling a script to execute via the custom_gametime contrib, the callback is fired multiple times (eventually resulting in a server crash).\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a command in a vanilla Evennia game containing the following code:\r\n\r\n```python\r\nfrom typeclasses.accounts import Account\r\n\r\ndef cb_test():\r\n    for account in [account for account in Account.objects.all() if account.sessions.count()]:\r\n        for puppet in account.get_all_puppets():\r\n            puppet.msg(\"test test test\")\r\n\r\n\r\nclass TestCommand(Command):\r\n    key = \"test\"\r\n\r\n    def func(self):\r\n        from evennia.contrib import custom_gametime as time\r\n        time.schedule(cb_test, sec=0)\r\n```\r\n\r\n2. Use `reload` in game.\r\n3. Run the new `test` command. It will set up a scheduled task to send a message of \"test test test\" to all puppeted characters. You will observe the second time it is run, it will display the message twice, increasing on each iteration\r\n\r\n#### Error output / Expected result of feature\r\n\r\n\"test test test\" should be printed once every game minute.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2010/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2007", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2007/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2007/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2007/events", "html_url": "https://github.com/evennia/evennia/issues/2007", "id": 542697669, "node_id": "MDU6SXNzdWU1NDI2OTc2Njk=", "number": 2007, "title": "[BUG] Regression: Tag/AttributeHandler all() method returns nulls when TYPECLASS_AGGRESSIVE_CACHE is disabled", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-27T00:02:03Z", "updated_at": "2020-01-20T18:15:01Z", "closed_at": "2020-01-20T18:15:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen `TYPECLASS_AGGRESSIVE_CACHE` is disabled, any request for the Attribute/TagHandler `all()` methods improperly return nulls from the [disabled] cache instead of polling the DB for live data.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. settings: `TYPECLASS_AGGRESSIVE_CACHE = False`\r\n2. `some_obj.tags.add('stuff')`\r\n3. `assert 'stuff' in some_obj.tags.all()`\r\n\r\n#### Additional context\r\nIntroduced by #1998, have now confirmed it does affect the TagHandler and am assuming Attributes are similarly affected.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/2004", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/2004/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/2004/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/2004/events", "html_url": "https://github.com/evennia/evennia/issues/2004", "id": 541125180, "node_id": "MDU6SXNzdWU1NDExMjUxODA=", "number": 2004, "title": "Security issue: telnet reacts to HTTP requests improperly", "user": {"login": "twilight-sparkle-irl", "id": 15254673, "node_id": "MDQ6VXNlcjE1MjU0Njcz", "avatar_url": "https://avatars.githubusercontent.com/u/15254673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twilight-sparkle-irl", "html_url": "https://github.com/twilight-sparkle-irl", "followers_url": "https://api.github.com/users/twilight-sparkle-irl/followers", "following_url": "https://api.github.com/users/twilight-sparkle-irl/following{/other_user}", "gists_url": "https://api.github.com/users/twilight-sparkle-irl/gists{/gist_id}", "starred_url": "https://api.github.com/users/twilight-sparkle-irl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twilight-sparkle-irl/subscriptions", "organizations_url": "https://api.github.com/users/twilight-sparkle-irl/orgs", "repos_url": "https://api.github.com/users/twilight-sparkle-irl/repos", "events_url": "https://api.github.com/users/twilight-sparkle-irl/events{/privacy}", "received_events_url": "https://api.github.com/users/twilight-sparkle-irl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-20T18:00:49Z", "updated_at": "2019-12-20T19:25:23Z", "closed_at": "2019-12-20T19:24:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nEvennia should close the connection/respond with an error if one of the first commands in a telnet connection is an [HTTP verb](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods). Otherwise, cross-protocol request forgery is possible and can be used to abuse the server.\r\n\r\nI have a proof of concept that creates 3 accounts, connects in, and sends a large amount of messages. It does not require user interaction, meaning it could be deployed on a webpage maliciously and cause visitors to attack a MUD.    \r\nHowever, posting it out in the open seems like a not smart thing to do, so unless someone involved in the project asks for it and provide a way for me to send it, I will not be displaying it.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Attempt to connect to the telnet port with a browser\r\n2. Server is still trying to parse commands despite the HTTP verbs.\r\n\r\n#### Expected behavior\r\nServer should disconnect if first command is \"GET\" or \"POST\" or etc. \r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev 43d58158)\r\n\r\n#### Additional context\r\nWhile I am not particularly worried about a dedicated attack on any MUCK I run, this does seem simple enough to fix -- simply make it so that by default HTTP verbs during the login screen will disconnect the user with a message explaining why. If someone wants to re-enable them, that's their bag of worms.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/2004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/2004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1997", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1997/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1997/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1997/events", "html_url": "https://github.com/evennia/evennia/issues/1997", "id": 531546997, "node_id": "MDU6SXNzdWU1MzE1NDY5OTc=", "number": 1997, "title": "[BUG] TagHandler continues caching tags even when explicitly disabled", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-02T21:21:57Z", "updated_at": "2019-12-16T22:01:01Z", "closed_at": "2019-12-16T22:01:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen `TYPECLASS_AGGRESSIVE_CACHE` is set to `False`, the TagHandler will ignore the cache on reads but continue caching writes.\r\n\r\n#### To Reproduce\r\nSee #1996; replace references to `attributes` with `tags`.\r\n\r\n#### Expected behavior\r\nThe TagHandler should not be touching the cache when disabled.\r\n\r\n#### Environment, Evennia version, OS etc\r\n Evennia 0.9.0 (rev ff7b739) (rev ff7b739)\r\n    OS: posix\r\n    Python: 3.7.5\r\n    Twisted: 19.7.0\r\n    Django: 2.2.6", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1996", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1996/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1996/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1996/events", "html_url": "https://github.com/evennia/evennia/issues/1996", "id": 531530179, "node_id": "MDU6SXNzdWU1MzE1MzAxNzk=", "number": 1996, "title": "[BUG] AttributeHandler continues caching attributes even when explicitly disabled", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-02T20:49:05Z", "updated_at": "2019-12-16T22:01:25Z", "closed_at": "2019-12-16T22:01:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nIn trying to get to the bottom of some memory leaks, I noticed that when `TYPECLASS_AGGRESSIVE_CACHE` is set to `False`, the AttributeHandler will ignore the cache for reads but will still continue to write to it.\r\n\r\n#### To Reproduce\r\n````\r\nfrom evennia.utils.test_resources import EvenniaTest\r\nfrom django.conf import settings\r\nfrom django.test import override_settings\r\nfrom mock import patch\r\n\r\n\r\nclass AttributeCachingTest(EvenniaTest):\r\n\r\n    @override_settings(TYPECLASS_AGGRESSIVE_CACHE=False)\r\n    @patch('evennia.typeclasses.attributes._TYPECLASS_AGGRESSIVE_CACHE', False)\r\n    def test_caching(self):\r\n        \"Test to make sure when caching is disabled, it stays disabled.\"\r\n        # Make sure the setting override actually stuck\r\n        self.assertFalse(settings.TYPECLASS_AGGRESSIVE_CACHE)\r\n        from evennia.typeclasses.attributes import _TYPECLASS_AGGRESSIVE_CACHE\r\n        self.assertFalse(_TYPECLASS_AGGRESSIVE_CACHE)\r\n        \r\n        # Add an example attribute\r\n        self.obj1.attributes.add('phrase', 'xyzzy')\r\n        \r\n        # Cache should not have been touched.\r\n        self.assertFalse(self.obj1.attributes._cache, f\"Cache contents (should be empty): {self.obj1.attributes._cache}\")\r\n````\r\n\r\n#### Expected behavior\r\nNot sure if this was intentional, but it is self-defeating. It is definitely a major factor in the memory leak since some obscenely long user-defined lists managed to get stored in Attributes and are persisted in memory on every write despite my frustrated efforts to purge them.\r\n\r\n#### Environment, Evennia version, OS etc\r\n````\r\nEvennia 0.9.0 (rev ff7b739) (rev ff7b739)\r\n    OS: posix\r\n    Python: 3.7.5\r\n    Twisted: 19.7.0\r\n    Django: 2.2.6\r\n````\r\n\r\n#### Additional context\r\nThe cache invalidation mechanism seems to be based on a time interval that does not keep up with intensive I/O and leaves the server open to resource exhaustion in the interim. Curiously there is a `LimitedSizeOrderedDict` in the utils module purpose-built for caching but the AttributeHandler is using a plain `dict` for its cache instead, which lends itself to boundless growth.\r\n\r\nDjango's own caching framework invalidates keys based on both time and number to get around these sorts of issues (can even use the filesystem as the backend for caching, not just in-memory only) but it is not used by Evennia. Either option might be worth switching to.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1994", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1994/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1994/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1994/events", "html_url": "https://github.com/evennia/evennia/issues/1994", "id": 530051206, "node_id": "MDU6SXNzdWU1MzAwNTEyMDY=", "number": 1994, "title": "[BUG] CmdScripts - Runaway memory usage when number of scripts is high", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-28T19:11:46Z", "updated_at": "2020-03-29T12:50:11Z", "closed_at": "2020-03-29T12:50:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen a large number of objects inheriting from the Script typeclass exist (at least 100K in my case-- I am trying to use Scripts to represent intangibles), running CmdScripts seems to want to load the entire queryset into memory before displaying them all in a single dump.\r\n\r\n#### Expected behavior\r\nThat many results are not easy to work with in a terminal, so it would be helpful if there was some sort of breaker to filter/chunk/paginate the response in some way and lazily load it (Django .iterator() piped to evmore?).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1994/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1994/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1992", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1992/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1992/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1992/events", "html_url": "https://github.com/evennia/evennia/issues/1992", "id": 525844694, "node_id": "MDU6SXNzdWU1MjU4NDQ2OTQ=", "number": 1992, "title": "[BUG] \"builtins.RuntimeError: dictionary changed size during iteration\" error when using \"IDLE_TIMEOUT\" feature", "user": {"login": "GulliblePsychologist", "id": 56974578, "node_id": "MDQ6VXNlcjU2OTc0NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/56974578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GulliblePsychologist", "html_url": "https://github.com/GulliblePsychologist", "followers_url": "https://api.github.com/users/GulliblePsychologist/followers", "following_url": "https://api.github.com/users/GulliblePsychologist/following{/other_user}", "gists_url": "https://api.github.com/users/GulliblePsychologist/gists{/gist_id}", "starred_url": "https://api.github.com/users/GulliblePsychologist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GulliblePsychologist/subscriptions", "organizations_url": "https://api.github.com/users/GulliblePsychologist/orgs", "repos_url": "https://api.github.com/users/GulliblePsychologist/repos", "events_url": "https://api.github.com/users/GulliblePsychologist/events{/privacy}", "received_events_url": "https://api.github.com/users/GulliblePsychologist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-20T14:38:33Z", "updated_at": "2021-06-27T12:46:30Z", "closed_at": "2020-01-20T18:37:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n```\r\nUnhandled Error\r\n        Traceback (most recent call last):\r\n          File \"~/muddev/evenv/lib/python3.7/site-packages/twisted/internet/base.py\", line 1283, in run\r\n            self.mainLoop()\r\n          File \"~/muddev/evenv/lib/python3.7/site-packages/twisted/internet/base.py\", line 1292, in mainLoop\r\n            self.runUntilCurrent()\r\n          File \"~/muddev/evenv/lib/python3.7/site-packages/twisted/internet/base.py\", line 913, in runUntilCurrent\r\n            call.func(*call.args, **call.kw)\r\n          File \"~/muddev/evenv/lib/python3.7/site-packages/twisted/internet/task.py\", line 239, in __call__\r\n            d = defer.maybeDeferred(self.f, *self.a, **self.kw)\r\n        --- <exception caught here> ---\r\n          File \"~/evenv/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n            result = f(*args, **kw)\r\n          File \"~/evennia/evennia/server/server.py\", line 152, in _server_maintenance\r\n            sess for sess in SESSIONS.values() if (now - sess.cmd_last) > _IDLE_TIMEOUT\r\n          File \"~/evennia/evennia/server/server.py\", line 152, in <genexpr>\r\n            sess for sess in SESSIONS.values() if (now - sess.cmd_last) > _IDLE_TIMEOUT\r\n        builtins.RuntimeError: dictionary changed size during iteration\r\n```\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set an IDLE_TIMEOUT in server/conf/settings.py to a positive value.\r\n2. Wait for a client to idle.\r\n3. The first client to idle is kicked from the server. The error is then displayed. After that, the server maintenance loop no longer runs.\r\n\r\n#### Expected behavior\r\nClients that have been idle for longer than the prescribed IDLE_TIMEOUT should be automatically disconnected from the server.\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\n$ evennia -v\r\nEvennia 0.9.0 (rev 41365fdc) (rev 41365fdc)\r\n    OS: posix\r\n    Python: 3.7.5\r\n    Twisted: 19.7.0\r\n    Django: 2.2.6\r\n```\r\n\r\n#### Additional context\r\nI have replaced the following line in server.py in the \"_server_maintenance\" function:\r\n\r\n```sess for sess in SESSIONS.values() if (now - sess.cmd_last) > _IDLE_TIMEOUT```\r\n\r\nwith:\r\n\r\n```sess for sess in list(SESSIONS.values()).copy() if (now - sess.cmd_last) > _IDLE_TIMEOUT```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1992/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1990", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1990/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1990/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1990/events", "html_url": "https://github.com/evennia/evennia/issues/1990", "id": 523909995, "node_id": "MDU6SXNzdWU1MjM5MDk5OTU=", "number": 1990, "title": "[BUG] unpause() does not restart the associated task because self.ndb._task is still set", "user": {"login": "borwick", "id": 3441065, "node_id": "MDQ6VXNlcjM0NDEwNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/3441065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/borwick", "html_url": "https://github.com/borwick", "followers_url": "https://api.github.com/users/borwick/followers", "following_url": "https://api.github.com/users/borwick/following{/other_user}", "gists_url": "https://api.github.com/users/borwick/gists{/gist_id}", "starred_url": "https://api.github.com/users/borwick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/borwick/subscriptions", "organizations_url": "https://api.github.com/users/borwick/orgs", "repos_url": "https://api.github.com/users/borwick/repos", "events_url": "https://api.github.com/users/borwick/events{/privacy}", "received_events_url": "https://api.github.com/users/borwick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-16T23:31:03Z", "updated_at": "2019-12-16T17:53:34Z", "closed_at": "2019-12-16T17:53:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nCalling `unpause()` does not restart the task because _start_task() returns immediately if self.ndb._task is set, but `pause()` doesn't remove this object\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n\r\nWithin the same running process (i.e. without a reload):\r\n1. attach a repeating script to an object\r\n2. call script.pause()\r\n3. call script.unpause()\r\n\r\nActual: script has \"PAUS\" set in the scripts display; script doesn't actually start\r\n\r\n#### Expected behavior\r\nExpected: script's task restarts with the appropriate timers\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 7c6b1d24) (rev 7c6b1d24)\r\n    OS: posix\r\n    Python: 3.7.5\r\n    Twisted: 19.7.0\r\n    Django: 2.2.6\r\n\r\n#### Additional context\r\nI have a two-line patch that seems like it might fix this; not sure if this is sustainable but it works for me", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1989", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1989/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1989/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1989/events", "html_url": "https://github.com/evennia/evennia/issues/1989", "id": 523584284, "node_id": "MDU6SXNzdWU1MjM1ODQyODQ=", "number": 1989, "title": "[BUG] command.client_width() throws an error when connected via the webclient.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-15T17:01:11Z", "updated_at": "2020-01-19T14:44:03Z", "closed_at": "2020-01-19T14:44:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nA clear and concise description of what the bug is.\r\n\r\nAny commands that use .client_width(), such as .styled_table(), throw a KeyException error when they are used from the web client.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create a command that uses .styled_table().\r\n2. Run the command from the web client.\r\n3.\r\n4. See error\r\n\r\n#### Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n#### Environment, Evennia version, OS etc\r\nIf unsure, run `evennia -v` or get the first few lines of the `about` command in-game.\r\nUbuntu 19, Evennia 0.9, Python 3.7.3.\r\n![Screenshot from 2019-11-15 11-53-05](https://user-images.githubusercontent.com/56554978/68961016-50804700-079f-11ea-8b18-434aa8f07068.png)\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1989/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1988", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1988/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1988/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1988/events", "html_url": "https://github.com/evennia/evennia/issues/1988", "id": 522397968, "node_id": "MDU6SXNzdWU1MjIzOTc5Njg=", "number": 1988, "title": "[BUG] Django admin interface crashes when objects stored in dict, then in object.db", "user": {"login": "bradley-evans", "id": 5460986, "node_id": "MDQ6VXNlcjU0NjA5ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5460986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradley-evans", "html_url": "https://github.com/bradley-evans", "followers_url": "https://api.github.com/users/bradley-evans/followers", "following_url": "https://api.github.com/users/bradley-evans/following{/other_user}", "gists_url": "https://api.github.com/users/bradley-evans/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradley-evans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradley-evans/subscriptions", "organizations_url": "https://api.github.com/users/bradley-evans/orgs", "repos_url": "https://api.github.com/users/bradley-evans/repos", "events_url": "https://api.github.com/users/bradley-evans/events{/privacy}", "received_events_url": "https://api.github.com/users/bradley-evans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-13T18:31:58Z", "updated_at": "2020-01-29T20:54:57Z", "closed_at": "2020-01-29T20:54:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen a object is stored within a dict (eg, `{'key':typeclass.myObject}` the Django object viewer returns a error 500 page.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n\r\n(1) Create a custom script object that includes a `dict` object in its `object.db`, e.g.,\r\n\r\n```\r\nclass MyScript(Script):\r\n\r\n    def at_script_creation(self):\r\n        self.persistent = True\r\n        [...]\r\n        self.db.myObjects= {}\r\n\r\n    def add_object(self, key, newobj):\r\n        self.db.myObjects[key] = newobj\r\n```\r\n\r\n(2) Create some custom typeclass that would get stored in that dict, e.g.:\r\n```\r\nclass myObject():\r\n    def __init__(self, name):\r\n        self.name = name\r\n```\r\n(3) Generate commands that add the script to the game and add `myObject()` types to `MyScript()`.\r\n\r\n(4) Add a `myObject()` type to `MyScript()` as the script is running in game.\r\n\r\n(5) Attempt to view the state of the `MyScript()` instance in the web-based object viewer.\r\n\r\n(6) Error 500.\r\n\r\n\r\n#### Expected behavior\r\n\r\nI would expect to see a dict like this. , I think.\r\n```\r\n>>> class MyObject(): pass \r\n>>> mydict = {}\r\n>>> myobject = MyObject()\r\n>>> mydict['key'] = myobject\r\n>>> mydict\r\n{'key': <__main__.MyObject object at 0x000001F25D090B20>}\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 41365fd) (rev 41365fd)\r\n    OS: posix\r\n    Python: 3.7.2\r\n    Twisted: 19.10.0\r\n    Django: 2.2.7\r\n\r\n#### Additional context\r\n\r\nA `dict` offers a pretty quick and flexible lookup. A possible usecase that this bug affects is when you want to store equipment in a flexible data structure via a dict named `character.db.equipment`. Using a `dict`, I might be able to call up `character.db.equipment['head']` to examine the properties of some object stored there, but this would preclude me from viewing any character in the Django object viewer if I implemented it that way.\r\n\r\nAt a minimum, error catching should be implemented to allow the rest of the page to display in the event that a user has inserted an object into a dict.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1988/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1982", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1982/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1982/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1982/events", "html_url": "https://github.com/evennia/evennia/issues/1982", "id": 514187702, "node_id": "MDU6SXNzdWU1MTQxODc3MDI=", "number": 1982, "title": "[BUG] `Msg` objects not rendering correctly with external sender", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-29T20:03:17Z", "updated_at": "2019-12-16T22:02:18Z", "closed_at": "2019-12-16T22:02:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe `Msg` object seems to make a presumption that senders will always have a `key` attribute when rendering the object for display.\r\n\r\n#### To Reproduce\r\n```\r\ndef test_render_external_sender(self):\r\n        from evennia.utils.create import create_message\r\n        msg = create_message('peewee herman', 'heh-heh!', header='mail time!')\r\n        print(msg)\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/world/objects/tests.py\", line 13, in test_render_external_sender\r\n    print(msg)\r\n  File \"/home/ubuntu/workspace/evennia2/evennia/comms/models.py\", line 403, in __str__\r\n    senders = \",\".join(obj.key for obj in self.senders)\r\n  File \"/home/ubuntu/workspace/evennia2/evennia/comms/models.py\", line 403, in <genexpr>\r\n    senders = \",\".join(obj.key for obj in self.senders)\r\nAttributeError: 'str' object has no attribute 'key'\r\n```\r\n\r\n#### Expected behavior\r\n```\r\npeewee herman->: heh-heh!\r\n```\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0 (rev ff7b739) (rev ff7b739)\r\n    OS: posix\r\n    Python: 3.7.5\r\n    Twisted: 19.7.0\r\n    Django: 2.2.6\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1982/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1974", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1974/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1974/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1974/events", "html_url": "https://github.com/evennia/evennia/issues/1974", "id": 512246465, "node_id": "MDU6SXNzdWU1MTIyNDY0NjU=", "number": 1974, "title": "[BUG] Various inconsistencies in evennia/utils/text2html", "user": {"login": "Henddher", "id": 3991010, "node_id": "MDQ6VXNlcjM5OTEwMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3991010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Henddher", "html_url": "https://github.com/Henddher", "followers_url": "https://api.github.com/users/Henddher/followers", "following_url": "https://api.github.com/users/Henddher/following{/other_user}", "gists_url": "https://api.github.com/users/Henddher/gists{/gist_id}", "starred_url": "https://api.github.com/users/Henddher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Henddher/subscriptions", "organizations_url": "https://api.github.com/users/Henddher/orgs", "repos_url": "https://api.github.com/users/Henddher/repos", "events_url": "https://api.github.com/users/Henddher/events{/privacy}", "received_events_url": "https://api.github.com/users/Henddher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-10-25T00:46:16Z", "updated_at": "2022-10-09T08:58:26Z", "closed_at": "2022-10-09T08:58:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[text2html.py](evennia/blob/evennia/utils/text2html.py) has various inconsistencies. They are demonstrated by [skipped tests](evennia/blob/evennia/utils/tests/test_text2html.py).\r\n\r\n- When an ansi string contains a HILITE effect with a subsequent UNHILITE effect, the UNHILITE effect char seq is removed but the effect is applied until the end of the string. https://github.com/evennia/evennia/pull/1969#discussion_r338683863\r\n- When an ansi string contains an effect followed by a NORMAL effect, the effect terminates at the correct location but the NORMAL effect char sequence is not removed from the string. https://github.com/evennia/evennia/pull/1969#discussion_r338905658, https://github.com/evennia/evennia/pull/1969#discussion_r338906034\r\n- `convert_urls` doesn't perform URL encoding correctly. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1974/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1972", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1972/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1972/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1972/events", "html_url": "https://github.com/evennia/evennia/issues/1972", "id": 509598403, "node_id": "MDU6SXNzdWU1MDk1OTg0MDM=", "number": 1972, "title": "[BUG] object.copy() is not properly copying tags", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-20T13:57:16Z", "updated_at": "2020-01-20T18:43:02Z", "closed_at": "2020-01-20T18:43:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nCopying an object does not copy its tags.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create an object.\r\n2. Add tags to said object.\r\n3. Copy the object through any method.\r\n\r\n#### Expected behavior\r\nThere seems to be a clear intent to make an exact copy of the object, including all attached tags.\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0, rev 09f10db3\r\n\r\n#### Additional context\r\nThe root of the problem appears to be in evennia/objects/manager.py, at line 593 at the time of this writing.\r\n\r\nThe line is currently:\r\n\r\n`         for tag in original_object.tags.get(return_tagobj=True, return_list=True):`\r\n\r\nWhich returns only an empty list.\r\n\r\nThe following line should fix the issue:\r\n\r\n`         for tag in original_object.tags.all(return_objs=True):`\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1971", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1971/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1971/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1971/events", "html_url": "https://github.com/evennia/evennia/issues/1971", "id": 509523853, "node_id": "MDU6SXNzdWU1MDk1MjM4NTM=", "number": 1971, "title": "[BUG] validatorfuncs.datetime() takes AccountDB argument but doesn't use it", "user": {"login": "Henddher", "id": 3991010, "node_id": "MDQ6VXNlcjM5OTEwMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3991010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Henddher", "html_url": "https://github.com/Henddher", "followers_url": "https://api.github.com/users/Henddher/followers", "following_url": "https://api.github.com/users/Henddher/following{/other_user}", "gists_url": "https://api.github.com/users/Henddher/gists{/gist_id}", "starred_url": "https://api.github.com/users/Henddher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Henddher/subscriptions", "organizations_url": "https://api.github.com/users/Henddher/orgs", "repos_url": "https://api.github.com/users/Henddher/repos", "events_url": "https://api.github.com/users/Henddher/events{/privacy}", "received_events_url": "https://api.github.com/users/Henddher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-19T23:54:01Z", "updated_at": "2020-01-20T22:23:02Z", "closed_at": "2020-01-20T22:23:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n`validatorfuncs.datetime()` takes `account` (`AccountDB`) as argument and never uses it. \r\n\r\nSee https://github.com/evennia/evennia/pull/1967#discussion_r334734745\r\n\r\n`docstring` issue or real issue?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1970", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1970/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1970/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1970/events", "html_url": "https://github.com/evennia/evennia/issues/1970", "id": 509522941, "node_id": "MDU6SXNzdWU1MDk1MjI5NDE=", "number": 1970, "title": "[BUG] validatorfuncs.duration() returns inaccurate datetime.timedelta", "user": {"login": "Henddher", "id": 3991010, "node_id": "MDQ6VXNlcjM5OTEwMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3991010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Henddher", "html_url": "https://github.com/Henddher", "followers_url": "https://api.github.com/users/Henddher/followers", "following_url": "https://api.github.com/users/Henddher/following{/other_user}", "gists_url": "https://api.github.com/users/Henddher/gists{/gist_id}", "starred_url": "https://api.github.com/users/Henddher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Henddher/subscriptions", "organizations_url": "https://api.github.com/users/Henddher/orgs", "repos_url": "https://api.github.com/users/Henddher/repos", "events_url": "https://api.github.com/users/Henddher/events{/privacy}", "received_events_url": "https://api.github.com/users/Henddher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-19T23:39:55Z", "updated_at": "2019-10-27T19:26:32Z", "closed_at": "2019-10-27T19:26:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\n`validatorfuncs.duration()` produces incorrect `datetime.timedelta`\r\n\r\n#### To Reproduce\r\nSee https://github.com/evennia/evennia/pull/1967#pullrequestreview-301630347\r\n\r\n```python\r\nvalidatorfuncs.duration('1d 2s 3m 4h 5w 5y')\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1966", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1966/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1966/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1966/events", "html_url": "https://github.com/evennia/evennia/issues/1966", "id": 506868847, "node_id": "MDU6SXNzdWU1MDY4Njg4NDc=", "number": 1966, "title": "[BUG] Spelling error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-14T20:53:23Z", "updated_at": "2019-10-14T20:59:35Z", "closed_at": "2019-10-14T20:59:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nA clear and concise description of what the bug is.\r\nLicense is misspelled as licence in the output from the @version command.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. type @version \r\n2.\r\n3.\r\n4. See error\r\n\r\n#### Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n#### Environment, Evennia version, OS etc\r\nIf unsure, run `evennia -v` or get the first few lines of the `about` command in-game.\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1966/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1963", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1963/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1963/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1963/events", "html_url": "https://github.com/evennia/evennia/issues/1963", "id": 503685820, "node_id": "MDU6SXNzdWU1MDM2ODU4MjA=", "number": 1963, "title": "[BUG] Scripts stop executing when restarted.", "user": {"login": "egolaszewski", "id": 5160520, "node_id": "MDQ6VXNlcjUxNjA1MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5160520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/egolaszewski", "html_url": "https://github.com/egolaszewski", "followers_url": "https://api.github.com/users/egolaszewski/followers", "following_url": "https://api.github.com/users/egolaszewski/following{/other_user}", "gists_url": "https://api.github.com/users/egolaszewski/gists{/gist_id}", "starred_url": "https://api.github.com/users/egolaszewski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/egolaszewski/subscriptions", "organizations_url": "https://api.github.com/users/egolaszewski/orgs", "repos_url": "https://api.github.com/users/egolaszewski/repos", "events_url": "https://api.github.com/users/egolaszewski/events{/privacy}", "received_events_url": "https://api.github.com/users/egolaszewski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-07T20:54:47Z", "updated_at": "2020-01-19T14:18:35Z", "closed_at": "2020-01-19T14:18:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nCalling `restart` on a script causes the script to stop repeating.\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Create any repeating script.\r\n2. Call `restart()` on the script.\r\n3. see no further calls to `script.at_repeat()`.\r\n\r\n#### Expected behavior\r\nThe script should restart, potentially with changed parameters (e.g., interval), and continue executing.\r\n\r\n#### Environment, Evennia version, OS etc\r\n    Evennia 0.9.0 (rev 562e481c) (rev 562e481c)\r\n    OS: posix\r\n    Python: 3.7.3\r\n    Twisted: 19.7.0\r\n    Django: 2.2.5\r\n\r\n#### Additional context\r\nI believe this issue is caused by a change made in a previous bugfix ([https://github.com/evennia/evennia/issues/1911](url)), as a result of the following interactions.\r\n\r\n`DefaultScript.restart()` calls `self._stop_task()`, which first stops the script's task...\r\n\r\n```\r\ntask = self.ndb._task\r\nif task and task.running:\r\n    task.stop()\r\n```\r\n\r\n... then starts it again with a call to `_start_task(self)`.\r\n\r\nIn the bugfix to issue 1911, the following two lines were added to the beginning of `_start_task(self)`:\r\n\r\n```\r\nif self.ndb._task:\r\n    return \r\n```\r\n\r\nSince a stopped script has a value for the non-persistent attribute `self.ndb._task`, nothing happens.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1963/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1953", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1953/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1953/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1953/events", "html_url": "https://github.com/evennia/evennia/issues/1953", "id": 499676173, "node_id": "MDU6SXNzdWU0OTk2NzYxNzM=", "number": 1953, "title": "[BUG] Some not translated", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-27T22:26:22Z", "updated_at": "2019-09-28T08:31:17Z", "closed_at": "2019-09-28T08:31:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nSome text are not translated, are output in the original.\r\nPerhaps all languages have the same symptoms.\r\n\r\nTest language : ko, zh, es...\r\n\r\n#### To Reproduce\r\nSteps to reproduce the behavior:\r\n1. django.po\r\n#: evennia/utils/utils.py:1830\r\n#, python-format\r\nmsgid \"Could not find '%s'.\"\r\nmsgstr \"'%s'\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\"\r\n\r\n#: evennia/utils/utils.py:1837\r\n#, python-format\r\nmsgid \"More than one match for '%s' (please narrow target):\\n\"\r\nmsgstr \"'%s'\uc640 \uc77c\uce58\ud558\ub294 \ud56d\ubaa9\uc774 \uc5ec\ub7ec \uac1c\uc785\ub2c8\ub2e4.(\ubc88\ud638\ub97c \ubd99\uc5ec\uc8fc\uc138\uc694)\uff1a\\n\"\r\n\r\n#### Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n#### Environment, Evennia version, OS etc\r\n         Evennia version: 0.9.0 (rev 541a6fa8)\r\n         OS: posix\r\n         Python: 3.7.3\r\n         Twisted: 19.7.0\r\n         Django: 2.2.5\r\n\r\n#### Additional context\r\nAny other context about the problem, or ideas on how to solve.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1953/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1952", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1952/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1952/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1952/events", "html_url": "https://github.com/evennia/evennia/issues/1952", "id": 498588663, "node_id": "MDU6SXNzdWU0OTg1ODg2NjM=", "number": 1952, "title": "[BUG] utils.latinify - AttributeError: 'str'/'int' object has no attribute 'decode'", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-26T00:39:28Z", "updated_at": "2019-10-01T19:31:37Z", "closed_at": "2019-10-01T19:31:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThe `latinify` utility function seems to error out no matter what input is provided.\r\n\r\n#### To Reproduce\r\n```\r\nclass LatinifyTest(EvenniaTest):\r\n    \"\"\"\r\n    utils._UNICODE_MAP may need some additional entries to resolve these tests--\r\n    \r\n        LEFT DOUBLE QUOTATION MARK: \"\r\n        RIGHT DOUBLE QUOTATION MARK: \"\r\n    \r\n    \"\"\"\r\n    def setUp(self):\r\n        super().setUp()\r\n        \r\n        self.example_str = 'It says, \u201cplugh.\u201d'\r\n        self.example_ustr = u'It says, \u201cplugh.\u201d'\r\n        \r\n        self.expected_output = 'It says, \"plugh.\"'\r\n    \r\n    def test_plain_string(self):\r\n        result = latinify(self.example_str)\r\n        self.assertEqual(result, self.expected_output)\r\n        \r\n    def test_unicode_string(self):\r\n        result = latinify(self.example_ustr)\r\n        self.assertEqual(result, self.expected_output)\r\n        \r\n    def test_encoded_string(self):\r\n        result = latinify(self.example_str.encode('utf8'))\r\n        self.assertEqual(result, self.expected_output)\r\n        \r\n    def test_byte_string(self):\r\n        result = latinify(to_bytes(self.example_str))\r\n        self.assertEqual(result, self.expected_output)\r\n```\r\n\r\n```\r\n======================================================================\r\nERROR: test_byte_string (typeclasses.tests.LatinifyTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/typeclasses/tests.py\", line 43, in test_byte_string\r\n    result = latinify(to_bytes(self.example_str))\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/utils.py\", line 781, in latinify\r\n    ch = unich.decode('ascii')\r\nAttributeError: 'int' object has no attribute 'decode'\r\n\r\n======================================================================\r\nERROR: test_encoded_string (typeclasses.tests.LatinifyTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/typeclasses/tests.py\", line 39, in test_encoded_string\r\n    result = latinify(self.example_str.encode('utf8'))\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/utils.py\", line 781, in latinify\r\n    ch = unich.decode('ascii')\r\nAttributeError: 'int' object has no attribute 'decode'\r\n\r\n======================================================================\r\nERROR: test_plain_string (typeclasses.tests.LatinifyTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/typeclasses/tests.py\", line 31, in test_plain_string\r\n    result = latinify(self.example_str)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/utils.py\", line 781, in latinify\r\n    ch = unich.decode('ascii')\r\nAttributeError: 'str' object has no attribute 'decode'\r\n\r\n======================================================================\r\nERROR: test_unicode_string (typeclasses.tests.LatinifyTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/typeclasses/tests.py\", line 35, in test_unicode_string\r\n    result = latinify(self.example_ustr)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/utils.py\", line 781, in latinify\r\n    ch = unich.decode('ascii')\r\nAttributeError: 'str' object has no attribute 'decode'\r\n\r\n----------------------------------------------------------------------\r\nRan 4 tests in 2.104s\r\n\r\nFAILED (errors=4)\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\n```\r\nEvennia 0.9.0 (rev c6aa943) (rev c6aa943)\r\n    OS: posix\r\n    Python: 3.7.4\r\n    Twisted: 19.7.0\r\n    Django: 2.2.4\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1950", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1950/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1950/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1950/events", "html_url": "https://github.com/evennia/evennia/issues/1950", "id": 497994749, "node_id": "MDU6SXNzdWU0OTc5OTQ3NDk=", "number": 1950, "title": "[BUG] Django `navbar_left` template block typo", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-25T01:09:22Z", "updated_at": "2019-10-01T09:33:32Z", "closed_at": "2019-10-01T09:33:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nhttps://github.com/evennia/evennia/blob/541a6fa85525f0c40d47cd0074149ba49b9b60c9/evennia/web/website/templates/website/_menu.html#L24\r\n\r\n#### Expected behavior\r\nShould be `navbar_left`", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1950/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1949", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1949/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1949/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1949/events", "html_url": "https://github.com/evennia/evennia/issues/1949", "id": 497966823, "node_id": "MDU6SXNzdWU0OTc5NjY4MjM=", "number": 1949, "title": "[BUG] TagHandler - AttributeError: `'int' object has no attribute 'strip'`", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-24T23:12:11Z", "updated_at": "2019-10-02T16:50:08Z", "closed_at": "2019-10-02T16:50:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Describe the bug\r\nThere is some inconsistency with the way the TagHandler manages integer-ish values. \r\n\r\nSometimes it works, sometimes it doesn't, it appears to depend on the specific method used and the pre-casting of the integer in question.\r\n\r\n#### To Reproduce\r\n```\r\nfrom evennia.prototypes.spawner import spawn        \r\n\r\nclass SpawnerAttributesTest(EvenniaTest):\r\n    \r\n    def setUp(self):\r\n        super().setUp()\r\n        \r\n        # Generic example object\r\n        # Extraneous attributes related to other tests; please ignore\r\n        self.prototype = {\r\n            'key': 'bob',\r\n            'age': 56,\r\n            'attrs': (\r\n                ('favorite_flavor', ['vanilla', 'swirl'], 'ice_cream_prefs', None),\r\n            ),\r\n            'tags': [\r\n                ('happy', 'mood', ''),\r\n            ]\r\n        }\r\n        \r\n    def test_numeric_tags(self):\r\n        \"Check if tags consisting of numeric values are allowed.\"\r\n        # Spawn a normal object and add the tag as str via the TagHandler\r\n        obj = spawn(self.prototype)[0]\r\n        self.assertTrue(obj)\r\n        obj.tags.add('10467', category='zip')\r\n        self.assertTrue('10467' in obj.tags.all(), \"Stringified integer was not added to tags via tags.add method.\")\r\n        \r\n        # Do the same with a numeric tag cast as int\r\n        obj = spawn(self.prototype)[0]\r\n        self.assertTrue(obj)\r\n        obj.tags.add(10467, category='zip')\r\n        self.assertTrue('10467' in obj.tags.all(), \"Integer was not added to tags via tags.add method.\")\r\n        \r\n        # Try creating numeric tag using spawner workflow both cast as int and str\r\n        new = {k:v for k,v in self.prototype.items()}\r\n        new['tags'].extend([\r\n            ('10467', 'zip', '10467'),\r\n            (10468, 'zip', 10468),\r\n        ])\r\n        obj = spawn(new)[0]\r\n        self.assertTrue(obj)\r\n        self.assertTrue('10467' in obj.tags.all(), \"Stringified integer was not added to tags when using spawner.\")\r\n        self.assertTrue('10468' in obj.tags.all(), \"Integer was not added to tags when using spawner.\")\r\n        \r\n```\r\n#### Traceback\r\n```\r\n======================================================================\r\nERROR: test_numeric_tags (typeclasses.tests.SpawnerAttributesTest)\r\nCheck if tags consisting of numeric values are allowed.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/typeclasses/tests.py\", line 75, in test_numeric_tags\r\n    obj = spawn(new)[0]\r\n  File \"/home/ubuntu/workspace/evennia/evennia/prototypes/spawner.py\", line 794, in spawn\r\n    return batch_create_object(*objsparams)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/prototypes/spawner.py\", line 649, in batch_create_object\r\n    obj.save()\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/idmapper/models.py\", line 403, in save\r\n    super().save(*args, **kwargs)\r\n  File \"/home/ubuntu/workspace/EV37/lib/python3.7/site-packages/django/db/models/base.py\", line 741, in save\r\n    force_update=force_update, update_fields=update_fields)\r\n  File \"/home/ubuntu/workspace/EV37/lib/python3.7/site-packages/django/db/models/base.py\", line 790, in save_base\r\n    update_fields=update_fields, raw=raw, using=using,\r\n  File \"/home/ubuntu/workspace/EV37/lib/python3.7/site-packages/django/dispatch/dispatcher.py\", line 175, in send\r\n    for receiver in self._live_receivers(sender)\r\n  File \"/home/ubuntu/workspace/EV37/lib/python3.7/site-packages/django/dispatch/dispatcher.py\", line 175, in <listcomp>\r\n    for receiver in self._live_receivers(sender)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/models.py\", line 71, in call_at_first_save\r\n    instance.at_first_save()\r\n  File \"/home/ubuntu/workspace/evennia/evennia/objects/objects.py\", line 1105, in at_first_save\r\n    self.tags.batch_add(*cdict[\"tags\"])\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/tags.py\", line 415, in batch_add\r\n    self.add(tag=key, category=category, data=data.get(category, None))\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/tags.py\", line 260, in add\r\n    tagstr = tagstr.strip().lower()\r\nAttributeError: 'int' object has no attribute 'strip'\r\n```\r\n\r\n#### Environment, Evennia version, OS etc\r\nEvennia 0.9.0 (rev c6aa943)\r\n\r\n#### Additional context\r\nhttps://github.com/evennia/evennia/blob/541a6fa85525f0c40d47cd0074149ba49b9b60c9/evennia/typeclasses/tags.py#L234-L261\r\n\r\nThe `add` method never does any casting or validation of the `tag` value before attempting to perform a `strip()` on it. Looking at the code the `category` value is subject to the same issue.\r\n\r\nModifying these two lines does resolve the errors in the test above, though I have not run the entire core suite:\r\n```\r\ntagstr = str(tagstr).strip().lower()\r\ncategory = str(category).strip().lower() if category else category\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1949/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1948", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1948/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1948/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1948/events", "html_url": "https://github.com/evennia/evennia/issues/1948", "id": 496641001, "node_id": "MDU6SXNzdWU0OTY2NDEwMDE=", "number": 1948, "title": "Clothing contrib will make look command not work on self", "user": {"login": "Panzerbyte", "id": 1942013, "node_id": "MDQ6VXNlcjE5NDIwMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1942013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Panzerbyte", "html_url": "https://github.com/Panzerbyte", "followers_url": "https://api.github.com/users/Panzerbyte/followers", "following_url": "https://api.github.com/users/Panzerbyte/following{/other_user}", "gists_url": "https://api.github.com/users/Panzerbyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/Panzerbyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Panzerbyte/subscriptions", "organizations_url": "https://api.github.com/users/Panzerbyte/orgs", "repos_url": "https://api.github.com/users/Panzerbyte/repos", "events_url": "https://api.github.com/users/Panzerbyte/events{/privacy}", "received_events_url": "https://api.github.com/users/Panzerbyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-21T10:26:40Z", "updated_at": "2019-09-23T09:54:46Z", "closed_at": "2019-09-23T09:48:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nAfter having installed the clothing contrib, restarted the server and having forced the Character typeclass on my character, the 'look' command no longer works on self. It simply will not give any response or error. The clothing contrib commands work as intended, and can create and wear clothing with it.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Install clothing contrib as described in the file description\r\n2. Restart server and force typeclass on self\r\n3. 'look me/self'\r\n\r\n#### Error output / Expected result of feature\r\nThere is no error output on this, but the expected result of 'look self' should be there.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nMaster cdb9e329", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1948/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1946", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1946/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1946/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1946/events", "html_url": "https://github.com/evennia/evennia/issues/1946", "id": 495932928, "node_id": "MDU6SXNzdWU0OTU5MzI5Mjg=", "number": 1946, "title": "[Postgres] Object keys longer than 255 characters manifest as database errors", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 531060771, "node_id": "MDU6TGFiZWw1MzEwNjA3NzE=", "url": "https://api.github.com/repos/evennia/evennia/labels/discussion", "name": "discussion", "color": "eeffee", "default": false, "description": "A discussion or a request for one."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-09-19T17:30:44Z", "updated_at": "2019-12-26T19:56:03Z", "closed_at": "2019-12-26T19:56:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen using Postgres as a backend if you try to create an object with a key longer than 255 characters, it manifests as a database error.\r\n\r\n```\r\ndb_key = models.CharField('key', max_length=255, db_index=True)\r\n```\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n19-09-19 00:21:50 [::] psycopg2.errors.StringDataRightTruncation: value too long for type character varying(255)\r\n19-09-19 00:21:50 [::] django.db.utils.DataError: value too long for type character varying(255)\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nAny validation efforts should also consider #1709.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1942", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1942/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1942/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1942/events", "html_url": "https://github.com/evennia/evennia/issues/1942", "id": 495350183, "node_id": "MDU6SXNzdWU0OTUzNTAxODM=", "number": 1942, "title": "Issue with telnet negotiation with plain old telnet (osx/linux)", "user": {"login": "blongden", "id": 103911, "node_id": "MDQ6VXNlcjEwMzkxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/103911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blongden", "html_url": "https://github.com/blongden", "followers_url": "https://api.github.com/users/blongden/followers", "following_url": "https://api.github.com/users/blongden/following{/other_user}", "gists_url": "https://api.github.com/users/blongden/gists{/gist_id}", "starred_url": "https://api.github.com/users/blongden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blongden/subscriptions", "organizations_url": "https://api.github.com/users/blongden/orgs", "repos_url": "https://api.github.com/users/blongden/repos", "events_url": "https://api.github.com/users/blongden/events{/privacy}", "received_events_url": "https://api.github.com/users/blongden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-18T17:09:02Z", "updated_at": "2019-09-22T17:23:01Z", "closed_at": "2019-09-22T17:23:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nBackspace characters are not handled over standard telnet clients.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Connect to silvren.com 4280 (`telnet silvren.com 4280` from osx or linux, unable to test with the windows client).\r\n2. Hit backspace a couple of times and hit enter.\r\n3. Observe character creation of \"   \" (presumably a number of backspace characters)\r\n\r\n#### Error output / Expected result of feature\r\n\r\nWhat should happen is that non printable characters are handled correctly.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nCurrently, telnet is negotiated as follows:\r\n\r\n```\r\ntelnet> status\r\nConnected to localhost.\r\nOperating in single character mode\r\nCatching signals locally\r\nLocal character echo\r\nEscape character is '^]'.\r\n```\r\n\r\nAchaea operates correctly with:\r\n\r\n```\r\ntelnet> status\r\nConnected to achaea.com.\r\nOperating with LINEMODE option\r\nLocal line editing\r\nLocal catching of signals\r\nSpecial characters are local values\r\nLocal character echo\r\nNo flow control\r\nEscape character is '^]'.\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1942/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1942/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1941", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1941/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1941/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1941/events", "html_url": "https://github.com/evennia/evennia/issues/1941", "id": 494197662, "node_id": "MDU6SXNzdWU0OTQxOTc2NjI=", "number": 1941, "title": "Launcher suppressing make/migration errors, returning misleading tracebacks", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-16T18:07:31Z", "updated_at": "2020-01-19T14:12:11Z", "closed_at": "2020-01-19T14:08:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI'm creating a custom app and forgot to assign a `max_length` to a `CharField`. \r\n\r\nEvennia let `makemigrations` pass with this invalid instruction (possibly swallowing errors here too), and when I go to perform the migration itself I get a complex traceback that does not draw attention to the actual issue.\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n(MON) ubuntu@ip-172-31-18-199:~/workspace/monarch$ evennia migrate parsing\r\n\r\n    NOTE: Django 2.2.5 found. This is newer than Evennia's\r\n    recommended version (2.2.4). It might work, but may be new\r\n    enough to not be fully tested yet. Report any issues.\r\n    \r\nOperations to perform:\r\n  Apply all migrations: parsing\r\nRunning migrations:\r\n  Applying parsing.0001_initial...Traceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/utils.py\", line 82, in _execute\r\n    return self.cursor.execute(sql)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py\", line 381, in execute\r\n    return Database.Cursor.execute(self, query)\r\nsqlite3.OperationalError: near \"None\": syntax error\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/MON/bin/evennia\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"/home/ubuntu/workspace/evennia/bin/unix/evennia\", line 10, in <module>\r\n    main()\r\n  File \"/home/ubuntu/workspace/evennia/evennia/server/evennia_launcher.py\", line 2174, in main\r\n    django.core.management.call_command(*([option] + unknown_args))\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/core/management/__init__.py\", line 148, in call_command\r\n    return command.execute(*args, **defaults)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/core/management/base.py\", line 364, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/core/management/base.py\", line 83, in wrapped\r\n    res = handle_func(*args, **kwargs)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/core/management/commands/migrate.py\", line 234, in handle\r\n    fake_initial=fake_initial,\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/migrations/executor.py\", line 117, in migrate\r\n    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/migrations/executor.py\", line 147, in _migrate_all_forwards\r\n    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/migrations/executor.py\", line 245, in apply_migration\r\n    state = migration.apply(state, schema_editor)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/migrations/migration.py\", line 124, in apply\r\n    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/migrations/operations/models.py\", line 92, in database_forwards\r\n    schema_editor.create_model(model)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/base/schema.py\", line 307, in create_model\r\n    self.execute(sql, params or None)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/base/schema.py\", line 137, in execute\r\n    cursor.execute(sql, params)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/utils.py\", line 99, in execute\r\n    return super().execute(sql, params)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/utils.py\", line 67, in execute\r\n    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/utils.py\", line 76, in _execute_with_wrappers\r\n    return executor(sql, params, many, context)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/utils.py\", line 84, in _execute\r\n    return self.cursor.execute(sql, params)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/utils.py\", line 89, in __exit__\r\n    raise dj_exc_value.with_traceback(traceback) from exc_value\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/utils.py\", line 82, in _execute\r\n    return self.cursor.execute(sql)\r\n  File \"/home/ubuntu/workspace/MON/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py\", line 381, in execute\r\n    return Database.Cursor.execute(self, query)\r\ndjango.db.utils.OperationalError: near \"None\": syntax error\r\n```\r\n\r\n...whereas a normal Django project returns:\r\n\r\n```\r\n(MON) ubuntu@ip-172-31-18-199:~/workspace/demodj$ python manage.py makemigrations\r\nSystemCheckError: System check identified some issues:\r\n\r\nERRORS:\r\nparsing.Application.value: (fields.E120) CharFields must define a 'max_length' attribute.\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1941/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1935", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1935/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1935/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1935/events", "html_url": "https://github.com/evennia/evennia/issues/1935", "id": 493759248, "node_id": "MDU6SXNzdWU0OTM3NTkyNDg=", "number": 1935, "title": "websocket breaks multline input to py", "user": {"login": "aarcro", "id": 279725, "node_id": "MDQ6VXNlcjI3OTcyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/279725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aarcro", "html_url": "https://github.com/aarcro", "followers_url": "https://api.github.com/users/aarcro/followers", "following_url": "https://api.github.com/users/aarcro/following{/other_user}", "gists_url": "https://api.github.com/users/aarcro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aarcro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aarcro/subscriptions", "organizations_url": "https://api.github.com/users/aarcro/orgs", "repos_url": "https://api.github.com/users/aarcro/repos", "events_url": "https://api.github.com/users/aarcro/events{/privacy}", "received_events_url": "https://api.github.com/users/aarcro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-09-15T16:40:51Z", "updated_at": "2020-01-19T12:09:41Z", "closed_at": "2020-01-19T12:09:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen using the websocket client to interact with a python shell, only the first line is handled by python, the rest of the lines are handled by the game engine\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. open `/webclient/`\r\n2. connect with developer account\r\n3. `py`\r\n4. input multiple lines into the input box (shift-enter for line breaks)\r\n\r\n#### Error output / Expected result of feature\r\n\r\nExpected: multiple lines of python execute (including indented blocks)\r\n\r\nActual: The fist line is executed as python, the second and following are treated as game commands.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nReproducible on `master`\r\n\r\n[Example screen session](https://www.dropbox.com/s/kvie3ikxb7872nz/multiline-py.gif?dl=0)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1930", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1930/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1930/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1930/events", "html_url": "https://github.com/evennia/evennia/issues/1930", "id": 493702529, "node_id": "MDU6SXNzdWU0OTM3MDI1Mjk=", "number": 1930, "title": "MSSP exception in portal on connect with Mudlet", "user": {"login": "gtaylor", "id": 75556, "node_id": "MDQ6VXNlcjc1NTU2", "avatar_url": "https://avatars.githubusercontent.com/u/75556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtaylor", "html_url": "https://github.com/gtaylor", "followers_url": "https://api.github.com/users/gtaylor/followers", "following_url": "https://api.github.com/users/gtaylor/following{/other_user}", "gists_url": "https://api.github.com/users/gtaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtaylor/subscriptions", "organizations_url": "https://api.github.com/users/gtaylor/orgs", "repos_url": "https://api.github.com/users/gtaylor/repos", "events_url": "https://api.github.com/users/gtaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/gtaylor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-15T06:45:59Z", "updated_at": "2019-09-15T12:09:54Z", "closed_at": "2019-09-15T12:09:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen I connect to an unmodified new game with Evennia 0.9.x and Mudlet 4.1.2, I see this exception in the portal:\r\n```\r\n2019-09-15T06:43:35+0000 [twisted.internet.defer#critical] Unhandled error in Deferred:\r\n2019-09-15T06:43:35+0000 [twisted.internet.defer#critical]\r\n\tTraceback (most recent call last):\r\n\t  File \"/usr/local/lib/python3.7/site-packages/Twisted-19.7.0-py3.7-macosx-10.14-x86_64.egg/twisted/conch/telnet.py\", line 766, in telnet_DO\r\n\t    self.doMap[s.us.state, s.us.negotiating](self, s, option)\r\n\t  File \"/usr/local/lib/python3.7/site-packages/Twisted-19.7.0-py3.7-macosx-10.14-x86_64.egg/twisted/conch/telnet.py\", line 784, in do_no_true\r\n\t    d.callback(True)\r\n\t  File \"/usr/local/lib/python3.7/site-packages/Twisted-19.7.0-py3.7-macosx-10.14-x86_64.egg/twisted/internet/defer.py\", line 460, in callback\r\n\t    self._startRunCallbacks(result)\r\n\t  File \"/usr/local/lib/python3.7/site-packages/Twisted-19.7.0-py3.7-macosx-10.14-x86_64.egg/twisted/internet/defer.py\", line 568, in _startRunCallbacks\r\n\t    self._runCallbacks()\r\n\t--- <exception caught here> ---\r\n\t  File \"/usr/local/lib/python3.7/site-packages/Twisted-19.7.0-py3.7-macosx-10.14-x86_64.egg/twisted/internet/defer.py\", line 654, in _runCallbacks\r\n\t    current.result = callback(current.result, *args, **kw)\r\n\t  File \"/Users/greg.taylor/code/evennia/evennia/server/portal/mssp.py\", line 127, in do_mssp\r\n\t    varlist += MSSP_VAR + bytes(variable, 'utf-8') + MSSP_VAL + bytes(value, 'utf-8')\r\n\tbuiltins.TypeError: can only concatenate str (not \"bytes\") to str\r\n```\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Init a new evennia 0.9.0 game\r\n2. Download/install Mudlet 4.1.2\r\n3. Connect with the host/port specified but no user/pass", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1930/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1922", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1922/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1922/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1922/events", "html_url": "https://github.com/evennia/evennia/issues/1922", "id": 493485176, "node_id": "MDU6SXNzdWU0OTM0ODUxNzY=", "number": 1922, "title": "GLOBAL_SCRIPTS generating duplicates on reload", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-13T19:34:54Z", "updated_at": "2019-09-23T17:39:37Z", "closed_at": "2019-09-23T17:39:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI was under the impression the global scripts handler manages singletons, but a new script instance is generated for each item on every reload.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Define a script in the global handler\r\n```\r\nGLOBAL_SCRIPTS = {\r\n    'demo': {'typeclass': 'typeclasses.scripts.Script', 'repeats': 666, 'interval': 6},\r\n}\r\n```\r\n2. Reload\r\n3. Reload\r\n4. Reload\r\n5. `scripts`\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n|    27 | <Global> | demo |      6 |    6s | 37/666 |  * | DefaultScript |        |\r\n|    28 | <Global> | demo |      6 |    3s | 36/666 |  * | DefaultScript |        |\r\n|    29 | <Global> | demo |      6 |    1s | 35/666 |  * | DefaultScript |        |\r\n|    30 | <Global> | demo |      6 |    2s |  2/666 |  * | DefaultScript |        |\r\n|    31 | <Global> | demo |      6 |    5s |  1/666 |  * | DefaultScript |        |\r\n```\r\n\r\nBased on this output the script does not even appear to be the right typeclass...\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nrev c6aa943", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1922/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1921", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1921/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1921/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1921/events", "html_url": "https://github.com/evennia/evennia/issues/1921", "id": 493326731, "node_id": "MDU6SXNzdWU0OTMzMjY3MzE=", "number": 1921, "title": "home= kwarg in Character.create method doesn't work.", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-09-13T13:30:03Z", "updated_at": "2020-01-07T09:51:45Z", "closed_at": "2020-01-07T09:51:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWas trying to make a custom room for a new account to start in and in the `Account.create` method, it calls upon `Character.create`. I made the room just before this call and passed the new room as the home kwarg. It did not work properly and instead the character is created with the default `Limbo (#2)` room. Once the new account is made, both the room and character exist.\r\n\r\nOriginal section of the Account.create method I'm attempting to change.\r\nhttps://github.com/evennia/evennia/blob/master/evennia/accounts/accounts.py#L732\r\n\r\nMy custom code that doesn't work. \r\n(Related section on **line 150**)\r\nhttps://pastebin.com/fPFnNuj1\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\nCall the Character.create method and pass it a home kwarg to use.\r\n```\r\n!from typeclasses.characters import Character; Character.create(\"Batman\", \"Kovitikus\", home=\"#212\")\r\n```\r\n\r\n#### Error output / Expected result of feature\r\nWhen calling the `Character.create` method via `@py`, no resulting character is made.\r\nhttps://i.imgur.com/QlZCm5M.png\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEvennia master branch.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1919", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1919/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1919/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1919/events", "html_url": "https://github.com/evennia/evennia/issues/1919", "id": 492810852, "node_id": "MDU6SXNzdWU0OTI4MTA4NTI=", "number": 1919, "title": "Cannot search tags on Msg objects", "user": {"login": "arumford", "id": 23032495, "node_id": "MDQ6VXNlcjIzMDMyNDk1", "avatar_url": "https://avatars.githubusercontent.com/u/23032495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arumford", "html_url": "https://github.com/arumford", "followers_url": "https://api.github.com/users/arumford/followers", "following_url": "https://api.github.com/users/arumford/following{/other_user}", "gists_url": "https://api.github.com/users/arumford/gists{/gist_id}", "starred_url": "https://api.github.com/users/arumford/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arumford/subscriptions", "organizations_url": "https://api.github.com/users/arumford/orgs", "repos_url": "https://api.github.com/users/arumford/repos", "events_url": "https://api.github.com/users/arumford/events{/privacy}", "received_events_url": "https://api.github.com/users/arumford/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-12T13:36:01Z", "updated_at": "2019-09-23T19:19:48Z", "closed_at": "2019-09-23T19:19:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen creating Msg Objects that include added tags, searching for the specific tag returns no results from Msg objects, even though the tags are confirmed to exist.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create Msg object\r\n2. Add a unique tag to the Msg\r\n3. Attempt to search by the tag via Msg.objects.get_by_tag(), evennia.search_tag() or the tag/search command in-game.  All return no results\r\n\r\n#### Error output / Expected result of feature\r\nNo results found\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1916", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1916/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1916/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1916/events", "html_url": "https://github.com/evennia/evennia/issues/1916", "id": 492277528, "node_id": "MDU6SXNzdWU0OTIyNzc1Mjg=", "number": 1916, "title": "Most text formatting appears wrong", "user": {"login": "Panzerbyte", "id": 1942013, "node_id": "MDQ6VXNlcjE5NDIwMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1942013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Panzerbyte", "html_url": "https://github.com/Panzerbyte", "followers_url": "https://api.github.com/users/Panzerbyte/followers", "following_url": "https://api.github.com/users/Panzerbyte/following{/other_user}", "gists_url": "https://api.github.com/users/Panzerbyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/Panzerbyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Panzerbyte/subscriptions", "organizations_url": "https://api.github.com/users/Panzerbyte/orgs", "repos_url": "https://api.github.com/users/Panzerbyte/repos", "events_url": "https://api.github.com/users/Panzerbyte/events{/privacy}", "received_events_url": "https://api.github.com/users/Panzerbyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-11T14:33:28Z", "updated_at": "2019-09-13T06:37:02Z", "closed_at": "2019-09-11T17:58:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWith the new update that was fixing the formatting of text OOCly, I decided to login to my server again and what I noticed is that the connection screen looked all wrong. Once logged in, the help and also the regular screen that appears when you're OOC, didn't look properly formatted.\r\n\r\n(related to closed issue 1914?)\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. \r\n2. \r\n3. \r\n\r\n#### Error output / Expected result of feature\r\nConnection screen:\r\n```\r\n==============================================================  GAMENAME - version 0.9.0       .  If you have an existing account, connect to it by typing:       connect <username> <password>  If you need to create an account, type (without the <>'s):       create <username> <password>  If you have spaces in your username, enclose it in quotes.  You must be at least 18 years old to play this game.  Enter help for more info. look will re-show this screen. ==============================================================\r\n```\r\nOOC account view:\r\n```\r\n-------------------------------------------------------------------- Account Panzerbyte (you are Out-of-Character) Connected session:  * 1 websocket (127.0.0.1)  help - more commands  ooc <Text> - talk on public channel  @charcreate <name> [=description] - create new character  @chardelete <name> - delete a character (cannot be undone!)  @ic <character> - enter the game (@ooc to get back here) Available character (1/unlimited):  - Panzerbyte [developer] --------------------------------------------------------------------\r\n```\r\nHelp command:\r\n```\r\n------------------------------------------------------------------------------    Command help entries ------------------------------------------------------------------------------   Admin: userpassword   Building: examine   Channel Names: mudinfo, public   Comms: addcom, allcom, cboot, ccreate, cdesc, cdestroy\u001b[36m, cemit, channels, clock, cwho, delcom, grapevine2chan\u001b[36m, irc2chan, ircstatus, page, rss2chan   General: charcreate, chardelete, color, help, ic, look, nick\u001b[36m, ooc, option, password, quell, quit, sessions\u001b[36m, style, who   System: py, reload, reset, shutdown\r\n```\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nMaster de418b2a", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1914", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1914/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1914/events", "html_url": "https://github.com/evennia/evennia/issues/1914", "id": 491547598, "node_id": "MDU6SXNzdWU0OTE1NDc1OTg=", "number": 1914, "title": "Help command to topic that doesn't exist in OOC mode gives odd result", "user": {"login": "Panzerbyte", "id": 1942013, "node_id": "MDQ6VXNlcjE5NDIwMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1942013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Panzerbyte", "html_url": "https://github.com/Panzerbyte", "followers_url": "https://api.github.com/users/Panzerbyte/followers", "following_url": "https://api.github.com/users/Panzerbyte/following{/other_user}", "gists_url": "https://api.github.com/users/Panzerbyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/Panzerbyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Panzerbyte/subscriptions", "organizations_url": "https://api.github.com/users/Panzerbyte/orgs", "repos_url": "https://api.github.com/users/Panzerbyte/repos", "events_url": "https://api.github.com/users/Panzerbyte/events{/privacy}", "received_events_url": "https://api.github.com/users/Panzerbyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-10T09:11:20Z", "updated_at": "2019-09-10T17:57:28Z", "closed_at": "2019-09-10T17:57:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nAfter following up Griatch's advice of 'cdestroy public' to get rid of the missing ooc command bug, and after having reloaded the server, once I type in 'help <help topic that doesn't exist>' in OOC mode, it gives me an odd result.\r\n\r\nThe 'cdestroy public' thing may or may not have something to do with it.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. \r\n2. \r\n3. \r\n\r\n#### Error output / Expected result of feature\r\n```\r\n--------------------------------------------------------------------\r\n(\"------------------------------------------------------------------------------\\n\\nNo help entry found for 'so'\\n\\nSuggested: sessions, options, password, userpassword,\\nooc\\n------------------------------------------------------------------------------\", {'type': 'help'})\r\n```\r\n\r\nWhereas the expected result in IC mode is this:\r\n```\r\n------------------------------------------------------------------------------\r\n\r\nNo help entry found for 'so'\r\n\r\nSuggested: sessions, pose, options, listobjs,\r\npassword\r\n------------------------------------------------------------------------------\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nMaster branch (fceb7a9)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1911", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1911/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1911/events", "html_url": "https://github.com/evennia/evennia/issues/1911", "id": 489999181, "node_id": "MDU6SXNzdWU0ODk5OTkxODE=", "number": 1911, "title": "Global script in at_server_start cause duplicate firing", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-05T21:00:28Z", "updated_at": "2019-09-05T21:54:16Z", "closed_at": "2019-09-05T21:54:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nOriginally reported by user `Surveyon`:  \r\nA non-peristent global script added to `at_server_start` will cause duplicates of its repeating task. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Add simple repeating, non-persistent script\r\n2. reload \r\n3. see duplicate echo\r\n\r\n#### Error output / Expected result of feature\r\n\r\nEven if `GLOBAL_SCRIPTS` handle can do this too, this simple way to run a script should work with no issues.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nFrom user `Surveyon's` example: \r\n```def at_server_start():\r\n    \"\"\"\r\n    This is called every time the server starts up, regardless of\r\n    how it was shut down.\r\n    \"\"\"\r\n    create_script(\"typeclasses.scripts.AmbienceSystem\")\r\n \r\nclass AmbienceSystem(Script):\r\n    '''\r\n    Script for managing ambience in rooms.\r\n \r\n    Will go through rooms marked for ambience and carry out ambience tasks such\r\n    as producing echoes, etc.\r\n    '''\r\n    def at_script_creation(self):\r\n        self.key = 'TestScript'\r\n        self.interval = 5\r\n        self.repeats = 0\r\n        self.start_delay = True\r\n        self.persistent = False\r\n \r\n    def at_repeat(self):\r\n       print(f\"script {self} {id(self) firing\")\r\n \r\n    def at_server_reload(self):\r\n        # We don't ever want multiple instances of this thing running. Let's\r\n        # stop any instances that are running when we reload.\r\n        self.stop()\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1910", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1910/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1910/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1910/events", "html_url": "https://github.com/evennia/evennia/issues/1910", "id": 488708484, "node_id": "MDU6SXNzdWU0ODg3MDg0ODQ=", "number": 1910, "title": "search_account() does not match account aliases", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259905, "node_id": "MDU6TGFiZWw3NjI1OTkwNQ==", "url": "https://api.github.com/repos/evennia/evennia/labels/feature-request", "name": "feature-request", "color": "84b6eb", "default": false, "description": "A suggestion for new functionality."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-03T16:34:58Z", "updated_at": "2019-09-04T18:57:58Z", "closed_at": "2019-09-04T18:57:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nYou cannot page (or mail, with the mail contrib), a player by any of their account aliases.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set an account alias\r\n2. page the player using that alias\r\n3. \r\n\r\n#### Error output / Expected result of feature\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1907", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1907/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1907/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1907/events", "html_url": "https://github.com/evennia/evennia/issues/1907", "id": 487615692, "node_id": "MDU6SXNzdWU0ODc2MTU2OTI=", "number": 1907, "title": "[Admin] Tags: Tagtype is a required field", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-30T18:26:43Z", "updated_at": "2019-10-28T10:04:25Z", "closed_at": "2019-10-28T10:04:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nModifying a tag's `data` via the admin interface won't allow saving of the object without providing a value for `tagtype`.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Admin interface > Tags\r\n2. Edit a tag\r\n3. Try to save it\r\n\r\n#### Error output / Expected result of feature\r\nThe `tagtype` field definition appears to be missing a `blank=True`.\r\nhttps://github.com/evennia/evennia/blob/6389fbf81c87e09006f1a1c69e9db67a4eab2805/evennia/typeclasses/tags.py#L61\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n0.9.0-dev (rev 6389fbf)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1907/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1906", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1906/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1906/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1906/events", "html_url": "https://github.com/evennia/evennia/issues/1906", "id": 487152930, "node_id": "MDU6SXNzdWU0ODcxNTI5MzA=", "number": 1906, "title": "Password creation strangeness", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-29T20:08:43Z", "updated_at": "2019-08-29T20:10:36Z", "closed_at": "2019-08-29T20:10:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While testing I noticed something else that is a bit odd:\r\nIt for some reason allowed me (from the web presence) to create an acount with login: `test` pass: `test4455`\r\nAt the same time it did not allow me to create: login `foobarfoobar` with pass `foobarfoobar1` nor `foobarfoobar4455`\r\n\r\nI then tried different combinations and it seems, if the login name is 4 characters it will allow that kind of password. If the login is 5 characters however the behaviour seems to be the same as a longer login. I din't attempt to script a proper test - just did a few quick checks.\r\n\r\nI could no longer reproduce the previous issue however :)\r\n\r\n_Originally posted by @BP-Santo in https://github.com/evennia/evennia/issues/1857#issuecomment-525947877_", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1906/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1905", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1905/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1905/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1905/events", "html_url": "https://github.com/evennia/evennia/issues/1905", "id": 486657019, "node_id": "MDU6SXNzdWU0ODY2NTcwMTk=", "number": 1905, "title": "Tracebacks in portal log after adding accounts from the webpresence.", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-28T23:28:15Z", "updated_at": "2019-12-16T18:12:03Z", "closed_at": "2019-12-16T18:12:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have checked my portal.log after trying to reproduce issue #1857 to find seemingly one main traceback happening but it also resulting in 82k characters worth of log entries!\r\nI created only 2 new accounts for the duration the log represents and also tried changing password for one account as the last operation. \r\n**The log also mentions multiple clients being timed out for some reason**\r\n\r\nlog: https://pastebin.com/GGWXdqrn\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1905/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1901", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1901/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1901/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1901/events", "html_url": "https://github.com/evennia/evennia/issues/1901", "id": 484960627, "node_id": "MDU6SXNzdWU0ODQ5NjA2Mjc=", "number": 1901, "title": "Bug: When inputting a single character using get_input, returns an UnboundLocalError", "user": {"login": "Wontoon", "id": 16856238, "node_id": "MDQ6VXNlcjE2ODU2MjM4", "avatar_url": "https://avatars.githubusercontent.com/u/16856238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wontoon", "html_url": "https://github.com/Wontoon", "followers_url": "https://api.github.com/users/Wontoon/followers", "following_url": "https://api.github.com/users/Wontoon/following{/other_user}", "gists_url": "https://api.github.com/users/Wontoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wontoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wontoon/subscriptions", "organizations_url": "https://api.github.com/users/Wontoon/orgs", "repos_url": "https://api.github.com/users/Wontoon/repos", "events_url": "https://api.github.com/users/Wontoon/events{/privacy}", "received_events_url": "https://api.github.com/users/Wontoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-25T18:22:47Z", "updated_at": "2019-08-26T06:44:46Z", "closed_at": "2019-08-26T06:44:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nget_input will return an error when the input is a single character.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Using the get_input function, supply it a single character.\r\nYou can copy and paste this code into your character.py file in your game to try it for yourself:\r\n----\r\n    def testinput(self):\r\n        from evennia.utils.evmenu import get_input\r\n    \t\r\n        def inputted_msg(caller,prompt,user_input):\r\n            self.msg(prompt)\r\n            self.msg(\"Repeat: \"+user_input)\r\n            if not user_input == \"something\":\r\n                self.msg(\"Try again!\")\r\n                return True\r\n            else:\r\n                self.msg(\"Success.\")\t\t\r\n        get_input(self,\"Say something!\",inputted_msg)\r\n----\r\n\r\n2. An UnboundLocalError error will appear in the log.\r\n\r\n#### Error output / Expected result of feature:\r\n\r\nThe error output was as such:\r\n\r\n    19-08-25 10:20:24-07 [::] Traceback (most recent call last):\r\n    19-08-25 10:20:24-07 [::]   File \"f:\\dreamsea mud\\evennia\\evennia\\commands\\cmdparser.py\", line 76, in build_matches\r\n    19-08-25 10:20:24-07 [::]     if len(raw_string) > 1 else l_raw_string)\r\n    19-08-25 10:20:24-07 [::] UnboundLocalError: local variable 'l_raw_string' referenced before assignment\r\n    19-08-25 10:20:24-07 [EE] cmdhandler error. raw_input:s\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n\r\nI looked at the code in cmdparser.py within the build_matches function (where the error occurred), and sure enough there is an l_raw_string being referenced before being set (snippet is from line 62 to 78 in evennia/evennia/commands/cmdparser.py, with my own comment added:\r\n\r\n    matches = []\r\n    try:\r\n        if include_prefixes:\r\n            # use the cmdname as-is\r\n            l_raw_string = raw_string.lower()\r\n            for cmd in cmdset:\r\n                matches.extend([create_match(cmdname, raw_string, cmd, cmdname)\r\n                                for cmdname in [cmd.key] + cmd.aliases\r\n                                if cmdname and l_raw_string.startswith(cmdname.lower()) and\r\n                                (not cmd.arg_regex or\r\n                                    cmd.arg_regex.match(l_raw_string[len(cmdname):]))])\r\n        else:\r\n            # strip prefixes set in settings\r\n            raw_string = (raw_string.lstrip(_CMD_IGNORE_PREFIXES)\r\n                          if len(raw_string) > 1 else l_raw_string) #<--- Right here, l_raw_string is reference before being defined.\r\n            l_raw_string = raw_string.lower()\r\n            for cmd in cmdset:\r\n\r\n\r\nMy solution was pretty much just initializing l_raw_string on line 75 (after the \"else\" keyword):\r\n\r\n        else:\r\n            # strip prefixes set in settings\r\n            l_raw_string = \"\" #<--- Fixes the UnboundLocalError, shouldn't cause problems (I hope)\r\n            raw_string = (raw_string.lstrip(_CMD_IGNORE_PREFIXES)\r\n                          if len(raw_string) > 1 else l_raw_string) #<--- And now we shouldn't get any more complaints because of this.\r\n            l_raw_string = raw_string.lower()\r\n            for cmd in cmdset:\r\n\r\nAnd voila, it stopped complaining! As of this report, this is in Evennia version 0.9.0 (rev 3d842e8) master branch.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1900", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1900/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1900/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1900/events", "html_url": "https://github.com/evennia/evennia/issues/1900", "id": 484707832, "node_id": "MDU6SXNzdWU0ODQ3MDc4MzI=", "number": 1900, "title": "The 'CmdCharDelete' and 'CmdStyle' commands are not accessible by importing default_cmds", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-23T20:53:34Z", "updated_at": "2019-08-26T06:36:08Z", "closed_at": "2019-08-26T06:35:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nUnlike all other default commands, 'chardelete' and 'style' are not properly imported via `from evennia import default_cmds`.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create an overloaded version of either of these commands, thus:\r\n```\r\nfrom evennia import default_cmds\r\n\r\nclass CmdStyle(default_cmds.CmdStyle):\r\n    pass\r\n```\r\n2. Overload the default command by adding it to the appropriate command set.\r\n3. Reload the server to update commands.\r\n\r\n#### Error output / Expected result of feature\r\nThe following errors are output when the server attempts (and fails) to reload:\r\n```\r\nbuiltins.AttributeError: 'DefaultCmds' object has no attribute 'CmdStyle'\r\n\r\nFailed to load application: 'DefaultCmds' object has no attribute 'CmdStyle'\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEvennia 0.9.0, Main branch, revision 3abb2f3f\r\n\r\nThe commands just need to be added to `__all__` in evennia/commands/default/account.py (line 35 at the time of this writing).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1900/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1899", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1899/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1899/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1899/events", "html_url": "https://github.com/evennia/evennia/issues/1899", "id": 484699036, "node_id": "MDU6SXNzdWU0ODQ2OTkwMzY=", "number": 1899, "title": "Default messaging for receivers of 'whisper' command cannot be overridden.", "user": {"login": "awranthyr", "id": 54382836, "node_id": "MDQ6VXNlcjU0MzgyODM2", "avatar_url": "https://avatars.githubusercontent.com/u/54382836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awranthyr", "html_url": "https://github.com/awranthyr", "followers_url": "https://api.github.com/users/awranthyr/followers", "following_url": "https://api.github.com/users/awranthyr/following{/other_user}", "gists_url": "https://api.github.com/users/awranthyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/awranthyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awranthyr/subscriptions", "organizations_url": "https://api.github.com/users/awranthyr/orgs", "repos_url": "https://api.github.com/users/awranthyr/repos", "events_url": "https://api.github.com/users/awranthyr/events{/privacy}", "received_events_url": "https://api.github.com/users/awranthyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-23T20:28:45Z", "updated_at": "2019-08-26T18:10:07Z", "closed_at": "2019-08-26T18:10:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen implementing an overloaded version of the default 'whisper' command, the messaging issued to all characters on the receiving end is reverted to the default format.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a custom CmdWhisper and overload the default version by adding it to your character command set.\r\n2. Pass a custom message through msg_receivers in the call to the character object's at_say method.\r\n3. Reload the server and observe that the customized messaging is not utilized on the receiving end of the command.\r\n\r\n#### Error output / Expected result of feature\r\nWith custom messaging defined as:\r\n```\r\nmsg_receivers = '|c{object} whispers,|n \"{speech}\"'\r\n```\r\n\r\nThe characters on the receiving end actually receive:\r\n```\r\nAwranthyr whispers: \"Test.\"\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEvennia 0.9.0, Main branch, revision 3abb2f3f\r\n\r\nAt a quick glance it seems the issue would be solved by removing the following line (line 1849 at the time of this writing):\r\n```\r\n            msg_receivers = '{object} whispers: \"{speech}\"'\r\n```\r\n\r\n... From this snippet of evennia/objects/objects.py:\r\n```\r\n        if kwargs.get(\"whisper\", False):\r\n            # whisper mode\r\n            msg_type = 'whisper'\r\n            msg_self = '{self} whisper to {all_receivers}, \"{speech}\"' if msg_self is True else msg_self\r\n            msg_receivers = '{object} whispers: \"{speech}\"'\r\n            msg_receivers = msg_receivers or '{object} whispers: \"{speech}\"'\r\n            msg_location = None\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1898", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1898/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1898/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1898/events", "html_url": "https://github.com/evennia/evennia/issues/1898", "id": 484367820, "node_id": "MDU6SXNzdWU0ODQzNjc4MjA=", "number": 1898, "title": "[bug] IRC channel bot randomly stops sending to new users ", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-23T07:14:59Z", "updated_at": "2020-10-21T19:08:22Z", "closed_at": "2020-10-21T19:08:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThis bug has now been identified twice on the Evennia demo server. Unclear how old it is. What happens is that newly connected users do not see messages from IRC. They can still send correctly to IRC. Old accounts on the demo can both send/receive. \r\n\r\n- The new account is otherwise correctly connected to the in-game channel, so they can send/receive messages sent by others on the game on that channel. \r\n- Accounts can always *send* to IRC. It's the receiving that *sometimes* appear to fail for new accounts (never for old ones). \r\n- Reconnecting the IRC bot does *not* help.\r\n- Running `irc2chan/delete <bot id>` and then creating it again *will* solve the issue, also for new accounts created afterwards. But it appears to re-appear later for unknown reasons. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. ? \r\n2. Connect with new account to demo\r\n3. Send message to IRC\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThe IRCbot should always echo messages to everyone connected to the IRC-tied in-game channel. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe evdemo is still running Evennia 0.8; as this is updated, this will need to be addressed as well. The ability to greet newcomers from IRC is important. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1889", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1889/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1889/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1889/events", "html_url": "https://github.com/evennia/evennia/issues/1889", "id": 481921948, "node_id": "MDU6SXNzdWU0ODE5MjE5NDg=", "number": 1889, "title": "Channel command given without argument gives confusing error", "user": {"login": "luciensadi", "id": 28811446, "node_id": "MDQ6VXNlcjI4ODExNDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/28811446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luciensadi", "html_url": "https://github.com/luciensadi", "followers_url": "https://api.github.com/users/luciensadi/followers", "following_url": "https://api.github.com/users/luciensadi/following{/other_user}", "gists_url": "https://api.github.com/users/luciensadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/luciensadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luciensadi/subscriptions", "organizations_url": "https://api.github.com/users/luciensadi/orgs", "repos_url": "https://api.github.com/users/luciensadi/repos", "events_url": "https://api.github.com/users/luciensadi/events{/privacy}", "received_events_url": "https://api.github.com/users/luciensadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-17T20:09:57Z", "updated_at": "2022-02-05T21:53:10Z", "closed_at": "2022-02-05T21:53:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nCommand 'mudinfo' is not available to the superadmin / first user, but is suggested in HELP and incorrect-command suggestions.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Download and build a new game in accordance with the quickstart instructions.\r\n2. Run the game and log in as your new admin user.\r\n3:\r\n```\r\n> mudinfo\r\nCommand 'mudinfo' is not available. Maybe you meant \"mudinfo\" or \"find\"?\r\n```\r\n\r\n#### Error output / Expected result of feature\r\nWhatever the 'mudinfo' command is expected to output.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n```\r\n------------------------- Evennia ---\r\nspacemud Portal 0.9.0 (rev 0336003d)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nspacemud Server 0.9.0 (rev 0336003d)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n-------------------------------------\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1886", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1886/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1886/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1886/events", "html_url": "https://github.com/evennia/evennia/issues/1886", "id": 479348144, "node_id": "MDU6SXNzdWU0NzkzNDgxNDQ=", "number": 1886, "title": "Adding an account cmdset to one account also makes it listed for all other accounts under their characters merged cmdsets.", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-11T08:56:56Z", "updated_at": "2019-10-16T22:27:36Z", "closed_at": "2019-10-16T22:25:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. After adding a command set to one account (in my case the superuser) the same command set then appears for all existing and newly created characters under \"merged command sets\" when using the examine command on them.\r\n\r\n2. The added cmdset is properly displayed and merged on the account to which it was added in the following manner (tried both using @py in game and from at_innitial_setup module):\r\n```\r\nfrom evennia import search_account\r\nfrom my.python.path import new_cmdset_module\r\n\r\nsuperuser_account = search_account('my_superuser_key', exact=True)[0]\r\n# fix account command set to use the admin version instead of the player one\r\nsuperuser_account.cmdset.delete('full.python.path.to.OldCmdsetClass')\r\nsuperuser_account.cmdset.add_default(new_cmdset_module.NewCmdsetClass, permanent=True)\r\n```\r\n\r\n3. For all other characters this cmdset does not show up when examining their accounts instead when examining the characters themselves it shows up under merged cmdsets where it is listed alongside their own account cmd set.\r\n\r\n4. For all other characters even though the cmdset is listed as merged, none of the commands contained inside it are actually made available. This particular roque cmdset contains both admin and player accessible commands so if it was actually being merged it would seem logical that they would be available and listed in the help menu.\r\n\r\n5. I connect as to my superuser using mudlet and then use the webclient to create and connect to the test characters. It is unlikely this has anything to do with it but these regular player accounts accordingly have the same creator_ip attribute (it's all running on localhost so it shows up as 127.0.0.1).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1886/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1881", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1881/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1881/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1881/events", "html_url": "https://github.com/evennia/evennia/issues/1881", "id": 476585345, "node_id": "MDU6SXNzdWU0NzY1ODUzNDU=", "number": 1881, "title": "%-d in strftime() doesn't work on Windows", "user": {"login": "Russell-Jones", "id": 6276279, "node_id": "MDQ6VXNlcjYyNzYyNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6276279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Russell-Jones", "html_url": "https://github.com/Russell-Jones", "followers_url": "https://api.github.com/users/Russell-Jones/followers", "following_url": "https://api.github.com/users/Russell-Jones/following{/other_user}", "gists_url": "https://api.github.com/users/Russell-Jones/gists{/gist_id}", "starred_url": "https://api.github.com/users/Russell-Jones/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Russell-Jones/subscriptions", "organizations_url": "https://api.github.com/users/Russell-Jones/orgs", "repos_url": "https://api.github.com/users/Russell-Jones/repos", "events_url": "https://api.github.com/users/Russell-Jones/events{/privacy}", "received_events_url": "https://api.github.com/users/Russell-Jones/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-04T19:24:21Z", "updated_at": "2019-08-28T22:12:51Z", "closed_at": "2019-08-28T22:12:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "e.g. https://github.com/evennia/evennia/blob/4fefbc0dcd24b8abe0a3810ecdb11c79abb7675c/evennia/utils/utils.py#L579\r\n\r\nI suggest using e.g. `f\"%b {dtobj.day}, %Y\"` instead of `\"%b %-d, %Y\"`\r\nA full test is tricky since it relies on timezone.now() (could this be mocked?) but a regression test for this would just be verifying there isn't an exception when this is called with a datetime.\r\n\r\nSee also http://strftime.org/ and https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior\r\n\r\nThis was discovered because this breaks the \"objects\" command on Windows, see #1880 .\r\n\r\nEdit: `git grep %-` shows it used in utils/utils.py and contrib/mail.py", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1881/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1881/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1880", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1880/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1880/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1880/events", "html_url": "https://github.com/evennia/evennia/issues/1880", "id": 476573738, "node_id": "MDU6SXNzdWU0NzY1NzM3Mzg=", "number": 1880, "title": "objects command broken", "user": {"login": "kovitikus", "id": 42563220, "node_id": "MDQ6VXNlcjQyNTYzMjIw", "avatar_url": "https://avatars.githubusercontent.com/u/42563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kovitikus", "html_url": "https://github.com/kovitikus", "followers_url": "https://api.github.com/users/kovitikus/followers", "following_url": "https://api.github.com/users/kovitikus/following{/other_user}", "gists_url": "https://api.github.com/users/kovitikus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kovitikus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kovitikus/subscriptions", "organizations_url": "https://api.github.com/users/kovitikus/orgs", "repos_url": "https://api.github.com/users/kovitikus/repos", "events_url": "https://api.github.com/users/kovitikus/events{/privacy}", "received_events_url": "https://api.github.com/users/kovitikus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-04T17:07:52Z", "updated_at": "2019-08-28T22:12:48Z", "closed_at": "2019-08-28T22:12:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen typing objects, a traceback occurs.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Execute the objects command.\r\n\r\n#### Error output / Expected result of feature\r\n\r\n> Traceback (most recent call last):\r\n>   File \"d:\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 591, in _run_command\r\n>     ret = cmd.func()\r\n>   File \"d:\\muddev\\evennia\\evennia\\commands\\default\\system.py\", line 474, in func\r\n>     latesttable.add_row(utils.datetime_format(obj.date_created),\r\n>   File \"d:\\muddev\\evennia\\evennia\\utils\\utils.py\", line 582, in datetime_format\r\n>     timestring = dtobj.strftime(\"%b %-d\")\r\n> ValueError: Invalid format string\r\n>  \r\n> An untrapped error occurred.\r\n> (Traceback was logged 19-08-04 10:58:41-04).\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI'm using the default Evennia master branch as per the Getting Started - Windows Install instructions.\r\n\r\nruchagrajo assisted me in fixing this issue. We first double-checked that my utils.py file was not modified from the github version. He then informed me that it's similar to [this issue](https://github.com/singer-io/singer-python/issues/86), also linking this [page](http://strftime.org/).\r\n\r\nHe told me to change the %-d to %d on line 582 of utils.py and it fixed the issue.\r\n\r\nHere's the updated function of the utils.py module that works properly.\r\n\r\n```python\r\ndef datetime_format(dtobj):\r\n    \"\"\"\r\n    Pretty-prints the time since a given time.\r\n\r\n    Args:\r\n        dtobj (datetime): An datetime object, e.g. from Django's\r\n            `DateTimeField`.\r\n\r\n    Returns:\r\n        deltatime (str): A string describing how long ago `dtobj`\r\n            took place.\r\n\r\n    \"\"\"\r\n\r\n    now = timezone.now()\r\n\r\n    if dtobj.year < now.year:\r\n        # another year (Apr 5, 2019)\r\n        timestring = dtobj.strftime(\"%b %-d, %Y\")\r\n    elif dtobj.date() < now.date():\r\n        # another date, same year  (Apr 5)\r\n        timestring = dtobj.strftime(\"%b %d\")\r\n    elif dtobj.hour < now.hour - 1:\r\n        # same day, more than 1 hour ago (10:45)\r\n        timestring = dtobj.strftime(\"%H:%M\")\r\n    else:\r\n        # same day, less than 1 hour ago (10:45:33)\r\n        timestring = dtobj.strftime(\"%H:%M:%S\")\r\n    return timestring\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1879", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1879/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1879/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1879/events", "html_url": "https://github.com/evennia/evennia/issues/1879", "id": 475848379, "node_id": "MDU6SXNzdWU0NzU4NDgzNzk=", "number": 1879, "title": "Spawn command has numerous critical issues (/update broken; wrong item locations; /list stops working requiring a full shutdown and restart).", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-08-01T19:23:08Z", "updated_at": "2020-03-28T23:16:41Z", "closed_at": "2020-03-28T23:16:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The spawn command when used to spawn from prototype dicts stored inside modules has a number of severe issues:\r\n\r\n1. The /update switch asks for confirmation but does not actually update the relevant objects. I tried changing a single integer attribute on the prototype inside the module - attempted the /update feature both after and before a reload.\r\n\r\n2. Spawning multiples of the same prototype does so in the same location the caller was in when spawning that prototype for the first time instead of in the current location of the caller. After a reload a prototype can be spawned correctly in the callers current location and then will again lock to only being spawned in that location. /noloc does not seem to do anything.\r\n\r\n3. While trying to further test this behaviour out I tried the /show switch but that returned nothing afterwhich /list also returned nothing. The spawn command would not work at all after that point even after a reload. It was available again after a full shutdown and startup however.\r\n\r\n4. Trying to use some of the other switches (possibly incorrectly due to the docstring shown by the help command being innacurate) sometimes resulted with tracebacks (suggesting that possibly something odd is happening with how the args are parsed?).\r\n\r\nSteps to reproduce would involve creating a couple of modules with prototypes, each with one parent and one child (the child pointing to the parent rather than listing a typeclass) and trying to spawn the child prototypes, updating them etc. as explained above.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1879/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1878", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1878/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1878/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1878/events", "html_url": "https://github.com/evennia/evennia/issues/1878", "id": 474025785, "node_id": "MDU6SXNzdWU0NzQwMjU3ODU=", "number": 1878, "title": "Stopping a global script with script/stop", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-29T12:33:54Z", "updated_at": "2019-08-28T21:44:28Z", "closed_at": "2019-08-28T21:44:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nIt seems stopping global scripts using the command `script/stop` doesn't work.  If so, it might be good to fix that.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a global script, no tie to any object.\r\n2. Try to stop it with `script/stop`.  You might use two different usages:\r\n    - `script/stop script key`: the script can't be found.  The parameter before the equal sign is the object, so it might not be too strange.\r\n    - `script/stop = script key`: one can't use `script/stop` with global scripts (specifying no object left of the equal sign).\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThe second syntax, I think, would actually make sense:\r\n\r\n`script/stop = script key`\r\n\r\nIt makes sense regarding the command documentation, although I would suggest this would be clearly stated in the command help.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n- Evennia master.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1876", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1876/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1876/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1876/events", "html_url": "https://github.com/evennia/evennia/issues/1876", "id": 473741907, "node_id": "MDU6SXNzdWU0NzM3NDE5MDc=", "number": 1876, "title": "[clothing contrib] Installation error", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-28T13:05:22Z", "updated_at": "2019-09-09T19:16:43Z", "closed_at": "2019-09-09T19:16:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThe `clothing` contrib has an error in its installation instructions.\r\n\r\n#### Error\r\n\r\n```\r\nAnd do the same with the ClothedCharacterCmdSet in your game's\r\ndefault_cmdsets.py:\r\n\r\n    from evennia.contrib.clothing import ClothedCharacterCmdSet\r\n\r\n    class CharacterCmdSet(default_cmds.CharacterCmdSet):\r\n```\r\n\r\n... which should be, of course:\r\n\r\n```\r\nAnd do the same with the ClothedCharacterCmdSet in your game's\r\ndefault_cmdsets.py:\r\n\r\n    from evennia.contrib.clothing import ClothedCharacterCmdSet\r\n\r\n    class CharacterCmdSet(ClothedCharacterCmdSet):\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nEvennia master\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1875", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1875/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1875/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1875/events", "html_url": "https://github.com/evennia/evennia/issues/1875", "id": 473438706, "node_id": "MDU6SXNzdWU0NzM0Mzg3MDY=", "number": 1875, "title": "Using channels creates the flat files but the /history switch no longer works in 0.9", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-26T16:25:30Z", "updated_at": "2019-09-09T05:20:28Z", "closed_at": "2019-09-09T05:20:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "The /history switch for channel names does not return anything in 0.9.\r\nThe flatfiles are created correctly and have the correct contents.\r\nShould be possible to reproduce on a default evennia install with the two default channels created upon migration.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1875/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1872", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1872/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1872/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1872/events", "html_url": "https://github.com/evennia/evennia/issues/1872", "id": 470435840, "node_id": "MDU6SXNzdWU0NzA0MzU4NDA=", "number": 1872, "title": "RpSystem contrib [bug]", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 700730365, "node_id": "MDU6TGFiZWw3MDA3MzAzNjU=", "url": "https://api.github.com/repos/evennia/evennia/labels/documentation", "name": "documentation", "color": "bfd4f2", "default": true, "description": "Issue with wiki or docstrings."}, {"id": 729522802, "node_id": "MDU6TGFiZWw3Mjk1MjI4MDI=", "url": "https://api.github.com/repos/evennia/evennia/labels/invalid", "name": "invalid", "color": "ffffff", "default": true, "description": "A duplicate, mistaken or spam issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-19T16:56:57Z", "updated_at": "2019-09-08T17:23:51Z", "closed_at": "2019-09-08T17:23:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThe help for the SPOSE command implies that the command is also callable as POSE, but no such alias has been defined. Unsure of this is a typo or a missing alias.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. type SPOSE with no args\r\n2. \r\n3. \r\n\r\n#### Error output / Expected result of feature\r\nUsage: spose <pose-text> OR pose obj = <pose-text>\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nFix the help message or add POSE as an alias.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1872/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1871", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1871/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1871/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1871/events", "html_url": "https://github.com/evennia/evennia/issues/1871", "id": 470416058, "node_id": "MDU6SXNzdWU0NzA0MTYwNTg=", "number": 1871, "title": "RpSystem contrib [bug]", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-19T16:20:14Z", "updated_at": "2019-09-08T17:41:20Z", "closed_at": "2019-09-08T17:41:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA traceback is triggered when you specify a /ref in an emote that can't be found.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. emote /me waves to /you\r\n2. \r\n3. \r\n\r\n#### Error output / Expected result of feature\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/mojave/evennia/evennia/commands/cmdhandler.py\", line 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/mojave/testgame/typeclasses/rpsystem.py\", line 878, in func\r\n    send_emote(self.caller, targets, emote, anonymous_add='first')\r\n  File \"/home/mojave/testgame/typeclasses/rpsystem.py\", line 491, in send_emote\r\n    sender.msg(err.message)\r\nAttributeError: 'EmoteError' object has no attribute 'message'\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 19-07-19 16:04:57).\r\nTraceback (most recent call last):\r\n  File \"/home/mojave/testgame/typeclasses/rpsystem.py\", line 487, in send_emote\r\n    emote, obj_mapping = parse_sdescs_and_recogs(sender, receivers, emote)\r\n  File \"/home/mojave/testgame/typeclasses/rpsystem.py\", line 460, in parse_sdescs_and_recogs\r\n    raise EmoteError(\"\\n\".join(errors))\r\ntypeclasses.rpsystem.EmoteError: No match for /you.\r\n\r\nDuring handling of the above exception, another exception o\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nIn rpsystem.py, line 491, \" sender.msg(err.message)\" needs to be changed to \"sender.msg(err)\". There should probably also be a return after this line as some variables (such as obj_mapping) are undefined if an error occurs due to being defined within the try...except block.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1871/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1868", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1868/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1868/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1868/events", "html_url": "https://github.com/evennia/evennia/issues/1868", "id": 470030463, "node_id": "MDU6SXNzdWU0NzAwMzA0NjM=", "number": 1868, "title": "RuntimeErrors and other errata when Dropping illogical objects", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-18T22:56:08Z", "updated_at": "2019-09-08T19:23:13Z", "closed_at": "2019-09-08T19:23:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThere don't seem to be any conditions set on what objects can be dropped. For example, there is a default `get:all()` lock, but no corresponding `drop` lock. Other invocations of `drop` lead to silly behavior.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `drop here`\r\n2. `drop me`\r\n\r\n#### Error output / Expected result of feature\r\n1. `johnny drops Limbo.`\r\n2. `johnny drops johnny.`\r\n\r\n````\r\n19-07-18 22:48:29 [::] Traceback (most recent call last):\r\n19-07-18 22:48:29 [::]   File \"/home/ubuntu/workspace/evennia/evennia/objects/objects.py\", line 790, in move_to\r\n19-07-18 22:48:29 [::]     self.location = destination\r\n19-07-18 22:48:29 [::]   File \"/home/ubuntu/workspace/evennia/evennia/objects/models.py\", line 282, in __location_set\r\n19-07-18 22:48:29 [::]     raise RuntimeError(errmsg)\r\n19-07-18 22:48:29 [::] RuntimeError: Error: Limbo.location = Limbo creates a location loop.\r\n````\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nA `drop:holds()` default lock on all objects would be useful, to be checked during `at_drop` execution. \r\n\r\nI can't think of any context in which one could drop something they aren't holding...", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1868/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1867", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1867/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1867/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1867/events", "html_url": "https://github.com/evennia/evennia/issues/1867", "id": 469574652, "node_id": "MDU6SXNzdWU0Njk1NzQ2NTI=", "number": 1867, "title": "Conflicting information in wiki regarding nested mutable attributes", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-18T05:18:43Z", "updated_at": "2019-08-14T15:47:44Z", "closed_at": "2019-08-14T15:47:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is some conflicting information in the wiki in regards to dealing with nested mutables and the .db handler.\r\n\r\nhttps://github.com/evennia/evennia/wiki/Attributes\r\n> A further problem comes with nested mutables, like a dict containing lists of dicts or \r\nsomething like that. Each of these nested mutables would be _Saver* structures connected to the database and **disconnecting the outermost one of them would not disconnect those nested within**. To make really sure you disonnect a nested structure entirely from the database, Evennia provides a special function evennia.utils.dbserialize.deserialize\"\r\n\r\n\r\nhttps://github.com/Evennia/evennia/wiki/Quirks\r\n>  If you store nested mutables **you only need to convert the \"outermost\" one in order to \"break\" the connection to the database** like this. See Attributes for more details.\r\n\r\nDoes anybody know what the current situation is in 0.9?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1867/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1866", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1866/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1866/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1866/events", "html_url": "https://github.com/evennia/evennia/issues/1866", "id": 469377885, "node_id": "MDU6SXNzdWU0NjkzNzc4ODU=", "number": 1866, "title": "\"AttributeError: 'RetDefault' object has no attribute 'access'\" on empty attribute sets", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-17T18:30:50Z", "updated_at": "2019-09-08T17:19:58Z", "closed_at": "2019-09-08T17:18:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen no attributes are defined on an object, an AttributeError will be raised when a `get()` request for all attributes accessible by a caller is made.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n````\r\nfrom evennia.utils.test_resources import EvenniaTest\r\n\r\nclass AttributesTest(EvenniaTest):\r\n    \r\n    def test_get_all_when_unset(self):\r\n        # Get all attributes of char2 visible by char1 as list (none are set)\r\n        result = self.char2.attributes.get(accessing_obj=self.char1, return_list=True)\r\n        # This will raise an exception instead of returning a list\r\n        self.assertEqual(result, [])\r\n        \r\n        # Get all attributes of char2 visible by char1 (none are set)\r\n        result = self.char2.attributes.get(accessing_obj=self.char1)\r\n        \r\n        # This will raise an exception instead of returning None\r\n        self.assertEqual(result, None)\r\n        \r\n    def test_get_all_when_set(self):\r\n        # Add a visible attr to char2\r\n        self.char2.attributes.add('name', 'bob', lockstring='attrread:all()')\r\n        \r\n        # Get all attributes of char2 visible by char1 (one is set)\r\n        result = self.char2.attributes.get(accessing_obj=self.char1)\r\n        self.assertEqual(result, 'bob')\r\n        \r\n        result = self.char2.attributes.get(accessing_obj=self.char1, return_list=True)\r\n        self.assertEqual(result, ['bob'])\r\n````\r\n\r\n#### Error output / Expected result of feature\r\n````\r\n======================================================================\r\nERROR: test_get_all_when_unset (typeclasses.tests.AttributesTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/demogame/typeclasses/tests.py\", line 7, in test_get_all_when_unset\r\n    result = self.char2.attributes.get(accessing_obj=self.char1, return_list=True)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/attributes.py\", line 458, in get\r\n    ret = [attr for attr in ret if attr.access(accessing_obj,\r\n  File \"/home/ubuntu/workspace/evennia/evennia/typeclasses/attributes.py\", line 458, in <listcomp>\r\n    ret = [attr for attr in ret if attr.access(accessing_obj,\r\nAttributeError: 'RetDefault' object has no attribute 'access'\r\n\r\n----------------------------------------------------------------------\r\n````\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis can be worked around by calling `all()` instead, but any category filtering needs to be done manually then.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1865", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1865/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1865/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1865/events", "html_url": "https://github.com/evennia/evennia/issues/1865", "id": 468873210, "node_id": "MDU6SXNzdWU0Njg4NzMyMTA=", "number": 1865, "title": "[dev] unpuppet/ooc command missing from default merged cmdset", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-16T21:30:41Z", "updated_at": "2019-09-07T22:14:50Z", "closed_at": "2019-09-07T22:14:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIn `MULTISESSION_MODE=2`, one can create accounts and characters and puppet them just fine, and even talk on the OOC channel while OOC, but the related commands for unpuppeting and using the OOC channel while in-character are lost during merging.\r\n\r\nAccount object, no puppet:\r\n````\r\nStored Cmdset(s):\r\n commands.default_cmdsets.AccountCmdSet [DefaultAccount] (Union, prio -10)\r\nMerged Cmdset(s):\r\n evennia.commands.cmdset.CmdSet [ChannelCmdSet] (Union, prio 101)\r\n evennia.commands.cmdset.CmdSet [DefaultAccount] (Union, prio -10)\r\n commands.default_cmdsets.SessionCmdSet [DefaultSession] (Union, prio -20)\r\nCommands available to johnny (result of Merged CmdSets):\r\n   addcom, admin, admin, allcom, cboot, ccreate, cdesc, cdestroy, cemit,\r\n  channels, charcreate, chardelete, clock, color, cwho, delcom, examine,\r\n  grapevine2chan, help, hints, hints, ic, irc2chan, ircstatus, look, mudinfo,\r\n  mudinfo, news, news, nick, option, page, password, public, public, py,\r\n  quell, quit, reload, reset, rss2chan, sessions, shutdown, style,\r\n  userpassword, who\r\n````\r\n\r\nCharacter object, puppeted:\r\n````\r\nStored Cmdset(s):\r\n commands.default_cmdsets.CharacterCmdSet [DefaultCharacter] (Union, prio 0)\r\nMerged Cmdset(s):\r\n evennia.commands.cmdset.CmdSet [ChannelCmdSet] (Union, prio 101)\r\n commands.default_cmdsets.CharacterCmdSet [DefaultCharacter] (Union, prio 0)\r\n commands.default_cmdsets.AccountCmdSet [DefaultAccount] (Union, prio -10)\r\n commands.default_cmdsets.SessionCmdSet [DefaultSession] (Union, prio -20)\r\nCommands available to johnny (result of Merged CmdSets):\r\n   about, access, accounts, addcom, admin, alias, allcom, ban, batchcode,\r\n  batchcommands, boot, cboot, ccreate, cdesc, cdestroy, cemit, channels,\r\n  charcreate, chardelete, clock, cmdsets, color, copy, cpattr, create, cwho,\r\n  delcom, desc, destroy, dig, drop, emit, examine, find, force, get, give,\r\n  grapevine2chan, help, hints, home, ic, inventory, irc2chan, ircstatus, link,\r\n  lock, look, mudinfo, mvattr, name, news, nick, objects, open, option, page,\r\n  password, perm, pose, public, py, quell, quit, reload, reset, rss2chan, say,\r\n  script, scripts, server, service, sessions, set, setdesc, sethelp, sethome,\r\n  shutdown, spawn, style, tag, tel, tickers, time, tunnel, typeclass, unban,\r\n  unlink, userpassword, wall, west, whisper, who, wipe\r\n````\r\n\r\n#### Error output / Expected result of feature\r\n`Command 'ooc' is not available. Maybe you meant \"ooc\", \"color\" or \"cboot\"?`\r\n`Command '@ooc' is not available. Maybe you meant \"ooc\", \"color\" or \"cboot\"?`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nClean install, dev branch (prob master too).\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1862", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1862/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1862/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1862/events", "html_url": "https://github.com/evennia/evennia/issues/1862", "id": 464907483, "node_id": "MDU6SXNzdWU0NjQ5MDc0ODM=", "number": 1862, "title": "Unexpected behaviour of a global script; triggered once after a server reload by using a command that reads a .db value from that script.", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-07T02:19:28Z", "updated_at": "2019-09-22T21:55:38Z", "closed_at": "2019-09-22T21:55:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "CONTEXT:\r\n1. I have a global, persistent script, added to the GLOBAL SCRIPTS dict in server settings; that script as part of it's at_repeat method writes to it's self.db a few variables and then ends with a `self.restart(interval=new_interval, start_delay=True)` where new_interval is calculated as part of the same at_repeat.\r\nThis script works as expected and survives a server reload properly on it's lonesome.\r\nThe new interval works as intended and the at_repeat fires again after new_interval afterwhich a different new_ineterval is calculated.\r\n2. I also have a command, this command pulls values from the aforementioned script in this manner `my_variable = GLOBAL_SCRIPTS.my_script.db.my_variable` and uses some of those variables to perform it's function and message the player accordingly.\r\nThis command does not write anything to the variables stored on the script or otherwise call any methods on the script.\r\n\r\nUNEXPECTED BEHAVIOUR:\r\nLets assume the script command is showing the interval as 5000 and the \"Next\" column shows 4500 and is slowly ticking down as intended.\r\nIf I then reload the server from ingame and run scripts again the \"Next\" column is displaying 4500 correctly and continuing to tick down.\r\n**If however I use my command, the \"Next\" column resets back to square one and starts ticking back up from the lenght of the interval!**\r\n**After this point I can use my command any number of times and it does not reset the value in that column and everything works as intended, the script cycles as intended etc.**\r\n\r\nAs part of my command I am displaying timestamps passed on from the script and they are out of sync as expected during the first time the command is run after a server reload and the interval resets.\r\nAfter the interval elapses and my script gets to run it's at_repeat all is back in sync as expected.\r\n\r\nI have observed this behaviour multiple times to confirm what is happening and reviewed the code multiple times and I can't see any problems with the code itself.\r\nI plan to run a test where the script writes to .db values on a separate object and using the command to access values from that other object (some other script for instance without an interval component) but run out of time - I'll update the issue once I have more information.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1862/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1859", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1859/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1859/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1859/events", "html_url": "https://github.com/evennia/evennia/issues/1859", "id": 462392750, "node_id": "MDU6SXNzdWU0NjIzOTI3NTA=", "number": 1859, "title": "Searches returning a multiple result send bizzare string to player.", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-30T11:00:03Z", "updated_at": "2019-09-08T16:40:58Z", "closed_at": "2019-09-08T16:40:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Instead of a list such as:\r\n\r\n> More than one match for 'stool' (please narrow target):\r\n>  1-stool\r\n>  2-stool\r\n\r\nInflect seems to get confused and returns:\r\n\r\n> More than one match for 'stool' (please narrow target):\r\n>  1-stool [a stool;two stools]\r\n>  2-stool [a stool;two stools]\r\n\r\nAs if it was printing the list that contains the inflections. Possibly due to the move from py2 to py3 and improper handling of a return from a function?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1858", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1858/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1858/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1858/events", "html_url": "https://github.com/evennia/evennia/issues/1858", "id": 462391074, "node_id": "MDU6SXNzdWU0NjIzOTEwNzQ=", "number": 1858, "title": "Prompt is not displayed properly anymore in the 0.9 webclient.", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-30T10:35:54Z", "updated_at": "2019-08-28T21:34:17Z", "closed_at": "2019-08-28T21:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Prompt is displayed in the lower left corner of the window in the webclient instead like it used to be - in it's own special field above the input pane.\r\n\r\nOS: Debian 9.9 with LXDE\r\nBrowser: Firefox 60.7.1esr (the default one from apt)\r\n\r\n![2019-06-30-123443_1366x768_scrot](https://user-images.githubusercontent.com/50782109/60395423-8b0c7e80-9b33-11e9-88e0-b926836e2adf.png)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1858/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1857", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1857/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1857/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1857/events", "html_url": "https://github.com/evennia/evennia/issues/1857", "id": 462390437, "node_id": "MDU6SXNzdWU0NjIzOTA0Mzc=", "number": 1857, "title": "Trying to create an account using the webpresence does so even if the password is not accepted.", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-30T10:26:52Z", "updated_at": "2019-08-29T20:10:02Z", "closed_at": "2019-08-29T20:10:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to create an account using the webpresence does so even if the password is not accepted due to being \"too similar to the username\".\r\n\r\nI've tried creating a test account using the web presance with a silly password and it would not allow me to do it. Afterwards tried doing it from the client itself and noticed that account name was already used.\r\nLooking at the admin panel on the webpresence I can see the account listed with a hash for the password so it saved *something*, just not sure exactly what.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1857/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1856", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1856/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1856/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1856/events", "html_url": "https://github.com/evennia/evennia/issues/1856", "id": 459492462, "node_id": "MDU6SXNzdWU0NTk0OTI0NjI=", "number": 1856, "title": "SharedMemoryModel can return invalid data with related querysets", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-22T17:00:32Z", "updated_at": "2020-01-19T13:57:22Z", "closed_at": "2020-01-19T13:57:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nShort version: prefetch_related caches related querysets on the instance, which is saved in memory and never updated.\r\n\r\nI'm not really sure what the best approach would be to handle this - whether to try to figure out a fix, or just label it somewhere as something to be aware of. So `.prefetch_related()` assigns things on an object level, in the `._prefetched_objects_cache`, which is stored in memory. Naturally enough, SharedMemoryModel will cache this. However, the value of that cache is query-specific, based on the query that called the prefetch (for example, it might not be distinct if the originating query had multi-table traversals and could match the object more than once), but also seems to not be set again on `SharedMemoryModel` objects after the first time they're created. So subsequent retrievals can have a stale `._prefetched_objects_cache`, which can lead to incorrect results. Someone could do an `my_character.some_other_queryset.all()` and have completely invalid results, because it'll look in the prefetched cache first and just grab whatever's there. If there's `prefetch_related` calls in Evennia's code, this may be the source of very subtle and hard-to-reproduce bugs, since which value 'wins' would be entirely dependent on the order they're called.\r\n\r\nOn the other hand, this caching behavior could actually be very desirable in some circumstances . When using a `Prefetch()` object, you could use the `to_attr` argument and automatically decorate every object automatically with a custom cached queryset for the lifetime of the instance.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Make a queryset with a prefetch related (using a Prefetch with a filtered queryset makes the behavior more apparent)\r\n2. Retrieve one of the objects and check the prefetched queryset\r\n3. Make a different queryset with prefetch, using Prefetch to change what the queryset results should be\r\n4. Get the same object, check the queryset\r\n\r\n#### Error output / Expected result of feature\r\nThe queryset will return the previously set prefetched results, rather than current results\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nNot sure when the prefetch is set and why the metaclass ignores it - might be very complicated to fix if it's deep in the django query code without a clear way to access it. A warning in the docstring of SharedMemoryModel of how prefetch_related will cache queryset results permanently after the first use might be best, with a note to fix it with `self._prefetched_objects_cache = {}` or `self._prefetched_objects_cache = {'related_query_name_here': RelatedModel.objects.filter(pk=self.pk)}`.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1856/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1855", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1855/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1855/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1855/events", "html_url": "https://github.com/evennia/evennia/issues/1855", "id": 457603743, "node_id": "MDU6SXNzdWU0NTc2MDM3NDM=", "number": 1855, "title": "[dev] `@style` command not returning its docstring via Help", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-18T17:22:03Z", "updated_at": "2019-06-18T19:49:36Z", "closed_at": "2019-06-18T19:49:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe `@style` command has a docstring in the code, but for some reason I'm not seeing it returned when I perform `help @style`.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `help @style`\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n------------------------------------------------------------------------------\r\nHelp for @style\r\n\r\nSuggested: @typeclass, @tel, @set, @sethelp\r\n------------------------------------------------------------------------------\r\n```\r\n\r\nHelp entries for other native commands display properly.\r\n\r\n```\r\n------------------------------------------------------------------------------\r\nHelp for @about (aliases: @version)\r\n\r\nshow Evennia info\r\n\r\nUsage:\r\n  @about\r\n\r\nDisplay info about the game engine.\r\n\r\nSuggested: @boot, @cboot, @reboot, @account\r\n------------------------------------------------------------------------------\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n```\r\nEvennia 0.9.0-dev (rev 2038a94)\r\n         MU* development system\r\n\r\n         Licence https://opensource.org/licenses/BSD-3-Clause\r\n         Web http://www.evennia.com\r\n         Irc #evennia on irc.freenode.net:6667\r\n         Forum http://www.evennia.com/discussions\r\n         Maintainer (2010-)   Griatch (griatch AT gmail DOT com)\r\n         Maintainer (2006-10) Greg Taylor\r\n\r\n         OS posix\r\n         Python 3.7.3\r\n         Twisted 18.9.0\r\n         Django 2.1.8\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1852", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1852/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1852/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1852/events", "html_url": "https://github.com/evennia/evennia/issues/1852", "id": 454235696, "node_id": "MDU6SXNzdWU0NTQyMzU2OTY=", "number": 1852, "title": "Using extended_room as default room typeclass", "user": {"login": "WillowMist", "id": 4256646, "node_id": "MDQ6VXNlcjQyNTY2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4256646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WillowMist", "html_url": "https://github.com/WillowMist", "followers_url": "https://api.github.com/users/WillowMist/followers", "following_url": "https://api.github.com/users/WillowMist/following{/other_user}", "gists_url": "https://api.github.com/users/WillowMist/gists{/gist_id}", "starred_url": "https://api.github.com/users/WillowMist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WillowMist/subscriptions", "organizations_url": "https://api.github.com/users/WillowMist/orgs", "repos_url": "https://api.github.com/users/WillowMist/repos", "events_url": "https://api.github.com/users/WillowMist/events{/privacy}", "received_events_url": "https://api.github.com/users/WillowMist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-10T15:43:52Z", "updated_at": "2019-06-10T16:30:01Z", "closed_at": "2019-06-10T16:29:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIn 0.9, evennia fails to start if ExtendedRoom is inherited as the default Room type in typeclasses.rooms\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create new Evennia 0.9 install\r\n2. import extended_room in rooms.py and inherit ExtendedRoom\r\n3. Add the commands to the default Character command set.\r\n4. Start evennia\r\n\r\n#### Error output / Expected result of feature\r\n`\r\n  File \"/usr/local/bin/evennia\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"/usr/src/evennia/bin/unix/evennia\", line 10, in <module>\r\n    main()\r\n  File \"/usr/src/evennia/evennia/server/evennia_launcher.py\", line 2087, in main\r\n    init_game_directory(CURRENT_DIR, check_db=True)\r\n  File \"/usr/src/evennia/evennia/server/evennia_launcher.py\", line 1713, in init_game_directory\r\n    check_database()\r\n  File \"/usr/src/evennia/evennia/server/evennia_launcher.py\", line 1438, in check_database\r\n    evennia._init()\r\n  File \"/usr/src/evennia/evennia/__init__.py\", line 249, in _init\r\n    BASE_ROOM_TYPECLASS = class_from_module(settings.BASE_ROOM_TYPECLASS)\r\n  File \"/usr/src/evennia/evennia/utils/utils.py\", line 1460, in class_from_module\r\n    mod = import_module(testpath, package='evennia')\r\n  File \"/usr/local/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/usr/src/game/tempgame/typeclasses/rooms.py\", line 8, in <module>\r\n    from evennia.contrib.extended_room import ExtendedRoom\r\n  File \"/usr/src/evennia/evennia/contrib/extended_room.py\", line 324, in <module>\r\n    class CmdExtendedRoomLook(default_cmds.CmdLook):\r\nAttributeError: 'NoneType' object has no attribute 'CmdLook'\r\n`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1852/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1851", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1851/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1851/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1851/events", "html_url": "https://github.com/evennia/evennia/issues/1851", "id": 454013050, "node_id": "MDU6SXNzdWU0NTQwMTMwNTA=", "number": 1851, "title": "[BUG] Devel-branch Webclient reload drops login", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-10T06:13:12Z", "updated_at": "2019-06-29T16:49:23Z", "closed_at": "2019-06-29T16:49:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nIn develop branch, when having logged in, reloading the client window logs you out of the server. This is meant to work so that the user auto-reconnects until they actively logs out via in-game command. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. In `develop` branch`, log in with webclient\r\n2. Refresh browser tab\r\n3. You now have to log back in again\r\n\r\n#### Error output / Expected result of feature\r\n\r\nRefreshing the page should auto-reconnect you to where you were based on the browser session and not require another login.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1851/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1849", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1849/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1849/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1849/events", "html_url": "https://github.com/evennia/evennia/issues/1849", "id": 448990515, "node_id": "MDU6SXNzdWU0NDg5OTA1MTU=", "number": 1849, "title": "Spawn fails with KeyError when prototype has a dict attribute", "user": {"login": "dtgay", "id": 1376599, "node_id": "MDQ6VXNlcjEzNzY1OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1376599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtgay", "html_url": "https://github.com/dtgay", "followers_url": "https://api.github.com/users/dtgay/followers", "following_url": "https://api.github.com/users/dtgay/following{/other_user}", "gists_url": "https://api.github.com/users/dtgay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtgay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtgay/subscriptions", "organizations_url": "https://api.github.com/users/dtgay/orgs", "repos_url": "https://api.github.com/users/dtgay/repos", "events_url": "https://api.github.com/users/dtgay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtgay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-27T21:04:00Z", "updated_at": "2019-06-29T18:12:20Z", "closed_at": "2019-06-29T18:12:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nAttempting to `@spawn` a module-defined prototype fails if the prototype has an attribute with a dict value.\r\n\r\nPossibly related to #1787.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Define a prototype with a dict attribute in a module that is checked for prototypes. It does not matter if the attribute is placed in `\"attrs\"` or listed \"regularly\", as in the example below:\r\n\r\n```\r\nIRON_DAGGER = {\r\n    \"key\": \"Iron dagger\",\r\n    \"typeclass\": \"typeclasses.items.equipment.weapons.daggers.Dagger\",\r\n    \"power\": {'physical': 2}\r\n}\r\n```\r\n2.  `@reload` the server\r\n3. Run `@spawn` for the prototype (for the example above, the command would be `@spawn iron_dagger`.\r\n\r\n#### Error output / Expected result of feature\r\n`@spawn` will error out with an error like:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/david/Devel/mud/evennia/evennia/commands/cmdhandler.py\", line 594, in _run_command\r\n    _progressive_cmd_run(cmd, ret)\r\n  File \"/Users/david/Devel/mud/evennia/evennia/commands/cmdhandler.py\", line 193, in _progressive_cmd_run\r\n    value = generator.next()\r\n  File \"/Users/david/Devel/mud/evennia/evennia/commands/default/building.py\", line 3104, in func\r\n    for obj in spawner.spawn(prototype):\r\n  File \"/Users/david/Devel/mud/evennia/evennia/prototypes/spawner.py\", line 767, in spawn\r\n    attributes.append((attrname, init_spawn_value(value), category, locks))\r\n  File \"/Users/david/Devel/mud/evennia/evennia/prototypes/prototypes.py\", line 731, in init_spawn_value\r\n    elif value and is_iter(value) and callable(value[0]):\r\nKeyError: 0\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n- In the example above, changing the `power` attribute to another type, such as an int, string, or list prevents the error from occurring, and the object spawns as expected.\r\n- Defining the dictionary with `dict()` does not have an effect on the error\r\n- Defining the attribute in `\"attrs\"` rather than \"directly\" does not have an effect on the error\r\n- Possibly related to #1787\r\n\r\n`evennia -v` output:\r\n```\r\nEvennia 0.8.0 (rev 36a5b353) (rev 36a5b353)\r\n    OS: posix\r\n    Python: 2.7.16\r\n    Twisted: 18.9.0\r\n    Django: 1.11.20\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1848", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1848/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1848/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1848/events", "html_url": "https://github.com/evennia/evennia/issues/1848", "id": 448006415, "node_id": "MDU6SXNzdWU0NDgwMDY0MTU=", "number": 1848, "title": "Bug: Failure on some telnet TTYPE handshakes", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-24T06:49:41Z", "updated_at": "2019-06-29T16:49:22Z", "closed_at": "2019-06-29T16:49:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nViewing Evscaperoom logs shows an AttributeError for some clients.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Unclear which client is causing it, but it may also be client-agnostic.\r\n\r\n#### Error output / Expected result of feature\r\n```19-05-22 16:05:35  |Portal| Unhandled Error                                                                                                   \r\n        Traceback (most recent call last):                                                                                                    \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/conch/telnet.py\", line 687, in telnet_WILL                                     \r\n            self.willMap[s.him.state, s.him.negotiating](self, s, option)                                                                     \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/conch/telnet.py\", line 705, in will_no_true                                    \r\n            d.callback(True)                                                                                                                  \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/defer.py\", line 460, in callback                                      \r\n            self._startRunCallbacks(result)                                                                                                   \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/defer.py\", line 568, in _startRunCallbacks                            \r\n            self._runCallbacks()                                                                                                              \r\n        --- <exception caught here> ---                                                                                                       \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\r\n            current.result = callback(current.result, *args, **kw)                                       \r\n          File \"/usr/src/evennia/evennia/server/portal/ttype.py\", line 107, in will_ttype                \r\n            clientname = option.upper()                                                                      \r\n        builtins.AttributeError: 'bool' object has no attribute 'upper'\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1847", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1847/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1847/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1847/events", "html_url": "https://github.com/evennia/evennia/issues/1847", "id": 448005617, "node_id": "MDU6SXNzdWU0NDgwMDU2MTc=", "number": 1847, "title": "Bug: Client AttributeError in develop on web client connection", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-24T06:47:20Z", "updated_at": "2019-06-29T18:12:34Z", "closed_at": "2019-06-29T18:12:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nNoticed in running evscaperoom; traceback on connection. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Supposedly connecting over websocket (web client) (not confirmed)\r\n\r\n#### Error output / Expected result of feature\r\n```19-05-24 01:46:01  |Portal| Unhandled Error                                                \r\n        Traceback (most recent call last):                                                               \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/application/app.py\", line 399, in startReactor\r\n            self.config, oldstdout, oldstderr, self.profiler, reactor)                                                                       \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/application/app.py\", line 312, in runReactorWithLogging                       \r\n            reactor.run()                                                                                                                     \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/base.py\", line 1267, in run                                          \r\n            self.mainLoop()                                                                                    \r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/base.py\", line 1276, in mainLoop\r\n            self.runUntilCurrent()\r\n        --- <exception caught here> ---\r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/base.py\", line 902, in runUntilCurrent\r\n            call.func(*call.args, **call.kw)\r\n          File \"/usr/local/lib/python3.7/site-packages/twisted/internet/tcp.py\", line 327, in connectionLost\r\n            protocol.connectionLost(reason)\r\n          File \"/usr/local/lib/python3.7/site-packages/autobahn/twisted/websocket.py\", line 288, in connectionLost\r\n            self._connectionLost(reason)\r\n          File \"/usr/local/lib/python3.7/site-packages/autobahn/websocket/protocol.py\", line 2501, in _connectionLost\r\n            WebSocketProtocol._connectionLost(self, reason)\r\n          File \"/usr/local/lib/python3.7/site-packages/autobahn/websocket/protocol.py\", line 1128, in _connectionLost\r\n            self._onClose(self.wasClean, WebSocketProtocol.CLOSE_STATUS_CODE_ABNORMAL_CLOSE, \"connection was closed uncleanly (%s)\" % self.was\r\nNotCleanReason)\r\n          File \"/usr/local/lib/python3.7/site-packages/autobahn/twisted/websocket.py\", line 331, in _onClose\r\n            self.onClose(wasClean, code, reason)\r\n          File \"/usr/src/evennia/evennia/server/portal/webclient.py\", line 108, in onClose\r\n            csession = self.get_client_session()\r\n          File \"/usr/src/evennia/evennia/server/portal/webclient.py\", line 50, in get_client_session\r\n            self.csessid = self.http_request_uri.split(\"?\", 1)[1]\r\n        builtins.AttributeError: 'WebSocketClient' object has no attribute 'http_request_uri'\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1847/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1846", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1846/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1846/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1846/events", "html_url": "https://github.com/evennia/evennia/issues/1846", "id": 445755990, "node_id": "MDU6SXNzdWU0NDU3NTU5OTA=", "number": 1846, "title": "Google Cloud security web scan warns: \"Unescaped or unsanitised input to your application was detected.\"", "user": {"login": "BP-Santo", "id": 50782109, "node_id": "MDQ6VXNlcjUwNzgyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/50782109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BP-Santo", "html_url": "https://github.com/BP-Santo", "followers_url": "https://api.github.com/users/BP-Santo/followers", "following_url": "https://api.github.com/users/BP-Santo/following{/other_user}", "gists_url": "https://api.github.com/users/BP-Santo/gists{/gist_id}", "starred_url": "https://api.github.com/users/BP-Santo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BP-Santo/subscriptions", "organizations_url": "https://api.github.com/users/BP-Santo/orgs", "repos_url": "https://api.github.com/users/BP-Santo/repos", "events_url": "https://api.github.com/users/BP-Santo/events{/privacy}", "received_events_url": "https://api.github.com/users/BP-Santo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 1375110807, "node_id": "MDU6TGFiZWwxMzc1MTEwODA3", "url": "https://api.github.com/repos/evennia/evennia/labels/security", "name": "security", "color": "ff8888", "default": false, "description": "Security-related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-18T21:28:56Z", "updated_at": "2019-06-09T09:21:15Z", "closed_at": "2019-06-09T09:21:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nRunning a Google Cloud security web scan for the host returns a warning:\r\n\"Unescaped or unsanitised input to your application was detected.\"\r\n\r\nComplains about 3 cross site scripting exploits and 2 plain text password fields.\r\nIt takes issue with host:4001/webclientdata\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nFo the 3 XSS bugs it found it gives these snippets for reproducing the issue:\r\n\r\n```\r\n<html>\r\n<head></head>\r\n<body onload=\"document.getElementById('form').submit()\"><form action=\"http://hostname:4001/webclientdata\" id=\"form\" method=\"POST\"><input name=\"mode\" value=\"init\"><input name=\"csessid\" value=\"'-function(){alert()}()-&quot;>\\&quot;><scrIpt>alert()</scrIpt><aUdio src=x oNerror=alert()><&quot;-'-function(){alert()}()qn7qlq5s4mbabj53midkqravrhmcmwmg\"><input type=\"submit\"></form></body>\r\n</html>\r\n```\r\n```\r\n<html>\r\n<head></head>\r\n<body onload=\"document.getElementById('form').submit()\"><form action=\"http://hostname:4001/webclientdata\" id=\"form\" method=\"POST\"><input name=\"mode\" value=\"init\"><input name=\"csessid\" value=\"qn7qlq5s4mbabj53midkqravrhmcmwmg'-function(){alert()}()-&quot;>\\&quot;><scrIpt>alert()</scrIpt><aUdio src=x oNerror=alert()><&quot;-'-function(){alert()}()\"><input type=\"submit\"></form></body>\r\n</html>\r\n```\r\n```\r\n<html>\r\n<head></head>\r\n<body onload=\"document.getElementById('form').submit()\"><form action=\"http://hostname:4001/webclientdata\" id=\"form\" method=\"POST\"><input name=\"mode\" value=\"init\"><input name=\"csessid\" value=\"qn7qlq5s4mbabj53midkqravrhmcmwmg'-function(){alert()}()-&quot;>\\&quot;><scrIpt>alert()</scrIpt><aUdio src=x oNerror=alert()><&quot;-'-function(){alert()}()\"><input type=\"submit\"></form></body>\r\n</html>\r\n```\r\n\r\n#### Error output / Expected result of feature\r\n\r\nIn turn running the provided snippets with my host address returns (in same order):\r\n\r\n`{\"msg\": \"mudname (hostname:4001)\", \"csessid\": \"'-function(){alert()}()-\\\">\\\\\\\">`\r\n\r\n`{\"msg\": \"mudname (hostname:4001)\", \"csessid\": \"qn7qlq5s4mbabj53midkqravrhmcmwmg'-function(){alert()}()-\\\">\\\\\\\">`\r\n\r\n`{\"msg\": \"mudname (hostname:4001)\", \"csessid\": \"qn7qlq5s4mbabj53midkqravrhmcmwmg'-function(){alert()}()-\\\">\\\\\\\">`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nEvennia 0.8 with default config (without ssl enabled) running on Debian 9.9 on a GC micro instance; 443,80,22 and evennia default ports open on the instance.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1845", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1845/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1845/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1845/events", "html_url": "https://github.com/evennia/evennia/issues/1845", "id": 445564198, "node_id": "MDU6SXNzdWU0NDU1NjQxOTg=", "number": 1845, "title": "Non-Room objects being counted as Rooms by `@objects` and web context", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-05-17T18:26:41Z", "updated_at": "2019-07-04T19:48:51Z", "closed_at": "2019-06-29T16:49:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nMight be related to #251.\r\n\r\nObjects that are not actual Rooms are being counted as such by the `@objects` command as well as the Django web context.\r\n\r\nhttps://github.com/evennia/evennia/blob/5c521313d48ea7e5df72e8c1101d4ddcaae44a35/evennia/commands/default/system.py#L441-L442\r\n\r\nhttps://github.com/evennia/evennia/blob/5c521313d48ea7e5df72e8c1101d4ddcaae44a35/evennia/web/website/views.py#L50-L51\r\n\r\nThis leads to very skewed object counts; intangible typeclassed \"objects\" such as economic/transaction handlers or temporary jobs/tasks are counted as Rooms.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nIt looks like this happens because the aggregations assume Room objects are anything without a location on the grid. But in the case of intangibles, such objects do not require or use an on-grid location, yet they are classified as Rooms.\r\n\r\nIt might make more sense to count the number of Rooms as the number of all objects descended from DefaultRoom, or simply count the destinations of all Exit objects?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1845/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1843", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1843/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1843/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1843/events", "html_url": "https://github.com/evennia/evennia/issues/1843", "id": 440974952, "node_id": "MDU6SXNzdWU0NDA5NzQ5NTI=", "number": 1843, "title": "(py3/dev) TypeError: render() got an unexpected keyword argument 'renderer'", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-07T00:46:00Z", "updated_at": "2019-11-20T09:54:16Z", "closed_at": "2019-06-17T20:00:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe PickledWidget `render()` method needs to accept a new kwarg, `renderer`, in order to be Django 2.1 compliant.\r\n\r\nhttps://github.com/evennia/evennia/blob/d976b9afe1c211e1f1faff3c42019f255799c5d8/evennia/utils/picklefield.py#L122\r\n\r\nWithout this modification, trying to edit any Typeclassed object on the admin page crashes with a TypeError.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1843/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1842", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1842/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1842/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1842/events", "html_url": "https://github.com/evennia/evennia/issues/1842", "id": 440968701, "node_id": "MDU6SXNzdWU0NDA5Njg3MDE=", "number": 1842, "title": "(py3/dev) ImproperlyConfigured: Passing a 3-tuple to include() is not supported.", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-07T00:16:03Z", "updated_at": "2019-06-17T20:00:37Z", "closed_at": "2019-06-17T20:00:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/evennia/evennia/blob/d976b9afe1c211e1f1faff3c42019f255799c5d8/evennia/web/website/urls.py#L35\r\n\r\nThis include statement should be `urlpatterns += [url(r'^admin/', admin.site.urls)]`, same as on line 32, to be Django 2.0+ compliant. As currently implemented, if you disable Evennia's admin, the web frontend crashes.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1842/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1841", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1841/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1841/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1841/events", "html_url": "https://github.com/evennia/evennia/issues/1841", "id": 440336358, "node_id": "MDU6SXNzdWU0NDAzMzYzNTg=", "number": 1841, "title": "Editing Object attributes on Django Admin saves empty dictionaries, lists and False as None", "user": {"login": "WillowMist", "id": 4256646, "node_id": "MDQ6VXNlcjQyNTY2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4256646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WillowMist", "html_url": "https://github.com/WillowMist", "followers_url": "https://api.github.com/users/WillowMist/followers", "following_url": "https://api.github.com/users/WillowMist/following{/other_user}", "gists_url": "https://api.github.com/users/WillowMist/gists{/gist_id}", "starred_url": "https://api.github.com/users/WillowMist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WillowMist/subscriptions", "organizations_url": "https://api.github.com/users/WillowMist/orgs", "repos_url": "https://api.github.com/users/WillowMist/repos", "events_url": "https://api.github.com/users/WillowMist/events{/privacy}", "received_events_url": "https://api.github.com/users/WillowMist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-04T15:43:37Z", "updated_at": "2019-06-29T16:49:22Z", "closed_at": "2019-06-29T16:49:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen editing and saving object entries in the Django Admin interface, empty dictionaries, empty lists, and the False boolean save as None rather than what they were. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nEvennia 0.8.0 (rev d976b9a)\r\nPython 2.7.12\r\nTwisted 18.9.0\r\nDjango 1.11.20\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1841/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1839", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1839/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1839/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1839/events", "html_url": "https://github.com/evennia/evennia/issues/1839", "id": 439721205, "node_id": "MDU6SXNzdWU0Mzk3MjEyMDU=", "number": 1839, "title": "Py3/develop - makemigrations failure, NoneType takes no arguments", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-02T18:14:31Z", "updated_at": "2019-06-07T22:01:18Z", "closed_at": "2019-06-07T22:01:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nTrying to create some custom models in either the \"web\" app or a new app altogether, but it seems to be impossible to complete making of migrations.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create models.py in 'web', define some model (or create new app, define model in models.py)\r\n2. `evennia makemigrations web` or `evennia makemigrations yournewapp`\r\n3. Fail\r\n\r\n#### Error output / Expected result of feature\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/workspace/EV3/bin/evennia\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"/home/ubuntu/workspace/evennia/bin/unix/evennia\", line 10, in <module>\r\n    main()\r\n  File \"/home/ubuntu/workspace/evennia/evennia/server/evennia_launcher.py\", line 2151, in main\r\n    sys.exit(execute_from_command_line())\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/management/__init__.py\", line 375, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/management/base.py\", line 316, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/management/base.py\", line 350, in execute\r\n    self.check()\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/management/base.py\", line 379, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/management/base.py\", line 366, in _run_checks\r\n    return checks.run_checks(**kwargs)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/checks/registry.py\", line 71, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/checks/urls.py\", line 40, in check_url_namespaces_unique\r\n    all_namespaces = _load_all_namespaces(resolver)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/core/checks/urls.py\", line 57, in _load_all_namespaces\r\n    url_patterns = getattr(resolver, 'url_patterns', [])\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/utils/functional.py\", line 37, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/urls/resolvers.py\", line 533, in url_patterns\r\n    patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/utils/functional.py\", line 37, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/urls/resolvers.py\", line 526, in urlconf_module\r\n    return import_module(self.urlconf_name)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/home/ubuntu/workspace/monarch/web/urls.py\", line 10, in <module>\r\n    from evennia.web.urls import urlpatterns\r\n  File \"/home/ubuntu/workspace/evennia/evennia/web/urls.py\", line 17, in <module>\r\n    url(r'^', include('evennia.web.website.urls')),  # , namespace='website', app_name='website')),\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/site-packages/django/urls/conf.py\", line 34, in include\r\n    urlconf_module = import_module(urlconf_module)\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/web/website/urls.py\", line 9, in <module>\r\n    from evennia.web.website import views as website_views\r\n  File \"/home/ubuntu/workspace/evennia/evennia/web/website/views.py\", line 29, in <module>\r\n    from evennia.web.website import forms as website_forms\r\n  File \"/home/ubuntu/workspace/evennia/evennia/web/website/forms.py\", line 35, in <module>\r\n    class AccountForm(UserCreationForm):\r\n  File \"/home/ubuntu/workspace/evennia/evennia/web/website/forms.py\", line 43, in AccountForm\r\n    class Meta:\r\n  File \"/home/ubuntu/workspace/evennia/evennia/web/website/forms.py\", line 50, in Meta\r\n    model = class_from_module(settings.BASE_ACCOUNT_TYPECLASS)\r\n  File \"/home/ubuntu/workspace/evennia/evennia/utils/utils.py\", line 1460, in class_from_module\r\n    mod = import_module(testpath, package='evennia')\r\n  File \"/home/ubuntu/workspace/EV3/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/home/ubuntu/workspace/monarch/typeclasses/accounts.py\", line 28, in <module>\r\n    class Account(DefaultAccount):\r\nTypeError: NoneType takes no arguments\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n```\r\nPython 3.7.3 (default, Mar 26 2019, 01:59:45) \r\n[GCC 5.4.0 20160609] on linux\r\n>>> import django\r\n>>> django.get_version()\r\n'2.1.8'\r\n\r\n--------------------------- Evennia ---\r\nmonarch Portal 0.9.0-dev (rev 47e06be)\r\n    external ports:\r\n        telnet: 4000\r\n        webserver-proxy: 4001\r\n        webclient-websocket: 4002\r\n    internal_ports (to Server):\r\n        webserver: 4005\r\n        amp: 4006\r\n\r\nmonarch Server 0.9.0-dev (rev 47e06be)\r\n    internal ports (to Portal):\r\n        webserver: 4005\r\n        amp : 4006\r\n```\r\n\r\nI've taken a few shots at this but have no idea where the problem lies.\r\n\r\nThought I saw someone somewhere saying *not* to run makemigrations on the current dev branch but wasn't sure to what scope that applied (and can't find that warning again to verify).", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1838", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1838/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1838/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1838/events", "html_url": "https://github.com/evennia/evennia/issues/1838", "id": 437900141, "node_id": "MDU6SXNzdWU0Mzc5MDAxNDE=", "number": 1838, "title": "Bug: Manually paused scripts are unpaused when the server restarts.", "user": {"login": "luyijun", "id": 7847144, "node_id": "MDQ6VXNlcjc4NDcxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7847144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luyijun", "html_url": "https://github.com/luyijun", "followers_url": "https://api.github.com/users/luyijun/followers", "following_url": "https://api.github.com/users/luyijun/following{/other_user}", "gists_url": "https://api.github.com/users/luyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/luyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luyijun/subscriptions", "organizations_url": "https://api.github.com/users/luyijun/orgs", "repos_url": "https://api.github.com/users/luyijun/repos", "events_url": "https://api.github.com/users/luyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/luyijun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-27T03:14:39Z", "updated_at": "2019-08-28T21:32:30Z", "closed_at": "2019-08-28T21:31:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue:\r\nAll manually paused scripts are unpaused when the server restarts.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Call a script's pause method to pause it manually.\r\n2. Stop the server.\r\n3. Start the server.\r\n4. The manually paused script is unpaused.\r\n\r\n#### Error output / Expected result of feature\r\nManually paused scripts should only be unpaused manually.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI think the problem is in shutdown function in the evennia/server/server.py.\r\nLine 359, 360 is \r\n`            yield [(s.pause(manual_pause=False), s.at_server_reload())\r\n                   for s in ScriptDB.get_all_cached_instances() if s.is_active]`\r\nbut line 379 is \r\n`            yield [(s.pause(manual_pause=False), s.at_server_shutdown()) for s in ScriptDB.get_all_cached_instances()]`\r\nIt lost `if s.is_active`. Manually paused scripts's pause methed will be called again and the self.db._manual_pause will be set to false. This will cause manually paused scripts become automatically paued scripts.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1837", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1837/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1837/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1837/events", "html_url": "https://github.com/evennia/evennia/issues/1837", "id": 435600985, "node_id": "MDU6SXNzdWU0MzU2MDA5ODU=", "number": 1837, "title": "new lines where there shouldn't be in EvMenu", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-22T05:07:25Z", "updated_at": "2019-09-11T06:44:27Z", "closed_at": "2019-09-11T06:43:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nMenu lines are breaking when they shouldn't.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\nI have four items in a menu, the first three are rather long and word wrap correctly. The last one is much shorter than the first three but has a breakline when it shouldn't.\r\n\r\n#### Error output / Expected result of feature\r\n3: Very long description of an outfit that correctly word wraps  \r\n4: This is the general \r\noutfit.\r\n\r\nI'm using the webclient. The line in my code that is supplying the information is all on one line. I've had this happen elsewhere, but didn't pay attention to it before. Doesn't matter if I resize the webclient. Even when I make the line much longer (enough to wrap) the last word is still on a line by itself unnecessarily.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1837/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1832", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1832/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1832/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1832/events", "html_url": "https://github.com/evennia/evennia/issues/1832", "id": 434970926, "node_id": "MDU6SXNzdWU0MzQ5NzA5MjY=", "number": 1832, "title": "at_traverse fails when err_traverse is set on exit.", "user": {"login": "kosmobot", "id": 3227047, "node_id": "MDQ6VXNlcjMyMjcwNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3227047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kosmobot", "html_url": "https://github.com/kosmobot", "followers_url": "https://api.github.com/users/kosmobot/followers", "following_url": "https://api.github.com/users/kosmobot/following{/other_user}", "gists_url": "https://api.github.com/users/kosmobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/kosmobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kosmobot/subscriptions", "organizations_url": "https://api.github.com/users/kosmobot/orgs", "repos_url": "https://api.github.com/users/kosmobot/repos", "events_url": "https://api.github.com/users/kosmobot/events{/privacy}", "received_events_url": "https://api.github.com/users/kosmobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-18T21:41:34Z", "updated_at": "2019-08-28T20:49:52Z", "closed_at": "2019-08-28T20:49:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen failing traverse on an exit and err_traverse attribute is present an error is generated in 'at_traverse' when attempting to send the error message. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set a lock function on an exit that will cause traverse to fail, i.e. @lock south = traverse:false()\r\n2. Set err_traverse attribute on exit.\r\n3. Error message is generated when traversing.\r\n\r\n#### Error output / Expected result of feature\r\n/evennia/evennia/objects/objects.py\", line 2123, in at_traverse\r\n   self.caller.msg(self.db.err_traverse)\r\n   AttributeError: 'Exit' object has no attribute 'caller'\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI believe 'self.caller.msg' should be replaced with 'traversing_object.msg' as in at_failed_traverse. This is my first time submitting an issue. I've been building with Evennia for about a year now and it is awesome, please keep up the good work!", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1832/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1832/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1830", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1830/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1830/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1830/events", "html_url": "https://github.com/evennia/evennia/issues/1830", "id": 434607029, "node_id": "MDU6SXNzdWU0MzQ2MDcwMjk=", "number": 1830, "title": "Test Error from Twisted", "user": {"login": "chason", "id": 484770, "node_id": "MDQ6VXNlcjQ4NDc3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/484770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chason", "html_url": "https://github.com/chason", "followers_url": "https://api.github.com/users/chason/followers", "following_url": "https://api.github.com/users/chason/following{/other_user}", "gists_url": "https://api.github.com/users/chason/gists{/gist_id}", "starred_url": "https://api.github.com/users/chason/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chason/subscriptions", "organizations_url": "https://api.github.com/users/chason/orgs", "repos_url": "https://api.github.com/users/chason/repos", "events_url": "https://api.github.com/users/chason/events{/privacy}", "received_events_url": "https://api.github.com/users/chason/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-18T06:16:30Z", "updated_at": "2019-06-29T18:12:49Z", "closed_at": "2019-06-29T18:12:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen running Evennia's tests, an error is raised by Twisted. I first noticed it when running `evennia test evennia.contrib` but a similar issue occurs in `evennia test evennia` although it doesn't raise an Error\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Run `evennia test evennia.contrib` or `evennia test evennia` I've included the output for both below\r\n\r\n#### Error output / Expected result of feature\r\n\r\n```\r\n(venv3) [chason@\u6b63\u5b97:~/projects/evennia/mygame] [develop]$ evennia test evennia\r\n\r\n    TESTING: Using Evennia's default settings file (evennia.settings_default).\r\n    (use 'evennia test --settings settings.py .' to run only your custom game tests)\r\n    \r\nCreating test database for alias 'default'...\r\nSystem check identified no issues (0 silenced).\r\n.......................................................................................................................................................................................................................................................................................................................................................................................................................................................\r\n149 static files copied to '/Users/chason/projects/evennia/mygame/web/static', 1 unmodified.\r\n.................................\r\n----------------------------------------------------------------------\r\nRan 472 tests in 177.256s\r\n\r\nOK\r\nDestroying test database for alias 'default'...\r\nUnhandled error in Deferred:\r\n\r\nTraceback (most recent call last):\r\nFailure: twisted.internet.defer.CancelledError: \r\n\r\n(venv3) [chason@\u6b63\u5b97:~/projects/evennia/mygame] [develop]$ evennia test evennia.contrib\r\n\r\n    TESTING: Using Evennia's default settings file (evennia.settings_default).\r\n    (use 'evennia test --settings settings.py .' to run only your custom game tests)\r\n    \r\nCreating test database for alias 'default'...\r\nSystem check identified no issues (0 silenced).\r\n.........................................................................................................................E\r\n======================================================================\r\nERROR: runTest (twisted.trial._asynctest.TestCase)\r\nrunTest\r\n----------------------------------------------------------------------\r\ntwisted.trial.util.DirtyReactorAggregateError: Reactor was unclean.\r\nDelayedCalls: (set twisted.internet.base.DelayedCall.debug = True to debug)\r\n<DelayedCall 0x10d573198 [1.4647390842437744s] called=0 cancelled=0 restart_scripts_after_flush()\r\n\r\ntraceback at creation: \r\n\r\n  File \"/Users/chason/projects/evennia/venv3/bin/evennia\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n      File \"/Users/chason/projects/evennia/bin/unix/evennia\", line 10, in <module>\r\n    main()\r\n      File \"/Users/chason/projects/evennia/evennia/server/evennia_launcher.py\", line 2151, in main\r\n    sys.exit(execute_from_command_line())\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\r\n    utility.execute()\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/core/management/__init__.py\", line 375, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/core/management/commands/test.py\", line 26, in run_from_argv\r\n    super().run_from_argv(argv)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/core/management/base.py\", line 316, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/core/management/base.py\", line 353, in execute\r\n    output = self.handle(*args, **options)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/core/management/commands/test.py\", line 56, in handle\r\n    failures = test_runner.run_tests(test_labels)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/test/runner.py\", line 606, in run_tests\r\n    result = self.run_suite(suite)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/test/runner.py\", line 572, in run_suite\r\n    return runner.run(suite)\r\n      File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/runner.py\", line 176, in run\r\n    test(result)\r\n      File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/suite.py\", line 84, in __call__\r\n    return self.run(*args, **kwds)\r\n      File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/suite.py\", line 122, in run\r\n    test(result)\r\n      File \"/Users/chason/projects/evennia/venv3/lib/python3.7/site-packages/django/test/testcases.py\", line 206, in __call__\r\n    super().__call__(result)\r\n      File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/case.py\", line 663, in __call__\r\n    return self.run(*args, **kwds)\r\n      File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/case.py\", line 618, in run\r\n    self.tearDown()\r\n      File \"/Users/chason/projects/evennia/evennia/contrib/tutorial_examples/tests.py\", line 16, in tearDown\r\n    super(TestBodyFunctions, self).tearDown()\r\n      File \"/Users/chason/projects/evennia/evennia/utils/test_resources.py\", line 123, in tearDown\r\n    flush_cache()\r\n      File \"/Users/chason/projects/evennia/evennia/utils/idmapper/models.py\", line 482, in flush_cache\r\n    cls.flush_instance_cache()\r\n      File \"/Users/chason/projects/evennia/evennia/utils/idmapper/models.py\", line 333, in flush_instance_cache\r\n    cls.__dbclass__.__instance_cache__ = dict((key, obj) for key, obj in cls.__dbclass__.__instance_cache__.items()\r\n      File \"/Users/chason/projects/evennia/evennia/utils/idmapper/models.py\", line 334, in <genexpr>\r\n    if not obj.at_idmapper_flush())\r\n      File \"/Users/chason/projects/evennia/evennia/scripts/scripts.py\", line 422, in at_idmapper_flush\r\n    reactor.callLater(2, restart_scripts_after_flush)\r\n>\r\n\r\n----------------------------------------------------------------------\r\nRan 122 tests in 64.720s\r\n\r\nFAILED (errors=1)\r\nDestroying test database for alias 'default'...\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis occurs for me on both the `master` and `develop` branches (under py2 and py3 respectively).\r\nOS is Mac OS X 10.14\r\nboth Python 2 and Python 3 are from fresh virtualenvs ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1830/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1829", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1829/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1829/events", "html_url": "https://github.com/evennia/evennia/issues/1829", "id": 433391869, "node_id": "MDU6SXNzdWU0MzMzOTE4Njk=", "number": 1829, "title": "spawn/list not readable with many prototypes", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-15T17:15:09Z", "updated_at": "2019-09-07T22:46:59Z", "closed_at": "2019-09-07T22:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen you have enough prototypes to make the table displaying the information use the more command, the table is no longer functional. What should be a single line is on multiple lines.\r\n\r\n#### Error output / Expected result of feature\r\nCan't really reproduce what it looks like here, but\r\n| Key                | Desc                       | Spawn/Ed | Tags          |\r\n|                    |                            |    it    |               |\r\n becomes\r\n| Key | Desc | Spawn/Ed | Tags |          \r\n| | | it | | ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1829/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1823", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1823/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1823/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1823/events", "html_url": "https://github.com/evennia/evennia/issues/1823", "id": 432932011, "node_id": "MDU6SXNzdWU0MzI5MzIwMTE=", "number": 1823, "title": "More than one match for '<object>': 4 matches listed for the same object", "user": {"login": "Qaishin", "id": 799620, "node_id": "MDQ6VXNlcjc5OTYyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/799620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Qaishin", "html_url": "https://github.com/Qaishin", "followers_url": "https://api.github.com/users/Qaishin/followers", "following_url": "https://api.github.com/users/Qaishin/following{/other_user}", "gists_url": "https://api.github.com/users/Qaishin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Qaishin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Qaishin/subscriptions", "organizations_url": "https://api.github.com/users/Qaishin/orgs", "repos_url": "https://api.github.com/users/Qaishin/repos", "events_url": "https://api.github.com/users/Qaishin/events{/privacy}", "received_events_url": "https://api.github.com/users/Qaishin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-14T04:38:48Z", "updated_at": "2019-06-29T16:49:22Z", "closed_at": "2019-06-29T16:49:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen attempting to look at an object by alias after it has been looked at using get_numbered_name(), the same object shows up 4 times on a multi-match string.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\nFor simplicity, I will create an object and add the aliases manually.\r\n\r\n@create/drop utensil;a pencil;two pencils\r\nYou create a new Object: utensil (aliases: a pencil, two pencils).\r\nlook pencil\r\nMore than one match for 'pencil' (please narrow target):\r\n 1-utensil(#3) [a pencil;a utensil(#3);one utensil(#3)s;two pencils]\r\n 2-utensil(#3) [a pencil;a utensil(#3);one utensil(#3)s;two pencils]\r\n 3-utensil(#3) [a pencil;a utensil(#3);one utensil(#3)s;two pencils]\r\n 4-utensil(#3) [a pencil;a utensil(#3);one utensil(#3)s;two pencils]\r\n\r\n####  Expected result of feature\r\nThis should work without showing a multi-match 4 times for the same object.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nRunning on Evennia 0.9.0-dev (rev 841b07fc)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1814", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1814/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1814/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1814/events", "html_url": "https://github.com/evennia/evennia/issues/1814", "id": 429971542, "node_id": "MDU6SXNzdWU0Mjk5NzE1NDI=", "number": 1814, "title": "batchcode: Error message for failed #INSERT is deceptive", "user": {"login": "amfl", "id": 382798, "node_id": "MDQ6VXNlcjM4Mjc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/382798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amfl", "html_url": "https://github.com/amfl", "followers_url": "https://api.github.com/users/amfl/followers", "following_url": "https://api.github.com/users/amfl/following{/other_user}", "gists_url": "https://api.github.com/users/amfl/gists{/gist_id}", "starred_url": "https://api.github.com/users/amfl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amfl/subscriptions", "organizations_url": "https://api.github.com/users/amfl/orgs", "repos_url": "https://api.github.com/users/amfl/repos", "events_url": "https://api.github.com/users/amfl/events{/privacy}", "received_events_url": "https://api.github.com/users/amfl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-05T23:46:43Z", "updated_at": "2019-04-07T12:14:21Z", "closed_at": "2019-04-07T12:14:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen attempting to `#INSERT` a file which doesn't exist in batchcode, the error message implies the file containing the `#INSERT` statement doesn't exist, instead of the file the `#INSERT` points to.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a new file in your `world` directory called `example.py`, containing the following code:\r\n\r\n```python\r\ncaller.msg(\"Hello\")\r\n#INSERT file_which_doesnt_exist\r\n```\r\n\r\n2. Attempt to execute it with the batchcode processor with `@batchcode example`\r\n\r\n#### Error output / Expected result of feature\r\n\r\n**Actual output:**\r\n\r\n```\r\n@batchcode example\r\n'example' not found.\r\nYou have to supply the python path\r\nfrom one of the defined batch-file directories\r\n (world, evennia.contrib, evennia.contrib.tutorial_examples).\r\n```\r\n\r\nThe absence of the output from `caller.msg(\"Hello\")` only serves to make this even more confusing.\r\n\r\nRemoving the `#INSERT` statement has the code run fine.\r\n\r\n**Expected output:**\r\n\r\nPerhaps something like\r\n\r\n```\r\n@batchcode example\r\n'file_which_doesnt_exist' not found.\r\nYou have to supply the python path\r\nfrom one of the defined batch-file directories\r\n (world, evennia.contrib, evennia.contrib.tutorial_examples).\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nTested on develop branch from docker container in #1809", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1802", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1802/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1802/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1802/events", "html_url": "https://github.com/evennia/evennia/issues/1802", "id": 426293310, "node_id": "MDU6SXNzdWU0MjYyOTMzMTA=", "number": 1802, "title": "Brandymail Config Not Functional", "user": {"login": "lmclarke", "id": 3780592, "node_id": "MDQ6VXNlcjM3ODA1OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3780592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmclarke", "html_url": "https://github.com/lmclarke", "followers_url": "https://api.github.com/users/lmclarke/followers", "following_url": "https://api.github.com/users/lmclarke/following{/other_user}", "gists_url": "https://api.github.com/users/lmclarke/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmclarke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmclarke/subscriptions", "organizations_url": "https://api.github.com/users/lmclarke/orgs", "repos_url": "https://api.github.com/users/lmclarke/repos", "events_url": "https://api.github.com/users/lmclarke/events{/privacy}", "received_events_url": "https://api.github.com/users/lmclarke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-28T04:30:02Z", "updated_at": "2019-06-29T16:49:21Z", "closed_at": "2019-06-29T16:49:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nLocated:\r\nhttps://github.com/evennia/evennia/blob/master/evennia/contrib/mail.py\r\n\r\nUnsure the precise location in the file.\r\n\r\nMail installs fine, and the commands seem to work. When mail is sent, however, it doesn't appear in the recipient's mail folder. All mail goes unreceived.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Install/enable https://github.com/evennia/evennia/blob/master/evennia/contrib/mail.py\r\n2. @reload\r\n3. @mail <self>=Test/Test\r\n4. @mail\r\n\r\n#### Error output\r\n\r\n> @mail Nyx=Test/Test\r\n> You have received a new @mail from Nyx\r\n> You sent your message.\r\n> @mail\r\n> There are no messages in your inbox.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nMost recent Evennia revision, taken from yesterday.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1801", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1801/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1801/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1801/events", "html_url": "https://github.com/evennia/evennia/issues/1801", "id": 421884117, "node_id": "MDU6SXNzdWU0MjE4ODQxMTc=", "number": 1801, "title": "locks and prototypes", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-17T05:28:38Z", "updated_at": "2019-06-29T16:49:21Z", "closed_at": "2019-06-29T16:49:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nPeople with permission level of admin can't load a prototype from an object.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Search for object (from within spawn/edit)\r\n2. Try to create a prototype from the object (using c#)\r\n\r\nI believe the problem is line 499 in prototypes/menus has 'control' instead of 'edit.'", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1801/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1792", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1792/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1792/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1792/events", "html_url": "https://github.com/evennia/evennia/issues/1792", "id": 416211625, "node_id": "MDU6SXNzdWU0MTYyMTE2MjU=", "number": 1792, "title": "webclient xterm256 rendering issues", "user": {"login": "bdsdev", "id": 23546059, "node_id": "MDQ6VXNlcjIzNTQ2MDU5", "avatar_url": "https://avatars.githubusercontent.com/u/23546059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdsdev", "html_url": "https://github.com/bdsdev", "followers_url": "https://api.github.com/users/bdsdev/followers", "following_url": "https://api.github.com/users/bdsdev/following{/other_user}", "gists_url": "https://api.github.com/users/bdsdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdsdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdsdev/subscriptions", "organizations_url": "https://api.github.com/users/bdsdev/orgs", "repos_url": "https://api.github.com/users/bdsdev/repos", "events_url": "https://api.github.com/users/bdsdev/events{/privacy}", "received_events_url": "https://api.github.com/users/bdsdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-01T17:47:55Z", "updated_at": "2019-09-08T16:28:32Z", "closed_at": "2019-09-08T16:26:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nwebclient has issues with complicated xterm256 rendering\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\nEvennia output string follows:\r\n`{n%r{[210{530@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@{n%r{[210{530@@{[334{234#  {[234   {223# {[334{234# {[234{233#{[334{234#  {[234{233# {[334{234#                      {233#{223#{233#{234#{223#  {234#    {[210{530@@{n%r{[210{530@@{[334 {234#   {[234 {233#  {[334{234#      {[234 {[334#               {[234  {[334#       {233#{234#    {233#{[234{223#{[210{530@@{n%r{[210{530@@{[334{234#      {[234 {223# {[334{234#  {[234{223#  {[334{234#   {233#{234# {233# {234#       {223#{[233# {[223{222# {[334{234#   {223#{[234#{[334{233#   {234# {233#{[210{530@@{n%r{[210{530@@{[334{234#              {[344{334#    {[445{344#{334# {[444#{[344# {[334  {234#{[223 {112#{[112 {001#{[111#  {[112{011#{[223{112#{[334 {233#{223#    {233#     {[210{530@@{n%r{[210{530@@{[344{234#{[334#        {[444{334#    {[545{444#{[555{544#    {545#{444#{[545#    {[445#{[333 {[223{212#{[112 {001#{[011{101#  {[223 {[334 {234#  {233#{223#     {233#{223# {[210{530@@{n%r{[210{530@@{[334{234#     {333#{[333{223#{[223{222# {[222{212#{112#{212#{[223{222#{[323#{[333#{323#{[334{333#      {[333{323#  {[334{333#{[434#{[444{334#{434#{334#{[334{333#{[223 {[111{001#{[112 {[334{234#  {233#{[234#{[334{234# {[234{233#{223# {233#{[334{234#  {[234 {[210{530@@{n%r{[210{530@@{[334{234#  {[345{334#{[334{223#{[222{112#{[212#{[112 {[111{001#{[011{101#{[001{111#{[112{001#    {[222{112#{[223# {[222#{[112  {[222#{[223#{212#{222#{212# {222# {[323{223#{[334{333#{[444{434#{[445{444#{[444{334#{[333{223#{[344{334#  {[334  {234#        {[234 {[210{530@@{n%r{[210{530@@{[334{234# {[344{334#{[223 {[112{001#{[111#{[001{111#  {[112{001#{012# {111#   {[223{112#  {[222# {[112 {111#    {[222{112#{[223#{222#{[112{111#{[111{001#{[222{112#{[334{333#{[545{444#{[555{445#{[444{334#{[334 {[344#  {[334  {[344# {[334 {[344# {[334 {234#{[344{334#{[210{530@@{n%r{[210{530@@{[334{234#{[344{334#{[334{223#{[111{001#{[112#{011#  {111#{011# {[011{101#{[001{110#{[112{111# {011#    {[122{112#{[222#{[122#{[112 {011#{[111{001#  {011#{[112{111# {[111{001#{[001{111#{[111{001#{[223{212#{[444{334#{[555{445#{[444{334#{[334{234# {[344{334#{[345#{[344#{[334  {[344#{[334   {234# {[210{530@@{n%r{[210{530@@{[345{334# {[223 {[111{001#{[112#{011#{111# {[122{112# {[112 {111#      {011# {111# {[122{112#  {[112 {011#{[111{001#{[011{101# {[111{001#{[112{011#{111#{[111{001# {[212{111#{[323{222#{[445{444#{344#{[334 {[344{334#{[345#{[344#{[334{234#{[344{334# {[334{234#{233#{234#{233# {[210{530@@{n%r{[210{530@@{[334 {[223{222#{[112{001#{[111#{[112{111#{[222{112#{[223{122#        {[222#{112#{[112 {011# {[122{112# {[222#{[122#{[112{111#{[122{112#     {[112{011#    {[111{001#{[222{112#{[444{333#{[445{344#{[344{334# {[334{234#{[344{334#{[334{234#{[344{334#{[334{234#{[344{334#{[334{234#  {[210{530@@{n%r{[210{530@@{[334{233#{[222{112# {[223{222#{[233{223#{[234#{[334{233# {234#{233#{[123{112#{[122# {[112{111#{[233{223#{[334{233# {[223{122#{[112 {111# {[223{112#  {[333{223#{[223{122#{[122{112#  {[123# {[223{122#{[122{112#{[112  {011# {[111{001#{[112{111#{[333{323#{[444{334#{[334{234#   {[344{334# {[345# {[344# {[210{530@@{n%r{[210{530@@{[344{234# {[334#      {[344#{[234{223#{[223{122#{[122{112#{[112{011#{[123{112#{[334{234#   {[234{223#{[223{123#{[122{112#{[112  {[323{223#{[333{323#{223#{[233#{[223{122#  {123#{122# {[122{112#{[112{011#{[012{111#{[011{101#{[112{001#{111#{[223{222#{[344{334#{[334{234# {[234{233#{[334{234#     {[210{530@@{n%r{[210{530@@{[334{234#        {[344{334#{[345# {[344{234#{[334# {[234    {[334#  {[234{223#{[223{123# {122# {222#{[334{223#{233#  {[333{223#{[223{222#{122#{[112 {011#{[011{101# {[112{011# {[223{112#{[344{334#{[334{234#       {[210{530@@{n%r{[210{530@@{[334{234# {[344{334# {[345#{[344#{[334{234# {[344#{[334#  {[344{334#  {[334{234# {[234 {[334#{[234   {[334#      {333#{[344{334#{[444#{[334 {233#{[223{222#{[122{112#{[112{111#{011#{[011{101#  {[112{011#{[222{112#{[344{334# {[334{234#   {[344{334#{234#{[210{530@@{n%r{[210{530@@{[334{234#       {[344#{334#{[334{234# {[344{334#{[334{234#{[345{334# {[344#  {[334{234#     {[234 {[334#  {[444{334#{[334 {[444#{[344# {[334{333#{[233{223#{[223{122#{[122{112#{[112{011#{[011{101#{001#{101# {[122{112#{[334{233#{234#     {[210{530@@{n%r{[210{530@@{[334{234#             {[344{334# {[334{234#        {[234 {233#{[334{234# {[344{334#{[444#{[445#{[344#   {[334{223#{[223{122#{[112{011# {[011{101# {[112{011#{[111{001#{[222{112#{[334{234#     {[210{530@@{n%r{[210{530@@{[344{334#{234# {[334#{[344{334# {[334 {[344# {[334 {[344#{[334{234#{[344{334# {[334{234#            {[344{334#{[345# {[444#{[445#{344#{334# {[344# {[334{233#{[122{112#{[112{011#{[011{101# {[112{011#{[111{001#{[112{111#{[334{234#     {[210{530@@{n%r{[210{530@@{[334{234#    {[344#{[345{334#{[334{234# {[345{334#{[344#{[345#   {[334 {[344#{[345#    {[344#   {[345#  {[344# {[445{444#{[555#{[445#{[444{334#{[344# {[444#{[344#{[223 {[111{001#{[011{101#{[001{111#{[112#{[222{112#{[334{234#{[344{334# {[334{234#  {[210{530@@{n%r{[210{530@@{[334{234# {[234 {[334#     {[344#{[334#{[234{233#{[334{234#{[234{233#{223# {233#{[334{234# {[344{334# {[334{234#{[344{334#   {[345# {[344# {[445#{444#{[455#{[445#{344#{334# {[444#{[344#{[445#{[334{333#{[112 {[001{111#{[112{001#{[333{223#{[344{334#{[345#{[344#{234#{334# {[210{530@@{n%r{[210{530@@{[345{334#  {[344#{[345#  {[344#     {[334{234# {[344{334#{[345#{[334{234#{[234{233#{[334{234#       {[344{334#{[334{234# {[344{334#{[445{344#{[555{445#{[445{444# {344#{334#{[344# {[334{333#  {[223{112#{[111{101#{001#{[112{111#{[223{222#{[334  {234# {[210{530@@{n%r{[210{530@@{[334{234#{[344{334#  {[334 {234#{[344{334#  {[345# {[344# {[445{344#{[345{334#{[344# {[345#      {[344#{[345#{[344#    {[445{344#{[555{445#{[445{334#{344#{444#{334# {[334{333#{[333{223#{[223{212# {[222{112#{[111{101#  {[112{111#{[222{112#{[334{233#{[344{334# {[210{530@@{n%r{[210{530@@{[234{233# {[334{234#{[344{334#{[334{234#{[234 {223#{[334{234#  {[234{233#{223#{123#{233# {[334{234#   {[344{334#    {[345#   {[344# {[445#{444#  {334#{[444#{[445{444#{344#{[444{334#{[333{223# {[223 {[222{112#{[111{101# {[112{111#{[212{112# {[122#{[334 {[445{344#{[210{530@@{n%r{[210{530@@{[345{334#  {[344#{[334{234#  {[344{334#  {234#   {334#{[345# {[344#{[334{234#{[344{334#{[334{234# {[344#{[334# {[344{334#    {[445#{444#      {344# {334#{[444#{[445{344#{[444{334#{[334 {[444# {[334{223#{[112 {[233#{[345{334#{[210{530@@{n%r{[210{530@@{[234 {[334{234# {[234 {233# {[334{234#         {[344# {[334#{[234 {[334#{[345{334#{[344#{[345#   {[445#{[345#{[445{344#{444# {[555#{[445#  {[455#{[555# {[445#{344#{444#{344#{444#{344# {[344{334#{[345#{[344# {[345#{[210{530@@{n%r{[210{530@@{[234{233# {[344{234#{[334#    {[234 {[334#{[234 {123#{[133#{[234#{[133#{[134#{[234# {[134#{[234#{233#{[344{334#{[445#{[344# {[345# {[344#{[345#{[445#{344#{444#{[555{445# {444#{[445#{[455#{[555{445# {[445{444#{[455#{[445#  {344# {[344{334#{[445{344#  {[345{334#{[210{530@@{n%r{[210{530@@{[234{233# {223#{233# {[334{234#   {[344#{[334#{[234   {233# {223#{233#  {[334{234#{233#{[344{234#{[234{233#   {[334{234#{[344#{334#{[445{344#{[455{444#{[555{445#{444#{445#{444# {445#   {[455{444#{[445#{[455#{[445#{344# {444#{344#{334#{[345#{[210{530@@{n%r{[210{530@@{[334{234#          {[344#{[334#   {[234 {[334#   {[344{334#{[334{234#  {[344{334# {234#{334# {[445{444# {[545#{[445# {[555# {445#    {[445{444# {[455#{[445#  {344#  {[210{530@@{n%r{[210{530@@{[334{234#  {[344{334#  {[444#{[344# {[334{234#{[344{334#         {[345#{[344# {[334{234#{233#{[344{334# {[444#{[445{344# {444# {[555{445#{[445{444# {[555#{445#   {455#{445#{[455{444#{[555# {[445# {[455# {[445# {[210{530@@{n%r{[210{530@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@{n%r\r\n`\r\n\r\n#### Error output / Expected result of feature\r\n![client-vs-webclient](https://user-images.githubusercontent.com/23546059/53655998-a9568200-3c06-11e9-9dfc-20720f215abd.png)\r\n\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/70792239-webclient-xterm256-rendering-issues?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1792/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1789", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1789/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1789/events", "html_url": "https://github.com/evennia/evennia/issues/1789", "id": 414829385, "node_id": "MDU6SXNzdWU0MTQ4MjkzODU=", "number": 1789, "title": "Help popup in web client not clearing after close", "user": {"login": "fang0654", "id": 5326309, "node_id": "MDQ6VXNlcjUzMjYzMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5326309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fang0654", "html_url": "https://github.com/fang0654", "followers_url": "https://api.github.com/users/fang0654/followers", "following_url": "https://api.github.com/users/fang0654/following{/other_user}", "gists_url": "https://api.github.com/users/fang0654/gists{/gist_id}", "starred_url": "https://api.github.com/users/fang0654/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fang0654/subscriptions", "organizations_url": "https://api.github.com/users/fang0654/orgs", "repos_url": "https://api.github.com/users/fang0654/repos", "events_url": "https://api.github.com/users/fang0654/events{/privacy}", "received_events_url": "https://api.github.com/users/fang0654/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-26T21:32:34Z", "updated_at": "2019-08-19T06:07:30Z", "closed_at": "2019-08-19T06:07:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThe help popup does not clear the contents when closing the window. When you type \"help\" again, the new help text is now at the bottom of the window, and you need to scroll down to find it. This can get a little confusing, as what is being displayed isn't necessarily what was requested.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Type 'help'\r\n2. Close the window\r\n3. Type 'help set'\r\n4. Observe that the help for 'set' is at the bottom of the help window.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nExpected to clear the window between uses, so only the current help command is displayed.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/70637391-help-popup-in-web-client-not-clearing-after-close?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1788", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1788/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1788/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1788/events", "html_url": "https://github.com/evennia/evennia/issues/1788", "id": 414503005, "node_id": "MDU6SXNzdWU0MTQ1MDMwMDU=", "number": 1788, "title": "create_message Errors out and causes contrib/mail.py to fail", "user": {"login": "ph1234k", "id": 2395934, "node_id": "MDQ6VXNlcjIzOTU5MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2395934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ph1234k", "html_url": "https://github.com/ph1234k", "followers_url": "https://api.github.com/users/ph1234k/followers", "following_url": "https://api.github.com/users/ph1234k/following{/other_user}", "gists_url": "https://api.github.com/users/ph1234k/gists{/gist_id}", "starred_url": "https://api.github.com/users/ph1234k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ph1234k/subscriptions", "organizations_url": "https://api.github.com/users/ph1234k/orgs", "repos_url": "https://api.github.com/users/ph1234k/repos", "events_url": "https://api.github.com/users/ph1234k/events{/privacy}", "received_events_url": "https://api.github.com/users/ph1234k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-26T09:08:58Z", "updated_at": "2019-06-29T18:13:19Z", "closed_at": "2019-06-29T18:13:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nTrying to create a mailing system and used the contrib/mail.py module as a base, unmodified. \r\nSending a message with @mail alerts the players that they have sent or received a message, however if you then try to read it/list the inbox you will find no message. \r\nDigging in, it is hitting a stack trace related to create_message trying to identify typeclass. \r\nEnsured sending object has `__dbclass__` defined and an acceptable value. (AccountDB, CharacterDB or ObjectDB)\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a message: `@py evennia.utils.create.create_message(self.id, \"Can you read this\", \"phreak\", \"TEST\")`\r\n2. Stack trace produced\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n@py evennia.utils.create.create_message(self.id, \"Can you read this\", \"phreak\", \"TEST\")\r\nFile \"/data/home/phreak/projects/muddev/evennia/evennia/utils/create.py\", line 333, in create_message new_message.senders = sender File \"/data/home/phreak/projects/muddev/evennia/evennia/comms/models.py\", line 175, in __senders_set raise ValueError(\"This is a not a typeclassed object!\") ValueError: This is a not a typeclassed object!\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEvennia Version: 0.8.0 (rev a3240e09)\r\nOS: Ubuntu 18.04\r\nAs for ideas to fix, I am not yet sure as I don't quite understand the check yet or what value self.caller returns in mail.py when calling create_message\r\nEverything on my current game is stock, out of the box setup except that I imported the mail command from contrib/mail.py and added it to my default command set. \r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/70603419-create_message-errors-out-and-causes-contrib-mail-py-to-fail?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1787", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1787/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1787/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1787/events", "html_url": "https://github.com/evennia/evennia/issues/1787", "id": 413876910, "node_id": "MDU6SXNzdWU0MTM4NzY5MTA=", "number": 1787, "title": "[BUG] Traceback in OLC after searching and editing a prototype", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-24T22:31:30Z", "updated_at": "2019-06-29T18:13:25Z", "closed_at": "2019-06-29T18:13:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nTrying to see if I can save changes to prototypes through changing a single spawned instance of the item and then going through the spawn menu.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Changed an attribute on a spawned item\r\n2. Through the spawn menu, searched for the item and then used c<item> to load it\r\n3. Examined attributes of the prototype\r\n4. Tried to save the prototype\r\n\r\n#### Error output / Expected result of feature\r\nMenu node 'node_prototype_save' is either not implemented or caused an error. Make another choice.\r\n\r\n Traceback (most recent call last):\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\utils\\evmenu.py\", line 617, in _execute_node\r\n19-02-24 14:29:14-08 [::]     ret = self._safe_call(node, raw_string, **kwargs)\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\utils\\evmenu.py\", line 580, in _safe_call\r\n19-02-24 14:29:14-08 [::]     ret = callback(self.caller, **kwargs)\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\prototypes\\menus.py\", line 2183, in node_prototype_save\r\n19-02-24 14:29:14-08 [::]     error, text = _validate_prototype(prototype)\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\prototypes\\menus.py\", line 233, in _validate_prototype\r\n19-02-24 14:29:14-08 [::]     spawner.spawn(prototype, only_validate=True)\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\prototypes\\spawner.py\", line 767, in spawn\r\n19-02-24 14:29:14-08 [::]     attributes.append((attrname, init_spawn_value(value), category, locks))\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\prototypes\\prototypes.py\", line 731, in init_spawn_value\r\n19-02-24 14:29:14-08 [::]     elif value and is_iter(value) and callable(value[0]):\r\n19-02-24 14:29:14-08 [::]   File \"f:\\repositories\\evennia\\evennia\\utils\\dbserialize.py\", line 213, in __getitem__\r\n19-02-24 14:29:14-08 [::]     return self._data.__getitem__(key)\r\n19-02-24 14:29:14-08 [::] KeyError: 0\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/70532307-spawner-menu-after-searching-and-editing-a-prototype?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1776", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1776/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1776/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1776/events", "html_url": "https://github.com/evennia/evennia/issues/1776", "id": 407796703, "node_id": "MDU6SXNzdWU0MDc3OTY3MDM=", "number": 1776, "title": "[Bug] Combination of rm attribute with capitalization causes error", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-07T16:50:55Z", "updated_at": "2019-02-07T21:09:30Z", "closed_at": "2019-02-07T21:04:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nUser QBFreak reported through IRC that a particular sequence of attribute creation, deletion and creation causes a traceback.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `@create tablet`\r\n2. `@set tablet/MyAttr=\"test\"`\r\n3. `@py del self.contents[0].db.MyAttr`\r\n4.  `@set tablet/MyAttr=\"test\"`\r\n\r\n#### Error output / Expected result of feature\r\n```Traceback (most recent call last):\r\n  File \"/data/chiana/Projects/evennia/evennia/commands/cmdhandler.py\", line 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"/data/chiana/Projects/evennia/evennia/commands/default/building.py\", line 1688, in func\r\n    result.append(self.set_attr(obj, attr, value))\r\n  File \"/data/chiana/Projects/evennia/evennia/commands/default/building.py\", line 1564, in set_attr\r\n    obj.attributes.add(attr, value)\r\n  File \"/data/chiana/Projects/evennia/evennia/typeclasses/attributes.py\", line 513, in add\r\n    attr_obj.value = value\r\n  File \"/data/chiana/Projects/evennia/evennia/typeclasses/attributes.py\", line 153, in __value_set\r\n    self.save(update_fields=[\"db_value\"])\r\n  File \"/data/chiana/Projects/evennia/evennia/utils/idmapper/models.py\", line 393, in save\r\n    super(SharedMemoryModel, self).save(*args, **kwargs)\r\n  File \"/data/chiana/Projects/evennia/venv/local/lib/python2.7/site-packages/django/db/models/base.py\", line 808, in save\r\n    force_update=force_update, update_fields=update_fields)\r\n  File \"/data/chiana/Projects/evennia/venv/local/lib/python2.7/site-packages/django/db/models/base.py\", line 838, in save_base\r\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\r\n  File \"/data/chiana/Projects/evennia/venv/local/lib/python2.7/site-packages/django/db/models/base.py\", line 896, in _save_table\r\n    raise ValueError(\"Cannot force an update in save() with no primary key.\")\r\nValueError: Cannot force an update in save() with no primary key.\r\n\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThis appears to be a special case when the attribute contains capital letters, the user didn't report a problem when using lower-case name for the Attribute.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1776/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1774", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1774/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1774/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1774/events", "html_url": "https://github.com/evennia/evennia/issues/1774", "id": 406396355, "node_id": "MDU6SXNzdWU0MDYzOTYzNTU=", "number": 1774, "title": "Django collectstatic command line arguments are not working", "user": {"login": "friarzen", "id": 2245634, "node_id": "MDQ6VXNlcjIyNDU2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2245634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friarzen", "html_url": "https://github.com/friarzen", "followers_url": "https://api.github.com/users/friarzen/followers", "following_url": "https://api.github.com/users/friarzen/following{/other_user}", "gists_url": "https://api.github.com/users/friarzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/friarzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friarzen/subscriptions", "organizations_url": "https://api.github.com/users/friarzen/orgs", "repos_url": "https://api.github.com/users/friarzen/repos", "events_url": "https://api.github.com/users/friarzen/events{/privacy}", "received_events_url": "https://api.github.com/users/friarzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-04T15:58:10Z", "updated_at": "2019-02-23T21:19:55Z", "closed_at": "2019-02-23T21:14:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nEvennia command line 'collectstatic' command always prompts for \"yes\" or \"no\"\r\n\r\nDjango docs say it supports a silent option:\r\n     python manage.py collectstatic --noinput\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n    evennia collectstatic --noinput\r\n\r\n#### Error output / Expected result of feature\r\n\r\nInstead of the prompt, this should just go and collect static as if prompt response was 'yes'\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis may be fixed in the newer versions of Django.  I don't remember when this feature was added.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1774/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1773", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1773/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1773/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1773/events", "html_url": "https://github.com/evennia/evennia/issues/1773", "id": 406000685, "node_id": "MDU6SXNzdWU0MDYwMDA2ODU=", "number": 1773, "title": "Inherited attrs not working with spawn menu", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-02T17:01:47Z", "updated_at": "2019-02-03T14:22:45Z", "closed_at": "2019-02-03T14:17:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen editing prototypes that inherit from a parent using the menu, if you add or edit an existing attribute, the rest of the inherited ones are no longer there.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Create a prototype in the menu that uses a prototype parent which has saved attributes\r\n2. Add a new attribute using the menu (same thing happens if you override an existing attribute)\r\n3. Although they still display in the menu, the inherited attributes won't be on the spawned item.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1770", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1770/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1770/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1770/events", "html_url": "https://github.com/evennia/evennia/issues/1770", "id": 400160989, "node_id": "MDU6SXNzdWU0MDAxNjA5ODk=", "number": 1770, "title": "Error on reload", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-17T08:27:41Z", "updated_at": "2019-01-23T21:03:23Z", "closed_at": "2019-01-23T20:58:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nI have an error when I use the `@reload` command.  It doesn't happen on a fresh installation of Evennia and the error message is pretty strange, so I can't give many useful details.  Talk about it in IRC?\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nI can't reproduce the issue on Evennia Vanilla and my game is still a bit hard to install.  It's getting better but it requires some adjustments.  If the log is not enough to identify the issue I'll provide an install guide for Avenew.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThat's what can be seen in the `portal.log` file after a reload.  Note that the reload in itself is successful.\r\n\r\n```\r\n19-01-17 08:50:10+01  |Portal| portal data_to_server: <class 'evennia.server.portal.amp.AdminPortal2Server'>, 0, {'operation': '\\x03', 'server_restart_mode': 'reload', 'sessiondata': {1: {'protocol_key': 'telnet', 'address': '127.0.0.1', 'suid': None, 'sessid': 1, 'csessid': None, 'uid': 1, 'uname': 'vincent-lg', 'logged_in': True, 'puid': 1, 'conn_time': 1547711399.0513535, 'cmd_last_visible': 1547711404.7225628, 'cmd_last': 1547711404.7225628, 'cmd_total': 10, 'protocol_flags': {'ENCODING': 'latin-1', 'SCREENREADER': False, 'INPUTDEBUG': False, 'RAW': False, 'NOCOLOR': False, 'NOGOAHEAD': False, 'SCREENWIDTH': {0: 78}, 'SCREENHEIGHT': {0: 45}, 'FORCEDENDLINE': True, 'TTYPE': False, 'ANSI': True, 'MCCP': False, 'OOB': False, 'MXP': False, 'NOPKEEPALIVE': True}, 'server_data': {}, 'cmdset_storage_string': 'commands.default_cmdsets.SessionCmdSet'}}, 'portal_start_time': 1547711362.143507}\r\n19-01-17 08:50:10+01  |Portal| dataReceived: b\"\\x00\\x06_error\\x00\\x011\\x00\\x0b_error_code\\x00\\tEXCEPTION\\x00\\x12_error_description\\x00*a bytes-like object is required, not 'str'\\x00\\x00\"\r\n19-01-17 08:50:10+01  |Portal| [EE] AMP Error for AdminPortal2Server: a bytes-like object is required, not 'str'\r\n```\r\n\r\nI don't get a regular traceback.  I can enter commands after a few seconds even if I never get the message \"... server reloaded.\".  However, if I use `@shutdown` (or `evennia stop` for that matter), I get another traceback in the log (server.log this time):\r\n\r\n```\r\n19-01-17 08:50:28+01 Unhandled Error\r\n\tTraceback (most recent call last):\r\n\t  File \"d:\\pyenv3\\Lib\\site-packages\\twisted\\internet\\defer.py\", line 151, in maybeDeferred\r\n\t    result = f(*args, **kw)\r\n\t  File \"d:\\evennia\\evennia\\server\\amp_client.py\", line 240, in server_receive_adminportal2server\r\n\t    server_sessionhandler.server.shutdown(mode='shutdown')\r\n\t  File \"d:\\pyenv3\\Lib\\site-packages\\twisted\\internet\\defer.py\", line 1613, in unwindGenerator\r\n\t    return _cancellableInlineCallbacks(gen)\r\n\t  File \"d:\\pyenv3\\Lib\\site-packages\\twisted\\internet\\defer.py\", line 1529, in _cancellableInlineCallbacks\r\n\t    _inlineCallbacks(None, g, status)\r\n\t--- <exception caught here> ---\r\n\t  File \"d:\\pyenv3\\Lib\\site-packages\\twisted\\internet\\defer.py\", line 1418, in _inlineCallbacks\r\n\t    result = g.send(result)\r\n\t  File \"d:\\evennia\\evennia\\server\\server.py\", line 377, in shutdown\r\n\t    for p in AccountDB.get_all_cached_instances()]\r\n\t  File \"d:\\evennia\\evennia\\server\\server.py\", line 377, in <listcomp>\r\n\t    for p in AccountDB.get_all_cached_instances()]\r\n\t  File \"d:\\evennia\\evennia\\accounts\\accounts.py\", line 336, in unpuppet_all\r\n\t    self.unpuppet_object(self.sessions.all())\r\n\t  File \"d:\\evennia\\evennia\\accounts\\accounts.py\", line 322, in unpuppet_object\r\n\t    obj.at_pre_unpuppet()\r\n\t  File \"d:\\evennia\\evennia\\contrib\\ingame_python\\typeclasses.py\", line 391, in at_pre_unpuppet\r\n\t    self.callbacks.call(\"unpuppeted\", self)\r\n\tbuiltins.AttributeError: 'Character' object has no attribute 'callbacks'\r\n```\r\n\r\nObviously this is due to the first error as, if I try to shutdown without having reloaded, all works.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n* Evennia branch: develop-py3", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1770/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1769", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1769/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1769/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1769/events", "html_url": "https://github.com/evennia/evennia/issues/1769", "id": 398649486, "node_id": "MDU6SXNzdWUzOTg2NDk0ODY=", "number": 1769, "title": "Bug: Loop in EvMenu on empty key", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-13T11:47:30Z", "updated_at": "2019-03-30T16:41:37Z", "closed_at": "2019-03-30T16:41:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nAs reported by vincent in this pull request https://github.com/evennia/evennia/pull/1766, using an empty string for a key in the menu_login contrib creates an infinite loop. This is a bug in EvMenu.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nFrom https://github.com/evennia/evennia/pull/1766, \r\n\r\n1. Run menu_login contrib.\r\n2. \r\n3. \r\n\r\n#### Error output / Expected result of feature\r\n\r\nusing an empty string should just give an empty entry, showing only the `desc`. Possibly having both `key` and `desc` empty may also be acceptable since this creates a `hidden` option that may be useful for some?\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe `menu_login` contrib should probably be rewritten to use the latest features of EvMenu (that means it can also be shorter). \r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/68636244-bug-loop-in-evmenu-on-empty-key?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1765", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1765/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1765/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1765/events", "html_url": "https://github.com/evennia/evennia/pull/1765", "id": 396269576, "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ0MjIyNDI3", "number": 1765, "title": "Encoding and Python 3", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-06T15:50:55Z", "updated_at": "2019-01-17T07:01:04Z", "closed_at": "2019-01-16T22:39:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/evennia/evennia/pulls/1765", "html_url": "https://github.com/evennia/evennia/pull/1765", "diff_url": "https://github.com/evennia/evennia/pull/1765.diff", "patch_url": "https://github.com/evennia/evennia/pull/1765.patch", "merged_at": "2019-01-16T22:39:14Z"}, "body": "#### Brief summary of issue\r\n\r\nThe current branch running on Python 3.5 of Python has some issues with encoding that most ASCII users wouldn't notice.  Basically, it's either ASCII, or utf-8, the rest doesn't work.  And while I would be happy to have everyone using utf-8, it's clearly not a good choice, particularly with Evennia's settings.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nTo see the problem:\r\n\r\n1. Install a fresh Evennia with the develop-py3 branch.\r\n2. In the `server/conf/connection_screens.py` file, append some utf-8 in the file (see mine below).\r\n3. With a client that uses a different encoding (mine uses latin-1 for instance), connect to localhost:4000.  You will see an error on the accented character, as you should (default encoding isn't changed).\r\n4. Use the `@encoding` command to change your output encoding.  In my case: `@encoding latin-1` .\r\n5. And type `look` to see... the exact same error.\r\n\r\n```python\r\n# connection_screen\r\nCONNECTION_SCREEN = \"\"\"\r\nm\u00e9dor\r\n|b==============================================================|n\r\n Welcome to |g{}|n, version {}!\r\n\r\n If you have an existing account, connect to it by typing:\r\n      |wconnect <username> <password>|n\r\n If you need to create an account, type (without the <>'s):\r\n      |wcreate <username> <password>|n\r\n\r\n If you have spaces in your username, enclose it in quotes.\r\n Enter |whelp|n for more info. |wlook|n will re-show this screen.\r\n|b==============================================================|n\"\"\" \\\r\n    .format(settings.SERVERNAME, utils.get_evennia_version())\r\n```\r\n\r\n(Yes, it's the \u00e9 in \"m\u00e9dor\", which is a beautiful dog name).\r\n\r\n#### Error output / Expected result of feature\r\n\r\nWhat happens?  I would like to know.  It's not just an error of the `@encoding` command, it's the encoding system that's a bit broken.  Full debugging didn't allow me to find the proper solution... but I identified some possible root causes and here's my thinking:\r\n\r\n1. `to_str` is called A LOT.  This is probably a very bad idea for encoding support.  In Python 3, every string within the program should be utf-8 (str type).  Converting to other encoding (bytes) should only happen before every evennia-related processing (input), and just before submitting to the client (output).  Some functions (like `pickle.dumps` which is used by `amp.dumps`) return bytes.  Is that where the encoding should be handled?  Turning this bytes into a string afterward (look at the `server.portal.amp.dumps` function) might break some things.\r\n2. The only point where I found the ENCODING protocol flag being used is in `server/sessionhandler.py`.  It converts bytes to string following the encoding.  Again, I would think the other way around would be preferable: converting string to bytes before sending them... but I don't know enough of Evennia's structure to be sure.  And since there's the AMP to consider between them, I don't feel like coming up with a solution by myself, without guidance.\r\n\r\nIn my opinion, the greatest problem is the excessive `to_str` calls, but again, that might not be the reason for the problem.  If anyone wants additional debugging and can orient me in the right direction, I'll take it.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n* Evennia branch: develop-py3\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1765/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1760", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1760/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1760/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1760/events", "html_url": "https://github.com/evennia/evennia/issues/1760", "id": 395340420, "node_id": "MDU6SXNzdWUzOTUzNDA0MjA=", "number": 1760, "title": "search when using attribute_name", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-02T18:42:57Z", "updated_at": "2019-06-29T16:49:23Z", "closed_at": "2019-06-29T16:49:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSearching for an attribute name that doesn't exist when the value isn't a string provides a traceback.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. self.search(3,attribute_name='level', global_search=True)\r\n\r\n#### Error output / Expected result of feature\r\nFile \"f:\\repositories\\evennia\\evennia\\objects\\objects.py\", line 453, in search use_dbref=use_dbref) File \"f:\\repositories\\evennia\\evennia\\objects\\manager.py\", line 405, in search_object match = _MULTIMATCH_REGEX.match(searchdata) TypeError: expected string or buffer\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nWorks just fine when I search for a level number that exists on a character, as well as when I search using a string that doesn't exist.\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/68183493-search-when-using-attribute_name?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1758", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1758/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1758/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1758/events", "html_url": "https://github.com/evennia/evennia/issues/1758", "id": 392392803, "node_id": "MDU6SXNzdWUzOTIzOTI4MDM=", "number": 1758, "title": "Failed file rotation from http logging can leave webserver in invalid state", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-12-19T00:32:12Z", "updated_at": "2022-01-19T22:06:19Z", "closed_at": "2022-01-19T22:06:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIf `DEBUG` mode is set to true, HTTP requests are logged by the webserver. However, when the server attempts to rotate the log file, it's possible for that to fail if it conflicts with the portal writing to the log file at the same time, reporting that it's in use by another process. Thereafter, every action on the website (including any command in the webclient) will generate a file I/O exception, eventually leading to the webserver to stop functioning entirely in the portal.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Difficult to reproduce due to being a timing issue. Happened in Windows 10 while in DEBUG mode under moderate use.\r\n\r\n#### Error output / Expected result of feature\r\nA file I/O error when attempting to rotate the http request log, leading to every action in the website generating an error in the portal logs after that point.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nPossibly should remove logging of HTTP requests even in DEBUG mode unless they're explicitly turned on by some other setting, though admittedly DEBUG mode should never be used for production anyway.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/67714971-failed-file-rotation-from-http-logging-can-leave-webserver-in-invalid-state?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1757", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1757/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1757/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1757/events", "html_url": "https://github.com/evennia/evennia/issues/1757", "id": 392317164, "node_id": "MDU6SXNzdWUzOTIzMTcxNjQ=", "number": 1757, "title": "Duplication of items in console output when referencing multiple objects with RPContrib.", "user": {"login": "Fumarii", "id": 45979120, "node_id": "MDQ6VXNlcjQ1OTc5MTIw", "avatar_url": "https://avatars.githubusercontent.com/u/45979120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fumarii", "html_url": "https://github.com/Fumarii", "followers_url": "https://api.github.com/users/Fumarii/followers", "following_url": "https://api.github.com/users/Fumarii/following{/other_user}", "gists_url": "https://api.github.com/users/Fumarii/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fumarii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fumarii/subscriptions", "organizations_url": "https://api.github.com/users/Fumarii/orgs", "repos_url": "https://api.github.com/users/Fumarii/repos", "events_url": "https://api.github.com/users/Fumarii/events{/privacy}", "received_events_url": "https://api.github.com/users/Fumarii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-18T20:12:33Z", "updated_at": "2019-06-29T16:49:22Z", "closed_at": "2019-06-29T16:49:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen attempting to manipulate multiple objects with the same name in the client, there is exponential duplication of objects when being asked to choose which object to refer to from the group of objects.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Use @create/drop to make some number of multiple, identical objects. In my case, I am not supplying any arguments to the command other than the key for the object. \"@create/drop napkin\" three times.\r\n2. From within a connected client, use look or examine or other such command to attempt to refer to one of the objects that you have created.\r\n3. Client will output the number of objects squared, but will still appropriately refer to correct number of DBrefs in the output. \r\n\r\n#### Error output / Expected result of feature\r\n\r\nError Output: \r\nYou create a new Object: pencil.\r\nYou create a new Object: pencil.\r\nMore than one match for 'pencil' (please narrow target):\r\n 1-pencil(#424)\r\n 2-pencil(#425)\r\n 3-pencil(#424)\r\n 4-pencil(#425)\r\n\r\nExpected Result: \r\nYou create a new Object: pencil.\r\nYou create a new Object: pencil.\r\nMore than one match for 'pencil' (please narrow target):\r\n 1-pencil(#424)\r\n 2-pencil(#425)\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nversion 0.8.0 (rev 5e98127)\r\n\r\nServer is running with the RPContrib contrib active, and with the Object class inheriting from the ContribRPObject, and the same for room and character objects.\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/67706131-duplication-of-items-in-console-output-when-referencing-multiple-objects-with-rpcontrib?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1751", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1751/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1751/events", "html_url": "https://github.com/evennia/evennia/issues/1751", "id": 384157265, "node_id": "MDU6SXNzdWUzODQxNTcyNjU=", "number": 1751, "title": "(Contrib) Health bar does not use fill color as expected", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-11-26T03:07:51Z", "updated_at": "2019-02-23T21:15:40Z", "closed_at": "2019-02-23T21:10:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe contrib health bar always uses red as the first color argument when the current value is low, regardless of whether an alternate palette is provided.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nHere's a unit test function that demonstrates the issue and expected output:\r\n\r\n    def test_health_bar(self):\r\n        from evennia.contrib.health_bar import display_meter\r\n        # Prints meter as expected-- this is a mostly dead character's HP bar\r\n        meter = display_meter(25, 100, fill_color=[\"R\", \"Y\", \"G\"])\r\n        self.assertTrue(meter.startswith('|[R'), 'Meter should be red!')\r\n        \r\n        # Also prints meter as expected-- character's power level is over 9000\r\n        meter = display_meter(9001, 9000, fill_color=[\"G\", \"Y\", \"R\"])\r\n        self.assertTrue(meter.startswith('|[R'), 'Meter should be red!')\r\n        \r\n        # But when a character isn't going Super Saiyan, his temper should be cooler\r\n        meter = display_meter(1, 9000, fill_color=[\"G\", \"Y\", \"R\"])\r\n        self.assertTrue(meter.startswith('|[G'), 'Meter should be green!')", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1746", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1746/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1746/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1746/events", "html_url": "https://github.com/evennia/evennia/issues/1746", "id": 380967267, "node_id": "MDU6SXNzdWUzODA5NjcyNjc=", "number": 1746, "title": "Directory indexes are browsable by default", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}, {"id": 1375110807, "node_id": "MDU6TGFiZWwxMzc1MTEwODA3", "url": "https://api.github.com/repos/evennia/evennia/labels/security", "name": "security", "color": "ff8888", "default": false, "description": "Security-related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-15T02:03:43Z", "updated_at": "2019-08-28T18:11:45Z", "closed_at": "2019-08-28T18:11:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nOn a default installation, the `/media` and `/static` directories are browsable by default.\r\n\r\nAll static and user-uploaded assets can be browsed by requesting either endpoint.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Go to `mud.example.com/static`\r\n2. Go to `mud.example.com/media`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nNormally this is fixed by setting a simple flag in Nginx or Apache; banner grab yields `TwistedWeb/18.7.0` but I have no idea what options (if any) Twisted/Evennia provides to mitigate this.\r\n\r\n(In this particular case though, since Twisted is the actual webserver here, slapping Apache/Nginx on top of it will likely not prevent this behavior either. It fails to do so in my test environment!)\r\n\r\nUntil a more configurable solution can be found, if this is cause for concern, just create a blank 'index.html' file in any/all directories you don't want browsed.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/66188190-directory-indexes-are-browsable-by-default?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1745", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1745/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1745/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1745/events", "html_url": "https://github.com/evennia/evennia/issues/1745", "id": 380945778, "node_id": "MDU6SXNzdWUzODA5NDU3Nzg=", "number": 1745, "title": "Logging in from the logout page will immediately log user back out again", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-15T00:22:04Z", "updated_at": "2019-08-28T18:49:21Z", "closed_at": "2019-08-28T18:49:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nLogging in from the logout page will immediately log the user back out again.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Log in.\r\n2. Log out.\r\n3. From the 'you are now logged out' redirect page, quickly click the link to log in again\r\n4. Log in.\r\n5. Get logged out :)\r\n\r\nThis is because the current page is always passed to the login view via 'next' as a convenience to users to return them to where they were when they tried to access something requiring authentication.\r\n\r\nThe easiest fix might be to hide the menu on the logout view, similar to the login and register views.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/66185328-logging-in-from-the-logout-page-will-immediately-log-user-back-out-again?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1745/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1744", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1744/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1744/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1744/events", "html_url": "https://github.com/evennia/evennia/issues/1744", "id": 380401066, "node_id": "MDU6SXNzdWUzODA0MDEwNjY=", "number": 1744, "title": "Add references to flatpages, sites admin on the EVENNIA_ADMIN template", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-13T20:06:32Z", "updated_at": "2019-08-14T23:10:44Z", "closed_at": "2019-08-14T23:10:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nEvennia ships with the Flatpages contrib installed and enabled. Like the Help Entry system it's a very useful interface for non-web-developers to contribute content, but it isn't obvious that it exists, how to access it or how to use it.\r\n\r\nThe Django Sites framework is also installed and enabled; the settings file is dismissive of the `SITE_ID` value but as set any reference to the template tag `{{ domain }}` will return `example.com`. This includes the built-in Django password reset workflow which is also enabled by default. We should expect users to want to be able to change this post-installation but we don't make it obvious how to do so. Failure to do this results in emailed password tokens referencing `example.com` instead of the actual domain. It also breaks the `get_absolute_url()`/`View on Site` features in the Admin pane which depend on this being set properly.\r\n\r\nThe only way devs would learn of either of these features is if they clicked through to the default Django Admin page and understood what all the registered apps are.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set `EVENNIA_ADMIN = True`\r\n2. Go to `/admin`\r\n3. Behold\r\n\r\n#### Error output / Expected result of feature\r\nThis is an easy fix. These features should have a line item on the Evennia Admin template explaining what they are and their use. Something like:\r\n\r\n* Pages: \"Create, edit or publish web pages without needing to know how to code.\"\r\n* Domains: \"Whether you're setting up your first game or running multiple games using the same codebase, configure your domain name(s) here.\"\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/66123708-add-references-to-flatpages-sites-admin-on-the-evennia_admin-template?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1743", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1743/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1743/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1743/events", "html_url": "https://github.com/evennia/evennia/issues/1743", "id": 379427976, "node_id": "MDU6SXNzdWUzNzk0Mjc5NzY=", "number": 1743, "title": "Usage Error Post Fresh Installation", "user": {"login": "ccubed", "id": 67614, "node_id": "MDQ6VXNlcjY3NjE0", "avatar_url": "https://avatars.githubusercontent.com/u/67614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccubed", "html_url": "https://github.com/ccubed", "followers_url": "https://api.github.com/users/ccubed/followers", "following_url": "https://api.github.com/users/ccubed/following{/other_user}", "gists_url": "https://api.github.com/users/ccubed/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccubed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccubed/subscriptions", "organizations_url": "https://api.github.com/users/ccubed/orgs", "repos_url": "https://api.github.com/users/ccubed/repos", "events_url": "https://api.github.com/users/ccubed/events{/privacy}", "received_events_url": "https://api.github.com/users/ccubed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-11-10T14:44:53Z", "updated_at": "2019-06-29T16:49:23Z", "closed_at": "2019-06-29T16:49:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nI've installed Evennia on Arch Linux and I'm encountering issues attempting to add any kind of thing through the web interface. I receive some variation of the error: NoReverseMatch. The specifics change slightly depending on the subtype of object.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Install fresh evennia on arch\r\n2. Init new game\r\n3. Migrate, start\r\n4. Attempt to make a room, object \r\n5. Error\r\n\r\n#### Error output / Expected result of feature\r\n\r\nhttps://imgur.com/a/pAPhgVc\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nBranch: latest git as per git clone https://github.com/evennia/evennia.git\r\nOS: Linux Vertinext 4.13.12-1-ARCH #1 SMP PREEMPT Wed Nov 8 11:54:06 CET 2017 x86_64 GNU/Linux\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/65996782-usage-error-post-fresh-installation?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1737", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1737/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1737/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1737/events", "html_url": "https://github.com/evennia/evennia/issues/1737", "id": 377674820, "node_id": "MDU6SXNzdWUzNzc2NzQ4MjA=", "number": 1737, "title": "Webclient - No scrolling on mobile", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-06T03:11:50Z", "updated_at": "2018-11-07T14:41:50Z", "closed_at": "2018-11-07T14:41:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe webclient does not provide a mechanism to scroll (or just peg the view to the bottom of the buffer) when messages extend beyond the height of the screen. Game quickly becomes unplayable after a login and lookaround-- further messages cannot be seen; they pass behind the input box and off the bottom of the screen.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Use mobile device\r\n2. Login to webclient\r\n3. Look, do other stuff\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nDevelop branch, LG G5 phone, Brave browser, Chrome browser", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1737/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1736", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1736/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1736/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1736/events", "html_url": "https://github.com/evennia/evennia/issues/1736", "id": 377057611, "node_id": "MDU6SXNzdWUzNzcwNTc2MTE=", "number": 1736, "title": "installation problem with Pillow - linux&-windows", "user": {"login": "jaggiJ", "id": 18056024, "node_id": "MDQ6VXNlcjE4MDU2MDI0", "avatar_url": "https://avatars.githubusercontent.com/u/18056024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaggiJ", "html_url": "https://github.com/jaggiJ", "followers_url": "https://api.github.com/users/jaggiJ/followers", "following_url": "https://api.github.com/users/jaggiJ/following{/other_user}", "gists_url": "https://api.github.com/users/jaggiJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaggiJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaggiJ/subscriptions", "organizations_url": "https://api.github.com/users/jaggiJ/orgs", "repos_url": "https://api.github.com/users/jaggiJ/repos", "events_url": "https://api.github.com/users/jaggiJ/events{/privacy}", "received_events_url": "https://api.github.com/users/jaggiJ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-03T14:07:43Z", "updated_at": "2019-06-09T13:16:52Z", "closed_at": "2019-06-09T13:16:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are errors with pillow, during installation of develop or master version of Evennia.\r\nI use remote connection to my Rasbian on Raspberry Pie3b+ through ssh putty if that matters.\r\n\r\n### steps to reproduce\r\n1. clone evennia, git checkout -b develop, git pull origin develop\r\n2. cd.. | . ./py2env/bin/activate | cd..\r\n3. pip install -e evennia\r\nOR \r\ninstall evennia according to getting started for linux guide\r\n\r\n### Error output\r\n``` python3  \r\n  Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-ADarXS/pillow/setup.py\", line 807, in <module>\r\n        raise RequiredDependencyException(msg)\r\n    __main__.RequiredDependencyException:\r\n\r\n    The headers or library files could not be found for jpeg,\r\n    a required dependency when compiling Pillow from source.\r\n```\r\n## detailed error output for evennia/master:\r\nhttps://paste.ofcode.org/QRnpe2SSEeEhbKYWGnq2mC\r\nalso after that **pip list** output:\r\nhttps://paste.ofcode.org/9rAVMTigk5X5Bb7D4jF3wJ\r\n\r\n### version\r\nEvennia revision/repo/branch, operating system\r\nRasbian, evennia develop&master branches\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/65686693-installation-problem-with-pillow-linux-windows?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1735", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1735/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1735/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1735/events", "html_url": "https://github.com/evennia/evennia/issues/1735", "id": 376544228, "node_id": "MDU6SXNzdWUzNzY1NDQyMjg=", "number": 1735, "title": "Commands to translate Evennia fail", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-01T19:51:19Z", "updated_at": "2019-06-29T18:13:32Z", "closed_at": "2019-06-29T18:13:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThe two commands given in the [documentation](https://github.com/evennia/evennia/wiki/Internationalization#translating-evennia) fail:\r\n\r\n    evennia makemessages -l <language-code>\r\n    evennia compilemessages\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. With a fresh, unmodified Evennia from Git.\r\n2. Cd into evennia, then the evennia sub-folder (where the `locale` directory is, says the [documentation](https://github.com/evennia/evennia/wiki/Internationalization#translating-evennia)).\r\n3. Enter one of the given commands.\r\n\r\n#### Error output / Expected result of feature\r\n\r\n    ERROR: No Evennia settings file was found. Evennia looks for the\r\n    file in your game directory as server/conf/settings.py.\r\n\r\n    You must run this command from somewhere inside a valid game\r\n    directory first created with\r\n\r\n        evennia --init mygamename\r\n\r\n    If you are in a game directory but is missing a settings.py file,\r\n    it may be because you have git-cloned an existing game directory.\r\n    The settings.py file is not cloned by git (it's in .gitignore)\r\n    since it can contain sensitive and/or server-specific information.\r\n    You can create a new, empty settings file with\r\n\r\n        evennia --initsettings\r\n\r\n    If cloning the settings file is not a problem you could manually\r\n    copy over the old settings file or remove its entry in .gitignore\r\n\r\nThis makes some sense since I'm not in my game folder (again, following the documentation).  However, I fancy this is a trick of the launcher and might break other commands that are not meant to be run in the game directory, though obviously translating is the first one I can think off.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to \r\n\r\n* Evennia version : master.\r\n* Operating System: Windows.\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/65614274-commands-to-translate-evennia-fail?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1731", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1731/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1731/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1731/events", "html_url": "https://github.com/evennia/evennia/issues/1731", "id": 375583823, "node_id": "MDU6SXNzdWUzNzU1ODM4MjM=", "number": 1731, "title": "Disabling webclient does not actually disable it", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-30T16:35:40Z", "updated_at": "2018-10-30T22:14:56Z", "closed_at": "2018-10-30T22:14:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set WEBCLIENT_ENABLED to False\r\n2. Link disappears from index page\r\n3. Go to http://example.com/webclient\r\n4. Webclient loads.\r\n\r\n#### Error output / Expected result of feature\r\nSetting WEBCLIENT_ENABLED to False should disable it, not hide it.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThe status check needs to happen in urls.py, not just on the navbar template. If disabled, the url for the webclient should not be added to the list of urlpatterns.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1729", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1729/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1729/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1729/events", "html_url": "https://github.com/evennia/evennia/issues/1729", "id": 375277366, "node_id": "MDU6SXNzdWUzNzUyNzczNjY=", "number": 1729, "title": "Inconsistent application/handling of Delete lock on Character objects", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-30T01:05:54Z", "updated_at": "2018-12-05T08:26:00Z", "closed_at": "2018-12-02T14:58:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n* Existing character creation methods (`CmdCharCreate` / `Character.create()`) do not set a `delete` lock on Character objects (by contrast, `CmdCreate` does for generic Objects).\r\n* `CmdCharDelete` *does not* check locks to see if the caller is authorized to delete it, only whether the character is in the caller's playable characters list.\r\n* `CharacterDeleteView` *does* check locks to see if the caller is authorized to delete it (in addition to playable characters), which breaks the view for non-admins.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI don't know if the lock omission is intentional or not, but we should reach a consensus on whether players should be able to delete their own characters by default and set locks appropriately. `CmdCharDelete` should check both the lockstring and the playable characters list to see if the caller is allowed to delete it.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1723", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1723/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1723/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1723/events", "html_url": "https://github.com/evennia/evennia/issues/1723", "id": 374775877, "node_id": "MDU6SXNzdWUzNzQ3NzU4Nzc=", "number": 1723, "title": "develop: Website not correctly logging in when logged in in-game", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-28T17:10:10Z", "updated_at": "2018-10-29T19:55:41Z", "closed_at": "2018-10-29T19:55:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen logging in in-game, the website does not detect it, but if you try to log in you still get a warning saying that you are already logged in.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Don't log into the website but open the web client\r\n2. Log into the webclient as usual.\r\n3. Go back to the website - you are not shown as logged in, but clicking `Log in` will still give you an error. \r\n\r\n#### Error output / Expected result of feature\r\n\r\nWhen logged into the game, this should be reflected by the web site. See closed #1063. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThis is a regression, probably from changes in the session handling/sharing between client and website.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1723/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1710", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1710/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1710/events", "html_url": "https://github.com/evennia/evennia/issues/1710", "id": 374494685, "node_id": "MDU6SXNzdWUzNzQ0OTQ2ODU=", "number": 1710, "title": "EvTable \"borders off\" causes spacing issues in the webclient", "user": {"login": "friarzen", "id": 2245634, "node_id": "MDQ6VXNlcjIyNDU2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2245634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friarzen", "html_url": "https://github.com/friarzen", "followers_url": "https://api.github.com/users/friarzen/followers", "following_url": "https://api.github.com/users/friarzen/following{/other_user}", "gists_url": "https://api.github.com/users/friarzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/friarzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friarzen/subscriptions", "organizations_url": "https://api.github.com/users/friarzen/orgs", "repos_url": "https://api.github.com/users/friarzen/repos", "events_url": "https://api.github.com/users/friarzen/events{/privacy}", "received_events_url": "https://api.github.com/users/friarzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-26T18:20:27Z", "updated_at": "2019-09-02T06:41:14Z", "closed_at": "2019-09-02T06:41:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nI am reporting this one for @Packetdancer from an IRC conversation so that it isn't forgotten/missed.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n<Packetdancer> Apparently EvTable does some odd alignment stuff under the webclient if you turn off borders.  For instance, under telnet, you'll still have a space where the border should be, and under the webclient you won't.  In some cases things don't line up properly because of this.\r\n\r\n#### Error output / Expected result of feature\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nI'm guessing this is an issue with a &lt;div&gt; &lt;/div&gt; getting \r\ngenerated, instead of an explicit &lt;div&gt; &amp;nbsp; &lt;/div&gt;\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/65329836-evtable-borders-off-causes-spacing-issues-in-the-webclient?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1704", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1704/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1704/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1704/events", "html_url": "https://github.com/evennia/evennia/issues/1704", "id": 373272621, "node_id": "MDU6SXNzdWUzNzMyNzI2MjE=", "number": 1704, "title": "`@spawn` traceback within evennia.prototypes.prototypes.protfunc_parser", "user": {"login": "Henddher", "id": 3991010, "node_id": "MDQ6VXNlcjM5OTEwMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3991010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Henddher", "html_url": "https://github.com/Henddher", "followers_url": "https://api.github.com/users/Henddher/followers", "following_url": "https://api.github.com/users/Henddher/following{/other_user}", "gists_url": "https://api.github.com/users/Henddher/gists{/gist_id}", "starred_url": "https://api.github.com/users/Henddher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Henddher/subscriptions", "organizations_url": "https://api.github.com/users/Henddher/orgs", "repos_url": "https://api.github.com/users/Henddher/repos", "events_url": "https://api.github.com/users/Henddher/events{/privacy}", "received_events_url": "https://api.github.com/users/Henddher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-10-24T01:58:42Z", "updated_at": "2018-12-05T08:11:57Z", "closed_at": "2018-12-02T13:53:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nBased on https://github.com/evennia/evennia/wiki/evennia.prototypes.protfuncs, it seems like all `protofunc`s are preceeded by `$` character. However, prototype values without preceding `$` are getting treated as `$protofunc`.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `@spawn {'key':'stone(#1234)'}`\r\n\r\n\r\n#### Error output / Expected result of feature\r\n\r\n```\r\n18-10-24 01:46:49 [::] Traceback (most recent call last):\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/commands/cmdhandler.py\", line 594, in _run_command\r\n18-10-24 01:46:49 [::]     _progressive_cmd_run(cmd, ret)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/commands/cmdhandler.py\", line 193, in _progressive_cmd_run\r\n18-10-24 01:46:49 [::]     value = generator.next()\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/commands/default/building.py\", line 3098, in func\r\n18-10-24 01:46:49 [::]     for obj in spawner.spawn(prototype):\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/prototypes/spawner.py\", line 694, in spawn\r\n18-10-24 01:46:49 [::]     create_kwargs[\"db_key\"] = init_spawn_value(val, str)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/prototypes/prototypes.py\", line 735, in init_spawn_value\r\n18-10-24 01:46:49 [::]     value = protfunc_parser(value)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/prototypes/prototypes.py\", line 583, in protfunc_parser\r\n18-10-24 01:46:49 [::]     stacktrace=stacktrace, testing=testing, **kwargs)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/utils/inlinefuncs.py\", line 425, in parse_inlinefunc\r\n18-10-24 01:46:49 [::]     retval = \"\".join(_run_stack(item) for item in stack)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/utils/inlinefuncs.py\", line 425, in <genexpr>\r\n18-10-24 01:46:49 [::]     retval = \"\".join(_run_stack(item) for item in stack)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/utils/inlinefuncs.py\", line 423, in _run_stack\r\n18-10-24 01:46:49 [::]     retval = \"\" if strip else func(*args, **kwargs)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/prototypes/protfuncs.py\", line 315, in obj\r\n18-10-24 01:46:49 [::]     obj = _obj_search(return_list=False, *args, **kwargs)\r\n18-10-24 01:46:49 [::]   File \"/usr/src/evennia/evennia/prototypes/protfuncs.py\", line 295, in _obj_search\r\n18-10-24 01:46:49 [::]     raise ValueError(\"$obj: Query '{}' gave no matches.\".format(query))\r\n18-10-24 01:46:49 [::] ValueError: $obj: Query '#1234' gave no matches.\r\n18-10-24 01:46:49 [EE] User input was: '@spawn {'key':'stone(#1234)'}'.\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nIt seems like the parsing and its regular expression is incorrect?\r\n\r\n**Code lifted from `evennia.prototypes.prototypes.protfunc_parser`**\r\n\r\n```python\r\nimport re\r\n_RE_DBREF = re.compile(r\"(?<!\\$obj\\()(#[0-9]+)\")\r\nv = 'stone(#1234)'\r\n_RE_DBREF.sub('$obj(\\\\1)', v)\r\n'stone($obj(#1234))'\r\n ```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1701", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1701/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1701/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1701/events", "html_url": "https://github.com/evennia/evennia/issues/1701", "id": 372326514, "node_id": "MDU6SXNzdWUzNzIzMjY1MTQ=", "number": 1701, "title": "Server fails to launch on macOS", "user": {"login": "Packetdancer", "id": 359364, "node_id": "MDQ6VXNlcjM1OTM2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/359364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Packetdancer", "html_url": "https://github.com/Packetdancer", "followers_url": "https://api.github.com/users/Packetdancer/followers", "following_url": "https://api.github.com/users/Packetdancer/following{/other_user}", "gists_url": "https://api.github.com/users/Packetdancer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Packetdancer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Packetdancer/subscriptions", "organizations_url": "https://api.github.com/users/Packetdancer/orgs", "repos_url": "https://api.github.com/users/Packetdancer/repos", "events_url": "https://api.github.com/users/Packetdancer/events{/privacy}", "received_events_url": "https://api.github.com/users/Packetdancer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-10-21T15:29:47Z", "updated_at": "2018-10-22T02:36:19Z", "closed_at": "2018-10-22T02:36:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue\r\n\r\nIn `master` or `develop`, all Django calls from the server fail with a MemoryError down in `execute_sql`, specifically when calling `cursor.execute()` on macOS High Sierra.  \r\n\r\nOf note, the exact same calls seem to work from the portal, and in the test suites.\r\n\r\n#### Steps to reproduce the issue\r\n\r\nThis can be replicated with a completely clean Evennia install under Python 2.7.10 on macOS 10.13.6; merely set up a fresh virtualenv, check out `master`, initialize a new game, run `evennia migrate` and then `evennia start`.  \r\n\r\nThe normal setup process for creating the admin account will run, and then it promptly hangs when the server fails to launch.\r\n\r\n#### Details\r\n\r\nThis failure to launch is because an exception is thrown down in Django's SQL compiler; when it tries to execute_sql it explodes with a MemoryError like so:\r\n\r\n```\r\n\t  File \"/Users/pax/Source/Evennia/evennia/evennia/server/server.py\", line 281, in run_initial_setup\r\n\t    last_initial_setup_step = ServerConfig.objects.conf('last_initial_setup_step')\r\n\t  File \"/Users/pax/Source/Evennia/evennia/evennia/server/manager.py\", line 50, in conf\r\n\t    if not conf:\r\n\t  File \"/Users/pax/Source/Evennia/py-evennia/lib/python2.7/site-packages/django/db/models/query.py\", line 258, in __nonzero__\r\n\t    return type(self).__bool__(self)\r\n\t  File \"/Users/pax/Source/Evennia/py-evennia/lib/python2.7/site-packages/django/db/models/query.py\", line 254, in __bool__\r\n\t    self._fetch_all()\r\n\t  File \"/Users/pax/Source/Evennia/py-evennia/lib/python2.7/site-packages/django/db/models/query.py\", line 1121, in _fetch_all\r\n\t    self._result_cache = list(self._iterable_class(self))\r\n\t  File \"/Users/pax/Source/Evennia/py-evennia/lib/python2.7/site-packages/django/db/models/query.py\", line 53, in __iter__\r\n\t    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)\r\n\t  File \"/Users/pax/Source/Evennia/py-evennia/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 899, in execute_sql\r\n\t    raise original_exception\r\n\texceptions.MemoryError:\r\n```\r\n\r\nAt first I thought something might be wrong with my computer given the errors, but an old branch of Evennia from April (which I was using by mistake for one of my local code sandboxes) still runs perfectly fine.\r\n\r\nIt's worth noting that `last_initial_setup_step` is not the first thing we query in conf(); the query for `gametime_offset` (from within the portal) works properly; it detects that there's nothing there and uses the default.  \r\n\r\nIndeed, all the Django queries that happen from the Portal side seem to work properly.  So the issue doesn't appear to be either Django itself or sqlite.\r\n\r\nAnd, irritatingly, the entire test suite for Evennia itself passes without issue; all Django calls work perfectly there.\r\n\r\nSo it appears to be something in how the server process (specifically) is using Django on macOS (specifically) that causes this issue; if I add additional Django queries (even just trying to `get()` Player ID 1) in the server, the error also crops up; if I add tests that query Django, however, they seem to work fine in test mode.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/65052801-server-fails-to-launch-on-macos?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1687", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1687/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1687/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1687/events", "html_url": "https://github.com/evennia/evennia/issues/1687", "id": 369864907, "node_id": "MDU6SXNzdWUzNjk4NjQ5MDc=", "number": 1687, "title": "Bug with spawn permissions", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-14T03:52:25Z", "updated_at": "2018-11-02T18:48:28Z", "closed_at": "2018-10-26T18:47:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nMany things with spawn appear to be broken when using them below superuser permissions.\r\n\r\nAt first I thought it was just spawn/list, but it appears that other switches are affected.\r\n(All commands are run with developer permissions)\r\nSpawn/list - returns nothing\r\nspawn/search <key> - returns nothing\r\nspawn <prototype> - You don't have access to use this prototype.\r\nspawn/show <prototype> - works as expected\r\n\r\nAll my prototypes are from modules, not saved in game.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1687/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1684", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1684/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1684/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1684/events", "html_url": "https://github.com/evennia/evennia/issues/1684", "id": 369824057, "node_id": "MDU6SXNzdWUzNjk4MjQwNTc=", "number": 1684, "title": "Spawn - not all switches work", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-13T17:39:37Z", "updated_at": "2018-11-03T00:08:54Z", "closed_at": "2018-10-26T22:44:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nEdit and examine are listed as switches of spawn in the command's help but don't function.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. help spawn (examine and edit) are listed as switches\r\n2. spawn/edit returns \"spawn: Extra switch \"/edit\" ignored\" and gives usage message\r\n3. same for spawn/examine", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1683", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1683/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1683/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1683/events", "html_url": "https://github.com/evennia/evennia/issues/1683", "id": 369762715, "node_id": "MDU6SXNzdWUzNjk3NjI3MTU=", "number": 1683, "title": "Webclient: help popup not working", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-13T03:35:23Z", "updated_at": "2019-08-14T19:07:10Z", "closed_at": "2019-08-14T19:07:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nTyping help in game (with the \"Open help in popup window \" option enabled) doesn't actually open a popup.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/64679436-webclient-help-popup-not-working?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1683/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1680", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1680/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1680/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1680/events", "html_url": "https://github.com/evennia/evennia/issues/1680", "id": 367846695, "node_id": "MDU6SXNzdWUzNjc4NDY2OTU=", "number": 1680, "title": "Server still logging after evennia stop", "user": {"login": "cwingho", "id": 42637621, "node_id": "MDQ6VXNlcjQyNjM3NjIx", "avatar_url": "https://avatars.githubusercontent.com/u/42637621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwingho", "html_url": "https://github.com/cwingho", "followers_url": "https://api.github.com/users/cwingho/followers", "following_url": "https://api.github.com/users/cwingho/following{/other_user}", "gists_url": "https://api.github.com/users/cwingho/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwingho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwingho/subscriptions", "organizations_url": "https://api.github.com/users/cwingho/orgs", "repos_url": "https://api.github.com/users/cwingho/repos", "events_url": "https://api.github.com/users/cwingho/events{/privacy}", "received_events_url": "https://api.github.com/users/cwingho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-08T15:37:28Z", "updated_at": "2019-03-31T19:26:50Z", "closed_at": "2019-03-31T19:26:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### 1. Brief summary of issue / Description of requested feature:\r\nAfter execute evennia stop, a python program still writing the **yourmud/server/logs/server.log** file. It seems that the amp_client.py (**/evennia/server/amp_client.py**) still running after shutting down the server.\r\n\r\n#### 2. Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. cmd evennia start\r\n2. cmd evennia stop\r\n\r\n#### 3. Error output / Expected result of feature\r\n**yourmud/server/logs/server.log**\r\n```\r\n18-10-08 15:10:48 [..] Server disconnected from the portal.\r\n18-10-08 15:10:50 Attempting to reconnect to Portal ...\r\n18-10-08 15:10:52 Attempting to reconnect to Portal ...\r\n18-10-08 15:10:56 Attempting to reconnect to Portal ...\r\n18-10-08 15:11:01 Attempting to reconnect to Portal ...\r\n18-10-08 15:11:09 Attempting to reconnect to Portal ...\r\n18-10-08 15:11:19 Attempting to reconnect to Portal ...\r\n18-10-08 15:11:27 Attempting to reconnect to Portal ...\r\n18-10-08 15:11:39 Attempting to reconnect to Portal ...\r\n18-10-08 15:11:51 Attempting to reconnect to Portal ...\r\n18-10-08 15:12:00 Attempting to reconnect to Portal ...\r\n18-10-08 15:12:10 Attempting to reconnect to Portal ...\r\n18-10-08 15:12:24 Attempting to reconnect to Portal ...\r\n18-10-08 15:12:33 Attempting to reconnect to Portal ...\r\n```\r\n\r\n#### 4. Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEnvironment: OSX High Sierra 10.13.4\r\nCurrent solution: kill the python process manually\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/64446668-server-still-logging-after-evennia-stop?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1679", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1679/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1679/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1679/events", "html_url": "https://github.com/evennia/evennia/issues/1679", "id": 367586178, "node_id": "MDU6SXNzdWUzNjc1ODYxNzg=", "number": 1679, "title": "AMP Error for MsgPortal2Server", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-07T19:38:04Z", "updated_at": "2019-03-31T19:28:46Z", "closed_at": "2019-03-31T19:28:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nOccasionally get the following message:\r\nAMP Error for MsgPortal2Server: (\"UNHANDLED, u\"Unhandled Command: 'MsgPortal2Server'\"\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Seems to be after reloading, when the reload takes a very long time\r\n\r\n#### Error output / Expected result of feature\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI know I've seen it on my Windosw server, not sure about the Linux one. Will update if I keep seeing it.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/64411119-amp-error-for-msgportal2server?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1663", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1663/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1663/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1663/events", "html_url": "https://github.com/evennia/evennia/issues/1663", "id": 363292394, "node_id": "MDU6SXNzdWUzNjMyOTIzOTQ=", "number": 1663, "title": "error in scripts with repeats = 1", "user": {"login": "kaleara", "id": 38018075, "node_id": "MDQ6VXNlcjM4MDE4MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/38018075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleara", "html_url": "https://github.com/kaleara", "followers_url": "https://api.github.com/users/kaleara/followers", "following_url": "https://api.github.com/users/kaleara/following{/other_user}", "gists_url": "https://api.github.com/users/kaleara/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleara/subscriptions", "organizations_url": "https://api.github.com/users/kaleara/orgs", "repos_url": "https://api.github.com/users/kaleara/repos", "events_url": "https://api.github.com/users/kaleara/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-09-24T19:42:59Z", "updated_at": "2018-11-03T14:32:11Z", "closed_at": "2018-10-27T17:09:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen creating custom scripts I cannot set repeats = 1 or it crashes.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. create script below\r\n```\r\nclass TestScript(DefaultScript):\r\n    def at_script_creation(self):\r\n        self.key = 'testing_script'\r\n        self.interval = 10\r\n        self.repeats = 1\r\n        self.persistent = False\r\n```\r\n\r\n2. apply in game either through create_script or @scripts command\r\n\r\n#### Error output / Expected result of feature\r\n```\r\nTraceback (most recent call last):\r\n  File \"f:\\repositories\\evennia\\evennia\\commands\\cmdhandler.py\", line 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"f:\\repositories\\evennia\\evennia\\commands\\default\\building.py\", line 2504, in func\r\n    ok = obj.scripts.add(self.rhs, autostart=True)\r\n  File \"f:\\repositories\\evennia\\evennia\\scripts\\scripthandler.py\", line 78, in add\r\n    autostart=autostart)\r\n  File \"f:\\repositories\\evennia\\evennia\\utils\\create.py\", line 217, in create_script\r\n    new_script.save()\r\n  File \"f:\\repositories\\evennia\\evennia\\utils\\idmapper\\models.py\", line 413, in save\r\n    _MONITOR_HANDLER.at_update(self, fieldname)\r\n  File \"f:\\repositories\\evennia\\evennia\\scripts\\monitorhandler.py\", line 99, in at_update\r\n    if obj in self.monitors and fieldname in self.monitors[obj]:\r\n  File \"f:\\repositories\\pyenv\\Lib\\site-packages\\django\\db\\models\\base.py\", line 615, in __hash__\r\n    raise TypeError(\"Model instances without primary key value are unhashable\")\r\nTypeError: Model instances without primary key value are unhashable\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nHappens when game is hosted on Windows and LInux. Same error happened when I tried to manually stop the script using at_repeat when repeats was greater than 1. Doesn't happen if start_delay is used in at_script_creation.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1662", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1662/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1662/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1662/events", "html_url": "https://github.com/evennia/evennia/issues/1662", "id": 362890941, "node_id": "MDU6SXNzdWUzNjI4OTA5NDE=", "number": 1662, "title": "[bug] Development interactive mode restart leads to None-location for characters", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-22T21:08:18Z", "updated_at": "2018-09-30T13:07:01Z", "closed_at": "2018-09-30T13:01:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWith a running server, restarting the server in interactive mode with `evennia istart` will currently trigger a `reset`-style restart. The problem with this is that characters will come back with a `None`-location, probably since their reconnect hooks are not properly called.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Start server normally, connect with a Character\r\n2. Run `evennia istart` from terminal\r\n3. Character is now in a `None` location and needs to teleport manually to a room.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nLocation should be retained also with an interactive restart. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1656", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1656/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1656/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1656/events", "html_url": "https://github.com/evennia/evennia/issues/1656", "id": 359348376, "node_id": "MDU6SXNzdWUzNTkzNDgzNzY=", "number": 1656, "title": "Starting evennia with an error on the portal", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-12T07:25:45Z", "updated_at": "2018-09-22T21:31:39Z", "closed_at": "2018-09-22T21:26:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen starting evennia, if a fatal error happens while the portal loads, not only does Evennia hang, but no error is reported (on Windows?).\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a fresh Python environment (with just the Evennia requirements, obtained while `pip install -e evennia`).\r\n2. Install a fresh game (`evennia --init mygame`).\r\n3. After running the migration, try to change the `SSL_ENABLED` settings from `False` to `True`. This requires additional packages that are not installed by default.\r\n4. Try to start Evennia.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nNone, which is the problem. The portal tries to start... and hangs some time later. The log files are completely empty/non-inexistent.\r\n\r\nThe error (regarding, in this case, the need for `pyopenssl`) isn't printed out.  One has to install `pyopenssl`.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n- Evennia develop.\r\n- Windows OS.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1656/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1647", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1647/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1647/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1647/events", "html_url": "https://github.com/evennia/evennia/issues/1647", "id": 351896917, "node_id": "MDU6SXNzdWUzNTE4OTY5MTc=", "number": 1647, "title": "OLC: Errors in prototype updating menu", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-19T11:53:26Z", "updated_at": "2018-09-30T13:07:01Z", "closed_at": "2018-09-30T13:01:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue \r\nThe OLC prototype updating menu screen (for updating existing objects) is suffering from a few problems: \r\n- The diff does not consider individual aliases/attributes/tags but requires acceprint/keeping/removing all at the same time.\r\n- The diff KEEP options are not properly numbered. \r\n- The Location should not be treated as different if it was adjusted in the spawn options.\r\n- Old single-use Attributes are not properly converted for the internal representation.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Run OLC, spawn entity with already existing objects using that prototype. \r\n2. Select to update existing objects.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThe diff operations should assign individual diffs for all list-stored entities, properly display them etc.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nDevelop branch.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1644", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1644/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1644/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1644/events", "html_url": "https://github.com/evennia/evennia/issues/1644", "id": 350305998, "node_id": "MDU6SXNzdWUzNTAzMDU5OTg=", "number": 1644, "title": "copy_object copies attributes, cmdsets and scripts - but not tags", "user": {"login": "FatherGrishnak", "id": 42367299, "node_id": "MDQ6VXNlcjQyMzY3Mjk5", "avatar_url": "https://avatars.githubusercontent.com/u/42367299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FatherGrishnak", "html_url": "https://github.com/FatherGrishnak", "followers_url": "https://api.github.com/users/FatherGrishnak/followers", "following_url": "https://api.github.com/users/FatherGrishnak/following{/other_user}", "gists_url": "https://api.github.com/users/FatherGrishnak/gists{/gist_id}", "starred_url": "https://api.github.com/users/FatherGrishnak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FatherGrishnak/subscriptions", "organizations_url": "https://api.github.com/users/FatherGrishnak/orgs", "repos_url": "https://api.github.com/users/FatherGrishnak/repos", "events_url": "https://api.github.com/users/FatherGrishnak/events{/privacy}", "received_events_url": "https://api.github.com/users/FatherGrishnak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-14T07:09:44Z", "updated_at": "2018-08-16T19:11:33Z", "closed_at": "2018-08-16T19:06:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nUsing copy_object from [https://github.com/evennia/evennia/wiki/evennia.objects.manager](https://github.com/evennia/evennia/wiki/evennia.objects.manager)\r\n\r\n> copy_object(self, original_object, new_key=None, new_location=None, \\\r\n>     new_home=None, new_permissions=None, new_locks=None, \\\r\n>     new_aliases=None, new_destination=None)\r\n> \r\n>     Create and return a new object as a copy of the original object. All will be identical to the original except for the arguments given specifically to this method.\r\n> \r\n\r\nOriginal object has _tags_. Copy created does _not_ .\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Run this batchcode:\r\n\r\n```\r\n\r\n\r\n#\r\n    \r\n#HEADER\r\n    \r\n# This will be included in all other #CODE blocks\r\n    \r\nfrom evennia.utils import create, search\r\nfrom typeclasses.objects import Object\r\nfrom evennia.objects.models import ObjectDB\r\n    \r\n    \r\n#CODE \r\n\r\nitem = create.create_object('typeclasses.objects.Object', key='item')\r\n\r\nitem.tags.add(\"some_tag\")\r\nitem.db.someattr = \"someattr\"\r\n\r\nnewitem = ObjectDB.objects.copy_object(item, new_key=\"newitem\")\r\n\r\ncaller.msg(\"\\n\" + \"item attribute: \" + str(item.db.someattr) + \"; item tags: \" + str(item.tags.get()) + \"\\n\")\r\ncaller.msg(\"\\n\" + \"new item attribute: \" + str(newitem.db.someattr) + \" ; new item tags: \" + str(newitem.tags.get()) + \"\\n\")\r\n```\r\n\r\n\r\n#### Error output / Expected result of feature\r\n\r\n@batchcode test\r\nRunning Batch-code processor - Automatic mode for test ...01/02:\r\n02/02: item = create.create_object('typeclasses.objects.Object[...]\r\n\r\nitem attribute: someattr ; new item tags: some_tag\r\n\r\nnew item attribute: someattr ; new item tags: None\r\nEnd of batch file.  Batchfile 'test' applied.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nLatest stable, running on a Raspberry Pi 3, OS is raspbian stretch, python 2.7.13\r\n\r\nI believe copying tags was/should be the intended behaviour.\r\n\r\nIf copy_objects is reviewed, I am less certain of what should happen to object.contents.\r\n\r\n- Should each object in contents be duplicated, recursively?\r\n- If no, should there be an optional parameter to switch this behaviour on?\r\n- If neither, should there be a comment in the source to that effect?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1636", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1636/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1636/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1636/events", "html_url": "https://github.com/evennia/evennia/issues/1636", "id": 343413545, "node_id": "MDU6SXNzdWUzNDM0MTM1NDU=", "number": 1636, "title": "Connection lost when exceeding `amp.MAX_VALUE_LENGTH` sends", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-22T15:11:09Z", "updated_at": "2018-07-24T00:42:02Z", "closed_at": "2018-07-23T20:50:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen sending a data packet that on its own is larger than the `amp.MAX_VALUE_LENGTH` constant (65535), the AMP data connection is lost. On some implementations the puppeting is lost by this, leading to OOC accounts (the Portal connection is not lost). \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nThis is tested with the webclient. \r\n\r\n1. Introduce a test command that sends random data packets (to avoid gzip optimization) and add to the default cmdset: \r\n\r\n```python\r\nclass CmdSendBig(BaseCommand):\r\n    \"\"\"\r\n    Usage:\r\n        sendbigdata <N>\r\n\r\n    Send random block of N chars to portal. <N> is given in thousands of characters.\r\n\r\n    \"\"\"\r\n    key = \"sendbigdata\"\r\n\r\n    def func(self):\r\n\r\n        if not self.args:\r\n            self.caller.msg(\"Usage: sendbigdata <N>\")\r\n            return\r\n\r\n        try:\r\n            N = int(self.args)\r\n        except ValueError:\r\n            self.caller.msg(\"{} must be an integer.\".format(self.args))\r\n            return\r\n        N *= 1000\r\n        bigdata = ''.join(random.choice(string.ascii_uppercase + string.digits) for _ in range(N))\r\n        self.caller.msg(\"Sending random string data of size {} chars to client ...\".format(N))\r\n        self.caller.msg(testdata=(bigdata, {}))\r\n        self.caller.msg(\"... sent.\")\r\n```\r\n2. Add a receiver of the `testdata` message type in the webclient's `webclient_gui.js` and collect the static files to make sure it's active:\r\n\r\n```javascript\r\nfunction onTestData(args, kwargs) {\r\n     var mwin = $(\"#messagewindow\");\r\n     mwin.append(\r\n         \"<div class='msg err'>\"\r\n         + \"Received data block.\"\r\n         +\"</div>\");\r\n     mwin.scrollTop(mwin[0].scrollHeight);\r\n}\r\n\r\n[...]\r\n\r\n Evennia.emitter.on(\"testdata\", onTestData);\r\n```\r\n3. Restart server/portal and call `sendbigdata 65` (works) and then `sendbigdata 66`, which triggers the error.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nExceeding `amp.MAX_VALUE_LENGTH` causes the AMP connection to drop and confuses the server/portal to think characters are disconnecting when they are not. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe `amp.MAX_VALUE_LENGTH` limit of AMP is well known and we have a custom amp protocol implementation which intends to handle it by splitting the message into smaller chunks and send those in sequence. Clearly something is going wrong with this automatic splitting. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1636/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1635", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1635/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1635/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1635/events", "html_url": "https://github.com/evennia/evennia/issues/1635", "id": 341731478, "node_id": "MDU6SXNzdWUzNDE3MzE0Nzg=", "number": 1635, "title": "Error calling server command", "user": {"login": "inquisitivecrystal", "id": 22333129, "node_id": "MDQ6VXNlcjIyMzMzMTI5", "avatar_url": "https://avatars.githubusercontent.com/u/22333129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inquisitivecrystal", "html_url": "https://github.com/inquisitivecrystal", "followers_url": "https://api.github.com/users/inquisitivecrystal/followers", "following_url": "https://api.github.com/users/inquisitivecrystal/following{/other_user}", "gists_url": "https://api.github.com/users/inquisitivecrystal/gists{/gist_id}", "starred_url": "https://api.github.com/users/inquisitivecrystal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inquisitivecrystal/subscriptions", "organizations_url": "https://api.github.com/users/inquisitivecrystal/orgs", "repos_url": "https://api.github.com/users/inquisitivecrystal/repos", "events_url": "https://api.github.com/users/inquisitivecrystal/events{/privacy}", "received_events_url": "https://api.github.com/users/inquisitivecrystal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-17T01:19:43Z", "updated_at": "2018-07-31T09:52:31Z", "closed_at": "2018-07-31T09:47:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nAn exception is thrown whenever I call `@server`.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Log in normally\r\n2. Enter the command `@server`\r\n\r\n#### Error output / Expected result of feature\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/src/evennia/evennia/commands/cmdhandler.py\", line 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"/usr/src/evennia/evennia/commands/default/system.py\", line 769, in func\r\n    rmem = float(os.popen('ps -p %d -o %s | tail -1' % (pid, \"rss\")).read()) / 1000.0  # resident \r\nmemory\r\nValueError: could not convert string to float: \r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 2018-07-17 01:10:38-0000).\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI'm running this in a docker container on Mac OS, using the `evennia/evennia` image as a base. The same error occurs for `@server/mem` and `@serverprocess`.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1629", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1629/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1629/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1629/events", "html_url": "https://github.com/evennia/evennia/issues/1629", "id": 330992429, "node_id": "MDU6SXNzdWUzMzA5OTI0Mjk=", "number": 1629, "title": "Command-unittests swallow tracebacks", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-10T18:45:18Z", "updated_at": "2018-09-30T13:06:59Z", "closed_at": "2018-09-30T13:01:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen using Evennia's `CommandTest` parent and the `call` helper, it's sometimes not too helpful about tracebacks caused by the Command body.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Run unit test using `CommandTest.call` on `Command` with a runtime bug in it.\r\n2. The test fails, but no useful traceback is shown.\r\n3. Echoing the same command input in-game shows the traceback.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThe traceback should be shown as part of the unittest failure. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nTested on `develop` branch. This appears to be a regression, `TestCommand.call` didn't use to hide tracebacks like this. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1629/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1624", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1624/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1624/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1624/events", "html_url": "https://github.com/evennia/evennia/issues/1624", "id": 327547700, "node_id": "MDU6SXNzdWUzMjc1NDc3MDA=", "number": 1624, "title": "SaverList __add__ changes SaverList in place", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-30T02:11:47Z", "updated_at": "2018-06-12T17:00:46Z", "closed_at": "2018-06-12T17:00:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSo the expected behavior for adding two lists together with the `+` operator is to add the two lists together and to return the new list. But if one of the lists is a list in an Attribute, the original list gets the result of the operation - it becomes an in-place add.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `@py self.db.my_list_test = []`\r\n2. `@py 5 in self.db.my_list_test + [5]`\r\n3. `@py self.db.my_list_test`\r\n\r\n#### Error output / Expected result of feature\r\n`seldf.db.my_list_test` now contains the result of adding the lists together. I discovered this through something similar - adding a number of lists together in order to do an `in` check, and the first attribute acquired the result of adding them together.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nMaster branch", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1611", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1611/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1611/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1611/events", "html_url": "https://github.com/evennia/evennia/issues/1611", "id": 316469645, "node_id": "MDU6SXNzdWUzMTY0Njk2NDU=", "number": 1611, "title": "Develop-branch needs to run `collectstatic`", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-21T07:21:18Z", "updated_at": "2018-08-16T19:06:44Z", "closed_at": "2018-08-16T19:01:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen starting a new server on `develop` branch, the `evennia collectstatic` command is not run, meaning data like webclient updates are not available. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create new game with `develop` branch.\r\n2. Access webclient, see missing CSS and other static files.\r\n3. Resolve issues by running `evennia collectstatic` manually.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nIt's confusing to not get the latest static data when initializing a new game. There could also be an argument for running this command on a cold restart. Not sure if that would be an issue with people having custom static data (they would be over-written I think). \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThis should probably go in the `initial_startup` system. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1605", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1605/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1605/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1605/events", "html_url": "https://github.com/evennia/evennia/issues/1605", "id": 310532201, "node_id": "MDU6SXNzdWUzMTA1MzIyMDE=", "number": 1605, "title": "Python basic tutorial part two - \"type\" command output not as described from the webclient.", "user": {"login": "MichaelDays", "id": 13177547, "node_id": "MDQ6VXNlcjEzMTc3NTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/13177547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelDays", "html_url": "https://github.com/MichaelDays", "followers_url": "https://api.github.com/users/MichaelDays/followers", "following_url": "https://api.github.com/users/MichaelDays/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelDays/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelDays/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelDays/subscriptions", "organizations_url": "https://api.github.com/users/MichaelDays/orgs", "repos_url": "https://api.github.com/users/MichaelDays/repos", "events_url": "https://api.github.com/users/MichaelDays/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelDays/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-02T16:29:35Z", "updated_at": "2019-06-29T18:13:54Z", "closed_at": "2019-06-29T18:13:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen working through Python basic tutorial part two, I noticed the `type` commands do not output expected feedback when invoked from the webclient.\r\n\r\nhttps://github.com/evennia/evennia/wiki/Python-basic-tutorial-part-two\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Sign on to web portal as admin account, select \"Play Online\" \r\n2. `@py type(me)`\r\n\r\n#### Error output / Expected result of feature\r\n`>>> type(me)`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nIf connected via tinyfugue, output is displayed as described in the tutorial.\r\n\r\n```\r\n>>> type(me)\r\n<class 'typeclasses.characters.Character'>\r\n```\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/56512463-python-basic-tutorial-part-two-type-command-output-not-as-described-from-the-webclient?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1600", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1600/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1600/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1600/events", "html_url": "https://github.com/evennia/evennia/issues/1600", "id": 309657941, "node_id": "MDU6SXNzdWUzMDk2NTc5NDE=", "number": 1600, "title": "Develop: A blocking error on startup will create an infinite loop in the launcher", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-29T08:07:53Z", "updated_at": "2018-08-19T13:46:17Z", "closed_at": "2018-08-19T13:41:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen there's a SyntaxError, NameError, or another exception that prevents the game from loading, the launcher just sits and no error appears.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a new empty game structure with `evennia --init mygame`, `evennia migrate` and a first `evennia start / stop`.\r\n2. Change a file so it will create a blocking error like a SyntaxError.\r\n3. Launch Evennia with `evennia start`.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nNone.  The server is still loading and it keeps on trying.\r\n\r\n    Server starting  ...\r\n\r\nThe console doesn't return.  Worse, nothing appears in any of the log files.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n- Evennia develop.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1599", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1599/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1599/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1599/events", "html_url": "https://github.com/evennia/evennia/issues/1599", "id": 308876550, "node_id": "MDU6SXNzdWUzMDg4NzY1NTA=", "number": 1599, "title": "Windows path with \\x causing migration issues", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-03-27T08:49:08Z", "updated_at": "2019-06-29T18:14:00Z", "closed_at": "2019-06-29T18:14:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nA user reported an issue on Windows when installing Evennia and running the `migrate` step. The name of the folder was `xavierpc`. Since Windows uses backslashes for paths, this apparently caused the initial `\\x` in `...\\xavierpc` to be interpreted as a character. The user also had a Japanese locale, it's unclear if this had an effect. Installing Evennia in a different-named folder worked correctly. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Run installation, install in a folder starting with `x` ?  \r\n\r\n#### Error output / Expected result of feature\r\n\r\n```\r\n(pyenv) C:\\Users\\xavierpc\\Documents\\GitHub\\MUD\\darkmud>evennia migrate\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\pyenv\\Scripts\\evennia_launcher.py\", line 6, in <module>\r\n    exec(compile(open(__file__).read(), __file__, 'exec'))\r\n  File \"C:\\Users\\xavierpc\\Documents\\GitHub\\MUD\\evennia\\bin\\windows\\evennia_launcher.py\", line 17, in <module>\r\n    main()\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\evennia\\evennia\\server\\evennia_launcher.py\", line 1320, in main\r\n    init_game_directory(CURRENT_DIR, check_db=check_db)\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\evennia\\evennia\\server\\evennia_launcher.py\", line 855, in init_game_direc\r\ntory\r\n    django.setup()\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\pyenv\\Lib\\site-packages\\django\\__init__.py\", line 22, in setup\r\n    configure_logging(settings.LOGGING_CONFIG, settings.LOGGING)\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\pyenv\\Lib\\site-packages\\django\\conf\\__init__.py\", line 56, in __getattr__\r\n \r\n    self._setup(name)\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\pyenv\\Lib\\site-packages\\django\\conf\\__init__.py\", line 41, in _setup\r\n    self._wrapped = Settings(settings_module)\r\n  File \"c:\\users\\xavierpc\\documents\\github\\mud\\pyenv\\Lib\\site-packages\\django\\conf\\__init__.py\", line 110, in __init__\r\n    mod = importlib.import_module(self.SETTINGS_MODULE)\r\n  File \"C:\\Users\\xavierpc\\AppData\\Roaming\\Python\\Python27\\Lib\\importlib\\__init__.py\", line 37, in import_module\r\n    __import__(name)\r\nValueError: invalid \\x escape\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nIt's unclear if this is a Django or Evennia issue - the error appears in the Django initialization step but it might be that Evennia converts to a binary string or simular before. \r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/57269764-windows-path-with-x-causing-migration-issues?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1595", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1595/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1595/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1595/events", "html_url": "https://github.com/evennia/evennia/issues/1595", "id": 306948352, "node_id": "MDU6SXNzdWUzMDY5NDgzNTI=", "number": 1595, "title": "Message is not spelled 'messsage' ", "user": {"login": "taladan", "id": 2736361, "node_id": "MDQ6VXNlcjI3MzYzNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2736361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taladan", "html_url": "https://github.com/taladan", "followers_url": "https://api.github.com/users/taladan/followers", "following_url": "https://api.github.com/users/taladan/following{/other_user}", "gists_url": "https://api.github.com/users/taladan/gists{/gist_id}", "starred_url": "https://api.github.com/users/taladan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taladan/subscriptions", "organizations_url": "https://api.github.com/users/taladan/orgs", "repos_url": "https://api.github.com/users/taladan/repos", "events_url": "https://api.github.com/users/taladan/events{/privacy}", "received_events_url": "https://api.github.com/users/taladan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700730365, "node_id": "MDU6TGFiZWw3MDA3MzAzNjU=", "url": "https://api.github.com/repos/evennia/evennia/labels/documentation", "name": "documentation", "color": "bfd4f2", "default": true, "description": "Issue with wiki or docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-20T16:44:38Z", "updated_at": "2018-09-30T13:07:02Z", "closed_at": "2018-09-30T13:01:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/evennia/evennia/blob/b3e97b5c3d8f094bc4853b51423460b33d89da98/evennia/comms/models.py#L110\r\n\r\nNot sure how this mis-spelling impacts the code yet, still digging through it.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1593", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1593/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1593/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1593/events", "html_url": "https://github.com/evennia/evennia/issues/1593", "id": 306535541, "node_id": "MDU6SXNzdWUzMDY1MzU1NDE=", "number": 1593, "title": "Startup issues on first start of develop-branch game", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-19T16:27:10Z", "updated_at": "2018-09-30T13:06:59Z", "closed_at": "2018-09-30T13:01:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen creating a new game folder with `evennia init` and then do `evennia start` in the `develop` branch there are some issues: \r\n\r\n- After creating the superuser, the server does not appear to automatically recover after its first reboot, so one needs to manually run `evennia start` a second time to get the server up and running.\r\n- No static files are automatically transferred, leading to problems running the website/webclient. Normally `evennia collectstatic` is expected to run automatically. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. In develop branch, initialize a game dir, create db and start game. \r\n\r\n#### Error output / Expected result of feature\r\n\r\nThis should behave the same way as in `master` branch. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe failure to reboot is likely just due to not properly initiating said reboot under the new launch mechanism. The lack of `collectstatic` is probably related to the `initial_setup` behaving differently with the `develop` branch changes.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1593/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1582", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1582/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1582/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1582/events", "html_url": "https://github.com/evennia/evennia/issues/1582", "id": 302001039, "node_id": "MDU6SXNzdWUzMDIwMDEwMzk=", "number": 1582, "title": "Tables bug report", "user": {"login": "taladan", "id": 2736361, "node_id": "MDQ6VXNlcjI3MzYzNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2736361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taladan", "html_url": "https://github.com/taladan", "followers_url": "https://api.github.com/users/taladan/followers", "following_url": "https://api.github.com/users/taladan/following{/other_user}", "gists_url": "https://api.github.com/users/taladan/gists{/gist_id}", "starred_url": "https://api.github.com/users/taladan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taladan/subscriptions", "organizations_url": "https://api.github.com/users/taladan/orgs", "repos_url": "https://api.github.com/users/taladan/repos", "events_url": "https://api.github.com/users/taladan/events{/privacy}", "received_events_url": "https://api.github.com/users/taladan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-03T14:14:47Z", "updated_at": "2019-06-29T16:49:20Z", "closed_at": "2019-06-29T16:49:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "`border_bottom_char` appears to be over-riding `header_line_char` on table output.\r\nWhen there is no `border_bottom_char`, the table object appears to use header_line_char as a fallback if it's set.\r\n\r\n\r\nwith `border_bottom_char=\"\u2550\"`\r\nand `header_line_char=\"-\"`\r\n```\r\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\r\n\u2551 Bucket     Flags                                Description  # Jobs  Pct  C  A  D  Due      ARTS \u2551\r\n\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563\r\n\u2551 Code                   This bucket holds Code related jobs.    None   0%  0  0  0  0           0 \u2551\r\n\u2551 RP                                         RP related jobs.    None   0%  0  0  0  0           0 \u2551\r\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\r\n\r\n```\r\nwith `header_line_char='-'`\r\nand `border_bottom_char` commented out completely this is how it displays\r\n```\r\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\r\n\u2551 Bucket     Flags                                Description  # Jobs  Pct  C  A  D  Due      ARTS \u2551\r\n\u2560--------------------------------------------------------------------------------------------------\u2563\r\n\u2551 Code                   This bucket holds Code related jobs.    None   0%  0  0  0  0           0 \u2551\r\n\u2551 RP                                         RP related jobs.    None   0%  0  0  0  0           0 \u2551\r\n\u255a--------------------------------------------------------------------------------------------------\u255d\r\n```\r\n\r\n_(* Note:  I had to comment the table output due to the way the issue tracker in git displays stuff)_\r\n\r\nThe whole of the table configuration follows:\r\n\r\n```\r\nself.buckets_table = evtable.EvTable(\"Bucket\", \"Flags\", \"Description\", \"# Jobs\", \"Pct\", \"C\", \"A\", \"D\", \"Due\", \"ARTS\",\r\n                                             header=True,\r\n                                             border=\"table\",\r\n                                             header_line_char=\"-\",\r\n                                             width=100,\r\n                                             corner_top_left_char=\"\u2554\",\r\n                                             corner_top_right_char=\"\u2557\",\r\n                                             corner_bottom_left_char=\"\u255a\",\r\n                                             corner_bottom_right_char=\"\u255d\",\r\n                                             border_left_char=\"\u2551\",\r\n                                             border_right_char=\"\u2551\",\r\n                                             border_top_char=\"\u2550\",\r\n                                             # border_bottom_char=\"\u2550\",\r\n                                             )\r\n\r\n        self.buckets_table.reformat_column(0, width=12, align=\"l\")  # Bucket\r\n        self.buckets_table.reformat_column(1, width=7, align=\"c\")   # Flags\r\n        self.buckets_table.reformat_column(2, width=43, align=\"r\")  # Description\r\n        self.buckets_table.reformat_column(3, width=8, align=\"r\")   # Number of Jobs\r\n        self.buckets_table.reformat_column(4, width=5, align=\"r\")   # Percent completed\r\n        self.buckets_table.reformat_column(5, width=3, align=\"r\")   # Completion Board\r\n        self.buckets_table.reformat_column(6, width=3, align=\"r\")   # Approval Board\r\n        self.buckets_table.reformat_column(7, width=3, align=\"r\")   # Denial Board\r\n        self.buckets_table.reformat_column(8, width=8, align=\"l\")   # Due\r\n        self.buckets_table.reformat_column(9, width=8, align=\"r\")   # Average Resolution Times\r\n        self.buckets_table.table[0][0].reformat(corner_bottom_left_char='\u2560')\r\n        self.buckets_table.table[9][0].reformat(corner_bottom_right_char='\u2563')\r\n```\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/55747917-tables-bug-report?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1582/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1575", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1575/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1575/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1575/events", "html_url": "https://github.com/evennia/evennia/issues/1575", "id": 300017447, "node_id": "MDU6SXNzdWUzMDAwMTc0NDc=", "number": 1575, "title": "Batchcode doesn't appreciate utf-8 encoding in files", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-02-25T11:14:09Z", "updated_at": "2019-03-30T22:19:06Z", "closed_at": "2019-03-30T22:19:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen inserting special characters in utf-8 in a file that will be read by the batchcode parser, these characters are misinterpreted and stored inaccurately.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a batchcode file, not forgetting to put `# -*- coding: utf-8 -*-` in the header.\r\n2. Put some text with special characters (see demo below), making sure your editor is saving in utf-8.\r\n3. Apply the batchcode.  The batchcode is applied but the characters are not stored properly in utf-8.\r\n\r\n#### Demo file\r\n\r\n```# -*- coding: utf-8 -*-\r\n\r\n#HEADER\r\n\r\nfrom typeclasses.rooms import Room\r\ncenter = Room.objects.get(id=2)\r\n\r\n#CODE\r\n\r\ncenter.db.desc = \"voil\u00e0\"\r\n```\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThe fifth character of the room description in this demonstration file isn't stored as proper encoding and will not be sent properly to clients afterward.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n* Evennia: develop.\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/55478443-batchcode-doesn-t-appreciate-utf-8-encoding-in-files?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1573", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1573/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1573/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1573/events", "html_url": "https://github.com/evennia/evennia/issues/1573", "id": 297628579, "node_id": "MDU6SXNzdWUyOTc2Mjg1Nzk=", "number": 1573, "title": "Item still found in character contents cache after moving", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-15T23:03:31Z", "updated_at": "2019-03-31T20:32:40Z", "closed_at": "2019-03-31T20:32:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA player today opened a bug report in which two items were still in her inventory after moving them. Inspecting I did find two that were still in her inventory and her `contents_cache._pkcache` while their `db_location` was correctly set to the new place they were moved.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. No idea what caused it originally. Player put the items in the contents of another item. They showed in the new place, while still showed in her inventory. Checked both her contents cache and the location of the items to see the mismatch.\r\n2. The player retrieving the items and moving them out again did properly update her contents cache.\r\n\r\n#### Error output / Expected result of feature\r\nError was the character's contents cache not being properly updated after movement.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nOn master branch. I've seen this pop up once or twice before, but usually accompanied by error reports in a log of contents cache failing. No error reports here, just a stale contents cache.\r\n\r\nMy theory is that this could possibly be related to cache flushing, so may be related to #1354  - that somehow when she executed the command to move them, post-flush db_location retrieved a different character instance than her current one, and the wrong instance's contents_cache was updated: say `self.db_location` for updating the contents cache returns the new instance, while `self.caller` in command returned the old one, possibly?\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/55111863-item-still-found-in-character-contents-cache-after-moving?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1573/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1573/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1572", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1572/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1572/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1572/events", "html_url": "https://github.com/evennia/evennia/issues/1572", "id": 297232193, "node_id": "MDU6SXNzdWUyOTcyMzIxOTM=", "number": 1572, "title": "Inflect not pluralizing colored keys correctly", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-14T20:20:45Z", "updated_at": "2018-09-30T13:07:00Z", "closed_at": "2018-09-30T13:01:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThe `plural` functionality added in https://github.com/evennia/evennia/pull/1385 is using the `inflect` library to automate pluralization. This is however not correctly handling when color codes are added in the `get_display_name` stage.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Make an object's `get_display_name` return a colored key, like ` '|cChar|n'`. \r\n2. Add multiple such objects and view them in room.\r\n3. Inflect fails, \r\n\r\n#### Error output / Expected result of feature\r\n\r\nTraceback. See @BlauFeuer's pastebin of the error [here](https://pastebin.com/ZJHsdkwt).\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThis is due to the `inflect` library not being aware of color codes. Somehow this need to be handled for pluralization to work. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1572/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1570", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1570/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1570/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1570/events", "html_url": "https://github.com/evennia/evennia/issues/1570", "id": 296416667, "node_id": "MDU6SXNzdWUyOTY0MTY2Njc=", "number": 1570, "title": "at_msg_receive hook not firing when channel message received.", "user": {"login": "grungies1138", "id": 1909734, "node_id": "MDQ6VXNlcjE5MDk3MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1909734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grungies1138", "html_url": "https://github.com/grungies1138", "followers_url": "https://api.github.com/users/grungies1138/followers", "following_url": "https://api.github.com/users/grungies1138/following{/other_user}", "gists_url": "https://api.github.com/users/grungies1138/gists{/gist_id}", "starred_url": "https://api.github.com/users/grungies1138/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grungies1138/subscriptions", "organizations_url": "https://api.github.com/users/grungies1138/orgs", "repos_url": "https://api.github.com/users/grungies1138/repos", "events_url": "https://api.github.com/users/grungies1138/events{/privacy}", "received_events_url": "https://api.github.com/users/grungies1138/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-12T15:32:22Z", "updated_at": "2018-02-14T20:06:59Z", "closed_at": "2018-02-14T20:06:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI have an object that needs to do work when a message is received from a channel.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create test object with at_msg_receive hook.\r\n2. Add object to a channel\r\n3. send a message on that channel.\r\n\r\n#### Error output / Expected result of feature\r\nNothing happens when the channel sends a message to the object.  verified that the object is listed and highlighted for that specific channel in allcom who\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1569", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1569/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1569/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1569/events", "html_url": "https://github.com/evennia/evennia/issues/1569", "id": 296005207, "node_id": "MDU6SXNzdWUyOTYwMDUyMDc=", "number": 1569, "title": "allcom displays objects from derived classes", "user": {"login": "arumford", "id": 23032495, "node_id": "MDQ6VXNlcjIzMDMyNDk1", "avatar_url": "https://avatars.githubusercontent.com/u/23032495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arumford", "html_url": "https://github.com/arumford", "followers_url": "https://api.github.com/users/arumford/followers", "following_url": "https://api.github.com/users/arumford/following{/other_user}", "gists_url": "https://api.github.com/users/arumford/gists{/gist_id}", "starred_url": "https://api.github.com/users/arumford/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arumford/subscriptions", "organizations_url": "https://api.github.com/users/arumford/orgs", "repos_url": "https://api.github.com/users/arumford/repos", "events_url": "https://api.github.com/users/arumford/events{/privacy}", "received_events_url": "https://api.github.com/users/arumford/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-09T20:41:22Z", "updated_at": "2019-08-14T19:06:09Z", "closed_at": "2019-08-14T19:06:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI created a derived Class from Channel called Frequency (a class used for object to object communication) and they are being shown in allcom.  I do not want these channels to be directly subscribable.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create Channel derived class\r\n2. Create instance\r\n3. type allcom\r\n\r\n#### Error output / Expected result of feature\r\nShows derived channels\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nfilter out anything that is not a true Channel object.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/54863340-allcom-displays-objects-from-derived-classes?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1568", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1568/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1568/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1568/events", "html_url": "https://github.com/evennia/evennia/issues/1568", "id": 296004546, "node_id": "MDU6SXNzdWUyOTYwMDQ1NDY=", "number": 1568, "title": "allcom who crashes when non-Account objects are subscribers", "user": {"login": "arumford", "id": 23032495, "node_id": "MDQ6VXNlcjIzMDMyNDk1", "avatar_url": "https://avatars.githubusercontent.com/u/23032495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arumford", "html_url": "https://github.com/arumford", "followers_url": "https://api.github.com/users/arumford/followers", "following_url": "https://api.github.com/users/arumford/following{/other_user}", "gists_url": "https://api.github.com/users/arumford/gists{/gist_id}", "starred_url": "https://api.github.com/users/arumford/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arumford/subscriptions", "organizations_url": "https://api.github.com/users/arumford/orgs", "repos_url": "https://api.github.com/users/arumford/repos", "events_url": "https://api.github.com/users/arumford/events{/privacy}", "received_events_url": "https://api.github.com/users/arumford/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-02-09T20:38:53Z", "updated_at": "2019-06-29T18:14:07Z", "closed_at": "2019-06-29T18:14:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen a non-Account object is a subscriber to a channel, running allcom who generates the following error:\r\nAttributeError: '<subscriber type>' object has no attribute 'is_connected'\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. create Object\r\n2. add Object as a subscriber to a Channel\r\n3. type allcom who\r\n\r\n#### Error output / Expected result of feature\r\nAttributeError: '<subscriber type>' object has no attribute 'is_connected'\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nIn chat, Griatch thinks this might be a holdover from when Channels were Account-only.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/54863214-allcom-who-crashes-when-non-account-objects-are-subscribers?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1564", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1564/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1564/events", "html_url": "https://github.com/evennia/evennia/issues/1564", "id": 294285731, "node_id": "MDU6SXNzdWUyOTQyODU3MzE=", "number": 1564, "title": "Connected player spontaneously gained Unloggedin Cmdset", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-05T06:23:01Z", "updated_at": "2019-03-31T20:32:51Z", "closed_at": "2019-03-31T20:32:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI can't reproduce this at all, but a character who was already connected acquired the Unloggedin cmdset after a `@reload`. They could still move around and use any existing command from their other cmdsets, but `look` was replaced by UnconnectedLook which displayed the login screen, and they had the connect command.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Reloaded the server.\r\n2. The affected character hit look and saw the connection screen.\r\n3. They then thought they had been disconnected and tried to connect.\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/commands/cmdhandler.py\", line 591, in _run_command\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::]     ret = cmd.func()\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/commands/default/unloggedin.py\", line 212, in func\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::]     if _throttle(session, maxlim=5, timeout=5 * 60, storage=_LATEST_FAILED_LOGINS):\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/commands/default/unloggedin.py\", line 56, in _throttle\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::]     address = session.address\r\n2018-02-05 00:44:31-0500 [AMPProtocol,0,127.0.0.1] [::] AttributeError: 'Character' object has no attribute 'address'\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis was so utterly bizarre, but I thought it might in some way be related to other bugs that involve loss of cmdsets when the portal has some error. Hopefully resolved by new develop branch changes.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/54637077-connected-player-spontaneously-gained-unloggedin-cmdset?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1562", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1562/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1562/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1562/events", "html_url": "https://github.com/evennia/evennia/issues/1562", "id": 292865537, "node_id": "MDU6SXNzdWUyOTI4NjU1Mzc=", "number": 1562, "title": "Webclient refresh leads to many sessions", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-01-30T17:15:30Z", "updated_at": "2019-06-29T16:49:23Z", "closed_at": "2019-06-29T16:49:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nOn the current Develop branch, refreshing while logged in on the webclient opens another session.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Connect to an instance of Evennia, for instance https://ainneve.evennia.com\r\n2. Login via the webclient\r\n3. Refresh the page\r\n\r\n#### Error output / Expected result of feature\r\nYou will end up in a new session, but also still connected to the previous session. I was able to keep this going indefinitely. Commands that message all connected sessions will repeat the message per session - try, for instance, `sessions`.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis is on the latest develop branch, and doesn't seem to cause any other issues.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/54416537-webclient-refresh-leads-to-many-sessions?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1556", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1556/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1556/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1556/events", "html_url": "https://github.com/evennia/evennia/issues/1556", "id": 289918792, "node_id": "MDU6SXNzdWUyODk5MTg3OTI=", "number": 1556, "title": "MAX_COMMAND_RATE didn't appear to work", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-01-19T09:53:29Z", "updated_at": "2018-01-24T08:14:11Z", "closed_at": "2018-01-24T08:14:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSo a player purely by accident sent a huge, huge number of commands into his input window, and locked up our server for a good few minutes. We have checks on sending massive amounts of text in a single command, but it hadn't occurred to me when they're all valid input strings. MAX_COMMAND_RATE was set to the default of 80, but it didn't appear to provide any protection against this, and I have no idea why.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Apparently he meant to log a long session and accidentally copied all of his command strings, and re-sent them.\r\n\r\n#### Error output / Expected result of feature\r\nServer lock for a pretty long time. Things catching on fire. Wailing, gnashing of teeth. A few stray cats probably died.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nNo idea why MAX_COMMAND_RATE didn't protect against this.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1555", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1555/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1555/events", "html_url": "https://github.com/evennia/evennia/issues/1555", "id": 289906448, "node_id": "MDU6SXNzdWUyODk5MDY0NDg=", "number": 1555, "title": "session.at_sync has typo, but is never called", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-19T09:07:53Z", "updated_at": "2018-01-20T23:00:58Z", "closed_at": "2018-01-20T22:59:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n`session.py` has a typo at https://github.com/evennia/evennia/blob/master/evennia/server/session.py#L136\r\n\r\n`account.attributs` instead of `account.attributes`. But this doesn't seem to be called anywhere and generate an error, since it looks like serversession just overrides the method entirely and doesn't call super.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Check link\r\n\r\n#### Error output / Expected result of feature\r\nNo AttributeError is raised because code doesn't seem to be called.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI'm not sure if the code is a relic of something that isn't used anymore and should be replaced by a simple pass, or if a super() call is missing and it has to be fixed.\r\n\r\nEdit: Possibly related to #1353 ?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1554", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1554/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1554/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1554/events", "html_url": "https://github.com/evennia/evennia/issues/1554", "id": 289688370, "node_id": "MDU6SXNzdWUyODk2ODgzNzA=", "number": 1554, "title": "available_languages() not returning languages", "user": {"login": "grungies1138", "id": 1909734, "node_id": "MDQ6VXNlcjE5MDk3MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1909734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grungies1138", "html_url": "https://github.com/grungies1138", "followers_url": "https://api.github.com/users/grungies1138/followers", "following_url": "https://api.github.com/users/grungies1138/following{/other_user}", "gists_url": "https://api.github.com/users/grungies1138/gists{/gist_id}", "starred_url": "https://api.github.com/users/grungies1138/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grungies1138/subscriptions", "organizations_url": "https://api.github.com/users/grungies1138/orgs", "repos_url": "https://api.github.com/users/grungies1138/repos", "events_url": "https://api.github.com/users/grungies1138/events{/privacy}", "received_events_url": "https://api.github.com/users/grungies1138/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-18T16:18:21Z", "updated_at": "2018-01-22T18:54:01Z", "closed_at": "2018-01-22T18:54:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nwhen using the rplanguage contrib, I have added several languages and was able to successfully use obfuscate_language to 'translate' them to the new language.  However, when I attempt to use the available_languages() function, it only returns 'default'\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Add language to rplanguage's language_handler\r\n2. test that language is working with obfuscate_language()\r\n3. utilize the available_languages() method.\r\n\r\n#### Error output / Expected result of feature\r\nonly returning 'default' instead of list of languages in the language_handler\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1551", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1551/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1551/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1551/events", "html_url": "https://github.com/evennia/evennia/issues/1551", "id": 287112627, "node_id": "MDU6SXNzdWUyODcxMTI2Mjc=", "number": 1551, "title": "Bug: Using `=` in alias confuses the nick command", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-09T14:44:31Z", "updated_at": "2018-01-09T17:29:31Z", "closed_at": "2018-01-09T17:29:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nTrying to make a nick replacement that includes an `=` confuses the parser of the `nick` command. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `nick page g=$1=page Griatch=$1` \r\n\r\n#### Error output / Expected result of feature\r\n\r\nThis should work. Result is the error `You must use the same $-markers both in the nick and in the replacement.`. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe cause is the use of `=` inside the nick; the first `=` in the input is identified as part of the `nick` command (starting the alias-replacement` right-hand-side). Two options come to mind on how to fix it: \r\n\r\n1. Add the option of escaping `=` inside aliases, such as `\\=` to make sure they are not confused with the `nick` regular `=` separator. So the above command would be `nick page g\\=$1=page Griatch=$1`\r\n2. Allow for optionally using `==` as the `nick` separator, making the above command `nick page g=$1==page Griatch=$1`\r\n  ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1544", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1544/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1544/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1544/events", "html_url": "https://github.com/evennia/evennia/issues/1544", "id": 285229971, "node_id": "MDU6SXNzdWUyODUyMjk5NzE=", "number": 1544, "title": "'look' issue in Tutorial at Cliff by the Coast (#9)", "user": {"login": "thenomain", "id": 935160, "node_id": "MDQ6VXNlcjkzNTE2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/935160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenomain", "html_url": "https://github.com/thenomain", "followers_url": "https://api.github.com/users/thenomain/followers", "following_url": "https://api.github.com/users/thenomain/following{/other_user}", "gists_url": "https://api.github.com/users/thenomain/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenomain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenomain/subscriptions", "organizations_url": "https://api.github.com/users/thenomain/orgs", "repos_url": "https://api.github.com/users/thenomain/repos", "events_url": "https://api.github.com/users/thenomain/events{/privacy}", "received_events_url": "https://api.github.com/users/thenomain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-30T23:27:17Z", "updated_at": "2017-12-31T12:42:38Z", "closed_at": "2017-12-31T12:42:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nTyping 'look old' in the Cliff by the Coast doesn't offer any feedback at all.\r\n\r\n('look old w' or 'look old b' seem to be fine.)\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Build the tutorial.\r\n2. Go to the Cliff by the Coast\r\n3. Type 'look old'.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nOutput: Null, nothing, not even a blank line. Game does not appear to respond.\r\n\r\nExpected Output: Some kind of multi-match error.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nI'm using the latest Evennia, as per the Intro Document, as of today, December 30th, because I have no life.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1544/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1534", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1534/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1534/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1534/events", "html_url": "https://github.com/evennia/evennia/issues/1534", "id": 282501631, "node_id": "MDU6SXNzdWUyODI1MDE2MzE=", "number": 1534, "title": "ChannelDB.objects.search_channel does not correctly use aliases", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-15T17:51:26Z", "updated_at": "2018-01-06T19:13:54Z", "closed_at": "2018-01-06T19:13:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIn a stock Evennia game, attempt to search for the OOC channel via its alias:\r\n```\r\n@py ev.ChannelDB.objects.search_channel('pub')\r\n```\r\nYou'll get an empty list - aliases don't work for search_channel\r\nThis causes problems when one sets an alias for a channel, you'd still be able to chat on that channel, but addcom and delcom won't work, since they rely on search_channel.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nLook at [the source code for search_channel](https://github.com/evennia/evennia/blob/master/evennia/comms/managers.py#L386). We seem to be grabbing a list and looping through it, instead of querying? Maybe a query instead.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1522", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1522/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1522/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1522/events", "html_url": "https://github.com/evennia/evennia/issues/1522", "id": 277635394, "node_id": "MDU6SXNzdWUyNzc2MzUzOTQ=", "number": 1522, "title": "EvTable doesn't support Chinese.", "user": {"login": "Su9Tail", "id": 9145515, "node_id": "MDQ6VXNlcjkxNDU1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9145515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Su9Tail", "html_url": "https://github.com/Su9Tail", "followers_url": "https://api.github.com/users/Su9Tail/followers", "following_url": "https://api.github.com/users/Su9Tail/following{/other_user}", "gists_url": "https://api.github.com/users/Su9Tail/gists{/gist_id}", "starred_url": "https://api.github.com/users/Su9Tail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Su9Tail/subscriptions", "organizations_url": "https://api.github.com/users/Su9Tail/orgs", "repos_url": "https://api.github.com/users/Su9Tail/repos", "events_url": "https://api.github.com/users/Su9Tail/events{/privacy}", "received_events_url": "https://api.github.com/users/Su9Tail/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-11-29T05:36:15Z", "updated_at": "2017-12-31T13:39:55Z", "closed_at": "2017-12-31T13:39:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use `evtable.EvTable(\"\u6d4b\u8bd5\"\uff0c\"\u6d4b\u8bd5\", table=[[], []])`like this, It didn't display well.\r\n\r\nThe result is kind like\r\n```\r\n+------+------+\r\n|      |      |\r\n|      |      |\r\n|  \u6d4b\u8bd5  |  \u6d4b\u8bd5  |\r\n|      |      |\r\n|      |      |\r\n+~~~~~~+~~~~~~+\r\n|      |      |\r\n|      |      |\r\n|  50  |  50  |\r\n|      |      |\r\n|      |      |\r\n+------+------+\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1521", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1521/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1521/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1521/events", "html_url": "https://github.com/evennia/evennia/issues/1521", "id": 275560076, "node_id": "MDU6SXNzdWUyNzU1NjAwNzY=", "number": 1521, "title": "Attributes in django admin aren't converting from unicode", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-21T02:00:01Z", "updated_at": "2017-12-29T17:48:53Z", "closed_at": "2017-12-29T17:48:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nNot sure why, but the Attribute formset I put in django admin to handle adding attributes to objects, players, etc doesn't seem to be converting properly, at least for objects that have a large number of Attributes. It casts everything to unicode and leaves them that way.\r\n\r\nEdit: After investigating with the staff member who caused the error, it seems like it's caused by how the formset is populated upon raising a validation error. Nicks are currently throwing a validation error due to 'inputline' being how they were saved and it only permitting 4 characters in that field rather than 9.\r\n\r\nEdit: Figured this out. Brief explanation of why this happened - it was the custom widget used for picklefields that caused the error on validation. The widget called repr() on the value to then test whether it could be run through literal_eval: if it couldn't, then it was assumed to be non-safe and made readonly. The problem is, the widget would be called again for the same value if a ValidationError was raised, making the string into the format of `repr(repr(string))` and so on each time an error was raised. Running literal_eval on them then would just turn them back into strings rather than the original objects they represented.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Raise a validation error in the page.\r\n\r\n#### Error output / Expected result of feature\r\nAttributes are converted to unicode\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nNot sure why this has started happening. I'll definitely try to fix this when I can, I just wanted to note it here for others since it's a pretty nasty bug - it can essentially make all attributes on an object unusuable. Just be sure to go back rather than save if you get a validation error on the page.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1519", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1519/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1519/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1519/events", "html_url": "https://github.com/evennia/evennia/issues/1519", "id": 274681545, "node_id": "MDU6SXNzdWUyNzQ2ODE1NDU=", "number": 1519, "title": "Duplicate script calls", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-16T22:09:16Z", "updated_at": "2018-06-12T16:59:59Z", "closed_at": "2018-06-12T16:59:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nVery rarely, I see the `at_repeat` for a script where there is only a single instance of it being called multiple times, usually with about a minute separation of it. \r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. It's happened very rarely, and only after long periods of usage without the server being reloaded.\r\n\r\n#### Error output / Expected result of feature\r\n`at_repeat` is called multiple times, say twice within a minute or two of the first call.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nMy guess is that a redundant `LoopingCall` is being created, but how or why is a complete mystery to me. It doesn't happen when the script is first created, because the script had run for days without interruption, and then we start to see the duplicate behavior, seemingly for no reason at all.\r\n\r\nAs a note, I did see this back in Evennia 0.6 as well, or at least I thought I did, with a different script. I noticed that a value which was supposed to be incremented at a script's `at_repeat` happened far, far more times than should have been possible. Since it was a timer, I just moved to datetime timedelta comparisons and thought no more of it. It was far more visible on the script I just saw because its `at_repeat` does a server broadcast, and I saw duplicate messages.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1517", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1517/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1517/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1517/events", "html_url": "https://github.com/evennia/evennia/issues/1517", "id": 273950875, "node_id": "MDU6SXNzdWUyNzM5NTA4NzU=", "number": 1517, "title": "Bug: Producing 'phantom sessions' with Mushclient's autologin", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-14T21:34:00Z", "updated_at": "2019-03-31T19:39:47Z", "closed_at": "2019-03-31T19:39:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA player was having connectivity issues, being dropped every so often, and I noticed that she had more sessions connected than seemed typical - usually 3 or so, despite only controlling one character. When  I asked her, she was only aware of one. I noticed that she seemed to have multiple sessions report connecting simultaneously when she was only aware of logging on once, and it seemed related to an autologin/autoreconnect feature. I'm speculating that it attempted to connect quickly enough that it caused some error, and the invalid nature of one of her sessions then would get her booted off before long. Disabling the feature in Mushclient seemed to resolve her issue.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Use Mushclient's autoconnect/autoreconnect feature\r\n2. Get multiple sessions somehow\r\n\r\n#### Error output / Expected result of feature\r\nMultiple sessions and subsequent connection difficulties.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI didn't see any outright errors reported in server log, though I'll need to see if I can find anything in the portal. A player reported something that sounds very similar using the 'Mudrammer' client, so I wonder if this might be happening with more than one client.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/51556974-bug-producing-phantom-sessions-with-mushclient-s-autologin?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1517/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1516", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1516/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1516/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1516/events", "html_url": "https://github.com/evennia/evennia/issues/1516", "id": 273866946, "node_id": "MDU6SXNzdWUyNzM4NjY5NDY=", "number": 1516, "title": "utils.spawner fails in testing without overriding PROTOTYPE_MODULES", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-11-14T16:57:32Z", "updated_at": "2019-08-14T18:10:56Z", "closed_at": "2019-08-14T18:10:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nUsing utils.spawner in an Evennia game can fail when testing if one doesn't override PROTOTYPE_MODULES specifically in the setup for the tests.\r\nSee [Ainneve's `test_chargen.py`](https://github.com/evennia/ainneve/blob/develop/world/test_chargen.py#L22) for an example.\r\nIf one doesn't override PROTOTYPE_MODULES and is using prototype module locations not covered by Evennia core, then tests will fail as the spawner will complain about not finding the specified prototypes.\r\n\r\nThis happens even if one runs Evennia's tests correctly with `evennia test . --settings=settings.py` or `evennia test --settings=settings.py .`\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set up a test case and use a command/feature that uses the spawner and a customized PROTOTYPE_MODULES location.\r\n2. Run tests correctly via `evennia test --settings=settings.py .`\r\n3. The tests will fail - the spawner will have Evennia's core PROTOTYPE_MODULES instead of your customized PROTOTYPE_MODULES\r\n\r\nAs a workaround, in the test case setup, override the PROTOTYPE_MODULES as in [Ainneve's `test_chargen.py`.](https://github.com/evennia/ainneve/blob/develop/world/test_chargen.py#L22)\r\n\r\n#### Error output / Expected result of feature\r\nThe test will fail, as the spawner will return that it couldn't find your prototype - assuming that like Ainneve, you're not using a core Evennia prototype module location.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis is present on the development branch of Ainneve - all tests currently are passing, but if you clone the develop branch and remove the overrides, which are in [`test_chargen.py`](https://github.com/evennia/ainneve/blob/develop/world/test_chargen.py#L22) and [`test_combat.py`](https://github.com/evennia/ainneve/blob/develop/world/test_combat.py#L501), the tests will fail.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/51546220-utils-spawner-fails-in-testing-without-overriding-prototype_modules?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1516/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1514", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1514/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1514/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1514/events", "html_url": "https://github.com/evennia/evennia/issues/1514", "id": 273153728, "node_id": "MDU6SXNzdWUyNzMxNTM3Mjg=", "number": 1514, "title": "@delaccount does not delete account - gives error", "user": {"login": "Belameephus", "id": 33575866, "node_id": "MDQ6VXNlcjMzNTc1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/33575866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Belameephus", "html_url": "https://github.com/Belameephus", "followers_url": "https://api.github.com/users/Belameephus/followers", "following_url": "https://api.github.com/users/Belameephus/following{/other_user}", "gists_url": "https://api.github.com/users/Belameephus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Belameephus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Belameephus/subscriptions", "organizations_url": "https://api.github.com/users/Belameephus/orgs", "repos_url": "https://api.github.com/users/Belameephus/repos", "events_url": "https://api.github.com/users/Belameephus/events{/privacy}", "received_events_url": "https://api.github.com/users/Belameephus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-11T15:39:48Z", "updated_at": "2017-11-29T19:11:55Z", "closed_at": "2017-11-29T19:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue:\r\n\r\n@delaccount does not delete account - gives error\r\n\r\n#### Steps to reproduce the issue:\r\n\r\n1. Logged onto mygame as #1 account (superuser) \r\n2. attempted to delete a test account using @delaccount Testperson \r\n3. Testperson account not deleted and error displayed.\r\n\r\n#### Error output \r\n\r\nTraceback (most recent call last):\r\n  File \"/home/mark/muddev/evennia/evennia/commands/cmdhandler.py\", line 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/mark/muddev/evennia/evennia/commands/default/admin.py\", line 304, in func\r\n    account = accounts.pop()\r\nAttributeError: 'QuerySet' object has no attribute 'pop'\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 2017-11-11 14:49:35-0000).\r\n\r\n#### Extra information: \r\n\r\nEvennia 0.7.0 (rev 4a282b8)\r\nOS Linux Mint 17.2 Rafaela \r\nPython 2.7.6\r\nTwisted 16.0.0\r\nDjango 1.11.6\r\n\r\nI had this occur on my previous Evennia mygame (same game same Evennia revision) so I restarted/reloaded and reinitialized as a new game starting from scratch. \r\n\r\nSame results:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1507", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1507/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1507/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1507/events", "html_url": "https://github.com/evennia/evennia/issues/1507", "id": 269651903, "node_id": "MDU6SXNzdWUyNjk2NTE5MDM=", "number": 1507, "title": "MSDP LIST command unrecognized", "user": {"login": "RyanStein", "id": 5884865, "node_id": "MDQ6VXNlcjU4ODQ4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5884865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanStein", "html_url": "https://github.com/RyanStein", "followers_url": "https://api.github.com/users/RyanStein/followers", "following_url": "https://api.github.com/users/RyanStein/following{/other_user}", "gists_url": "https://api.github.com/users/RyanStein/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanStein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanStein/subscriptions", "organizations_url": "https://api.github.com/users/RyanStein/orgs", "repos_url": "https://api.github.com/users/RyanStein/repos", "events_url": "https://api.github.com/users/RyanStein/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanStein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-30T15:51:43Z", "updated_at": "2019-06-29T16:49:20Z", "closed_at": "2019-06-29T16:49:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe MSDP `LIST` OOB command is unrecognized, which raises an error but does not prevent the client from connecting. The [list command](http://tintin.sourceforge.net/msdp/) appears to be integral to the protocol but also something which may be game specific.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Make sure GMCP is disabled on client, just in case that is preferred.\r\n2. Enable MSDP.\r\n3. Connect to Evennia and check stdout for the error.\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n[AMPProtocol,0,127.0.0.1] [EE] Session 2: Input command not recognized:\r\n[AMPProtocol,0,127.0.0.1] [EE]  name: 'list'\r\n[AMPProtocol,0,127.0.0.1] [EE]  args, kwargs: ('COMMANDS',), {}\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEvennia 0.7.0 (rev bc868f8f)\r\n\r\nIt might be possible to alias or modify `client_options` to support this, but there will likely have to be a rename for it somewhere along the way to `inputfuncs.py` as `list` is obviously a keyword for the list type in Python. Perhaps a conditional that renames it to `msdp_list` before running the inputfunc would work.\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/51184326-msdp-list-command-unrecognized?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1506", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1506/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1506/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1506/events", "html_url": "https://github.com/evennia/evennia/issues/1506", "id": 269647851, "node_id": "MDU6SXNzdWUyNjk2NDc4NTE=", "number": 1506, "title": "Traceback if MSDP or GMCP-enabled client attempts to connect before AMP protocol has been established between Server and Portal.", "user": {"login": "RyanStein", "id": 5884865, "node_id": "MDQ6VXNlcjU4ODQ4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5884865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanStein", "html_url": "https://github.com/RyanStein", "followers_url": "https://api.github.com/users/RyanStein/followers", "following_url": "https://api.github.com/users/RyanStein/following{/other_user}", "gists_url": "https://api.github.com/users/RyanStein/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanStein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanStein/subscriptions", "organizations_url": "https://api.github.com/users/RyanStein/orgs", "repos_url": "https://api.github.com/users/RyanStein/repos", "events_url": "https://api.github.com/users/RyanStein/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanStein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-30T15:41:11Z", "updated_at": "2018-01-10T07:06:23Z", "closed_at": "2018-01-10T07:06:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThis is pretty low priority considering it can only occur when the server is starting up for the first time, but a traceback may occur if a client with MSDP or GMCP enabled attempts to connect in that short period of time.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Start Evennia.\r\n2. Immediately attempt to connect as quickly as possible to telnet with MSDP/GMCP enabled.\r\n3. Check portal.log for the traceback.\r\n\r\n#### Error output / Expected result of feature\r\n```\r\nFile \"code/evennia/evennia/evennia/server/portal/telnet_oob.py\", line 337, in decode_msdp\r\n  self.protocol.data_in(**cmds)\r\nFile \"code/evennia/evennia/evennia/server/portal/telnet.py\", line 265, in data_in\r\n  self.sessionhandler.data_in(self, **kwargs)\r\nFile \"code/evennia/evennia/evennia/server/portal/portalsessionhandler.py\", line 387, in data_in\r\n  self.portal.amp_protocol.send_MsgPortal2Server(session,\r\nexceptions.AttributeError: 'NoneType' object has no attribute 'send_MsgPortal2Server'\r\n```\r\n```\r\nFile \"code/evennia/evennia/evennia/server/portal/telnet_oob.py\", line 385, in decode_gmcp\r\n  self.protocol.data_in(**{cmdname.lower(): [args, kwargs]})\r\nFile \"code/evennia/evennia/evennia/server/portal/telnet.py\", line 265, in data_in\r\n  self.sessionhandler.data_in(self, **kwargs)\r\nFile \"code/evennia/evennia/evennia/server/portal/portalsessionhandler.py\", line 387, in data_in\r\n  self.portal.amp_protocol.send_MsgPortal2Server(session,\r\nexceptions.AttributeError: 'NoneType' object has no attribute 'send_MsgPortal2Server'\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nEvennia 0.7.0 (rev bc868f8f)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1500", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1500/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1500/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1500/events", "html_url": "https://github.com/evennia/evennia/issues/1500", "id": 269356408, "node_id": "MDU6SXNzdWUyNjkzNTY0MDg=", "number": 1500, "title": "No command sets found error after using guest account and quitting.", "user": {"login": "Panzerbyte", "id": 1942013, "node_id": "MDQ6VXNlcjE5NDIwMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1942013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Panzerbyte", "html_url": "https://github.com/Panzerbyte", "followers_url": "https://api.github.com/users/Panzerbyte/followers", "following_url": "https://api.github.com/users/Panzerbyte/following{/other_user}", "gists_url": "https://api.github.com/users/Panzerbyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/Panzerbyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Panzerbyte/subscriptions", "organizations_url": "https://api.github.com/users/Panzerbyte/orgs", "repos_url": "https://api.github.com/users/Panzerbyte/repos", "events_url": "https://api.github.com/users/Panzerbyte/events{/privacy}", "received_events_url": "https://api.github.com/users/Panzerbyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-28T22:55:49Z", "updated_at": "2018-02-21T19:19:07Z", "closed_at": "2018-02-21T19:19:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI enabled the guest system and decided to test this out by 'connect guest' on my localhost server.\r\nAfter a couple of seconds I 'quit' and am met with the standard quit message. Then any command I enter does not get registered anymore (as it should be, but should it not take me to the connection screen again?)\r\nNow I reload the server, reload the webclient, and still am being met with this error message and no connection screen:\r\n> No command sets found! This is a critical bug that can have\r\n> multiple causes.\r\n\r\nThis is what I have on my serverlog that occured when I did the guest stuff:\r\n\r\n> 2017-10-29T00:19:37+0200 [AMPProtocol,0,127.0.0.1] [..] Logged in: Guest1(account 3) 127.0.0.1 (1 session(s) total)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [..] Logged out: Guest1(account 3) 127.0.0.1 (0 sessions(s) remaining) (quit)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\commands\\cmdhandler.py\", line 591, in _run_command\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     ret = cmd.func()\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\commands\\default\\account.py\", line 673, in func\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     account.disconnect_session_from_account(self.session, reason)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\accounts\\accounts.py\", line 207, in disconnect_session_from_account\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     _SESSIONS.disconnect(session, reason)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\sessionhandler.py\", line 508, in disconnect\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     session.at_disconnect(reason)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\serversession.py\", line 257, in at_disconnect\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     self.sessid)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\scripts\\monitorhandler.py\", line 160, in remove\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     obj = obj.attributes.get(fieldname, return_obj=True)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 441, in get\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     attr_objs = self._getcache(keystr, category)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 285, in _getcache\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     conn = getattr(self.obj, self._m2m_fieldname).through.objects.filter(**query)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 513, in __get__\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     return self.related_manager_cls(instance)\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 830, in __init__\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::]     (instance, self.pk_field_names[self.source_field_name]))\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [::] ValueError: \"<Guest: Guest1(account#None)>\" needs to have a value for field \"id\" before this many-to-many relationship can be used.\r\n> 2017-10-29T00:20:05+0200 [AMPProtocol,0,127.0.0.1] [EE] User input was: 'quit'.\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\sessionhandler.py\", line 762, in call_inputfuncs\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     _INPUT_FUNCS[cname](session, *cmdargs, **cmdkwargs)\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\inputfuncs.py\", line 82, in text\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     categories=(\"inputline\", \"channel\"), include_account=False)\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 901, in nickreplace\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     self.get(category=category, return_obj=True)) if nick and nick.key})\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 837, in get\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     return super(NickHandler, self).get(key=key, category=category, **kwargs)\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 441, in get\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     attr_objs = self._getcache(keystr, category)\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 310, in _getcache\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     in getattr(self.obj, self._m2m_fieldname).through.objects.filter(**query)]\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 513, in __get__\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     return self.related_manager_cls(instance)\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 830, in __init__\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::]     (instance, self.pk_field_names[self.source_field_name]))\r\n> 2017-10-29T00:20:12+0200 [AMPProtocol,0,127.0.0.1] [::] ValueError: \"<Guest: Guest1(account#None)>\" needs to have a value for field \"id\" before this many-to-many relationship can be used.\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\sessionhandler.py\", line 762, in call_inputfuncs\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     _INPUT_FUNCS[cname](session, *cmdargs, **cmdkwargs)\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\inputfuncs.py\", line 82, in text\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     categories=(\"inputline\", \"channel\"), include_account=False)\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 901, in nickreplace\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     self.get(category=category, return_obj=True)) if nick and nick.key})\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 837, in get\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     return super(NickHandler, self).get(key=key, category=category, **kwargs)\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 441, in get\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     attr_objs = self._getcache(keystr, category)\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 310, in _getcache\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     in getattr(self.obj, self._m2m_fieldname).through.objects.filter(**query)]\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 513, in __get__\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     return self.related_manager_cls(instance)\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 830, in __init__\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::]     (instance, self.pk_field_names[self.source_field_name]))\r\n> 2017-10-29T00:20:15+0200 [AMPProtocol,0,127.0.0.1] [::] ValueError: \"<Guest: Guest1(account#None)>\" needs to have a value for field \"id\" before this many-to-many relationship can be used.\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\sessionhandler.py\", line 762, in call_inputfuncs\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     _INPUT_FUNCS[cname](session, *cmdargs, **cmdkwargs)\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\server\\inputfuncs.py\", line 82, in text\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     categories=(\"inputline\", \"channel\"), include_account=False)\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 901, in nickreplace\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     self.get(category=category, return_obj=True)) if nick and nick.key})\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 837, in get\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     return super(NickHandler, self).get(key=key, category=category, **kwargs)\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 441, in get\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     attr_objs = self._getcache(keystr, category)\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\evennia\\evennia\\typeclasses\\attributes.py\", line 310, in _getcache\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     in getattr(self.obj, self._m2m_fieldname).through.objects.filter(**query)]\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 513, in __get__\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     return self.related_manager_cls(instance)\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\muddev\\pyenv\\Lib\\site-packages\\django\\db\\models\\fields\\related_descriptors.py\", line 830, in __init__\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::]     (instance, self.pk_field_names[self.source_field_name]))\r\n> 2017-10-29T00:20:16+0200 [AMPProtocol,0,127.0.0.1] [::] ValueError: \"<Guest: Guest1(account#None)>\" needs to have a value for field \"id\" before this many-to-many relationship can be used.\r\n> 2017-10-29T00:20:38+0200 [AMPProtocol,0,127.0.0.1] [..] Logged out: Guest1(account None) 127.0.0.1 (-1 sessions(s) remaining)\r\n> 2017-10-29T00:20:39+0200 [AMPProtocol,0,127.0.0.1] [EE] No cmdsets found: None@127.0.0.1\r\n\r\nAnd I when I try to use the webclient I keep on getting the serverlog:\r\n> [AMPProtocol,0,127.0.0.1] [EE] No cmdsets found: None@127.0.0.1\r\n\r\nWhen I telnet to localhost with the terminal all is fine though and I can see the connection screen.\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. 'connect guest'\r\n2. 'quit' as guest\r\n3. In webclient try to login again and meet the error\r\n\r\n#### Error output / Expected result of feature\r\nNo command sets found! This is a critical bug that can have\r\nmultiple causes.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n0.7.0 - webclient on Windows 10 in Firefox.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1500/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1499", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1499/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1499/events", "html_url": "https://github.com/evennia/evennia/issues/1499", "id": 269344188, "node_id": "MDU6SXNzdWUyNjkzNDQxODg=", "number": 1499, "title": "No way to clear object descs without resorting to @py", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-28T19:39:59Z", "updated_at": "2018-10-20T21:44:23Z", "closed_at": "2018-10-20T21:39:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nTyping '@desc object=' does not clear the object description like it should.\r\n \r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Typing the following command:\r\n\r\n>> @desc here=\r\n2. \r\nresults in the description of the current room being set to 'here=', rather than being cleared.\r\n3. \r\n\r\n#### Error output / Expected result of feature\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1498", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1498/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1498/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1498/events", "html_url": "https://github.com/evennia/evennia/issues/1498", "id": 269336497, "node_id": "MDU6SXNzdWUyNjkzMzY0OTc=", "number": 1498, "title": "Inline funcs in object descs results in some characters being stripped from the desc", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-28T17:51:12Z", "updated_at": "2018-06-16T23:29:11Z", "closed_at": "2018-06-16T23:28:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. To reproduce the error, simply set your object description to something like:\r\n>> @desc here=$pad(whoa,10)!@#$%^&*()<>_+-=\r\n2. \r\n3. \r\n\r\n#### Error output / Expected result of feature\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1493", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1493/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1493/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1493/events", "html_url": "https://github.com/evennia/evennia/issues/1493", "id": 268961857, "node_id": "MDU6SXNzdWUyNjg5NjE4NTc=", "number": 1493, "title": "Stuck web calls max out cpu usage", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-10-27T01:36:06Z", "updated_at": "2022-01-19T22:04:52Z", "closed_at": "2022-01-19T22:04:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSo a few times I've had an issue where after a particularly long server event, such as our weekly script which takes a few minutes to finish, our cpu usage will spike through the roof, and I get alerts from Linode saying that we're way over their allowed threshold. When I go to `@reload` the server, I get notifications of it trying to let pending webserver requests to finish, and it'll be stuck there, since they don't ever finish on their own. This requires me to then `kill -9` the process to get it over with. My theory is that if the server is very busy, webserver requests made during that time get lost somehow but start to consume more and more resources.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Possibly try to run some very long, time-intensive script that locks down the server\r\n2. Make web requests during this period\r\n3. Monitor cpu usage, see if the server can be reloaded afterwards\r\n\r\n#### Error output / Expected result of feature\r\nCPU usage skyrockets, those web requests are unresponsive, server cannot be reloaded because the requests never finish.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI'm still on the previous version of Evennia, so it's possible this could already be resolved in the current version, if it's related to the portal having that open connection somehow.\r\n\r\nIf it's not fixed in the current version, is there some some setting we can use somewhere to make web requests that are unresponsive time out after some period of time, like 30 seconds to a few minutes?\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/50829069-stuck-web-calls-max-out-cpu-usage?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1479", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1479/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1479/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1479/events", "html_url": "https://github.com/evennia/evennia/issues/1479", "id": 265603539, "node_id": "MDU6SXNzdWUyNjU2MDM1Mzk=", "number": 1479, "title": "Issue with adding empty columns to EvTable and subsequent add_row", "user": {"login": "scyfris", "id": 441039, "node_id": "MDQ6VXNlcjQ0MTAzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/441039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scyfris", "html_url": "https://github.com/scyfris", "followers_url": "https://api.github.com/users/scyfris/followers", "following_url": "https://api.github.com/users/scyfris/following{/other_user}", "gists_url": "https://api.github.com/users/scyfris/gists{/gist_id}", "starred_url": "https://api.github.com/users/scyfris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scyfris/subscriptions", "organizations_url": "https://api.github.com/users/scyfris/orgs", "repos_url": "https://api.github.com/users/scyfris/repos", "events_url": "https://api.github.com/users/scyfris/events{/privacy}", "received_events_url": "https://api.github.com/users/scyfris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-15T20:59:49Z", "updated_at": "2018-01-28T23:04:04Z", "closed_at": "2018-01-28T23:04:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nCalling \"add_column\" with a column without any specified data, only a header, to an already-created EvTable seems to cause an issue with the newly added column where it is sized differently than the rest of the table.  This leads to issues with subsequent \"add_row()\" commands.  See below for example.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create a new EvTable.  Example:\r\n\r\n`        table2 = EvTable(\"col1\", \"col2\", \"col3\", border = \"cells\")\r\n`\r\n\r\nThis creates a table with only headers:\r\n\r\n![image](https://user-images.githubusercontent.com/441039/31589030-4c299cb2-b1af-11e7-9f78-86f6e6210c84.png)\r\n\r\n2. Call \"add_column()\" on the table, without specifying any data.  The expectation is that it will add an empty column...but it seems to instead append a row to the column:\r\n\r\n`        table2.add_column(header=\"col4\")\r\n`\r\n\r\n![image](https://user-images.githubusercontent.com/441039/31589032-569fab46-b1af-11e7-9d2c-4d7bca078aaa.png)\r\n\r\n3. Next call \"add_row\" on the EvTable to add a row, filling in data for all columns.  This adds the first 3 columns correctly (the columns that were added with the EvTable construction), but the new column is offset by one:\r\n\r\n`        table2.add_row(\"I\", \"am\", \"a\", \"test\")\r\n`\r\n\r\n![image](https://user-images.githubusercontent.com/441039/31589034-5afc6602-b1af-11e7-90a0-3ed43c88a687.png)\r\n\r\nObviously that looks like an issue.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nError results:  The results of this sequence of commands:\r\n\r\n```\r\n        table2 = EvTable(\"col1\", \"col2\", \"col3\", border = \"cells\")\r\n        table2.add_column(header=\"col4\")\r\n        table2.add_row(\"I\", \"am\", \"a\", \"test\")\r\n```\r\nleads to this output:\r\n![image](https://user-images.githubusercontent.com/441039/31589073-e548c65c-b1af-11e7-9708-75acfd07790d.png)\r\n\r\nExpected results:  I would expect the above sequence of commands to lead to this output:\r\n\r\n![image](https://user-images.githubusercontent.com/441039/31589081-fb22cfae-b1af-11e7-8779-641d55f52073.png)\r\n\r\n\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nNote this is from \"master\" branch at ToT as of commit 1f54d464a9293a067ffb3dc6bd1ba967c5d4ab8d\r\n\r\nI have root-caused the issue and should have a pending fix shortly.  In summary, it looks like the code in evennia/utils/evtable.py, for the function \"add_column\" might be incorrect:\r\n\r\n```\r\n        column = EvColumn(*args, **options)\r\n        wtable = self.ncols\r\n        htable = self.nrows\r\n        excess = len(column) - htable\r\n\r\n        if excess > 0:\r\n            # we need to add new rows to table\r\n            for col in self.table:\r\n                empty_rows = [\"\" for _ in range(excess)]\r\n                col.add_rows(*empty_rows, **options)\r\n            self.nrows += excess\r\n        elif excess < 0:\r\n            # we need to add new rows to new column\r\n            empty_rows = [\"\" for _ in range(abs(excess))]\r\n            column.add_rows(*empty_rows, **options)\r\n            self.nrows -= excess\r\n```\r\n\r\nIn this case, the \"htable\" is 1 after creating the tables, because of the headers, BUT \"len(column)\" is 0 because this calculation is happening BEFORE the \"header=\" parameter is being taken into account to expand the newly added column.\r\n\r\nThe fix seems simple: to move the \"excess\" block of code to AFTER the columns have been expanded based on the headers.\r\n\r\nI have a fix pull request here: #1480 \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1466", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1466/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1466/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1466/events", "html_url": "https://github.com/evennia/evennia/issues/1466", "id": 262895763, "node_id": "MDU6SXNzdWUyNjI4OTU3NjM=", "number": 1466, "title": "Make Evennia's default help function ignore prefixes", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-04T19:02:16Z", "updated_at": "2017-10-05T21:09:23Z", "closed_at": "2017-10-05T21:09:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue\r\n\r\n> *For hacktoberfest folks*: This is a one-module fix that should be quite doable once getting a grasp of how things hang together. \r\n\r\nEvennia treats e.g. `@look` the same as `look` since the prefix is ignored by default. However, when a user, used to entering `@look` tries to get help with `help @look` the `help` command will report that it doesn't recognize `@look` as a valid command. Only `help look` works. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `@look` works fine to look at the current location.\r\n2. `help @look` gives a not-found error.\r\n\r\n#### Expected result of feature\r\n\r\nThe `help` command must honor the prefix-ignore defined in settings, and in the same way. That is, when a user enters `help @cmdname`, the following must happen: \r\n -  If a command with a key or alias `@cmdname`, `+cmdname` etc (that is, including the prefix) *actually exists* then the help entry of this should be displayed. \r\n - If no exact match is found, and a prefix exists, then strip it and try to show the help entry for the stripped name.\r\n- If no match is found neither with nor without the prerix, show not-found error. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nSince Evennia 0.7, Evennia defaults to ignoring prefixes given by [settings.CMD_IGNORE_PREFIXES](https://github.com/evennia/evennia/blob/master/evennia/settings_default.py#L305) . This means that by default a user entering `@look`, `+look`, `&look` and `/look` will get the same result as if they just entered `look`. This stripping happens in Evennia's [cmdparser](https://github.com/evennia/evennia/blob/master/evennia/commands/cmdparser.py#L91) and thus works automatically for all commands. \r\nHowever, in the case of the `help` command, what is failing is the parsing of the argument to the `help` command, which is the name of the command to get help for. The default [help command is defined here](https://github.com/evennia/evennia/blob/master/evennia/commands/default/help.py#L27) and all changes for this issue should be able to be isolated to this module. The argument to the command is available as `.args` on the Command class when `.parse()` and then `.func()` runs. \r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1466/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1464", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1464/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1464/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1464/events", "html_url": "https://github.com/evennia/evennia/pull/1464", "id": 262320489, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ0MzQ3MDE5", "number": 1464, "title": "RPsystem contrib: Pass at_before_say the corrent number of arguments", "user": {"login": "amfl", "id": 382798, "node_id": "MDQ6VXNlcjM4Mjc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/382798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amfl", "html_url": "https://github.com/amfl", "followers_url": "https://api.github.com/users/amfl/followers", "following_url": "https://api.github.com/users/amfl/following{/other_user}", "gists_url": "https://api.github.com/users/amfl/gists{/gist_id}", "starred_url": "https://api.github.com/users/amfl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amfl/subscriptions", "organizations_url": "https://api.github.com/users/amfl/orgs", "repos_url": "https://api.github.com/users/amfl/repos", "events_url": "https://api.github.com/users/amfl/events{/privacy}", "received_events_url": "https://api.github.com/users/amfl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-03T06:43:06Z", "updated_at": "2017-10-03T07:48:07Z", "closed_at": "2017-10-03T07:36:01Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/evennia/evennia/pulls/1464", "html_url": "https://github.com/evennia/evennia/pull/1464", "diff_url": "https://github.com/evennia/evennia/pull/1464.diff", "patch_url": "https://github.com/evennia/evennia/pull/1464.patch", "merged_at": "2017-10-03T07:36:01Z"}, "body": "#### Brief overview of PR changes/additions\r\n\r\nThe `at_before_say` method does not accept `caller`. At present, it throws an error when you try to speak:\r\n\r\n```\r\nExits: riverport(#7)\r\nsay hi\r\nTraceback (most recent call last):\r\n  File \"/home/amfl/evennia/commands/cmdhandler.py\",\r\nline 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/amfl/evennia/contrib/rpsystem.py\",\r\nline 861, in func\r\n    speech = caller.location.at_before_say(caller, self.args)\r\nTypeError: at_before_say() takes exactly 2 arguments (3 given)\r\n\r\nAn untrapped error occurred.\r\n```\r\n\r\nIntroduced in 291fd6fa34080540a57524b619eb8523e283d441", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1464/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1460", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1460/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1460/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1460/events", "html_url": "https://github.com/evennia/evennia/issues/1460", "id": 262106448, "node_id": "MDU6SXNzdWUyNjIxMDY0NDg=", "number": 1460, "title": "Giving multiple permissions to an account at once results in extra output lines", "user": {"login": "marco262", "id": 403812, "node_id": "MDQ6VXNlcjQwMzgxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/403812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marco262", "html_url": "https://github.com/marco262", "followers_url": "https://api.github.com/users/marco262/followers", "following_url": "https://api.github.com/users/marco262/following{/other_user}", "gists_url": "https://api.github.com/users/marco262/gists{/gist_id}", "starred_url": "https://api.github.com/users/marco262/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marco262/subscriptions", "organizations_url": "https://api.github.com/users/marco262/orgs", "repos_url": "https://api.github.com/users/marco262/repos", "events_url": "https://api.github.com/users/marco262/events{/privacy}", "received_events_url": "https://api.github.com/users/marco262/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-10-02T14:35:11Z", "updated_at": "2017-10-02T17:48:40Z", "closed_at": "2017-10-02T17:48:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nGiving multiple permissions to an account at once results in extra output lines\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Login to the superuser\r\n2. Use @perm to give another account multiple permissions at the same time\r\n\r\n#### Error output / Expected result of feature\r\n\r\n**Expected result:**\r\nA single output line showing that all the permissions have been given.\r\n\r\n**Actual result:**\r\nMultiple identical output lines all showing that all the permissions have been given.\r\n\r\n**Example command:**\r\n`@perm *Lumos=Immortals, Wizards, Builders`\r\n\r\n**Example result:**\r\n```\r\nPermission 'Immortals, Wizards, Builders' given to Lumos (the Account).\r\nPermission 'Immortals, Wizards, Builders' given to Lumos (the Account).\r\nPermission 'Immortals, Wizards, Builders' given to Lumos (the Account).\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe number of duplicated lines seems to correspond to the number of permissions trying to be given. For example, if in the example above I'd only tried to provide two permissions, I would have received only two output lines.\r\n\r\n**Environment:**\r\nMaster branch (pulled 2017-10-02 ~0200 GMT), server running on Windows 7. The client is connecting to the server via Telnet (MUSHclient)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1459", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1459/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1459/events", "html_url": "https://github.com/evennia/evennia/issues/1459", "id": 261948728, "node_id": "MDU6SXNzdWUyNjE5NDg3Mjg=", "number": 1459, "title": "EvForm tracebacks with certain dissimilar line lengths of form", "user": {"login": "RyanStein", "id": 5884865, "node_id": "MDQ6VXNlcjU4ODQ4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5884865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanStein", "html_url": "https://github.com/RyanStein", "followers_url": "https://api.github.com/users/RyanStein/followers", "following_url": "https://api.github.com/users/RyanStein/following{/other_user}", "gists_url": "https://api.github.com/users/RyanStein/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanStein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanStein/subscriptions", "organizations_url": "https://api.github.com/users/RyanStein/orgs", "repos_url": "https://api.github.com/users/RyanStein/repos", "events_url": "https://api.github.com/users/RyanStein/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanStein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-10-01T21:40:02Z", "updated_at": "2018-09-13T13:10:11Z", "closed_at": "2018-09-13T13:05:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nEvForm throws an exception, apparently if the form has a shorter line following a line with a cell.\r\n\r\nIn addition, [the EvForm documentation](https://github.com/evennia/evennia/blob/2bc76538d858edc03f5780557c3a17179bb252c3/evennia/utils/evform.py#L187) reports that `\"CELLCHAR\"` is the key name to use for the inline dict, but it is actually `\"FORMCHAR\"` which provides the functionality.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n```python\r\nfrom evennia.utils.evform import EvForm\r\n\r\nTEST_A = \"\"\"\r\nTest form: xx1xx\r\nWon't crash?\r\n\"\"\"\r\n\r\nTEST_B = \"\"\"\r\nTest form: xx1xx\r\nCrashhhhhh.\r\n\"\"\"\r\n\r\nTEST_A_FORM = {\"FORMCHAR\": \"x\", \"TABLECHAR\": \"c\", \"FORM\": TEST_A}\r\nTEST_B_FORM = {\"FORMCHAR\": \"x\", \"TABLECHAR\": \"c\", \"FORM\": TEST_B}\r\n\r\nform_a = EvForm(form=TEST_A_FORM, cells={1: 'hello'})\r\nself.msg(form_a)\r\n\r\nform_b = EvForm(form=TEST_B_FORM, cells={1: 'hello'})\r\nself.msg(form_b)\r\n```\r\n\r\n#### Error output / Expected result of feature\r\n\r\n```\r\nFile \"evennia/utils/evform.py\", line 215, in __init__\r\n  self.reload()\r\nFile \"evennia/utils/evform.py\", line 418, in reload\r\n  self.mapping = self._parse_rectangles(self.cellchar, self.tablechar, self.raw_form, **kwargs)\r\nFile \"evennia/utils/evform.py\", line 276, in _parse_rectangles\r\n  if all(form[iy + i][ix] == cellchar for ix in range(leftix, rightix)):\r\nFile \"evennia/utils/evform.py\", line 276, in \r\n  if all(form[iy + i][ix] == cellchar for ix in range(leftix, rightix)):\r\nFile \"evennia/utils/ansi.py\", line 888, in __getitem__\r\n  raise IndexError(\"ANSIString Index out of range\")\r\nIndexError: ANSIString Index out of range\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nEvennia 0.7.0 (rev 2bc76538)\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1457", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1457/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1457/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1457/events", "html_url": "https://github.com/evennia/evennia/issues/1457", "id": 261902533, "node_id": "MDU6SXNzdWUyNjE5MDI1MzM=", "number": 1457, "title": "Evmenu: Nodes cannot be used for dynamic exec or dynamic goto", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-01T09:03:37Z", "updated_at": "2017-10-01T13:42:58Z", "closed_at": "2017-10-01T13:42:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nEvMenu currently allows for a function given as an exec or goto argument to return a string which will take precedence over an existing goto. [EvMenu appears to expect that nodes will also be able to return a string that can be used in the same way](https://github.com/evennia/evennia/blob/master/evennia/utils/evmenu.py#L622), however due to the way [_execute_node()](https://github.com/evennia/evennia/blob/master/evennia/utils/evmenu.py#L523) is set out this cannot happen.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Create a node (function not starting with an underscore) in line with [this example.](https://github.com/evennia/evennia/wiki/EvMenu#example-dynamic-goto)\r\n2. Provide that node as a goto or exec as a string. This will use the _execute_node() method rather than calling the node directly.\r\n3. Receive error.\r\n\r\n#### Error output / Expected result of feature\r\nError in menu node 'check_choice'.\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\commands\\cmdhandler.py\", line 509, in _run_command\r\n    ret = yield cmd.func()\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\utils\\evmenu.py\", line 266, in func\r\n    menu._input_parser(menu, self.raw_string, caller)\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\utils\\evmenu.py\", line 404, in evtable_parse_input\r\n    menuobject.callback_goto(callback, goto, raw_string)\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\utils\\evmenu.py\", line 733, in callback_goto\r\n    self.goto(goto, raw_string)\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\utils\\evmenu.py\", line 806, in goto\r\n    nodetext, options = self._execute_node(nodename, raw_string)\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\utils\\evmenu.py\", line 698, in _execute_node\r\n    nodetext, options = node(self.caller, raw_string)\r\nValueError: too many values to unpack\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 2017-10-01 19:14:38+1100).\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\user\\my documents\\python\\evennia\\evennia\\commands\\cmdhandler.py\", line 653, in cmdhandler\r\n    unformatted_raw_string, cmdset, session, player)\r\nErrorReported: 1\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1455", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1455/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1455/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1455/events", "html_url": "https://github.com/evennia/evennia/issues/1455", "id": 261883938, "node_id": "MDU6SXNzdWUyNjE4ODM5Mzg=", "number": 1455, "title": "@spawn objects have no location or home after ev 0.7", "user": {"login": "scyfris", "id": 441039, "node_id": "MDQ6VXNlcjQ0MTAzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/441039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scyfris", "html_url": "https://github.com/scyfris", "followers_url": "https://api.github.com/users/scyfris/followers", "following_url": "https://api.github.com/users/scyfris/following{/other_user}", "gists_url": "https://api.github.com/users/scyfris/gists{/gist_id}", "starred_url": "https://api.github.com/users/scyfris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scyfris/subscriptions", "organizations_url": "https://api.github.com/users/scyfris/orgs", "repos_url": "https://api.github.com/users/scyfris/repos", "events_url": "https://api.github.com/users/scyfris/events{/privacy}", "received_events_url": "https://api.github.com/users/scyfris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-01T01:16:07Z", "updated_at": "2017-10-01T11:20:08Z", "closed_at": "2017-10-01T11:19:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nI recently switched to Evennia 0.7.  Spawning objects seems to have regressed, where objects without an explicit location are given locations of \"None\".  Previously, the behavior was to give a location of the caller if location was not specified (unless using the \"noloc\" switch).\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Add a prototype to prototypes.py, such as  \r\n`TREE = {\r\n    \"key\" : \"Tree\", \r\n    \"typeclass\" : \"typeclasses.object\", \r\n    \"desc\" : \"A simple tree\"\r\n}\r\n`\r\n2. evennia stop/start to reload server.\r\n3. In game, do @spawn TREE\r\n\r\n\r\n#### Error output / Expected result of feature\r\nAfter spawning tree, observe that there is no object spawned in current location.\r\n@examine <tree's dbref> shows location to be \"None.\r\n\r\nThe result previously was the location was caller's location.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThis is Evennia master branch , at commit 080c2a3b9f71a880811526b9884095013f24828b\r\n\r\nAs FYI - I think I found the root cause of the issue, it looks like potentially two issues:\r\n\r\n1) in \"evennia/commands/default/building.py\", in CmdSpawn towards end of function:\r\n\r\n`if \"noloc\" in self.switches and not \"location\" not in prototype:`\r\n\r\nI think should be:\r\n\r\n`if \"noloc\" not in self.switches and \"location\" not in prototype:`\r\n\r\n2) In evennia/utils/spawner.py\r\n\r\n```\r\ndef _handle_dbref(inp):\r\n    dbid_to_obj(inp, ObjectDB)\r\n```\r\n\r\nshould be \r\n\r\n```\r\ndef _handle_dbref(inp):\r\n    return dbid_to_obj(inp, ObjectDB)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1453", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1453/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1453/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1453/events", "html_url": "https://github.com/evennia/evennia/issues/1453", "id": 261831481, "node_id": "MDU6SXNzdWUyNjE4MzE0ODE=", "number": 1453, "title": "Bug: Deleting multiple related objects lead to uncaught traceback", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-30T09:18:29Z", "updated_at": "2017-09-30T10:00:51Z", "closed_at": "2017-09-30T10:00:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen running a multi-delete, there are uncaught tracebacks.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create the tutorial world\r\n2. Find the drefs of `tut#01` and `tut#16`  (let's say it's 3 and 67\r\n3.  `@delete/force 3 - 67` \r\n\r\nThis raises traceback \r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/home/griatch/Devel/Home/evennia/evennia/evennia/commands/cmdhandler.py\", line 591, in _run_command\r\n    ret = cmd.func()\r\n  File \"/home/griatch/Devel/Home/evennia/evennia/evennia/commands/default/building.py\", line 723, in func\r\n    results.append(delobj(obj))\r\n  File \"/home/griatch/Devel/Home/evennia/evennia/evennia/commands/default/building.py\", line 653, in delobj\r\n    if obj.account and 'override' not in self.switches:\r\n  File \"/home/griatch/Devel/Home/evennia/evennia/evennia/utils/idmapper/models.py\", line 179, in fget\r\n    def fget(cls): return _get_foreign(cls, fieldname)\r\n  File \"/home/griatch/Devel/Home/evennia/evennia/evennia/utils/idmapper/models.py\", line 123, in _get_foreign\r\n    raise ObjectDoesNotExist(\"Cannot access %s: Hosting object was already deleted.\" % fname)\r\nObjectDoesNotExist: Cannot access db_account: Hosting object was already deleted.\r\n```\r\n\r\n#### Error output / Expected result of feature\r\n\r\nIt's not strange that object reference would be deleted before the referencing object is. This did not used to lead to an uncaught traceback. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThis might be a change in the django 1.11 error reporting, maybe.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1451", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1451/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1451/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1451/events", "html_url": "https://github.com/evennia/evennia/issues/1451", "id": 261814892, "node_id": "MDU6SXNzdWUyNjE4MTQ4OTI=", "number": 1451, "title": "RPSystem Contrib CmdSay Doesn't use at_say Hook.", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-30T03:40:36Z", "updated_at": "2017-09-30T12:18:50Z", "closed_at": "2017-09-30T12:18:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe RPSystem Contrib overrides the CmdSay command - but hasn't been updated to use the new at_say hook, it seems.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Install the RPSystem contrib\r\n2. Add the CmdSay to your character\r\n3. Attempt to speak\r\n\r\n#### Error output / Expected result of feature\r\nInstead of your message, Character says: \"None\"\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nIt seems CmdSay from RPSystem doesn't know about our new at_say hook, which isn't surprising.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1450", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1450/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1450/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1450/events", "html_url": "https://github.com/evennia/evennia/issues/1450", "id": 261813971, "node_id": "MDU6SXNzdWUyNjE4MTM5NzE=", "number": 1450, "title": "Tutorial World build fails under Evennia 0.7", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-30T03:22:57Z", "updated_at": "2017-09-30T17:05:13Z", "closed_at": "2017-09-30T17:05:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\\@batchcommand seems to fail under Evennia 0.7\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Start a new instance of Evennia 0.7\r\n2. Follow the directions to create the tutorial_world\r\n3. Tutorial world doesn't get created correctly - missing areas, descriptions, etc\r\n\r\n#### Error output / Expected result of feature\r\nInstead of creating the world and describing everything, we get errors about not being able to find a command. It seems to ignore the @setdesc command, and the current batchcommand Evennia provides still uses @desc, so it fails anyway.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nAny version of 0.7 seems to have this issue.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1448", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1448/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1448/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1448/events", "html_url": "https://github.com/evennia/evennia/issues/1448", "id": 261776682, "node_id": "MDU6SXNzdWUyNjE3NzY2ODI=", "number": 1448, "title": "Webclient Options popup use causes traceback pre-login", "user": {"login": "Pinacolada64", "id": 7505860, "node_id": "MDQ6VXNlcjc1MDU4NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7505860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pinacolada64", "html_url": "https://github.com/Pinacolada64", "followers_url": "https://api.github.com/users/Pinacolada64/followers", "following_url": "https://api.github.com/users/Pinacolada64/following{/other_user}", "gists_url": "https://api.github.com/users/Pinacolada64/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pinacolada64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pinacolada64/subscriptions", "organizations_url": "https://api.github.com/users/Pinacolada64/orgs", "repos_url": "https://api.github.com/users/Pinacolada64/repos", "events_url": "https://api.github.com/users/Pinacolada64/events{/privacy}", "received_events_url": "https://api.github.com/users/Pinacolada64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 708008109, "node_id": "MDU6TGFiZWw3MDgwMDgxMDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "006b75", "default": false, "description": "Help out and win a T-shirt! https://hacktoberfest.digitalocean.com/"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-29T21:32:33Z", "updated_at": "2017-10-12T15:27:09Z", "closed_at": "2017-10-12T15:27:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Brief summary of issue / Description of requested feature:\r\nAttempting to use the webclient options pre-login causes a traceback.\r\nSettings made pre-login are not preserved after login.\r\n \r\n \r\n### Steps to reproduce the issue / Reasons for adding feature:\r\n \r\n1.  Open browser to web client\r\n2.  Attemp to use the webclient options before you log in\r\n3.  Observe traceback in console\r\n \r\n### Error output / Expected result of feature\r\n```\r\n Traceback (most recent call last):\r\n   File \"/home/evennia/evennia/server/sessionhandler.py\", line 762, in call_inputfuncs\r\n     _INPUT_FUNCS[cname](session, *cmdargs, **cmdkwargs)\r\n   File \"/home/evennia/evennia/server/inputfuncs.py\", line 440, in webclient_options\r\n     storedoptions = account.db._saved_webclient_options or {}\r\n AttributeError: 'NoneType' object has no attribute 'db'\r\n```\r\n \r\n### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n \r\n0.7.0 (rev b3c6e9d) master\r\n \r\nPop up the \"You need to be connected\" modal with message changed to \"You need to be logged in\", or hide settings cog until after login, or do not try to save settings to account until after login.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1441", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1441/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1441/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1441/events", "html_url": "https://github.com/evennia/evennia/issues/1441", "id": 259594864, "node_id": "MDU6SXNzdWUyNTk1OTQ4NjQ=", "number": 1441, "title": "Upgrade to Evennia .7 issues", "user": {"login": "Tirit", "id": 9508753, "node_id": "MDQ6VXNlcjk1MDg3NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9508753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tirit", "html_url": "https://github.com/Tirit", "followers_url": "https://api.github.com/users/Tirit/followers", "following_url": "https://api.github.com/users/Tirit/following{/other_user}", "gists_url": "https://api.github.com/users/Tirit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tirit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tirit/subscriptions", "organizations_url": "https://api.github.com/users/Tirit/orgs", "repos_url": "https://api.github.com/users/Tirit/repos", "events_url": "https://api.github.com/users/Tirit/events{/privacy}", "received_events_url": "https://api.github.com/users/Tirit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2017-09-21T18:47:38Z", "updated_at": "2017-09-30T14:54:29Z", "closed_at": "2017-09-30T14:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nTraceback on following the steps on migrating to evennia .7 \r\nUnder the header \"I have custom code in my game dir and/or a database with important data in it\"\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Step 9 fails on the process with the traceback below.\r\n\r\n#### Error output / Expected result of feature\r\n`Apply all migrations: accounts, admin, auth, comms, contenttypes, flatpages, help, objects, players, scripts, server, sessions, sites, typeclasses\r\nRunning migrations:\r\n  Applying typeclasses.0001_initial...Traceback (most recent call last):\r\n  File \"/home/evennia/pyenv/bin/evennia\", line 6, in <module>\r\n    exec(compile(open(__file__).read(), __file__, 'exec'))\r\n  File \"/home/evennia/evennia/bin/unix/evennia\", line 10, in <module>\r\n    main()\r\n  File \"/home/evennia/evennia/evennia/server/evennia_launcher.py\", line 1336, in main\r\n    django.core.management.call_command(*args, **kwargs)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 131, in call_command\r\n    return command.execute(*args, **defaults)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/core/management/base.py\", line 330, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/core/management/commands/migrate.py\", line 204, in handle\r\n    fake_initial=fake_initial,\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/migrations/executor.py\", line 115, in migrate\r\n    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/migrations/executor.py\", line 145, in _migrate_all_forwards\r\n    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/migrations/executor.py\", line 244, in apply_migration\r\n    state = migration.apply(state, schema_editor)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/migrations/migration.py\", line 129, in apply\r\n    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/migrations/operations/models.py\", line 97, in database_forwards\r\n    schema_editor.create_model(model)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/backends/base/schema.py\", line 303, in create_model\r\n    self.execute(sql, params or None)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/backends/base/schema.py\", line 120, in execute\r\n    cursor.execute(sql, params)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 65, in execute\r\n    return self.cursor.execute(sql, params)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/utils.py\", line 94, in __exit__\r\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/backends/utils.py\", line 63, in execute\r\n    return self.cursor.execute(sql)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 101, in execute\r\n    return self.cursor.execute(query, args)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 250, in execute\r\n    self.errorhandler(self, exc, value)\r\n  File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 50, in defaulterrorhandler\r\n    raise errorvalue\r\ndjango.db.utils.OperationalError: (1050, \"Table 'typeclasses_attribute' already exists\")`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nUbuntu 16.04.2 LTS\r\nMySQL 5.7.19-0ubuntu0.16.04.1", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1429", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1429/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1429/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1429/events", "html_url": "https://github.com/evennia/evennia/issues/1429", "id": 257446637, "node_id": "MDU6SXNzdWUyNTc0NDY2Mzc=", "number": 1429, "title": "EvMenu exec option behavior does not conform to docs, raises traceback", "user": {"login": "RyanStein", "id": 5884865, "node_id": "MDQ6VXNlcjU4ODQ4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5884865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanStein", "html_url": "https://github.com/RyanStein", "followers_url": "https://api.github.com/users/RyanStein/followers", "following_url": "https://api.github.com/users/RyanStein/following{/other_user}", "gists_url": "https://api.github.com/users/RyanStein/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanStein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanStein/subscriptions", "organizations_url": "https://api.github.com/users/RyanStein/orgs", "repos_url": "https://api.github.com/users/RyanStein/repos", "events_url": "https://api.github.com/users/RyanStein/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanStein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-09-13T16:40:01Z", "updated_at": "2018-09-30T20:04:34Z", "closed_at": "2018-09-30T19:59:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nAccording to the [documentation for EvMenu](https://github.com/evennia/evennia/wiki/EvMenu), the `exec` option on a menu node should call a function and if it returns a single string argument, the menu will redirect to that node instead. It seems like they're being treated like `goto` options but the return arguments are ignored, and there must be at least two returns or it tracebacks.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n```\r\nfrom evennia.utils.evmenu import EvMenu\r\n\r\ndef exec1(caller):\r\n    caller.msg('Broken.')\r\n    # According to docs, should be just fine, but requires 2 return args.\r\n\r\ndef exec2(caller):\r\n    caller.msg(\"Doesn't TB, but doesn't conform to documentation either.\")\r\n    # Should jump to exec1 with only one argument, but requires 2 or traceback.\r\n    # Doesn't jump even with 2 arguments.\r\n    return \"exec1\", None\r\n\r\ndef start(caller):\r\n    return \"Hello world!\", (\r\n        {\"desc\": \"Exec node 1\", \"exec\": \"exec1\", \"goto\": \"start\"},\r\n        {\"desc\": \"Exec node 2\", \"exec\": \"exec2\", \"goto\": \"start\"},\r\n    )\r\n\r\nEvMenu(self, {\"start\": start, \"exec1\": exec1, \"exec2\": exec2 }, startnode=\"start\")\r\n```\r\n\r\n#### Error output / Expected result of feature\r\n\r\nTracebacks if `exec` does not return two values, which seem to be ignored either way.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nEvennia 0.6 63ccac82", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1429/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1428", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1428/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1428/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1428/events", "html_url": "https://github.com/evennia/evennia/issues/1428", "id": 257439605, "node_id": "MDU6SXNzdWUyNTc0Mzk2MDU=", "number": 1428, "title": "EvMenu custom exit node runs cmd_on_exit twice", "user": {"login": "RyanStein", "id": 5884865, "node_id": "MDQ6VXNlcjU4ODQ4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5884865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanStein", "html_url": "https://github.com/RyanStein", "followers_url": "https://api.github.com/users/RyanStein/followers", "following_url": "https://api.github.com/users/RyanStein/following{/other_user}", "gists_url": "https://api.github.com/users/RyanStein/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanStein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanStein/subscriptions", "organizations_url": "https://api.github.com/users/RyanStein/orgs", "repos_url": "https://api.github.com/users/RyanStein/repos", "events_url": "https://api.github.com/users/RyanStein/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanStein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-09-13T16:15:35Z", "updated_at": "2018-01-28T23:02:28Z", "closed_at": "2018-01-28T23:02:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nOn Evennia 0.6 at least, using a custom exit node runs `cmd_on_exit` twice.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nLoad the following code into `@py/edit` and execute.\r\n\r\n```\r\nfrom evennia.utils.evmenu import EvMenu\r\n\r\ndef start(caller):\r\n    return \"Hello world!\", {\"desc\": \"Custom exit node\", \"goto\": \"exit\"}\r\n\r\ndef exit(caller):\r\n    return None, None\r\n\r\nEvMenu(self, {\"start\": start, \"exit\": exit}, startnode=\"start\")\r\n```\r\n\r\n#### Error output / Expected result of feature\r\nTwo look commands are run by the character. This does not occur if you use the default `quit` command.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nMy guess is that `close_menu()` is being hit twice, possibly in `evtable_parse_input` and `EvMenu.goto`.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1427", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1427/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1427/events", "html_url": "https://github.com/evennia/evennia/issues/1427", "id": 257170138, "node_id": "MDU6SXNzdWUyNTcxNzAxMzg=", "number": 1427, "title": "SSH client \"quit\" causes Exception", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-12T20:26:44Z", "updated_at": "2018-01-27T14:35:35Z", "closed_at": "2018-01-27T14:35:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nUsing the SSH client and issuing \"quit\" or forcefully closing the session leads to an exception:\r\n```\r\n2017-09-12T20:24:17+0000 [AMPProtocol,0,127.0.0.1] [EE] AMP Error for AdminServer2Portal: too many values to unpack\r\n```\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Install Evennia's latest Devel branch, and enable SSH\r\n2. Connect with an SSH client\r\n3. Login, then logout with \"quit\"\r\n\r\n#### Error output / Expected result of feature\r\nEvennia prints the aforementioned error to the command line - expected is a clean exit for the client.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis is the latest version of Evennia.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1421", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1421/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1421/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1421/events", "html_url": "https://github.com/evennia/evennia/issues/1421", "id": 256081068, "node_id": "MDU6SXNzdWUyNTYwODEwNjg=", "number": 1421, "title": "Web client doesn't work behind TLS-enabled reverse proxy.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2017-09-07T21:50:06Z", "updated_at": "2018-09-30T13:06:58Z", "closed_at": "2018-09-30T13:01:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWeb client doesn't work behind TLS-enabled reverse proxy. I was unable to find this issue being duplicated on any forums or on the issue tracker. It works fine when not being accessed through the reverse proxy.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set up NGINX reverse proxy at server 1 with reverse proxy, TLS enabled\r\n\r\n2.  Install game server/portal on server 2, then try to access the web client.\r\n\r\n3. ???\r\n\r\n4. Don't profit, because it doesn't work.\r\n\r\n#### Error output / Expected result of feature\r\nBlank output at web client interface. \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nEDIT:\r\nCurrent solution: Fallback to AJAX by disabling Websocket-enable as recommended by @chainsol .\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1421/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1417", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1417/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1417/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1417/events", "html_url": "https://github.com/evennia/evennia/issues/1417", "id": 255004879, "node_id": "MDU6SXNzdWUyNTUwMDQ4Nzk=", "number": 1417, "title": "Locks on bots (CmdLock not able to affect bot account)", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-04T10:48:08Z", "updated_at": "2017-09-20T19:58:49Z", "closed_at": "2017-09-20T19:58:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Brief summary of issue / Description of requested feature:\r\nThe solution to #701 requires `@lock` to add `no_idle_disconnect:true()` (or any non-False lock, it seems), but I was not able to use `CmdLock` to do this. \r\n\r\n### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. As super-user, use `@irc2chan` to create a bot account.\r\n2. As super-user, use `@lock` to add a lock to the bot account. \r\n\r\n### Error output / Expected result of feature\r\n> [MudInfo] [MudInfo, 2017-09-04(03:42)]: ircbot-PM disconnected (idle timeout exceeded)\r\n\r\n`> @py self.account.search('#14')`\r\nself.account.search('`#14`')\r\nircbot-PM(account 14)  **Expected result - account exists**\r\n\r\n`> @find *#14`\r\nMatch(`#1`-`#1224`):\r\n    No match found.  **Unable to `@find` account 14**\r\n\r\n`> @find *ircbot-PM`\r\nMatch(`#1`-`#1224`):\r\n   No match found. **Unable to `@find` account 14 by name**\r\n\r\n`> @lock/view *ircbot-PM/`\r\nCould not find 'ircbot-PM'.\r\nCould not find '*ircbot-PM'. **Unable to `@lock` account 14 by name**\r\n\r\n`> @lock/view *blaufeuer/`\r\nboot:perm(Admin);delete:perm(Admin);edit:perm(Admin);examine:perm(Admin);msg:all()\r\n**Expected result - account exists and has locks**\r\n\r\n`> @lock/view *#14/`\r\nCould not find '`#14`'.\r\nCould not find '*`#14`'. **Unable to `@lock` account 14 by number**\r\n\r\n`> @lock/view *#3/`\r\nCould not find '`#3`'.\r\nCould not find '*`#3`'. **Unable to `@lock` account 3 by number**\r\n\r\n`> @lock/view *Vincent/`\r\nboot:perm(Admin);delete:perm(Admin);edit:perm(Admin);examine:perm(Admin);msg:all()\r\n**Expected result - account exists and has locks**\r\n\r\n`> @lock *ircbot-PM/no_idle_disconnect`\r\nCould not find 'ircbot-PM'.\r\nCould not find '*ircbot-PM'.\r\n**Unable to view a specific `@lock` on an account 14 by name**\r\n\r\n`> @lock *ircbot-PM=no_idle_disconnect:true()`\r\nCould not find 'ircbot-PM'.\r\nCould not find '*ircbot-PM'.  **Unable to set `@lock` on account 14 by name**\r\n\r\n`> @lock *#14=no_idle_disconnect:true()`\r\nCould not find '`#14`'.\r\nCould not find '*`#14`'.  **Unable to set `@lock` on account 14 by number**\r\n\r\n### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nLatest revision, evennia repo, devel branch, any OS", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1415", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1415/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1415/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1415/events", "html_url": "https://github.com/evennia/evennia/issues/1415", "id": 254705637, "node_id": "MDU6SXNzdWUyNTQ3MDU2Mzc=", "number": 1415, "title": "nicks command fails to take into account non-\"inputline\" categories", "user": {"login": "RyanStein", "id": 5884865, "node_id": "MDQ6VXNlcjU4ODQ4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5884865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanStein", "html_url": "https://github.com/RyanStein", "followers_url": "https://api.github.com/users/RyanStein/followers", "following_url": "https://api.github.com/users/RyanStein/following{/other_user}", "gists_url": "https://api.github.com/users/RyanStein/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanStein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanStein/subscriptions", "organizations_url": "https://api.github.com/users/RyanStein/orgs", "repos_url": "https://api.github.com/users/RyanStein/repos", "events_url": "https://api.github.com/users/RyanStein/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanStein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 718017261, "node_id": "MDU6TGFiZWw3MTgwMTcyNjE=", "url": "https://api.github.com/repos/evennia/evennia/labels/good%20first%20issue", "name": "good first issue", "color": "55ffff", "default": true, "description": "Low hanging fruit for those wanting to help out."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-01T17:33:24Z", "updated_at": "2019-06-29T18:14:13Z", "closed_at": "2019-06-29T18:14:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe stock nicks command does not take into account any of the non-\"inputline\" categories due to default arguments on the NickHandler class, which causes issue for the command's list and delete switches, when it tries to figure out what's in the nicklist.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. nick/object smith = rock\r\n2. nicks\r\n\r\n#### Error output / Expected result of feature\r\nNo nicks defined.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nhttps://github.com/evennia/evennia/blob/63ccac825a4300574c73716bcfb36d7b1a855b0a/evennia/commands/default/general.py#L126\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/48894644-nicks-command-fails-to-take-into-account-non-inputline-categories?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1410", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1410/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1410/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1410/events", "html_url": "https://github.com/evennia/evennia/issues/1410", "id": 254432774, "node_id": "MDU6SXNzdWUyNTQ0MzI3NzQ=", "number": 1410, "title": "EvForm and automatic cropping", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-31T18:49:58Z", "updated_at": "2017-09-20T20:08:02Z", "closed_at": "2017-09-20T20:08:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhile `EvForm` automatically crops text that is too long for a line or set of lines, giving it a different `crop_string` does seem to be ignored.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create an EvForm (can contain a single field).\r\n\r\n```python\r\n# testform.py\r\nFORMCHAR = \"x\"\r\nTABLECHAR = \"c\"\r\n\r\nFORM = \"\"\"\r\n.--------------------.\r\n|                    |\r\n|  Desc: xxxxxxxxxxx |\r\n|                    |\r\n.--------------------|\r\n\"\"\"\r\n```\r\n2. Connect to the server and display the EvForm with something like: `@py ev.utils.evform.EvForm(\"testform\", {1: \"A very long name with more characters\"})`\r\n3. Do the same thing but provide a `crop_string`: `ev.utils.evform.EvForm(\"testform\", {1: \"A very long name with more characters\"}, crop_string=\"[ ... ]\", crop=True)`\r\n\r\n#### Error output / Expected result of feature\r\n\r\nThis will result in the long text being cropped, as expected.  However, the `crop_string` (step 3) doesn't seem to be taken into account.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n- Evennia devel.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1407", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1407/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1407/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1407/events", "html_url": "https://github.com/evennia/evennia/issues/1407", "id": 253631907, "node_id": "MDU6SXNzdWUyNTM2MzE5MDc=", "number": 1407, "title": "Persistent delays connected to deleted objects can break server restart", "user": {"login": "Flabsy", "id": 23117470, "node_id": "MDQ6VXNlcjIzMTE3NDcw", "avatar_url": "https://avatars.githubusercontent.com/u/23117470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flabsy", "html_url": "https://github.com/Flabsy", "followers_url": "https://api.github.com/users/Flabsy/followers", "following_url": "https://api.github.com/users/Flabsy/following{/other_user}", "gists_url": "https://api.github.com/users/Flabsy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flabsy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flabsy/subscriptions", "organizations_url": "https://api.github.com/users/Flabsy/orgs", "repos_url": "https://api.github.com/users/Flabsy/repos", "events_url": "https://api.github.com/users/Flabsy/events{/privacy}", "received_events_url": "https://api.github.com/users/Flabsy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-29T12:03:30Z", "updated_at": "2017-09-20T20:08:14Z", "closed_at": "2017-09-20T20:08:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nConnecting utils.delay(persistent=True) to an object and then deleting that object causes server reloads to break early. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create an object.\r\n2. Create a utils.delay(persistent=True) with a callback method on that object.\r\n3. Delete the object, then restart the server.\r\n\r\n#### Error output / Expected result of feature\r\n\"564h, 100s, 0m -flr>@reload\r\n Server restart initiated ...\r\n Server restarting ...\r\nThe bright sun shines all around you.\r\n564h, 100s, 0m -flr>\"\r\n\r\nAs you see above, \"Server restarted\" never shows, but the server appears to finish booting and runs. No errlogs were created during this bug.\r\n\r\n\"564h, 100s, 0m -flr>@py evennia.scripts.taskhandler.TASK_HANDLER.tasks\r\nevennia.scripts.taskhandler.TASK_HANDLER.tasks\r\n{}\"\r\n\r\nOddly enough, no persistent tasks appear even though the server seems to be attempting to call them.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nAs per Vincent's suggestion, using '@py evennia.scripts.taskhandler.TASK_HANDLER.save()' solved the problem, and the server is properly restarting once more.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1407/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1405", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1405/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1405/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1405/events", "html_url": "https://github.com/evennia/evennia/issues/1405", "id": 253201922, "node_id": "MDU6SXNzdWUyNTMyMDE5MjI=", "number": 1405, "title": "@reloading and typeclasses", "user": {"login": "Tirit", "id": 9508753, "node_id": "MDQ6VXNlcjk1MDg3NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9508753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tirit", "html_url": "https://github.com/Tirit", "followers_url": "https://api.github.com/users/Tirit/followers", "following_url": "https://api.github.com/users/Tirit/following{/other_user}", "gists_url": "https://api.github.com/users/Tirit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tirit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tirit/subscriptions", "organizations_url": "https://api.github.com/users/Tirit/orgs", "repos_url": "https://api.github.com/users/Tirit/repos", "events_url": "https://api.github.com/users/Tirit/events{/privacy}", "received_events_url": "https://api.github.com/users/Tirit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-28T00:43:48Z", "updated_at": "2018-01-28T22:30:58Z", "closed_at": "2018-01-28T22:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n@reloading doesn't allow the the typeclasses always to load. Seems to be random as not all the same rooms of the same typeclasses are doing it can be different rooms on each reload. \r\n@typeclass/force/reset here=ccrooms.CCRoom works fine and finds the typeclass and gives no traceback.\r\n\r\n#### Error output / Expected result of feature\r\n```\r\n Traceback (most recent call last):\r\n File \"/home/evennia/evennia/evennia/typeclasses/models.py\", line 210, in set_class_from_typeclass\r\n       self.__class__ = class_from_module(self.db_typeclass_path)\r\n File \"/home/evennia/evennia/evennia/utils/utils.py\", line 1397, in class_from_module\r\n    raise ImportError(err)\r\nImportError: Could not load typeclass 'typeclasses.ccrooms.CCRoom'.\r\n```\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nRoom module is simple and only a few lines. \r\n```\r\nfrom typeclasses.rooms import Room\r\nfrom commands.cccmds import CharCreateCmdset\r\n\r\nclass CCRoom(Room):\r\n    def at_object_creation(self):\r\n        self.db.security_rating = \"Character Creation\"\r\n        self.db.brackets = \"\"\r\n        self.db.law_enforcement = None\r\n        self.db.gang = None\r\n        self.db.address = None\r\n        self.db.desc = 'This room has not had a description set to it yet, please speak with Bremen if ' \\\r\n                        'you are wanting to help.'\r\n        self.cmdset.add(CharCreateCmdset, permanent=True)\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1400", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1400/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1400/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1400/events", "html_url": "https://github.com/evennia/evennia/issues/1400", "id": 251857586, "node_id": "MDU6SXNzdWUyNTE4NTc1ODY=", "number": 1400, "title": "SaverMutable will raise ValueError on operations if underlying Attribute removed", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-22T07:04:35Z", "updated_at": "2017-08-25T03:52:53Z", "closed_at": "2017-08-25T03:52:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSaverLists, SaverDicts, etc, all store the underlying Attribute as its `._db_obj` attribute, and set the Attribute's .value appropriately upon assignment, allowing for dict and list operations to save their state without needing to be reassigned to the Attribute. I ran into a strange edge case where if you're not careful, you could get a confusing error. If the underlying Attribute is deleted while the mutable still exists, you'll see the following traceback:\r\n```\r\nTraceback (most recent call last):\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/commands/cmdhandler.py\", line 584, in _run_command\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     ret = cmd.func()\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"./commands/commands/jobs.py\", line 447, in func\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     invite_dict[targ] = ticket\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/utils/dbserialize.py\", line 118, in save_wrapper\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     self._save_tree()\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/utils/dbserialize.py\", line 145, in _save_tree\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     self._db_obj.value = self\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/typeclasses/attributes.py\", line 152, in __value_set\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     self.save(update_fields=[\"db_value\"])\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/utils/idmapper/models.py\", line 382, in save\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     super(SharedMemoryModel, self).save(*args, **kwargs)\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 708, in save\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     force_update=force_update, update_fields=update_fields)\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 736, in save_base\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 792, in _save_table\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::]     raise ValueError(\"Cannot force an update in save() with no primary key.\")\r\n2017-08-18T16:07:17-0400 [AMPProtocol,0,127.0.0.1] [::] ValueError: Cannot force an update in save() with no primary key.\r\n```\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. my_dict = self.db.some_dict_attr\r\n2. self.attributes.remove('some_dict_attr')\r\n3. my_dict[some_key] = some_value\r\n\r\n#### Error output / Expected result of feature\r\nThe above traceback.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nIt's a wacky edge case that I only ran into when I was popping keys from a dictionary stored in an Attribute, removing the Attribute if the dict was empty, and then a player requested that I re-add the previous key on some failure condition. While it's easy to avoid, I was trying to think if there'd be some elegant way to have the SaverMutables handle this, but not sure if there's a good solution. Are the fields of a deleted object still accessible after it's been deleted? If so, maybe could create a new Attribute and save it.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1397", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1397/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1397/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1397/events", "html_url": "https://github.com/evennia/evennia/issues/1397", "id": 250745184, "node_id": "MDU6SXNzdWUyNTA3NDUxODQ=", "number": 1397, "title": "IRCBot doesn't like objects subscribed to his channel", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-16T20:10:57Z", "updated_at": "2017-09-20T19:58:49Z", "closed_at": "2017-09-20T19:58:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nWhen you subscribe objects (like characters instead of players) to a channel IRCBot uses, there's an error on every message sent from IRC.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Subscribe a character to the public channel.  This channel should be connected to IRC with IRCBot.\r\n2. Speak on the IRC channel.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nIn the console can be found the following, tiny traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/avenew/evennia/evennia/objects/objects.py\", line 511, in msg\r\n    from_obj.at_msg_send(text=text, to_obj=self, **kwargs)\r\nAttributeError: 'list' object has no attribute 'at_msg_send'\r\n```\r\n\r\nA few things appear quite clearly:\r\n\r\n- The message gets sent to the character anyway.\r\n- The error indicates that `from_obj` contains a list, which is not supported by the `Object` class.\r\n\r\n#### What to do\r\n\r\nFrom there there are two obvious possibilities:\r\n\r\n- Fix the IRCBot, finding the original error.\r\n- Add the ability, for objects, to have a `from_obj` containing a sequence instead of only an object.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1397/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1396", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1396/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1396/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1396/events", "html_url": "https://github.com/evennia/evennia/issues/1396", "id": 250442116, "node_id": "MDU6SXNzdWUyNTA0NDIxMTY=", "number": 1396, "title": "Bug: Core unittest suite fails on heavily modified game dir", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-15T21:18:21Z", "updated_at": "2019-09-28T16:47:25Z", "closed_at": "2019-09-28T16:47:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue:\r\n\r\nRelatively recent changes of the unittest runner allows the user to use `evennia --settings settings.py .` to execute tests in the game directory only. Accompanying this change was that the notion that the \"core\" unittest suite would fall back to only use `evennia/settings_default.py`, so that core tests always behave in the same way regardless of the game.\r\n\r\nUnfortunately, this \"isolation\" is currently not fully working. In the example of all of [Ainneve's issues](https://github.com/evennia/ainneve/pull/96), they all fail the Evennia core unittest suite. The same suite passes with a default, newly created game dir. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Clone the [Ainneve game dir repository](https://github.com/evennia/ainneve) and `cd` to it.\r\n2. `evennia migrate` to create a new database\r\n3. `evennia test evennia` to run the (now failing) unittest suite.\r\n\r\n#### Error output / expected\r\n\r\nThe unit test suite fails with Ainneve. The core unittest suite (`evennia test evennia`) should always pass independently of what changes was done to the game dir. \r\n\r\n#### Extra information:\r\n\r\nI suspect we'll have to mock the unittest internal settings to make sure to not accept any overrides from the game dir the game is running from. Ainneve makes for a good test case since it's a relatively heavily modified example game with its own unit test suite and CI setup. \r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/48296151-bug-core-unittest-suite-fails-on-heavily-modified-game-dir?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1396/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1395", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1395/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1395/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1395/events", "html_url": "https://github.com/evennia/evennia/issues/1395", "id": 250277026, "node_id": "MDU6SXNzdWUyNTAyNzcwMjY=", "number": 1395, "title": "Empty lines appearing in telnet clients after msg", "user": {"login": "Flabsy", "id": 23117470, "node_id": "MDQ6VXNlcjIzMTE3NDcw", "avatar_url": "https://avatars.githubusercontent.com/u/23117470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flabsy", "html_url": "https://github.com/Flabsy", "followers_url": "https://api.github.com/users/Flabsy/followers", "following_url": "https://api.github.com/users/Flabsy/following{/other_user}", "gists_url": "https://api.github.com/users/Flabsy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flabsy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flabsy/subscriptions", "organizations_url": "https://api.github.com/users/Flabsy/orgs", "repos_url": "https://api.github.com/users/Flabsy/repos", "events_url": "https://api.github.com/users/Flabsy/events{/privacy}", "received_events_url": "https://api.github.com/users/Flabsy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-08-15T10:22:32Z", "updated_at": "2018-01-28T22:19:50Z", "closed_at": "2018-01-28T22:19:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIn my telnet client (Mudlet), empty lines are appearing after every message sent to a player. The webclient provided by Evennia doesn't seem to have this issue.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Connect with Mudlet (or another telnet client)\r\n2. Receive any line from the MUD\r\n3. Empty space appears!\r\n\r\n#### Error output / Expected result of feature\r\nEX:\r\nA nondescript room\r\nThis is a pretty boring looking room, yo.\r\nYou see a single exit leading northwest.\r\n\r\n593h, 100s, 0m -flr>\r\n*Note the empty line above the prompt\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nGriatch suggests it could be an issue with the telnet protocols.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1392", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1392/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1392/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1392/events", "html_url": "https://github.com/evennia/evennia/issues/1392", "id": 249840383, "node_id": "MDU6SXNzdWUyNDk4NDAzODM=", "number": 1392, "title": "Bug: Issues with ANSIString", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-12T22:57:57Z", "updated_at": "2017-08-13T15:34:23Z", "closed_at": "2017-08-13T15:34:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue\r\n\r\nThis was originally brought up by @tekmunkey [here](https://github.com/evennia/evennia/pull/1386). The `ANSIString.center` is failing. \r\n\r\n\r\n    Using @py, 3 arguments gets:\r\n\r\n    >>> from evennia.utils.ansi import ANSIString; teststr = ANSIString(\"|h|rMy testing string|n\");self.msg(teststr.center(78,\"-\",2))\r\n    TypeError: wrapped() takes at most 3 arguments (4 given)\r\n\r\n    Using @py, 2 arguments gets:\r\n\r\n    >>> from evennia.utils.ansi import ANSIString; teststr = ANSIString(\"|h|rMy testing string|n\");self.msg(teststr.center(78,\"-\"))\r\n    Done (use self.msg() if you want to catch output)\r\n\r\n\r\n#### Error output / Expected result of feature\r\n\r\nSee above.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nIt is possible that The latter issue may be an error with the outputhandler and a direct ANSIString - it may not identify as a \"string\" and thus mix up the outputfunc which in the case of a non-string should have the look `(name, (args), {kwargs})` (where the various parts are optional). ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1392/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1388", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1388/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1388/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1388/events", "html_url": "https://github.com/evennia/evennia/issues/1388", "id": 248221709, "node_id": "MDU6SXNzdWUyNDgyMjE3MDk=", "number": 1388, "title": "Tests failed for in-game python contrib", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-08-06T02:46:54Z", "updated_at": "2017-09-01T09:49:56Z", "closed_at": "2017-09-01T09:49:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI'm finally trying to start writing unit tests for some of my own code, and was trying to get the test runner working right for my own settings file. It threw syntax errors on the unit tests for the in-game python contrib with an error I'm really unfamiliar with:\r\n\r\n```\r\n======================================================================\r\nERROR: test_accept (evennia.contrib.ingame_python.tests.TestCmdCallback)\r\nAccept an callback.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\arx\\evennia\\evennia\\contrib\\ingame_python\\tests.py\", line 252, in setUp\r\n    \"evennia.contrib.ingame_python.scripts.EventHandler\")\r\n  File \"c:\\arx\\evennia\\evennia\\utils\\create.py\", line 178, in create_script\r\n    typeclass = class_from_module(typeclass, settings.TYPECLASS_PATHS)\r\n  File \"c:\\arx\\evennia\\evennia\\utils\\utils.py\", line 1357, in class_from_module\r\n    mod = import_module(testpath, package=\"evennia\")\r\n  File \"C:\\Python27\\Lib\\importlib\\__init__.py\", line 37, in import_module\r\n    __import__(name)\r\nSyntaxError: unqualified exec is not allowed in function 'call' it contains a nested function with free variables (scripts.py, line 448)\r\n```\r\n\r\nThe above error repeated for each unit test.\r\n\r\nLooking at this [stackoverflow post](https://stackoverflow.com/questions/9195309/any-explanation-of-execs-behavior), it seems that it's a python 2.x problem - in 3.x, exec() is a function, which is how it was used there, but previously it needs to be qualified with the 'in' syntax if there's generators used in the function it's called.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. I ran `evennia test --settings settings.py evennia`\r\n2. Saw above error\r\n\r\n#### Error output / Expected result of feature\r\nAbove traceback for each unit test.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nSome sort of compatibility fix so it runs in both python 2.7 and 3.x? I'm not sure what a good solution is there.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1388/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1382", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1382/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1382/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1382/events", "html_url": "https://github.com/evennia/evennia/issues/1382", "id": 246386198, "node_id": "MDU6SXNzdWUyNDYzODYxOTg=", "number": 1382, "title": "`@IRC2CHAN` seems to be affected by IDLE_TIMEOUT setting", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-28T15:45:25Z", "updated_at": "2017-08-02T23:10:12Z", "closed_at": "2017-08-02T23:10:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIRC bot disconnects if the attached channel on both ends are idle for the timeout period.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Apply `IRC_ENABLED = True` setting\r\n2. `@irc2chan <existing evennia channel> = <ircnetwork> <port> <#irchannel> <botname>` \r\n3. (Wait IDLE_TIMEOUT period where channel on each end has not been active)\r\n\r\n#### Error output / Expected result of feature\r\nNo output in Evennia.  It quietly disconnects, never being announced on MudInfo.\r\nIt seems reasonable to expect disconnection announcements since it announces connections.  The only clue that it disappeared is on the IRC side: \r\n`*** Signoff: BOT (Client exited)`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nlatest master branch, Linux\r\n\r\nIRC bot could regularly ping when no activity to elicit a response from the IRC server, or be immune to IDLE_TIMEOUT setting. ", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1376", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1376/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1376/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1376/events", "html_url": "https://github.com/evennia/evennia/issues/1376", "id": 245184311, "node_id": "MDU6SXNzdWUyNDUxODQzMTE=", "number": 1376, "title": "MySQL has gone away - Webclient fails to connect", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 721201115, "node_id": "MDU6TGFiZWw3MjEyMDExMTU=", "url": "https://api.github.com/repos/evennia/evennia/labels/help%20wanted", "name": "help wanted", "color": "aaffff", "default": true, "description": "We specifically want more help on this one."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-07-24T19:29:12Z", "updated_at": "2018-01-23T17:08:45Z", "closed_at": "2018-01-23T17:08:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe webclient, after Evennia has been running for a while ( 8+ hours ), will refuse to connect, however telnet connections still work fine, and the website stays up.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1.  Start Evennia with a MySQL connection set up\r\n2.  Leave Evennia running for 8+ hours\r\n3.  Webclient will refuse to connect.\r\n\r\n#### Error output / Expected result of feature\r\n```\r\nFile \"/home/nmatlaga/.virtualenvs/evennia/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\r\n\t    raise errorclass, errorvalue\r\n\tdjango.db.utils.OperationalError: (2006, 'MySQL server has gone away')\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI know a previous issue addressed this, I think #619. However, as telnet has no problems, it seems pretty obvious that this is an issue with Evennia leaving open a connection for an extended period of time.\r\nEdit: Of course, I could be off the mark here - maybe there's a setting in Evennia to time out webclient connections that I don't know about. I don't think that setting the MySQL timeout longer is a good idea, though.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1372", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1372/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1372/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1372/events", "html_url": "https://github.com/evennia/evennia/issues/1372", "id": 244831162, "node_id": "MDU6SXNzdWUyNDQ4MzExNjI=", "number": 1372, "title": "Importing commands in a view causes `evennia check` to fail", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-22T07:39:06Z", "updated_at": "2017-09-20T19:58:49Z", "closed_at": "2017-09-20T19:58:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nDoing `evennia check` will go through all views, and if any of the views have imports that are typeclasses that use the flat API, or any commands, it will raise a metaclass error. I believe this is due to the flat API initially setting the values to None before it initializes them, but for some reason `evennia check` will get them before they're properly assigned, which causes an error.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Have a view import a typeclass or command that uses the flat API for its bases.\r\n2. use `evennia check`\r\n\r\n#### Error output / Expected result of feature\r\nSomething like the following:\r\n```\r\n(arx) c:\\arx\\arx>evennia check\r\nTraceback (most recent call last):\r\n  File \"c:\\arx\\Scripts\\evennia_launcher.py\", line 6, in <module>\r\n    exec(compile(open(__file__).read(), __file__, 'exec'))\r\n  File \"C:\\arx\\evennia\\bin\\windows\\evennia_launcher.py\", line 16, in <module>\r\n    main()\r\n  File \"c:\\arx\\evennia\\evennia\\server\\evennia_launcher.py\", line 1333, in main\r\n    django.core.management.call_command(*args, **kwargs)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 119, in call_command\r\n    return command.execute(*args, **defaults)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\management\\base.py\", line 399, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\management\\commands\\check.py\", line 51, in handle\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\management\\base.py\", line 426, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\checks\\registry.py\", line 75, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\checks\\urls.py\", line 13, in check_url_config\r\n    return check_resolver(resolver)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\checks\\urls.py\", line 23, in check_resolver\r\n    for pattern in resolver.url_patterns:\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\utils\\functional.py\", line 33, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\urlresolvers.py\", line 417, in url_patterns\r\n    patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\utils\\functional.py\", line 33, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\core\\urlresolvers.py\", line 410, in urlconf_module\r\n    return import_module(self.urlconf_name)\r\n  File \"C:\\Python27\\Lib\\importlib\\__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"c:\\arx\\arx\\web\\urls.py\", line 43, in <module>\r\n    namespace='help_topics', app_name='help_topics')),\r\n  File \"c:\\arx\\Lib\\site-packages\\django\\conf\\urls\\__init__.py\", line 52, in include\r\n    urlconf_module = import_module(urlconf_module)\r\n  File \"C:\\Python27\\Lib\\importlib\\__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"c:\\arx\\arx\\web\\help_topics\\urls.py\", line 10, in <module>\r\n    from .views import (topic, list_commands, list_topics, list_recipes,\r\n  File \"c:\\arx\\arx\\web\\help_topics\\views.py\", line 8, in <module>\r\n    from commands.default_cmdsets import PlayerCmdSet, CharacterCmdSet\r\n  File \"c:\\arx\\arx\\commands\\default_cmdsets.py\", line 17, in <module>\r\n    from evennia.commands.default import cmdset_character, cmdset_player, cmdset_session, cmdset_unloggedin\r\n  File \"c:\\arx\\evennia\\evennia\\commands\\default\\cmdset_character.py\", line 8, in <module>\r\n    from evennia.commands.default import general, help, admin, system\r\n  File \"c:\\arx\\evennia\\evennia\\commands\\default\\help.py\", line 14, in <module>\r\n    from evennia.utils import create, evmore\r\n  File \"c:\\arx\\evennia\\evennia\\utils\\evmore.py\", line 51, in <module>\r\n    class CmdMore(Command):\r\nTypeError: Error when calling the metaclass bases\r\n    cannot create 'NoneType' instances\r\n```\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThis seems like a really minor issue, but I just wanted to mention it in case if anything else django checks or does might cause some similar issue in the future, since it took me a little bit to realize what was going on. A workaround is just not directly importing commands/cmdsets at the top level of views and just putting them as local imports in the individual views/classes. It might be resolved completely if things like `evmore` remove use of the flat API, but I'm not sure if that's worthwhile/desirable.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1369", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1369/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1369/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1369/events", "html_url": "https://github.com/evennia/evennia/issues/1369", "id": 244099632, "node_id": "MDU6SXNzdWUyNDQwOTk2MzI=", "number": 1369, "title": "The fix for #310 stops escaping HTML in the webclient", "user": {"login": "j-f1", "id": 25517624, "node_id": "MDQ6VXNlcjI1NTE3NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/25517624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j-f1", "html_url": "https://github.com/j-f1", "followers_url": "https://api.github.com/users/j-f1/followers", "following_url": "https://api.github.com/users/j-f1/following{/other_user}", "gists_url": "https://api.github.com/users/j-f1/gists{/gist_id}", "starred_url": "https://api.github.com/users/j-f1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j-f1/subscriptions", "organizations_url": "https://api.github.com/users/j-f1/orgs", "repos_url": "https://api.github.com/users/j-f1/repos", "events_url": "https://api.github.com/users/j-f1/events{/privacy}", "received_events_url": "https://api.github.com/users/j-f1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}, {"id": 1089637969, "node_id": "MDU6TGFiZWwxMDg5NjM3OTY5", "url": "https://api.github.com/repos/evennia/evennia/labels/web", "name": "web", "color": "557799", "default": false, "description": "This issue is website or webclient related."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-07-19T16:27:06Z", "updated_at": "2019-06-29T16:49:19Z", "closed_at": "2019-06-29T16:49:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of the issue:\r\nThe fix for #310 stopped Evennia from modifying the content of the output of the `@py` command. This causes HTML to be passed through without escaping\r\n\r\n#### Steps to reproduce the issue:\r\n\r\nRun `@py '<script>alert(\"xss!!1\")</script><h1>This is an H1</h1>'`\r\n\r\n#### Expected output:\r\n```\r\n>>> '<script>alert(\"xss!!1\")</script><h1>This is an H1</h1>'\r\n<script>alert(\"xss!!1\")</script><h1>This is an H1</h1>\r\n```\r\n\r\n#### Actual output:\r\n<pre><code>\r\n>>> '<h1>This is an H1</h1>'\r\n<h1>This is an H1</h1>\r\n</pre></code>\r\n\r\nas well as two `alert()` boxes saying \u201cxss!!1\u201d\r\n\r\n#### More info:\r\n\r\nThis also causes a problem when printing out objects, because the default return value of `__str__` looks like this:\r\n\r\n```\r\n<object\u00a0object\u00a0at\u00a00x1002cd090>\r\n```\r\n\r\nThis renders a literal `<object>` element into the webclient.\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/47400194-the-fix-for-310-stops-escaping-html-in-the-webclient?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1367", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1367/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1367/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1367/events", "html_url": "https://github.com/evennia/evennia/issues/1367", "id": 243803672, "node_id": "MDU6SXNzdWUyNDM4MDM2NzI=", "number": 1367, "title": "IRC Bot Sends Raw |h Symbol", "user": {"login": "chainsol", "id": 1364075, "node_id": "MDQ6VXNlcjEzNjQwNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1364075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chainsol", "html_url": "https://github.com/chainsol", "followers_url": "https://api.github.com/users/chainsol/followers", "following_url": "https://api.github.com/users/chainsol/following{/other_user}", "gists_url": "https://api.github.com/users/chainsol/gists{/gist_id}", "starred_url": "https://api.github.com/users/chainsol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chainsol/subscriptions", "organizations_url": "https://api.github.com/users/chainsol/orgs", "repos_url": "https://api.github.com/users/chainsol/repos", "events_url": "https://api.github.com/users/chainsol/events{/privacy}", "received_events_url": "https://api.github.com/users/chainsol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-18T18:10:32Z", "updated_at": "2017-08-07T18:02:55Z", "closed_at": "2017-08-07T18:02:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe IRC bot sends |h as-is.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Connect an IRC channel to Evennia\r\n2. Send a message including |h\r\n\r\n#### Error output / Expected result of feature\r\nEvennia doesn't convert |h, since it's missing in the Regex options in irc.py\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nAdd a regex that either just strips |h, or uses IRC bold instead.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1364", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1364/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1364/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1364/events", "html_url": "https://github.com/evennia/evennia/issues/1364", "id": 243268058, "node_id": "MDU6SXNzdWUyNDMyNjgwNTg=", "number": 1364, "title": "Wilderness.py exits created in wilderness aren't added to manifest", "user": {"login": "BigJMoney", "id": 28933626, "node_id": "MDQ6VXNlcjI4OTMzNjI2", "avatar_url": "https://avatars.githubusercontent.com/u/28933626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BigJMoney", "html_url": "https://github.com/BigJMoney", "followers_url": "https://api.github.com/users/BigJMoney/followers", "following_url": "https://api.github.com/users/BigJMoney/following{/other_user}", "gists_url": "https://api.github.com/users/BigJMoney/gists{/gist_id}", "starred_url": "https://api.github.com/users/BigJMoney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BigJMoney/subscriptions", "organizations_url": "https://api.github.com/users/BigJMoney/orgs", "repos_url": "https://api.github.com/users/BigJMoney/repos", "events_url": "https://api.github.com/users/BigJMoney/events{/privacy}", "received_events_url": "https://api.github.com/users/BigJMoney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-16T21:35:52Z", "updated_at": "2017-08-08T15:57:45Z", "closed_at": "2017-08-08T15:57:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen a regular exit is placed into coordinates in a wilderness, it will not persist there because it is never added to the WildernessScript's manifest.\r\n\r\nLong explanation:\r\nThe wilderness.py special room class overrides a room's *at_object_receive()*; this is where things are saved to the wilderness manifest or not.\r\n\r\nI beleive the assumption here is \"if an exit's destination = location, it must be one of the special wilderness exits that loops into itself\"\r\n\r\nHowever, *at_object_receive()* is run in the middle of *create_object()*, but after a function called *basetype_setup()*; a function that sets every DefaultExit.destination = DefaultExit.location.\r\n\r\nSo the final value for WildernessExit.destination is determined after it is checked by the contrib.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\nNote that it might not be possible to reproduce this without #1362 blocking\r\n1. In a sample game, set up the pyramid tutorial explained in the Wilderness contrib\r\n2. Once inside the pyramid, `@open` an exit (default class) that leads to Limbo#2\r\n3. Walk out of this room and back in (west; east)\r\n\r\n#### Error output / Expected result of feature\r\nThe exit placed in the previous room is no longer there", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1356", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1356/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1356/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1356/events", "html_url": "https://github.com/evennia/evennia/issues/1356", "id": 239721981, "node_id": "MDU6SXNzdWUyMzk3MjE5ODE=", "number": 1356, "title": "`@py` sends command and return value to first session, not initiating session.", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-30T09:15:34Z", "updated_at": "2017-10-12T16:04:12Z", "closed_at": "2017-10-12T16:04:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Brief summary of issue / Description of requested feature:\r\nIn `MULTISESSION_MODE = 1`, the output of the `@py` command sends command and return value to first session, not initiating session.\r\n\r\n### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Connect two different sessions to the same `@py` enabled account.\r\n2. Use `@py` command from each session.\r\n3. Note only the first session receives command and return value output.\r\n\r\n### Error output / Expected result of feature\r\nStep 3 is the error output. Expected output is the initiating session (which might be, but is not necessarily, the first session) of the `@py` command should receive the output, instead.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nCurrent version, tested with Linux", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1354", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1354/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1354/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1354/events", "html_url": "https://github.com/evennia/evennia/issues/1354", "id": 238439660, "node_id": "MDU6SXNzdWUyMzg0Mzk2NjA=", "number": 1354, "title": "Strange issues from flush_cache", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-26T04:34:59Z", "updated_at": "2019-09-04T18:59:57Z", "closed_at": "2019-09-04T18:59:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSo I run a pretty hefty script on a weekly basis that does a ton of updates of different things - deleting old objects, resetting values, that sort of thing. And to avoid caching issues, I decided to run `flush_cache()` from the idmapper. Since then, I've had a few different strange issues. On two occasions, after the script run, trying to access pages in django admin had the page loading indefinitely. Trying to reload the server after that point would cause the shutdown process to wait for the pending web requests to finish forever, as far as I could tell, requiring the server to be killed. This last time, a player trying to access our boards ran into a recursion depth error, which I'm guessing must also be caching related somehow.\r\n```\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/commands/cmdhandler.py\", line 584, in _run_command\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     ret = cmd.func()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"./commands/commands/bboards.py\", line 213, in func\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     bb.read_post(caller, post)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/arx/typeclasses/bulletin_board/bboard.py\", line 226, in read_post\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self.mark_read(caller, post)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/arx/typeclasses/bulletin_board/bboard.py\", line 242, in mark_read\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     for alt in (ob.player for ob in caller.roster.alts):\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 258, in __iter__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self._fetch_all()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 1074, in _fetch_all\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self._result_cache = list(self.iterator())\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 83, in __iter__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     pk = getattr(obj, field.get_attname())\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query_utils.py\", line 147, in __get__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     val = getattr(instance, self.field_name)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query_utils.py\", line 147, in __get__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     val = getattr(instance, self.field_name)\r\n```\r\nThe above line repeated a few hundred times, then ends with...\r\n```\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     val = getattr(instance, self.field_name)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query_utils.py\", line 146, in __get__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     instance.refresh_from_db(fields=[self.field_name])\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 592, in refresh_from_db\b\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     db_instance = db_instance_qs.get()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 381, in get\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     num = len(clone)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 240, in __len__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self._fetch_all()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 1074, in _fetch_all\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self._result_cache = list(self.iterator())\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 52, in __iter__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     results = compiler.execute_sql()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 837, in execute_sql\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     sql, params = self.as_sql()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 382, in as_sql\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     extra_select, order_by, group_by = self.pre_sql_setup()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 48, in pre_sql_setup\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self.setup_query()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 39, in setup_query\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self.select, self.klass_info, self.annotation_col_map = self.get_select()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 196, in get_select\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     for c in self.get_default_columns():\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 503, in get_default_columns\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     only_load = self.deferred_to_columns()\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 774, in deferred_to_columns\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self.query.deferred_to_data(columns, self.query.get_loaded_field_names_cb)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 683, in deferred_to_data\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     for model in orig_opts.get_parent_list():\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/options.py\", line 674, in get_parent_list\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     result = OrderedSet(self.parents)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/utils/datastructures.py\", line 14, in __init__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self.dict = OrderedDict(((x, None) for x in iterable) if iterable else [])\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/lib/python2.7/collections.py\", line 69, in __init__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     self.__update(*args, **kwds)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/lib/python2.7/_abcoll.py\", line 564, in update\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     if isinstance(other, Mapping):\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/lib/python2.7/abc.py\", line 132, in __instancecheck__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     if subclass is not None and subclass in cls._abc_cache:\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/lib/python2.7/_weakrefset.py\", line 72, in __contains__\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::]     wr = ref(item)\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [::] RuntimeError: maximum recursion depth exceeded\r\n2017-06-26T00:04:32-0400 [AMPProtocol,0,127.0.0.1] [EE] User input was: '@bbnew'.\r\n```\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. No clue on reproduction yet, beyond it seeming tied to `flush_cache`\r\n\r\n#### Error output / Expected result of feature\r\nDifferent, possibly unrelated bugs. Hang in django admin, recursion error on a command.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nNo idea yet. But at least I'm on master branch now. yay!\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/46586058-strange-issues-from-flush_cache?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1353", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1353/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1353/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1353/events", "html_url": "https://github.com/evennia/evennia/issues/1353", "id": 238375742, "node_id": "MDU6SXNzdWUyMzgzNzU3NDI=", "number": 1353, "title": "Bug: ANSI failing for some clients after reload", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-06-25T11:42:27Z", "updated_at": "2018-01-28T22:41:26Z", "closed_at": "2018-01-28T22:41:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA few players have reported an issue where after server reloads, their clients will no longer use ANSI correctly. It varies for client: for TinyFugue, one user reported that his `@options xterm256` flag becomes toggled to False, while one on MushClient reported the opposite. A player using SimpleMU, which does not support xterm256 at all, mentioned that after and server `@reload` his colors will go haywire - he'll see things like at random it seems that some things will have their background ansi color set to the same as the foreground, making them invisible. https://www.dropbox.com/s/08ddg5ttf5dhf99/Screen_%202017-06-23_580.jpg?dl=0 is an example he linked.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `@reload` server, some users reporting strange behavior in ANSI following.\r\n\r\n#### Error output / Expected result of feature\r\nAbove link for SimpleMU, different protocol flags changing toggles for other clients.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThere's been mention of the protocol flag toggling on reloads for a while but it's been such a tiny subset of users I never bothered to make an issue for it. The SimpleMU one seems like the most troublesome, and he mentioned it started roughly ~2 weeks ago or so, so possibly may be related to #1335 somehow.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1340", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1340/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1340/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1340/events", "html_url": "https://github.com/evennia/evennia/issues/1340", "id": 234321437, "node_id": "MDU6SXNzdWUyMzQzMjE0Mzc=", "number": 1340, "title": "Protocol flags aren't always reported on the session", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-07T19:46:02Z", "updated_at": "2018-01-22T18:50:04Z", "closed_at": "2018-01-22T18:50:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nI'm trying to use the TTYPE negotiation to activate the screen reader supports from the early beginning.  Evennia responds well and the flags are accurately modified, but these flags don't seem to be reported to the session (`@options` still show them as `False`).\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Bind a local copy of Evennia.\r\n2. You can run the basic twisted client I've written (it's just to test, it's ugly, see below).\r\n3. Use the client to connect.  The client should send the `@options` command and quit.\r\n4. Check in your `@options` output.  The client has activated the screen reader support but it doesn't show in `@options`.\r\n\r\nDetail of the handshake:\r\n\r\n1. Server - IAC DO TTYPE\r\n2. Client - IAC WILL TTYPE\r\n3. Server - IAC SB TTYPE SEND IAC SE\r\n4. Client - IAC SB TTYPE IS \"COCOMUD\" IAC SE\r\n5. Server - IAC SB TTYPE SEND IAC SE\r\n6. Client - IAC SB TTYPE IS \"ANSI\" IAC SE\r\n7. Server - IAC SB TTYPE SEND IAC SE\r\n8. Client - IAC SB TTYPE IS \"MTTS64\" IAC SE\r\n9. Server - IAC SB TTYPE SEND IAC SE\r\n\r\n#### Error output / Expected result of feature\r\n\r\nAfter some additional logging in Evennia, it seems, in `server.portal.ttype`, the option is indeed active after the handshake:\r\n\r\n```\r\n>>> self.protocol.protocol_flags\r\n{'ANSI': True, 'MCCP': False, 'NOGOAHEAD': False, 'ENCODING': 'utf-8', 'XTERM256': False, 'NOPKEEPALIVE': True, 'INPUTDEBUG': False, 'NOCOLOR': False, 'MXP': False, 'TERM': 'ANSI', 'RAW': False, 'OOB': False, 'CLIENTNAME': 'COCOMUD', 'TTYPE': False, 'SCREENREADER': True, 'SCREENWIDTH': {0: 78}, 'SCREENHEIGHT': {0: 45}}\r\n```\r\n\r\n#### Resources\r\n\r\n- Script to show the active handshake: https://hastebin.com/fewotojigi.py", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1315", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1315/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1315/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1315/events", "html_url": "https://github.com/evennia/evennia/issues/1315", "id": 225215927, "node_id": "MDU6SXNzdWUyMjUyMTU5Mjc=", "number": 1315, "title": "In-use session assigned to new connection in webclient", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-04-28T23:34:08Z", "updated_at": "2017-10-01T13:55:59Z", "closed_at": "2017-10-01T13:55:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA player was using the webclient when suddenly they saw text of someone else attempting to log in. They saw the output of a few 'look' commands and someone trying to do `co <name> <password>`. The player who was trying to log in saw no text display, since it was being sent to the other session.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Both players were using the webclient, but no idea what caused it.\r\n\r\n#### Error output / Expected result of feature\r\nBad session assignment. It's possible this may be related to the other strange errors that I occasionally see, like the loss of cmdsets, etc.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1311", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1311/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1311/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1311/events", "html_url": "https://github.com/evennia/evennia/issues/1311", "id": 223169729, "node_id": "MDU6SXNzdWUyMjMxNjk3Mjk=", "number": 1311, "title": "Bug: Mail contrib: Negative indexing is not supported error", "user": {"login": "Panzerbyte", "id": 1942013, "node_id": "MDQ6VXNlcjE5NDIwMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1942013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Panzerbyte", "html_url": "https://github.com/Panzerbyte", "followers_url": "https://api.github.com/users/Panzerbyte/followers", "following_url": "https://api.github.com/users/Panzerbyte/following{/other_user}", "gists_url": "https://api.github.com/users/Panzerbyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/Panzerbyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Panzerbyte/subscriptions", "organizations_url": "https://api.github.com/users/Panzerbyte/orgs", "repos_url": "https://api.github.com/users/Panzerbyte/repos", "events_url": "https://api.github.com/users/Panzerbyte/events{/privacy}", "received_events_url": "https://api.github.com/users/Panzerbyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-04-20T19:12:52Z", "updated_at": "2017-09-30T21:46:11Z", "closed_at": "2017-09-30T21:46:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue:\r\nAfter having implemented the mail.py contrib module, I started to fiddle around with it and saw that after inputting @mail 1 (to check mail with id 1) it would be executed as it should be.\r\nHowever, when you try a negative number, like @mail 0, it would give the Assertion Error: Negative indexing is not supported, which is generated from the django package.\r\n\r\n#### Steps to reproduce the issue:\r\n\r\n1.  Implement the mail.py module from evennia/contrib\r\n2.  Type in '@mail 0' or '@mail -42' for example\r\n3. \r\n\r\n#### Error output\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:\\mud\\evennia\\evennia\\commands\\cmdhandler.py\", line 509, in _run_command\r\n    ret = yield cmd.func()\r\n  File \".\\commands\\mail.py\", line 214, in func\r\n    message = self.get_all_mail()[int(self.lhs) - 1]\r\n  File \"c:\\mud\\pyenv\\Lib\\site-packages\\django\\db\\models\\query.py\", line 277, in __getitem__\r\n    \"Negative indexing is not supported.\"\r\nAssertionError: Negative indexing is not supported.\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\r\nHappened on rev ae2c2be8, but doesn't matter which revision as long as the mail.py contrib module is implemented in the system.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1307", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1307/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1307/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1307/events", "html_url": "https://github.com/evennia/evennia/issues/1307", "id": 221877141, "node_id": "MDU6SXNzdWUyMjE4NzcxNDE=", "number": 1307, "title": "parse_inlinefunc stack overflow", "user": {"login": "petriomelony", "id": 1066385, "node_id": "MDQ6VXNlcjEwNjYzODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1066385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petriomelony", "html_url": "https://github.com/petriomelony", "followers_url": "https://api.github.com/users/petriomelony/followers", "following_url": "https://api.github.com/users/petriomelony/following{/other_user}", "gists_url": "https://api.github.com/users/petriomelony/gists{/gist_id}", "starred_url": "https://api.github.com/users/petriomelony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petriomelony/subscriptions", "organizations_url": "https://api.github.com/users/petriomelony/orgs", "repos_url": "https://api.github.com/users/petriomelony/repos", "events_url": "https://api.github.com/users/petriomelony/events{/privacy}", "received_events_url": "https://api.github.com/users/petriomelony/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-14T19:44:49Z", "updated_at": "2017-09-30T21:25:37Z", "closed_at": "2017-09-30T21:25:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen using an inline function repeatedly, the inlinefunction parsing stack does not get cleared properly.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1.  Create the $charactername() inline function as per the documentation:\r\n\r\ndef charactername(*args, **kwargs):\r\n    \"\"\"\r\n    Inserts the character name of whomever sees the string\r\n    (so everyone will see their own name). Uses the player\r\n    name for OOC communications. \r\n\r\n    Example:\r\n        say \"This means YOU, $charactername()!\"   \r\n\r\n    \"\"\"\r\n    session = kwargs[\"session\"]\r\n    if session.puppet:\r\n        return kwargs[\"session\"].puppet.key\r\n    else:\r\n        return session.player.key\r\n\r\n2. say $charactername() repeatedly\r\n\r\n#### Error output / Expected result of feature\r\n\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\commands\\cmdhandler.py\", line 509, in _run_command\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     ret = yield cmd.func()\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \".\\commands\\command.py\", line 203, in func\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     EvMore(caller, readtext, always_page=False, session=None, justify_kwargs=None)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\utils\\evmore.py\", line 200, in __init__\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     self.page_top()\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\utils\\evmore.py\", line 226, in page_top\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     self.display()\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\utils\\evmore.py\", line 219, in display\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     self._caller.msg(text=page, session=self._session, **self._kwargs)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\objects\\objects.py\", line 526, in msg\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     session.data_out(text=text, **kwargs)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\server\\serversession.py\", line 378, in data_out\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     self.sessionhandler.data_out(self, **kwargs)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\server\\sessionhandler.py\", line 700, in data_out\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     kwargs = self.clean_senddata(session, kwargs)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\server\\sessionhandler.py\", line 235, in clean_senddata\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     rkwargs[key] = [ [_validate(data)], {} ]\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\server\\sessionhandler.py\", line 203, in _validate\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     data = parse_inlinefunc(data, strip=strip_inlinefunc, session=session)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]   File \"d:\\muds\\evennia\\evennia\\evennia\\utils\\inlinefuncs.py\", line 330, in parse_inlinefunc\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::]     return string + gdict[\"stackfull\"](*args, **kwargs)\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [::] KeyError: 'stackfull'\r\n2017-04-14T20:25:04+0100 [AMPProtocol,0,127.0.0.1] [EE] User input was: 'read letter'.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nadd something to clear the parsing stack?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1306", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1306/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1306/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1306/events", "html_url": "https://github.com/evennia/evennia/issues/1306", "id": 221842342, "node_id": "MDU6SXNzdWUyMjE4NDIzNDI=", "number": 1306, "title": "IndexError in telnet.py", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-14T16:29:10Z", "updated_at": "2017-04-17T06:52:29Z", "closed_at": "2017-04-17T06:52:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhile looking at the portal log, I saw a traceback pop up frequently:\r\n\r\n```\r\n2017-04-14T10:44:37-0400 [AMPProtocol,client] [::] Traceback (most recent call last):\r\n2017-04-14T10:44:37-0400 [AMPProtocol,client] [::]   File \"/home/tehom/arx/evennia/evennia/server/portal/portalsessionhandler.py\", line 420, in data_out\r\n2017-04-14T10:44:37-0400 [AMPProtocol,client] [::]     getattr(session, funcname)(*cmdargs, **cmdkwargs)\r\n2017-04-14T10:44:37-0400 [AMPProtocol,client] [::]   File \"/home/tehom/arx/evennia/evennia/server/portal/telnet.py\", line 340, in send_text\r\n2017-04-14T10:44:37-0400 [AMPProtocol,client] [::]     linetosend = ansi.parse_ansi(_RE_N.sub(\"\", text) + (\"|n\" if text[-1] != \"|\" else \"||n\"),\r\n2017-04-14T10:44:37-0400 [AMPProtocol,client] [::] IndexError: string index out of range\r\n```\r\n\r\nIt seems to pop up fairly regularly, say a few times an hour. No players have reported seeing anything strange, so I'm guessing that it'd be an empty string from the IndexError that just isn't sent when the exception is raised.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Seems to happen randomly but somewhat frequently.\r\n\r\n#### Error output / Expected result of feature\r\nTraceback in portal log.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI guess just check for empty string before trying to parse it, but I have no idea if that'd cause any issues.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1305", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1305/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1305/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1305/events", "html_url": "https://github.com/evennia/evennia/issues/1305", "id": 221834290, "node_id": "MDU6SXNzdWUyMjE4MzQyOTA=", "number": 1305, "title": "Crash from File I/O Error on reload", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 36, "created_at": "2017-04-14T15:45:22Z", "updated_at": "2019-08-14T18:09:00Z", "closed_at": "2019-08-14T18:09:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nEarlier today, a staff member tried to `@reload` the server. Unlike the server hang seen in #1128 this didn't start the reload process at all, but immediately resulted in seeing repeated `... Portal has lost connection to Server.` messages until Evennia stop was called, with a repeated traceback in the console.\r\n\r\n```\r\n2017-04-14T10:08:52-0400 [AMPProtocol,0,127.0.0.1] Unhandled Error\r\nTraceback (most recent call last):\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 101, in callWithLogger\r\n    return callWithContext({\"system\": lp}, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\r\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\r\n    return func(*args,**kw)\r\n--- <exception caught here> ---\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\r\n    why = selectable.doRead()\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 208, in doRead\r\n    return self._dataReceived(data)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 214, in _dataReceived\r\n    rval = self.protocol.dataReceived(data)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 2411, in dataReceived\r\n    return Int16StringReceiver.dataReceived(self, data)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/basic.py\", line 765, in dataReceived\r\n    self.stringReceived(packet)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/basic.py\", line 877, in stringReceived\r\n    self.state = statehandler(string)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 2464, in proto_key\r\n    self.boxReceiver.ampBoxReceived(self._currentBox)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 1063, in ampBoxReceived\r\n    self._answerReceived(box)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 989, in _answerReceived\r\n    question = self._outstandingRequests.pop(box[ANSWER])\r\nexceptions.KeyError: '3433'\r\n\r\n2017-04-14T10:08:53-0400 [evennia.server.amp.AmpServerFactory] Unhandled Error\r\nTraceback (most recent call last):\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\r\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\r\n    return func(*args,**kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\r\n    why = selectable.doRead()\r\n--- <exception caught here> ---\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 1072, in doRead\r\n    transport = self.transport(skt, protocol, addr, self, s, self.reactor)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 789, in __init__\r\n    self.startReading()\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/abstract.py\", line 434, in startReading\r\n    self.reactor.addReader(self)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/epollreactor.py\", line 271, in addReader\r\n    EPOLLIN, EPOLLOUT)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/epollreactor.py\", line 255, in _add\r\n    self._poller.modify(fd, flags)\r\nexceptions.IOError: [Errno 2] No such file or directory\r\n\r\n2017-04-14T10:08:54-0400 [evennia.server.amp.AmpServerFactory] Unhandled Error\r\nTraceback (most recent call last):\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\r\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\r\n    return func(*args,**kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\r\n    why = selectable.doRead()\r\n--- <exception caught here> ---\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 1072, in doRead\r\n    transport = self.transport(skt, protocol, addr, self, s, self.reactor)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 789, in __init__\r\n    self.startReading()\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/abstract.py\", line 434, in startReading\r\n    self.reactor.addReader(self)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/epollreactor.py\", line 271, in addReader\r\n    EPOLLIN, EPOLLOUT)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/epollreactor.py\", line 255, in _add\r\n    self._poller.modify(fd, flags)\r\nexceptions.IOError: [Errno 2] No such file or directory\r\n```\r\nThe first error it printed is the same from #1299 .The last error repeated every few seconds until the server was stopped. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Using `@reload` command\r\n\r\n#### Error output / Expected result of feature\r\nAbove traceback.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nMy guess is attempting to write to a log file at the same time the server was restarting.\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/44146972-crash-from-file-i-o-error-on-reload?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1300", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1300/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1300/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1300/events", "html_url": "https://github.com/evennia/evennia/issues/1300", "id": 219908736, "node_id": "MDU6SXNzdWUyMTk5MDg3MzY=", "number": 1300, "title": "inconsistency with docstring in shipped command.py file", "user": {"login": "texdarkstar", "id": 22407005, "node_id": "MDQ6VXNlcjIyNDA3MDA1", "avatar_url": "https://avatars.githubusercontent.com/u/22407005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/texdarkstar", "html_url": "https://github.com/texdarkstar", "followers_url": "https://api.github.com/users/texdarkstar/followers", "following_url": "https://api.github.com/users/texdarkstar/following{/other_user}", "gists_url": "https://api.github.com/users/texdarkstar/gists{/gist_id}", "starred_url": "https://api.github.com/users/texdarkstar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/texdarkstar/subscriptions", "organizations_url": "https://api.github.com/users/texdarkstar/orgs", "repos_url": "https://api.github.com/users/texdarkstar/repos", "events_url": "https://api.github.com/users/texdarkstar/events{/privacy}", "received_events_url": "https://api.github.com/users/texdarkstar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-06T14:00:26Z", "updated_at": "2017-04-08T17:07:28Z", "closed_at": "2017-04-08T17:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the command.py file that is shipped out, in the docstring for the Command class it says:\r\n\r\n    Inherit from this if you want to create your own command styles\r\n    from scratch.  Note that Evennia's default commands inherits from\r\n    MuxCommand instead.\r\n\r\n    Note that the class's `__doc__` string (this text) is\r\n    used by Evennia to create the automatic help entry for\r\n    the command, so make sure to document consistently here.\r\n\r\n    Each Command implements the following methods, called\r\n    in this order (only func() is actually required):\r\n        - at_pre_command(): If this returns True, execution is aborted.\r\n        - parse(): Should perform any extra parsing needed on self.args\r\n            and store the result on self.\r\n        - func(): Performs the actual work.\r\n        - at_post_command(): Extra actions, often things done after\r\n            every command, like prompts.\r\n\r\nBut the evennia docs say that the name is actually supposed to be 'at_pre_cmd', and 'at_post_cmd'.\r\nMuxCommand has the right ones according to the docs.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1299", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1299/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1299/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1299/events", "html_url": "https://github.com/evennia/evennia/issues/1299", "id": 219877796, "node_id": "MDU6SXNzdWUyMTk4Nzc3OTY=", "number": 1299, "title": "Portal error when using channel history", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-04-06T12:09:44Z", "updated_at": "2017-06-05T08:40:49Z", "closed_at": "2017-06-05T08:40:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSome of my log files for channels had gotten rather large, so I added in the EvMore utility for viewing them. While I had no issue when them while testing them initially, the first time I tried to view a large history in production I immediately generated the following traceback:\r\n\r\n```\r\n2017-04-06T07:56:36-0400 [AMPProtocol,0,127.0.0.1] Unhandled Error\r\nTraceback (most recent call last):\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 101, in callWithLogger\r\n    return callWithContext({\"system\": lp}, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\r\n    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\r\n    return func(*args,**kw)\r\n--- <exception caught here> ---\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/posixbase.py\", line 597, in _doReadOrWrite\r\n    why = selectable.doRead()\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 208, in doRead\r\n    return self._dataReceived(data)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 214, in _dataReceived\r\n    rval = self.protocol.dataReceived(data)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 2411, in dataReceived\r\n    return Int16StringReceiver.dataReceived(self, data)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/basic.py\", line 765, in dataReceived\r\n    self.stringReceived(packet)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/basic.py\", line 877, in stringReceived\r\n    self.state = statehandler(string)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 2464, in proto_key\r\n    self.boxReceiver.ampBoxReceived(self._currentBox)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 1063, in ampBoxReceived\r\n    self._answerReceived(box)\r\n  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/protocols/amp.py\", line 989, in _answerReceived\r\n    question = self._outstandingRequests.pop(box[ANSWER])\r\nexceptions.KeyError: '185'\r\n\r\n2017-04-06T07:56:37-0400 [evennia.server.amp.AmpServerFactory] AMPProtocol connection established (HOST:IPv4Address(TCP, '127.0.0.1', 5000) PEER:IPv4Address(TCP, '127.0.0.1', 49122))\r\n```\r\nThe traceback caused me to see `... Portal lost connection to Server` followed by `... Server restarted` immediately after. Then I began to see players having no commandsets reported, such as:\r\n```\r\n2017-04-06T07:57:05-0400 [AMPProtocol,1,127.0.0.1] [EE] No cmdsets found: None@173.31.101.93\r\n2017-04-06T07:57:10-0400 [AMPProtocol,1,127.0.0.1] [EE] No cmdsets found: None@173.31.101.93\r\n```\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nSince this didn't happen in my test environment with the same log files, I'm unsure if this\r\ncan be easily reproduced.\r\n\r\n1.  Log files of around 2MB in length or so\r\n2.  Using channel/history with a large number, may require EvMore used as well\r\n\r\n#### Error output / Expected result of feature\r\nThe above traceback.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement: \r\nThe result of the error seemed similar to #1160 but seems to have had an entirely different cause (accessing a log file vs having the port for the AMP bridge open and someone accessing it).\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1286", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1286/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1286/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1286/events", "html_url": "https://github.com/evennia/evennia/issues/1286", "id": 217409041, "node_id": "MDU6SXNzdWUyMTc0MDkwNDE=", "number": 1286, "title": "NoneType error issue for newly created Players", "user": {"login": "eldritchsemblance", "id": 19653924, "node_id": "MDQ6VXNlcjE5NjUzOTI0", "avatar_url": "https://avatars.githubusercontent.com/u/19653924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eldritchsemblance", "html_url": "https://github.com/eldritchsemblance", "followers_url": "https://api.github.com/users/eldritchsemblance/followers", "following_url": "https://api.github.com/users/eldritchsemblance/following{/other_user}", "gists_url": "https://api.github.com/users/eldritchsemblance/gists{/gist_id}", "starred_url": "https://api.github.com/users/eldritchsemblance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eldritchsemblance/subscriptions", "organizations_url": "https://api.github.com/users/eldritchsemblance/orgs", "repos_url": "https://api.github.com/users/eldritchsemblance/repos", "events_url": "https://api.github.com/users/eldritchsemblance/events{/privacy}", "received_events_url": "https://api.github.com/users/eldritchsemblance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-27T23:54:19Z", "updated_at": "2017-09-17T12:06:18Z", "closed_at": "2017-09-17T12:06:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "UPDATED 28 MARCH 2017\r\n\r\n#### Brief summary of issue:\r\nWhen an account is created in multiplayer mode 3 then given immortal perms, its attributes are set to NoneType rather than the expected values upon next login, causing attribute access to fail.\r\n\r\n#### Steps to reproduce the issue:\r\nThis issue has been occurring in multiplayer mode 3.  Other modes have not been tested.\r\n\r\n1. Create an account in multiplayer mode 3\r\n2. Ensure that a character was not auto created\r\n3. Assign immortals permissions to the Player\r\n4. Log out the newly created Player\r\n5. Log back in with that Player\r\n6. Run the create character command.  Note that the traceback below is shown, but the character will have been created in the database, without being linked to a Player account.  They do not show in the character listing for the player.\r\n\r\n#### Error output\r\nMany commands fail with:  `AttributeError: 'NoneType' object has no attribute X` where X is any attribute the command needed.  e.g. trying to create a character:\r\n\r\n`Traceback (most recent call last):\r\n File \"/home/evennia/evennia/evennia/commands/cmdhandler.py\", line 509, in _run_command\r\n ret = yield cmd.func()\r\n File \"/home/evennia/evennia/evennia/commands/default/player.py\", line 167, in func\r\n player.db._playable_characters.append(new_character)\r\nAttributeError: 'NoneType' object has no attribute 'append'\"`\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nThe server in question is Ubuntu 16.10 running on Digital Ocean, current master branch, this issue has persisted through Evennia updates.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1278", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1278/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1278/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1278/events", "html_url": "https://github.com/evennia/evennia/issues/1278", "id": 217020390, "node_id": "MDU6SXNzdWUyMTcwMjAzOTA=", "number": 1278, "title": "\"Stop\" creates an error with slow_exit.py", "user": {"login": "lmclarke", "id": 3780592, "node_id": "MDQ6VXNlcjM3ODA1OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3780592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmclarke", "html_url": "https://github.com/lmclarke", "followers_url": "https://api.github.com/users/lmclarke/followers", "following_url": "https://api.github.com/users/lmclarke/following{/other_user}", "gists_url": "https://api.github.com/users/lmclarke/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmclarke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmclarke/subscriptions", "organizations_url": "https://api.github.com/users/lmclarke/orgs", "repos_url": "https://api.github.com/users/lmclarke/repos", "events_url": "https://api.github.com/users/lmclarke/events{/privacy}", "received_events_url": "https://api.github.com/users/lmclarke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-26T02:01:47Z", "updated_at": "2017-03-27T20:37:15Z", "closed_at": "2017-03-27T20:37:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue\r\nSlow_exit's \"stop\" creates error when not in motion.\r\n\r\n#### Steps to reproduce the issue\r\n\r\n1. Install/enable slow_exit.py, @reload and such.\r\n2. Don't move, but enter \"stop.\"\r\n\r\n#### Error output\r\nTraceback (most recent call last):\r\n  File \"/home/mud/evennia/evennia/commands/cmdhandler.py\", line 509, in _run_command\r\n    ret = yield cmd.func()\r\n  File \"/home/mud/evennia/evennia/contrib/slow_exit.py\", line 139, in func\r\n    currently_moving.cancel()\r\n  File \"/home/mud/pyenv/lib/python2.7/site-packages/twisted/internet/base.py\", line 99, in cancel\r\n    raise error.AlreadyCalled\r\nAlreadyCalled: Tried to cancel an already-called event.\r\n\r\nAn untrapped error occurred.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1269", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1269/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1269/events", "html_url": "https://github.com/evennia/evennia/issues/1269", "id": 216277384, "node_id": "MDU6SXNzdWUyMTYyNzczODQ=", "number": 1269, "title": "Bug: Simpledoor does not report its open/close state properly", "user": {"login": "lmclarke", "id": 3780592, "node_id": "MDQ6VXNlcjM3ODA1OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3780592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmclarke", "html_url": "https://github.com/lmclarke", "followers_url": "https://api.github.com/users/lmclarke/followers", "following_url": "https://api.github.com/users/lmclarke/following{/other_user}", "gists_url": "https://api.github.com/users/lmclarke/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmclarke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmclarke/subscriptions", "organizations_url": "https://api.github.com/users/lmclarke/orgs", "repos_url": "https://api.github.com/users/lmclarke/repos", "events_url": "https://api.github.com/users/lmclarke/events{/privacy}", "received_events_url": "https://api.github.com/users/lmclarke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-23T03:11:15Z", "updated_at": "2017-03-30T20:05:55Z", "closed_at": "2017-03-30T20:05:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue\r\nsimpledoor.py's doors don't open and close.\r\n\r\n#### Steps to reproduce the issue\r\n\r\n1. Enable the simpledoor.py module\r\n2. Create a door with \"@open doorway:contrib.simpledoor.SimpleDoor = otherroom\"\r\n3. Close the new exit with \"close doorway.\" It will report that you closed it.\r\n4. Open the closed exit with \"open doorway.\" It will report that it's already open, when it should not be -- it should be closed.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1259", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1259/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1259/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1259/events", "html_url": "https://github.com/evennia/evennia/issues/1259", "id": 215308614, "node_id": "MDU6SXNzdWUyMTUzMDg2MTQ=", "number": 1259, "title": "Some links in wiki are broken", "user": {"login": "benabhi", "id": 1945599, "node_id": "MDQ6VXNlcjE5NDU1OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1945599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benabhi", "html_url": "https://github.com/benabhi", "followers_url": "https://api.github.com/users/benabhi/followers", "following_url": "https://api.github.com/users/benabhi/following{/other_user}", "gists_url": "https://api.github.com/users/benabhi/gists{/gist_id}", "starred_url": "https://api.github.com/users/benabhi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benabhi/subscriptions", "organizations_url": "https://api.github.com/users/benabhi/orgs", "repos_url": "https://api.github.com/users/benabhi/repos", "events_url": "https://api.github.com/users/benabhi/events{/privacy}", "received_events_url": "https://api.github.com/users/benabhi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-20T00:12:11Z", "updated_at": "2017-03-20T21:39:46Z", "closed_at": "2017-03-20T21:39:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nLinks in docs (wiki) are broken or not display correctly. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n1. Just go to https://github.com/evennia/evennia/wiki and see so many link broken\r\n\r\n#### Error output / Expected result of feature\r\nThe links show something like that [Getting Started](Getting Started)  [Admin Docs](Administrative Docs) [Builder Docs](Builder Docs) [Developer Central](Developer Central) [Tutorial: Version Control](Version Control)  \r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nUntil 2 or 3 days ago the links works fine, sure is something in markdown files", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1257", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1257/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1257/events", "html_url": "https://github.com/evennia/evennia/issues/1257", "id": 215307035, "node_id": "MDU6SXNzdWUyMTUzMDcwMzU=", "number": 1257, "title": "User clients reporting SCREENWIDTH=0 cause EvMore ZeroDivisionError", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-19T23:46:23Z", "updated_at": "2017-03-27T20:42:45Z", "closed_at": "2017-03-27T20:40:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nUser clients reporting SCREENWIDTH=0 cause EvMore  ZeroDivisionError as seen in Error output section below.  \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Use a client that reports screenwidth = 0 or manually `@option screenwidth=0`\r\n2. `help` or `?` for traceback\r\n\r\n#### Error output / Expected result of feature\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/evennia/game/evennia/evennia/commands/cmdhandler.py\", line 509, in _run_command\r\n    ret = yield cmd.func()\r\n  File \"/home/evennia/game/evennia/evennia/commands/default/help.py\", line 208, in func\r\n    self.msg_help(self.format_help_list(hdict_cmd, hdict_topic))\r\n  File \"/home/evennia/game/evennia/evennia/commands/default/help.py\", line 70, in msg_help\r\n    evmore.msg(self.caller, text)\r\n  File \"/home/evennia/game/evennia/evennia/utils/evmore.py\", line 286, in msg\r\n    justify_kwargs=justify_kwargs, **kwargs)\r\n  File \"/home/evennia/game/evennia/evennia/utils/evmore.py\", line 184, in __init__\r\n    height = min(10000 // width, height)\r\n ZeroDivisionError: integer division or modulo by zero\r\n User input was: 'help'.\r\n```\r\n\r\nExpected result... see below.  My thoughts are to treat a 0 value as not wanting pagination or line splitting, assuming the client is doing the pagination or has infinite or very large scrollback and auto-wraps so does not need line splitting, but I leave it open for discussion.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nShould `SCREENHEIGHT = 0` not paginate at all, bypassing EvMore pagination?  And should `SCREENWIDTH = 0` not bother splitting lines, or should these just be defaulted to typical ranges?\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1257/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1255", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1255/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1255/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1255/events", "html_url": "https://github.com/evennia/evennia/issues/1255", "id": 215287315, "node_id": "MDU6SXNzdWUyMTUyODczMTU=", "number": 1255, "title": "mIRC reset \\017 not translated when received by Evennia from IRC via bots", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-19T19:21:18Z", "updated_at": "2017-09-20T20:09:28Z", "closed_at": "2017-09-20T20:09:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe mIRC reset character \\017 is not translated when received by Evennia from IRC via bots, and is passed along to other clients instead of being translated into ASCII reset, typically when there's no mIRC color or style preceding the reset in the line of text from IRC.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. From Telnet or webclient, view `public` channel traffic from IRC in demo server.\r\n2. When an Evennia bot speaks on behalf of a character or user in an Evennia channel, the reset character is produced.\r\n3.  Observe lines frequently terminated with \\017 untranslated from IRC bot\r\n\r\n#### Error output / Expected result of feature\r\nTelnet and Telnet-based MU* clients, along with webclient receive untranslated mIRC reset character, SHIFT IN, /017, Control O, 0x0f, character 15, (`\u000f`) which might be displayed as a visible glyph or might not be - but all clients receive it.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n* The problem appears to be IRC->Evennia coms do not translate the offending character back into ANSI reset sequence. \r\n* Removing the outgoing translation (Evennia->IRC), as inadvertently done in #1248 solves the symptom, which was a red-herring, allowing me and others to conclude that I had solved the issue.\r\n* The problem is not related to the little \"note\" character in Potato.\r\n* Some Telnet clients do not display or interpret the offending character, but webclient displays it consistently. If a screenshot or HEX dump of received data will help, I can supply it.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1234", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1234/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1234/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1234/events", "html_url": "https://github.com/evennia/evennia/issues/1234", "id": 209868208, "node_id": "MDU6SXNzdWUyMDk4NjgyMDg=", "number": 1234, "title": "Failures on 2 unittests", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-23T20:02:28Z", "updated_at": "2017-02-28T07:09:18Z", "closed_at": "2017-02-28T07:09:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nI get a repeated error when running 'evennia test evennia' even from a fresh install.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Run `evennia test evennia` (the game directory could have been created just previously, without any changes to the default configuration).\r\n\r\n#### Error output / Expected result of feature\r\n\r\n```\r\n======================================================================\r\nFAIL: test_cmdgametime (evennia.contrib.tests.TestExtendedRoom)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\vincent\\src\\mud\\evennia\\evennia\\contrib\\tests.py\", line 219, in test_cmdgametime\r\n    self.call(extended_room.CmdGameTime(), \"\", \"It's a spring day, in the evening.\")\r\n  File \"c:\\users\\vincent\\src\\mud\\evennia\\evennia\\commands\\default\\tests.py\", line 83, in call\r\n    raise AssertionError(retval)\r\nAssertionError: \r\n==============================Wanted message==================================\r\nIt's a spring day, in the evening.\r\n==============================Returned message================================\r\nIt's a spring day, in the afternoon.\r\n==============================================================================\r\n\r\n======================================================================\r\nFAIL: test_return_appearance (evennia.contrib.tests.TestExtendedRoom)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\vincent\\src\\mud\\evennia\\evennia\\contrib\\tests.py\", line 198, in test_return_appearance\r\n    self.assertEqual(\"evening\", self.room1.ndb.last_timeslot)\r\nAssertionError: 'evening' != 'afternoon'\r\n\r\n----------------------------------------------------------------------\r\nRan 193 tests in 31.328s\r\n\r\nFAILED (failures=2)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1231", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1231/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1231/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1231/events", "html_url": "https://github.com/evennia/evennia/issues/1231", "id": 209363331, "node_id": "MDU6SXNzdWUyMDkzNjMzMzE=", "number": 1231, "title": "Setting MAX_COMMAND_RATE to <= 0 does not disable the limiter", "user": {"login": "jandrewsfm", "id": 25141931, "node_id": "MDQ6VXNlcjI1MTQxOTMx", "avatar_url": "https://avatars.githubusercontent.com/u/25141931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jandrewsfm", "html_url": "https://github.com/jandrewsfm", "followers_url": "https://api.github.com/users/jandrewsfm/followers", "following_url": "https://api.github.com/users/jandrewsfm/following{/other_user}", "gists_url": "https://api.github.com/users/jandrewsfm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jandrewsfm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jandrewsfm/subscriptions", "organizations_url": "https://api.github.com/users/jandrewsfm/orgs", "repos_url": "https://api.github.com/users/jandrewsfm/repos", "events_url": "https://api.github.com/users/jandrewsfm/events{/privacy}", "received_events_url": "https://api.github.com/users/jandrewsfm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-22T06:23:06Z", "updated_at": "2017-02-27T21:11:57Z", "closed_at": "2017-02-27T21:11:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nIn settings_default.py:\r\n\r\n`To turn the limiter off, set to <= 0.`\r\n`MAX_COMMAND_RATE = 80`\r\n\r\nHowever, setting it to 0 or less instead limits commands to one-per-second or slower. \r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Set MAX_COMMAND_RATE to 0\r\n2. Restart (not reload) so that the settings.py changes are applied\r\n3. spam a command (eg, ex)\r\n\r\n#### Error output / Expected result of feature\r\nProblem: Receive the \"too many commands\" message\r\nExpected: Commands to resolve as fast as possible\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nLatest from github (version 0.6.0 (rev 0dfd474)), mac os x 10.12\r\n\r\nSolution: in evennia.server.portal.portalsessionhandler, line 368 (`if self.command_counter > _MAX_COMMAND_RATE:`) add ` and _MAX_COMMAND_RATE > 0` to the conditional.\r\n\r\nworkaround:\r\nSet _MAX_COMMAND_RATE high (1000) instead.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1221", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1221/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1221/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1221/events", "html_url": "https://github.com/evennia/evennia/issues/1221", "id": 208508009, "node_id": "MDU6SXNzdWUyMDg1MDgwMDk=", "number": 1221, "title": "Phantom sessions in sessionhandler", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-17T17:35:45Z", "updated_at": "2017-04-23T11:21:49Z", "closed_at": "2017-04-23T11:21:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSo today a number of players seemed to have an issue where they had bogus sessions connected to their player object, which prevented them from going `@ic`. It may have happened from a lengthy reload. Since logging out only killed their current session, they couldn't fix it by just logging.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Not sure how to reproduce since it's only happened this one time. It did affect a dozen or so players, though.\r\n2. At a guess, the phantom sessions may have been generated by them trying to go `@ic` when getting the recursion error.\r\n\r\n#### Error output / Expected result of feature\r\nThousands of lines of \r\n```\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/objects/objects.py\", line 704, in move_to\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     self.announce_move_to(source_location)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/arx/typeclasses/characters.py\", line 759, in announce_move_to\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     \" from %s\" % source_location.get_display_name(obj) if source_location else \"\"))\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/arx/typeclasses/mixins.py\", line 560, in msg\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     super(MsgMixins, self).msg(text, from_obj, session, options, **kwargs)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/objects/objects.py\", line 526, in msg\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     sessions = make_iter(session) if session else self.sessions.all()\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/objects/objects.py\", line 101, in all\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     return self.get()\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/objects/objects.py\", line 90, in get\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     return self.get(sessid=sessid)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/objects/objects.py\", line 89, in get\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     self._recache()\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/objects/objects.py\", line 63, in _recache\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     self.obj.save(update_fields=[\"db_sessid\"])\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/evennia/evennia/utils/idmapper/models.py\", line 382, in save\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     super(SharedMemoryModel, self).save(*args, **kwargs)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 708, in save\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     force_update=force_update, update_fields=update_fields)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 736, in save_base\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 801, in _save_table\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     forced_update)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/base.py\", line 831, in _do_update\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     filtered = base_qs.filter(pk=pk_val)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 790, in filter\b\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     return self._filter_or_exclude(False, *args, **kwargs)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/query.py\", line 808, in _filter_or_exclude\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     clone.query.add_q(Q(*args, **kwargs))\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1243, in add_q\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     clause, _ = self._add_q(q_object, self.used_aliases)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1269, in _add_q\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     allow_joins=allow_joins, split_subq=split_subq,\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1203, in build_filter\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     condition = self.build_lookup(lookups, col, value)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1099, in build_lookup\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     return final_lookup(lhs, rhs)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/lookups.py\", line 19, in __init__\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     self.rhs = self.get_prep_lookup()\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/lookups.py\", line 57, in get_prep_lookup\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py\", line 744, in get_prep_lookup\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     return self.get_prep_value(value)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py\", line 973, in get_prep_value\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     value = super(AutoField, self).get_prep_value(value)\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/tehom/arx/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py\", line 708, in get_prep_value\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::]     if isinstance(value, Promise):\r\n2017-02-17T09:25:41-0500 [AMPProtocol,0,127.0.0.1] [::] RuntimeError: maximum recursion depth exceeded while calling a Python object\r\n```\r\nfor a recursion error throughout my logs.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nNot sure how it can detect sessions that aren't being used. I should have saw if a regular `@reload` fixed it with the sync checks before I did a shutdown. My bad for not trying that.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1219", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1219/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1219/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1219/events", "html_url": "https://github.com/evennia/evennia/issues/1219", "id": 208277767, "node_id": "MDU6SXNzdWUyMDgyNzc3Njc=", "number": 1219, "title": "Issue with @chardelete command", "user": {"login": "stephenvogler", "id": 2960996, "node_id": "MDQ6VXNlcjI5NjA5OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2960996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephenvogler", "html_url": "https://github.com/stephenvogler", "followers_url": "https://api.github.com/users/stephenvogler/followers", "following_url": "https://api.github.com/users/stephenvogler/following{/other_user}", "gists_url": "https://api.github.com/users/stephenvogler/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephenvogler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephenvogler/subscriptions", "organizations_url": "https://api.github.com/users/stephenvogler/orgs", "repos_url": "https://api.github.com/users/stephenvogler/repos", "events_url": "https://api.github.com/users/stephenvogler/events{/privacy}", "received_events_url": "https://api.github.com/users/stephenvogler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-02-16T23:08:27Z", "updated_at": "2017-02-18T18:22:37Z", "closed_at": "2017-02-18T18:21:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nAn untrapped error occurs when using the @chardelete command. When this happens, you must reload Evennia from the command line.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1.  @charcreate testdude\r\n2.  @chardelete testdude\r\n3.  Freak out!\r\n\r\n#### Error output / Expected result of feature\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/svogler/mud/evennia/evennia/commands/cmdhandler.py\", line 496, in _run_command\r\n    ret = yield cmd.func()\r\n  File \"/home/svogler/mud/evennia/evennia/utils/evmenu.py\", line 891, in func\r\n    callback = caller.ndb._getinput._callback\r\nAttributeError: 'NoneType' object has no attribute '_callback'\r\n\r\nAn untrapped error occurred.\r\n(Traceback was logged 2017-02-16 23:00:46-0000).\r\nTraceback (most recent call last):\r\n  File \"/home/svogler/mud/evennia/evennia/commands/cmdhandler.py\", line 626, in cmdhandler\r\n    ret = yield _run_command(syscmd, syscmd.key, sysarg, raw_string)\r\nErrorReported: l\r\n\r\nA command handler bug occurred. If this is not due to a local change,\r\nplease file a bug report with the Evennia project, including the\r\ntraceback and steps to reproduce.\r\n(Traceback was logged 2017-02-16 23:00:46-0000).\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nRunning Evennia 0.6.0 (rev 1b3fb8f) on Gentoo, Debian 8, and Ubuntu 16.10.1 all with the same result.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1218", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1218/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1218/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1218/events", "html_url": "https://github.com/evennia/evennia/issues/1218", "id": 208019254, "node_id": "MDU6SXNzdWUyMDgwMTkyNTQ=", "number": 1218, "title": "Player using TinyFugue has xterm256 turn off whenever server reloads", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-16T05:14:24Z", "updated_at": "2017-02-18T18:53:19Z", "closed_at": "2017-02-18T18:53:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA player using the TinyFugue client reports that his xterm256, which is enabled by default when he logs in, for some reason turns off whenever the server reloads. He uses `@option/save xterm256=True` to reenable it, but he always sees it toggle off on server restarts.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. I'm assuming it's the TinyFugue client, since I can't think of anything else it could be.\r\n\r\n#### Error output / Expected result of feature\r\nxterm256 support turning off on a server `@reload`.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI'm using the default `@options` command, and I don't have anything else that in Arx that would produce this behavior as far as I know, so I'm assuming it's some weird client issue.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1207", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1207/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1207/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1207/events", "html_url": "https://github.com/evennia/evennia/issues/1207", "id": 206778362, "node_id": "MDU6SXNzdWUyMDY3NzgzNjI=", "number": 1207, "title": "Infrequent RunTimeError in portal.log", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-10T11:56:02Z", "updated_at": "2017-08-27T13:58:08Z", "closed_at": "2017-08-27T13:58:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nOccasionally in the portal log, the following exception will pop up. This happens fairly rarely (a few times a week, perhaps) and doesn't seem to affect anything, but I thought I should post it just on the off chance it could somehow be related to other errors.\r\n\r\n```\r\n2017-02-05T00:12:46-0500 [ProxyClient,client] Unhandled Error\r\n\tTraceback (most recent call last):\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/application/app.py\", line 310, in runReactorWithLogging\r\n\t    reactor.run()\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/base.py\", line 1195, in run\r\n\t    self.mainLoop()\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/base.py\", line 1207, in mainLoop\r\n\t    self.doIteration(t)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/epollreactor.py\", line 396, in doPoll\r\n\t    log.callWithLogger(selectable, _drdw, selectable, fd, event)\r\n\t--- <exception caught here> ---\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 101, in callWithLogger\r\n\t    return callWithContext({\"system\": lp}, func, *args, **kw)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/log.py\", line 84, in callWithContext\r\n\t    return context.call({ILogContext: newCtx}, func, *args, **kw)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\r\n\t    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/python/context.py\", line 81, in callWithContext\r\n\t    return func(*args,**kw)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/posixbase.py\", line 610, in _doReadOrWrite\r\n\t    self._disconnectSelectable(selectable, why, inRead)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/posixbase.py\", line 252, in _disconnectSelectable\r\n\t    selectable.readConnectionLost(f)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 272, in readConnectionLost\r\n\t    self.connectionLost(reason)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 478, in connectionLost\r\n\t    self._commonConnection.connectionLost(self, reason)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/internet/tcp.py\", line 292, in connectionLost\r\n\t    protocol.connectionLost(reason)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/web/http.py\", line 486, in connectionLost\r\n\t    self.handleResponseEnd()\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/web/proxy.py\", line 87, in handleResponseEnd\r\n\t    self.father.finish()\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/web/server.py\", line 231, in finish\r\n\t    return http.Request.finish(self)\r\n\t  File \"/home/tehom/arx/local/lib/python2.7/site-packages/twisted/web/http.py\", line 863, in finish\r\n\t    \"Request.finish called on a request after its connection was lost; \"\r\n\texceptions.RuntimeError: Request.finish called on a request after its connection was lost; use Request.notifyFinish to keep track of this.\r\n```\r\nhttp://stackoverflow.com/questions/10710047/twisted-http-server-error seems to suggest it could just be a cosmetic error that can be ignored, but I thought it might warrant a look in case it could somehow be related to things like the reload issue.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. No idea how to reproduce them. I just see them randomly in the portal log.\r\n\r\n#### Error output / Expected result of feature\r\nThe above exception.\r\n\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1207/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1191", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1191/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1191/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1191/events", "html_url": "https://github.com/evennia/evennia/issues/1191", "id": 205155560, "node_id": "MDU6SXNzdWUyMDUxNTU1NjA=", "number": 1191, "title": "Bug: The server cannot be shut down properly in interactive mode (Win/Mac only)", "user": {"login": "luyijun", "id": 7847144, "node_id": "MDQ6VXNlcjc4NDcxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7847144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luyijun", "html_url": "https://github.com/luyijun", "followers_url": "https://api.github.com/users/luyijun/followers", "following_url": "https://api.github.com/users/luyijun/following{/other_user}", "gists_url": "https://api.github.com/users/luyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/luyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luyijun/subscriptions", "organizations_url": "https://api.github.com/users/luyijun/orgs", "repos_url": "https://api.github.com/users/luyijun/repos", "events_url": "https://api.github.com/users/luyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/luyijun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 380185043, "node_id": "MDU6TGFiZWwzODAxODUwNDM=", "url": "https://api.github.com/repos/evennia/evennia/labels/on%20hold", "name": "on hold", "color": "ffaaff", "default": false, "description": "Resolution was started but is blocked up or paused."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-02-03T13:21:09Z", "updated_at": "2019-03-31T19:41:07Z", "closed_at": "2019-03-31T19:41:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nI created a new game and started the server in interactive mode with the -i flag, then I pressed ctrl-c to stop the server. The server process cannot not be shut down properly. But if I start the server in normal mode or the second time I start the server in interactive mode, the server works right and can be shut down properly.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Use evennia --init game to create a new game.\r\n2. Use evennia migrate and use evennia -i start to start the game.\r\n3. Use ctrl-c to stop the server.\r\n\r\n#### Error output / Expected result of feature\r\nUse ps -ef|grep evennia, you can see the server process is still running.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n\r\n<bountysource-plugin>\r\n\r\n---\r\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/41631694-bug-the-server-cannot-be-shut-down-properly-in-interactive-mode-win-mac-only?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F522101&utm_medium=issues&utm_source=github).\r\n</bountysource-plugin>", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1184", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1184/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1184/events", "html_url": "https://github.com/evennia/evennia/issues/1184", "id": 204209545, "node_id": "MDU6SXNzdWUyMDQyMDk1NDU=", "number": 1184, "title": "Bug: MySQL/MariaDB error with typeclasses tag migration 0007", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-01-31T05:39:40Z", "updated_at": "2017-07-17T07:34:45Z", "closed_at": "2017-07-16T19:14:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nSince the new migration, 'evennia migrate' hangs.  See traceback below.\r\n\r\n      Applying typeclasses.0007_tag_migrations_may_be_slow...Traceback (most recent call last):\r\n      File \"c:\\users\\vincent\\pyenv\\Scripts\\evennia_launcher.py\", line 6, in <module>\r\n        exec(compile(open(__file__).read(), __file__, 'exec'))\r\n      File \"C:\\Users\\Vincent\\evennia\\bin\\windows\\evennia_launcher.py\", line 16, in <module>\r\n        main()\r\n      File \"c:\\users\\vincent\\evennia\\evennia\\server\\evennia_launcher.py\", line 1360, in main\r\n        django.core.management.call_command(*args, **kwargs)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\core\\management\\__init__.py\", line 119, in call_command\r\n        return command.execute(*args, **defaults)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\core\\management\\base.py\", line 399, in execute\r\n        output = self.handle(*args, **options)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\core\\management\\commands\\migrate.py\", line 200, in handle\r\n        executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\migrations\\executor.py\", line 92, in migrate\r\n        self._migrate_all_forwards(plan, full_plan, fake=fake, fake_initial=fake_initial)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\migrations\\executor.py\", line 121, in _migrate_all_forwards\r\n        state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\migrations\\executor.py\", line 198, in apply_migration\r\n        state = migration.apply(state, schema_editor)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\migrations\\migration.py\", line 123, in apply\r\n        operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\migrations\\operations\\models.py\", line 359, in database_forwards\r\n        getattr(new_model._meta, self.option_name, set()),\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\backends\\base\\schema.py\", line 318, in alter_unique_together\r\n        self._delete_composed_index(model, fields, {'unique': True}, self.sql_delete_unique)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\backends\\mysql\\schema.py\", line 87, in _delete_composed_index\r\n        return super(DatabaseSchemaEditor, self)._delete_composed_index(model, fields, *args)\r\n      File \"c:\\users\\vincent\\pyenv\\Lib\\site-packages\\django\\db\\backends\\base\\schema.py\", line 347, in _delete_composed_index\r\n        \", \".join(columns),\r\n    ValueError: Found wrong number (0) of constraints for typeclasses_tag(db_key, db_category, db_tagtype)\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nI am using MySQL to host the evennia database.  Everything worked until I pulled and installed a new, clean database.\r\n\r\n1. I git pull-ed the Evennia repository.\r\n2. I drop my old MySQL database after dumping it, and created a new one.\r\n3. I deleted the auto-generated file in evennia typeclasses/migrations/008...\r\n4. Back in my MYD directory, I 'evennia makemigrations'\r\n5. And 'evennia migrate' which gave me the traceback.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1183", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1183/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1183/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1183/events", "html_url": "https://github.com/evennia/evennia/issues/1183", "id": 203909562, "node_id": "MDU6SXNzdWUyMDM5MDk1NjI=", "number": 1183, "title": "Occasional database lock error", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-01-30T00:41:51Z", "updated_at": "2017-09-20T20:10:06Z", "closed_at": "2017-09-20T20:10:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nSo for quite a while, I've seen occasional database lock errors on Arx, which should be impossible as long as all the database transactions happen within the same process. Doing a `lsof evennia.db3` confirmed that the only two processes using the database was the server and portal. I noticed that when people were doing operations that took significant time on the webpage, database locks are far more common - it can be reproduced sometimes by doing a particularly long query in django admin or when trying to display something on a webpage while also trying to do some operation in game. It didn't make sense to me because the webserver is started in `server.py`, so it should be part of the server process. I noticed that in https://github.com/evennia/evennia/blob/master/evennia/server/portal/portal.py#L337 the portal starts the proxy service for the webpage - could that be causing requests to the webpage to originate from the portal process instead, which then causes the database lock? Otherwise, I have no idea why it seems to think the transactions are from a different process than the server, but since the only two processes that use the database are the server and portal, it seems like it has to be the portal that's doing it.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Do very long read/write operations from the webpage\r\n2. Do similarly long transactions from inside game\r\n\r\n#### Error output / Expected result of feature\r\nSometimes, but not always, will seem to cause the database lock error. It does seem unpredictable - it doesn't happen every time there's a long operation from the webpage, but it does seem to happen often.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nShould be same on all branches, though I'm using a branch that has logging statements put in and the .db_model queries from AttributeHandler/TagHandler commented out until I figure out the inexplicable lag that's going on with those.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1173", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1173/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1173/events", "html_url": "https://github.com/evennia/evennia/issues/1173", "id": 202792635, "node_id": "MDU6SXNzdWUyMDI3OTI2MzU=", "number": 1173, "title": "Bug: Lag with newest change of Tag/Aliashandler", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2017-01-24T11:29:13Z", "updated_at": "2017-06-25T08:03:43Z", "closed_at": "2017-06-25T08:03:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nAfter updating with the latest changes, the game immediately began to have crippling lag issues where anything with a sizable number of aliases/tags were concerned. For example, a 'look' command might take 20-30 seconds or the like. Speculation is this is due to the sheer number of tags that were in my database, which is in the tens of thousands range. Watching in `htop` would see the CPU usage for the server process continually spiking to 100%, and commands would print out lines from their return with noticeably delays between each line. (such as an `evtable` taking a quarter of a second between each line of the table displaying).\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Compare 'look' or other commands that reference tags to others that don't\r\n\r\n#### Error output / Expected result of feature\r\nCommands where they check tags/aliases are vastly slower for no apparent reason.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nLatest change to the tags/aliashandler. SQLite database. 17746 tags in the database. Test room had around 80 or so aliases between the different objects.\r\n\r\nAdditional note: On my test server, I initially saw this behavior for around a half hour, and then it just spontaneously stopped. So it might be related to loading the AliasHandler/TagsHandler, possibly? I had 13 other players on my live server when I saw this behavior, so it could have just been enough people put enough strain on it that the situation continued indefinitely, but might have eventually resolved on its own.\r\n\r\nAnother edit: I could partially reproduce this on my test environment when doing a `@tag/search <tagname>` that would return a few hundred matches and then immediately doing a `look` - I'd see a noticeable slowdown for several seconds. It seemed to resolve itself immediately after. Maybe the login process for characters is producing something similar, but with a much greater duration?", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1170", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1170/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1170/events", "html_url": "https://github.com/evennia/evennia/issues/1170", "id": 202010518, "node_id": "MDU6SXNzdWUyMDIwMTA1MTg=", "number": 1170, "title": "Alias handler's clear method removes more than aliases", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-19T23:55:13Z", "updated_at": "2017-01-22T16:43:39Z", "closed_at": "2017-01-22T16:43:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe alias handler manages aliases for objects, which are alternate names for them, like nicknames used for reference.\r\n\r\nWhen renaming an object, I also remove old aliases and begin again.  Using `object.aliases.clear()` calls the alias handler to clear them on the referenced `object`, but it also removes other things from the object that aren't aliases!\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Create an `object` or use an existing object.\r\n2. Give the `object` some tags and aliases\r\n3. Run `object.aliases.clear()`\r\n\r\n#### Error output / Expected result of feature\r\nExamining the object reveals that not only are the aliases gone, but tags were removed, also.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nLatest evennia, master branch, all OS.\r\n\r\nLooking at the database, it seems that tags (and some other things) are stored in the same table as the aliases. Apparently, all table entries related to the object are removed, not just the aliases.  Aliases have the db_tagtype field set to \"alias\" in the typeclass_tag table, but there are others, such as \"permission\" and `NULL` (I'm assuming these are tags) stored there.  So it looks like the records in the objects_objectdb_db_tags table that match the objectdb_id are being removed, regardless of the db_tagtype field in the typeclass_tag table.  Digging into how the alias handler removes aliases might be where the bug (if this is unintended behavior) lies.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1169", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1169/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1169/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1169/events", "html_url": "https://github.com/evennia/evennia/issues/1169", "id": 201462284, "node_id": "MDU6SXNzdWUyMDE0NjIyODQ=", "number": 1169, "title": "Contents Cache failed for <Object name>", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 700729322, "node_id": "MDU6TGFiZWw3MDA3MjkzMjI=", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-master", "name": "branch-master", "color": "fef2c0", "default": false, "description": "Will be solved on `master` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2017-01-18T02:24:15Z", "updated_at": "2020-06-26T09:42:52Z", "closed_at": "2020-06-26T09:37:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThis happened before in issue #1064 and I thought it was resolved, but when checking my logs for the past week, I occasionally will see dozens of lines of error messages of `Contents cache failed for <object name here>`, a character or a room. Reloading fixes it, though I'm unsure why this would suddenly pop back after seeming to be resolved for months.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Long enough period between reloads seems to occasionally create this error.\r\n\r\n#### Error output / Expected result of feature\r\nDozens of lines of `Contents cache failed for <object name>`. Usually more than one object is affected - somewhere between 1-6 characters or rooms seems to be typical.\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nProbably related to issue #1064 \r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1165", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1165/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1165/events", "html_url": "https://github.com/evennia/evennia/issues/1165", "id": 200907699, "node_id": "MDU6SXNzdWUyMDA5MDc2OTk=", "number": 1165, "title": "TTYPE negotiation with MUDRammer client", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-16T00:03:30Z", "updated_at": "2017-01-16T09:47:05Z", "closed_at": "2017-01-16T09:47:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nA player linked me a discussion with the developer of the Mudrammer client in which they seemed to have issues with ttype negotiation. The relevant bits are here:\r\n```\r\n@Roz I connected to Arx with the debugger attached. Arx does engage in TTYPE negotiations with the client, which rather directly contradicts Arx's own in-game help on the @color command that you posted above.\r\n\r\nArx says DO TTYPE\r\nMUDRammer says TTYPE MUDRAMMER\r\nArx says SEND TTYPE (per RFC 1091, if the server rejects a terminal type, the server can enumerate multiple ttypes in the client by requesting ttype again)\r\nMUDRammer says TTYPE XTERM\r\nArx says SEND TTYPE\r\nMUDRammer says TTYPE ANSI\r\nArx says SEND TTYPE\r\nMUDRammer says TTYPE ANSI (MUDRammer has exhausted its list of ttypes and signals this by repeating the last ttype a second time)\r\nIt appears that Arx rejected all of MUDRammer's ttypes and ended up with ANSI, either because it was the default or because it was the last one that MUDRammer sent.\r\n\r\nSo... is it a bug in MUDRammer or in Arx? Probably both? \u00af\\_(\u30c4)_/\u00af\r\n```\r\nLink to the full thread: http://musoapbox.net/topic/1382/mudrammer-help/18\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. TTYPE negotiation for MUDRammer appears to fail\r\n\r\n\r\n#### Error output / Expected result of feature\r\nLack of ANSI color in game\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nSee above thread/quoted text.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1164", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1164/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1164/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1164/events", "html_url": "https://github.com/evennia/evennia/issues/1164", "id": 200867552, "node_id": "MDU6SXNzdWUyMDA4Njc1NTI=", "number": 1164, "title": "monitorhandler doesn't persist between server reloads", "user": {"login": "titeuf87", "id": 2372338, "node_id": "MDQ6VXNlcjIzNzIzMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/2372338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/titeuf87", "html_url": "https://github.com/titeuf87", "followers_url": "https://api.github.com/users/titeuf87/followers", "following_url": "https://api.github.com/users/titeuf87/following{/other_user}", "gists_url": "https://api.github.com/users/titeuf87/gists{/gist_id}", "starred_url": "https://api.github.com/users/titeuf87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/titeuf87/subscriptions", "organizations_url": "https://api.github.com/users/titeuf87/orgs", "repos_url": "https://api.github.com/users/titeuf87/repos", "events_url": "https://api.github.com/users/titeuf87/events{/privacy}", "received_events_url": "https://api.github.com/users/titeuf87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-15T13:01:56Z", "updated_at": "2017-01-15T18:56:08Z", "closed_at": "2017-01-15T18:56:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nMonitors setup using the builtin monitor inputfunc stop working after a server `@reload`\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Connect to Evennia using the webclient\r\n2. Run the following in the browser javascript console: `Evennia.msg(\"monitor\", {}, {\"name\":\"desc\"})`\r\n3. Confirm it works. The server will send a `monitor` event when changing your description:\r\n```\r\nYou set your description.\r\nError or Unhandled event:\r\nmonitor, [], {\"name\":\"desc\",\"value\":\"test\",\"options\":{}}\r\n```\r\n4. `@reload` the server\r\n5. Change your desc again: this time the client does not get the monitor event (no more Error or Unhandled event message).\r\n\r\n#### Error output / Expected result of feature\r\nIn the console I get the following traceback\r\n```\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/arch/Projects/evenniagame/evennia/evennia/scripts/monitorhandler.py\", line 94, in at_update\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [::]     callback(obj=obj, fieldname=fieldname, **kwargs)\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/arch/Projects/evenniagame/evennia/evennia/server/inputfuncs.py\", line 358, in _on_monitor_change\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [::]     session.msg(monitor={\"name\": name, \"value\": _GA(obj, fieldname)})\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [::] AttributeError: 'NoneType' object has no attribute 'msg'\r\n2017-01-15T12:55:48+0000 [AMPProtocol,0,127.0.0.1] [EE] Monitor callback was removed.\r\n```\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1153", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1153/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1153/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1153/events", "html_url": "https://github.com/evennia/evennia/issues/1153", "id": 198066188, "node_id": "MDU6SXNzdWUxOTgwNjYxODg=", "number": 1153, "title": "Stale session in ObjectSessionHandler", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-29T20:45:59Z", "updated_at": "2017-01-11T22:44:25Z", "closed_at": "2017-01-11T22:43:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThis has only happened once or twice, and I haven't yet been able to reproduce it. Very rarely, if a player connects/goes linkdead a number of times in rapid succession, they'll wind up in a state where they're connected but have no active session, so any input they receive is directed nowhere. Their ObjectSessionHandler will have a `count()` of 1, while `get()` will return `[]`.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Player connects/disconnects many times quickly\r\n2. Player is no longer able to see input from their puppet\r\n\r\n#### Error output / Expected result of feature\r\nCharacter no longer sends messages to the correct session, so player is blind.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nCalling `character.sessions.clear()` and making the player relog/repuppet resolved the issue. Maybe just adding a call to unpuppet if it's not there already? Not sure.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1142", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1142/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1142/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1142/events", "html_url": "https://github.com/evennia/evennia/issues/1142", "id": 195982812, "node_id": "MDU6SXNzdWUxOTU5ODI4MTI=", "number": 1142, "title": "tags.get returns tag after removal until tags.all() is called", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-12-16T05:16:29Z", "updated_at": "2017-01-11T20:54:34Z", "closed_at": "2017-01-11T20:54:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen using tags earlier for a player setting, I noticed that it was remaining 'on' even after the tag was removed from a player unless `player.tags.all()` was called to update the cache. This happened when finding the player who was tagged with player.search() from another command. I noticed that using `@py self.player.tags.add` and .remove would have get work fine, but matching them from the command would have the tags reference be stale for some reason unless .all() was called.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. add tag to a player\r\n2. remove tag from player\r\n3. check for tags.get again\r\n\r\nEdit: After a `@reload`, I can no longer duplicate this. So I'm guessing it was some strange caching thing? Very strange.\r\n\r\n#### Error output / Expected result of feature\r\nThe tag is returned despite removal, unless tags.all() is called.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nAfter a reload, I stopped being able to duplicate this. I'm not sure why it happened suddenly, and then stopped occurring. Possibly a stale foreignkey issue with `self.player`?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1142/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1128", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1128/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1128/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1128/events", "html_url": "https://github.com/evennia/evennia/issues/1128", "id": 192503765, "node_id": "MDU6SXNzdWUxOTI1MDM3NjU=", "number": 1128, "title": "Very rarely server hangs indefinitely on 'evennia reload' from console", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2016-11-30T08:27:51Z", "updated_at": "2017-06-03T22:39:57Z", "closed_at": "2017-06-03T22:36:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThis is a very rare bug that I have no idea how to reproduce. It's only happened 3 times now out of reloading hundreds of times. What happens is when starting a reload, the only output you'll receive is 'received SIGINT, shutting down'. And then absolutely nothing else will happen - you won't be told ports are closing, no attempt to restart, etc. Attempting to do evennia start will then tell you that the server/portal process is already running, while stopping will tell you that both are stopped, but you'll be informed the server is still running when you try to start. The server will continue until it's wiped with kill -9, and the pid file is removed. It occurs to me that I've never seen this happen with reloading from inside the game, only with attempting to reload with 'evennia reload' from the console.\r\n\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. 'evennia reload' and then maybe, just maybe, you might get very unlucky. That's the best I have to go on at the moment.\r\n\r\n#### Error output / Expected result of feature\r\n'Server received SIGINT, shutting down', and then nothing.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nThe only reason I was thinking of this was all the craziness with the Windows reload process, and wondering if there was any strangeness happening with specifically the console version of reload. Since I have no idea how to reproduce it and it seems very rare, I just wanted to mention it here in case anyone else runs into it and might be able to shed more light on what might cause it to happen.\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1125", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1125/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1125/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1125/events", "html_url": "https://github.com/evennia/evennia/issues/1125", "id": 191421486, "node_id": "MDU6SXNzdWUxOTE0MjE0ODY=", "number": 1125, "title": "evennia stop + ctrl-C in windows causes traceback", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-24T02:41:06Z", "updated_at": "2016-11-25T08:10:56Z", "closed_at": "2016-11-25T08:10:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nThe latest commit causes a traceback to be generated upon using evennia stop and hitting ctrl-C to bypass the repeated 'stop batch job (y/n)' prompt:\r\n` Traceback (most recent call last):\r\n   File \"C:\\arx\\Lib\\site-packages\\twisted\\application\\app.py\", line 395, in startReactor\r\n     self.config, oldstdout, oldstderr, self.profiler, reactor)\r\n   File \"C:\\arx\\Lib\\site-packages\\twisted\\application\\app.py\", line 310, in runReactorWithLogging\r\n     reactor.run()\r\n   File \"C:\\arx\\Lib\\site-packages\\twisted\\internet\\base.py\", line 1195, in run\r\n     self.mainLoop()\r\n   File \"C:\\arx\\Lib\\site-packages\\twisted\\internet\\base.py\", line 1204, in mainLoop\r\n     self.runUntilCurrent()\r\n --- <exception caught here> ---\r\n   File \"C:\\arx\\Lib\\site-packages\\twisted\\internet\\base.py\", line 798, in runUntilCurrent\r\n     f(*a, **kw)\r\n   File \"C:\\arx\\Lib\\site-packages\\twisted\\internet\\base.py\", line 581, in stop\r\n     \"Can't stop reactor that isn't running.\")\r\n twisted.internet.error.ReactorNotRunning: Can't stop reactor that isn't running.` It's essentially just a display error, as far as I can tell, but hitting ctrl-C will continue to generate it each time, which can be confusing.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. evennia stop\r\n2. ctrl-c\r\n3. ctrl-c\r\n\r\n#### Error output / Expected result of feature\r\nThe above traceback, printed each time ctrl-c is entered.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\nI'll take a look and see if I can figure it out tonight, and write a pull request if so. Probably a lot easier for me to do so since I use my windows machine for testing stuff.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1124", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1124/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1124/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1124/events", "html_url": "https://github.com/evennia/evennia/issues/1124", "id": 190940713, "node_id": "MDU6SXNzdWUxOTA5NDA3MTM=", "number": 1124, "title": "Bug: TagHandler.all() only reports tags without category", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-22T08:56:45Z", "updated_at": "2016-11-22T19:33:58Z", "closed_at": "2016-11-22T19:33:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nThe TagHandler, accessible via `obj.tags` has a `.all()` method; this does only report tags with no category. \r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. `@tag self = testtag:testcategory`\r\n2. `self.tags.all()`\r\n3. The tag with the category does now show in the listing. \r\n\r\n#### Error output / Expected result of feature\r\n\r\n`TagHandler.all()` should report all tags; possibly using `repr` to show it as `TagName(category)`.\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1123", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1123/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1123/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1123/events", "html_url": "https://github.com/evennia/evennia/issues/1123", "id": 189412777, "node_id": "MDU6SXNzdWUxODk0MTI3Nzc=", "number": 1123, "title": "default command 'allcom' traceback with no arguments", "user": {"login": "PolarisScientia", "id": 2251386, "node_id": "MDQ6VXNlcjIyNTEzODY=", "avatar_url": "https://avatars.githubusercontent.com/u/2251386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PolarisScientia", "html_url": "https://github.com/PolarisScientia", "followers_url": "https://api.github.com/users/PolarisScientia/followers", "following_url": "https://api.github.com/users/PolarisScientia/following{/other_user}", "gists_url": "https://api.github.com/users/PolarisScientia/gists{/gist_id}", "starred_url": "https://api.github.com/users/PolarisScientia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PolarisScientia/subscriptions", "organizations_url": "https://api.github.com/users/PolarisScientia/orgs", "repos_url": "https://api.github.com/users/PolarisScientia/repos", "events_url": "https://api.github.com/users/PolarisScientia/events{/privacy}", "received_events_url": "https://api.github.com/users/PolarisScientia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-15T14:54:09Z", "updated_at": "2016-11-22T19:33:58Z", "closed_at": "2016-11-22T19:33:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nVanilla install. Server initially ran with mulitsession mode at it's default, changed to 2 later.\r\n'allcom' with no arguments present throws a traceback.\r\n\r\ninput/output:\r\nhttp://pastebin.com/XPQQDNFt\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. 'allcom'\r\n2. traceback expected as output\r\n\r\n#### Error output / Expected result of feature\r\n\r\nintended behavior via help : \"Without argument, works like comlist.\"\r\n\r\ntraceback from terminal:\r\n\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent c\r\nall last):\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"e:\\code\\mud\\even\r\nnia\\evennia\\commands\\cmdhandler.py\", line 489, in _run_command\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::]     yield cmd.parse()\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"e:\\code\\mud\\even\r\nnia\\evennia\\commands\\default\\muxcommand.py\", line 141, in parse\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::]     self.character = sel\r\nf.caller.get_puppet(self.session)\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"e:\\code\\mud\\even\r\nnia\\evennia\\players\\players.py\", line 329, in get_puppet\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::]     return session.puppe\r\nt\r\n2016-11-15T09:38:05-0500 [AMPProtocol,0,127.0.0.1] [::] AttributeError: 'NoneTyp\r\ne' object has no attribute 'puppet'\r\n\r\n(http://pastebin.com/Rm3368DX)", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1122", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1122/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1122/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1122/events", "html_url": "https://github.com/evennia/evennia/issues/1122", "id": 189303778, "node_id": "MDU6SXNzdWUxODkzMDM3Nzg=", "number": 1122, "title": "Autoconnects in Atlantis client don't work for Evennia", "user": {"login": "rozzingit", "id": 23469643, "node_id": "MDQ6VXNlcjIzNDY5NjQz", "avatar_url": "https://avatars.githubusercontent.com/u/23469643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rozzingit", "html_url": "https://github.com/rozzingit", "followers_url": "https://api.github.com/users/rozzingit/followers", "following_url": "https://api.github.com/users/rozzingit/following{/other_user}", "gists_url": "https://api.github.com/users/rozzingit/gists{/gist_id}", "starred_url": "https://api.github.com/users/rozzingit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rozzingit/subscriptions", "organizations_url": "https://api.github.com/users/rozzingit/orgs", "repos_url": "https://api.github.com/users/rozzingit/repos", "events_url": "https://api.github.com/users/rozzingit/events{/privacy}", "received_events_url": "https://api.github.com/users/rozzingit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 42, "created_at": "2016-11-15T05:33:29Z", "updated_at": "2016-11-26T01:30:58Z", "closed_at": "2016-11-26T01:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nEvennia doesn't seem to play well with the autoconnect feature on the [Atlantis client](http://riverdark.net/atlantis/), requiring typing out the connection command every time.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Save a world in Atlantis's address book with character login details.\r\n2. Connect to Evennia.\r\n3. Get feedback instead of logging in automatically.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nAuto-connection attempts are often spit back as if they were preceded by a mess of characters, such as:\r\n`Command '\u00ff\u00fb\u001fcon Character Password' is not available. Type \"help\" for help.`\r\n\r\nOr even as much mess as:\r\n`Command '\u00ff\u00fb\u001f\u00ff\u00fa\u001f\u0000j\u0000%\u00ff\u00f0\u00ff\u00fb\u0018\u00ff\u00fdV\u00ff\u00feF\u00ff\u00feE\u00ff\u00fe\u00c9\u00ff\u00fe[connect Character Password' is not available. Type \"help\" for help.`\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\n@packetdancer, the creator of Atlantis, can probably help with this.  I know she was poking at things on her end, and I'm sure she'd be happy to share Atlantis files.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1121", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1121/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1121/events", "html_url": "https://github.com/evennia/evennia/issues/1121", "id": 189175571, "node_id": "MDU6SXNzdWUxODkxNzU1NzE=", "number": 1121, "title": "Error with using the number 2 in _default menu nodes", "user": {"login": "grungies1138", "id": 1909734, "node_id": "MDQ6VXNlcjE5MDk3MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1909734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grungies1138", "html_url": "https://github.com/grungies1138", "followers_url": "https://api.github.com/users/grungies1138/followers", "following_url": "https://api.github.com/users/grungies1138/following{/other_user}", "gists_url": "https://api.github.com/users/grungies1138/gists{/gist_id}", "starred_url": "https://api.github.com/users/grungies1138/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grungies1138/subscriptions", "organizations_url": "https://api.github.com/users/grungies1138/orgs", "repos_url": "https://api.github.com/users/grungies1138/repos", "events_url": "https://api.github.com/users/grungies1138/events{/privacy}", "received_events_url": "https://api.github.com/users/grungies1138/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-14T17:35:01Z", "updated_at": "2016-11-20T21:15:42Z", "closed_at": "2016-11-20T21:15:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\nWhen using a menu node that utilized the _default input capture technique, the number 2 always returns to the same node.  No further processing is encountered\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\n1. Test using a menu that accepts user input with the _default key and attempting to use the number 2.\r\n2.  Use the attached code.\r\n\r\n#### Error output / Expected result of feature\r\nno errors.\r\n\r\n\r\n\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1117", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1117/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1117/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1117/events", "html_url": "https://github.com/evennia/evennia/issues/1117", "id": 187098409, "node_id": "MDU6SXNzdWUxODcwOTg0MDk=", "number": 1117, "title": "EvMenu options formatting problem", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-11-03T15:42:23Z", "updated_at": "2016-11-16T23:35:00Z", "closed_at": "2016-11-16T23:35:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\r\n\r\nA recent change to EvTable seems to have introduced problems to how EvMenu options are formatted. Options that contain ANSI color characters appear to have their contents wrapped incorrectly, and the ansi characters are stripped from the first line of the option, though they do seem to appear after the wrap.\r\n\r\n#### Steps to reproduce the issue / Reasons for adding feature:\r\n\r\nThis issue appears by running the Ainneve chargen menu with any evennia commit later than 242fb0e.\r\n\r\n#### Error output / Expected result of feature\r\n\r\nBelow is before and after output from the Ainneve chargen menu.\r\n```\r\n# commit 5f5ffe4\r\n# this is the correct output\r\n\r\nYour character's traits influence combat abilities and skills.\r\nType 'help' to see individual trait definitions.\r\n\r\nAllocate additional trait points as you choose.\r\n\r\n  8 Points Remaining\r\nPlease select a trait to increase:\r\n______________________________________________________________________________________________________________________________________________________________________________________\r\n\r\n  1: |CStrength|n        : |x[|w   4|x]|n   5: |CCharisma|n        : |x[|w   1|x]|n \r\n  2: |CPerception|n      : |x[|w   6|x]|n   6: |CVitality|n        : |x[|w   1|x]|n \r\n  3: |CIntelligence|n    : |x[|w   6|x]|n   7: |CMagic|n           : |x[|w   0|x]|n \r\n  4: |CDexterity|n       : |x[|w   4|x]|n   8: Start Over               \r\n\r\n\r\n\r\n# commit 242fb0e\r\n# this is the incorrect output\r\n\r\nYour character's traits influence combat abilities and skills.\r\nType 'help' to see individual trait definitions.\r\n\r\nAllocate additional trait points as you choose.\r\n\r\n  8 Points Remaining\r\nPlease select a trait to increase:\r\n__________________________________________________________________________________________________________________________________________________________________________________________\r\n\r\n1: Strength        : [     5: Charisma        : [    \r\n4|x]|n                          1|x]|n                         \r\n2: Perception      : [     6: Vitality        : [    \r\n6|x]|n                          1|x]|n                         \r\n3: Intelligence    : [     7: Magic           : [    \r\n6|x]|n                          0|x]|n                         \r\n4: Dexterity       : [     8: Start Over             \r\n4|x]|n   \r\n```\r\n(The ansi characters were manually added to this output.)\r\n\r\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\r\n\r\nAs listed in the comments above, it seems that the change appeared at or around commit 242fb0e.", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1114", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1114/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1114/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1114/events", "html_url": "https://github.com/evennia/evennia/issues/1114", "id": 186075843, "node_id": "MDU6SXNzdWUxODYwNzU4NDM=", "number": 1114, "title": "Bug: TagHandler fails for Msg and HelpEntry objects", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-10-29T12:24:15Z", "updated_at": "2016-11-22T18:47:17Z", "closed_at": "2016-11-22T18:47:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nMsg objects have tags, but their manager, MsgManager, does not inherit from TypedObjectManager, so it doesn't have the create_tag method, get_tag, etc. Attempting to create a new tag with msg.tags.add() will cause an attribute error. Same thing happens for HelpEntry objects, for the same reason.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Create a new Msg object, then attempt to add a tag that does not currently exist to it\n2. create_tag will be called, and raise an Attribute Error\n3. same thing will happen with a HelpEntry object\n#### Error output / Expected result of feature\n\nFile \"evennia\\evennia\\typeclasses\\tags.py\", line 252, in add\n    tagobj = self.obj.**class**.objects.create_tag(key=tagstr, category=category, data=data,\nAttributeError: 'MsgManager' object has no attribute 'create_tag'\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nI'm not sure the best way to resolve this, since Msg and HelpEntry aren't TypedObjects, so I wasn't sure if having their managers just inherit from a TypedManager would cause any issues. I guess that maybe the Tag methods could be refactored out and made a mixin that go into Typed Manager, and then also into the managers for Msg and HelpEntry, something like that?\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1112", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1112/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1112/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1112/events", "html_url": "https://github.com/evennia/evennia/issues/1112", "id": 186055695, "node_id": "MDU6SXNzdWUxODYwNTU2OTU=", "number": 1112, "title": "Contrib RP System Issues", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-29T03:01:54Z", "updated_at": "2016-11-01T20:06:23Z", "closed_at": "2016-11-01T20:06:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n1. Contrib RP System Issues (issue unresolved in #1054) - The new character still sees the Superuser character (named \"One\") listed in the room contents with \"None\" as its room pose\n2. Using \"emote\" command without making a reference to any object causes traceback.\n3. Using \"emote\" command from Superuser character with a `/me` reference.\n4. Using \"emote\" command from Superuser character with a `/person` reference to newly created character.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. In new game folder, init, migrate, and start a new game\n2. Add RP System to default object, character, and room typeclasses, reload game.\n3. Create and login new character (Observe output 1)\n4. From second character, `emote tests RP system.`  with the new character (Observe output 2 with traceback)\n5. From Superuser character, `emote /me`  does not replace `/me` reference. (Observe output 3)\n6. From Superuser character, `emote waves to /person!`  does not replace `/person` reference. (Observe output 4)\n   #### Error output / Expected result of feature\n##### _Output 1_\n\n``` text\nLimbo\nWelcome to your new Evennia-based game! Visit http://www.evennia.com if you need\nhelp, want to contribute, report issues or just join the community.\nAs Player #1 you can create a demo/tutorial area with @batchcommand tutorial_world.build.\nOne None\n```\n##### _Output 2_\n\n``` text\nTraceback (most recent call last):\n   File \"/home/evennia/evennia/evennia/commands/cmdhandler.py\", line 493, in _run_command\n     ret = yield cmd.func()\n   File \"/home/evennia/evennia/evennia/contrib/rpsystem.py\", line 810, in func\n     send_emote(self.caller, targets, emote, anonymous_add='first')\n   File \"/home/evennia/evennia/evennia/contrib/rpsystem.py\", line 499, in send_emote\n     send_emote = emote.format(**receiver_lang_mapping)\n KeyError: u'#3'\n```\n##### _Output 3_\n\n``` text\nOne /me\n```\n##### _Output 4_\n\n``` text\nOne waves to /person!\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nCurrent evennia, master branch, RP System contrib, any OS.\n1. Superuser character named \"One\" has _no RP defaults_, including sdesc or room pose setting. This simulates a character object created before RP system is engaged.\n2. KeyError occurs when no emote reference is given in user-supplied input, but should resolve to a reference to the character caller object.\n3. and 4... seems related to \"One\" character not being typeclassed as an RP object.  **Might be expected behavior.**\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1100", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1100/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1100/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1100/events", "html_url": "https://github.com/evennia/evennia/issues/1100", "id": 183519579, "node_id": "MDU6SXNzdWUxODM1MTk1Nzk=", "number": 1100, "title": "Bug: Persistent repeating script not repeating after shutdown", "user": {"login": "Curudan", "id": 22896210, "node_id": "MDQ6VXNlcjIyODk2MjEw", "avatar_url": "https://avatars.githubusercontent.com/u/22896210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Curudan", "html_url": "https://github.com/Curudan", "followers_url": "https://api.github.com/users/Curudan/followers", "following_url": "https://api.github.com/users/Curudan/following{/other_user}", "gists_url": "https://api.github.com/users/Curudan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Curudan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Curudan/subscriptions", "organizations_url": "https://api.github.com/users/Curudan/orgs", "repos_url": "https://api.github.com/users/Curudan/repos", "events_url": "https://api.github.com/users/Curudan/events{/privacy}", "received_events_url": "https://api.github.com/users/Curudan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-10-17T20:31:47Z", "updated_at": "2016-11-23T18:13:17Z", "closed_at": "2016-11-23T18:13:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue:\n\nThe following script does not continue repeating for me after a cold shutdown and restart of the server.\n\n``` python\nclass WeatherManager(DefaultScript):\n\n    def at_script_creation(self):\n        self.key = 'weather_manager'\n        self.desc = 'Echoes weather messages to all outdoor rooms.'\n        self.interval = 20\n        self.persistent = True\n\n        self.db.count = 0\n\n    def at_repeat(self):\n        self.db.count += 1\n        for obj in search_tag(\"outdoors\"):\n            obj.msg_contents(\"This is message number %s. \" % self.db.count)\n```\n\nInterestingly enough, the script will resume repeating following a `@reload`\n#### Steps to reproduce the issue:\n1. Install the latest version of Evennia following the [Getting Started ](https://github.com/evennia/evennia/wiki/Getting-Started)guide.\n2. Add the script to the bottom of mygame\\typeclasses\\scripts.py, and change the import line to `from evennia import DefaultScript, search_tag`\n3. Tag Limbo with `@tags here = outdoors` and then initiate the script with `@scripts/start typeclasses.scripts.WeatherManager`.\n4. Shutdown the server with 'evennia stop' from the console, and then bring it back up with 'evennia start'.\n#### Error output:\n\nThe Script will no longer repeat, and the output from `@scripts` has '--' in the 'next' column.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nWindows 10\nEvennia version 0.6.0 (rev cd9c11f) (The latest version)\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1099", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1099/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1099/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1099/events", "html_url": "https://github.com/evennia/evennia/issues/1099", "id": 183260856, "node_id": "MDU6SXNzdWUxODMyNjA4NTY=", "number": 1099, "title": "nick/alias delete option does not delete by index", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-16T10:56:27Z", "updated_at": "2016-10-17T20:11:08Z", "closed_at": "2016-10-17T20:11:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nAfter creating a functioning nick/alias,  list option shows created nick, but delete option does not actually delete, despite message \"Nick removed\"\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Create nick\n2. Attempt to delete nick\n#### Error output / Expected result of feature\n\n`> alias/list`\nNo nicks defined.\n`> alias a=b`\nNick 'a' mapped to 'b'.\n`> alias/list`\nDefined Nicks:\n`#   Type         Nick match   Replacement`\n1   inputline   a                   b \n`> alias/delete 1`\nNick removed: 'a' -> b.\n`> alias/list`\nDefined Nicks:\n`#   Type         Nick match   Replacement`\n1   inputline   a                   b \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia 0.6.0 (rev 997014e) \ncurrent horizondark.com\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1099/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1087", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1087/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1087/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1087/events", "html_url": "https://github.com/evennia/evennia/issues/1087", "id": 180347799, "node_id": "MDU6SXNzdWUxODAzNDc3OTk=", "number": 1087, "title": "Cmdsets with mergetype 'remove' do not work on caller", "user": {"login": "Nadorrano", "id": 12700519, "node_id": "MDQ6VXNlcjEyNzAwNTE5", "avatar_url": "https://avatars.githubusercontent.com/u/12700519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nadorrano", "html_url": "https://github.com/Nadorrano", "followers_url": "https://api.github.com/users/Nadorrano/followers", "following_url": "https://api.github.com/users/Nadorrano/following{/other_user}", "gists_url": "https://api.github.com/users/Nadorrano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nadorrano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nadorrano/subscriptions", "organizations_url": "https://api.github.com/users/Nadorrano/orgs", "repos_url": "https://api.github.com/users/Nadorrano/repos", "events_url": "https://api.github.com/users/Nadorrano/events{/privacy}", "received_events_url": "https://api.github.com/users/Nadorrano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-30T16:33:05Z", "updated_at": "2016-10-16T18:08:35Z", "closed_at": "2016-10-16T18:08:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue:\n\nThe problem is that when an object has a cmdset with the \"remove\" flag on the top of the stack (highest priority), the flag is propagated to obj.cmdset.current, causing unexpected behaviors when obj is caller.\nThis is what happen if I put a \"remove\" cmdset on a character:\n- cmdsets are collected from local objects and merged on each object, this is OK\n- cmdsets stored on caller are merged, the \"remove\" cmdset is merged last and the flag is retained by the merged cmdset\n- cmdsets on caller and objects are merged together, but in the previous step caller has got a cmdset containing all his commands and the flag \"remove\",\n  in this merge it will behave as a filter not as regular cmdset!\n\nThis has the effect of removing basically all commands on caller.\nThe same happens if the cmdset is stored on external objects with same priority as the caller current cmdset, because it fails when merging cmdsets with same priority (this may be a separate issue).\n#### Steps to reproduce the issue / Reasons for adding feature:\n\nThis command will add a CmdSet with a high priority (must be the highest of all cmdsets stored on 'character') to a character. \nThe result is that the character lose its commands.\n\n`@py from evennia import CmdSet; a = CmdSet(); a.priority = 40; a.mergetype = \"Remove\"; self.search(\"char name\").cmdset.add(a)`\n\nThe command is a single line.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nAs a quickfix I found that forcing the caller (and only the caller) to have caller.cmdset.current.mergetype = \"Union\", solves this issue.\n\nI hope this bug description is clear.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1087/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1085", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1085/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1085/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1085/events", "html_url": "https://github.com/evennia/evennia/issues/1085", "id": 180164047, "node_id": "MDU6SXNzdWUxODAxNjQwNDc=", "number": 1085, "title": "Running `@batchcommand` removes stored CmdSets", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-29T21:10:48Z", "updated_at": "2016-10-01T13:41:50Z", "closed_at": "2016-10-01T13:41:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nIn `at_object_creation()` for ContribRPCharacter, the `RPSystemCmdSet` is added to the cmdset handler with `permanent=True`.\n\nI have noticed that after building with the `@batchcommand` command, my character no longer has the `RPSystemCmdSet`.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Fresh install\n2. Change character typeclass with `@type me = evennia.contrib.rpsystem.ContribRPCharacter`\n3. Run `@ex me` to confirm that the `RPSystemCmdSet` is stored on the character.\n4. Run any build script with `@batchcommand`.\n5. Run `@ex me` - `RPSystemCmdSet is no longer present\n#### Error output / Expected result of feature\n\nOutput:\n\n```\nStored Cmdset(s):\ncommands.default_cmdsets.CharacterCmdSet [DefaultCharacter] (Union, prio 0)\n```\n\nExpected:\n\n```\nStored Cmdset(s):\ncommands.default_cmdsets.CharacterCmdSet [DefaultCharacter] (Union, prio 0)\nevennia.contrib.rpsystem.RPSystemCmdSet [Unnamed CmdSet] (Union, prio 0)\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nIt would appear that this is happening because `cmdset.clear()` is being called in [evennia.commands.default.batchprocess.py Line 210](https://github.com/evennia/evennia/blob/master/evennia/commands/default/batchprocess.py#L210).\n\nIt looks as though there are only two cmdsets that are used in this module, so an easy fix would be to just remove the module-specific cmdsets instead of clear()-ing all of them.\n\nIs the desired behavior for `cmdset.clear()` to remove even those cmdsets added with `permanent=True`? Should there be a variant that does not remove \"permanent\" cmdsets? I'm happy to make a PR for this with some guidance as to whether the change should be in batchprocess.py, or in cmdsethandler.py\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1077", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1077/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1077/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1077/events", "html_url": "https://github.com/evennia/evennia/issues/1077", "id": 179133475, "node_id": "MDU6SXNzdWUxNzkxMzM0NzU=", "number": 1077, "title": "Telnet Clients receiving newlines/junk data from JSON Send", "user": {"login": "volundmush", "id": 4450786, "node_id": "MDQ6VXNlcjQ0NTA3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/4450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volundmush", "html_url": "https://github.com/volundmush", "followers_url": "https://api.github.com/users/volundmush/followers", "following_url": "https://api.github.com/users/volundmush/following{/other_user}", "gists_url": "https://api.github.com/users/volundmush/gists{/gist_id}", "starred_url": "https://api.github.com/users/volundmush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volundmush/subscriptions", "organizations_url": "https://api.github.com/users/volundmush/orgs", "repos_url": "https://api.github.com/users/volundmush/repos", "events_url": "https://api.github.com/users/volundmush/events{/privacy}", "received_events_url": "https://api.github.com/users/volundmush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-26T03:41:40Z", "updated_at": "2016-10-02T19:54:03Z", "closed_at": "2016-10-02T19:54:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen .msg() is called and sends JSON/OOB data to a telnet client without GMCP enabled.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Connect a telnet client to Evennia.\n2. Enable packet debug on client - I recommend MUSHclient.\n3. @py self.msg(testing=((),{}))\n4. Notice THIS happens... (see below)\n#### Error output / Expected result of feature\n\nIncoming packet: 3997 (6 bytes) at Sunday, September 25, 2016, 11:39:09 PM\n\n.[0m..             1b 5b 30 6d 0d 0a\n\nThis packet causes a newline to appear in the client.\n\nVery not cool.\n\nWhy is a client that can't receive OOB data receiving junk? Shouldn't Evennia strip the meaningless data from a protocol instance that didn't WILL GMCP?\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1076", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1076/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1076/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1076/events", "html_url": "https://github.com/evennia/evennia/issues/1076", "id": 179043721, "node_id": "MDU6SXNzdWUxNzkwNDM3MjE=", "number": 1076, "title": "Creating a player from pre-login containing apostrophe", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-24T18:10:38Z", "updated_at": "2016-10-01T23:05:56Z", "closed_at": "2016-10-01T23:05:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nCreating a character from pre-login containing apostrophe yields unexpected and varied results, requires manual intervention.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. `create T'Pring Vulcan` \n2. `create \"T'Pau\" Vulcan`\n3. `create Muad\u2019Dib Dune`\n#### Error output / Expected result of feature\n\nThe first creates a player and character named `T`\n\nThe second yields:\n`Usage (without <>): create <name> <password>`\n`If <name> or <password> contains spaces, enclose it in quotes.`\n\nThe third yields:\n`Playername can max be 30 characters or fewer. Letters, spaces, digits and @/./+/-/_ only.`\n\nThe user who attempts this receives conflicting information and no success, requiring a manual renaming to name the character object what the user wants.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nLatest revision, Evennia, master branch\n\nEscape input to allow a larger variety of character names, instruct that creating a character with a name containing an apostrophe requires special action - renaming in web admin after creation.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1075", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1075/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1075/events", "html_url": "https://github.com/evennia/evennia/issues/1075", "id": 179005738, "node_id": "MDU6SXNzdWUxNzkwMDU3Mzg=", "number": 1075, "title": "Bug: Session multiplies reloading tab on the webbrowser (not @reload)", "user": {"login": "texdarkstar", "id": 22407005, "node_id": "MDQ6VXNlcjIyNDA3MDA1", "avatar_url": "https://avatars.githubusercontent.com/u/22407005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/texdarkstar", "html_url": "https://github.com/texdarkstar", "followers_url": "https://api.github.com/users/texdarkstar/followers", "following_url": "https://api.github.com/users/texdarkstar/following{/other_user}", "gists_url": "https://api.github.com/users/texdarkstar/gists{/gist_id}", "starred_url": "https://api.github.com/users/texdarkstar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/texdarkstar/subscriptions", "organizations_url": "https://api.github.com/users/texdarkstar/orgs", "repos_url": "https://api.github.com/users/texdarkstar/repos", "events_url": "https://api.github.com/users/texdarkstar/events{/privacy}", "received_events_url": "https://api.github.com/users/texdarkstar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-09-24T02:27:47Z", "updated_at": "2016-10-13T18:26:26Z", "closed_at": "2016-10-13T18:26:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "if i am logged in the game, and i reload the tab, it adds another session to my puppet.\nonly happens with the websocket that i know of so far. haven't tried with a mud client yet\n\nthere is no way to remove these extra sessions except deleting the server\\evennia.db3 file and starting over.\ni have tried cold restarts, quiting and making sure i was logged out for good, so im not autologged in, shutdowns, etc. nothing seems to work\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1074", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1074/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1074/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1074/events", "html_url": "https://github.com/evennia/evennia/issues/1074", "id": 178491052, "node_id": "MDU6SXNzdWUxNzg0OTEwNTI=", "number": 1074, "title": "Confusing behavior for players for EvMore", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259905, "node_id": "MDU6TGFiZWw3NjI1OTkwNQ==", "url": "https://api.github.com/repos/evennia/evennia/labels/feature-request", "name": "feature-request", "color": "84b6eb", "default": false, "description": "A suggestion for new functionality."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-22T00:01:06Z", "updated_at": "2016-10-03T09:56:17Z", "closed_at": "2016-10-03T09:56:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nBecause EvMore covers player commands, this includes the character look command. But what is often happening is if a player doesn't understand the syntax for EvMore, they'll get something like 'Command 'more' is not available' then hit look, and see: 'You are out-of-character (OOC). Use @ic to get back into the game.' because the player OOCLook is still available. So they'll hit @ic, and then see that they're already in-game, and be thoroughly confused, not knowing that they're stuck in the EvMore window.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Open an EvMore message that's 2 or more pages\n2. enter 'more'\n3. 'look'\n4. '@ic'\n#### Error output / Expected result of feature\n\nThe player will receive the confusing message that they're currently @ooc, while being told they're IC if they try to use @ic\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nPerhaps EvMore should cover the OOCLook command as well to replay the current window. I'd also suggest 'return' be replaced with 'next', because for non-ansi terminals they can't tell the N is highlighted in return, and 'return' itself is an invalid command.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1074/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1073", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1073/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1073/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1073/events", "html_url": "https://github.com/evennia/evennia/issues/1073", "id": 178478599, "node_id": "MDU6SXNzdWUxNzg0Nzg1OTk=", "number": 1073, "title": "ContribRPObject.search() generates traceback", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-21T22:31:17Z", "updated_at": "2016-10-13T18:34:16Z", "closed_at": "2016-10-13T18:34:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nIf you have a subclass of ContribRPObject and try to use its `search()` method, a traceback is generated.\n#### Steps to reproduce the issue / Reasons for adding feature:\n\n```\n> @create/drop box1 = evennia.contrib.rpsystem.ContribRPObject\n> @create/drop box2 = evennia.contrib.rpsystem.ContribRPObject\n> b1 = me.search('box1'); b2 = b1.search('box2', candidates=me.location.contents, quiet=True)\n```\n#### Error output / Expected result of feature\n\n```\nFile \"c:\\users\\dan\\sandbox\\evennia\\evennia\\contrib\\rpsystem.py\", line 1250, in search _PREFIX + searchdata, search_mode=True) \nFile \"c:\\users\\dan\\sandbox\\evennia\\evennia\\contrib\\rpsystem.py\", line 346, in parse_sdescs_and_recogs for obj in candidates if hasattr(obj, \"sdesc\")] + \\ \nAttributeError: 'ContribRPObject' object has no attribute 'sdesc'\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nCurrent Evennia master. \n\nThe problem seems to be rpsystem.py line 343, where `sender.sdesc` is accessed. When `sender` is a ContribRPObject, there is no sdesc handler.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1073/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1064", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1064/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1064/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1064/events", "html_url": "https://github.com/evennia/evennia/issues/1064", "id": 177016069, "node_id": "MDU6SXNzdWUxNzcwMTYwNjk=", "number": 1064, "title": "Bug: 'contents cache failed for ' <player>", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-09-14T20:45:28Z", "updated_at": "2016-10-02T18:55:24Z", "closed_at": "2016-10-02T18:55:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nA character in game is continually throwing errors for her contents cache with a newly created object, which is just a typeclass of 'Bauble', essentially a duplicate of DefaultObject. Here's the very odd thing: although she throws a key error for the bauble's id of 4037 in game for contentscache._idcache[4037], in evennia shell it finds it fine. I have absolutely no idea why _idcache is different in-game than from shell.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1064/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1054", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1054/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1054/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1054/events", "html_url": "https://github.com/evennia/evennia/issues/1054", "id": 176196024, "node_id": "MDU6SXNzdWUxNzYxOTYwMjQ=", "number": 1054, "title": "Contrib RP System Issues", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-10T18:48:22Z", "updated_at": "2016-10-29T03:02:41Z", "closed_at": "2016-10-23T17:33:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n1. Quoted portion of emotes are escaped, shows `{#<id>}` instead of sdesc/recog (or default value, when sdesc not set).\n2. Superuser's room pose (when seen by other characters) is `None` when unset instead of not shown.\n#### Steps to reproduce the issue / Reasons for adding feature:\n\nEnable rpsystem, create player/character, log in that player/character pair.\n1. `emote is \"/me\"!`\n2. `look`\n#### Error output / Expected result of feature\n\nNew character emotes: \n`is \"{#3}\"!`\nand sees\n\n```\nLimbo\nWelcome to your new Evennia-based game! Visit http://www.evennia.com if you need\nhelp, want to contribute, report issues or just join the community.\nAs Player #1 you can create a demo/tutorial area with @batchcommand tutorial_world.build.\nOne None\n```\n\nShould emote leading with key for `#3` instead of empty string, and should not escape the `/me` as object id.\n\nShould see unset room poses as empty string or default value setting, instead of `None`.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\n Evennia 0.6.0 (rev ad8d105) main branch, Linux OS\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1050", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1050/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1050/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1050/events", "html_url": "https://github.com/evennia/evennia/issues/1050", "id": 175734614, "node_id": "MDU6SXNzdWUxNzU3MzQ2MTQ=", "number": 1050, "title": "Bug: Traceback in \"who\" command when players in ooc state with characters in None location", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-08T11:56:02Z", "updated_at": "2016-09-08T18:49:33Z", "closed_at": "2016-09-08T18:49:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nSome situations, like being in the OOC state will cause players to be online yet their players being in a `None` location. The default `who` command fails in this case. \n#### Steps to reproduce the issue / Reasons for adding feature:\n1. This should occur when doing who with at least one player being ooc and their character being in a `None` location.\n#### Error output / Expected result of feature\n\n```\nTraceback (most recent call last):\n  File \"/home/griatch/evennia/evennia/commands/cmdhandler.py\", line 464, in _run_command\n    ret = yield cmd.func()\n  File \"/home/griatch/evennia/evennia/commands/default/player.py\", line 425, in func\n    location = puppet.location.key if puppet else \"None\"\nAttributeError: 'NoneType' object has no attribute 'key'\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nIt's a simple case of the `who` command not correctly checking for this contingency. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1049", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1049/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1049/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1049/events", "html_url": "https://github.com/evennia/evennia/issues/1049", "id": 175720478, "node_id": "MDU6SXNzdWUxNzU3MjA0Nzg=", "number": 1049, "title": "Error when logging in to demo (in some circumstances)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-08T10:36:18Z", "updated_at": "2016-09-08T10:57:14Z", "closed_at": "2016-09-08T10:57:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "(forwarded from IRC user \"Suterusu\")\n#### Brief summary of issue / Description of requested feature:\n\nOn login attempt char selection/application fails and traceback released. Can then `@ic` [login] to gain access to char.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Login to demo game (in some circumstances)\n#### Error output / Expected result of feature\n\n```\nconnected to horizondark.com.\nEscape character is '^]'.\n==============================================================\n Welcome to Evdemo, version 0.6.0 (rev 614a991)!\n\n If you have an existing account, connect to it by typing:\n      connect <username> <password>\n If you need to create an account, type (without the <>'s):\n      create <username> <password>\n\n If you have spaces in your username, enclose it in quotes.\n Enter help for more info. look will re-show this screen.\n==============================================================\nconnect Eye+R [Redacted]\nTraceback (most recent call last):\n  File \"/home/griatch/evennia/evennia/commands/cmdhandler.py\", line 464, in _run_command\n    ret = yield cmd.func()\n  File \"/home/griatch/evennia/evennia/commands/default/unloggedin.py\", line 241, in func\n    session.sessionhandler.login(session, player)\n  File \"/home/griatch/evennia/evennia/server/sessionhandler.py\", line 403, in login\n    del player.db.FIRST_LOGIN\n  File \"/home/griatch/evennia/evennia/typeclasses/models.py\", line 133, in __delattr__\n    _GA(self, _GA(self, 'name')).remove(attrname)\n  File \"/home/griatch/evennia/evennia/typeclasses/attributes.py\", line 575, in remove\n    attr_obj.delete()\n  File \"/home/griatch/evennia/evennia/utils/idmapper/models.py\", line 351, in delete\n    super(SharedMemoryModel, self).delete(*args, **kwargs)\n  File \"/home/griatch/vienv/lib/python2.7/site-packages/django/db/models/base.py\", line 865, in delete\n    (self._meta.object_name, self._meta.pk.attname)\nAssertionError: Attribute object can't be deleted because its id attribute is set to None.\n\nAn untrapped error occurred.\n(Traceback was logged 2016-09-07 21:32:53-0000).\nl\nYou are out-of-character (OOC).\nUse @ic to get back into the game.\n```\n\n```\nconnect tsunami REDACTED\nTraceback (most recent call last):\n  File \"/home/griatch/evennia/evennia/commands/cmdhandler.py\", line 464, in _run_command\n    ret = yield cmd.func()\n  File \"/home/griatch/evennia/evennia/commands/default/unloggedin.py\", line 241, in func\n    session.sessionhandler.login(session, player)\n  File \"/home/griatch/evennia/evennia/server/sessionhandler.py\", line 403, in login\n    del player.db.FIRST_LOGIN\n  File \"/home/griatch/evennia/evennia/typeclasses/models.py\", line 133, in __delattr__\n    _GA(self, _GA(self, 'name')).remove(attrname)\n  File \"/home/griatch/evennia/evennia/typeclasses/attributes.py\", line 575, in remove\n    attr_obj.delete()\n  File \"/home/griatch/evennia/evennia/utils/idmapper/models.py\", line 351, in delete\n    super(SharedMemoryModel, self).delete(*args, **kwargs)\n  File \"/home/griatch/vienv/lib/python2.7/site-packages/django/db/models/base.py\", line 865, in delete\n    (self._meta.object_name, self._meta.pk.attname)\nAssertionError: Attribute object can't be deleted because its id attribute is set to None.\n\nAn untrapped error occurred.\n(Traceback was logged 2016-09-07 23:06:53-0000).\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nExtra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nAt a loose guess, I [Suterusu] 'd suggest it's attempting to process me with the sessionhandler.py, in login, and failing when hits `del player.db.FIRST_LOGIN` as this isn't actually my first login - and that's already been deleted. Unable to handle/unexpecting such an error(can't delete it, dipshit, it's not there) it throws an exception. Just a guess mind, not a particular educated one either.\n\nPotentially caused by recycling charactor details in DB, of previously or inaccurately deleted charactors.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1049/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1048", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1048/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1048/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1048/events", "html_url": "https://github.com/evennia/evennia/issues/1048", "id": 175718462, "node_id": "MDU6SXNzdWUxNzU3MTg0NjI=", "number": 1048, "title": "Small bug: aliases cannot be used for multimatches", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-08T10:25:24Z", "updated_at": "2016-10-13T20:10:58Z", "closed_at": "2016-10-13T20:10:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhile commands will report that they cannot disambiguate a match that results from aliases, you cannot use the 1-item, 2-item, etc, format in order to resolve it.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. '@alias self=foo'\n2.  '@alias here=foo'\n3.  '@ex foo', '@ex 2-foo'\n#### Error output / Expected result of feature\n\n'@ex foo' returns the multimatch failure string, '@ex 2-foo' results in 'Could not find 2-foo'.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1047", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1047/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1047/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1047/events", "html_url": "https://github.com/evennia/evennia/issues/1047", "id": 175678914, "node_id": "MDU6SXNzdWUxNzU2Nzg5MTQ=", "number": 1047, "title": "minor bug (dice.py) - Include how to fix", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-08T06:56:05Z", "updated_at": "2016-09-08T19:00:16Z", "closed_at": "2016-09-08T19:00:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\n'dice 3d' or 'dice d6' input, ValueError: invalid literal for int () with base 10: ''\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. 'dice 3d' or 'dice d6' input, ValueError: invalid literal for int () with base 10: ''\n#### Error output / Expected result of feature\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nsimple solution:\ndice.py 177 line\n\nas is: \n    if lparts < 3 or parts[1] != 'd':\nto be: \n    if lparts < 3 or parts[0] == u''  or parts[2] == u'' or parts[1] != 'd':\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1047/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1047/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1042", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1042/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1042/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1042/events", "html_url": "https://github.com/evennia/evennia/issues/1042", "id": 175103770, "node_id": "MDU6SXNzdWUxNzUxMDM3NzA=", "number": 1042, "title": "EvMenu on session object generates traceback", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-05T16:40:13Z", "updated_at": "2016-09-07T21:49:51Z", "closed_at": "2016-09-07T21:49:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nIn Ainneve, chargen is handled by an EvMenu instance that is passed a **session** instead of a character. It displays one menu node, but crashes with any input.\n\nThe traceback points to evmenu.py, line 237, which was recently added in commit f6286ac.\n#### Steps to reproduce the issue / Reasons for adding feature:\n- Updated to current master of both evennia and ainneve\n- Ran `pip install --upgrade -e <evennia home>`\n- Deleted the previously-generated twistd.bat file and evennia.db3 file\n- Ran migrations and started the ainneve server\n- Connect as superuser 'Ainneve'\n- Run `@ic ainneve` - chargen begins\n- Enter any selection from the first menu node\n#### Error output / Expected result of feature\n\n```\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\commands\\cmdhandler.py\", line 464, in _run_command\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::]     ret = yield cmd.func()\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\utils\\evmenu.py\", line 237, in func\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::]     caller = caller.player\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::] AttributeError: 'Player' object has no attribute 'player'\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::]   File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\commands\\cmdhandler.py\", line 599, in cmdhandler\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::]     ret = yield _run_command(syscmd, syscmd.key, sysarg)\n2016-09-05T10:58:09-0500 [AMPProtocol,0,127.0.0.1] [::] ErrorReported\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1042/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1041", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1041/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1041/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1041/events", "html_url": "https://github.com/evennia/evennia/issues/1041", "id": 175101811, "node_id": "MDU6SXNzdWUxNzUxMDE4MTE=", "number": 1041, "title": "Bug: Creating character and immediately quitting causes traceback", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-05T16:24:39Z", "updated_at": "2016-09-08T18:46:22Z", "closed_at": "2016-09-08T18:46:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nAn error occurs, when with the create character and Immediately quit\n#### Steps to reproduce the issue / Reasons for adding feature:\n1.  Edit setting.py : add MULTISESSION_MODE = 2\n2. create new character (Do not @ic character) -> quit -> reconnect -> AssertionError\n   \n   AssertionError: Attribute object can't be deleted because its id attribute is set to None.\n   An untrapped error occurred. Please file a bug report detailing the steps to reproduce.\n   (Traceback was logged 2016-09-06 01:10:12+0900).\n#### Error output / Expected result of feature\n\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/evennia/evennia/commands/cmdhandler.py\", line 464, in _run_command\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]     ret = yield cmd.func()\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/evennia/evennia/commands/default/unloggedin.py\", line 241, in func\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]     session.sessionhandler.login(session, player)\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/evennia/evennia/server/sessionhandler.py\", line 403, in login\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]     del player.db.FIRST_LOGIN\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/evennia/evennia/typeclasses/models.py\", line 133, in __delattr__\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]     _GA(self, _GA(self, 'name')).remove(attrname)\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/evennia/evennia/typeclasses/attributes.py\", line 575, in remove\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]     attr_obj.delete()\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/evennia/evennia/utils/idmapper/models.py\", line 351, in delete\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]     super(SharedMemoryModel, self).delete(_args, *_kwargs)\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::]   File \"/Users/amro/PycharmProjects/evenv/lib/python2.7/site-packages/django/db/models/base.py\", line 865, in delete\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::](self._meta.object_name, self._meta.pk.attname)\n2016-09-06T01:10:12+0900 [AMPProtocol,0,127.0.0.1] [::] AssertionError: Attribute object can't be deleted because its id attribute is set to None.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1038", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1038/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1038/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1038/events", "html_url": "https://github.com/evennia/evennia/issues/1038", "id": 174980688, "node_id": "MDU6SXNzdWUxNzQ5ODA2ODg=", "number": 1038, "title": "Bug: user defined aliases for channels don't appear to function", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-05T01:26:22Z", "updated_at": "2016-09-11T08:49:57Z", "closed_at": "2016-09-11T08:49:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nI thought it might just be something I messed up in my database migration when converting between versions, but I made a test character on Horizondark and ran into the same issue - aliases added with 'addcom' don't seem to be recognized currently. You'll see the alias listed under @channels, but attempting to execute the command <alias> <message> will return a command not found error.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. addcom foo=public\n2. @channels\n3. foo testing\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1037", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1037/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1037/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1037/events", "html_url": "https://github.com/evennia/evennia/issues/1037", "id": 174975179, "node_id": "MDU6SXNzdWUxNzQ5NzUxNzk=", "number": 1037, "title": "AttributeError: 'Player' object has no attribute 'backend'", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-04T23:21:47Z", "updated_at": "2016-09-14T21:28:07Z", "closed_at": "2016-09-14T21:28:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nTraceback occurs from time to time, and others have mentioned it occurring.\n#### Steps to reproduce the issue / Reasons for adding feature:\n\nCurrently I do not know how to reproduce this.  It involves accessing the web interface in some way.\n\n1.\n2. \n3. \n#### Error output / Expected result of feature\n\n``` text\n2016-09-04 17:29:08+0000 [HTTPChannelWithXForwardedFor,99,127.0.0.1] [::] Traceback (most recent call last):\n2016-09-04 17:29:08+0000 [HTTPChannelWithXForwardedFor,99,127.0.0.1] [::]   File \"/home/evennia/evennia/evennia/web/website/views.py\", line 43, in _shared_login\n2016-09-04 17:29:08+0000 [HTTPChannelWithXForwardedFor,99,127.0.0.1] [::]     login(request, player)\n2016-09-04 17:29:08+0000 [HTTPChannelWithXForwardedFor,99,127.0.0.1] [::]   File \"/home/evennia/pyenv/local/lib/python2.7/site-packages/django/contrib/auth/__init__.py\", line 112, in login\n2016-09-04 17:29:08+0000 [HTTPChannelWithXForwardedFor,99,127.0.0.1] [::]     request.session[BACKEND_SESSION_KEY] = user.backend\n2016-09-04 17:29:08+0000 [HTTPChannelWithXForwardedFor,99,127.0.0.1] [::] AttributeError: 'Player' object has no attribute 'backend'\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nLatest revision evennia repo, main branch.  Seen while using Ubuntu Linux OS.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1035", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1035/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1035/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1035/events", "html_url": "https://github.com/evennia/evennia/issues/1035", "id": 174894023, "node_id": "MDU6SXNzdWUxNzQ4OTQwMjM=", "number": 1035, "title": "@chardelete", "user": {"login": "aceamro", "id": 3595071, "node_id": "MDQ6VXNlcjM1OTUwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3595071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceamro", "html_url": "https://github.com/aceamro", "followers_url": "https://api.github.com/users/aceamro/followers", "following_url": "https://api.github.com/users/aceamro/following{/other_user}", "gists_url": "https://api.github.com/users/aceamro/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceamro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceamro/subscriptions", "organizations_url": "https://api.github.com/users/aceamro/orgs", "repos_url": "https://api.github.com/users/aceamro/repos", "events_url": "https://api.github.com/users/aceamro/events{/privacy}", "received_events_url": "https://api.github.com/users/aceamro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-03T12:13:58Z", "updated_at": "2016-09-03T13:55:33Z", "closed_at": "2016-09-03T13:48:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe problem occurs when you delete a character.\n\nI'm sorry, because lack explanation.\nI do not have a fluent english skill, I'm korean\nBut, I really like evennia and respect developers of the evennia. :)\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. @chardelete saby(connected username)\n2. This will permanently destroy 'saby'. This cannot be undone. Continue yes/[no]? \n3. yes\n#### Error output / Expected result of feature\n\n@chardelete saby\nThis will permanently destroy 'saby'. This cannot be undone. Continue yes/[no]?\nyes\nTypeError: 'NoneType' object is not callable\nAn untrapped error occurred. Please file a bug report detailing the steps to reproduce.\n(Traceback was logged 2016-09-03 11:51:21-0000).\nErrorReported\nA command handler bug occurred. Please notify staff - they should\nlikely file a bug report with the Evennia project.\n(Traceback was logged 2016-09-03 11:51:21-0000).\nl\nTypeError: 'NoneType' object is not callable\nAn untrapped error occurred. Please file a bug report detailing the steps to reproduce.\n(Traceback was logged 2016-09-03 11:51:22-0000).\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1027", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1027/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1027/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1027/events", "html_url": "https://github.com/evennia/evennia/issues/1027", "id": 173710163, "node_id": "MDU6SXNzdWUxNzM3MTAxNjM=", "number": 1027, "title": "Calling the index() and remove() methods for lists of lists and lists of dictionaries of lists stored in .db raises errors", "user": {"login": "andrei-pmbcn", "id": 21101317, "node_id": "MDQ6VXNlcjIxMTAxMzE3", "avatar_url": "https://avatars.githubusercontent.com/u/21101317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-pmbcn", "html_url": "https://github.com/andrei-pmbcn", "followers_url": "https://api.github.com/users/andrei-pmbcn/followers", "following_url": "https://api.github.com/users/andrei-pmbcn/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-pmbcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-pmbcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-pmbcn/subscriptions", "organizations_url": "https://api.github.com/users/andrei-pmbcn/orgs", "repos_url": "https://api.github.com/users/andrei-pmbcn/repos", "events_url": "https://api.github.com/users/andrei-pmbcn/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-pmbcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-29T07:09:04Z", "updated_at": "2016-08-31T13:13:43Z", "closed_at": "2016-08-31T13:13:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nAttempting to get an index in a list of lists, or a list of dictionaries of lists, when the outer list is stored as a database atrribute, raises an error.\nCommand:\n@py self.db.data = [[], []]; self.msg(str(self.db.data.index(self.db.data[0])))\n\nResult:\nFile \"<path>/vienv/lib64/python2.7/_abcoll.py\", line 628, in index\n    raise ValueError\nValueError\n\nCommand:\n@py self.db.data = [{'test1':[]}, {'test2':[]}]; self.msg(str(self.db.data.index(self.db.data[0])))\n\nResult:\nFile \"<path>/vienv/lib64/python2.7/_abcoll.py\", line 628, in index\n    raise ValueError\nValueError\n\nAttempting to get an index in a list of dictionaries does not, however, raise an error.\nCommand:\n@py self.db.data = [{}, {}]; self.msg(str(self.db.data.index(self.db.data[0])))\n\nResult:\n0\n\nLikewise, attempting to get an index in a list of dictionaries of dictionaries does not raise an error.\nCommand:\n@py self.db.data = [{'test1':{},'test2':{}}]; self.msg(str(self.db.data.index(self.db.data[0])))\n\nResult:\n0\n\nAll the commands that would raise an error when attempted if the outer list were stored as a database attribute do not raise the error when the outer list is not in fact stored as a database attribute. The following commands all return zero: \n@py self.ndb.data = [[], []]; self.msg(str(self.ndb.data.index(self.ndb.data[0])))\n@py self.ndb.data = [{'test1':[]}, {'test2':[]}]; self.msg(str(self.ndb.data.index(self.ndb.data[0])))\n\nAny list that gives an error when attempting to index one of its items also gives an error when attempting to remove that item.\nCommand:\n@py self.db.data = [[], []]; self.msg(str(self.db.data.remove(self.db.data[0])))\n\nResult:\nFile \"<path>/vienv/lib64/python2.7/_abcoll.py\", line 689, in remove\n    del self[self.index(value)]\nFile \"<path>/vienv/lib64/python2.7/_abcoll.py\", line 628, in index\n    raise ValueError\nValueError\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia version 0.6.0\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1023", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1023/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1023/events", "html_url": "https://github.com/evennia/evennia/issues/1023", "id": 173636760, "node_id": "MDU6SXNzdWUxNzM2MzY3NjA=", "number": 1023, "title": "Scripts only restart once when unpaused, become inactive afterwards", "user": {"login": "andrei-pmbcn", "id": 21101317, "node_id": "MDQ6VXNlcjIxMTAxMzE3", "avatar_url": "https://avatars.githubusercontent.com/u/21101317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrei-pmbcn", "html_url": "https://github.com/andrei-pmbcn", "followers_url": "https://api.github.com/users/andrei-pmbcn/followers", "following_url": "https://api.github.com/users/andrei-pmbcn/following{/other_user}", "gists_url": "https://api.github.com/users/andrei-pmbcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrei-pmbcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrei-pmbcn/subscriptions", "organizations_url": "https://api.github.com/users/andrei-pmbcn/orgs", "repos_url": "https://api.github.com/users/andrei-pmbcn/repos", "events_url": "https://api.github.com/users/andrei-pmbcn/events{/privacy}", "received_events_url": "https://api.github.com/users/andrei-pmbcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-28T08:56:39Z", "updated_at": "2016-08-28T17:38:59Z", "closed_at": "2016-08-28T17:38:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nI have tested a simple script that sends out a message to the owner whenever they restart. I manually pause, then unpause it, and find that it only restarts a single time after being unpaused; afterwards, the script's is_active variable is set to False, as though it were still paused, and the script does not send its message again, suggesting that it is indeed paused. Clearly, it should run continuously after being unpaused, but it doesn't.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Create the following script in a file:\n   \n   ```\n   from evennia import DefaultScript\n   class Script1(DefaultScript):\n   def at_script_creation(self):\n       self.key = \"Script1\"\n       self.desc = \"Test script to check how restarting works.\"\n       self.interval = 5  # seconds\n       self.repeats = 0  # repeat only a certain number of times\n       self.start_delay = False # wait self.interval until first call\n       #self.persistent = True\n   \n   def at_start(self):\n       self.obj.msg(\"Script has started.\")\n   \n   def at_repeat(self):\n       self.obj.msg(\"Script is being repeated.\")\n       self.restart(interval = 5, repeats = 0, start_delay = True)\n   ```\n2. From inside Evennia, Run \"@script self = <whatever the script's Python path is>\" to load it on the character.\n3. Assuming there are no other scripts on the character, run \"@py self.scripts.all()[0].pause()\"\n4. Then run \"@py self.scripts.all()[0].unpause()\" \n#### Error output / Expected result of feature\n\n\"@py self.scripts.all()[0].is_active\" will return False. The script will not be sending any further messages after the first repeat, indicating that it is inactive.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia version 0.6.0\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1022", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1022/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1022/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1022/events", "html_url": "https://github.com/evennia/evennia/issues/1022", "id": 173601105, "node_id": "MDU6SXNzdWUxNzM2MDExMDU=", "number": 1022, "title": "Bug: ANSIString.split() does not match Python string.split()", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-27T15:26:02Z", "updated_at": "2016-10-22T19:32:00Z", "closed_at": "2016-10-22T19:32:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe ANSIString.split() method is not reproducing the behavior of normal split.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. text = ANSISTring(\"Text\")\n2. textlist = text.split()\n3. Traceback\n#### Error output / Expected result of feature\n\nThe traceback is because the ANSIString.split() requires an argument and will not work with None as an argument. It should really reproduce the standard behavior of Python string.split from the [Python defninition](https://docs.python.org/2/library/stdtypes.html#str.split).\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nA reimplementation of part of the ANSIString.split seems needed. Pinging @Kelketek, who has the most experience with ANSIString - could you take a look?\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1022/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1018", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1018/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1018/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1018/events", "html_url": "https://github.com/evennia/evennia/issues/1018", "id": 171804267, "node_id": "MDU6SXNzdWUxNzE4MDQyNjc=", "number": 1018, "title": "Bug: runtime error in tutorial when admin uses an exit admin is carrying", "user": {"login": "dwesely", "id": 10471903, "node_id": "MDQ6VXNlcjEwNDcxOTAz", "avatar_url": "https://avatars.githubusercontent.com/u/10471903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwesely", "html_url": "https://github.com/dwesely", "followers_url": "https://api.github.com/users/dwesely/followers", "following_url": "https://api.github.com/users/dwesely/following{/other_user}", "gists_url": "https://api.github.com/users/dwesely/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwesely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwesely/subscriptions", "organizations_url": "https://api.github.com/users/dwesely/orgs", "repos_url": "https://api.github.com/users/dwesely/repos", "events_url": "https://api.github.com/users/dwesely/events{/privacy}", "received_events_url": "https://api.github.com/users/dwesely/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-18T02:28:29Z", "updated_at": "2016-08-21T00:57:11Z", "closed_at": "2016-08-19T18:27:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nAdmin did something stupid. I set up a default installation and logged in as admin/Player1. In the tutorial, I made it to the Dark cell (27), and saw the root-covered wall was an object. So I picked it up, then promptly forgot I was holding it and tried to enter it.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Go to room 27, Dark cell\n2.  Enter commands:\n\n```\n@unquell\nget wall\nwall\n```\n1. Receive error message\n#### Error output / Expected result of feature\n\nIn the web client:\n`Couldn't perform move ('location change'). Contact an admin. (Error: admin.location = admin creates a location loop.)`\n\nIn the command line window:\n\n```\n2016-08-17T21:39:51-0400 [AMPProtocol,0,127.0.0.1] [..] Logged in: admin(player1) 127.0.0.1 (1 session(s) total)\n2016-08-17T22:08:36-0400 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2016-08-17T22:08:36-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"<snip>\\evennia-master\\evennia\\objects\\objects.py\", line 656, in move_to\n\n2016-08-17T22:08:36-0400 [AMPProtocol,0,127.0.0.1] [::]     self.location = destination\n2016-08-17T22:08:36-0400 [AMPProtocol,0,127.0.0.1] [::]   File \"<snip>\\evennia-master\\evennia-master\\evennia\\objects\\models.py\", line 275, in __location_set\n2016-08-17T22:08:36-0400 [AMPProtocol,0,127.0.0.1] [::]     raise RuntimeError(errmsg)\n2016-08-17T22:08:36-0400 [AMPProtocol,0,127.0.0.1] [::] RuntimeError: Error: admin.location = admin creates a location loop.\n\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nRunning on windows 7 command line\nPython 2.7.10\nDownloaded Evennia source on 8/4/2016 from the master branch on github\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1018/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1017", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1017/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1017/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1017/events", "html_url": "https://github.com/evennia/evennia/issues/1017", "id": 170764464, "node_id": "MDU6SXNzdWUxNzA3NjQ0NjQ=", "number": 1017, "title": "Bug: ContribRPObject's search method does not honor typeclass", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-11T22:44:38Z", "updated_at": "2016-08-19T20:35:44Z", "closed_at": "2016-08-19T20:35:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe `search()` method on `ContribRPObject` objects does not seem to be honoring the `typeclass` kwarg if it is entered.\n#### Steps to reproduce the issue / Reasons for adding feature:\n\nIn Evennia:\n\n```\n>>> @typeclass/force me = evennia.contrib.rpsystem.ContribRPCharacter\nAinneve changed typeclass from typeclasses.characters.Character to evennia.contrib.rpsystem.ContribRPCharacter.\nCreation hooks were run. Attributes set before swap were not removed.\n\n>>> @create/drop obj:evennia.contrib.rpsystem.ContribRPObject\nYou create a new ContribRPObject: obj.\n\n>>> @py o = me.search('obj', typeclass='evennia.contrib.rpsystem.ContribRPCharacter'); me.msg(str(o)); me.msg(str(type(o)))\nobj\n<class 'evennia.contrib.rpsystem.ContribRPObject'>\n```\n#### Error output / Expected result of feature\n\nThe `@py` command above should be limited to `ContribRPCharacter` types, and therefore should not return a result.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nObserved in the current Evennia master. I took a brief look at the `search()` function within `ContribRPObject`, and it does not appear that the typeclass kwarg is passed into or used by the `parse_sdescs_and_recogs` helper function when it generates matches, nor are its results filtered by typeclass after the fact.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1017/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1016", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1016/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1016/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1016/events", "html_url": "https://github.com/evennia/evennia/issues/1016", "id": 170735600, "node_id": "MDU6SXNzdWUxNzA3MzU2MDA=", "number": 1016, "title": "Bug: Giving search candidates as the empty list causes default candidates ", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-11T20:15:22Z", "updated_at": "2016-08-20T09:00:46Z", "closed_at": "2016-08-20T09:00:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nDoing a``obj.search` with the `candidates` kwarg set as the empty list causes it to use default candidates. \n#### Steps to reproduce the issue\n1.    obj.search(\"name\", candidates=[])\n#### Error output / Expected result of feature\n\nThe reason this is an error is if `candidates` is produced dynamically. For example, when using the search mechanism to search _only_ the inventory (by using `candidates=self.contents`), and the inventory is empty, it should then not default to also querying the room. \n\nOnly `candidates=None` should trigger the default search candidate behavior.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nThis was discovered/discussed in Ainneve, in [PR #71](https://github.com/evennia/ainneve/pull/71).\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1016/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1016/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1014", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1014/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1014/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1014/events", "html_url": "https://github.com/evennia/evennia/issues/1014", "id": 169992596, "node_id": "MDU6SXNzdWUxNjk5OTI1OTY=", "number": 1014, "title": "EvForm Cell Mapping Problem", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-08T18:32:02Z", "updated_at": "2016-08-20T09:41:58Z", "closed_at": "2016-08-20T09:41:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen a field in an EvForm template is given a two-digit numeric ID, its contents fail to render.\n#### Steps to reproduce the issue / Reasons for adding feature:\n\n``` :python\n\nfrom evennia import Command, CmdSet\nfrom evennia.utils.evform import EvForm\n\nclass ExampleCmdSet(CmdSet):\n\n    key = \"example_cmdset\"\n    priority = 1\n\n    def at_cmdset_creation(self):\n        \"\"\"Populate CmdSet\"\"\"\n        self.add(CmdTestForm())\n\nclass CmdTestForm(Command):\n\n    key = '+testform'\n\n    aliases = []\n    locks = \"cmd:all()\"\n\n    def func(self):\n        form = EvForm(form={'CELLCHAR': 'x',\n                            'TABLECHAR': 'T',\n                            'FORM': '''\n========================\n Example: xxx5xxx xx8xx\n========================\n'''})\n\n        form.map(cells={'5': 'Test',\n                        '8': '25'})\n        self.caller.msg('Single-digit ID:')\n        self.caller.msg(unicode(form))\n\n        form = EvForm(form={'CELLCHAR': 'x',\n                            'TABLECHAR': 'T',\n                            'FORM': '''\n========================\n Example: xx15xxx xx8xx\n========================\n'''})\n\n        form.map(cells={'15': 'Test',\n                        '8': '25'})\n        self.caller.msg('Two-digit ID:')\n        self.caller.msg(unicode(form))\n\n```\n#### Error output / Expected result of feature\n\nThe log file/terminal shows no error. See the output of the `+testform` command above.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nObserved in the current Evennia master branch.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1009", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1009/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1009/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1009/events", "html_url": "https://github.com/evennia/evennia/issues/1009", "id": 165920271, "node_id": "MDU6SXNzdWUxNjU5MjAyNzE=", "number": 1009, "title": "Attribute duplication via admin interface", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-16T08:49:17Z", "updated_at": "2016-11-22T08:46:47Z", "closed_at": "2016-11-22T08:46:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen using localhost:8000/admin/typeclasses/attribute/ to add or rename attributes,\nthe objectdb attribute is created with an empty Strvalue (instead of NULL), and editing\nan attribute in-game via `@attribute` causes a duplicate attribute instead of updating\nthe existing one.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Rename an existing attribute via admin interface.\n2. `@set` the attribute in-game.\n3. `examine` and observe duplicate.\n#### Error output / Expected result of feature\n\n`@set #4/desc_brief='A person on the move.'`\n\n```\nCreated attribute Atrial/desc_brief = 'A person on the move.'\n------------------------------------------------------------------------------\nName/key: Atrial (#4)\nsession(s): 29\nPlayer: Wizard\nPlayer Perms: <Superuser>\nTypeclass: Character (typeclasses.characters.Character)\nLocation: Limbo (#2)\nPermissions: players [Superuser]\nLocks:call:false(); control:perm(Immortals); delete:perm(Wizards);\n      edit:perm(Wizards); examine:perm(Builders); get:false(); hug:all();\n      puppet:id(4) or pid(1) or perm(Immortals) or pperm(Immortals);\n      tell:perm(Wizards); view:all()\nStored Cmdset(s):\ncommands.default_cmdsets.CharacterCmdSet [DefaultCharacter] (Union, prio 0)\nMerged Cmdset(s):\nevennia.commands.cmdset.CmdSet [_channelset] (Union, prio 120)\nevennia.commands.cmdset.CmdSet [_exitset] (Union, prio 101)\nevennia.commands.cmdset.CmdSet [_danceset] (Union, prio 0)\ncommands.default_cmdsets.PlayerCmdSet [DefaultPlayer] (Union, prio -10)\ncommands.default_cmdsets.SessionCmdSet [DefaultSession] (Union, prio -20)\nCommands available to Atrial (result of Merged CmdSets):\n@alias, @ban, @batchcode, @batchcommands, @boot, @charcreate, [...]\nPersistent attributes:\ndesc = The invisible cloak of covering up.\nprelogout_location = Limbo\ncombat_parry_mode = False\npuzzle_clue = 0\ncoins = 12\ndesc_brief = 20000\ntraits = {'health': {'base': 20, 'name': 'Health', 'min': 0, 'max': 20, 'extra[...]\nmessages = {}\ndesc_brief = A person on the move.\nNon-Persistent attributes:\nlast_cmd = None\nlast_location = Limbo\nTags: vegetarian\nContents: The Hawblade(#148)\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\ncurrent version, main branch, any OS\n\n```\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1009/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1002", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1002/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1002/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1002/events", "html_url": "https://github.com/evennia/evennia/issues/1002", "id": 162956973, "node_id": "MDU6SXNzdWUxNjI5NTY5NzM=", "number": 1002, "title": "MXP not escaping single quote character when generating link.", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-06-29T15:33:35Z", "updated_at": "2016-11-06T09:41:48Z", "closed_at": "2016-11-06T09:41:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe single quote can't be escaped, and isn't automatically escaped when included as part of a MXP response. Trying to substitute `&#39;` yields `&amp;#39;` as it escapes the `&` character instead.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. `say |lc' Aye!|lt|gAll in favor?|n|le`\n2. `say |lcget lady's coin purse|lt|gpick up the item that the merchant dropped|n|le`\n3.  Notice no effect when clicking on links with MXP-enabled client or webclient\n#### Error output / Expected result of feature\n\n`You say, \"<SEND HREF='' Aye!'>All in favor?</SEND>\"`\n`You say, \"<SEND HREF='get lady's coin purse'>pick up the item that the merchant dropped</SEND>\"`\n\nExpected escape of single quote as an HTML entity when within single quotes or use of double quotes when no double quote exists in the HREF:\n\n`You say, \"<SEND HREF='&#39; Aye!'>All in favor?</SEND>\"`\n`You say, \"<SEND HREF='get lady&#39;s coin purse'>pick up the item that the merchant dropped</SEND>\"`\n\nor\n\n`You say, \"<SEND HREF=\"' Aye!\">All in favor?</SEND>\"`\n`You say, \"<SEND HREF=\"get lady's coin purse\">pick up the item that the merchant dropped</SEND>\"`\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\ncurrent\n\nThe raw links are visible by forcing `@option mxp=on` in a non-MXP client.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1002/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1001", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1001/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1001/events", "html_url": "https://github.com/evennia/evennia/issues/1001", "id": 162895770, "node_id": "MDU6SXNzdWUxNjI4OTU3NzA=", "number": 1001, "title": "webclient not displaying ansi background colors", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-06-29T10:47:33Z", "updated_at": "2016-08-28T17:32:45Z", "closed_at": "2016-08-28T17:32:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe webclient is not displaying ansi background colors, yet is displaying xterm256 background...\n\nwebclient should try to match the display of a typical good mu\\* client.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. with webclient, `@color ascii`\n2. `say \"|[GGreen`\n\nNote all ascii background show foreground red.\n#### Error output / Expected result of feature\n\nThe webclient is not displaying ansi background colors, yet is displaying xterm256 background...\n\nwebclient should try to match the display of a typical good mu\\* client.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nCurrent\n\nPerhaps it's a webclient css issue.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1000", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1000/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1000/events", "html_url": "https://github.com/evennia/evennia/issues/1000", "id": 162393464, "node_id": "MDU6SXNzdWUxNjIzOTM0NjQ=", "number": 1000, "title": " Bug: typeclass force-reloading not cleaning old cmdset", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-06-27T07:55:57Z", "updated_at": "2016-08-19T20:48:49Z", "closed_at": "2016-08-19T20:48:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nIf using `@typeclass/force` on a typeclass that has `self.cmdset.add` in its `at_object_creation` hook, that cmdset will be added over and over to the resulting object. \n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Use an object with a cmdset added in its `at_object_creation` hook. \n2. Use `@typeclass/force` to reload the object. \n3. `ex object` shows the cmdset has been replicated. Using /reset does not matter. \n#### Error output / Expected result of feature\n\nResetting the typeclass (at least with /reset) should clean out old cmdsets to start from scratch. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nThis is a matter of expanding the `typeclasses.models.swap_typeclass` function.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/999", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/999/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/999/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/999/events", "html_url": "https://github.com/evennia/evennia/issues/999", "id": 162390810, "node_id": "MDU6SXNzdWUxNjIzOTA4MTA=", "number": 999, "title": "Bug: Not catching malformed typeclass", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-06-27T07:38:27Z", "updated_at": "2016-08-20T07:29:08Z", "closed_at": "2016-08-20T07:29:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nAdding a non-typeclass to an object can lead to some invalid game states.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Add a non-typeclass class on a room by mistake, for example by giving a mistaken class to the `@typeclass` command\n2. Since the new \"typeclass\" lacks any properties required by a typeclass, this will cause errors, in the worst case locking the player in the room without being able to use any commands.  \n#### Error output / Expected result of feature\n\nThis should be handled more gracefully, by falling back to the default typeclass. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nLatest. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/998", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/998/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/998/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/998/events", "html_url": "https://github.com/evennia/evennia/issues/998", "id": 162285210, "node_id": "MDU6SXNzdWUxNjIyODUyMTA=", "number": 998, "title": "Exception: Error: Unicode could not encode unicode string ", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-06-25T15:05:24Z", "updated_at": "2016-08-25T00:39:36Z", "closed_at": "2016-08-18T13:39:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen a non-unicode session is to be sent a unicode string, /evennia/utils/utils.py\", line 593, in to_str raises an unhandled exception(\"Error: Unicode could not encode unicode string to a bytestring.\")  \n\nThis can happen when any unicode character (glyph) is untranslatable into the non-unicode target encoding for a session. The glyph may be one that could degrade gracefully into ASCII, such as an ellipsis ( `\u2026` to `...`) or an apostrophe ( `\u2019` to  `'` ) or quotation marks, em or en-dashes (typically expressed as one or more hypens or minus sign).  \n\nIn some cases, lettering with diacritic marks could be stripped of them when untranslatable otherwise, in a crude fashion such as [this routine](https://gist.github.com/riccardomurri/3c3ccec30f037be174d3).\n\nSome unicode glyphs will have no ASCII or latin-1 encoded character resembling it, By default they should be removed from the unicode string before being sent to the non-unicode target by a method that can be overriden in a game-specific way.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1.  Use a non-unicode client (latin-1 is typical) to login, perhaps requiring `encoding latin-1` or `@option encoding=latin-1` command to set the session encoding.\n2. Observe text being sent either from a unicode-enabled session or in text on an in-game object. Dashes \u2012  \u2013  \u2014  \u2015, apostrophe \u2019, ellipsis \u2026 \u22ef or any of the \"smart\" quotes \u2018 \u2019  \u201c \u201d  will do. Or the name `Sigur\u00f0ur`\n3. Causes traceback with unhandled exception error.\n\nGraceful degrading or substitution of untranslatable characters into `?` or similar is preferable to traceback generation and not sending any other characters in the unicode string to the non-unicode session.\n#### Error output / Expected result of feature\n\n`say My name is Sigur\u00f0ur.` yields `Exception: Error: Unicode could not encode unicode string 'Sigur\u00f0ur says, \"My name is Sigur\u00f0ur.\"'(latin-1) to a bytestring.`  /evennia/utils/utils.py\", line 593, in to_str raises an unhandled exception.\n\nCould instead send: 'Sigur?ur says, \"My name is Sigur?ur.' or be handled by game-specific code.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement: Latest Evennia master branch any operating system.\n\nAny more graceful way would be good. By default, stripping unencodable characters, but best to allow customized methods.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/997", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/997/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/997/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/997/events", "html_url": "https://github.com/evennia/evennia/issues/997", "id": 161021599, "node_id": "MDU6SXNzdWUxNjEwMjE1OTk=", "number": 997, "title": "Bug: (TutorialWorld) WeatherRoom no longer producing weather", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-18T12:23:34Z", "updated_at": "2016-06-24T16:15:16Z", "closed_at": "2016-06-24T16:15:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nevennia.contrib.tutorial_world.rooms.WeatherRoom no longer produces weather due to addition of pruning \"stale\" tickers. (bdcc093) \n#### Steps to reproduce the issue / Reasons for adding feature:\n\nOn test server:\n1. Have a character object enter a tutorial weather room\n2. Observe no weather\n3. `@tickers` shows no ticker to call the update_weather hook.\n\nHaving the ticker subscribe when a character enters may be better than starting it on room creation, because tickers do not run until needed and are self-starting.\n#### Error output / Expected result of feature\n\nNo weather tickers running.\n\n```\nActive tickers:\n+--------------+--------------------------+-----------------+--------------+----+\n| interval (s) | object                   | path/methodname | idstring     | db |\n+~~~~~~~~~~~~~~+~~~~~~~~~~~~~~~~~~~~~~~~~~+~~~~~~~~~~~~~~~~~+~~~~~~~~~~~~~~+~~~~+\n| 6            | Ghostly apparition (#46) | do_patrol       | tutorial_mob | *  |\n+--------------+--------------------------+-----------------+--------------+----+\n```\n\nExpected tickers to be present when character enters room.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia 0.6.0 (1af1091 rev) main branch  (Test server)\n\nI resolved this by adding code in the `at_object_receive` hook for the room to `TICKER_HANDLER.add(interval=interval, callback=self.update_weather, idstring='Weather')` (where `interval = random.randint(50, 70)` - just like the original weather room) if no 'update_weather' ticker was attached to the room, but of course there may be a better way to ensure the weather event operates as intended.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/995", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/995/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/995/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/995/events", "html_url": "https://github.com/evennia/evennia/issues/995", "id": 159936992, "node_id": "MDU6SXNzdWUxNTk5MzY5OTI=", "number": 995, "title": "Bug: Tutorial world darkness with lit splinter", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-06-13T12:18:08Z", "updated_at": "2016-06-14T20:24:13Z", "closed_at": "2016-06-14T20:24:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue\n\nIn the tutorial world, if returning to the Dark Cell while the splinter is still burning, the cell will still be reported as dark, and there is no way to get a new one until the old one flares out. \n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Pass through the dark cell quickly enough to still have a burning splinter\n2. Return to the Dark cell before the splinter has burned out. \n#### Error output / Expected result of feature\n\nIf entering the dark cell with a burning splinter, it should start as lit up. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nThis seems due to the Trapdoors in the crypt not correctly triggering `at_object_receive` on the Dark cell. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/989", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/989/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/989/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/989/events", "html_url": "https://github.com/evennia/evennia/issues/989", "id": 158038234, "node_id": "MDU6SXNzdWUxNTgwMzgyMzQ=", "number": 989, "title": "inline functions processing disables MXP encoding and strips markup and some characters in msg output", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-02T00:53:08Z", "updated_at": "2018-06-15T23:00:56Z", "closed_at": "2016-06-24T16:38:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\ninline functions not playing well with other markup. If trying to output any of these  `\\?><|+@$+` characters in the output of the inline function or on the same line with the output are also stripped when present in the msg string with inline functions, markup and text.\n\n / For inline functions to be useful, additional markup should also be processed depending on options to msg.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Enable inline functions processing with `INLINEFUNC_ENABLED = True` in settings.py\n2. `say The $world() is |lc@OOC|lt|111gray|n|le.`\n3. `pose $clr(|g,finds that these are the missing characters: \\\\?><|+@$+)\\?><|+@$+`\n#### Error output / Expected result of feature\n\n`<character name> says, \"The <unknown> is |lcOOC|lt|111gray|n|le.\"`\n`<character name> finds that these are the missing characters:`\n\nExpected the display of processed markup with an MXP command link of gray text for the word \"gray\" and did not expect certain characters to be stripped when output.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia 0.6.0 (most current rev) main branch, any OS\n- Output (or existence) of the inline function does not seem to be a factor.\n- Notice that any `\\\\?><|+@$+` characters are also stripped.\n- The error occurs in output via both telnet and websocket.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/989/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/987", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/987/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/987/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/987/events", "html_url": "https://github.com/evennia/evennia/issues/987", "id": 157782807, "node_id": "MDU6SXNzdWUxNTc3ODI4MDc=", "number": 987, "title": "Contrib: DefaultRPCharacter Search function not working for non-superusers", "user": {"login": "helix-0311", "id": 8304820, "node_id": "MDQ6VXNlcjgzMDQ4MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/8304820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/helix-0311", "html_url": "https://github.com/helix-0311", "followers_url": "https://api.github.com/users/helix-0311/followers", "following_url": "https://api.github.com/users/helix-0311/following{/other_user}", "gists_url": "https://api.github.com/users/helix-0311/gists{/gist_id}", "starred_url": "https://api.github.com/users/helix-0311/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/helix-0311/subscriptions", "organizations_url": "https://api.github.com/users/helix-0311/orgs", "repos_url": "https://api.github.com/users/helix-0311/repos", "events_url": "https://api.github.com/users/helix-0311/events{/privacy}", "received_events_url": "https://api.github.com/users/helix-0311/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-05-31T22:14:10Z", "updated_at": "2016-06-04T11:12:59Z", "closed_at": "2016-06-04T11:07:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "This item is reproduced from the Ainneve issue tracker, item 69.\n\n---\n\nhttps://github.com/evennia/ainneve/blob/master/commands/equip.py#L92\n\nAfter initial character generation (with a purchase of equipment):\n\n> equip lance\n> There is no 'lance' here.\n> You have nothing in your equipment.\n> \n> inv\n> You are carrying:\n>  a lance polearm  A sturdy wooden rod fitted with a menacing spike,   (Damage:  4)  \n>                   this lance polearm threatens even enemies at a  \n>                   distance.  \n\n---\n\nWhen looking at the code, this seems to be the issue:\n\nequip.py line 92:\n\n```\ndef func(self):\n    caller = self.caller\n    args = self.args.strip()\n    swap = any(s.startswith('s') for s in self.switches)\n\n    if hasattr(self, \"item\"):\n        obj = self.item\n        del self.item\n    else:\n        **obj = self.caller.search(args) if args else None**\n```\n\n---\n\nThis else statement always seems to fire, but is not able to find anything in the character's inventory. Tested this (without full debug) by doing:\n\nprint args\nprint obj (after assignment, always None)\nprint caller\nprint caller.contents\n\nThis verifies that the args are as expected, the obj object is None, the caller is as expected, and the caller.contents contains the object that args should reference. Additionally, tested via the find command with the args string and was able to locate the object with no issue.\n\n---\n\nFurther debugging steps (takes place in Ainneve code):\n\nSome additional testing of this item:\n\n```\ndef func(self):\n    caller = self.caller\n    args = self.args.strip()\n    swap = any(s.startswith('s') for s in self.switches)\n\n    obj = caller.search(args, location=caller)\n    print type(caller.contents)\n    stuff = caller.contents[0].aliases.all()\n    if stuff.__contains__(args):\n        print True\n    else:\n        print False\n```\n\nThis evaluates to True in the console, making it appear that the caller.search() method is just not inspecting the aliases.\n\n---\n\nhttps://github.com/evennia/evennia/blob/477391b5df650d06b358f1e8587813319a77d120/evennia/contrib/rpsystem.py#L1058\n\nThis appears to be the source of the issue.\n\nSuperusers are able to access the original search method, while non-superusers are unable to. Not sure the intended purpose of this block, as it would appear to block searches unless certain permission levels are met.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/986", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/986/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/986/events", "html_url": "https://github.com/evennia/evennia/issues/986", "id": 157594209, "node_id": "MDU6SXNzdWUxNTc1OTQyMDk=", "number": 986, "title": "OOB stuff showing up as text in default webclient & third party client", "user": {"login": "FlutterSprite", "id": 8371646, "node_id": "MDQ6VXNlcjgzNzE2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8371646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlutterSprite", "html_url": "https://github.com/FlutterSprite", "followers_url": "https://api.github.com/users/FlutterSprite/followers", "following_url": "https://api.github.com/users/FlutterSprite/following{/other_user}", "gists_url": "https://api.github.com/users/FlutterSprite/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlutterSprite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlutterSprite/subscriptions", "organizations_url": "https://api.github.com/users/FlutterSprite/orgs", "repos_url": "https://api.github.com/users/FlutterSprite/repos", "events_url": "https://api.github.com/users/FlutterSprite/events{/privacy}", "received_events_url": "https://api.github.com/users/FlutterSprite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-05-31T05:44:49Z", "updated_at": "2016-06-01T21:24:13Z", "closed_at": "2016-06-01T21:24:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue\n\nI overloaded the 'look' command and the 'at_after_move' hook on players to add some OOB information to the message, so I could catch it in my custom webclient and move it to another window. The extra info showed up as expected in my webclient, allowing me to reroute it - but it also shows up in both the default webclient and a third-party client I tried (MUSHClient).\n\n![](http://puu.sh/pbalk/0599d703dd.png)\n\n![](http://puu.sh/pbar2/5b83e8a511.png)\n#### Steps to reproduce the issue\n1. Execute the code: self.msg(text=((self.at_look(self.location),), {\"window\":\"room\"}))\n#### Error output\n\nOutput prefaced with:\n((u\"\nAnd ends with:\n\",), {'window': 'room'})\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nI pulled from the git repository after encountering the issue, and found that didn't fix it.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/984", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/984/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/984/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/984/events", "html_url": "https://github.com/evennia/evennia/issues/984", "id": 157577112, "node_id": "MDU6SXNzdWUxNTc1NzcxMTI=", "number": 984, "title": "#INSERT in @batchcommand not handling newlines correctly?", "user": {"login": "ergodicbreak", "id": 3825386, "node_id": "MDQ6VXNlcjM4MjUzODY=", "avatar_url": "https://avatars.githubusercontent.com/u/3825386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ergodicbreak", "html_url": "https://github.com/ergodicbreak", "followers_url": "https://api.github.com/users/ergodicbreak/followers", "following_url": "https://api.github.com/users/ergodicbreak/following{/other_user}", "gists_url": "https://api.github.com/users/ergodicbreak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ergodicbreak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ergodicbreak/subscriptions", "organizations_url": "https://api.github.com/users/ergodicbreak/orgs", "repos_url": "https://api.github.com/users/ergodicbreak/repos", "events_url": "https://api.github.com/users/ergodicbreak/events{/privacy}", "received_events_url": "https://api.github.com/users/ergodicbreak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-05-31T02:14:47Z", "updated_at": "2016-06-12T10:14:03Z", "closed_at": "2016-06-12T10:14:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue\n\nAssuming a batchcommand base path to the `riverport` directory, and given a batchcommand file `build.ev` that looks like:\n\n```\n#INSERT riverport.dancing_dragon_inn\n```\n\nAnd the file `dancing_dragon_inn.ev`\n\n```\n#\n\n@dig/teleport Dancing Dragon Inn;inn#01\n\n#\n\n@desc\n  A prosperous inn, with clear glass set in wide windows and long well-oiled\n  trestle tables. Fresh herbs scattered daily on the clean rush floor mats\n  give the air a wholesome flavor.\n\n  A wide wood staircase leads to sleeping rooms upstairs.\n\n#\n\n@dig Dancing Dragon Inn Upstairs;inn#02\n\n#\n\n@open staircase;stairs;stair;upstairs;up,\n  staircase;stairs;stair;downstairs;down;out;o = inn#02\n```\n\nRunning `@batchcmd riverport.build` fails to properly insert `dancing_dragon_inn.ev`. \n#### Error output\n\nTaking the files above, here is a log of `@batchcmd/interactive riverport.build`\n\n```\nBatch-command processor - Interactive mode for riverport.build...\n01/01: @dig/teleport Dancing Dragon Inn;inn#01\\#\n@desc\n\n  A pr[...](hh for help)\n01/01: @dig/teleport Dancing Dragon Inn;inn#01\\#\n@desc\n\n  A pr[...](hh for help)\n| @dig/teleport Dancing Dragon Inn;inn#01\\#\n| @desc\n|   A prosperous inn, with clear glass set in wide windows and long well-oiled\n|   trestle tables. Fresh herbs scattered daily on the clean rush floor mats\n|   give the air a wholesome flavor.\n| \n|   A wide wood staircase leads to sleeping rooms upstairs.\\#\n| @dig Dancing Dragon Inn Upstairs;inn#02\\#\n| @open staircase;stairs;stair;upstairs;up,\n|   staircase;stairs;stair;downstairs;down;out;o = inn#02\n```\n\nThe separate commands are not properly separated when inserted. \n#### ideas for how to solve / implement:\n\nI think this may be related to this line of code in https://github.com/evennia/evennia/blob/master/evennia/utils/batchprocessors.py#L277\n\n``` python\n        def replace_insert(match):\n            \"Map replace entries\"\n            return \"\\#\\n\".join(self.parse_file(match.group(1)))\n```\n\nIt seems like`\"\\#\\n\"` should be changed to `\"\\n#\"`. Making this change gives this output after `@batchcmd\\interactive riverport.build`\n\n```\nBatch-command processor - Interactive mode for riverport.build...\n01/03: @dig/teleport Dancing Dragon Inn;inn#01        (hh for help)\n01/03: @dig/teleport Dancing Dragon Inn;inn#01        (hh for help)\n| @dig/teleport Dancing Dragon Inn;inn#01\n02/03: A prosperous inn, with clear glass set in wide windows [...](hh for help)\n02/03: A prosperous inn, with clear glass set in wide windows [...](hh for help)\n| A prosperous inn, with clear glass set in wide windows and long well-oiled\n|   trestle tables. Fresh herbs scattered daily on the clean rush floor mats\n|   give the air a wholesome flavor.\n| \n|   A wide wood staircase leads to sleeping rooms upstairs.\n03/03: staircase;stairs;stair;downstairs;down;out;o = inn#02(hh for help)\n03/03: staircase;stairs;stair;downstairs;down;out;o = inn#02(hh for help)\n| staircase;stairs;stair;downstairs;down;out;o = inn#02\nEnd of batch file.\n```\n\nThis is related to #939. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/983", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/983/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/983/events", "html_url": "https://github.com/evennia/evennia/issues/983", "id": 157415336, "node_id": "MDU6SXNzdWUxNTc0MTUzMzY=", "number": 983, "title": "Possible website hang when http log reaches 1mb size", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-30T00:57:20Z", "updated_at": "2016-06-15T21:10:48Z", "closed_at": "2016-06-15T21:10:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I hesitate to post this since I'm running the older version, and I'm unsure if this has already been fixed with a newer version of twisted or your rewrite of so much of the server/portal, but I was having website hangs due to twisted logger's attempt to write to a closed file when it hit the 1mb size limit of the http file when switching over (presumably callbacks trying to do log writes after it was closed). I think I fixed it myself by making a Site class that the server/portal use and having its log method check for an exception, but have no idea if this is an error that would occur in the current version of Evennia. I figured I should probably mention it just in case.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/981", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/981/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/981/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/981/events", "html_url": "https://github.com/evennia/evennia/issues/981", "id": 157388547, "node_id": "MDU6SXNzdWUxNTczODg1NDc=", "number": 981, "title": "Errors in extended_room when looking at non-existent details", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76259907, "node_id": "MDU6TGFiZWw3NjI1OTkwNw==", "url": "https://api.github.com/repos/evennia/evennia/labels/ongoing", "name": "ongoing", "color": "cc317c", "default": false, "description": "An longer-running issue where sub-fixes are added gradually."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-29T14:22:26Z", "updated_at": "2016-06-15T20:50:19Z", "closed_at": "2016-06-15T20:50:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen using the `extended_room` contrib module, a stack trace is generated when a character attempts to `look` at a detail that has not been defined.\n\nSecondarily, if a detail key is selected that is a substring of the room's name, the detail description is never shown, presumably because the room is being found first by `caller.search()`.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Create a room with the contrib.extended_room.ExtendedRoom typeclass named \"Bridge over the River\"\n2. From within the room, enter `look nonexistent` - traceback is generated\n3. Create a detail with a key of \"river\"\n4. enter `look river` - the room's description is printed instead of the detail\n#### Error output / Expected result of feature\n\nIt would seem that looking at a non-existent detail should return \"Could not find 'nonexistent'\".\n\nAlso, because the default `look` command with no arguments targets the caller's location, it seems that these detail key collisions could be handled by excluding the location itself from `candidates` when searching in the ExtendedLook cmd.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia 0.6 - master\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/981/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/980", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/980/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/980/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/980/events", "html_url": "https://github.com/evennia/evennia/issues/980", "id": 157366094, "node_id": "MDU6SXNzdWUxNTczNjYwOTQ=", "number": 980, "title": "utils.dbid_to_obj never returns an object", "user": {"login": "shollen", "id": 10000870, "node_id": "MDQ6VXNlcjEwMDAwODcw", "avatar_url": "https://avatars.githubusercontent.com/u/10000870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shollen", "html_url": "https://github.com/shollen", "followers_url": "https://api.github.com/users/shollen/followers", "following_url": "https://api.github.com/users/shollen/following{/other_user}", "gists_url": "https://api.github.com/users/shollen/gists{/gist_id}", "starred_url": "https://api.github.com/users/shollen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shollen/subscriptions", "organizations_url": "https://api.github.com/users/shollen/orgs", "repos_url": "https://api.github.com/users/shollen/repos", "events_url": "https://api.github.com/users/shollen/events{/privacy}", "received_events_url": "https://api.github.com/users/shollen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-05-29T02:41:59Z", "updated_at": "2016-06-01T21:10:53Z", "closed_at": "2016-06-01T21:10:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "A valid dbref always generates a ValueError exception, so the function either returns the inp argument or None.\n\nI use a @test command to test all the utility functions I write for commands, so I used it to test **utils.dbid_to_obj** too. It looks like this:\n\n```\nclass GMCmdTest(GMCommand):\n\n    key = '@test'\n    locks = \"cmd:perm(open) or perm(Builders)\"\n\n    def func(self):\n        pobj = self.caller\n        from evennia.objects.models import ObjectDB\n        obj = dbid_to_obj(self.dobj, ObjectDB, raise_errors=True, pobj=pobj)\n        pobj.msg('%s' % str(obj))\n```\n\n(My commands go: verb dobj article iobj, so self.dobj is basically self.lhs in an Evennia MuxCommand.)\n\nI also tried directly from the interpreter in-game:\n\n@py from evennia.utils.utils import dbid_to_obj; from evennia.objects.models import ObjectDB; obj=dbid_to_obj('#92',, ObjectDB, raise_errors=True); self.msg(str(obj))\n\nI wrote and tested this func:\n\n```\ndef _id_to_obj(input):\n    dbid = dbref(input, reqhash=True)\n    if not dbid:\n        return None\n    from evennia.objects.models import ObjectDB\n    try:\n        obj = ObjectDB.objects.get(id=dbid)\n    except:\n        return None\n    return obj\n```\n\nWhich returns the expected object.\n\nI expected the same result from **utils.dbid_to_obj** and got None.\n\nI'm using server version 0.5.0 (rev b8a5ee0) running on OSX 10.11.5. My machine is a MacBook Pro.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/980/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/979", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/979/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/979/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/979/events", "html_url": "https://github.com/evennia/evennia/issues/979", "id": 156820372, "node_id": "MDU6SXNzdWUxNTY4MjAzNzI=", "number": 979, "title": "Color formatting of MXP commands not displayed in web client in certain format", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-05-25T18:35:57Z", "updated_at": "2016-06-24T18:41:55Z", "closed_at": "2016-06-24T18:41:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen coloring display text for a MXP command in this format:\n\n`|c |lc command |lt display text |le |n`\n\nIt appears correctly colored in telnet clients but not in the web client\n\nHowever, this format work in both\n`|lc command |lt |c display text |n |le`\n\nThe discrepancy requires attention being given to formatting for web client appearance,\nand using the first format leads to disparity between client views.  This needs addressing.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. in web client after `@ic`, `say |c |lc command |lt display text |le |n`\n2. Contrast with `say |lc command |lt |c display text |n |le`\n3. Compare with telnet connection with ANSI color-enabled mu\\* client.\n#### Error output / Expected result of feature\n\nNo error, but color intensity seems to change in web client, but not the hue,\nwhile in the telnet client, the intensity and hue are both displayed as intended.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia 0.6.0 (rev 5353b66) main branch all OSes.\n\nRelated to issue #976\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/976", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/976/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/976/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/976/events", "html_url": "https://github.com/evennia/evennia/issues/976", "id": 156436220, "node_id": "MDU6SXNzdWUxNTY0MzYyMjA=", "number": 976, "title": "Webclient glitches output on underline, blink, and reverse.", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-24T07:19:52Z", "updated_at": "2016-06-24T21:22:45Z", "closed_at": "2016-06-24T21:22:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen sending |u, |*, and |^ to the client, it produces: `\">`, `]7`, and `]5` as the output text.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. connect using web client\n2. receive text with any of the tags: `|u` `|*`, or `|^`\n3. observe how the web client interprets the markup.\n#### Error output / Expected result of feature\n\nweb client displays: `\">`, `]7`, and `]5` as the output text,\ninstead of underline, reverse, and blink.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia 0.6.0 (rev 5353b66) master branch, any OS, any browser.\n\nProbably a typo or incomplete regexp for this markup. I have only tried two different clients, and not yet looked into the code.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/974", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/974/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/974/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/974/events", "html_url": "https://github.com/evennia/evennia/issues/974", "id": 154833528, "node_id": "MDU6SXNzdWUxNTQ4MzM1Mjg=", "number": 974, "title": "Small issue with case sensitivity in cmdparser", "user": {"login": "TehomCD", "id": 17857779, "node_id": "MDQ6VXNlcjE3ODU3Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/17857779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TehomCD", "html_url": "https://github.com/TehomCD", "followers_url": "https://api.github.com/users/TehomCD/followers", "following_url": "https://api.github.com/users/TehomCD/following{/other_user}", "gists_url": "https://api.github.com/users/TehomCD/gists{/gist_id}", "starred_url": "https://api.github.com/users/TehomCD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TehomCD/subscriptions", "organizations_url": "https://api.github.com/users/TehomCD/orgs", "repos_url": "https://api.github.com/users/TehomCD/repos", "events_url": "https://api.github.com/users/TehomCD/events{/privacy}", "received_events_url": "https://api.github.com/users/TehomCD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-05-14T04:24:23Z", "updated_at": "2016-06-26T02:08:52Z", "closed_at": "2016-06-24T21:34:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nI had to comment out the following lines in cmdparser in order to have some custom exit commands work in a way players expected:\n\n```\nif len(matches) > 1:\n    # See if it helps to analyze the match with preserved case but only if\n    # it leaves at least one match.\n    trimmed = [match for match in matches\n                 if raw_string.startswith(match[0])]\n    if trimmed:\n        matches = trimmed\n```\n\nTo explain, I had commands that let people lock/unlock/pass through exits, derived from the exit names/aliases, in the same manner that exits do. However, what happens when an exit is named something like 'Plaza (PL)' with 'PL' as an alias? aliases and keys are made lower() by the command meta class, but then the above attempts to trim results based on case sensitivity. So all works fine if a player does 'pass pl', for example, but if they do 'pass PL', the case sensitivity check will eliminate that choice, and instead match 'p' for page.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/974/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/973", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/973/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/973/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/973/events", "html_url": "https://github.com/evennia/evennia/issues/973", "id": 153366487, "node_id": "MDU6SXNzdWUxNTMzNjY0ODc=", "number": 973, "title": "Prompt does not support color codes in web client", "user": {"login": "FlutterSprite", "id": 8371646, "node_id": "MDQ6VXNlcjgzNzE2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8371646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlutterSprite", "html_url": "https://github.com/FlutterSprite", "followers_url": "https://api.github.com/users/FlutterSprite/followers", "following_url": "https://api.github.com/users/FlutterSprite/following{/other_user}", "gists_url": "https://api.github.com/users/FlutterSprite/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlutterSprite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlutterSprite/subscriptions", "organizations_url": "https://api.github.com/users/FlutterSprite/orgs", "repos_url": "https://api.github.com/users/FlutterSprite/repos", "events_url": "https://api.github.com/users/FlutterSprite/events{/privacy}", "received_events_url": "https://api.github.com/users/FlutterSprite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2016-05-06T02:33:01Z", "updated_at": "2016-05-22T12:14:37Z", "closed_at": "2016-05-22T12:14:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "![prompt_colors](https://cloud.githubusercontent.com/assets/8371646/15062714/afeda336-12f7-11e6-93c5-4b0dbedd4a3c.png)\n#### Brief summary of issue / Description of requested feature:\n\nThe prompt in the webclient doesn't currently support the same color codes as the rest of the client output. I modified my prompt function to both update the prompt as well as message the prompt's string to the character - above is how the prompt should appear, and below is how it does. This isn't an issue with my CSS file, as the issue persists even if I use the stock CSS file or no CSS file at all.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Send a message with the \"prompt=\" parameter with color codes in the string.\n2. The color codes are printed as text - the expected output is to have them show in color.\n#### Expected result of feature\n\nThe prompt should display with color codes! Lots of games use color codes in their prompts - in fact, I would wager that every game with color support does.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/973/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/973/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/972", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/972/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/972/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/972/events", "html_url": "https://github.com/evennia/evennia/issues/972", "id": 152492473, "node_id": "MDU6SXNzdWUxNTI0OTI0NzM=", "number": 972, "title": "Bug: Color issues with EvForm", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-05-02T07:01:18Z", "updated_at": "2016-05-25T11:37:59Z", "closed_at": "2016-05-25T11:37:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe EvForm in wclient branch (and thus also in master) is not properly displaying color. This seems to affect both `{`\\- and `|`-form color codes.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1.  `@py from evennia.utils import evform; self.msg(evform._test())` \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/970", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/970/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/970/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/970/events", "html_url": "https://github.com/evennia/evennia/issues/970", "id": 151354557, "node_id": "MDU6SXNzdWUxNTEzNTQ1NTc=", "number": 970, "title": "Regular 'Input command not recognized' errors in command line", "user": {"login": "FlutterSprite", "id": 8371646, "node_id": "MDQ6VXNlcjgzNzE2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8371646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlutterSprite", "html_url": "https://github.com/FlutterSprite", "followers_url": "https://api.github.com/users/FlutterSprite/followers", "following_url": "https://api.github.com/users/FlutterSprite/following{/other_user}", "gists_url": "https://api.github.com/users/FlutterSprite/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlutterSprite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlutterSprite/subscriptions", "organizations_url": "https://api.github.com/users/FlutterSprite/orgs", "repos_url": "https://api.github.com/users/FlutterSprite/repos", "events_url": "https://api.github.com/users/FlutterSprite/events{/privacy}", "received_events_url": "https://api.github.com/users/FlutterSprite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-27T10:40:13Z", "updated_at": "2016-05-25T11:33:40Z", "closed_at": "2016-05-25T11:33:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nRegularly get 'Input command not recognized' errors, even when idling.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Connect to the server.\n2. Wait a while.\n3. It just kind of shows up in the command line.\n#### Error output / Expected result of feature\n\n[EE] Session 1: Input command not recognized:\n[EE]  name: 'i'\n[EE]  args, kwargs: ('d', 'l'), {}\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nThis is on the latest (as of 4/27/16) version of the wclient branch!\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/969", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/969/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/969/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/969/events", "html_url": "https://github.com/evennia/evennia/issues/969", "id": 150715061, "node_id": "MDU6SXNzdWUxNTA3MTUwNjE=", "number": 969, "title": "Persistent EvMenu goes back a step when @reload-ing", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-25T00:02:14Z", "updated_at": "2016-10-22T16:31:35Z", "closed_at": "2016-10-22T16:31:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Brief summary of issue\n\nWhen a player (possibly a character, too) is in a menu and Evennia is reloaded, the user finds him/herself back at the previous node.\n#### Example\n1. The player enters his first name (node 1).\n2. He then enters his last name (node 2).\n3. He then has to enter a gender (node 3) but...\n4. The server is reloaded.\n5. No message is displayed, but the users finds himself back in the last name menu (node 2).\n#### Rationale\n\nThis behavior is quite puzzling.  Since no message is displayed, users continue to follow the character creation process, but they get errors (in my case) since they should have entered the same information twice without notice.  I don't know whether this behavior also applies to character menus, however.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/968", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/968/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/968/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/968/events", "html_url": "https://github.com/evennia/evennia/issues/968", "id": 150709629, "node_id": "MDU6SXNzdWUxNTA3MDk2Mjk=", "number": 968, "title": "Second player session disconnected, should boot first session with message.", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-24T22:44:46Z", "updated_at": "2016-04-27T09:43:00Z", "closed_at": "2016-04-27T09:43:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nIssue #962 closed, but not implemented\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. `Via telnet: connect to character: @ic <character>`\n2. `join with a second client and connect to same character.`\n#### Error output / Expected result of feature\n\nBoots second session, should boot first session with message.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nFix in wclient branch altered behavior, see Issue #962 closed, but not implemented\n\nThe current behavior is still problematic - it currently kills the newest (second of two) session connect instead of oldest (first).\n\nThis might be intended behavior: a second session can not join to take over the first.\n\nBut in cases where the first connection is stalled, the second session is simply disconnected until the first times out, and there is no mechanism in single mode to deal with booting a connection that is no longer working.\n\nAn issue caused by the fix of #962 but it's unrelated to the traceback of that issue.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/968/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/966", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/966/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/966/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/966/events", "html_url": "https://github.com/evennia/evennia/issues/966", "id": 150676085, "node_id": "MDU6SXNzdWUxNTA2NzYwODU=", "number": 966, "title": "\"If you go |lcnorth|ltto the north|le you will find a cottage. causes blank output", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-24T16:06:04Z", "updated_at": "2016-04-27T09:39:15Z", "closed_at": "2016-04-26T21:19:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nSubstituting |lc, |lt, |le for {lc, {lt, and {le in any message causes no output\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. `@emit If you go |lcnorth|ltto the north|le you will find a cottage.`\n2. `say If you go |lcnorth|ltto the north|le you will find a cottage.`\n3. `pose directs you to go |lcnorth|ltto the north|le, where you will find a cottage.`\n#### Error output / Expected result of feature\n\nNo output; output expected.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nmost recent wclient branch, any OS, clean install + tutorial\n\nUse | as the inline function character and depreciate {\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/966/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/965", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/965/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/965/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/965/events", "html_url": "https://github.com/evennia/evennia/issues/965", "id": 150672707, "node_id": "MDU6SXNzdWUxNTA2NzI3MDc=", "number": 965, "title": "`@lock <partial name match>` yields untrapped error", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-24T15:26:36Z", "updated_at": "2016-04-25T20:55:49Z", "closed_at": "2016-04-25T20:55:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nAttributeError: 'function' object has no attribute '**qualname**'\n\nwhen `@lock <partial name match>` and no control access, but player has examine access to lock.\n\nRequest allowing partial match or trapping error\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. `@lock <partial name match>`\n   or\n   `@lock <partial name match>=`\n   or\n   use reference by database #\n\nPartial matching is useful if full name match fails - finding local object to display its locks.\n#### Error output / Expected result of feature\n\nAttributeError: 'function' object has no attribute '**qualname**'\n\n```\n\n\n Traceback (most recent call last):\n   File \"/evennia/evennia/commands/cmdhandler.py\", line 464, in _run_command\n     ret = yield cmd.func()\n   File \"/evennia/evennia/commands/default/building.py\", line 1807, in func\n     caller.msg(obj.locks)\n   File \"/evennia/evennia/objects/objects.py\", line 509, in msg\n     session.data_out(text=text, **kwargs)\n   File \"/evennia/evennia/server/serversession.py\", line 362, in data_out\n     self.sessionhandler.data_out(self, **kwargs)\n   File \"/evennia/evennia/server/sessionhandler.py\", line 621, in data_out\n     **kwargs)\n   File \"/evennia/evennia/server/amp.py\", line 467, in send_MsgServer2Portal\n     return self.send_data(MsgServer2Portal, session.sessid, **kwargs)\n   File \"/evennia/evennia/server/amp.py\", line 406, in send_data\n     packed_data=dumps((sessid, kwargs))\n   File \"/evennia/evennia/server/amp.py\", line 319, in <lambda>\n     dumps = lambda data: to_str(pickle.dumps(to_str(data), pickle.HIGHEST_PROTOCOL))\n   File \"/pyenv/local/lib/python2.7/site-packages/twisted/persisted/styles.py\", line 119, in _pickleFunction\n     tuple([\".\".join([f.__module__, f.__qualname__])]))\n AttributeError: 'function' object has no attribute '__qualname__'\n\n```\n\nExpected viewing of locks output:\nLocks:call:true(); control:perm(Immortals); delete:perm(Wizards);\n      edit:perm(Wizards); examine:perm(Builders); get:all();\n      puppet:pperm(Immortals); tell:perm(Wizards); view:all()\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nLocks:call:true(); control:perm(Immortals); delete:perm(Wizards);\n      edit:perm(Wizards); examine:perm(Builders); get:all();\n      puppet:pperm(Immortals); tell:perm(Wizards); view:all()\n\nPermission Hierarchy (climbing):\n Guests, Players, PlayerHelpers, Builders, Wizards, Immortals\nYour access:\nCharacter SuperTester: <Superuser>\nPlayer SuperTester: <Superuser>\n\nMost recent wclient branch, any OS, clean install + tutorial\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/965/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/964", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/964/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/964/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/964/events", "html_url": "https://github.com/evennia/evennia/issues/964", "id": 150671258, "node_id": "MDU6SXNzdWUxNTA2NzEyNTg=", "number": 964, "title": "Better error message when trying to create a location-loop", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-24T15:11:25Z", "updated_at": "2016-04-25T20:46:22Z", "closed_at": "2016-04-25T20:46:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nCouldn't perform move ('location change'). Contact an admin. + RuntimeError\n\n@tel <into something you're carrying - by number or name>\nCouldn't perform move ('location change'). Contact an admin.\n\nPerhaps raise exception to handle?\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. get test object\n2. `@tel test object`\n#### Error output / Expected result of feature\n\nCouldn't perform move ('location change'). Contact an admin.\n\n```\n Error: TestSubject.location = TestObject creates a location loop.\n Traceback (most recent call last):\n   File \"evennia/evennia/objects/objects.py\", line 654, in move_to\n     self.location = destination\n   File \"/evennia/evennia/objects/models.py\", line 249, in __location_set\n     is_loc_loop(location)\n   File \"/evennia/evennia/objects/models.py\", line 247, in is_loc_loop\n     return is_loc_loop(loc.db_location, depth + 1)\n   File \"/evennia/evennia/objects/models.py\", line 244, in is_loc_loop\n     raise RuntimeError\n RuntimeError\n\n```\n\nHandle an exception, return False or no success message suggesting cause.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nMost Recent wclient branch, any OS, clean install + tutorial\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/964/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/963", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/963/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/963/events", "html_url": "https://github.com/evennia/evennia/issues/963", "id": 150669842, "node_id": "MDU6SXNzdWUxNTA2Njk4NDI=", "number": 963, "title": "@tel north causes untrapped error ", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-24T14:58:29Z", "updated_at": "2016-04-25T20:26:28Z", "closed_at": "2016-04-25T20:26:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\n`@tel` north causes untrapped error: unsupported operand type(s) for +=: 'NoneType' and 'str'\n\nExit aliases should be checked. Even if not checked, when exit object can be found in the room, that exit should be the target exit for the @tel command.\nIf no local exit is found, then return a message regarding no found exit.\n#### Steps to reproduce the issue / Reasons for adding feature:\n\nWhen north is the alias of an exit (as is the case in Cliff by the coast room):\n1. `@tel north`\n   or\n   `@tel/intoexit north`\n\nTeleporting to an exit normally sends character to the exit's destination, but this breaks when the teleport refers to the exit by name.\n\nTeleporting into an exit this way breaks the same way.\n#### Error output / Expected result of feature\n\n```\n   File \"/evennia/evennia/commands/cmdhandler.py\", line 464, in _run_command\n     ret = yield cmd.func()\n   File \"/evennia/evennia/commands/default/building.py\", line 2271, in func\n     destination = caller.search(lhs, global_search=True)\n   File \"/evennia/evennia/objects/objects.py\", line 388, in search\n     nofound_string=nofound_string, multimatch_string=multimatch_string)\n   File \"/evennia/evennia/utils/utils.py\", line 1558, in at_search_result\n     result.get_extra_info(caller))\n TypeError: unsupported operand type(s) for +=: 'NoneType' and 'str'\n\n```\n\nExpected `Teleported to northern path.` \nExpected the same behavior as if `@tel northern path` or `@tel #15`\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nEvennia most recent wclient branch, any OS \n\nCheck for match against local room's exits for alias, then fail with appropriate message if not found.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/963/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/962", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/962/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/962/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/962/events", "html_url": "https://github.com/evennia/evennia/issues/962", "id": 149182229, "node_id": "MDU6SXNzdWUxNDkxODIyMjk=", "number": 962, "title": "Unhandled error in Deferred, multiple sessions, default config, wclient branch", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-18T15:19:19Z", "updated_at": "2016-04-24T17:02:08Z", "closed_at": "2016-04-18T19:25:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue\n\nI'm not entirely sure if the steps to reproduce are what caused the error, since I pulled the error out of the log later while looking for my own traceback on an unrelated issue. \n\nApologies for the vagueness of this report, but per conversation, I am including it without further investigation at this time.\n#### Steps to reproduce the issue\n1. Via telnet: connect to character: `@ic <character>`\n2. join with a second client and connect to same character.\n3. Boots first session, then generates error.\n#### Error output\n\nhttp://pastebin.com/9M3XCsXD\n\n```\n (In case pastebin ages; summary, last line)\n       File \"evennia/evennia/server/portal/portalsessionhandler.py\", line 372, in data_out\n        for cmdname, (cmdargs, cmdkwargs) in kwargs.iteritems():\n    exceptions.ValueError: too many values to unpack\n\n```\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\n```\nunhandled error in Deferred is important: http://pastebin.com/9M3XCsXD I was getting it when my sessions kept flip-flopping.\n[Public] Griatch@#evennia: Blau: Looks like a proper bug, make an issue for it and how to reproduce it.  (I presume it's wclient branch)\n[Public] BlauFeuer: Yes, now I just have to reproduce it. I think it's when I was running two sessions at once.\n[Public] Griatch@#evennia: Blau: Actually, I know where the error is, just put the link to your pastebin in the issue and refer to this conversation.\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/956", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/956/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/956/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/956/events", "html_url": "https://github.com/evennia/evennia/issues/956", "id": 147949748, "node_id": "MDU6SXNzdWUxNDc5NDk3NDg=", "number": 956, "title": "help categories are secretly case-sensitive", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-13T05:27:24Z", "updated_at": "2016-05-22T20:28:12Z", "closed_at": "2016-05-22T20:28:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\n**help** entries separated by categories are case-sensitive and displayed separately, yet the category is presented as if they are non-case-sensitive.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. **@help/add Baloney,System=System baloney help topic**\n2. **@help/add Salami,system=A real meaty help topic**\n3. **help**\n#### Error output / Expected result of feature\n\n```\n------------------------------------------------------------------------------\n  Other help entries\n------------------------------------------------------------------------------\n  System:\nBaloney\n  System:\nSalami\n```\n\nExpected Baloney and Salami to share the same category.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nCurrent revision/Main branch\nLower case all category entry strings upon saving, uppercase all upon presentation.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/956/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/956/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/955", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/955/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/955/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/955/events", "html_url": "https://github.com/evennia/evennia/issues/955", "id": 147945969, "node_id": "MDU6SXNzdWUxNDc5NDU5Njk=", "number": 955, "title": "@help/force expects optional lock string", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-13T04:53:29Z", "updated_at": "2016-05-22T20:28:12Z", "closed_at": "2016-05-22T20:28:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\n```\nUsage:\n  @help[/switches] <topic>[,category[,locks]] = <text>\n```\n\nUsing the /force switch causes error when category is supplied but lock string is not supplied.\n#### Steps to reproduce the issue:\n1. **@help/add Baloney,System=System baloney help topic**\n2. **@help/add/force Baloney,System=Not a real help topic**\n#### Error output / Expected result of feature\n\n```\nTraceback (most recent call last):\n/evennia/evennia/commands/cmdhandler.py\", line 435, in _run_command\n     ret = yield cmd.func()\nFile \"/evennia/evennia/commands/default/help.py\", line 255, in func\n     old_entry.locks.add(lockstring)\nFile \"/evennia/evennia/locks/lockhandler.py\", line 306, in add\n     self._log_error(_(\"Lock: '%s' contains no colon (:).\") % lockdef)\nFile \"/evennia/evennia/locks/lockhandler.py\", line 192, in _log_error\n     raise LockException(message)\nLockException: Lock: '' contains no colon (:).\n```\n\nFeature otherwise appears to work as expected.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nCurrent revision/Main branch\nAdd default lock of view:all() when no lock is given if entry does not already have a lock.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/954", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/954/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/954/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/954/events", "html_url": "https://github.com/evennia/evennia/issues/954", "id": 147678086, "node_id": "MDU6SXNzdWUxNDc2NzgwODY=", "number": 954, "title": "Bug: @examine can't find player, yet reports player's dbref", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-12T08:44:07Z", "updated_at": "2016-05-22T20:28:12Z", "closed_at": "2016-05-22T20:28:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe **@examine** command `\"Could not find 'BlauFeuer(player 3)'.\"`\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Connect/login to test server horizondark.com:4444 as a builder class player (its default)\n2. **@examine *BlauFeuer** or **@examine/player BlauFeuer**\n#### Error output / Expected result of feature\n\n`\"Could not find 'BlauFeuer(player 3)'.\"` or similar when expected result should detail the player object and its attributes.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nOccurs in recent revision/main branch, Linux and Windows OS. \nSearch function issue, or parameters not correctly entered into search function?\n\n```\n[Public] BlauFeuer: Ugh. Is this intended behavior? ex *BlauFeuer yields: Could not find 'BlauFeuer(player 2)'.\nCould not find 'BlauFeuer(player 3)'.\n[Public] BlauFeuer: It knows I'm player 2 (or player 3 here, for example), but it can't \"find\" my player object?\n\nPermission Hierarchy (climbing):\n Guests, Players, PlayerHelpers, Builders, Wizards, Immortals\nYour access:\nCharacter BlauFeuer: builders\nPlayer BlauFeuer: builders\n[Public] Griatch@#evennia: That does looks a bit weird, I agree.\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/952", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/952/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/952/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/952/events", "html_url": "https://github.com/evennia/evennia/issues/952", "id": 147568331, "node_id": "MDU6SXNzdWUxNDc1NjgzMzE=", "number": 952, "title": "Devel: The tutorialworld is not building properly", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-11T22:04:06Z", "updated_at": "2016-04-25T18:54:05Z", "closed_at": "2016-04-25T18:54:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue\n\nSomething is iffy when building the tutorial world in wclient branch. Rooms don't appear in the right place, you go directly from the start to the inn.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Build the tutorial world in wclient branch and start it. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nI don't think the batchprocessor has changed (yet) but it's the only real explanation i can think of. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/950", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/950/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/950/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/950/events", "html_url": "https://github.com/evennia/evennia/issues/950", "id": 147547197, "node_id": "MDU6SXNzdWUxNDc1NDcxOTc=", "number": 950, "title": "Devel: Webclient Prompt not displaying correctly", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-11T20:35:36Z", "updated_at": "2016-04-14T19:47:47Z", "closed_at": "2016-04-14T19:47:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nThe devel-branch webclient is not currently displaying the prompt area correctly.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Connect to game running on devel (\"wclient\") branch Evennia.\n2. Log in as superuser.\n3. Run `@py self.msg(prompt=\"foo\")`\n#### Error output / Expected result of feature\n\nThe prompt displays over the input area, skewing the input area and starting to show overlapping flow-text. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nDevel \"wclient\" branch.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/950/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/947", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/947/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/947/events", "html_url": "https://github.com/evennia/evennia/issues/947", "id": 147062888, "node_id": "MDU6SXNzdWUxNDcwNjI4ODg=", "number": 947, "title": "SSH authentication fails", "user": {"login": "bahner", "id": 10139951, "node_id": "MDQ6VXNlcjEwMTM5OTUx", "avatar_url": "https://avatars.githubusercontent.com/u/10139951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bahner", "html_url": "https://github.com/bahner", "followers_url": "https://api.github.com/users/bahner/followers", "following_url": "https://api.github.com/users/bahner/following{/other_user}", "gists_url": "https://api.github.com/users/bahner/gists{/gist_id}", "starred_url": "https://api.github.com/users/bahner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bahner/subscriptions", "organizations_url": "https://api.github.com/users/bahner/orgs", "repos_url": "https://api.github.com/users/bahner/repos", "events_url": "https://api.github.com/users/bahner/events{/privacy}", "received_events_url": "https://api.github.com/users/bahner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-08T23:23:27Z", "updated_at": "2016-05-22T20:30:00Z", "closed_at": "2016-05-22T20:30:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhen logging in with SSH authentication fails and the following is logged:\n2016-04-08 23:19:12+0000 [SSHService ssh-userauth on SSHServerTransport,1,::fff\nf:10.11.12.9] bahner trying auth password\n2016-04-08 23:19:13+0000 [-] bahner failed auth password\n2016-04-08 23:19:13+0000 [-] Traceback (most recent call last):\n      File \"/home/minecraft/evennia/gneis/local/lib/python2.7/site-packages\n/twisted/conch/ssh/userauth.py\", line 179, in ssh_USERAUTH_REQUEST\n        d = self.tryAuth(method, user, rest)\n      File \"/home/minecraft/evennia/gneis/local/lib/python2.7/site-packages\n/twisted/conch/ssh/userauth.py\", line 152, in tryAuth\n        ret = f(data)\n      File \"/home/minecraft/evennia/evennia/evennia/server/portal/ssh.py\", \nline 243, in auth_password\n        return self.portal.login(c, None, IConchUser).addErrback(\n      File \"/home/minecraft/evennia/gneis/local/lib/python2.7/site-packages\n/twisted/cred/portal.py\", line 119, in login\n        return maybeDeferred(self.checkers[i].requestAvatarId, credentials\n    --- <exception caught here> ---\n      File \"/home/minecraft/evennia/gneis/local/lib/python2.7/site-packages\n/twisted/internet/defer.py\", line 150, in maybeDeferred\n        result = f(_args, *_kw)\n      File \"/home/minecraft/evennia/evennia/evennia/server/portal/ssh.py\", \nline 277, in requestAvatarId\n        if player and player.user.check_password(password):\n    exceptions.AttributeError: 'Player' object has no attribute 'user'\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/947/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/947/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/940", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/940/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/940/events", "html_url": "https://github.com/evennia/evennia/issues/940", "id": 144611885, "node_id": "MDU6SXNzdWUxNDQ2MTE4ODU=", "number": 940, "title": "Bug: Escape <,> and & for MXP", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-30T14:35:00Z", "updated_at": "2016-04-02T10:51:04Z", "closed_at": "2016-04-02T10:51:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nWhereas Evennia is not actively supporting other MXP features than just clickable links, it appears the standard clients wants to interpret `<>` as MXP tags if they are available, such as `<b>`. The end result is that when MXP is active, clients like MUSHclient and Mudlet will remove`<...>` from output. \n\nThe MXP parser is not correctly escaping `<>&` characters.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Use MUSHclient or Mudlet. \n2. Use `<arbrary_text>` in a say or emote.\n3. The client will strip the text and brackets.\n#### Error output / Expected result of feature\n\nApparently the way to handle this is to escape `<`, `>` and `&` to `&lt;`, `&gt;` and `&amp;`. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n\nFrom http://www.gammon.com.au/mushclient/addingservermxp.htm: \n\n> #### Output routine\n> \n> Our output routine (called \"write_to_buffer\" on both SMAUG and ROM) needs to handle a number of special cases.\n> -   If MXP is active for this player: \n>   -  Convert any \"<\", \">\", \"&\" used in room descriptions, chats etc. into &lt;, &gt; and &amp;.\n>   -  However this conversion is not done between the tags MXP_BEG and MXP_END, so that we can send tags like this without any trouble: `MXPTAG (\"!ELEMENT Ex '<send>' FLAG=RoomExit\")`, \n>   - Then convert the special characters MXP_BEG MXP_END and MXP_AMP to \"<\", \">\" and \"&\"\n> -     If MXP is not active for this player: \n>   - Strip out any text between MXP_BEG and MXP_END\n>   - Strip out any text between MXP_AMP and \";\"\n>   - Leave other characters \"as is\" \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/937", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/937/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/937/events", "html_url": "https://github.com/evennia/evennia/issues/937", "id": 143737279, "node_id": "MDU6SXNzdWUxNDM3MzcyNzk=", "number": 937, "title": "@batchcode does not work if #HEADER is the first line in script", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-03-26T18:16:52Z", "updated_at": "2016-08-24T21:49:32Z", "closed_at": "2016-08-24T21:49:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Brief summary of issue / Description of requested feature:\n\nI created a small sample script as input for the batchcode command, When running it, it had no effect but also did not showed any error. It seems to be interpreted as empty file. I compared it with the sample file, which works fine. Then I added an additional empty line to the beginning of the script and everything worked fine.\n#### Steps to reproduce the issue / Reasons for adding feature:\n1. Create a input file for batchcode as described in wiki, having a #HEADER and a #CODE block. The header must be in the first line.\n2. Try to call the script via batchcode. I saw no effect, but also no error.\n3. Add an additional empty line on top of the header and it will work.\n#### Error output / Expected result of feature\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve / implement:\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/935", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/935/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/935/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/935/events", "html_url": "https://github.com/evennia/evennia/issues/935", "id": 142613130, "node_id": "MDU6SXNzdWUxNDI2MTMxMzA=", "number": 935, "title": "Bug: IRC username is not ANSI escaped", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-22T10:52:53Z", "updated_at": "2016-05-22T20:28:12Z", "closed_at": "2016-05-22T20:28:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. Have a username with an ANSI control sequence inside it, like `|w` or `{w`.\n2. In-game, the control sequence is parsed\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nIRC should not be able to introduce color codes on the server-side channels. All such codes should show in-game exactly like it would in IRC. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nThis is a matter of running the username through the ANSI escaper before passing it into the comm system. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/933", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/933/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/933/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/933/events", "html_url": "https://github.com/evennia/evennia/issues/933", "id": 142005022, "node_id": "MDU6SXNzdWUxNDIwMDUwMjI=", "number": 933, "title": "Multi-weapon woes in Tutorial World", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-03-19T00:02:10Z", "updated_at": "2016-05-22T20:30:27Z", "closed_at": "2016-05-22T20:30:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you should **get weapon** someone has dropped and **get weapon** from the barrel weapon rack, you may have two weapons of the same name.  This can cause some problems, such as \n1. unable to drop either weapon, or \n2. unable to give one of the two weapons to someone, or \n3. confusion in combat.\n\nEven if you have 2 different kinds of weapons and drop one, combat is flawed because the attack never completes due to the two weapons (one being on the ground nearby) even though you are not holding one of them.\n\nBut you can complete the tutorial and get the better weapon. The problem is that you may not know how to use it.\n\nHere is a quick summary:\n\n> -> inv\n> You are carrying:\n>  Rusty dagger  A double-edged dagger with a nicked edge and a wooden handle.\n>  Rusty dagger  A double-edged dagger with a nicked edge and a wooden handle.\n>  The Hawblade  The weapon of a long-dead heroine and a more civilized age, the hawk-shaped hilt of this blade almost has a life of its own. \n> -> drop rusty dagger\n> You carry more than one rusty dagger:\n> -> give rusty dagger=slim\n> You carry more than one rusty dagger:\n> ->attack slim\n> More than one match for 'attack' (please narrow target):\n>  1-attack (The Hawblade)\n>  2-attack (Rusty dagger)\n>  3-attack (Rusty dagger)\n> -> 1-attack slim\n> How do you want to fight? Choose one of 'stab', 'slash' or 'defend'.\n> -> stab\n> More than one match for 'stab' (please narrow target):\n>  1-attack (The Hawblade)\n>  2-attack (Rusty dagger)\n>  3-attack (Rusty dagger)\n> -> 1-attack\n> How do you want to fight? Choose one of 'stab', 'slash' or 'defend'.\n> -> 1-stab\n> Who do you attack?\n> -> slim\n> Command 'slim' is not available. Type \"help\" for help.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/933/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/921", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/921/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/921/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/921/events", "html_url": "https://github.com/evennia/evennia/issues/921", "id": 132050001, "node_id": "MDU6SXNzdWUxMzIwNTAwMDE=", "number": 921, "title": "Untrapped error when using look command with any parameter while OOC", "user": {"login": "BlauFeuer", "id": 17095832, "node_id": "MDQ6VXNlcjE3MDk1ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/17095832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlauFeuer", "html_url": "https://github.com/BlauFeuer", "followers_url": "https://api.github.com/users/BlauFeuer/followers", "following_url": "https://api.github.com/users/BlauFeuer/following{/other_user}", "gists_url": "https://api.github.com/users/BlauFeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlauFeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlauFeuer/subscriptions", "organizations_url": "https://api.github.com/users/BlauFeuer/orgs", "repos_url": "https://api.github.com/users/BlauFeuer/repos", "events_url": "https://api.github.com/users/BlauFeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/BlauFeuer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-02-08T04:33:50Z", "updated_at": "2016-05-22T20:28:11Z", "closed_at": "2016-05-22T20:28:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Among the errors I have been able to generate, this is the most common:\n'NoneType' object is not iterable.\n\nIn this case, it occurs in evennia/commands/cmdhandler.py line 435\nThere may be other factors to reproduce this one. Tag if you need more information.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/919", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/919/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/919/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/919/events", "html_url": "https://github.com/evennia/evennia/issues/919", "id": 128578118, "node_id": "MDU6SXNzdWUxMjg1NzgxMTg=", "number": 919, "title": "Traceback when repeating script deletes the object it runs on", "user": {"login": "j3b4", "id": 16110930, "node_id": "MDQ6VXNlcjE2MTEwOTMw", "avatar_url": "https://avatars.githubusercontent.com/u/16110930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j3b4", "html_url": "https://github.com/j3b4", "followers_url": "https://api.github.com/users/j3b4/followers", "following_url": "https://api.github.com/users/j3b4/following{/other_user}", "gists_url": "https://api.github.com/users/j3b4/gists{/gist_id}", "starred_url": "https://api.github.com/users/j3b4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j3b4/subscriptions", "organizations_url": "https://api.github.com/users/j3b4/orgs", "repos_url": "https://api.github.com/users/j3b4/repos", "events_url": "https://api.github.com/users/j3b4/events{/privacy}", "received_events_url": "https://api.github.com/users/j3b4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-25T16:32:11Z", "updated_at": "2016-02-02T21:25:59Z", "closed_at": "2016-02-02T21:25:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following error after running a script with a repeat of 1 which simply calls \nself.obj.delete()\n\nI find that the object is successfully deleted and the script terminates.  But the following appears in the log file.  The first line is not part of the error but a print statement I'm using just during development that announces the script is about to delete its own object.\n\n2016-01-25 15:57:05+0000 [-] 20 secs later. Time to clean up. Unlesss...\n2016-01-25 15:57:05+0000 [-] Unhandled error in Deferred:\n2016-01-25 15:57:05+0000 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/aeon/Evennia/pyenv/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 150, in maybeDeferred\n            result = f(_args, *_kw)\n          File \"/home/aeon/Evennia/evennia/evennia/scripts/scripts.py\", line 238, in _step_task\n            return maybeDeferred(self._step_callback).addErrback(self._step_errback)\n          File \"/home/aeon/Evennia/pyenv/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 328, in addErrback\n            errbackKeywords=kw)\n          File \"/home/aeon/Evennia/pyenv/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 306, in addCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/aeon/Evennia/pyenv/local/lib/python2.7/site-packages/twisted/internet/defer.py\", line 588, in _runCallbacks\n            current.result = callback(current.result, _args, *_kw)\n          File \"/home/aeon/Evennia/evennia/evennia/scripts/scripts.py\", line 206, in _step_errback\n            {\"key\": self.key, \"dbid\": self.dbid, \"cname\": cname,\n          File \"/home/aeon/Evennia/evennia/evennia/utils/idmapper/models.py\", line 171, in <lambda>\n            fget = lambda cls: _get(cls, fieldname)\n          File \"/home/aeon/Evennia/evennia/evennia/utils/idmapper/models.py\", line 115, in _get\n            raise ObjectDoesNotExist(\"Cannot access %s: Hosting object was already deleted.\" % fname)\n        django.core.exceptions.ObjectDoesNotExist: Cannot access db_key: Hosting object was already deleted.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/917", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/917/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/917/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/917/events", "html_url": "https://github.com/evennia/evennia/issues/917", "id": 127034307, "node_id": "MDU6SXNzdWUxMjcwMzQzMDc=", "number": 917, "title": "EvTable gives traceback with empty string input", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-16T16:19:45Z", "updated_at": "2016-01-20T18:53:16Z", "closed_at": "2016-01-20T18:53:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I am getting an error that seems to occur when a column contains only the empty string. I have put together a test case command that can reproduce it. \n\n``` python\nclass CmdTestCase(Command):\n    key = \"testcase\"\n    locks = \"cmd:all()\"\n\n    def func(self):\n        data = [['|Ca bundle of quarrels|n'],\n                [u'A bundle of crossbow quarrels held together with a\\nthin leather strap.'],\n                ['']]\n\n        table = EvTable(header=False, table=data, border=None, valign='t')\n        self.caller.msg(str(table))\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/917/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/912", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/912/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/912/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/912/events", "html_url": "https://github.com/evennia/evennia/issues/912", "id": 125738098, "node_id": "MDU6SXNzdWUxMjU3MzgwOTg=", "number": 912, "title": "channel aliases not displayed in @channels command output", "user": {"login": "orkim", "id": 4452393, "node_id": "MDQ6VXNlcjQ0NTIzOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4452393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orkim", "html_url": "https://github.com/orkim", "followers_url": "https://api.github.com/users/orkim/followers", "following_url": "https://api.github.com/users/orkim/following{/other_user}", "gists_url": "https://api.github.com/users/orkim/gists{/gist_id}", "starred_url": "https://api.github.com/users/orkim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orkim/subscriptions", "organizations_url": "https://api.github.com/users/orkim/orgs", "repos_url": "https://api.github.com/users/orkim/repos", "events_url": "https://api.github.com/users/orkim/events{/privacy}", "received_events_url": "https://api.github.com/users/orkim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-09T04:44:09Z", "updated_at": "2016-01-13T00:08:59Z", "closed_at": "2016-01-13T00:08:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When joining a channel you can add an alias with `addcom <alias> = <channel>`.\n\nEven after being joined to a channel you can repeat this command to add multiple aliases if you like.\n\nHowever, once an alias is added, the output from the `@channels` command, in the \"my alias\" column shows the channel name, and not the defined alias(es).\n\nWith multiple aliases the channel name will be repeated for each one added.\n\nIf you do know the alias (since you can't view them) you can still remove them with \"delcom <alias>\" just fine.\n\nI would expect to be able to view the aliases listed with the @channel command.\n\nThis is a fresh install with no custom code.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/911", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/911/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/911/events", "html_url": "https://github.com/evennia/evennia/issues/911", "id": 125729963, "node_id": "MDU6SXNzdWUxMjU3Mjk5NjM=", "number": 911, "title": "default \"nick\" command fails to list all defined nicks", "user": {"login": "orkim", "id": 4452393, "node_id": "MDQ6VXNlcjQ0NTIzOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4452393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orkim", "html_url": "https://github.com/orkim", "followers_url": "https://api.github.com/users/orkim/followers", "following_url": "https://api.github.com/users/orkim/following{/other_user}", "gists_url": "https://api.github.com/users/orkim/gists{/gist_id}", "starred_url": "https://api.github.com/users/orkim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orkim/subscriptions", "organizations_url": "https://api.github.com/users/orkim/orgs", "repos_url": "https://api.github.com/users/orkim/repos", "events_url": "https://api.github.com/users/orkim/events{/privacy}", "received_events_url": "https://api.github.com/users/orkim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-09T02:03:11Z", "updated_at": "2016-01-13T00:09:10Z", "closed_at": "2016-01-13T00:09:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On a fresh install I was playing around with the \"nick\" command.  After reading the help file I entered the following commands (lines starting with \"###\" are the commands issued):\n\n```\n### nick/list\nNo nicks defined.\n### nick hi = say Hello there.\n\nNick set: 'hi' -> 'say Hello there.'.\n### nick/player user = long user name\n\nNick set: 'user' -> 'long user name'.\n### nick/object rock = a big boulder\n\nNick set: 'rock' -> 'a big boulder'.\n### nick/list\nDefined Nicks:\n+-----------+----------+------------------+\n| NickType  | Nickname | Translates-to    |\n+-----------+----------+------------------+\n| inputline | hi       | say Hello there. |\n+-----------+----------+------------------+\n```\n\nAs you can see, the \"nick/player\" and \"nick/object\" do indeed show as set, but are not listed with \"nick/list\" as one would expect.\n\nIt makes no difference if the object/player actually exists or not.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/909", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/909/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/909/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/909/events", "html_url": "https://github.com/evennia/evennia/issues/909", "id": 124429756, "node_id": "MDU6SXNzdWUxMjQ0Mjk3NTY=", "number": 909, "title": "@batchcode fails with tutorial_examples.example_batch_code.py", "user": {"login": "ergodicbreak", "id": 3825386, "node_id": "MDQ6VXNlcjM4MjUzODY=", "avatar_url": "https://avatars.githubusercontent.com/u/3825386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ergodicbreak", "html_url": "https://github.com/ergodicbreak", "followers_url": "https://api.github.com/users/ergodicbreak/followers", "following_url": "https://api.github.com/users/ergodicbreak/following{/other_user}", "gists_url": "https://api.github.com/users/ergodicbreak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ergodicbreak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ergodicbreak/subscriptions", "organizations_url": "https://api.github.com/users/ergodicbreak/orgs", "repos_url": "https://api.github.com/users/ergodicbreak/repos", "events_url": "https://api.github.com/users/ergodicbreak/events{/privacy}", "received_events_url": "https://api.github.com/users/ergodicbreak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 314173401, "node_id": "MDU6TGFiZWwzMTQxNzM0MDE=", "url": "https://api.github.com/repos/evennia/evennia/labels/more%20info%20needed", "name": "more info needed", "color": "d4c5f9", "default": false, "description": "Can't continue resolving without more info."}, {"id": 677498709, "node_id": "MDU6TGFiZWw2Nzc0OTg3MDk=", "url": "https://api.github.com/repos/evennia/evennia/labels/OS/DB-dependent", "name": "OS/DB-dependent", "color": "f9d0c4", "default": false, "description": "Issue only relevant for specific database or OS."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-12-31T04:04:18Z", "updated_at": "2017-09-23T12:20:46Z", "closed_at": "2017-09-23T12:20:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running a clean checkout of current Evennia, I start up the game, run `@batchcode example_batch_code` and get:\n\n```\n[MudInfo] [MudInfo, 2015-12-31(03:51)]: Evennia connected\n\nYou become Evennia.\nLimbo(#2)\nWelcome to your new Evennia-based game! Visit http://www.evennia.com if you need\nhelp, want to contribute, report issues or just join the community.\nAs Player #1 you can create a demo/tutorial area with @batchcommand tutorial_world.build.\nRunning Batch-code processor - Automatic mode for example_batch_code ...\n01/03: #CODE : \n\nfrom evennia import create_object, search_obj[...]\n02/03: #CODE (create red button): \n\nred_button = create_object[...]\n>>> \n>>> 03: except RuntimeError: pass\n>>> 04: finally: del settings_module\n>>> 05: #CODE (create red button): \n>>> 06: \n>>> 07: red_button = create_object(red_button.RedButton, key=\"Red button\",\n>>> 08:                                           location=limbo, aliases=[\"button\"])\n>>> 09: caller.msg(\"A %s was created.\" % red_button.key)\nTraceback (most recent call last):\n>>> \n>>>   File \"<string>\", line 7, in <module>\n>>> \n>>> NameError: name 'create_object' is not defined\n>>>\n```\n\nI have a fix for this which I'll submit as a PR, but it involves a substantial change to the batchcode parser so I want to make sure someone else can reproduce and it's not just me. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/909/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/907", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/907/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/907/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/907/events", "html_url": "https://github.com/evennia/evennia/issues/907", "id": 123172573, "node_id": "MDU6SXNzdWUxMjMxNzI1NzM=", "number": 907, "title": "OOCLook command problems", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-20T17:25:10Z", "updated_at": "2016-01-11T11:13:58Z", "closed_at": "2016-01-11T11:13:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I've been working with MULTISESSION_MODE=2, and I'm seeing two issues, somewhat related. \n- After creating a new Player, an error is thrown from the player's `at_look` hook.\n- As the superuser, when connecting, no characters are displayed in the first call to `at_look`, but are displayed when using the \"look\" command.\n\nI'm including both of these problems together, because they both seem to be coming from the same spot in the code, when `at_look` is called with target=None.\n\n**Error**\nThe error thrown when connecting as a non-superuser Player is:\n\n```\nTraceback (most recent call last):\n  File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\commands\\cmdhandler.py\", line 435, in _run_command\n    ret = yield cmd.func()\n  File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\commands\\default\\unloggedin.py\", line 241, in func\n    session.sessionhandler.login(session, player)\n  File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\server\\sessionhandler.py\", line 329, in login\n    player.at_post_login(session=session)\n  File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\players\\players.py\", line 712, in at_post_login\n    self.msg(self.at_look(session=session))\n  File \"c:\\users\\dan\\sandbox\\evennia\\evennia\\players\\players.py\", line 816, in at_look\n    if is_su or len(characters) < charmax:\nTypeError: object of type 'NoneType' has no len()\n```\n\n**Character List**\nImmediately after connecting, the player's `at_look` hook is called with target=None, which results in the \"no characters\" message appearing.\n\n```\n--------------------------------------------------------------------\nAccount Superuser (you are Out-of-Character)\n\nConnected session:\n* 1 websocket (127.0.0.1)\n\nhelp - more commands\nooc <Text> - talk on public channel\n\nYou don't have any characters yet. See help @charcreate for creating one.\n--------------------------------------------------------------------\n```\n\nBut on entering \"look\" manually, it instead shows:\n\n```\n--------------------------------------------------------------------\nAccount Superuser (you are Out-of-Character)\n\nConnected session:\n* 1 websocket (127.0.0.1)\n\nhelp - more commands\nooc <Text> - talk on public channel\n@charcreate <name> [=description] - create new character\n@ic <character> - enter the game (@ooc to get back here)\n\nAvailable character (1/unlimited):\n- Superuser [immortals]\n--------------------------------------------------------------------\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/907/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/903", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/903/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/903/events", "html_url": "https://github.com/evennia/evennia/issues/903", "id": 121960866, "node_id": "MDU6SXNzdWUxMjE5NjA4NjY=", "number": 903, "title": "OOB ERROR: 'Core.Supports.Set' is not a valid OOB command. ", "user": {"login": "Aholliman", "id": 8421398, "node_id": "MDQ6VXNlcjg0MjEzOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/8421398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aholliman", "html_url": "https://github.com/Aholliman", "followers_url": "https://api.github.com/users/Aholliman/followers", "following_url": "https://api.github.com/users/Aholliman/following{/other_user}", "gists_url": "https://api.github.com/users/Aholliman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aholliman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aholliman/subscriptions", "organizations_url": "https://api.github.com/users/Aholliman/orgs", "repos_url": "https://api.github.com/users/Aholliman/repos", "events_url": "https://api.github.com/users/Aholliman/events{/privacy}", "received_events_url": "https://api.github.com/users/Aholliman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-14T02:01:16Z", "updated_at": "2016-05-22T20:30:54Z", "closed_at": "2016-05-22T20:30:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just updated to the latest version of evennia and I'm getting this traceback when users connect.\n\n2015-12-14 01:46:58+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2015-12-14 01:46:58+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dozo/evennia/evennia/server/oobhandler.py\", line 438, in execute_cmd\n2015-12-14 01:46:58+0000 [AMPProtocol,0,127.0.0.1] [::]     oobfunc = _OOB_FUNCS[oobfuncname]\n2015-12-14 01:46:58+0000 [AMPProtocol,0,127.0.0.1] [::] KeyError: 'Core.Supports.Set'\n2015-12-14 01:46:58+0000 [AMPProtocol,0,127.0.0.1] [EE] OOB ERROR: 'Core.Supports.Set' is not a valid OOB command. Commands available:\n2015-12-14 01:46:58+0000 [AMPProtocol,0,127.0.0.1] [EE]  REPEAT, UNREPEAT, UNREPORT, return_attribute_report, LIST, SEND, ECHO, oob_error, return_field_report, REPORT\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/902", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/902/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/902/events", "html_url": "https://github.com/evennia/evennia/issues/902", "id": 121826295, "node_id": "MDU6SXNzdWUxMjE4MjYyOTU=", "number": 902, "title": "Exit object \"at_before_traverse\" not triggering.", "user": {"login": "DauntlessAutumn", "id": 7539596, "node_id": "MDQ6VXNlcjc1Mzk1OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7539596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DauntlessAutumn", "html_url": "https://github.com/DauntlessAutumn", "followers_url": "https://api.github.com/users/DauntlessAutumn/followers", "following_url": "https://api.github.com/users/DauntlessAutumn/following{/other_user}", "gists_url": "https://api.github.com/users/DauntlessAutumn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DauntlessAutumn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DauntlessAutumn/subscriptions", "organizations_url": "https://api.github.com/users/DauntlessAutumn/orgs", "repos_url": "https://api.github.com/users/DauntlessAutumn/repos", "events_url": "https://api.github.com/users/DauntlessAutumn/events{/privacy}", "received_events_url": "https://api.github.com/users/DauntlessAutumn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-12T02:12:48Z", "updated_at": "2016-01-20T18:01:47Z", "closed_at": "2016-01-20T17:59:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "The at_before_traverse hook is seemingly failing to trigger.\n\nI've added the following to the Exit class (in typeclasses.exits):\n\n```\ndef at_before_traverse(self, traversing_object):\n        self.location.msg_contents(\"Test.\")\n```\n\n**Expected behaviour:**\nEverything in the room should receive \"Test.\"\n\n**What happens:**\nNo message occurs.\n\nI have confirmed the exit I am testing with is of the correct typeclass (_typeclasses.exits.Exit_)\nI also tried a more direct message with\n\n```\ntraversing_object.msg(\"Test.\")\n```\n\nLet me know if there's more I need to provide or a different testing method to use.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/901", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/901/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/901/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/901/events", "html_url": "https://github.com/evennia/evennia/issues/901", "id": 121811701, "node_id": "MDU6SXNzdWUxMjE4MTE3MDE=", "number": 901, "title": "Global script running twice per interval", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-11T23:25:14Z", "updated_at": "2015-12-17T19:35:13Z", "closed_at": "2015-12-16T23:32:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Follow-up to the following discussion: \nhttps://groups.google.com/forum/#!searchin/evennia/duplicate/evennia/rGIzSsMPY4g/YsP71Tqy6oEJ\n\nMy \"resolution\" turned out not to work. I obviously screwed something up on this one and could use some help sorting it out...\n\nThe log was clear at first but upon a reload I'm seeing the following message:\n\n2015-12-11 23:16:58+0000 [-] /hello/kitty/evennia/evennia/typeclasses/django_new_patch.py:254: exceptions.RuntimeWarning: Model 'typeclasses.outdoors' was already registered. Reloading models is not advised as it can lead to inconsistencies, most notably with related models.\n\n\"@scripts\" only shows one running script and if I add a print statement to the script in question, it fires once in the log/console-- but the actual action performed by the script executes twice. Perhaps there's an older copy floating around in memory behind the scenes after all. The original script was not designated as persistent.\n\nI'm going to poke around in the Django dbshell but in the meantime if you know how to resolve this I'd appreciate it!\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/900", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/900/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/900/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/900/events", "html_url": "https://github.com/evennia/evennia/issues/900", "id": 121811026, "node_id": "MDU6SXNzdWUxMjE4MTEwMjY=", "number": 900, "title": "Fails: \"Idle timeout exceeded, disconnecting.\"", "user": {"login": "strikaco", "id": 8159732, "node_id": "MDQ6VXNlcjgxNTk3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8159732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strikaco", "html_url": "https://github.com/strikaco", "followers_url": "https://api.github.com/users/strikaco/followers", "following_url": "https://api.github.com/users/strikaco/following{/other_user}", "gists_url": "https://api.github.com/users/strikaco/gists{/gist_id}", "starred_url": "https://api.github.com/users/strikaco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strikaco/subscriptions", "organizations_url": "https://api.github.com/users/strikaco/orgs", "repos_url": "https://api.github.com/users/strikaco/repos", "events_url": "https://api.github.com/users/strikaco/events{/privacy}", "received_events_url": "https://api.github.com/users/strikaco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-12-11T23:18:55Z", "updated_at": "2016-01-19T19:52:48Z", "closed_at": "2016-01-19T19:52:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm on a barely-modified revision f87d07b. I added a script to at_server_start but that's pretty much it.\n\nBoth admin and plebeian accounts, when idle, will receive the above notice repeatedly but never actually disconnect.\n\nThere are no associated error messages in the log file.\n\nPlease let me know if there is any other diagnostic information I can provide.\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/900/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/895", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/895/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/895/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/895/events", "html_url": "https://github.com/evennia/evennia/issues/895", "id": 120583521, "node_id": "MDU6SXNzdWUxMjA1ODM1MjE=", "number": 895, "title": "@shutdown command unresponsive", "user": {"login": "feend78", "id": 317047, "node_id": "MDQ6VXNlcjMxNzA0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/317047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feend78", "html_url": "https://github.com/feend78", "followers_url": "https://api.github.com/users/feend78/followers", "following_url": "https://api.github.com/users/feend78/following{/other_user}", "gists_url": "https://api.github.com/users/feend78/gists{/gist_id}", "starred_url": "https://api.github.com/users/feend78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feend78/subscriptions", "organizations_url": "https://api.github.com/users/feend78/orgs", "repos_url": "https://api.github.com/users/feend78/repos", "events_url": "https://api.github.com/users/feend78/events{/privacy}", "received_events_url": "https://api.github.com/users/feend78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-05T19:56:12Z", "updated_at": "2015-12-16T23:24:38Z", "closed_at": "2015-12-16T23:24:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When I issue the @shutdown command, nothing happens. I see no error in the console or any log files. \n\nTo test, I checked out the master branch of ainneve, dropped my db file, did `evennia migrate` and started the server with -i. Still no response to the @shutdown command.\n\n@ergodicbreak has confirmed that he is seeing the same behavior in an IRC discussion.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/895/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/894", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/894/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/894/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/894/events", "html_url": "https://github.com/evennia/evennia/issues/894", "id": 120542926, "node_id": "MDU6SXNzdWUxMjA1NDI5MjY=", "number": 894, "title": "Webclient sends commands prematurely ", "user": {"login": "DauntlessAutumn", "id": 7539596, "node_id": "MDQ6VXNlcjc1Mzk1OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7539596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DauntlessAutumn", "html_url": "https://github.com/DauntlessAutumn", "followers_url": "https://api.github.com/users/DauntlessAutumn/followers", "following_url": "https://api.github.com/users/DauntlessAutumn/following{/other_user}", "gists_url": "https://api.github.com/users/DauntlessAutumn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DauntlessAutumn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DauntlessAutumn/subscriptions", "organizations_url": "https://api.github.com/users/DauntlessAutumn/orgs", "repos_url": "https://api.github.com/users/DauntlessAutumn/repos", "events_url": "https://api.github.com/users/DauntlessAutumn/events{/privacy}", "received_events_url": "https://api.github.com/users/DauntlessAutumn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}, {"id": 181087213, "node_id": "MDU6TGFiZWwxODEwODcyMTM=", "url": "https://api.github.com/repos/evennia/evennia/labels/devel-implemented", "name": "devel-implemented", "color": "a0f97f", "default": false, "description": "Already finished, usually in a branch not yet merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-12-05T09:26:28Z", "updated_at": "2016-05-22T20:31:06Z", "closed_at": "2016-05-22T20:31:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "The webclient is sending commands at an unknown interval. Approximately every minute or two.\n\nThis happens in Chrome and Opera (both recently updated) on Windows 10. It happens regardless of whether or not the command line has focus (while I'm typing, while the window is minimised, or when another window or tab has focus). \n\nThis is frustrating, especially with admin commands. @desc's get cut off halfway through, then I need to @desc/edit and append the ending. \n\nI noticed this issue nearly immediately after install, before any changes were made to code, and I haven't changed any settings. \n\nThis doesn't happen in other applications, or other Web apps. \n\nI'm hoping this is just a setting I couldn't see. \n\nThanks in advance! \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/894/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/891", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/891/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/891/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/891/events", "html_url": "https://github.com/evennia/evennia/issues/891", "id": 120287988, "node_id": "MDU6SXNzdWUxMjAyODc5ODg=", "number": 891, "title": "Calling pause() on a script does not persist between reload/restart", "user": {"login": "MikeCurrieDev", "id": 4156731, "node_id": "MDQ6VXNlcjQxNTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4156731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MikeCurrieDev", "html_url": "https://github.com/MikeCurrieDev", "followers_url": "https://api.github.com/users/MikeCurrieDev/followers", "following_url": "https://api.github.com/users/MikeCurrieDev/following{/other_user}", "gists_url": "https://api.github.com/users/MikeCurrieDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/MikeCurrieDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MikeCurrieDev/subscriptions", "organizations_url": "https://api.github.com/users/MikeCurrieDev/orgs", "repos_url": "https://api.github.com/users/MikeCurrieDev/repos", "events_url": "https://api.github.com/users/MikeCurrieDev/events{/privacy}", "received_events_url": "https://api.github.com/users/MikeCurrieDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-03T22:39:28Z", "updated_at": "2015-12-16T23:13:05Z", "closed_at": "2015-12-16T23:13:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description** \nThis isn't really related to the bug, but I found it during my testing. The `pause()` function of scripts work for pausing, but unfortunately, using the `@scripts` command calls `validate()` on all scripts, which restarts a paused script. I would expect that a script that is paused using the `pause()` method would stay paused until I tell it to `unpause()`\n\nI added a boolean attribute to my inherited script class called `intentional_pause` which gets set whenever my game-code wants a script to pause for real. I know this isn't exactly the right way to fix it, but once I looked into the code around handling scripts during restarts and reloads I ended up breaking more than I'd like.\n\n```\nclass PauseableScript(DefaultScript):\n\n    def start(self, force_restart=False):\n        if self.db.intentional_pause:\n            #don't actually start the script.\n            return 0\n\n        return super(PauseableScript, self).start(force_restart)\n\n    def stop_effect(self):\n        self.db.intentional_pause = True\n        self.pause()\n\n    def reappy_effect(self):\n        self.db.intentional_pause = False\n        self.unpause()\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/890", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/890/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/890/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/890/events", "html_url": "https://github.com/evennia/evennia/issues/890", "id": 120286894, "node_id": "MDU6SXNzdWUxMjAyODY4OTQ=", "number": 890, "title": "Bug: Reloading server causes infinite-repeating scripts to duplicate tasks", "user": {"login": "MikeCurrieDev", "id": 4156731, "node_id": "MDQ6VXNlcjQxNTY3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4156731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MikeCurrieDev", "html_url": "https://github.com/MikeCurrieDev", "followers_url": "https://api.github.com/users/MikeCurrieDev/followers", "following_url": "https://api.github.com/users/MikeCurrieDev/following{/other_user}", "gists_url": "https://api.github.com/users/MikeCurrieDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/MikeCurrieDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MikeCurrieDev/subscriptions", "organizations_url": "https://api.github.com/users/MikeCurrieDev/orgs", "repos_url": "https://api.github.com/users/MikeCurrieDev/repos", "events_url": "https://api.github.com/users/MikeCurrieDev/events{/privacy}", "received_events_url": "https://api.github.com/users/MikeCurrieDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-03T22:34:12Z", "updated_at": "2015-12-16T23:13:05Z", "closed_at": "2015-12-16T23:13:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Steps to Reproduce**\n1. Create a simple repeating script like this:\n\n```\nclass RepeatingTestScript(DefaultScript):\n    def at_script_creation(self):\n            \"Called once, during initial creation\"\n            self.key = \"repeat_test_script\"\n            self.desc = \"repeats.\"\n            self.interval = 60\n            self.persistent = True\n    def at_repeat(self):\n        self.obj.msg(\"repeating...\")\n```\n1. Attach it to a Character:\n   `self.scripts.add(RepeatingTestScript)`\n2. Observe that the `@scripts` command shows the time remaining correctly\n3. When `@scripts` shows some time remaining, for example '20s', run the command `@reload`\n4. In 20 seconds the `at_repeat` of your scripts will fire, and 60 seconds later it will fire again, followed by the original task 40 seconds after the second, ad infinitum, or until cold restart.\n\n**My Troubleshooting**\nFrom what I understand, it looks like when the server is restarted the `_start_task` method gets called again, which ignores a pre-existing _task (ExtendedLoopingCall) and creates a new one. I put a check at the beginning of `_start_task` that is essentially a copy-paste of `_stop_task`, this prevents a second _task from getting made. \n\nAlternatively, we could just not make a new task if one already exists. This would have the advantage of leaving the remaining time per task correct.\n\nSee my patch below:\n[scripts-patch20151203.txt](https://github.com/evennia/evennia/files/51417/scripts-patch20151203.txt)\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/890/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/889", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/889/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/889/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/889/events", "html_url": "https://github.com/evennia/evennia/issues/889", "id": 120124144, "node_id": "MDU6SXNzdWUxMjAxMjQxNDQ=", "number": 889, "title": "Bug: tutorial_world \"northern path\" exit is visible without tag:tutorial_climbed_tree", "user": {"login": "bitcoinfees", "id": 9492819, "node_id": "MDQ6VXNlcjk0OTI4MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/9492819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitcoinfees", "html_url": "https://github.com/bitcoinfees", "followers_url": "https://api.github.com/users/bitcoinfees/followers", "following_url": "https://api.github.com/users/bitcoinfees/following{/other_user}", "gists_url": "https://api.github.com/users/bitcoinfees/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitcoinfees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitcoinfees/subscriptions", "organizations_url": "https://api.github.com/users/bitcoinfees/orgs", "repos_url": "https://api.github.com/users/bitcoinfees/repos", "events_url": "https://api.github.com/users/bitcoinfees/events{/privacy}", "received_events_url": "https://api.github.com/users/bitcoinfees/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-03T09:17:09Z", "updated_at": "2015-12-15T19:59:26Z", "closed_at": "2015-12-15T19:59:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n\nFollowing the standard setup instructions -\n1.  Clone evennia/evennia.git and install head (f87d07b775aa26ff6e55e36a162b8a823ee57daf)\n2.  evennia migrate, evennia start\n3.  log in as superuser and run `@batchcommand tutorial_world.build`\n4.  create and log in as another user (to ensure it's a non-superuser), execute `tutorial` and `begin` to arrive at \"Cliff by the coast\"\n5. Northern path is supposed to be invisible before climbing the tree, but it is instead visible and traversable.\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nSee No. 5 above.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n1.  User is confirmed to not have tag:tutorial_climbed_tree before he climbs the tree, and to have the tag after.\n2.  Northern path is confirmed to have the lock `view:tag(tutorial_climbed_tree, tutorial_world);`\n3.  Tried on both OS X 10.11 and Ubuntu 14.04.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/855", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/855/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/855/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/855/events", "html_url": "https://github.com/evennia/evennia/issues/855", "id": 113385820, "node_id": "MDU6SXNzdWUxMTMzODU4MjA=", "number": 855, "title": "Error when applying locks to Msg.", "user": {"login": "grungies1138", "id": 1909734, "node_id": "MDQ6VXNlcjE5MDk3MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1909734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grungies1138", "html_url": "https://github.com/grungies1138", "followers_url": "https://api.github.com/users/grungies1138/followers", "following_url": "https://api.github.com/users/grungies1138/following{/other_user}", "gists_url": "https://api.github.com/users/grungies1138/gists{/gist_id}", "starred_url": "https://api.github.com/users/grungies1138/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grungies1138/subscriptions", "organizations_url": "https://api.github.com/users/grungies1138/orgs", "repos_url": "https://api.github.com/users/grungies1138/repos", "events_url": "https://api.github.com/users/grungies1138/events{/privacy}", "received_events_url": "https://api.github.com/users/grungies1138/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-10-26T15:52:03Z", "updated_at": "2015-11-01T16:51:16Z", "closed_at": "2015-11-01T16:51:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I created a system to send private messages from player to player.using the create_message() method.  When I added locks to isolate the viewing and deleting of the messages, I used the following method string.\n\n``` python\ncreate.create_message(caller, message, receivers=recobjs, header=subject, locks=lock_string)\n```\n\nlock_string is generated like this:\n\n``` python\nfor recipient in recobjs:\n    recipient.msg(\"You have received a new @mail from %s\" % caller)\n    lock_string = lock_string + \"view:id(%s);delete:id(%s)\" % (recipient.id, recipient.id)\n```\n\nWhen I attempt to send a message, I get the following traceback:\n\n``` python\nTraceback (most recent call last):\n  File \"/home/aaron/Centennial/evennia/evennia/commands/cmdhandler.py\", line 439, in _run_command\n    ret = yield cmd.func()\n  File \"/home/aaron/Centennial/centennial/commands/command.py\", line 320, in func\n    self.send_mail(self.lhslist, subject, body, self.caller)\n  File \"/home/aaron/Centennial/centennial/commands/command.py\", line 375, in send_mail\n    create.create_message(caller, message, receivers=recobjs, header=subject, locks=lock_string)\n  File \"/home/aaron/Centennial/evennia/evennia/utils/create.py\", line 303, in create_message\n    new_message.locks.add(locks)\nAttributeError: 'Msg' object has no attribute 'locks'\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/805", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/805/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/805/events", "html_url": "https://github.com/evennia/evennia/issues/805", "id": 105913221, "node_id": "MDU6SXNzdWUxMDU5MTMyMjE=", "number": 805, "title": "Output latency", "user": {"login": "shollen", "id": 10000870, "node_id": "MDQ6VXNlcjEwMDAwODcw", "avatar_url": "https://avatars.githubusercontent.com/u/10000870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shollen", "html_url": "https://github.com/shollen", "followers_url": "https://api.github.com/users/shollen/followers", "following_url": "https://api.github.com/users/shollen/following{/other_user}", "gists_url": "https://api.github.com/users/shollen/gists{/gist_id}", "starred_url": "https://api.github.com/users/shollen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shollen/subscriptions", "organizations_url": "https://api.github.com/users/shollen/orgs", "repos_url": "https://api.github.com/users/shollen/repos", "events_url": "https://api.github.com/users/shollen/events{/privacy}", "received_events_url": "https://api.github.com/users/shollen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-10T22:44:08Z", "updated_at": "2015-09-16T22:48:14Z", "closed_at": "2015-09-16T22:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have Evennia up on a late 2013 15-inch Retina MacBook Pro running OS X 10.10.5 \u2014 2.6 ghz i7, 16 gigs of RAM. I\u2019m using Python 2.7.9 and SQLite3.\n\nI'm seeing variable latency in the output of commands. It occurs with all commands and is anywhere between none to a full second in duration. The delay comes between output to different player objects in the room. The player objects are all single sessions on separate accounts logged in locally from my machine. I've rearranged the messaging statements in several commands, and who sees output first and who sees it last depends totally on the order of the statements in the command code.\n\nFor example, if I switch the message statements in the drop command to...\n\n```\ncaller.location.msg_contents(\"%s drops %s.\" %(caller.name, obj.name), exclude=caller)\ncaller.msg(\"You drop %s.\" % (obj.name,))\n```\n\n...every other player in the room will receive the output of my command up to a full second before I do.\n\nThe delay actually seems to be in the msg function, like it\u2019s searching a massive list or iterating a million times. I added...\n\n```\ncaller.msg(\"You dropped %s.\" % (obj.name,))\n```\n\nimmediately after...\n\n```\ncaller.msg(\"You drop %s.\" % (obj.name,))\n```\n\nin the \u2018drop\u2019 command, and whenever I drop something, I get a near full second delay between the output of those two lines. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/800", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/800/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/800/events", "html_url": "https://github.com/evennia/evennia/issues/800", "id": 105089396, "node_id": "MDU6SXNzdWUxMDUwODkzOTY=", "number": 800, "title": "Bug: Error when using a particular non-ASCII character over plain telnet (only)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-09-06T11:42:27Z", "updated_at": "2016-11-25T22:03:09Z", "closed_at": "2016-11-25T22:03:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. Connect and log in to evennia with a _plain telnet client_, e.g. `telnet localhost 4000`. This effect does not appear over generic mud clients or the web client. \n2. Send the Russian character `\u044f` (so far this is the only one found to really produce the effect).\n3. The server freezes due to utf-decoding errors and won't accept further commands.\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nThe `\u044f` character should work as well as other non-ANSII characters does, also over plain telnet. \nThere are no tracebacks unless putting a print statement anywhere in `sessionhandler.data_in`, where the error turns out to be a decoding error where UTF-8 cannot properly decode the character. Strangely enough, there is no such issue when decoding it in a terminal session, so it is possible that the telnet client sends something unexpected.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nTested to tweak `settings.ENCODINGS` to fallback to a specific russian encoding `koi8-r`, also tried to print using this encoding inside the `data_in` method, which still caused the error. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/786", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/786/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/786/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/786/events", "html_url": "https://github.com/evennia/evennia/issues/786", "id": 102458529, "node_id": "MDU6SXNzdWUxMDI0NTg1Mjk=", "number": 786, "title": "Bug: Tutorial world shift root command not working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-21T20:42:46Z", "updated_at": "2015-08-26T13:30:45Z", "closed_at": "2015-08-24T20:10:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the tutorial world, it does not seem possible to shift the roots of the crumbling wall (the command is not recognized at all and the wall, while having the right cmdset does not show up as having the commands at all). This makes the dark cell impossible to escape. See original report [here](https://groups.google.com/forum/#!msg/evennia/QZjEs4MTyPY/DZF0WXkyEwAJ).\n\nSince this was tested successfully many a time, this appears to be a recent regression.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/779", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/779/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/779/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/779/events", "html_url": "https://github.com/evennia/evennia/issues/779", "id": 97845472, "node_id": "MDU6SXNzdWU5Nzg0NTQ3Mg==", "number": 779, "title": "Auto-login vs MAX_COMMAND_RATE", "user": {"login": "nivthefox", "id": 848667, "node_id": "MDQ6VXNlcjg0ODY2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/848667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nivthefox", "html_url": "https://github.com/nivthefox", "followers_url": "https://api.github.com/users/nivthefox/followers", "following_url": "https://api.github.com/users/nivthefox/following{/other_user}", "gists_url": "https://api.github.com/users/nivthefox/gists{/gist_id}", "starred_url": "https://api.github.com/users/nivthefox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nivthefox/subscriptions", "organizations_url": "https://api.github.com/users/nivthefox/orgs", "repos_url": "https://api.github.com/users/nivthefox/repos", "events_url": "https://api.github.com/users/nivthefox/events{/privacy}", "received_events_url": "https://api.github.com/users/nivthefox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-07-29T02:41:37Z", "updated_at": "2015-09-16T22:48:14Z", "closed_at": "2015-09-16T22:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Even if you set the MAX_COMMAND_RATE to 0, most popular client auto-login scripts set to \"MUX\" or \"MUSH\" will be too fast, and hit the COMMAND_RATE_WARNING.\n\nIn my code I have temporarily commented out portalsessionhandler.py lines 364-367; what I'm wondering, however, is if it might be better to allow someone to overload the data_in method of this class so that I could overload it for my game without messing with Evennia core.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/779/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/768", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/768/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/768/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/768/events", "html_url": "https://github.com/evennia/evennia/issues/768", "id": 91341763, "node_id": "MDU6SXNzdWU5MTM0MTc2Mw==", "number": 768, "title": "Talking NPC contribute traceback", "user": {"login": "Tirit", "id": 9508753, "node_id": "MDQ6VXNlcjk1MDg3NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9508753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tirit", "html_url": "https://github.com/Tirit", "followers_url": "https://api.github.com/users/Tirit/followers", "following_url": "https://api.github.com/users/Tirit/following{/other_user}", "gists_url": "https://api.github.com/users/Tirit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tirit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tirit/subscriptions", "organizations_url": "https://api.github.com/users/Tirit/orgs", "repos_url": "https://api.github.com/users/Tirit/repos", "events_url": "https://api.github.com/users/Tirit/events{/privacy}", "received_events_url": "https://api.github.com/users/Tirit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-06-26T19:33:01Z", "updated_at": "2015-07-07T14:45:25Z", "closed_at": "2015-07-07T14:45:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "May be my individual version of it, but I don't think so, as I've tried it straight from the talking_npc.TalkingNPC class as well. \n\n> (You walk up and talk to Kaylee.)\n> Traceback (most recent call last):\n>   File \"/home/evennia/evennia/evennia/commands/cmdhandler.py\", line 417, in _run_command\n>     ret = yield cmd.func()\n>   File \"/home/evennia/deepshadows/typeclasses/helpbots.py\", line 59, in func\n>     menu.add(menusystem.MenuNode(key, **kwargs))\n> TypeError: __init__() got an unexpected keyword argument 'code'\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/768/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/765", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/765/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/765/events", "html_url": "https://github.com/evennia/evennia/issues/765", "id": 90491048, "node_id": "MDU6SXNzdWU5MDQ5MTA0OA==", "number": 765, "title": "Recursive Calling to Script Validate", "user": {"login": "cluebyte", "id": 3461344, "node_id": "MDQ6VXNlcjM0NjEzNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3461344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cluebyte", "html_url": "https://github.com/cluebyte", "followers_url": "https://api.github.com/users/cluebyte/followers", "following_url": "https://api.github.com/users/cluebyte/following{/other_user}", "gists_url": "https://api.github.com/users/cluebyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/cluebyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cluebyte/subscriptions", "organizations_url": "https://api.github.com/users/cluebyte/orgs", "repos_url": "https://api.github.com/users/cluebyte/repos", "events_url": "https://api.github.com/users/cluebyte/events{/privacy}", "received_events_url": "https://api.github.com/users/cluebyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-06-23T21:10:24Z", "updated_at": "2015-09-27T11:48:07Z", "closed_at": "2015-09-27T11:48:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've had an interesting error which causes the entire server to sputter and hang (using up 97.4% of my droplet's CPU), which seems to originate from the way script validation is handled. Investigating further, the traceback appears to be as so, repeating indefinitely:\n\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/evennia/evennia/commands/cmdhandler.py\", line 394, in _run_command\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     yield cmd.obj.scripts.validate()\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/evennia/evennia/scripts/scripthandler.py\", line 151, in validate\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     ScriptDB.objects.validate(obj=self.obj, init_mode=init_mode)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/evennia/evennia/scripts/manager.py\", line 201, in validate\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     scripts = self.get_all_scripts_on_obj(obj, key=key)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/evennia/evennia/typeclasses/managers.py\", line 27, in func\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     result = method(self, _args, *_kwargs)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/evennia/evennia/scripts/manager.py\", line 69, in get_all_scripts_on_obj\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.filter(db_obj=obj)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/manager.py\", line 127, in manager_method\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     return getattr(self.get_queryset(), name)(_args, *_kwargs)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 679, in filter\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     return self._filter_or_exclude(False, _args, *_kwargs)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 697, in _filter_or_exclude\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     clone.query.add_q(Q(_args, *_kwargs))\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1304, in add_q\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     clause, require_inner = self._add_q(where_part, self.used_aliases)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1331, in _add_q\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     current_negated=current_negated, connector=connector, allow_joins=allow_joins)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/sql/query.py\", line 1194, in build_filter\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     lookups, value)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/fields/related.py\", line 1740, in get_lookup_constraint\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     lookup_class(target.get_col(alias, source), val), AND)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/lookups.py\", line 96, in __init__\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     self.rhs = self.get_prep_lookup()\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/lookups.py\", line 134, in get_prep_lookup\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/utils/functional.py\", line 60, in **get**\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     res = instance.**dict**[self.name] = self.func(instance)\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/opt/pyenv/local/lib/python2.7/site-packages/django/db/models/expressions.py\", line 221, in output_field\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::]     if self._output_field_or_none is None:\n2015-06-23 20:48:27+0000 [AMPProtocol,0,127.0.0.1] [::] RuntimeError: maximum recursion depth exceeded\n\n28576 root      20   0  531m 472m 7388 R  97.2 23.7  20:33.57 twistd\n\nI haven't done anything crazy with scripts yet, so I'm actually unsure of what's causing such an error. It appears like the yield isn't working for validate, and twistd is intensively taking up resources. This appeared to happen randomly (no one was doing anything on the game at the time before it started to hang).\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/760", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/760/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/760/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/760/events", "html_url": "https://github.com/evennia/evennia/issues/760", "id": 88546900, "node_id": "MDU6SXNzdWU4ODU0NjkwMA==", "number": 760, "title": "Bug: The no_exits flags on cmdset does not seem to be working", "user": {"login": "Nadorrano", "id": 12700519, "node_id": "MDQ6VXNlcjEyNzAwNTE5", "avatar_url": "https://avatars.githubusercontent.com/u/12700519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nadorrano", "html_url": "https://github.com/Nadorrano", "followers_url": "https://api.github.com/users/Nadorrano/followers", "following_url": "https://api.github.com/users/Nadorrano/following{/other_user}", "gists_url": "https://api.github.com/users/Nadorrano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nadorrano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nadorrano/subscriptions", "organizations_url": "https://api.github.com/users/Nadorrano/orgs", "repos_url": "https://api.github.com/users/Nadorrano/repos", "events_url": "https://api.github.com/users/Nadorrano/events{/privacy}", "received_events_url": "https://api.github.com/users/Nadorrano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-15T21:35:01Z", "updated_at": "2015-06-20T11:15:55Z", "closed_at": "2015-06-20T11:15:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I got it right, the no_exits flag is used when you want a cmdset with a low priority to override the exit cmdset, which has an high priority in the default evennia implementation. But in my case this is not working.\n#### Steps to reproduce the issue:\n1. Create a cmdset, mergetype = \"Replace\", priority = 10 (doesn't actually matter), no_exits = True\n2. Add the cmdset to a character\n3. Exits are working :(\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nExits not working.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nI think the problem is when a cmdset is merged to the stack. The no_exits flag of the growing cmdset stack is set to True by our cmdset but the following ones (i.e. channel and exit itself) have their flag set to False and are going to set it to the stack. The no_exit flag will be set to False by these cmdsets every time.\n\nI think a three-state flag None, False, True, will solve the problem. Cmdsets put their flag on the stack only when they are expliitely set to False or True.\n\nAlso note that the wiki:\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/750", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/750/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/750/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/750/events", "html_url": "https://github.com/evennia/evennia/issues/750", "id": 80046599, "node_id": "MDU6SXNzdWU4MDA0NjU5OQ==", "number": 750, "title": "Bug: Custom command's caller.msg(value) with large text buffer results in TypeError", "user": {"login": "darkmusic", "id": 2896819, "node_id": "MDQ6VXNlcjI4OTY4MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2896819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darkmusic", "html_url": "https://github.com/darkmusic", "followers_url": "https://api.github.com/users/darkmusic/followers", "following_url": "https://api.github.com/users/darkmusic/following{/other_user}", "gists_url": "https://api.github.com/users/darkmusic/gists{/gist_id}", "starred_url": "https://api.github.com/users/darkmusic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darkmusic/subscriptions", "organizations_url": "https://api.github.com/users/darkmusic/orgs", "repos_url": "https://api.github.com/users/darkmusic/repos", "events_url": "https://api.github.com/users/darkmusic/events{/privacy}", "received_events_url": "https://api.github.com/users/darkmusic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-24T04:20:24Z", "updated_at": "2015-05-25T19:21:19Z", "closed_at": "2015-05-25T19:21:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. Define a custom command for an object like the following:\n\n``` python\nclass CmdTypeError(default_cmds.MuxCommand):\n        key = \"typeerror\"\n        aliases = [\"te\"]\n        locks = \"cmd:all()\"\n\n        def func(self):\n                caller = self.caller\n                message = \"\"\n                return_msg = \"\"\n                for i in range(0, 150):\n                        message += \"#\"\n                for i in range(0, 1000):\n                        return_msg += message + '\\n'\n                caller.msg(return_msg)\n```\n1. Add the new command to the object's command set.\n2. In game, create the object and call the new command:\n\n**te**\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nExpected: 1000 lines should be displayed, each with 150 '#' characters.\nActual: The following error message is displayed:\n\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/evennia/commands/cmdhandler.py\", line 415, in _run_command\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     ret = yield cmd.func()\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/ganymede/commands/datapad_command.py\", line 100, in func\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     caller.msg(return_msg)\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/evennia/objects/objects.py\", line 454, in msg\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     sessions[0].msg(text=text, session=sessions, *_kwargs)\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/evennia/server/serversession.py\", line 242, in data_out\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     self.sessionhandler.data_out(session, text=text, *_kwargs)\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/evennia/server/sessionhandler.py\", line 482, in data_out\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     data=kwargs)\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/evennia/server/amp.py\", line 414, in call_remote_MsgServer2Portal\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.batch_send(MsgServer2Portal, sessid, msg=msg, data=data)\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/dmu/evennia/evennia/server/amp.py\", line 325, in batch_send\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::]     deferred.addErrback(self.errback, \"%s part %i/%i\" % (command.key, ipart, part))\n2015-05-24 03:37:51+0000 [AMPProtocol,0,127.0.0.1] [::] TypeError: %d format: a number is required, not str\nTraceback (most recent call last):\n  File \"/home/dmu/evennia/evennia/commands/cmdhandler.py\", line 415, in _run_command\n    ret = yield cmd.func()\n  File \"/home/dmu/evennia/ganymede/commands/datapad_command.py\", line 100, in func\n    caller.msg(return_msg)\n  File \"/home/dmu/evennia/evennia/objects/objects.py\", line 454, in msg\n    sessions[0].msg(text=text, session=sessions, *_kwargs)\n  File \"/home/dmu/evennia/evennia/server/serversession.py\", line 242, in data_out\n    self.sessionhandler.data_out(session, text=text, *_kwargs)\n  File \"/home/dmu/evennia/evennia/server/sessionhandler.py\", line 482, in data_out\n    data=kwargs)\n  File \"/home/dmu/evennia/evennia/server/amp.py\", line 414, in call_remote_MsgServer2Portal\n    return self.batch_send(MsgServer2Portal, sessid, msg=msg, data=data)\n  File \"/home/dmu/evennia/evennia/server/amp.py\", line 325, in batch_send\n    deferred.addErrback(self.errback, \"%s part %i/%i\" % (command.key, ipart, part))\nTypeError: %d format: a number is required, not str\n\nAbove traceback is from an untrapped error. Please file a bug report.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nBranch: master (commit: 16de3b0c1e0d4b237e47ca86af3fb5b804a6de3c)\nOS: Ubuntu 11.10\nDB:  Postgresql 9.1.9\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/750/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/750/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/745", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/745/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/745/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/745/events", "html_url": "https://github.com/evennia/evennia/issues/745", "id": 74713964, "node_id": "MDU6SXNzdWU3NDcxMzk2NA==", "number": 745, "title": "No obvious way to recache individual objects", "user": {"login": "kriegor", "id": 12238534, "node_id": "MDQ6VXNlcjEyMjM4NTM0", "avatar_url": "https://avatars.githubusercontent.com/u/12238534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kriegor", "html_url": "https://github.com/kriegor", "followers_url": "https://api.github.com/users/kriegor/followers", "following_url": "https://api.github.com/users/kriegor/following{/other_user}", "gists_url": "https://api.github.com/users/kriegor/gists{/gist_id}", "starred_url": "https://api.github.com/users/kriegor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kriegor/subscriptions", "organizations_url": "https://api.github.com/users/kriegor/orgs", "repos_url": "https://api.github.com/users/kriegor/repos", "events_url": "https://api.github.com/users/kriegor/events{/privacy}", "received_events_url": "https://api.github.com/users/kriegor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-09T17:01:46Z", "updated_at": "2015-05-14T16:01:00Z", "closed_at": "2015-05-14T16:01:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "There doesn't seem to be a way to recache objects without using `@reload` and stalling the entire MUD. This was previously fixed in https://groups.google.com/forum/#!topic/evennia-commits/rcUQkGO8ebw but seems to be un-fixed more recently.\n\nThe most immediate effect is that exits are very obnoxious to rename, as they have to be recached for the movement command to change, every time.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/745/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/744", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/744/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/744/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/744/events", "html_url": "https://github.com/evennia/evennia/issues/744", "id": 73559414, "node_id": "MDU6SXNzdWU3MzU1OTQxNA==", "number": 744, "title": "Bug: Tickerhandler sometimes not accepting custom call-hook", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-05-06T08:40:11Z", "updated_at": "2015-05-27T20:59:28Z", "closed_at": "2015-05-27T20:39:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Occasionally the TickerHandler will not properly accept a custom call hook as assigned by `TickerHandler.add()`  but instead still try to call `at_tick` (the default hook name). The result is that an `AttributeError` is raised because `at_tick` is not found. \n\nThis have been reported with the TutorialWorld (which uses several TickerHandler calls for its Weather system, bridge and mob) but seems to be a TickerHandler issue more than a tutorial one. \n\nI have seen this on the demo install and others have also seen it on their install. The problem so far is that I've not been able to reproduce it on my development machine at this time - the tutorial world runs without errors locally. More testing is needed. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/743", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/743/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/743/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/743/events", "html_url": "https://github.com/evennia/evennia/issues/743", "id": 68962657, "node_id": "MDU6SXNzdWU2ODk2MjY1Nw==", "number": 743, "title": "Bug: settings_default.py", "user": {"login": "luyijun", "id": 7847144, "node_id": "MDQ6VXNlcjc4NDcxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7847144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luyijun", "html_url": "https://github.com/luyijun", "followers_url": "https://api.github.com/users/luyijun/followers", "following_url": "https://api.github.com/users/luyijun/following{/other_user}", "gists_url": "https://api.github.com/users/luyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/luyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luyijun/subscriptions", "organizations_url": "https://api.github.com/users/luyijun/orgs", "repos_url": "https://api.github.com/users/luyijun/repos", "events_url": "https://api.github.com/users/luyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/luyijun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-16T16:38:43Z", "updated_at": "2015-04-17T09:38:27Z", "closed_at": "2015-04-17T09:38:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. Init a new game.\n2. Start it.\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\n`at_initial_setup()` of `gamefolder/server/conf/at_initial_setup.py` should be called but it's not.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nI think\n\n```\nAT_INITIAL_SETUP_HOOK_MODULE = \"server.conf.at_initial_setup_hook\"\n```\n\n(line 238 of settings_default.py) should be\n\n```\nAT_INITIAL_SETUP_HOOK_MODULE = \"server.conf.at_initial_setup\"\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/742", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/742/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/742/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/742/events", "html_url": "https://github.com/evennia/evennia/issues/742", "id": 68319640, "node_id": "MDU6SXNzdWU2ODMxOTY0MA==", "number": 742, "title": "Bug: @reset not reconnecting players to server", "user": {"login": "darbaga", "id": 7030705, "node_id": "MDQ6VXNlcjcwMzA3MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/7030705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darbaga", "html_url": "https://github.com/darbaga", "followers_url": "https://api.github.com/users/darbaga/followers", "following_url": "https://api.github.com/users/darbaga/following{/other_user}", "gists_url": "https://api.github.com/users/darbaga/gists{/gist_id}", "starred_url": "https://api.github.com/users/darbaga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darbaga/subscriptions", "organizations_url": "https://api.github.com/users/darbaga/orgs", "repos_url": "https://api.github.com/users/darbaga/repos", "events_url": "https://api.github.com/users/darbaga/events{/privacy}", "received_events_url": "https://api.github.com/users/darbaga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-14T09:43:41Z", "updated_at": "2015-05-14T18:19:58Z", "closed_at": "2015-05-14T18:19:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. On ubuntu 14.10, make an user called evennia.\n2. create a virtualenv, install evennia.\n3. create a game  instance in your home directory, and chmod 777 it recursively.\n4. run the instance, and try to @reset with another machine.\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nThere aren't any error messages, but I get \n2015-04-14 08:20:46+0000 [AMPProtocol,0,127.0.0.1] AMP Error for PortalAdmin: Connection to the other side was lost in a non-clean fashion: Connection lost.\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nI'm using ubuntu 14.10, python 2.7.8, and the main evennia repository.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/741", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/741/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/741/events", "html_url": "https://github.com/evennia/evennia/issues/741", "id": 67584771, "node_id": "MDU6SXNzdWU2NzU4NDc3MQ==", "number": 741, "title": "Extended Room: BUGS in @detail", "user": {"login": "tajmone", "id": 11064292, "node_id": "MDQ6VXNlcjExMDY0Mjky", "avatar_url": "https://avatars.githubusercontent.com/u/11064292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tajmone", "html_url": "https://github.com/tajmone", "followers_url": "https://api.github.com/users/tajmone/followers", "following_url": "https://api.github.com/users/tajmone/following{/other_user}", "gists_url": "https://api.github.com/users/tajmone/gists{/gist_id}", "starred_url": "https://api.github.com/users/tajmone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tajmone/subscriptions", "organizations_url": "https://api.github.com/users/tajmone/orgs", "repos_url": "https://api.github.com/users/tajmone/repos", "events_url": "https://api.github.com/users/tajmone/events{/privacy}", "received_events_url": "https://api.github.com/users/tajmone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-10T12:34:45Z", "updated_at": "2015-04-29T14:08:46Z", "closed_at": "2015-04-29T14:08:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've stumbled across some buggy features in the extended `@desc`'s `@detail` behavior.\nNamely: \n\nIf you invoke `@detail anonexistingdetail` it sets that detail to None and damages the `details` attribute, after which `@detail` raises, a traceback exception is raised with error:\n\n   `TypeError: object of type 'NoneType' has no len()`\n\n   because it invokes utils.crop() with a Null string, which in turn attempt `ltext = len(utext)`. \n\nAnd similarly, invoking `@detail anonexistingdetail` a second time raises error: \n\n   `TypeError: coercing to Unicode: need string or buffer, NoneType found`\n\nSince details are case-sensitive, invoking a non-existent detail this way can easily happen when intending to just view the string of a specific detail.\n\nBasically, once the damage is done the situation gets a bit untangled, and the only way out is to set the corrupt detail to a `\"\"` string, or reset `details` altogether to `{ }`. Code lacks sanity checks for details (if they exist and that they are not `NoneType`, ecc.)\n\nWhat happens in detail is that `@detail anonexistingdetail` if filtered through the various `if`s and gets interpreted as if it was `@detail anonexistingdetail =`\n\nThe culprit is this part of the code:\n\n``` python\n            # setting a detail\n            location.db.details[self.lhs] = self.rhs\n            caller.msg(\"Set Detail %s to '%s'.\" % (self.lhs, self.rhs))\n```\n\nI've fixed the error with:\n\n``` python\n            # setting a detail\n            if not self.rhs:\n                # avoid setting to None!\n                caller.msg(\"You must specify some text!\")\n                return\n            location.db.details[self.lhs] = self.rhs\n```\n\nThis solves the issue of creating bad detail entries, but doesn't really solve the logical problem on top of it---ie: doesnt distinguish between  `@detail anonexistingdetail` and  `@detail anonexistingdetail =`, where in the former the user is trying to view the detail string of a non-existing detail, weather in the latter he is trying to set a detail to empty string.\n\nPS: Didn't make a pull request for it because I've worked on my Italian version of extended room, not on the original contrib file.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/741/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/732", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/732/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/732/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/732/events", "html_url": "https://github.com/evennia/evennia/issues/732", "id": 65470054, "node_id": "MDU6SXNzdWU2NTQ3MDA1NA==", "number": 732, "title": "error at first migration with Oracle db settings", "user": {"login": "skyxx", "id": 11738407, "node_id": "MDQ6VXNlcjExNzM4NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/11738407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skyxx", "html_url": "https://github.com/skyxx", "followers_url": "https://api.github.com/users/skyxx/followers", "following_url": "https://api.github.com/users/skyxx/following{/other_user}", "gists_url": "https://api.github.com/users/skyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/skyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skyxx/subscriptions", "organizations_url": "https://api.github.com/users/skyxx/orgs", "repos_url": "https://api.github.com/users/skyxx/repos", "events_url": "https://api.github.com/users/skyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/skyxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-03-31T14:52:46Z", "updated_at": "2015-11-17T23:13:30Z", "closed_at": "2015-11-17T23:11:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\ni take an error when start firstime <code>evennia migrate</code> at Installing indexes ..\n(database structure is creating first time)\n\n<code>django.db.utils.DatabaseError: ORA-01408: such column list already indexed</code>\n\nI use Oracle database 12.1.0.2 .. It can occur when table was created (as here) with PK (primary key) which create index on that columns automaticaly. And after that we try create index on same colums separately.\nOnly these three tables was created: DJANGO_MIGRATIONS, TYPECLASSES_ATTRIBUTE, TYPECLASSES_TAG so problem is with one of them.\n\nIt is evennia issue or django ?\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/705", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/705/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/705/events", "html_url": "https://github.com/evennia/evennia/issues/705", "id": 61672592, "node_id": "MDU6SXNzdWU2MTY3MjU5Mg==", "number": 705, "title": "EvTable + MXP. Width problems.", "user": {"login": "volundmush", "id": 4450786, "node_id": "MDQ6VXNlcjQ0NTA3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/4450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volundmush", "html_url": "https://github.com/volundmush", "followers_url": "https://api.github.com/users/volundmush/followers", "following_url": "https://api.github.com/users/volundmush/following{/other_user}", "gists_url": "https://api.github.com/users/volundmush/gists{/gist_id}", "starred_url": "https://api.github.com/users/volundmush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volundmush/subscriptions", "organizations_url": "https://api.github.com/users/volundmush/orgs", "repos_url": "https://api.github.com/users/volundmush/repos", "events_url": "https://api.github.com/users/volundmush/events{/privacy}", "received_events_url": "https://api.github.com/users/volundmush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-03-14T18:28:52Z", "updated_at": "2015-05-14T22:34:53Z", "closed_at": "2015-05-14T22:34:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello!\n\nThe new advancements to MXP and EvTable have been a big help. But still one issue lingers.\nWhen using the fixed width columns and MXP, the width setting is not being done properly. Seen in this picture:\nhttp://puu.sh/gyQaL/acbf8e94e2.png\nBoth of these tables use the same width setting for the first column. you can see how that's turned out.\n\nThe difference is that the first uses MXP.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/700", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/700/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/700/events", "html_url": "https://github.com/evennia/evennia/issues/700", "id": 60613013, "node_id": "MDU6SXNzdWU2MDYxMzAxMw==", "number": 700, "title": "Bug: Add attribute with category", "user": {"login": "luyijun", "id": 7847144, "node_id": "MDQ6VXNlcjc4NDcxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7847144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luyijun", "html_url": "https://github.com/luyijun", "followers_url": "https://api.github.com/users/luyijun/followers", "following_url": "https://api.github.com/users/luyijun/following{/other_user}", "gists_url": "https://api.github.com/users/luyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/luyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luyijun/subscriptions", "organizations_url": "https://api.github.com/users/luyijun/orgs", "repos_url": "https://api.github.com/users/luyijun/repos", "events_url": "https://api.github.com/users/luyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/luyijun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-11T05:32:49Z", "updated_at": "2015-03-12T06:16:02Z", "closed_at": "2015-03-11T21:00:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I created a command which adds attribute to an object with category. In this command, I use this:\n\n```\nobj.attributes.add(\"test\", self.rhs, category=\"test\")\n```\n\nIt works on new created objects. But if I reloads the server and call this command on an object which has set attribute with category before, there is a traceback.\n\nThis is what I did:\n\n```\n@create/drop obj\n@setcate obj=attr\n@reload\n@setcate obj=attr\n```\n\nThis is the traceback:\n\n```\n.../commands/command.py\", line 157, in func\n     obj.attributes.add(\"test\", self.rhs, category=\"test\")\n.../evennia/typeclasses/attributes.py\", line 294, in add\n     self._recache()\n.../evennia/typeclasses/attributes.py\", line 204, in _recache\n     attr) for attr in attrs)\n.../evennia/typeclasses/attributes.py\", line 204, in <genexpr>\n     attr) for attr in attrs)\n AttributeError: 'NoneType' object has no attribute 'lower'\n```\n\nIf I remove `category=\"test\"`, there is no error.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/699", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/699/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/699/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/699/events", "html_url": "https://github.com/evennia/evennia/issues/699", "id": 60610921, "node_id": "MDU6SXNzdWU2MDYxMDkyMQ==", "number": 699, "title": "Bug: attribute searching", "user": {"login": "luyijun", "id": 7847144, "node_id": "MDQ6VXNlcjc4NDcxNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7847144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luyijun", "html_url": "https://github.com/luyijun", "followers_url": "https://api.github.com/users/luyijun/followers", "following_url": "https://api.github.com/users/luyijun/following{/other_user}", "gists_url": "https://api.github.com/users/luyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/luyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luyijun/subscriptions", "organizations_url": "https://api.github.com/users/luyijun/orgs", "repos_url": "https://api.github.com/users/luyijun/repos", "events_url": "https://api.github.com/users/luyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/luyijun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-11T05:02:55Z", "updated_at": "2015-03-12T16:20:22Z", "closed_at": "2015-03-11T21:00:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On `typeclasses/manager.py` line 51 `get_attribute` and line 77 `get_by_attribute`, the `strvalue` seems to be a string with `strvalue=None`, but on line 66 and 87:\n\n```\n        if strvalue:\n            query.append((\"attribute__db_strvalue\", value))\n```\n\nThe query searches for the `value`, and the `strvalue` works as a boolean value.\n\nAnd on `utils/search.py` line 194 to 210 , there are `strvalue=None` too.\n\nWhat should it be?\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/699/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/682", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/682/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/682/events", "html_url": "https://github.com/evennia/evennia/issues/682", "id": 59469257, "node_id": "MDU6SXNzdWU1OTQ2OTI1Nw==", "number": 682, "title": "Bug: TutorialWorld: conditional Exit locks not working", "user": {"login": "tajmone", "id": 11064292, "node_id": "MDQ6VXNlcjExMDY0Mjky", "avatar_url": "https://avatars.githubusercontent.com/u/11064292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tajmone", "html_url": "https://github.com/tajmone", "followers_url": "https://api.github.com/users/tajmone/followers", "following_url": "https://api.github.com/users/tajmone/following{/other_user}", "gists_url": "https://api.github.com/users/tajmone/gists{/gist_id}", "starred_url": "https://api.github.com/users/tajmone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tajmone/subscriptions", "organizations_url": "https://api.github.com/users/tajmone/orgs", "repos_url": "https://api.github.com/users/tajmone/repos", "events_url": "https://api.github.com/users/tajmone/events{/privacy}", "received_events_url": "https://api.github.com/users/tajmone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-03-02T11:27:55Z", "updated_at": "2015-03-02T20:36:04Z", "closed_at": "2015-03-02T20:36:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the latest release of Evennia (0.5.0) the Tutorial looks broken, I've replayed it (quelled!) and in the START room, when I climb the tree I get to reveal the _faint footpath_, but when back on ground it doesn't show up in exits, nor I can go north. In previous editions it worked, and it would allow access to the tavern with weapons, ecc. Maybe it has to do with changes introduced in folders structure or typeclasses renaming?\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/681", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/681/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/681/events", "html_url": "https://github.com/evennia/evennia/issues/681", "id": 59423340, "node_id": "MDU6SXNzdWU1OTQyMzM0MA==", "number": 681, "title": "Bug: Starting issue on Windows", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-01T23:24:53Z", "updated_at": "2015-03-02T19:06:45Z", "closed_at": "2015-03-02T19:06:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_(copied from mailing list [here](https://groups.google.com/forum/#!msg/evennia/qVGyQiCBJ6s/LbNcd0vDEMIJ))_\n\nSomething is not working out in Windows.\n\nI have the usual Python + Virtualenv which worked fine with previous version.\n\nInstallation all goes fine until I get to `evennia -i start`\n\nI get a quite long sequence of errors from evennia_runner.py, which culminate with a `WindowsError [2] impossible to find the file` (it's in italian, so I'm translating approximately). But the list also contains references to the normal python installation, so it seems that is not operating within the virtualenv as it should?\n\nThe bin/windows/evennia.bat doesn't come to aid either, it's something in the python evennia_runner file\n\nI'll try it all over again, but I did follow instructions to the letter. I even tried different locations for the `evennia --init mygame` comand (which works in any case).\n\nBelow I've pasted the error's report from CMD shell...\n\n``` bash\n(virtualEvennia) D:\\MOOs\\Evennia\\virtualEvennia\\evennia\\mygame>evennia -i start\n\n0 static files copied to 'D:\\MOOs\\Evennia\\virtualEvennia\\evennia\\mygame\\web\\static', 73 unmodified.\n\n(virtualEvennia) D:\\MOOs\\Evennia\\virtualEvennia\\evennia\\mygame>\nStarting Evennia Server (output to stdout).\n\n\nStarting Evennia Portal in Daemon mode (output to portal logfile).\nTraceback (most recent call last):\n  File \"d:\\moos\\evennia\\virtualevennia\\evennia\\evennia\\server\\evennia_runner.py\", line 331, in <module>\n    main()\n  File \"d:\\moos\\evennia\\virtualevennia\\evennia\\evennia\\server\\evennia_runner.py\", line 328, in main\n    start_services(server_argv, portal_argv)\n  File \"d:\\moos\\evennia\\virtualevennia\\evennia\\evennia\\server\\evennia_runner.py\", line 170, in start_services\n    PORTAL = Popen(portal_argv, env=getenv())\n  File \"C:\\Python27\\Lib\\subprocess.py\", line 710, in __init__\n    errread, errwrite)\n  File \"C:\\Python27\\Lib\\subprocess.py\", line 958, in _execute_child\n    startupinfo)\nWindowsError: [Error 2] Impossibile trovare il file specificato\n\n(virtualEvennia) D:\\MOOs\\Evennia\\virtualEvennia\\evennia\\mygame>\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/676", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/676/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/676/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/676/events", "html_url": "https://github.com/evennia/evennia/issues/676", "id": 59046743, "node_id": "MDU6SXNzdWU1OTA0Njc0Mw==", "number": 676, "title": "Bug: [Devel] Error in webclient", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-26T09:50:33Z", "updated_at": "2015-02-26T18:36:22Z", "closed_at": "2015-02-26T18:36:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. Start with a completely clean install - new clone, new virtualenv and new game folder\n2. Migrate and start the server (all default), connect with (websocket) webclient\n3. A \"CMD\" is printed, then the login screen. No further input from the user is accepted.\n\n![image](http://feb.imghost.us/Quqo.png)\n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nThere are no error messages and this seems to pop up with some irregularity. It's been reproduced but it doesn't seem to appear for everyone (it doesn't show on my normal devel setup - the completely clean install seems necessary. Telnet works normally. \n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nThe \"CMD\" starts all communications to the webclient and is used to determine the \"mode\" of data sent (generally, CMD or OOB). It was introduced as part of the OOB updates following the new typeclass system changes. It should always be stripped from the incoming data and never be a part of the output. That it also kills input suggests some sort of edge-case regression from refactoring. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/676/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/673", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/673/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/673/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/673/events", "html_url": "https://github.com/evennia/evennia/issues/673", "id": 58516729, "node_id": "MDU6SXNzdWU1ODUxNjcyOQ==", "number": 673, "title": "Bug: [Devel]: MULTISESSION_MODEs behaving strangely", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-22T20:20:16Z", "updated_at": "2015-02-28T10:28:18Z", "closed_at": "2015-02-28T10:28:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Steps to reproduce the issue:\n1. Start devel with MULTISESSION_MODE 1, 2 or 3\n2. Try various combinations of puppeting to the same Character from different login sessions\n3. The session \"view\" is not properly translated, with one of the sessions still receiving the data also after it has been de-puppeted. \n#### What I expect to see and what I actually see (tracebacks, error messages etc):\n\nThe MULTISESSION_MODEs should work as advertised\n#### Extra information, such as Evennia revision/repo/branch, operating system and ideas for how to solve:\n\nDevel branch. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/635", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/635/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/635/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/635/events", "html_url": "https://github.com/evennia/evennia/issues/635", "id": 53268449, "node_id": "MDU6SXNzdWU1MzI2ODQ0OQ==", "number": 635, "title": "Global scripts stop responding & can't be removed", "user": {"login": "Goldscuttle", "id": 10330373, "node_id": "MDQ6VXNlcjEwMzMwMzcz", "avatar_url": "https://avatars.githubusercontent.com/u/10330373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Goldscuttle", "html_url": "https://github.com/Goldscuttle", "followers_url": "https://api.github.com/users/Goldscuttle/followers", "following_url": "https://api.github.com/users/Goldscuttle/following{/other_user}", "gists_url": "https://api.github.com/users/Goldscuttle/gists{/gist_id}", "starred_url": "https://api.github.com/users/Goldscuttle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Goldscuttle/subscriptions", "organizations_url": "https://api.github.com/users/Goldscuttle/orgs", "repos_url": "https://api.github.com/users/Goldscuttle/repos", "events_url": "https://api.github.com/users/Goldscuttle/events{/privacy}", "received_events_url": "https://api.github.com/users/Goldscuttle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-01-02T18:26:30Z", "updated_at": "2015-03-06T19:56:38Z", "closed_at": "2015-03-06T19:56:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a global script for time of day functions. Even though it is flagged as persistent, it does not survive a server restart. It stays in the database, & shows up using @scripts, but cannot be resumed or started with @script command.\n\nI am using Windows 7 64-bit, Python 2.7.9rc1, Twisted 14.0.2, Django 1.7.1\n\n``` python\nfrom ev import Script\nECHOES = [\"dawn\",\n         \"morning\",\n         \"mid-morning\",\n         \"noon\",\n         \"afternoon\",\n         \"mid-afternoon\",\n         \"late afternoon\",\n         \"evening\",\n         \"dusk\",\n         \"sunset\",\n         \"night\",\n         \"midnight\"]  \nclass TimeTicker(Script):\n    \"\"\"\n    This implements a subscription model ticker \n    that drives global notifications\n    \"\"\"\n\n    def at_script_creation(self):\n        \"Called when script is created\"\n        self.key = \"time_ticker\"\n        self.interval = 60 # * 60 * 2 # every two hours        \n        self.persistent = True \n        # storage of subscriptions\n        self.db.subscriptions = []\n        self.db.timeindex = 0\n    def subscribe(self, obj):\n        \"add object to subscription\"\n        if obj not in self.db.subscriptions:\n            self.db.subscriptions.append(obj)\n    def unsubscribe(self, obj):\n        \"remove object from subscription\"\n        try:\n            del_ind = self.db.subscriptions.index(obj)\n            del self.db.subscriptions[del_ind]\n        except ValueError:\n            pass\n    def list_subscriptions(self):\n        \"echo all subscriptions\"\n        return self.db.subscriptions        \n    def at_repeat(self):\n        \"called every self.interval seconds\"\n        echo = ECHOES[self.db.timeindex]        \n        # msg_contents() is a standard method, so this\n        # ticker works with any object.\n        for obj in self.db.subscriptions:\n            #obj.msg(echo, self, **kwargs)\n            obj.msg_contents(echo)\n        # resetting/stepping the counter\n        if self.db.timeindex == len(ECHOES) - 1:\n            self.db.timeindex = 0\n        else:\n            self.db.timeindex += 1\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/632", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/632/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/632/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/632/events", "html_url": "https://github.com/evennia/evennia/issues/632", "id": 53006981, "node_id": "MDU6SXNzdWU1MzAwNjk4MQ==", "number": 632, "title": "IRC Bots and Color!", "user": {"login": "volundmush", "id": 4450786, "node_id": "MDQ6VXNlcjQ0NTA3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/4450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volundmush", "html_url": "https://github.com/volundmush", "followers_url": "https://api.github.com/users/volundmush/followers", "following_url": "https://api.github.com/users/volundmush/following{/other_user}", "gists_url": "https://api.github.com/users/volundmush/gists{/gist_id}", "starred_url": "https://api.github.com/users/volundmush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volundmush/subscriptions", "organizations_url": "https://api.github.com/users/volundmush/orgs", "repos_url": "https://api.github.com/users/volundmush/repos", "events_url": "https://api.github.com/users/volundmush/events{/privacy}", "received_events_url": "https://api.github.com/users/volundmush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-28T18:53:35Z", "updated_at": "2015-03-07T14:05:18Z", "closed_at": "2015-03-07T14:05:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As a disastrous attempt to use an IRC bot from my Evennia installation to the #evennia channel proved, the IRC bots don't presently deal well with color.\n\nSuggesting they either strip out color from text they hear or somehow convert it. Probably easier to do the former right now.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/625", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/625/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/625/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/625/events", "html_url": "https://github.com/evennia/evennia/issues/625", "id": 51603860, "node_id": "MDU6SXNzdWU1MTYwMzg2MA==", "number": 625, "title": "mxp_send in EvTable", "user": {"login": "volundmush", "id": 4450786, "node_id": "MDQ6VXNlcjQ0NTA3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/4450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volundmush", "html_url": "https://github.com/volundmush", "followers_url": "https://api.github.com/users/volundmush/followers", "following_url": "https://api.github.com/users/volundmush/following{/other_user}", "gists_url": "https://api.github.com/users/volundmush/gists{/gist_id}", "starred_url": "https://api.github.com/users/volundmush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volundmush/subscriptions", "organizations_url": "https://api.github.com/users/volundmush/orgs", "repos_url": "https://api.github.com/users/volundmush/repos", "events_url": "https://api.github.com/users/volundmush/events{/privacy}", "received_events_url": "https://api.github.com/users/volundmush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-10T20:01:31Z", "updated_at": "2015-03-13T19:05:27Z", "closed_at": "2015-03-13T19:04:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is NOT working.\n\n``` python\nbbtable.add_row(mxp_send(board.num,\"+bbread %s\" % board.num), acc, mxp_send(board,\"+bbread %s\" % board.num), board.last_post(), board.posts.all().count())\n\ndef mxp_send(text=\"\", command=\"\"):\n    if text:\n        return \"{lc%s{lt%s{le\" % (command, text)\n    else:\n        return \"{lc%s{lt%s{le\" % (command, command)\n```\n\nI have confirmed that the problem is EvTable. it's stripping out the MXP somewhere - it looks like it's involved with ANSIString but I'm not sure how exactly.\n\nIf the problem is 'splitting text across multiple lines' then I would easily accept having only the first line's text be clickable. every single wrapped character doesn't need it. The tables I use that implement this would generally not wrap anyways.\n\nOn that note, is there any chance of getting the MXP features for sending weblinks or SEND MENUS working?\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/619", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/619/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/619/events", "html_url": "https://github.com/evennia/evennia/issues/619", "id": 49780712, "node_id": "MDU6SXNzdWU0OTc4MDcxMg==", "number": 619, "title": "MySQL timeout Issue: 'mysql server has gone away'", "user": {"login": "Antrare", "id": 8153375, "node_id": "MDQ6VXNlcjgxNTMzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/8153375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Antrare", "html_url": "https://github.com/Antrare", "followers_url": "https://api.github.com/users/Antrare/followers", "following_url": "https://api.github.com/users/Antrare/following{/other_user}", "gists_url": "https://api.github.com/users/Antrare/gists{/gist_id}", "starred_url": "https://api.github.com/users/Antrare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Antrare/subscriptions", "organizations_url": "https://api.github.com/users/Antrare/orgs", "repos_url": "https://api.github.com/users/Antrare/repos", "events_url": "https://api.github.com/users/Antrare/events{/privacy}", "received_events_url": "https://api.github.com/users/Antrare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2014-11-22T09:41:12Z", "updated_at": "2015-03-06T20:21:21Z", "closed_at": "2015-03-06T20:21:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have to manually stop/start the Evennia server to get it back up and running.  As no action is required with MySQL leads me to believe the issue is not there.\n\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/root/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     yield cmd.obj.scripts.validate()\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/root/evennia/src/scripts/scripthandler.py\", line 125, in validate\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     ScriptDB.objects.validate(obj=self.obj, init_mode=init_mode)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/root/evennia/src/scripts/manager.py\", line 172, in validate\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     scripts = self.get_all_scripts_on_obj(obj, key=key)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/root/evennia/src/typeclasses/managers.py\", line 30, in func\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     for dbobj in make_iter(matches)]\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/models/query.py\", line 141, in **iter**\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     self._fetch_all()\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/models/query.py\", line 966, in _fetch_all\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     self._result_cache = list(self.iterator())\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/models/query.py\", line 265, in iterator\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     for row in compiler.results_iter():\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/models/sql/compiler.py\", line 700, in results_iter\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     for rows in self.execute_sql(MULTI):\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/models/sql/compiler.py\", line 786, in execute_sql\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     cursor.execute(sql, params)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/utils.py\", line 65, in execute\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.cursor.execute(sql, params)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/utils.py\", line 94, in __exit__\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     six.reraise(dj_exc_type, dj_exc_value, traceback)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/utils.py\", line 65, in execute\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.cursor.execute(sql, params)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/mysql/base.py\", line 128, in execute\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.cursor.execute(query, args)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/MySQLdb/cursors.py\", line 205, in execute\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     self.errorhandler(self, exc, value)\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/usr/local/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::]     raise errorclass, errorvalue\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [::] OperationalError: (2006, 'MySQL server has gone away')\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [EE] %s\n2014-11-20 13:56:57+0000 [AMPProtocol,0,127.0.0.1] [EE] Above traceback is from an untrapped error. Please file a bug report.\n2014-11-20 14:36:02+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/619/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/610", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/610/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/610/events", "html_url": "https://github.com/evennia/evennia/issues/610", "id": 47837149, "node_id": "MDU6SXNzdWU0NzgzNzE0OQ==", "number": 610, "title": "Tag case sensitivity surprises", "user": {"login": "Kelketek", "id": 1099483, "node_id": "MDQ6VXNlcjEwOTk0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1099483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kelketek", "html_url": "https://github.com/Kelketek", "followers_url": "https://api.github.com/users/Kelketek/followers", "following_url": "https://api.github.com/users/Kelketek/following{/other_user}", "gists_url": "https://api.github.com/users/Kelketek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kelketek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kelketek/subscriptions", "organizations_url": "https://api.github.com/users/Kelketek/orgs", "repos_url": "https://api.github.com/users/Kelketek/repos", "events_url": "https://api.github.com/users/Kelketek/events{/privacy}", "received_events_url": "https://api.github.com/users/Kelketek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-05T13:46:39Z", "updated_at": "2015-02-26T18:43:44Z", "closed_at": "2015-02-26T18:43:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Tag keys are set as lowercase by the tag handler, but the search functions do not lowercase them before searching, causing gotchas for developers.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/583", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/583/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/583/events", "html_url": "https://github.com/evennia/evennia/issues/583", "id": 43306438, "node_id": "MDU6SXNzdWU0MzMwNjQzOA==", "number": 583, "title": "Unwarranted unpuppet on first server reload", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-20T09:39:25Z", "updated_at": "2014-10-20T17:45:01Z", "closed_at": "2014-10-19T19:29:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "1. Start server in MULTISESSION_MODE 0 or 1\n2. Log in normally and make sure you puppet a Character\n3. `@reload` the server.\n4. You are now OOC. \n\nGoing IC and then reloading again will _not_ repeat this behavior - the \"force-unpuppeting\" only happens on the very first `@reload` after a server cold start.  \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/583/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/570", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/570/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/570/events", "html_url": "https://github.com/evennia/evennia/issues/570", "id": 42110459, "node_id": "MDU6SXNzdWU0MjExMDQ1OQ==", "number": 570, "title": "rmem calculation does not work under Windows", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-06T06:42:29Z", "updated_at": "2015-03-07T21:20:40Z", "closed_at": "2015-03-07T21:20:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `sys_cache_validate` script triggers `idmapper.base.conditional_flush` which in turn uses a memory-check recipe involving the `ps` command. This does not work on Windows. We need to figure out a way to get the info from Windows. One way might be to use ctypes, another to suggest Windows users install a third-party module like `psutils`. Either way we probably need a separate function to return this information in a platform-agnostic way.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/562", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/562/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/562/events", "html_url": "https://github.com/evennia/evennia/issues/562", "id": 41662775, "node_id": "MDU6SXNzdWU0MTY2Mjc3NQ==", "number": 562, "title": "Commands appear to lose reference to caller after finishing main functionality", "user": {"login": "Kelketek", "id": 1099483, "node_id": "MDQ6VXNlcjEwOTk0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1099483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kelketek", "html_url": "https://github.com/Kelketek", "followers_url": "https://api.github.com/users/Kelketek/followers", "following_url": "https://api.github.com/users/Kelketek/following{/other_user}", "gists_url": "https://api.github.com/users/Kelketek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kelketek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kelketek/subscriptions", "organizations_url": "https://api.github.com/users/Kelketek/orgs", "repos_url": "https://api.github.com/users/Kelketek/repos", "events_url": "https://api.github.com/users/Kelketek/events{/privacy}", "received_events_url": "https://api.github.com/users/Kelketek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-01T21:38:22Z", "updated_at": "2014-09-24T13:42:05Z", "closed_at": "2014-09-24T13:42:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In CmdEditor, when one contacts the callbacks defined in the `func()` function, they reference self.caller. The CmdEditor command appears to lose reference to self.caller once the command is finished, preventing the callbacks from working.\n\nTo reproduce:\n1. Create a new commandset with the editor and set it on a user\n2. Use the editor, filling in some data.\n3. Attempt to save.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/553", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/553/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/553/events", "html_url": "https://github.com/evennia/evennia/issues/553", "id": 40920681, "node_id": "MDU6SXNzdWU0MDkyMDY4MQ==", "number": 553, "title": "Web tutorial not matching behavior", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": {"login": "Kelketek", "id": 1099483, "node_id": "MDQ6VXNlcjEwOTk0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1099483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kelketek", "html_url": "https://github.com/Kelketek", "followers_url": "https://api.github.com/users/Kelketek/followers", "following_url": "https://api.github.com/users/Kelketek/following{/other_user}", "gists_url": "https://api.github.com/users/Kelketek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kelketek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kelketek/subscriptions", "organizations_url": "https://api.github.com/users/Kelketek/orgs", "repos_url": "https://api.github.com/users/Kelketek/repos", "events_url": "https://api.github.com/users/Kelketek/events{/privacy}", "received_events_url": "https://api.github.com/users/Kelketek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Kelketek", "id": 1099483, "node_id": "MDQ6VXNlcjEwOTk0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1099483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kelketek", "html_url": "https://github.com/Kelketek", "followers_url": "https://api.github.com/users/Kelketek/followers", "following_url": "https://api.github.com/users/Kelketek/following{/other_user}", "gists_url": "https://api.github.com/users/Kelketek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kelketek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kelketek/subscriptions", "organizations_url": "https://api.github.com/users/Kelketek/orgs", "repos_url": "https://api.github.com/users/Kelketek/repos", "events_url": "https://api.github.com/users/Kelketek/events{/privacy}", "received_events_url": "https://api.github.com/users/Kelketek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2014-08-22T15:42:57Z", "updated_at": "2014-09-28T21:00:09Z", "closed_at": "2014-09-28T21:00:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Just converted the demo to the latest version of Evennia, which meant updating it to the latest web changes. Besides a bug I found related to websockets and multiple interfaces (which I will fix) I found a problem when following the [Web tutorial](https://github.com/evennia/evennia/wiki/Web%20Tutorial). \n\nWhen updating the front page the tutorial talks about copying a new `index.html` file to `game/gamesrc/web/template_overrides/evennia_general/index.html`. This is incorrect, it seems the system is rather looking for   `game/gamesrc/web/templates/prosimii/evennia_general/index.html` (maybe the `templates` was not updated to `template_overrides` everywhere and didn't account for the `prosimii` folder). \n\nContrary to what the tutorial says it also seems like one must copy more than just the `index.html`template file into `game/gamesrc/web/templates/` to get it to work. I got reports of failed lookups of `base.html` before I copied the entire default template folder in there, which seems to not be a correct behavior.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/553/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/518", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/518/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/518/events", "html_url": "https://github.com/evennia/evennia/issues/518", "id": 36453408, "node_id": "MDU6SXNzdWUzNjQ1MzQwOA==", "number": 518, "title": "WHO command should only show player name", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-06-25T07:05:16Z", "updated_at": "2014-07-01T18:30:43Z", "closed_at": "2014-07-01T18:30:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As reported in chat, the **who** command shows the Player name only if the player is ooc, otherwise it shows the Character name. This is a bug, it should always only show the player account name. \n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/518/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/498", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/498/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/498/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/498/events", "html_url": "https://github.com/evennia/evennia/issues/498", "id": 30755318, "node_id": "MDU6SXNzdWUzMDc1NTMxOA==", "number": 498, "title": "Webclient window-close event not always caught", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-04-03T08:26:26Z", "updated_at": "2015-03-07T21:57:57Z", "closed_at": "2015-03-07T21:57:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When players (of some web browsers) close the Webclient window (rather than using `@quit`), the Character object sometimes linger behind in the room. \n\nThis is due to the disconnect hooks not being called properly -- that is the webclient don't always recognize the window close event as it should. This seems to be web browser dependent since the functionality is certainly implemented and worked on all browsers at one time. This is visible in the demo as well as elsewhere. \n\nIt seems the webclient javascript needs to be updated to handle more ways to catch the window close event for different browsers.\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/490", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/490/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/490/events", "html_url": "https://github.com/evennia/evennia/issues/490", "id": 27945378, "node_id": "MDU6SXNzdWUyNzk0NTM3OA==", "number": 490, "title": "@alias fails when clearing an alias", "user": {"login": "MrWigggles", "id": 6735304, "node_id": "MDQ6VXNlcjY3MzUzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6735304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrWigggles", "html_url": "https://github.com/MrWigggles", "followers_url": "https://api.github.com/users/MrWigggles/followers", "following_url": "https://api.github.com/users/MrWigggles/following{/other_user}", "gists_url": "https://api.github.com/users/MrWigggles/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrWigggles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrWigggles/subscriptions", "organizations_url": "https://api.github.com/users/MrWigggles/orgs", "repos_url": "https://api.github.com/users/MrWigggles/repos", "events_url": "https://api.github.com/users/MrWigggles/events{/privacy}", "received_events_url": "https://api.github.com/users/MrWigggles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-02-20T08:52:08Z", "updated_at": "2014-04-06T08:28:21Z", "closed_at": "2014-04-06T08:28:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to clear aliases from an exit.\n\nCleared aliases from Limbo: li, l, o, out\n\n``` python\nTraceback (most recent call last):\n  File \"/Users/macuser/Desktop/Evennia/virtualenv-1.11.2/mudenv/evennia/src/commands/cmdhandler.py\", line 397, in cmdhandler\n    ret = yield cmd.func()\n  File \"/Users/macuser/Desktop/Evennia/virtualenv-1.11.2/mudenv/evennia/src/commands/default/building.py\", line 144, in func\n    obj.dbobj.db_aliases.clear()\n  File \"/Users/macuser/Desktop/Evennia/virtualenv-1.11.2/mudenv/evennia/src/typeclasses/models.py\", line 735, in __getattribute__\n    return _GA(_GA(self, 'typeclass'), propname)\nAttributeError: 'Exit' object has no attribute 'db_aliases'\n\nAbove traceback is from an untrapped error. Please file a bug report.\n```\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/455", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/455/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/455/events", "html_url": "https://github.com/evennia/evennia/issues/455", "id": 26060117, "node_id": "MDU6SXNzdWUyNjA2MDExNw==", "number": 455, "title": "Prettytables' Formatting Broken in Web Client", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:59Z", "updated_at": "2014-02-11T23:59:43Z", "closed_at": "2014-02-11T23:59:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [kittytri...@gmail.com](https://code.google.com/u/102942202723319805633/) on January 20, 2014 16:51:02_\n\nA) What steps will reproduce the problem? 1. Use any command that calls prettytables, ie: @scripts 2. 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? The table should be nicely formatted, instead in the web client it does not insert whitespace in the columns, thus skewing the entire table to the left. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. As far as I know, it should be repeatable on any of the recent revisions as of 1/20/14, in the webclient. D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=455_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/454", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/454/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/454/events", "html_url": "https://github.com/evennia/evennia/issues/454", "id": 26060116, "node_id": "MDU6SXNzdWUyNjA2MDExNg==", "number": 454, "title": "Prevent location or destination=self", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-01-22T01:25:58Z", "updated_at": "2014-02-15T20:05:30Z", "closed_at": "2014-02-15T20:05:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on January 20, 2014 13:20:40_\n\nA) What steps will reproduce the problem? 1.Set location/destination to the same object holding the location/destination\n2.It works. B) What is the expected output? What do you see instead (tracebacks, error messages)? We should probably stop an infinite loop from forming by checking the location/destination for nesting before allowing it to be set. To prevent nested loops we need to check contents too (so an object cannot be inside an object that is already inside it). C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. There used to be a safety check for this, it got lost when the location method was moved into the metaclass (so this is strictly speaking a regression). Either we bring back the explicit location/destination get-setter methods or we somehow expand on the metaclass (which sounds wasteful).\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=454_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/452", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/452/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/452/events", "html_url": "https://github.com/evennia/evennia/issues/452", "id": 26060112, "node_id": "MDU6SXNzdWUyNjA2MDExMg==", "number": 452, "title": "Copying objects produces error", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:53Z", "updated_at": "2014-01-22T01:25:55Z", "closed_at": "2014-01-22T01:25:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [hannes.ryden@gmail.com](https://code.google.com/u/hannes.ryden@gmail.com/) on January 13, 2014 11:23:24_\n\nA) What steps will reproduce the problem? 1. @create/drop test\n2. @copy test B) What is the expected output? What do you see instead (tracebacks, error messages)? @copy test\nTraceback (most recent call last):\n  File \"C:\\Dokument\\Dropbox\\MUD\\evennia\\src\\commands\\cmdhandler.py\", line 394, in cmdhandler\n    ret = yield cmd.func()\n  File \"C:\\Dokument\\Dropbox\\MUD\\evennia\\src\\commands\\default\\building.py\", line 201, in func\n    new_aliases=to_obj_aliases)\n  File \"C:\\Dokument\\Dropbox\\MUD\\evennia\\src\\objects\\manager.py\", line 387, in copy_object\n    destination=new_destination)\n  File \"C:\\Dokument\\Dropbox\\MUD\\evennia\\src\\utils\\create.py\", line 138, in create_object\n    new_object.aliases.add(aliases)\n  File \"C:\\Dokument\\Dropbox\\MUD\\evennia\\src\\typeclasses\\models.py\", line 507, in add\n    tagstr = tagstr.strip().lower() if tagstr is not None else None\nAttributeError: 'AliasHandler' object has no attribute 'strip' C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Last version of Evennia as of this date, with most base objects extended through the settings file. Windows 8.1.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=452_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/451", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/451/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/451/events", "html_url": "https://github.com/evennia/evennia/issues/451", "id": 26060109, "node_id": "MDU6SXNzdWUyNjA2MDEwOQ==", "number": 451, "title": "xterm256 not working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:25:49Z", "updated_at": "2014-01-22T01:25:51Z", "closed_at": "2014-01-22T01:25:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on January 08, 2014 09:29:52_\n\nA) What steps will reproduce the problem? 1. Run @color xterm256\n2. The color replacement codes are shown, not the colors B) What is the expected output? What do you see instead (tracebacks, error messages)? The correct xterm256 colors should be shown. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This seems to be a regression.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=451_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/450", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/450/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/450/events", "html_url": "https://github.com/evennia/evennia/issues/450", "id": 26060106, "node_id": "MDU6SXNzdWUyNjA2MDEwNg==", "number": 450, "title": "@perm seems to be broken on a new install", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:25:46Z", "updated_at": "2014-01-22T01:25:48Z", "closed_at": "2014-01-22T01:25:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [devin.ch...@gmail.com](https://code.google.com/u/100283500224663347087/) on January 03, 2014 22:11:28_\n\nI created a new Evennia server on a debian linode, following the steps in the setup guide.\n\nWhen I try to add a permission to a user with @perm/add, it seems to be successfully applied, but the user does not have the available permissions.\n\n@perm/add glibsee = Builders\nPermission 'Builders' given to glibsee.\nPermissions on glibsee: players, wizards, builders, immortals\n\n<as glibsee>\n\n@create chair\nCommand '@create chair' is not available. Maybe you meant \"@charcreate\", \"@ccreate\" or \"hierarchy\"?\n\nSeems like it might be a case-sensitivity problem? E.g.,\n\n@perm/add glibsee = builders\nPermission 'builders' is already defined on glibsee.\n@perm/add glibsee = Builders\nPermission 'Builders' given to glibsee.\n@perm/add glibsee = Builders\nPermission 'Builders' given to glibsee.\n\nRunning Python 2.7 and the latest code from mercurial as of today.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=450_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/448", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/448/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/448/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/448/events", "html_url": "https://github.com/evennia/evennia/issues/448", "id": 26060097, "node_id": "MDU6SXNzdWUyNjA2MDA5Nw==", "number": 448, "title": "ObjectManager.get_objs_with_attr() throws error", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:25:38Z", "updated_at": "2014-01-22T01:25:40Z", "closed_at": "2014-01-22T01:25:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on December 19, 2013 06:48:33_\n\n@py ev.managers.objects.get_objs_with_attr('xyz')\n<<<   File \"/home/latitude/evennia/src/typeclasses/managers.py\", line 187, in func\n<<<     matches = make_iter(method(self, _args, *_kwargs))\n<<<   File \"/home/latitude/evennia/src/objects/manager.py\", line 102, in get_objs_with_attr\n<<<     return list(self.filter(cand_restriction & Q(objattribute__db_key=attribute_name)))\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/manager.py\", line 163, in filter\n<<<     return self.get_queryset().filter(_args, *_kwargs)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 590, in filter\n<<<     return self._filter_or_exclude(False, _args, *_kwargs)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 608, in _filter_or_exclude\n<<<     clone.query.add_q(Q(_args, *_kwargs))\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/query.py\", line 1198, in add_q\n<<<     clause = self._add_q(where_part, used_aliases)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/query.py\", line 1228, in _add_q\n<<<     current_negated)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/query.py\", line 1232, in _add_q\n<<<     current_negated=current_negated)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/query.py\", line 1100, in build_filter\n<<<     allow_explicit_fk=True)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/query.py\", line 1351, in setup_joins\n<<<     names, opts, allow_many, allow_explicit_fk)\n<<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/query.py\", line 1274, in names_to_path\n<<<     \"Choices are: &#37;s\" &#37; (name, \", \".join(available)))\n<<< FieldError: Cannot resolve keyword 'objattribute' into field. Choices are: db_attributes, db_cmdset_storage, db_date_created, db_destination, db_home, db_key, db_location, db_lock_storage, db_player, db_sessid, db_tags, db_\ntypeclass_path, destinations_set, hide_from_objects_set, homes_set, id, locations_set, receiver_object_set, scriptdb, sender_object_set\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=448_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/447", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/447/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/447/events", "html_url": "https://github.com/evennia/evennia/issues/447", "id": 26060096, "node_id": "MDU6SXNzdWUyNjA2MDA5Ng==", "number": 447, "title": "key_mergetypes problem on item cmdsets", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:36Z", "updated_at": "2014-02-16T00:51:31Z", "closed_at": "2014-02-16T00:51:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on December 19, 2013 06:32:54_\n\nI'm still having problems with the same sort of thing as Issue #391 Here's the steps to repeat it:\n## 1) Put this in game/gamesrc/testcmdset.py\n\nfrom ev import CmdSet\n\nclass TestCmdSet(CmdSet):\n    key = \"TestCmdSet\"\n    priority = 29\n    mergetype = \"Replace\"\n    key_mergetypes = {\n        'Player' : 'Union',\n    }\n    no_exits = True\n    no_objs = True\n    no_channels = False\n\n```\ndef at_cmdset_creation(self):\n    \"\"\"\n    Populates the cmdset\n    \"\"\"\n    pass\n```\n\n---\n\n2) Create TESTOBJ, set call:true, and put it next to your character\n3) @py ev.search_object('#5654')[0].cmdset.add('game.gamesrc.testcmdset.TestCmdSet')\n4) Now I can't use any commands, either from the Player cmdset or the Character cmdset. I expected Player commands to still be available.\n## 5) Change the contents of game/gamesrc/testcmdset.py and @reload\n\nfrom ev import CmdSet\n\nclass TestCmdSet(CmdSet):\n    key = \"TestCmdSet\"\n    priority = 29\n    mergetype = \"Replace\"\n    key_mergetypes = {\n        'Character' : 'Union',\n    }\n    no_exits = True\n    no_objs = True\n    no_channels = False\n\n```\ndef at_cmdset_creation(self):\n    \"\"\"\n    Populates the cmdset\n    \"\"\"\n    pass\n```\n\n---\n\n6) Now every command is back to being available. I can still use commands from my Character cmdset, and from my Player cmdset.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=447_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/447/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/446", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/446/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/446/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/446/events", "html_url": "https://github.com/evennia/evennia/issues/446", "id": 26060091, "node_id": "MDU6SXNzdWUyNjA2MDA5MQ==", "number": 446, "title": "Can't create objects without nohome=True", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:25:32Z", "updated_at": "2014-02-14T07:31:43Z", "closed_at": "2014-02-14T07:31:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on December 18, 2013 05:39:14_\n\nLooks like obj.home = \"#dbref\" doesn't work anymore, but create_object still tries to use that.\n\n---\n\n$ ./manage.py shell\nPython 2.7.5 (default, Dec 16 2013, 18:09:11)\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 1.0.0 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n&#37;quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: import ev\n## In [2]: ev.create_object(typeclass='game.gamesrc.latitude.objects.character.Character', key='Test')\n\nValueError                                Traceback (most recent call last)\n<ipython-input-2-d0c58eb84c2d> in <module>()\n----> 1 ev.create_object(typeclass='game.gamesrc.latitude.objects.character.Character', key='Test')\n\n/home/latitude/evennia/src/utils/create.pyc in create_object(typeclass, key, location, home, permissions, locks, aliases, destination, report_to, nohome)\n    142         new_object.home = home\n    143     else:\n--> 144         new_object.home = settings.CHARACTER_DEFAULT_HOME if not nohome else None\n    145\n    146     if location:\n\n/home/latitude/evennia/src/typeclasses/typeclass.pyc in **setattr**(self, propname, value)\n    136             log_trace(\"This is probably due to an unsafe reload.\")\n    137         if dbobj:\n--> 138             _SA(dbobj, propname, value)\n    139         else:\n    140             # only as a last resort do we save on the typeclass object\n\n/home/latitude/evennia/src/utils/idmapper/base.pyc in <lambda>(cls, val)\n    146             elif foreignkey:\n    147                 fget = lambda cls: _get_foreign(cls, fieldname)\n--> 148                 fset = lambda cls, val: _set_foreign(cls, fieldname, val)\n    149             else:\n    150                 fset = lambda cls, val: _set(cls, fieldname, val)\n\n/home/latitude/evennia/src/utils/idmapper/base.pyc in _set_foreign(cls, fname, value)\n    126                                 # maybe it is just a name that happens to look like a dbid\n    127                                 pass\n--> 128                 _SA(cls, fname, value)\n    129                 # only use explicit update_fields in save if we actually have a\n    130                 # primary key assigned already (won't be set when first creating object)\n\n/usr/lib64/python2.7/site-packages/django/db/models/fields/related.pyc in **set**(self, instance, value)\n    335             raise ValueError('Cannot assign \"&#37;r\": \"&#37;s.&#37;s\" must be a \"&#37;s\" instance.' &#37;\n    336                                 (value, instance._meta.object_name,\n--> 337                                  self.field.name, self.field.rel.to._meta.object_name))\n    338         elif value is not None:\n    339             if instance._state.db is None:\n\nValueError: Cannot assign \"'#110'\": \"ObjectDB.db_home\" must be a \"ObjectDB\" instance.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=446_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/445", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/445/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/445/events", "html_url": "https://github.com/evennia/evennia/issues/445", "id": 26060089, "node_id": "MDU6SXNzdWUyNjA2MDA4OQ==", "number": 445, "title": "Searching for an attribute containing an object variable fails", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:25:27Z", "updated_at": "2014-01-22T01:25:31Z", "closed_at": "2014-01-22T01:25:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on December 18, 2013 05:36:26_\n\nRepoening issue #363 Same problem, new traceback.\n\n$ ./manage.py shell\nPython 2.7.5 (default, Dec 16 2013, 18:09:11) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 1.0.0 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n&#37;quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: import ev\n## In [2]: ev.search_object(ev.search_object('#2'), attribute_name='destination')\n\nTypeError                                 Traceback (most recent call last)\n<ipython-input-2-eb92b921fc8e> in <module>()\n----> 1 ev.search_object(ev.search_object('#2'), attribute_name='destination')\n\n/home/latitude/evennia/src/typeclasses/managers.pyc in func(self, _args, *_kwargs)\n    185         \"decorator. Returns a list.\"\n    186         self.**doc** = method.**doc**\n--> 187         matches = make_iter(method(self, _args, *_kwargs))\n    188         return [(hasattr(dbobj, \"typeclass\") and dbobj.typeclass) or dbobj\n    189                                                for dbobj in make_iter(matches)]\n\n/home/latitude/evennia/src/objects/manager.pyc in object_search(self, searchdata, attribute_name, typeclass, candidates, exact)\n    316         # always run first check exact - we don't want partial matches\n    317         # if on the form of 1-keyword etc.\n--> 318         matches = _searcher(searchdata, candidates, typeclass, exact=True)\n    319         if not matches:\n    320             # no matches found - check if we are dealing with N-keyword\n\n/home/latitude/evennia/src/objects/manager.pyc in _searcher(searchdata, candidates, typeclass, exact)\n    274             if attribute_name:\n    275                 # attribute/property search (always exact).\n--> 276                 matches = self.get_objs_with_db_property_value(attribute_name, searchdata, candidates=candidates, typeclasses=typeclass)\n    277                 if matches:\n    278                     return matches\n\n/home/latitude/evennia/src/typeclasses/managers.pyc in func(self, _args, *_kwargs)\n    185         \"decorator. Returns a list.\"\n    186         self.**doc** = method.**doc**\n--> 187         matches = make_iter(method(self, _args, *_kwargs))\n    188         return [(hasattr(dbobj, \"typeclass\") and dbobj.typeclass) or dbobj\n    189                                                for dbobj in make_iter(matches)]\n\n/home/latitude/evennia/src/objects/manager.pyc in get_objs_with_db_property_value(self, property_name, property_value, candidates, typeclasses)\n    161         type_restriction = typeclasses and Q(db_typeclass_path__in=make_iter(typeclasses)) or Q()\n    162         try:\n--> 163             return list(self.filter(cand_restriction & type_restriction & Q(**querykwargs)))\n    164         except exceptions.FieldError:\n    165             return []\n\n/usr/lib64/python2.7/site-packages/django/db/models/manager.pyc in filter(self, _args, *_kwargs)\n    161 \n    162     def filter(self, _args, *_kwargs):\n--> 163         return self.get_queryset().filter(_args, *_kwargs)\n    164 \n    165     def aggregate(self, _args, *_kwargs):\n\n/usr/lib64/python2.7/site-packages/django/db/models/query.pyc in filter(self, _args, *_kwargs)\n    588         set.\n    589         \"\"\"\n--> 590         return self._filter_or_exclude(False, _args, *_kwargs)\n    591 \n    592     def exclude(self, _args, *_kwargs):\n\n/usr/lib64/python2.7/site-packages/django/db/models/query.pyc in _filter_or_exclude(self, negate, _args, *_kwargs)\n    606             clone.query.add_q(~Q(_args, *_kwargs))\n    607         else:\n--> 608             clone.query.add_q(Q(_args, *_kwargs))\n    609         return clone\n    610 \n\n/usr/lib64/python2.7/site-packages/django/db/models/sql/query.pyc in add_q(self, q_object)\n   1196                 q_object.clone(), q_object.negated)\n   1197         used_aliases = self.used_aliases\n-> 1198         clause = self._add_q(where_part, used_aliases)\n   1199         self.where.add(clause, AND)\n   1200         for hp in having_parts:\n\n/usr/lib64/python2.7/site-packages/django/db/models/sql/query.pyc in _add_q(self, q_object, used_aliases, branch_negated, current_negated)\n   1226                 child_clause = self._add_q(\n   1227                     child, used_aliases, branch_negated,\n-> 1228                     current_negated)\n   1229             else:\n   1230                 child_clause = self.build_filter(\n\n/usr/lib64/python2.7/site-packages/django/db/models/sql/query.pyc in _add_q(self, q_object, used_aliases, branch_negated, current_negated)\n   1230                 child_clause = self.build_filter(\n   1231                     child, can_reuse=used_aliases, branch_negated=branch_negated,\n-> 1232                     current_negated=current_negated)\n   1233             target_clause.add(child_clause, connector)\n   1234             if connector == OR:\n\n/usr/lib64/python2.7/site-packages/django/db/models/sql/query.pyc in build_filter(self, filter_expr, branch_negated, current_negated, can_reuse)\n   1120         if hasattr(field, 'get_lookup_constraint'):\n   1121             constraint = field.get_lookup_constraint(self.where_class, alias, targets, sources,\n-> 1122                                                      lookup_type, value)\n   1123         else:\n   1124             constraint = (Constraint(alias, targets[0].column, field), lookup_type, value)\n\n/usr/lib64/python2.7/site-packages/django/db/models/fields/related.pyc in get_lookup_constraint(self, constraint_class, alias, targets, sources, lookup_type, raw_value)\n   1103                 root_constraint.add(\n   1104                     (Constraint(alias, targets[index].column, sources[index]), lookup_type,\n-> 1105                      value[index]), AND)\n   1106         elif lookup_type in ['range', 'in'] and not is_multicolumn:\n   1107             values = [get_normalized_value(value) for value in raw_value]\n\n/usr/lib64/python2.7/site-packages/django/utils/tree.pyc in add(self, data, conn_type, squash)\n    102         if data in self.children:\n    103             return data\n--> 104         data = self._prepare_data(data)\n    105         if not squash:\n    106             self.children.append(data)\n\n/usr/lib64/python2.7/site-packages/django/db/models/sql/where.pyc in _prepare_data(self, data)\n     77 \n     78         if hasattr(obj, \"prepare\"):\n---> 79             value = obj.prepare(lookup_type, value)\n     80         return (obj, lookup_type, value_annotation, value)\n     81 \n\n/usr/lib64/python2.7/site-packages/django/db/models/sql/where.pyc in prepare(self, lookup_type, value)\n    350     def prepare(self, lookup_type, value):\n    351         if self.field:\n--> 352             return self.field.get_prep_lookup(lookup_type, value)\n ...\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=445_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/444", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/444/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/444/events", "html_url": "https://github.com/evennia/evennia/issues/444", "id": 26060086, "node_id": "MDU6SXNzdWUyNjA2MDA4Ng==", "number": 444, "title": "@delplayer fails", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:25:24Z", "updated_at": "2014-01-22T01:25:27Z", "closed_at": "2014-01-22T01:25:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fdino...@gmail.com](https://code.google.com/u/112131720383050389412/) on December 16, 2013 00:06:58_\n\nA) What steps will reproduce the problem? 1. Create a player at the connect screen.\n2. Log in with that player.\n3. Quit and connect again.\n4. Login with an Admin account.\n5. @delplayer the player account. B) What is the expected output? What do you see instead (tracebacks, error messages)? The player account should be deleted.  Instead, this happens:\n\nTraceback (most recent call last):\n  File \"/etc/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n    ret = yield cmd.func()\n  File \"/etc/evennia/src/commands/default/admin.py\", line 294, in func\n    players = caller.search_player(args, quiet=True)\n  File \"/etc/evennia/src/typeclasses/typeclass.py\", line 118, in **getattribute**\n    raise AttributeError(string &#37; (propname, dbobj, _GA(dbobj, \"dbid\"), _GA(dbobj, \"typeclass_path\")))\nAttributeError: Object: 'search_player' not found on Presston(player 1)(#1), nor on its typeclass game.gamesrc.objects.player.Player. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r9f2363aa72b7 on Ubuntu 12.04 LTS with Python 2.7.3 D) Please provide any additional information or suggestions below. TIME_ZONE = 'EST'\nCONNECTION_SCREEN_MODULE = \"game.gamesrc.conf.connection_screens\"\nBASE_CHARACTER_TYPECLASS = \"game.gamesrc.objects.character.Character\"\nBASE_ROOM_TYPECLASS = \"game.gamesrc.objects.room.Room\"\nBASE_EXIT_TYPECLASS = \"game.gamesrc.objects.exit.Exit\"\nBASE_PLAYER_TYPECLASS = \"game.gamesrc.objects.player.Player\"\n# CMDSET_UNLOGGEDIN = \"contrib.email-login.UnloggedinCmdSet\"\n\nCMDSET_CHARACTER = \"game.gamesrc.commands.cmdset.CharacterCmdSet\"\nCMDSET_PLAYER = \"game.gamesrc.commands.cmdset.PlayerCmdSet\"\n\nHopefully some of that can help. The UnloggedIn is commented out since contrib modules still need updating.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=444_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/443", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/443/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/443/events", "html_url": "https://github.com/evennia/evennia/issues/443", "id": 26060083, "node_id": "MDU6SXNzdWUyNjA2MDA4Mw==", "number": 443, "title": "searching will not find on alias", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:25:20Z", "updated_at": "2014-01-22T01:25:23Z", "closed_at": "2014-01-22T01:25:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [zchud...@gmail.com](https://code.google.com/u/106098509247765650673/) on December 15, 2013 00:47:46_\n\nA) What steps will reproduce the problem? 1. create an object\n2. alias that object\n3. try to get/drop/examine/whatever that object by alias B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected to be able to search on alias.  Does not find an object by alias. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Current revision.  Pull/Update on 12/14/2013 D) Please provide any additional information or suggestions below. From a completely fresh install:\n\n@create/drop thing\nYou create a new Object: thing.\nget thing\nYou pick up thing.\ndrop thing\nYou drop thing.\n@alias thing = stuff\nAlias(es) for 'thing' set to stuff.\nget stuff\nCould not find 'stuff'.\nget stuff\nCould not find 'stuff'.\n## ex thing\n\nName/key: thing (#3)\nAliases: stuff\nTypeclass: Object (src.objects.objects.Object)\nLocation: Limbo (#2)\nDestination: None\nPermissions: Default\nLocks:call:true(); control:id(1); delete:id(1) or perm(Wizards); edit:perm(Wizards);\n      examine:perm(Builders); get:all(); puppet:pid(#3) or perm(Immortals) or\n      pperm(Immortals); tell:perm(Wizards); view:all()\nPersistent attributes:\n##  desc = You see nothing special.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=443_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/442", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/442/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/442/events", "html_url": "https://github.com/evennia/evennia/issues/442", "id": 26060080, "node_id": "MDU6SXNzdWUyNjA2MDA4MA==", "number": 442, "title": "Mutl-word objects names doesn't work with drop", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:25:18Z", "updated_at": "2014-02-01T08:53:37Z", "closed_at": "2014-02-01T08:53:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on December 11, 2013 15:27:07_\n\nA) What steps will reproduce the problem? 1. @create/drop kitchen knife\n2. get knife\n3. drop knife\n\nThe drop command will report that no knife is available. B) What is the expected output? What do you see instead (tracebacks, error messages)? drop should correctly handle multi-word objects. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Drop splits up its use of self.caller.search into two steps in order to add a more relevant error message. Something seems to be going wrong there, since replacing the two steps with a single call (as in CmdGet) works as expected. \n\nReported on Mailing list by user Hannes Ryd\u00e9n, copying here.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=442_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/441", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/441/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/441/events", "html_url": "https://github.com/evennia/evennia/issues/441", "id": 26060077, "node_id": "MDU6SXNzdWUyNjA2MDA3Nw==", "number": 441, "title": "Untrapped error on character connect.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:15Z", "updated_at": "2014-01-22T01:25:18Z", "closed_at": "2014-01-22T01:25:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [zchud...@gmail.com](https://code.google.com/u/106098509247765650673/) on December 09, 2013 01:20:03_\n\nA) What steps will reproduce the problem? 1.  Log in and create a new account.\n2.  Try to connect to that account\n\nThe account is created and a character object made.  But the player is not able to use it.  Log output follows:\n\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     ret = yield cmd.func()\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/commands/default/player.py\", line 251, in func\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     if not new_character.access(player, \"puppet\"):\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/objects/objects.py\", line 433, in access\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     if self.dbobj.access(accessing_obj, access_type=access_type, default=default):\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/typeclasses/models.py\", line 1059, in access\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     return self.locks.check(accessing_obj, access_type=access_type, default=default)\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/locks/lockhandler.py\", line 388, in check\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     true_false = tuple(bool(tup[0](accessing_obj, self.obj, *tup[1], **tup[2])) for tup in func_tup)\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/locks/lockhandler.py\", line 388, in <genexpr>\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     true_false = tuple(bool(tup[0](accessing_obj, self.obj, *tup[1], **tup[2])) for tup in func_tup)\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/u/mud/evennia/src/locks/lockfuncs.py\", line 150, in perm\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::]     perms_object = [p.lower() for p in accessing_obj.permissions]\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [::] TypeError: 'PermissionHandler' object is not iterable\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [EE] &#37;s\n2013-12-09 00:14:30+0000 [AMPProtocol,0,127.0.0.1] [EE] Above traceback is from an untrapped error. Please file a bug report. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Current Version.  \nUbuntu Linux (Current version) D) Please provide any additional information or suggestions below. I tried to download a fresh copy of Evennia to see if something in my code was causing this problem.  However, the fresh install would not even start up the telnet port.  (No code changes on fresh, just syncdb and migrate)  Portal starts, but not telnet. Will log in separate issue.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=441_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/440", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/440/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/440/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/440/events", "html_url": "https://github.com/evennia/evennia/issues/440", "id": 26060074, "node_id": "MDU6SXNzdWUyNjA2MDA3NA==", "number": 440, "title": "Scripts attached to objects no longer survive server reload", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:25:13Z", "updated_at": "2014-02-14T00:49:08Z", "closed_at": "2014-02-14T00:49:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [zchud...@gmail.com](https://code.google.com/u/106098509247765650673/) on December 06, 2013 20:17:52_\n\nA) What steps will reproduce the problem? 1.  Make a script.\n2.  Attack to an object.\n3.  @reload\nAfter reload the script will show with None/whatever, inf repeats. B) What is the expected output? What do you see instead (tracebacks, error messages)? Before latest revision scripts would come back after reload with eg. 3/4, inf repeats.  Now after reload all scripts attached to objects do not restart afterwards and show with None/4, inf repeats. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Current revision, Ubuntu 13.10 D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=440_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/440/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/439", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/439/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/439/events", "html_url": "https://github.com/evennia/evennia/issues/439", "id": 26060071, "node_id": "MDU6SXNzdWUyNjA2MDA3MQ==", "number": 439, "title": "Creation/Connection Error with email module", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:11Z", "updated_at": "2014-04-06T10:44:22Z", "closed_at": "2014-04-06T10:44:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fdino...@gmail.com](https://code.google.com/u/112131720383050389412/) on December 05, 2013 20:07:56_\n1. Change unlogged in cmdset to contrib.email-login.UnloggedinCmdSet\n2. Reload Server\n3. Try to create or connect to a character\n\nExpected behavior is to create a character with the email address as a requirement. Tested with Beta- r229518102875\n\n``` python\nTraceback (most recent call last):\n  File \"/etc/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n    ret = yield cmd.func()\n  File \"/etc/evennia/contrib/email-login.py\", line 103, in func\n    if not player.user.check_password(password):\n  File \"/etc/evennia/src/typeclasses/typeclass.py\", line 118, in __getattribute__\n    raise AttributeError(string &#37; (propname, dbobj, _GA(dbobj, \"dbid\"), _GA(dbobj, \"typeclass_path\")))\nAttributeError: Object: 'user' not found on Presston(player 1)(#1), nor on its typeclass game.gamesrc.objects.player.Player.\n\nAbove traceback is from an untrapped error. Please file a bug report.\n```\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=439_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/438", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/438/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/438/events", "html_url": "https://github.com/evennia/evennia/issues/438", "id": 26060069, "node_id": "MDU6SXNzdWUyNjA2MDA2OQ==", "number": 438, "title": "Blocking Commands as described on the CommandDuration documentation page does not seem to work.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:09Z", "updated_at": "2014-02-15T22:35:27Z", "closed_at": "2014-02-15T22:35:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [zchud...@gmail.com](https://code.google.com/u/106098509247765650673/) on December 05, 2013 05:09:49_\n\nA) What steps will reproduce the problem? 1. Writing a command using techniques exactly from http://code.google.com/p/evennia/wiki/CommandDuration BLOCKING COMMANDS section B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected Behavior is to give a 'balance' effect for attacks.  Executing the same command, or any other command that checks self.caller.ndb.off_bal should not go ahead and execute the recover method, despite having a return well before func_parts is used.  (This will automatically restore the balance)\n\nActual behavior is it will block the very next command, but then that command falls through to the Recover Method and restores the balance C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Current (downloaded Nov 18th) D) Please provide any additional information or suggestions below. def func(self):\n        cmdstring = self.cmdstring\n        #Check Balance here\n        if self.caller.ndb.off_bal:\n            self.caller.msg(\"NO!\")\n            return\n\n```\n    if not self.args:\n        self.caller.msg(\"Who do you want to attack?\")\n        return\n```\n# check targets and set msg strings here... cut for brevity\n\n```\n    if target.db.health:\n        target.on_hit(self.caller,damage,\"blunt\")\n        self.func_parts = [self.recover]\n    else:\n        self.caller.msg(\"The target seems unaffected by your efforts!\")\n    self.caller.ndb.off_bal = True\n    return utils.delay(20)\n```\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=438_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/437", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/437/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/437/events", "html_url": "https://github.com/evennia/evennia/issues/437", "id": 26060067, "node_id": "MDU6SXNzdWUyNjA2MDA2Nw==", "number": 437, "title": "ons", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:25:06Z", "updated_at": "2014-01-22T01:25:08Z", "closed_at": "2014-01-22T01:25:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fdino...@gmail.com](https://code.google.com/u/112131720383050389412/) on December 04, 2013 01:25:58_\n\nA) What steps will reproduce the problem? 1. 2. 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=437_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/437/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/436", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/436/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/436/events", "html_url": "https://github.com/evennia/evennia/issues/436", "id": 26060061, "node_id": "MDU6SXNzdWUyNjA2MDA2MQ==", "number": 436, "title": "Decouple Evennia from Mercurial", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:25:03Z", "updated_at": "2014-01-22T01:25:06Z", "closed_at": "2014-01-22T01:25:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [adam.lw....@gmail.com](https://code.google.com/u/107757689056514629413/) on December 03, 2013 11:57:02_\n\nEvennia calls 'hg' commands in numerous places.\n\nThis causes a lot of problems with git repositories and hosting services like heroku.\nThe only work around I see is committing the .hg directory to a git repository, which is not feasible.\n\nEvennia shouldn't use mercurial for this information, but standard python methods such as **version**, etc.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=436_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/436/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/435", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/435/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/435/events", "html_url": "https://github.com/evennia/evennia/issues/435", "id": 26060060, "node_id": "MDU6SXNzdWUyNjA2MDA2MA==", "number": 435, "title": "Evennia is not working with Django 1.6", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:25:00Z", "updated_at": "2014-01-22T01:25:03Z", "closed_at": "2014-01-22T01:25:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on November 17, 2013 20:37:48_\n\nA) What steps will reproduce the problem? 1. install evennia with django 1.6\n2. watch the logfile portal.log\n3. browser the site and see the error message (exceptions.ImportError: No module named defaults) B) What is the expected output? What do you see instead (tracebacks, error messages)? {{{\n2013-11-17 17:59:58+0100 [-] WSGI application error\n    Traceback (most recent call last):\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/twisted/python/threadpool.py\", line 212, in _worker\n        o = self.q.get()\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/twisted/python/context.py\", line 118, in callWithContext\n        return self.currentContext().callWithContext(ctx, func, _args, *_kw)\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/twisted/python/context.py\", line 83, in callWithContext\n        self.contexts.pop()\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/twisted/web/wsgi.py\", line 340, in run\n        self.started = True\n    --- <exception caught here> ---\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/twisted/web/wsgi.py\", line 315, in run\n        appIterator = self.application(self.environ, self.startResponse)\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/core/handlers/wsgi.py\", line 206, in __call__\n        response = self.get_response(request)\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/core/handlers/base.py\", line 196, in get_response\n        response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/core/handlers/base.py\", line 234, in handle_uncaught_exception\n        if resolver.urlconf_module is None:\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/core/urlresolvers.py\", line 341, in urlconf_module\n        self._urlconf_module = import_module(self.urlconf_name)\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/utils/importlib.py\", line 40, in import_module\n        __import__(name)\n      File \"/home/lotekevennia/srv/evennia/src/web/urls.py\", line 34, in <module>\n        url(r'^', include('src.web.website.urls')),\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/conf/urls/**init**.py\", line 26, in include\n        urlconf_module = import_module(urlconf_module)\n      File \"/home/lotekevennia/srv/lib/python2.7/site-packages/django/utils/importlib.py\", line 40, in import_module\n        **import**(name)\n      File \"/home/lotekevennia/srv/evennia/src/web/website/urls.py\", line 6, in <module>\n        from django.conf.urls.defaults import *\n    exceptions.ImportError: No module named defaults\n\n}}}\n\nI think that a few Django versions back, the \"urls.defaults\" was deprecated... https://groups.google.com/forum/#!msg/django-users/fMeck5zJ_Ng/P_hP99szZxAJ C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. \\* python2.7.5\n- django 1.6\n- virtualenv D) Please provide any additional information or suggestions below. https://docs.djangoproject.com/en/1.6/topics/http/urls/ I chanched in the following files in src:\n- ./web/urls.py\n- ./web/news/urls.py\n- ./web/website/urls.py\n\nthe import from:\n{{{\nfrom django.conf.urls.defaults import *\n}}}\n\nto this\n{{{\nfrom django.conf.urls import patterns, url, include\n}}}\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=435_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/433", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/433/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/433/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/433/events", "html_url": "https://github.com/evennia/evennia/issues/433", "id": 26060058, "node_id": "MDU6SXNzdWUyNjA2MDA1OA==", "number": 433, "title": "Occational loss of Player/Character cmdsets at initial startup ", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:24:56Z", "updated_at": "2014-08-20T16:40:14Z", "closed_at": "2014-08-20T16:40:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on November 15, 2013 15:15:43_\n1. Do syncdb/migrate to build a new database (tested with sqlite3)\n2. Start server (in interactive mode is what I've tested, shouldn't matter), so far modification of settings.py does not seem to affect it. \n3. Log in as superuser. RARELY, you will log into the game and find you have no commands available because Player/Character cmdset have not been added correctly to the superuser Player/Character. \n   \n   The Player/Character cmdsets are added at initial_startup.py , by loading the superuser Player (`#1`) and attaching the default Player typeclass to it. It also always creates a Character of the same name. \n\nWhen this bug occurs, \n\n``` python\n    ev.search_player(\"MyName\").db_cmdset_storage.all() == []. \n    ev.search_object(\"MyName\").db_cmdset_storage.all() == []\n```\n\nThis seems to be randomly occurring and appears non-reproducable. Resetting the database, rerunning syncdb/migrate will (as far as I've seen) not reproduce the error. \n\nNew users have occasionally reported this error for a long time, but it has been impossible to verify it since every time it has been impossible for devs to reproduce, possibly suggesting they unknowingly setup something in a strange way. The answer, to simply clean out the database and restart, has always worked. \n\nI've now seen it appear twice on the dev-clone. From those other reports it's clear this was an issue also in the main repo.\n\nPossible reasons to exclude:\n- a syntax error in a cmdset (if so, tracebacks are swallowed)\n- some sort of timing-related error (database not ready at time of initialization?)\n- ?\n\nAnyone noticing this error, do reply to this issue with any details on how one might reproduce it.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=433_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/433/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/432", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/432/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/432/events", "html_url": "https://github.com/evennia/evennia/issues/432", "id": 26060054, "node_id": "MDU6SXNzdWUyNjA2MDA1NA==", "number": 432, "title": "Typo or miswording in red_button.py", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:24:53Z", "updated_at": "2014-01-22T01:24:56Z", "closed_at": "2014-01-22T01:24:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [oddsho...@gmail.com](https://code.google.com/u/109804988514214054161/) on November 06, 2013 19:07:07_\n\nA) What steps will reproduce the problem? 1. Open red_button.py\n2. Look at last sentence in first comment block\n\n\"Note that if you must drop the button before you can see its messages!\"\n\nI'd fix it myself but Google Code apparently doesn't have pull requests ( https://code.google.com/p/support/issues/detail?id=4753 ) and so eh, you can probably fix it quicker yourself.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=432_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/431", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/431/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/431/events", "html_url": "https://github.com/evennia/evennia/issues/431", "id": 26060051, "node_id": "MDU6SXNzdWUyNjA2MDA1MQ==", "number": 431, "title": "@create alias creation fails.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:50Z", "updated_at": "2014-01-22T01:24:52Z", "closed_at": "2014-01-22T01:24:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on November 06, 2013 18:05:06_\n\nA) What steps will reproduce the problem? 1. Follow building tutorial, do @create/drop box\n2. @name box = very large box;box;crate\n3. Get error of box, crate commands not found B) What is the expected output? What do you see instead (tracebacks, error messages)? This is a regression. Putting it up for future checking. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=431_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/430", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/430/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/430/events", "html_url": "https://github.com/evennia/evennia/issues/430", "id": 26060047, "node_id": "MDU6SXNzdWUyNjA2MDA0Nw==", "number": 430, "title": "@quell does not properly relay to Immortal", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:47Z", "updated_at": "2014-01-22T01:24:49Z", "closed_at": "2014-01-22T01:24:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on November 06, 2013 17:59:31_\n\nA) What steps will reproduce the problem? 1. Follow build tutorial, clean install\n2. @quell superuser\n3. Try to use examine, @create etc. B) What is the expected output? What do you see instead (tracebacks, error messages)? @quelling the superuser -should- make use of the Immortal-level permissions of the superuser's default character. It does not seem to do this. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Visible in main branch, this looks like a regression.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=430_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/429", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/429/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/429/events", "html_url": "https://github.com/evennia/evennia/issues/429", "id": 26060045, "node_id": "MDU6SXNzdWUyNjA2MDA0NQ==", "number": 429, "title": "Channels not working while @ooc in Dev Branch", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:24:44Z", "updated_at": "2014-01-22T01:24:46Z", "closed_at": "2014-01-22T01:24:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fub...@gmail.com](https://code.google.com/u/111491623175225112988/) on September 27, 2013 08:38:09_\n\nA) What steps will reproduce the problem? 1. be @ooc, not puppeting anything.\n2. Try to use the Public channel via OOC.\n3. Watch it explode. B) What is the expected output? What do you see instead (tracebacks, error messages)? Obviously this should use the Public channel. instead I get:\n\nTraceback (most recent call last):\n  File \"/home/andrew/evennia/src/commands/cmdhandler.py\", line 335, in cmdhandler\n    cmd.sessid = caller.sessid if callertype==\"session\" else None\n  File \"/home/andrew/evennia/src/typeclasses/typeclass.py\", line 114, in **getattribute**\n    raise AttributeError(string &#37; (propname, dbobj, _GA(dbobj, \"dbid\"), _GA(dbobj, \"typeclass_path\")))\nAttributeError: Object: 'sessid' not found on God(player 1)(#1), nor on its typeclass src.players.player.Player.\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Dev-Evennia. D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=429_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/429/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/427", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/427/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/427/events", "html_url": "https://github.com/evennia/evennia/issues/427", "id": 26060041, "node_id": "MDU6SXNzdWUyNjA2MDA0MQ==", "number": 427, "title": "@clist breaks if an addcom alias exists in database", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:39Z", "updated_at": "2014-01-22T01:24:41Z", "closed_at": "2014-01-22T01:24:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fub...@gmail.com](https://code.google.com/u/111491623175225112988/) on September 25, 2013 06:23:31_\n\nA) What steps will reproduce the problem? 1. Use addcom +p=Public\n2. @clist\n3. Watch it explode. B) What is the expected output? What do you see instead (tracebacks, error messages)? We SHOULD be getting a nice @clist display. Instead I'm getting:\n\nTraceback (most recent call last):\n  File \"/home/andrew/evennia/src/commands/cmdhandler.py\", line 283, in cmdhandler\n    ret = yield cmd.func()\n  File \"/home/andrew/evennia/src/commands/default/comms.py\", line 278, in func\n    \"&#37;s\".join(nick.db_nick for nick in nicks if nick.db_real.lower()==clower()),\n  File \"/home/andrew/evennia/src/commands/default/comms.py\", line 278, in <genexpr>\n    \"&#37;s\".join(nick.db_nick for nick in nicks if nick.db_real.lower()==clower()),\nNameError: free variable 'clower' referenced before assignment in enclosing scope\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Main branch! Ubuntu. D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=427_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/426", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/426/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/426/events", "html_url": "https://github.com/evennia/evennia/issues/426", "id": 26060039, "node_id": "MDU6SXNzdWUyNjA2MDAzOQ==", "number": 426, "title": "@clist breaks 78-80 character limit", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:37Z", "updated_at": "2014-04-20T21:47:16Z", "closed_at": "2014-04-20T21:47:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fub...@gmail.com](https://code.google.com/u/111491623175225112988/) on September 16, 2013 22:30:02_\n1. Type `@clist`\n2. Watch any client that uses standard lengths display it horribly. \n\nIdeally, I'd think `@clist` should be reigned in using the max_width trick in the other issue I submitted. :) \n\nWhat version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest, with Ubuntu 12.04 64-bit. no src changes. D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=426_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/425", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/425/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/425/events", "html_url": "https://github.com/evennia/evennia/issues/425", "id": 26060037, "node_id": "MDU6SXNzdWUyNjA2MDAzNw==", "number": 425, "title": "ANSI Prettytable max_width not working.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:24:34Z", "updated_at": "2014-03-09T19:55:51Z", "closed_at": "2014-03-09T19:55:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fub...@gmail.com](https://code.google.com/u/111491623175225112988/) on September 16, 2013 22:26:40_\n1. Create a prettytable using the ansi-converted one.\n2. Attempt to use table.max_width[\"fieldname\"] = int\n3. Watch it have no effect at all. \n\nTry attempting the same - without color - using the basic PrettyTables module and notice that it works.\n\nAfter extensive testing and use of print, I determined that the issue is the ANSI conversion being done on the field names. retrieving the exact converted string of ANSI code gobbledeygook and entering it DOES work however:\n\n``` python\n    latesttable.max_width['\\x1b[0m\\x1b[1m\\x1b[37mtypeclass\\x1b[0m'] = 32\n```\n\nAnd etc. This was tested on latest available, on Ubuntu 12.04 64-bit. No changes made to src so far. Suggested fix: have PrettyTable perform whatever conversion it's doing on fieldnames to max_width's names.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=425_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/424", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/424/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/424/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/424/events", "html_url": "https://github.com/evennia/evennia/issues/424", "id": 26060035, "node_id": "MDU6SXNzdWUyNjA2MDAzNQ==", "number": 424, "title": "Command 'tutoral' is not available after logging in as a user", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}, {"id": 76276142, "node_id": "MDU6TGFiZWw3NjI3NjE0Mg==", "url": "https://api.github.com/repos/evennia/evennia/labels/branch-develop", "name": "branch-develop", "color": "fbca04", "default": false, "description": "Will be solved on `develop` branch."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:31Z", "updated_at": "2014-01-22T01:24:33Z", "closed_at": "2014-01-22T01:24:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fieldin...@gmail.com](https://code.google.com/u/109692613033560463192/) on August 31, 2013 00:10:02_\n\nA) What steps will reproduce the problem? 1. @batchcommand contrib.tutorial_world.build\n2. create user user999\n3. connect user user999 B) What is the expected output? What do you see instead (tracebacks, error messages)? Limbo\n Welcome to the Evennia tutorial! \n\n The following tutorial consists of a small single-player quest area. The various rooms are designed to show off \n    some of the power and possibilities of the Evennia mud creation system. At any time during this tutorial you can \n    use the tutorial (or tut) command to get some background info about the room or certain objects to see what is \n    going on \"behind the scenes\". \n\n To get into the mood of this miniature quest, imagine you are an adventurer out to find fame and fortune. You have \n    heard rumours of an old castle ruin by the coast. In its depth a warrior princess was buried together with her \n    powerful magical weapon - a valuable prize, if it's true. Of course this is a chance to adventure that you \n    cannot turn down! \n You reach the coast in the midst of a raging thunderstorm. With wind and rain screaming in your face you stand \n    where the moor meet the sea along a high, rocky coast ... \n\n (write 'start' or 'begin' to start the tutorial)\n\nCommand 'tutorial' is not available. Type \"help\" for help.\nCommand 'start' is not available. Type \"help\" for help.\nCommand 'begin' is not available. Type \"help\" for help.\n\n---\n##    Command help entries\n\n  Channel Names:\npublic\n  Comms:\n@cboot, @ccreate, @cdesc, @cdestroy, @cemit, @channels, @cset, @cwho, addcom,\nallcom, delcom, page\n  General:\n@charcreate, @color, @encoding, @ic, @ooc, @password, @quell, @quit,\n@sessions, access, drop, get, give, help, inventory, look, nick, pose, say,\nwho\n  System:\n@about C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. ae09cbf876c7\n\n $ python -V\nPython 2.7.2\n\n $ pip freeze\nDjango==1.5.2\nPIL==1.1.7\nSouth==0.8.2\nTwisted==13.1.0\nmercurial==2.7\npy-rrdtool==0.2.1\nwsgiref==0.1.2\nzope.interface==4.0.5\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=424_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/424/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/423", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/423/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/423/events", "html_url": "https://github.com/evennia/evennia/issues/423", "id": 26060031, "node_id": "MDU6SXNzdWUyNjA2MDAzMQ==", "number": 423, "title": "new_object.aliases.add(aliases) AttributeError: 'list' object has no attribute 'add'", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:28Z", "updated_at": "2014-01-22T01:24:30Z", "closed_at": "2014-01-22T01:24:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fieldin...@gmail.com](https://code.google.com/u/109692613033560463192/) on August 30, 2013 07:06:26_\n\nA) What steps will reproduce the problem? 1. create new database; python manage sync and migrate\n2. @batchcommand contrib.tutorial_world.build\n3. tail logs B) What is the expected output? What do you see instead (tracebacks, error messages)? Complete tutorial_world builds in tf window, however error is seen in logs,\n\n2013-08-30 05:00:34+0000 [AMPProtocol,0,127.0.0.1] [..] Logged in: xxxx ('127.0.0.1', 61549) (1 session total)\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/.../griatch-evennia-dev/src/commands/cmdhandler.py\", line 283, in cmdhandler\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::]     ret = yield cmd.func()\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/.../griatch-evennia-dev/src/commands/default/building.py\", line 409, in func\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::]     home=caller, aliases=aliases, locks=lockstring, report_to=caller)\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/.../griatch-evennia-dev/src/utils/create.py\", line 132, in create_object\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::]     new_object.aliases.add(aliases)\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [::] AttributeError: 'list' object has no attribute 'add'\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [EE] &#37;s\n2013-08-30 05:00:42+0000 [AMPProtocol,0,127.0.0.1] [EE] Above traceback is from an untrapped error. Please file a bug report\n\nnew_object.aliases is a list, not a AliasHandler C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest: 54de449a72670d74ca301c652a1ff50bbc795660\nprev merge: 3cd50e11752f\n\nnew_object.aliases is a list, not a AliasHandler\n\nI added my own exception, which suggests new_object.aliases is a list not a AliasHandler ; something wrong with create object from the tutorial_world script definition at CrumblingWall ?\n\nException: XXX types aliases=<type 'list'> [u'wall', u'roots', u'wines', u'root'] nobj.aliases=<type 'list'> ['secret passage', 'passage', 'crack', 'opening', 'secret door'] new_object=CrumblingWall D) Please provide any additional information or suggestions below. $ python -V\nPython 2.7.2\n\n $ pip freeze\nDjango==1.5.2\nPIL==1.1.7\nSouth==0.8.2\nTwisted==13.1.0\nmercurial==2.7\npy-rrdtool==0.2.1\nwsgiref==0.1.2\nzope.interface==4.0.5\n\n$ sqlite3 --version\n3.7.15 2012-12-12 13:36:53 cd0b37c52658bfdf992b1e3dc467bae1835a94ae\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=423_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/421", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/421/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/421/events", "html_url": "https://github.com/evennia/evennia/issues/421", "id": 26060025, "node_id": "MDU6SXNzdWUyNjA2MDAyNQ==", "number": 421, "title": "repeats = 1 and start_delay = False causes problems", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:24:23Z", "updated_at": "2014-02-14T00:50:13Z", "closed_at": "2014-02-14T00:50:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on August 15, 2013 07:18:26_\n## Code:\n\nclass Test(Script):\n    \"\"\"\n    Base class for a character state which presents output slowly.\n\n```\nSimply derive a child class, and define output_text and next_script\n\"\"\"\noutput_text = []\nnext_script = None\n\ndef at_script_creation(self):\n    super(Test, self).at_script_creation()\n    self.key = \"test\"\n    self.interval = 3\n    self.repeats = 1\n    self.start_delay = False\n    self.persistent = False\n\ndef at_repeat(self):\n    self.obj.msg('Test repeat!')\n```\n\n---\n\nThen:\n@py me.scripts.add('<module>.Test')\n\nIf repeats = 1 during script creation, it will only fire once, as expected, but the script will not be automatically stopped at the end.  If the server restarts, it will fire again, unless it's manually stopped.\n\n@scripts output stays like this forever:\n\n+-----+-------------+-----------------------+--------+-------+------+----+------------------------+-----------------------------------------------------------------+\n|  id |         obj |                   key | intval |  next | rept | db |              typeclass |                                                            desc |\n+-----+-------------+-----------------------+--------+-------+------+----+------------------------+-----------------------------------------------------------------+\n| ...                                                                                                                                                               |\n| 111 | Golden Hawk |                  test |     3s |    -- |    1 |  - |                   Test |                                                                 |\n+-----+-------------+-----------------------+--------+-------+------+----+------------------------+-----------------------------------------------------------------+\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=421_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/421/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/419", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/419/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/419/events", "html_url": "https://github.com/evennia/evennia/issues/419", "id": 26060019, "node_id": "MDU6SXNzdWUyNjA2MDAxOQ==", "number": 419, "title": "menu_login.py: 'ServerSession' object has no attribute 'session_login'", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:24:18Z", "updated_at": "2014-02-02T19:09:23Z", "closed_at": "2014-02-02T19:09:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [n.haede...@gmail.com](https://code.google.com/u/103861483136839841286/) on August 07, 2013 09:59:04_\n\nA) What steps will reproduce the problem? 1. Add CMDSET_UNLOGGEDIN = \"contrib.menu_login.UnloggedInCmdSet\" to settings.py\n2  Restart Evennia Server\n3. Try to log in using the menu login script B) What is the expected output? What do you see instead (tracebacks, error messages)? Login fails with Python error message, expected behaviour: login works and drops player into OOC mode:\n\nWelcome evennia! Logging in ...\nTraceback (most recent call last):\n  File \"/home/evennia/evennia/src/commands/cmdhandler.py\", line 329, in cmdhandler\n    yield syscmd.func()\n  File \"/home/evennia/evennia/contrib/menu_login.py\", line 132, in func\n    self.caller.session_login(player)\nAttributeError: 'ServerSession' object has no attribute 'session_login' C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. I'm using Version: Beta- r233fafe2bc6c !\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=419_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/418", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/418/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/418/events", "html_url": "https://github.com/evennia/evennia/issues/418", "id": 26060018, "node_id": "MDU6SXNzdWUyNjA2MDAxOA==", "number": 418, "title": " MAX_NR_CHARACTERS, MULTISESSION_MODE stored in django config, not Evennia's", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:24:16Z", "updated_at": "2014-01-22T01:24:17Z", "closed_at": "2014-01-22T01:24:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 04:18:12_\n\nplayer.py seems to be looking for these two Evennia specific attributes in django.conf, which of course new users won't have because they download stock django.   (Line 20)\n\nPerhaps setup work could be reduced by putting default settings for these variables in Evennia code somewhere?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=418_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/417", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/417/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/417/events", "html_url": "https://github.com/evennia/evennia/issues/417", "id": 26060016, "node_id": "MDU6SXNzdWUyNjA2MDAxNg==", "number": 417, "title": "@dice not added to command set, WAI?", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:13Z", "updated_at": "2014-01-22T01:24:15Z", "closed_at": "2014-01-22T01:24:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 03:49:03_\n\nAll the code seems to be in dice.py to handle an @dice command, but it's not being added to the commands available in player.py general.py and so on.  Is this intended for now because of a problem with dice?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=417_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/416", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/416/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/416/events", "html_url": "https://github.com/evennia/evennia/issues/416", "id": 26060014, "node_id": "MDU6SXNzdWUyNjA2MDAxNA==", "number": 416, "title": "models.py has duplicate meta classes with identical signatures", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:24:10Z", "updated_at": "2014-01-22T01:24:12Z", "closed_at": "2014-01-22T01:24:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 03:05:08_\n\nThere's an error from this code, where a number of meta classes are all defined to pass name information to django.  \n\nAn example start of one:  class Meta:\n        \"Define Django meta options\"\n        verbose_name = \"Message\"\n\nI'd be surprised if django can tell the difference between them, since they all have the same signature.  (and thus justifiably throwing an error in my IDE)  Are you sure this is working as intended, and doesn't need to be split up into multiple files or use **metaclass** or mix-ins or perhaps something else to solve the problem of passing back multiple dissimilar meta classes to django?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=416_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/415", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/415/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/415/events", "html_url": "https://github.com/evennia/evennia/issues/415", "id": 26060012, "node_id": "MDU6SXNzdWUyNjA2MDAxMg==", "number": 415, "title": "chargen.py code error, called method doesn't appear to exist", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:24:07Z", "updated_at": "2014-01-22T01:24:10Z", "closed_at": "2014-01-22T01:24:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 02:43:42_\n\nline 157 of chargen.py\n\nold_char = managers.objects.get_objs_with_key_and_typeclass(charname, CHARACTER_TYPECLASS)\n\nAlso on like 87.\n\nmanagers does not have that method, but manager does.  Suspect typo.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=415_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/414", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/414/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/414/events", "html_url": "https://github.com/evennia/evennia/issues/414", "id": 26060008, "node_id": "MDU6SXNzdWUyNjA2MDAwOA==", "number": 414, "title": "chargen.py code calls OOCCmdSet, which doesn't appear to exist", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:24:04Z", "updated_at": "2014-01-22T01:24:07Z", "closed_at": "2014-01-22T01:24:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 02:39:28_\n\nLime 181 in chargen.py -\n\nclass OOCCmdSetCharGen(default_cmds.OOCCmdSet):\n\nThere isn't any OOCCmdSet in ev where default_cmds is.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=414_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/414/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/413", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/413/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/413/events", "html_url": "https://github.com/evennia/evennia/issues/413", "id": 26060004, "node_id": "MDU6SXNzdWUyNjA2MDAwNA==", "number": 413, "title": "ev tries to import itself", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:24:02Z", "updated_at": "2014-01-22T01:24:03Z", "closed_at": "2014-01-22T01:24:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 02:35:37_\n\nEclipse noticed this; starting on line 153 of ev.py\n\ndef help(header=False):\n    \"\"\"\n    Main Evennia API.\n       ev.help() views API contents\n       ev.help(True) or ev.README shows module instructions\n\n```\n   See www.evennia.com for the full documentation.\n\"\"\"\nif header:\n    return __doc__\nelse:\n    import ev\n    names = [var for var in ev.__dict__ if not var.startswith('_')]\n    return \", \".join(names)\n```\n\nev is trying to import itself, in other words.  WAI?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=413_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/412", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/412/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/412/events", "html_url": "https://github.com/evennia/evennia/issues/412", "id": 26060001, "node_id": "MDU6SXNzdWUyNjA2MDAwMQ==", "number": 412, "title": "@channels et al tracebacks from clower variable", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:23:59Z", "updated_at": "2014-01-22T01:24:01Z", "closed_at": "2014-01-22T01:24:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [DancesWi...@gmail.com](https://code.google.com/u/116307608887479883966/) on July 29, 2013 02:30:05_\n\nA) What steps will reproduce the problem? Type @channels or comlist as a command B) What is the expected output? What do you see instead (tracebacks, error messages)? Did not see channel info.  Instead saw the following tracebacks:\nTraceback (most recent call last):\n  File \"C:\\evennia\\src\\commands\\cmdhandler.py\", line 283, in cmdhandler\n    ret = yield cmd.func()\n  File \"C:\\evennia\\src\\commands\\default\\comms.py\", line 278, in func\n    \"&#37;s\".join(nick.db_nick for nick in nicks if nick.db_real.lower()==clower()),\n  File \"C:\\evennia\\src\\commands\\default\\comms.py\", line 278, in <genexpr>\n    \"&#37;s\".join(nick.db_nick for nick in nicks if nick.db_real.lower()==clower()),\nNameError: free variable 'clower' referenced before assignment in enclosing scope\n\nAbove traceback is from an untrapped error. Please file a bug report.\nTraceback (most recent call last):\n  File \"C:\\evennia\\src\\commands\\cmdhandler.py\", line 283, in cmdhandler\n    ret = yield cmd.func()\n  File \"C:\\evennia\\src\\commands\\default\\comms.py\", line 268, in func\n    \"&#37;s\".join(nick.db_nick for nick in nicks if nick.db_real.lower()==clower()),\n  File \"C:\\evennia\\src\\commands\\default\\comms.py\", line 268, in <genexpr>\n    \"&#37;s\".join(nick.db_nick for nick in nicks if nick.db_real.lower()==clower()),\nTypeError: 'unicode' object is not callable C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia Beta- r233fafe2bc6c Python 2.7.2\n Django 1.5.1\n Twisted 13.1.0\n South 0.8.1\n\nWindows 7\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=412_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/408", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/408/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/408/events", "html_url": "https://github.com/evennia/evennia/issues/408", "id": 26059989, "node_id": "MDU6SXNzdWUyNjA1OTk4OQ==", "number": 408, "title": "Calling commands as a player", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:23:49Z", "updated_at": "2014-01-22T01:23:52Z", "closed_at": "2014-01-22T01:23:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 24, 2013 09:19:14_\n\nA) What steps will reproduce the problem? @py me.execute_cmd('look', sessid=me.sessid)\n@py me.player.execute_cmd('look', sessid=me.sessid) B) What is the expected output? What do you see instead (tracebacks, error messages)? If you call player.execute_cmd(sessid=<session id that HAS a puppet>), it will call it as the player, and it won't match with character commands.\n\nThis behavior surprised me.  I expected that if I passed in a session ID for a session that has a puppet, that it would behave the same as if I called the command on the puppet object itself. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rb2102c213d29 D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=408_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/407", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/407/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/407/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/407/events", "html_url": "https://github.com/evennia/evennia/issues/407", "id": 26059986, "node_id": "MDU6SXNzdWUyNjA1OTk4Ng==", "number": 407, "title": "Async processes don't seem to work.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:23:46Z", "updated_at": "2014-01-22T01:23:48Z", "closed_at": "2014-01-22T01:23:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 22, 2013 19:09:23_\n\nA) What steps will reproduce the problem? @py output:\n\n> > > ev.utils.run_async(abs, -5)\n> > > <<<   File \"/home/latitude/evennia/src/utils/utils.py\", line 563, in run_async\n> > > <<<     callback = convert_return(kwargs.pop(\"at_return\", None))\n> > > <<< NameError: global name 'convert_return' is not defined B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rb2102c213d29 D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=407_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/407/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/404", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/404/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/404/events", "html_url": "https://github.com/evennia/evennia/issues/404", "id": 26059975, "node_id": "MDU6SXNzdWUyNjA1OTk3NQ==", "number": 404, "title": "Can't store Objects as dict keys", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:23:38Z", "updated_at": "2014-02-15T15:52:31Z", "closed_at": "2014-02-15T15:52:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 21, 2013 02:42:46_\n\nA) What steps will reproduce the problem? @py commands.\n\nHere's me using 'me' as a dict key:\n\n> > > x={me: 5}; me.msg(x)\n> > > {<game.gamesrc.latitude_private.objects.character.Character object at 0x3191cd0>: 5}\n> > > <<< Done.\n> > > x={me: 5}; me.msg(x[me])\n> > > 5\n> > > <<< Done.\n\nWorks fine.  Now, here's what happens when I try to store that in an attribute:\n\n> > > x={me: 5}; me.db.test=x\n> > > <<<   File \"/home/latitude/evennia/src/typeclasses/models.py\", line 1173, in **setattr**\n> > > <<<     _GA(self, 'obj').set_attribute(attrname, value)\n> > > <<<   File \"/home/latitude/evennia/src/typeclasses/models.py\", line 969, in set_attribute\n> > > <<<     attrib_obj.value = new_value\n> > > <<<   File \"/home/latitude/evennia/src/typeclasses/models.py\", line 212, in __value_set\n> > > <<<     self.save()\n> > > <<<   File \"/home/latitude/evennia/src/utils/idmapper/base.py\", line 169, in save\n> > > <<<     super(SharedMemoryModel, cls).save(_args, *_kwargs)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/base.py\", line 463, in save\n> > > <<<     self.save_base(using=using, force_insert=force_insert, force_update=force_update)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/base.py\", line 551, in save_base\n> > > <<<     result = manager._insert([self], fields=fields, return_id=update_pk, using=using, raw=raw)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/manager.py\", line 203, in _insert\n> > > <<<     return insert_query(self.model, objs, fields, **kwargs)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 1593, in insert_query\n> > > <<<     return query.get_compiler(using=using).execute_sql(return_id)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/compiler.py\", line 911, in execute_sql\n> > > <<<     for sql, params in self.as_sql():\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/compiler.py\", line 872, in as_sql\n> > > <<<     for obj in self.query.objs\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/fields/__init__.py\", line 292, in get_db_prep_save\n> > > <<<     prepared=False)\n> > > <<<   File \"/home/latitude/evennia/src/utils/picklefield.py\", line 205, in get_db_prep_value\n> > > <<<     value = force_text(dbsafe_encode(value, self.compress, self.protocol))\n> > > <<<   File \"/home/latitude/evennia/src/utils/picklefield.py\", line 95, in dbsafe_encode\n> > > <<<     value = dumps(deepcopy(value), protocol=pickle_protocol)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n> > > <<<     y = _reconstruct(x, rv, 1, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 334, in _reconstruct\n> > > <<<     state = deepcopy(state, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n> > > <<<     y = _reconstruct(x, rv, 1, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 334, in _reconstruct\n> > > <<<     state = deepcopy(state, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n> > > <<<     y = _reconstruct(x, rv, 1, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 334, in _reconstruct\n> > > <<<     state = deepcopy(state, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 189, in deepcopy\n> > > <<<     \"un(deep)copyable object of type &#37;s\" &#37; cls)\n> > > <<< Error: un(deep)copyable object of type <class 'src.typeclasses.models.DbHolder'>\n\nOops.  Works fine when used as a value instead of a key:\n\n> > > x={5: me}; me.db.test=x\n> > > <<< Done.\n\nIs this expected behavior?\n\nB) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rb2102c213d29 +\n\nC) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=404_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/402", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/402/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/402/events", "html_url": "https://github.com/evennia/evennia/issues/402", "id": 26059967, "node_id": "MDU6SXNzdWUyNjA1OTk2Nw==", "number": 402, "title": "self() lockfunc doesn't seem to be working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:23:30Z", "updated_at": "2014-01-22T01:23:33Z", "closed_at": "2014-01-22T01:23:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 16, 2013 08:08:19_\n\nA) What steps will reproduce the problem? @py command output:\n\n> > > me.locks.add('view_contents:self()')\n> > > <<< True\n> > > me.access('view_contents', me)\n> > > <<< False B) What is the expected output? What do you see instead (tracebacks, error messages)? This should return true. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r233fafe2bc6c + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=402_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/400", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/400/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/400/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/400/events", "html_url": "https://github.com/evennia/evennia/issues/400", "id": 26059960, "node_id": "MDU6SXNzdWUyNjA1OTk2MA==", "number": 400, "title": "Script/Reload invoking at_start hook?", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:23:23Z", "updated_at": "2014-01-22T01:23:26Z", "closed_at": "2014-01-22T01:23:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [dacatch...@gmail.com](https://code.google.com/u/100319622374694549718/) on July 14, 2013 08:55:29_\n\nA) What steps will reproduce the problem? 1. Make a script.  Attach it to an object.\n2. @reload\n3. at_start seems to be invoked at reload. B) What is the expected output? What do you see instead (tracebacks, error messages)? According to docs it should not call the hook. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r233fafe2bc6c ? Was from this week, anyhow. D) Please provide any additional information or suggestions below. Awhile back, I reported scripts acting oddly when you'd add them then restart the server ( issue 193 ?), you'd get something like \"none/20\" (for intervals).  Maybe I'm just amazing at breaking things, but I seem to get this pretty often still.  Like for example to circumvent the at_start hook being re-called I just tried making a self.bonus_granted boolean just to toggle if at_start ran already (I was giving character bonuses at_start, but I'll probably move it to script creation hook now...).  Doing so causes the script to hang indefinitely, and I really am not sure why.  I'm not getting any thrown errors or tracebacks.\n\nAlso, calling self.stop() or self.delete() within a script on itself to cause premature termination doesn't seem to work either.  I'm pretty sure doing obj.scripts.stop('script') fails as well.\n\nIn fact the only way I can smoothly get a script to be removed off a character is to let it expire via the interval/repeats system.  Any other attempt seems to fail, aside from forcing them off as the Superuser within the game instance.\n\nI'm new to Evennia so I could be off my rocker and doing everything wrongly, so feel free to criticize if I'm mistaken!\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=400_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/399", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/399/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/399/events", "html_url": "https://github.com/evennia/evennia/issues/399", "id": 26059957, "node_id": "MDU6SXNzdWUyNjA1OTk1Nw==", "number": 399, "title": "script.obj is a db object", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:23:20Z", "updated_at": "2014-04-09T13:34:05Z", "closed_at": "2014-01-22T01:23:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 12, 2013 02:52:35_\n\nA) What steps will reproduce the problem? @py command output:\n\n> > > type(ev.search_script('prompt_state')[0].obj)\n> > > <<< <class 'src.objects.models.ObjectDB'> B) What is the expected output? What do you see instead (tracebacks, error messages)? I would have expected it to be a typeclass object C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r233fafe2bc6c + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=399_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/397", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/397/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/397/events", "html_url": "https://github.com/evennia/evennia/issues/397", "id": 26059951, "node_id": "MDU6SXNzdWUyNjA1OTk1MQ==", "number": 397, "title": "Exit commands allow trailing characters", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:23:14Z", "updated_at": "2014-01-22T01:23:16Z", "closed_at": "2014-01-22T01:23:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 10, 2013 18:22:53_\n\nA) What steps will reproduce the problem? 1. Create an exit in the current room called 'east'\n2. Type 'east is a direction I must never go or I will die.'\n3. Die, because you go east. B) What is the expected output? What do you see instead (tracebacks, error messages)? I would expect exits to require an exact match, either for the name of the exit, or one of its aliases.  For example, this is especially confusing for the user if you have an exit called 'south' and you type 'southeast' and it takes you south. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r233fafe2bc6c + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=397_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/396", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/396/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/396/events", "html_url": "https://github.com/evennia/evennia/issues/396", "id": 26059946, "node_id": "MDU6SXNzdWUyNjA1OTk0Ng==", "number": 396, "title": "Aliases not saving empty list", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:23:10Z", "updated_at": "2014-01-22T01:23:13Z", "closed_at": "2014-01-22T01:23:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on July 10, 2013 17:34:32_\n\nA) What steps will reproduce the problem? Output of @py commands, with @reloads\n\n> > > me.aliases\n> > > <<< []\n> > >  Server restarting ...\n> > >  ... Server restarted.\n> > > me.aliases = ['Test']\n> > > <<< Done.\n> > > me.aliases\n> > > <<< ['Test']\n> > >  Server restarting ...\n> > >  ... Server restarted.\n> > > me.aliases\n> > > <<< [u'Test']\n> > > me.aliases = []\n> > > <<< Done.\n> > > me.aliases\n> > > <<< []\n> > >  Server restarting ...\n> > >  ... Server restarted.\n> > > me.aliases\n> > > <<< [u'Test']\n> > > me.aliases = [\"What the heck?  I can't get rid of any aliases!\"]\n> > > <<< Done.\n> > > me.aliases\n> > > <<< [\"What the heck?  I can't get rid of any aliases!\"]\n> > >  Server restarting ...\n> > >  ... Server restarted.\n> > > me.aliases\n> > > <<< [u\"What the heck?  I can't get rid of any aliases!\", u'Test'] B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect if I clear aliases that they remain clear across reloads. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r233fafe2bc6c + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=396_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/395", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/395/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/395/events", "html_url": "https://github.com/evennia/evennia/issues/395", "id": 26059945, "node_id": "MDU6SXNzdWUyNjA1OTk0NQ==", "number": 395, "title": "Scripts not starting on demo", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:23:09Z", "updated_at": "2014-02-15T20:58:47Z", "closed_at": "2014-02-15T20:58:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on July 03, 2013 12:25:57_\n\nA) What steps will reproduce the problem? The online demo's tutorial world's scripts are not running and do not want to be started with @script/start obj. They are listed as having intervals but no next/rept values. B) What is the expected output? What do you see instead (tracebacks, error messages)? Old scripts should continue to run as long as they are valid. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Adding the BodyFunctions example script to oneself works normally.\nUsing latest main branch tip.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=395_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/393", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/393/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/393/events", "html_url": "https://github.com/evennia/evennia/issues/393", "id": 26059942, "node_id": "MDU6SXNzdWUyNjA1OTk0Mg==", "number": 393, "title": "proofreading documentation for /src/objects/objects.py", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:23:04Z", "updated_at": "2014-01-22T01:23:06Z", "closed_at": "2014-01-22T01:23:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [arumme...@gmail.com](https://code.google.com/u/112947436405141740054/) on June 28, 2013 21:59:37_\n\nI thought some clarity in the documentation might make for quick and easy fixes.\n\nFirst:\nStarting with line 40\nThis is the root typeclass object representing all entities\n        that has and actual presence in-game. Objects generally has a\n        location, can be manipulated and looked at.\n\nShould read \"all entities that have an actual presence in-game.\"\n\nSecond:\nThe second part is debatable but I believe could read more clearly.\n\nFixes in order of descending preference:\n\"Objects generally can be manipulated and looked at, and have a location.\"\n\"Objects generally have a location, can be manipulated and can be looked at.\"\n\"An object generally has a location and can be manipulated and looked at.\"\n\nThird:\n\"Important subclasses of Object are that Evennia defines by default for you are Characters, Exits and Rooms.\"\nShould strike the \"are\" in that sentence to read:\n\"Important subclasses of Object that Evennia defines by default for you are Characters, Exits and Rooms.\"\n\nFourth:\nLine 57\n\"name (string)- same as key\"\nneeds a space after the parenthesis\n\"name (string) - same as key\"\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=393_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/391", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/391/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/391/events", "html_url": "https://github.com/evennia/evennia/issues/391", "id": 26059928, "node_id": "MDU6SXNzdWUyNjA1OTkyOA==", "number": 391, "title": "key_mergetypes problem on room cmdset", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:22:56Z", "updated_at": "2014-01-22T01:25:36Z", "closed_at": "2014-01-22T01:23:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on June 25, 2013 00:33:09_\n\nA) What steps will reproduce the problem? 1. Create a cmdset with \"key_mergetypes = { 'Player' : 'Union' }\" and \"mergetype = \"Replace'\"  (\\* My player cmdset has the key 'Player')\n2. Stick it on your character.  Player commands are still available.\n3. Stick it on the room you're in.  Player commands are not available. B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rcf9ea343e44e + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=391_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/389", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/389/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/389/events", "html_url": "https://github.com/evennia/evennia/issues/389", "id": 26059926, "node_id": "MDU6SXNzdWUyNjA1OTkyNg==", "number": 389, "title": "Problem with key_mergetype and player cmdsets", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:22:52Z", "updated_at": "2014-01-22T01:22:53Z", "closed_at": "2014-01-22T01:22:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on June 18, 2013 14:34:27_\n\nA) What steps will reproduce the problem? I made a cmdset with mergetype = \"Replace\" and key_mergetype = { 'Player' : 'Union' }, and added it to my character's cmdset, thinking that it would not override my player commands.  (btw: 'Player' is the key for my default player cmdset) B) What is the expected output? What do you see instead (tracebacks, error messages)? It overrode everything.  The player commands were not spared. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rcf9ea343e44e + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=389_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/388", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/388/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/388/events", "html_url": "https://github.com/evennia/evennia/issues/388", "id": 26059920, "node_id": "MDU6SXNzdWUyNjA1OTkyMA==", "number": 388, "title": "Problems with setting 'key' on a command object", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-22T01:22:47Z", "updated_at": "2014-01-22T01:22:51Z", "closed_at": "2014-01-22T01:22:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on June 17, 2013 01:49:40_\n\nA) What steps will reproduce the problem? 1. With the @py command:\n\n> > > x = ev.Command(); self.msg(x.key); x.key = 'abcxyz'; self.msg(x.key); self.msg(x == 'abcxyz'); self.msg(x == 'command')\n> > > command\n> > > abcxyz\n> > > False\n> > > True\n> > > <<< Done. B) What is the expected output? What do you see instead (tracebacks, error messages)? The <command> == <string> operation doesn't notice if you change the command's key.  I've noticed this causing some problems (For example making the command not work if I set it to a 'NOMATCH') C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rcf9ea343e44e + D) Please provide any additional information or suggestions below. The reason why I'm setting the key after the command is constructed: I'm using one command class to create many different commands.\n\nThe problem appears to be here:\nsrc/commands/command.py:32  <-- This _matchset value gets set, and it doesn't update if you change the command's key or alias values.\n\nYou could probably just do away with this value, and produce the sets as needed.  I can't imagine they're slowing things down very much.\n\nOr I imagine you could hook onto the key value being set, and update it then.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=388_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/388/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/386", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/386/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/386/events", "html_url": "https://github.com/evennia/evennia/issues/386", "id": 26059915, "node_id": "MDU6SXNzdWUyNjA1OTkxNQ==", "number": 386, "title": "Can't override system commands on character", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:22:40Z", "updated_at": "2014-01-22T01:22:42Z", "closed_at": "2014-01-22T01:22:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on June 11, 2013 02:53:03_\n\nA) What steps will reproduce the problem? 1. Put a NOMATCH command on your character\n2. Put a NOMATCH command on your player (With a lower priority cmdset)\n3. Try a non-matching command B) What is the expected output? What do you see instead (tracebacks, error messages)? I would expect the system commands to behave like other commands, and get overridden.  Apparently this isn't the case. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rcf9ea343e44e + D) Please provide any additional information or suggestions below. There is special logic going on at line 358, in file src/commands/cmdset.py  Perhaps that's what's causing what I'm seeing?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=386_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/385", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/385/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/385/events", "html_url": "https://github.com/evennia/evennia/issues/385", "id": 26059913, "node_id": "MDU6SXNzdWUyNjA1OTkxMw==", "number": 385, "title": "Script searching by object doesn't seem to work", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:22:36Z", "updated_at": "2014-01-22T01:22:39Z", "closed_at": "2014-01-22T01:22:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on June 08, 2013 21:39:22_\n\nA) What steps will reproduce the problem? @py commands:\n\n> > > ev.create_script(\"game.gamesrc.latitude.scripts.areainfo.AreaInfo\", key=\"findme\", obj=me)\n> > > <<< findme\n> > > ev.search_script('findme')\n> > > <<< [<game.gamesrc.latitude.scripts.areainfo.AreaInfo object at 0x5a87bd0>]\n> > > ev.search_script('findme', obj=me)\n> > > <<< [] B) What is the expected output? What do you see instead (tracebacks, error messages)? The docs say if I pass obj= it will 'limit search to scripts defined on this object', so I expected to see results from the third command above C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rcf9ea343e44e + D) Please provide any additional information or suggestions below. Here's what I want to do:  I want to make a 'AttributeModifier' script which attaches to characters when there's something modifying their stats (such as having a status condition, or wearing equipment).\n\nSo when I do character.get_stat('name'), that routine will search for every AttributeModifier (and child classes) attached to this object, and use it to find out how to modify the attribute before returning it.\n\nSadly, I think even if you fix the issue as I've described it above, it won't allow me to implement my feature.  I want to be able to simply grab every script associated with an object.\n\nI notice that the way scripts are associated with objects is by object ID.  This is good, it should make it fast to do this type of search.  (Unlike storing an object as an attribute, and searching for that, which requires returning everything that could possibly match, and then doing a complicated comparison on it one by one.)  This would be especially critical for my application, because there could be dozens of these per character, dozens of characters per user, and I'll probably have about 30-50 active users at launch.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=385_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/382", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/382/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/382/events", "html_url": "https://github.com/evennia/evennia/issues/382", "id": 26059900, "node_id": "MDU6SXNzdWUyNjA1OTkwMA==", "number": 382, "title": "Alias handling when overriding commands", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:22:28Z", "updated_at": "2014-01-22T01:22:29Z", "closed_at": "2014-01-22T01:22:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on June 02, 2013 17:14:44_\n\nA) What steps will reproduce the problem? 1. In the player cmdset, create a command with key='X' and alias = ['Y', 'Z']\n2. In the character cmdset, create a command with key='Y' and alias = [] B) What is the expected output? What do you see instead (tracebacks, error messages)? I would expect the 'X' and 'Z' commands to continue to work when I'm IC, but they don't.  It seems that when a higher priority command overrides a lower priority commands, it makes the non-conflicting aliases unavailable as well. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r2e349541d03a + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=382_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/377", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/377/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/377/events", "html_url": "https://github.com/evennia/evennia/issues/377", "id": 26059887, "node_id": "MDU6SXNzdWUyNjA1OTg4Nw==", "number": 377, "title": "sessid doesn't appear to be available to system commands", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:22:14Z", "updated_at": "2014-01-22T01:22:16Z", "closed_at": "2014-01-22T01:22:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 26, 2013 18:51:48_\n\nA) What steps will reproduce the problem? 1. Override CMD_NOMATCH\n2. In func(), examine self.sessid B) What is the expected output? What do you see instead (tracebacks, error messages)? It doesn't seem to be present. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r152b2f172abe + D) Please provide any additional information or suggestions below. Looks like it could be added around line 300 in src/commands/cmdhandler.py\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=377_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/376", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/376/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/376/events", "html_url": "https://github.com/evennia/evennia/issues/376", "id": 26059885, "node_id": "MDU6SXNzdWUyNjA1OTg4NQ==", "number": 376, "title": "Admin creates Ghost objects", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:22:12Z", "updated_at": "2014-01-22T01:22:14Z", "closed_at": "2014-01-22T01:22:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on May 24, 2013 21:08:40_\n\nA) What steps will reproduce the problem? 1. Connect to the game Admin site run under Evennia's in-build webserver\n2. Select \"Objects\" and then \"Add Object\" (or the + in the main menu)\n3. Create a new test object with default typeclass and a suitable location. Save.\n4. The object is created, but also a new, empty object without a name appears in the object list. This is a real object, found in the database. B) What is the expected output? What do you see instead (tracebacks, error messages)? No ghost objects should be created. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This is most likely an error somewhere in src/objects/admin.py. If adding an inline, such as the AliasInline, TWO ghosts are created.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=376_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/375", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/375/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/375/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/375/events", "html_url": "https://github.com/evennia/evennia/issues/375", "id": 26059883, "node_id": "MDU6SXNzdWUyNjA1OTg4Mw==", "number": 375, "title": "'who' broken in evennia-demo", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:22:09Z", "updated_at": "2014-01-22T01:22:11Z", "closed_at": "2014-01-22T01:22:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [qwertyi...@gmail.com](https://code.google.com/u/112242312257652072462/) on May 23, 2013 20:51:17_\n\nA) What steps will reproduce the problem? 1. Connect to Evennia demo and login\n2. Type 'who' B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/home/griatch/evennia/src/commands/cmdhandler.py\", line 272, in cmdhandler\n    ret = yield cmd.func()\n  File \"/home/griatch/evennia/src/commands/default/player.py\", line 381, in func\n    utils.time.format(delta_conn, 0),\nAttributeError: 'module' object has no attribute 'time'\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. evennia-demo Beta- r3e16023f1d81 D) Please provide any additional information or suggestions below. It's probably a 5-minute fix, but I'm putting it up here anyway :p\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=375_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/374", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/374/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/374/events", "html_url": "https://github.com/evennia/evennia/issues/374", "id": 26059882, "node_id": "MDU6SXNzdWUyNjA1OTg4Mg==", "number": 374, "title": "Error in exception handling when creating a new character", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:22:07Z", "updated_at": "2014-01-22T01:22:08Z", "closed_at": "2014-01-22T01:22:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 21, 2013 02:47:50_\n\nLine 528 in src/utils/create.py (del new_character)\n\nThis was probably supposed to be del new_player.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=374_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/373", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/373/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/373/events", "html_url": "https://github.com/evennia/evennia/issues/373", "id": 26059879, "node_id": "MDU6SXNzdWUyNjA1OTg3OQ==", "number": 373, "title": "Searching by attribute_name='key' doesn't seem to work", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:22:04Z", "updated_at": "2014-01-22T01:22:06Z", "closed_at": "2014-01-22T01:22:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 20, 2013 23:18:17_\n\nA) What steps will reproduce the problem? Here's an example of what I'm trying:\n\n> > > ev.search_object('Golden Hawk', attribute_name='key')\n> > > <<< []\n> > > ev.search_object('Golden Hawk')[0].key\n> > > <<< Golden Hawk B) What is the expected output? What do you see instead (tracebacks, error messages)? It gives me a blank list. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rdd3e90eae18f + D) Please provide any additional information or suggestions below. See Issue #372\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=373_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/371", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/371/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/371/events", "html_url": "https://github.com/evennia/evennia/issues/371", "id": 26059873, "node_id": "MDU6SXNzdWUyNjA1OTg3Mw==", "number": 371, "title": "msg_contents does not check for sessid", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:21:56Z", "updated_at": "2014-01-22T01:22:00Z", "closed_at": "2014-01-22T01:22:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 18, 2013 21:19:22_\n\nobj.msg_contents() iterates through all the contents of an object and sends a msg to them.  However, it sends the msg without an attached sessid.  Which means all your sessions get the messages, even if the object that's being messaged has a sessid attached.\n\nThis is almost always undesirable.  There's rarely any reason to send all sessions a msg just because one of their puppeted objects happens to be in a specific place.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=371_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/365", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/365/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/365/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/365/events", "html_url": "https://github.com/evennia/evennia/issues/365", "id": 26059847, "node_id": "MDU6SXNzdWUyNjA1OTg0Nw==", "number": 365, "title": "Problem with 'exact=True' in object_search", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:21:35Z", "updated_at": "2014-01-22T01:21:44Z", "closed_at": "2014-01-22T01:21:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 15, 2013 17:16:40_\n\nA) What steps will reproduce the problem? Output from commands with @py\n\n> > > from src.utils import search; me.msg(search.object_search('Mercury_White', exact=True))\n> > > [<game.gamesrc.latitude.objects.exit.LatitudeExit object at 0x33f4850>, <game.gamesrc.latitude.objects.character.LatitudeCharacter object at 0x3299550>]\n> > > <<< Done.\n> > > from src.utils import search; me.msg(search.object_search('Mercury_White', exact=True)[0])\n> > > [Mercury_White]'s Room\n> > > <<< Done.\n> > > from src.utils import search; me.msg(search.object_search('Mercury_White', exact=True)[1])\n> > > Mercury_White\n> > > <<< Done. B) What is the expected output? What do you see instead (tracebacks, error messages)? I expected that the name for all the objects will always be exactly what I searched for, but an object is coming back which has additional characters. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rddbbcf3fd8ff + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=365_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/363", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/363/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/363/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/363/events", "html_url": "https://github.com/evennia/evennia/issues/363", "id": 26059839, "node_id": "MDU6SXNzdWUyNjA1OTgzOQ==", "number": 363, "title": "Searching for an attribute containing an object variable fails", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:21:28Z", "updated_at": "2014-01-22T01:25:28Z", "closed_at": "2014-01-22T01:21:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 14, 2013 15:53:34_\n\nA) What steps will reproduce the problem? 1. @py ev.search_object(me, attribute_name='attribute_which_points_at_me') B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect to get back a list of objects which I, hypothetically, did something like this to:\n@py object.db.attribute_which_points_at_me = me\n## Instead it barfs spectacularly :p\n\n> > > ev.search_object(me, attribute_name='attribute_which_points_at_me')\n> > > <<<   File \"/home/latitude/evennia/src/typeclasses/managers.py\", line 86, in func\n> > > <<<     matches = method(self, _args, *_kwargs)\n> > > <<<   File \"/home/latitude/evennia/src/objects/manager.py\", line 289, in object_search\n> > > <<<     matches = _searcher(ostring, candidates, typeclass, exact=True)\n> > > <<<   File \"/home/latitude/evennia/src/objects/manager.py\", line 252, in _searcher\n> > > <<<     return self.get_objs_with_attr_value(attribute_name, ostring, candidates=candidates, typeclasses=typeclass)\n> > > <<<   File \"/home/latitude/evennia/src/typeclasses/managers.py\", line 87, in func\n> > > <<<     return [(hasattr(dbobj, \"typeclass\") and dbobj.typeclass) or dbobj for dbobj in make_iter(matches)]\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 118, in _result_iter\n> > > <<<     self._fill_cache()\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 892, in _fill_cache\n> > > <<<     self._result_cache.append(self._iter.next())\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 291, in iterator\n> > > <<<     for row in compiler.results_iter():\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/compiler.py\", line 763, in results_iter\n> > > <<<     for rows in self.execute_sql(MULTI):\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/compiler.py\", line 808, in execute_sql\n> > > <<<     sql, params = self.as_sql()\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/compiler.py\", line 82, in as_sql\n> > > <<<     where, w_params = self.query.where.as_sql(qn=qn, connection=self.connection)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/where.py\", line 91, in as_sql\n> > > <<<     sql, params = child.as_sql(qn=qn, connection=connection)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/where.py\", line 91, in as_sql\n> > > <<<     sql, params = child.as_sql(qn=qn, connection=connection)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/where.py\", line 94, in as_sql\n> > > <<<     sql, params = self.make_atom(child, qn, connection)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/where.py\", line 143, in make_atom\n> > > <<<     lvalue, params = lvalue.process(lookup_type, params_or_value, connection)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/sql/where.py\", line 333, in process\n> > > <<<     connection=connection, prepared=True)\n> > > <<<   File \"/home/latitude/evennia/src/utils/picklefield.py\", line 222, in get_db_prep_lookup\n> > > <<<     lookup_type, value, connection=connection, prepared=prepared)\n> > > <<<   File \"/usr/lib64/python2.7/site-packages/django/db/models/fields/__init__.py\", line 347, in get_db_prep_lookup\n> > > <<<     prepared=prepared)]\n> > > <<<   File \"/home/latitude/evennia/src/utils/picklefield.py\", line 205, in get_db_prep_value\n> > > <<<     value = force_text(dbsafe_encode(value, self.compress, self.protocol))\n> > > <<<   File \"/home/latitude/evennia/src/utils/picklefield.py\", line 95, in dbsafe_encode\n> > > <<<     value = dumps(deepcopy(value), protocol=pickle_protocol)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n> > > <<<     y = _reconstruct(x, rv, 1, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 334, in _reconstruct\n> > > <<<     state = deepcopy(state, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n> > > <<<     y = _reconstruct(x, rv, 1, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 334, in _reconstruct\n> > > <<<     state = deepcopy(state, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n> > > <<<     y = _reconstruct(x, rv, 1, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 334, in _reconstruct\n> > > <<<     state = deepcopy(state, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 163, in deepcopy\n> > > <<<     y = copier(x, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 257, in _deepcopy_dict\n> > > <<<     y[deepcopy(key, memo)] = deepcopy(value, memo)\n> > > <<<   File \"/usr/lib64/python2.7/copy.py\", line 189, in deepcopy\n> > > <<<     \"un(deep)copyable object of type &#37;s\" &#37; cls)\n> > > <<< Error: un(deep)copyable object of type <class 'src.typeclasses.models.DbHolder'>\n> > > ---- C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Most recent beta code D) Please provide any additional information or suggestions below. I use this for my 'follow' code.  Every time you traverse an exit, it searches for everyone who's following me.  I can tell they're following me because they have an attribute called 'follow_following' set to my character object.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=363_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/362", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/362/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/362/events", "html_url": "https://github.com/evennia/evennia/issues/362", "id": 26059836, "node_id": "MDU6SXNzdWUyNjA1OTgzNg==", "number": 362, "title": "Can't create a player/object and assign it to an attribute outside of evennia", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:21:23Z", "updated_at": "2014-01-22T01:21:27Z", "closed_at": "2014-01-22T01:21:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on May 14, 2013 15:27:24_\n\nA) What steps will reproduce the problem? $ ./manage.py shell\n\n> > > import ev  \n> > > player = ev.create_player('Testystuff', 'abc', 'xyz')\n> > > ev.search_player('#2')[0].db.testystuff = [player]\n> > > ev.search_player('#2')[0].db.testystuff\n> > >  [<game.gamesrc.latitude.objects.player.LatitudePlayer object at 0x2c79550>]\n> > > quit()\n\n$ ./manage.py shell\n\n> > > import ev\n> > > ev.search_player('#2')[0].db.testystuff\n> > >  [None] B) What is the expected output? What do you see instead (tracebacks, error messages)? It should be keeping that information, right?  I'm encountering this problem while running my 'create initial database' script.  The script has worked in the past. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest beta from mercurial D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=362_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/359", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/359/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/359/events", "html_url": "https://github.com/evennia/evennia/issues/359", "id": 26059823, "node_id": "MDU6SXNzdWUyNjA1OTgyMw==", "number": 359, "title": "ttype inconcistency", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:21:14Z", "updated_at": "2014-01-22T01:21:16Z", "closed_at": "2014-01-22T01:21:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on May 06, 2013 10:28:39_\n\nFrom chat (copied to be easy to find and remember): \n\nI think you have a bug in  src/server\n/ttype.py  \n03:13 < dingo> maybe not a bug, just a really weird way to work with bits  \n03:13 < dingo>                     status = option &#37; codenum < option  \n03:14 < dingo> yeah this won't work  \n03:14 < dingo> >>> option = 1 + 4 + 8  \n03:14 < dingo> that means 'ANSI', 'UTF-8' and '256 colors'  \n03:15 < dingo> 13 &#37; 2 < 2 = True  \n03:15 < dingo> but 2 is not one of the bitwise operators, that is, it does NOT support VT100 with option code of 13  \n03:17 < dingo> - status = option &#37; codenum < option  \n03:17 < dingo> + status = option & codenum  \n03:17 < dingo> should fix it  \n03:18 < dingo> maybe wrap option & codenum with bool()\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=359_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/358", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/358/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/358/events", "html_url": "https://github.com/evennia/evennia/issues/358", "id": 26059817, "node_id": "MDU6SXNzdWUyNjA1OTgxNw==", "number": 358, "title": "Errors when using @type from batchscript", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:21:11Z", "updated_at": "2014-01-22T01:21:13Z", "closed_at": "2014-01-22T01:21:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [da...@tpflug.com](https://code.google.com/u/115469633927129758534/) on April 20, 2013 20:55:59_\n\nA) What steps will reproduce the problem? Minimal steps from an empty server:\n\nbatchcommand script attached. Basically, create 2 rooms, give them descriptions, then change their types with the @type command. B) What is the expected output? What do you see instead (tracebacks, error messages)? rooma with type WeatherRoom and roomb with type TutorialRoom, with the rooms acting correctly.\n\nInstead, @desc (and possibly other commands) stop working from outside the room. On server restart, the descriptions are lost or swapped. Other attributes have been lost or switched, too. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest hg pull, revision 1406 :217d6d8cb9f5 on Gentoo stable, no extensions/customizations.\n\n**Attachment:** [room_type_confusion.ev](http://code.google.com/p/evennia/issues/detail?id=358)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=358_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/355", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/355/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/355/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/355/events", "html_url": "https://github.com/evennia/evennia/issues/355", "id": 26059813, "node_id": "MDU6SXNzdWUyNjA1OTgxMw==", "number": 355, "title": "Attributes don't correctly represent non-ascii", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:21:03Z", "updated_at": "2014-01-22T01:21:05Z", "closed_at": "2014-01-22T01:21:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on March 07, 2013 20:28:14_\n\nA) What steps will reproduce the problem? 1. @create/drop box\n2. @desc box = Schr\u00f6dinger's box\n3. look box B) What is the expected output? What do you see instead (tracebacks, error messages)? The non-ascii character (\u00f6 above) is not properly converted. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This is likely a regression in how the Attribute manager converts strings back and forth from pickled form.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=355_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/354", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/354/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/354/events", "html_url": "https://github.com/evennia/evennia/issues/354", "id": 26059812, "node_id": "MDU6SXNzdWUyNjA1OTgxMg==", "number": 354, "title": "Fix for contrib.talking_npc", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:21:01Z", "updated_at": "2014-01-22T01:21:03Z", "closed_at": "2014-01-22T01:21:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [metathin...@gmail.com](https://code.google.com/u/113528707470198802197/) on March 06, 2013 21:39:05_\n\nA) What steps will reproduce the problem? 1. Create an object with typeclass contrib.talking_npc.TalkingNPC B) What is the expected output? What do you see instead (tracebacks, error messages)? There is an importation error (trying to import game.gamesrc.objects.baseobjects, etc).\n\nC) What version/revision of Evennia are you using?\n#1400 D) Please provide any additional information or suggestions below. By using ev to import Object, CmdSet, and default_cmds.MuxCommand, i have successfully created the desired object with contrib.talking_npc.TalkingNPC typeclass.\n\n**Attachment:** [talking_npc.patch](http://code.google.com/p/evennia/issues/detail?id=354)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=354_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/347", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/347/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/347/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/347/events", "html_url": "https://github.com/evennia/evennia/issues/347", "id": 26059787, "node_id": "MDU6SXNzdWUyNjA1OTc4Nw==", "number": 347, "title": "Channel_id not-null constraint precludes creation of non-channel messages. Breaks Page.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:20:36Z", "updated_at": "2014-01-22T01:20:39Z", "closed_at": "2014-01-22T01:20:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on February 02, 2013 19:57:54_\n\nA) What steps will reproduce the problem? 1. Page another online player.\n2. Traceback of doom! 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect the page to go through. Instead, create_message chokes. This also breaks my mail program, which requires messages that aren't channel bound. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=347_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/347/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/344", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/344/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/344/events", "html_url": "https://github.com/evennia/evennia/issues/344", "id": 26059773, "node_id": "MDU6SXNzdWUyNjA1OTc3Mw==", "number": 344, "title": "@del with ranges does not work", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:20:23Z", "updated_at": "2014-01-22T01:20:26Z", "closed_at": "2014-01-22T01:20:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [puc...@gmail.com](https://code.google.com/u/104120820693886660796/) on January 19, 2013 15:38:26_\n\n@del 44-56\nCould not find '#44'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#45'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#46'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#47'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#48'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#49'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#50'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#51'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#52'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#53'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#54'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#55'.\n (Objects to destroy must either be local or specified with a unique dbref.)\nCould not find '#56'.\n (Objects to destroy must either be local or specified with a unique dbref.)\n\nDoes not work.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=344_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/341", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/341/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/341/events", "html_url": "https://github.com/evennia/evennia/issues/341", "id": 26059759, "node_id": "MDU6SXNzdWUyNjA1OTc1OQ==", "number": 341, "title": "Comms app creates chicken-and-egg problem for postgres", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:20:15Z", "updated_at": "2014-01-22T01:20:18Z", "closed_at": "2014-01-22T01:20:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on January 07, 2013 22:38:28_\n\nA) What steps will reproduce the problem? 1. Set up a PostgreSQL user and database.\n2. Clone Evennia and set it up to work with your PostgreSQL DB.\n3. ./manage syncdb B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect to see each table created. Instead, I see:\n\ndevelopment@naraka:~/evennia/game$ ./manage.py syncdb\nrelation \"comms_channel\" does not exist\nLINE 1: ...keep_log\", \"comms_channel\".\"db_lock_storage\" FROM \"comms_cha...\n                                                             ^\n\nSyncing...\nTraceback (most recent call last):\n  File \"./manage.py\", line 138, in <module>\n    execute_manager(settings)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/**init**.py\", line 459, in execute_manager\n    utility.execute()\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/**init**.py\", line 382, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 196, in run_from_argv\n    self.execute(_args, *_options.**dict**)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 371, in handle\n    return self.handle_noargs(**options)\n  File \"/usr/local/lib/python2.7/dist-packages/south/management/commands/syncdb.py\", line 90, in handle_noargs\n    syncdb.Command().execute(**options)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 371, in handle\n    return self.handle_noargs(**options)\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/commands/syncdb.py\", line 60, in handle_noargs\n    tables = connection.introspection.table_names()\n  File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/**init**.py\", line 910, in table_names\n    return self.get_table_list(cursor)\n  File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/postgresql_psycopg2/introspection.py\", line 33, in get_table_list\n    AND pg_catalog.pg_table_is_visible(c.oid)\"\"\")\n  File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/postgresql_psycopg2/base.py\", line 52, in execute\n    return self.cursor.execute(query, args)\ndjango.db.utils.DatabaseError: current transaction is aborted, commands ignored until end of transaction block C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Creating the table ahead of time allows you to run syncdb, but the fails on the migration because South expects to create the table. Removing the instructions to create the table from the migrations allows it to complete, however, adding more than one channel breaks things, as does adding a user to the one channel you can create.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=341_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/340", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/340/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/340/events", "html_url": "https://github.com/evennia/evennia/issues/340", "id": 26059757, "node_id": "MDU6SXNzdWUyNjA1OTc1Nw==", "number": 340, "title": "Builders cannot @puppet objects and characters", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:20:12Z", "updated_at": "2014-01-22T01:20:14Z", "closed_at": "2014-01-22T01:20:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Dillman....@gmail.com](https://code.google.com/u/102897042494562908072/) on January 07, 2013 18:18:19_\n\nA) Steps to reproduce the problem:\n\nusing super user:\n1.create/drop box\n2.@lock box = puppet:perm(Builders) or pperm(Builders)\n\nusing Builder or Wizard\n1.@puppet box\n2.result: \"You may not become box.\"\n\nwith super user:\n1.@lock box = puppet:perm(Players) or pperm(Players)\nwith Player, Builder or Wizard user\n2.result: \"You become box\"\n\nB) What is the expected output? \n\nExpectation is that Builders will be able to puppet objects and characters created in game. \n\nC) Version:\n\nUbuntu 12.04 using Evennia Beta- r3fcb875be920 D) Please provide any additional information or suggestions below. The problem was first noted while creating characters for users to puppet using the following technique:\n\n@create dummy : src.objects.objects.Character\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=340_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/339", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/339/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/339/events", "html_url": "https://github.com/evennia/evennia/issues/339", "id": 26059754, "node_id": "MDU6SXNzdWUyNjA1OTc1NA==", "number": 339, "title": "Memory resource starvation exploit in evlang", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:20:09Z", "updated_at": "2014-04-15T16:19:07Z", "closed_at": "2014-04-15T16:19:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Zeta142...@gmail.com](https://code.google.com/u/101155861198526695870/) on January 03, 2013 23:35:50_\n\nThis was tested using a clean, up to date, evennia on OS X and Ubuntu Linux.\n1. Enable contrib.evlang using the provided instructions in contrib/evlang\n2. Create a scriptable object, for example '@craftscriptable orb'\n3. @code orb/look=gaze = [1]; [gaze.append(x) for x in gaze]\n4. look orb\n5. You will see the message Evlang code 'gaze = [1]; [gaze.append(x) for x in gaze]' exceeded allowed execution time (>2s).\n6. Monitor disk space and top. Note the continual increase in memory consumption.\n\nKilling the python process with a standard kill doesn't seem to change this behavior. Nor does @reload or trying to shut down with python evennia.py. This is probably related to the difficulty in killing threads in twistd. I've tested this behavior with and without ProcPool enabled (although not rigorously) without seeing a real difference in behavior.\n\nA kill -9 works. Otherwise the process will continue to consume all memory, eventually crashing my box in some cases.\n\n When the script is killed for violating execution time, it should not continue to run. This was tested using a clean, up to date, evennia on OS X and Ubuntu Linux. D) Please provide any additional information or suggestions below. This behavior derives from a tricky way to make an infinite loop. Much as it's regrettable, this could probably be avoided by adding 'ListComp', 'ListCompFor', 'ListCompIf' to the list of illegal AST nodes, thus removing the ability to use list comprehensions in evlang.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=339_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/338", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/338/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/338/events", "html_url": "https://github.com/evennia/evennia/issues/338", "id": 26059747, "node_id": "MDU6SXNzdWUyNjA1OTc0Nw==", "number": 338, "title": "UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2014-01-22T01:20:00Z", "updated_at": "2014-02-15T14:56:16Z", "closed_at": "2014-02-15T14:56:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jrc.c...@gmail.com](https://code.google.com/u/102038290275612893958/) on December 17, 2012 01:24:30_\n\nA) What steps will reproduce the problem? 1.  Installed as per website instructions on a Toshiba Satellite Laptop running \"CrunchBang\" (debian flavor).\n2.  After initial setup, simply logging into the server (either local or remote) produces this error on both the SERVER side and CLIENT side.\n3.  Using MM2k and Windows telnet.  ALSO, tried to connect as client from Win7 box and Win8 box, both are connecting behind my router.\n\nB) I've run this same build in a virtual environment, and it ran fine.  As soon as I put this on the Debian build on a separate physical box, I am getting this error.  \n\nC) Running both win7 and win8.  Evennia version number (Beta- rb4a2ab1a4274 +).  Host/server box is running Debian (CrunchBang), python 2.6.6.  This ONLY occurs on login (handshake).  Repeat \"looks\" to refresh the entry portal do nothing to provoke this error.  Different PC's, different mud clients/comm terminals create the issue.  No errors were detected during the install - I've even completely removed django, twisted, and evennia several times, restarted it.  I also pulled evennia down using the \"hg ...\" tutorial on the evennia website.   \n\nD) The full traceback\n\nCLIENT SIDE:\n# Connected...\n\n Welcome to Evennia, version Beta- rb4a2ab1a4274 +!\n\n If you have an existing account, connect to it by typing:\n      connect <username> <password>\n If you need to create an account, type (without the <>'s):\n      create <username> <password>\n\n If you have spaces in your username, enclose it in quotes.\n#  Enter help for more info. look will re-show this screen.\n\nTraceback (most recent call last):\n  File \"/home/lodarkness/games/evennia/src/commands/cmdhandler.py\", line 228, in cmdhandler\n    sysarg = _(\"Command '&#37;s' is not available.\") &#37; raw_string\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n\nAbove traceback is from an untrapped error. Please file a bug report.\nTraceback (most recent call last):\n  File \"/home/lodarkness/games/evennia/src/commands/cmdhandler.py\", line 228, in cmdhandler\n    sysarg = _(\"Command '&#37;s' is not available.\") &#37; raw_string\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n\nAbove traceback is from an untrapped error. Please file a bug report.\n\nSERVER SIDE:\n\n2012-12-17 00:21:51+0000 [-] Log opened.\n2012-12-17 00:21:51+0000 [-] twistd 10.1.0 (/usr/bin/python 2.6.6) starting up.\n2012-12-17 00:21:51+0000 [-] reactor class: twisted.internet.selectreactor.SelectReactor.\n2012-12-17 00:21:51+0000 [-] src.server.amp.AmpServerFactory starting on 5000\n2012-12-17 00:21:51+0000 [-] Starting factory <src.server.amp.AmpServerFactory instance at 0x3a426c8>\n2012-12-17 00:21:52+0000 [src.server.amp.AmpServerFactory] AMPProtocol connection established (HOST:IPv4Address(TCP, '127.0.0.1', 5000) PEER:IPv4Address(TCP, '127.0.0.1', 53402))\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/lodarkness/games/evennia/src/commands/cmdparser.py\", line 55, in cmdparser\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]     if cmdname and l_raw_string.startswith(cmdname.lower())\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] cmdhandler error. raw_input:\u00ff\u00feV\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/lodarkness/games/evennia/src/commands/cmdparser.py\", line 55, in cmdparser\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]     if cmdname and l_raw_string.startswith(cmdname.lower())\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] cmdhandler error. raw_input:\u00ff\u00feV\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/lodarkness/games/evennia/src/commands/cmdparser.py\", line 55, in cmdparser\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]     if cmdname and l_raw_string.startswith(cmdname.lower())\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] cmdhandler error. raw_input:\u00ff\u00feV\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1]\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1]\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] THIS IS WHAT YOU ARE PRINTING!!!----> \u00ff\u00feV\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1]\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1]\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/lodarkness/games/evennia/src/commands/cmdhandler.py\", line 228, in cmdhandler\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]     sysarg = _(\"Command '&#37;s' is not available.\") &#37; raw_string\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] &#37;s\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] Above traceback is from an untrapped error. Please file a bug report.\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/lodarkness/games/evennia/src/commands/cmdparser.py\", line 55, in cmdparser\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]     if cmdname and l_raw_string.startswith(cmdname.lower())\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] cmdhandler error. raw_input:\u00ff\u00fe\u00ff\u00feF\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] Traceback (most recent call last):\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]   File \"/home/lodarkness/games/evennia/src/commands/cmdparser.py\", line 55, in cmdparser\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::]     if cmdname and l_raw_string.startswith(cmdname.lower())\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-12-17 00:22:01+0000 [AMPProtocol,0,127.0.0.1] [EE] cmdhandler error. raw_input:\u00ff\u00fe\u00ff\u00feF\n2012-12-17 00:2...\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=338_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/336", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/336/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/336/events", "html_url": "https://github.com/evennia/evennia/issues/336", "id": 26059744, "node_id": "MDU6SXNzdWUyNjA1OTc0NA==", "number": 336, "title": "New non-admin users don't auto-connect to public channel", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:19:55Z", "updated_at": "2014-01-22T01:19:57Z", "closed_at": "2014-01-22T01:19:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on December 12, 2012 01:42:21_\n\nA) What steps will reproduce the problem? 1. Create new non-superuser character and log in\n2. Try to talk on ooc/public channel B) What is the expected output? What do you see instead (tracebacks, error messages)? As long as it's specified in settings, new users should be automatically subscribed to public/ooc. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=336_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/335", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/335/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/335/events", "html_url": "https://github.com/evennia/evennia/issues/335", "id": 26059742, "node_id": "MDU6SXNzdWUyNjA1OTc0Mg==", "number": 335, "title": "Tutorial world: Torch won't light", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:19:52Z", "updated_at": "2014-01-22T01:19:55Z", "closed_at": "2014-01-22T01:19:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on November 26, 2012 10:59:56_\n\nA) What steps will reproduce the problem? 1. In the Dark room, look around until finding the torch\n2. Try to light it B) What is the expected output? What do you see instead (tracebacks, error messages)? The torch does apparently not light (reported in IRC). C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This is a regression not caught by unittests, probably introduced by changes in on-object caching.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=335_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/333", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/333/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/333/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/333/events", "html_url": "https://github.com/evennia/evennia/issues/333", "id": 26059736, "node_id": "MDU6SXNzdWUyNjA1OTczNg==", "number": 333, "title": "db_lock_storage maxes out at 512 characters in mysql", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:19:43Z", "updated_at": "2014-01-22T01:19:46Z", "closed_at": "2014-01-22T01:19:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on November 14, 2012 05:14:10_\n\nA) What steps will reproduce the problem? Here's how I encountered the problem:\n1. Added many default locks to the lock strings of all my object classes\n2. Rebuild the database, so all the objects end up with more than 512 characters of lock strings.\n## 3. Can't do anything. B) What is the expected output? What do you see instead (tracebacks, error messages)? Here's what I get when I try to look:\n\nAbove traceback is from an untrapped error. Please file a bug report.\nTraceback (most recent call last):\n  File \"/home/latitude/evennia/src/commands/cmdhandler.py\", line 269, in cmdhandler\n    ret = yield cmd.func()\n  File \"/home/latitude/evennia/game/gamesrc/latitude/commands/default/character/look.py\", line 20, in func\n    self.percieve('appearance')\n  File \"/home/latitude/evennia/game/gamesrc/latitude/commands/default/character/look.py\", line 34, in percieve\n    looking_at_obj = caller.location\n  File \"/home/latitude/evennia/src/typeclasses/typeclass.py\", line 114, in **getattribute**\n    return _GA(dbobj, propname)\n  File \"/home/latitude/evennia/src/objects/models.py\", line 267, in __location_get\n    loc = get_field_cache(self, \"location\")\n  File \"/home/latitude/evennia/src/server/caches.py\", line 66, in get_field_cache\n    val = _GA(obj, \"db_&#37;s\" &#37; name)\n  File \"/usr/lib64/python2.7/site-packages/django/db/models/fields/related.py\", line 313, in **get**\n    rel_obj = rel_mgr.using(db).get(**params)\n  File \"/home/latitude/evennia/src/utils/idmapper/manager.py\", line 39, in get\n    inst = super(SharedMemoryManager, self).get(**kwargs)\n  File \"/usr/lib64/python2.7/site-packages/django/db/models/manager.py\", line 132, in get\n    return self.get_query_set().get(_args, *_kwargs)\n  File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 344, in get\n    num = len(clone)\n  File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 82, in **len**\n    self._result_cache = list(self.iterator())\n  File \"/usr/lib64/python2.7/site-packages/django/db/models/query.py\", line 286, in iterator\n    obj = model(*row[index_start:aggregate_start])\n  File \"/home/latitude/evennia/src/utils/idmapper/base.py\", line 69, in __call__\n    cached_instance = new_instance()\n  File \"/home/latitude/evennia/src/utils/idmapper/base.py\", line 60, in new_instance\n    return super(SharedMemoryModelBase, cls).**call**(_args, *_kwargs)\n  File \"/home/latitude/evennia/src/objects/models.py\", line 202, in **init**\n    TypedObject.**init**(self, _args, *_kwargs)\n  File \"/home/latitude/evennia/src/typeclasses/models.py\", line 821, in **init**\n    self.locks = LockHandler(self)\n  File \"/home/latitude/evennia/src/locks/lockhandler.py\", line 172, in **init**\n    self._cache_locks(self.obj.lock_storage)\n  File \"/home/latitude/evennia/src/locks/lockhandler.py\", line 253, in _cache_locks\n    self.locks = self._parse_lockstring(storage_lockstring)\n  File \"/home/latitude/evennia/src/locks/lockhandler.py\", line 247, in _parse_lockstring\n    raise LockException(\"\\n\".join(elist))\nLockException: Lock: definition 'admin_script:pperm(Ja' has syntax errors.\n---- C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- reaaec1e14a3d + D) Please provide any additional information or suggestions below. Looks like the maximum size the lock field can handle is 512 characters in the database schema, and it's not gracefully handling my creation of strings which are longer than that.\n\nI think there shouldn't be a limit.  I recognize the performance gains of having static length fields in mysql (for sequential scans, etc.), but I think that problem can be worked around.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=333_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/332", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/332/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/332/events", "html_url": "https://github.com/evennia/evennia/issues/332", "id": 26059732, "node_id": "MDU6SXNzdWUyNjA1OTczMg==", "number": 332, "title": "Issue with swap_typeclass deleting an attribute that doesn't exist.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:19:40Z", "updated_at": "2014-01-22T01:19:42Z", "closed_at": "2014-01-22T01:19:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on November 11, 2012 02:44:43_\n\nA) What steps will reproduce the problem? Run swap_typeclass on an object with the same typeclass as you're swapping to.\n# !/usr/bin/env python\n\nimport os\nimport sys\nimport ev\nsys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(**file**))))\nos.environ['DJANGO_SETTINGS_MODULE'] = 'game.settings'\nsys.path.insert(0, \"./game\")\n\nfrom game import settings\nfrom src.utils import create, utils\n\nthings = ev.managers.objects.all()\nfor thing in things:\n    if utils.inherits_from(thing.typeclass, \"src.objects.objects.Room\"):\n        thing.swap_typeclass(\"src.objects.objects.Room\", clean_attributes=False)\n        print \"Configured &#37;s\" &#37; thing.name B) What is the expected output? What do you see instead (tracebacks, error messages)? I would expect this to essentially do nothing. I might come across this in some iterative loop.\n\nInstead, that loop would be interrupted by:\n\nTraceback (most recent call last):\n  File \"./typeclass_switcher\", line 20, in <module>\n    thing.swap_typeclass(\"src.objects.objects.Room\", clean_attributes=False)\n  File \"/home/production/evennia/src/typeclasses/models.py\", line 1255, in swap_typeclass\n    _DA(self, \"_cached_db_typeclass_path\")\nAttributeError: _cached_db_typeclass_path C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Linux, current version of Evennia. Sorry, still haven't found a clean way of getting that with my current config. D) Please provide any additional information or suggestions below. Wrapping that _DA in a try block fixes it. I just do 'pass' for except AttributeError.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=332_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/329", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/329/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/329/events", "html_url": "https://github.com/evennia/evennia/issues/329", "id": 26059721, "node_id": "MDU6SXNzdWUyNjA1OTcyMQ==", "number": 329, "title": "Receivers and Senders in Messages do not inherit from BASE_CHARACTER/PLAYER_TYPECLASS in settings", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:19:31Z", "updated_at": "2014-01-22T01:19:33Z", "closed_at": "2014-01-22T01:19:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on November 08, 2012 01:48:20_\n\nA) What steps will reproduce the problem? 1. Create a message\n2. [ sender in senders if utils.inherits_from(sender, BASE_OBJECT_TYPECLASS) ]\n3. Empty list! B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect for some items to remain. Looking further, I found the character item I was trying to pluck out was a:\n<class 'src.objects.models.ObjectDB'>\n...but the setting in settings_default.py is:\nBASE_CHARACTER_TYPECLASS = \"src.objects.objects.Character\"\n\nDoing utils.inherits_from(self.caller, BASE_OBJECT_TYPECLASS) worked fine. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. I'm not sure the exact version, as my recent workflow change seems to have interrupted how Evennia normally checks that. This comes out from @version:\n\nEvennia Beta- r000000000000 How does it determine that, by the way? Should be able to find it for you. But looking at IRC, it should be the next to the last push.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=329_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/328", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/328/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/328/events", "html_url": "https://github.com/evennia/evennia/issues/328", "id": 26059718, "node_id": "MDU6SXNzdWUyNjA1OTcxOA==", "number": 328, "title": "'has_attribute' failing.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:19:28Z", "updated_at": "2014-01-22T01:19:30Z", "closed_at": "2014-01-22T01:19:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on November 07, 2012 20:02:03_\n\nA) What steps will reproduce the problem? 1. @py me.has_attribute('test') B) What is the expected output? What do you see instead (tracebacks, error messages)? >>> me.has_attribute('test')\n<<<   File \"/home/latitude/evennia/src/typeclasses/models.py\", line 1324, in has_attribute\n<<<     if attribute_name not in get_attr_cache(self):\n<<< TypeError: get_attr_cache() takes exactly 2 arguments (1 given) C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest from mercurial at time of filing:\nBeta- rf1901249a628 + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=328_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/327", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/327/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/327/events", "html_url": "https://github.com/evennia/evennia/issues/327", "id": 26059714, "node_id": "MDU6SXNzdWUyNjA1OTcxNA==", "number": 327, "title": "Difficulty using dbrefs with building commands", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:19:25Z", "updated_at": "2014-01-22T01:19:27Z", "closed_at": "2014-01-22T01:19:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on November 07, 2012 19:43:46_\n\nA) What steps will reproduce the problem? 1. ex #2 (from somewhere far from #2) B) What is the expected output? What do you see instead (tracebacks, error messages)? For building commands, I would expect 'ex #2' to work, but for non-building commands (such as 'look #2') I would expect it to not work.\n\nThe current behavior seems to be to return only nearby objects, whether or not you specify a dbref.\n\nThis is good behavior for 'look', It would present a security problem for almost every non-building command if you could act on stuff that's far away.\n\nBut, it's bad behavior for 'examine', because builders will routinely keep track of dbrefs and don't want to have to care what room they're in. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rbe68914b308a + D) Please provide any additional information or suggestions below. Just adding global_search=True to the caller.search() calls would probably not be the best option.  If I do a 'ex west' I want to see the west direction from where I am, not receive a multimatch list of every 'west' in the entire game.\n\nWhat I think we need is something in between.  A global_search='DBREF_ONLY' or something like that.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=327_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/326", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/326/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/326/events", "html_url": "https://github.com/evennia/evennia/issues/326", "id": 26059713, "node_id": "MDU6SXNzdWUyNjA1OTcxMw==", "number": 326, "title": "PackedList.pop() has no return value", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:19:23Z", "updated_at": "2014-01-22T01:19:25Z", "closed_at": "2014-01-22T01:19:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on November 07, 2012 16:56:14_\n\nA) What steps will reproduce the problem? 1. @py me.db.test = ['xyz']\n2. @py me.db.test.pop() B) What is the expected output? What do you see instead (tracebacks, error messages)? pop() doesn't seem to return anything.  I expected it to act like list.pop() which returns the value that it removes from the list. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rbe68914b308a + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=326_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/325", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/325/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/325/events", "html_url": "https://github.com/evennia/evennia/issues/325", "id": 26059712, "node_id": "MDU6SXNzdWUyNjA1OTcxMg==", "number": 325, "title": "Change object.player to return typeclass instead of dbobj", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:19:20Z", "updated_at": "2014-01-22T01:19:22Z", "closed_at": "2014-01-22T01:19:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on November 05, 2012 00:32:47_\n\nA) What steps will reproduce the problem? 1. The common way of accessing a character's player object is through obj.player. This however returns the database object, not the typeclass. The effect of this is particularly visible when trying to overload methods on the Player typeclass such as msg(). object.player.msg() will then access the dbobj-level msg, not the overloaded one. B) What is the expected output? What do you see instead (tracebacks, error messages)? Letting obj.player return a typeclass is more intuitive and useful. Right now one has to do e.g. obj.player.typeclass.msg() to access a custom msg() implementation. This is counter-intuitive to the whole idea behind Typeclasses. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Unfortunately it's not trivial to change this, since obj.player is also used in many fundamental parts of the creation code, also before a typeclass has been defined. Caching is also very important (since all msg() data is passed from the Character->Player->Sessions through obj.player). So one needs to implement this carefully. \n\nMaking an issue so I don't forget.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=325_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/324", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/324/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/324/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/324/events", "html_url": "https://github.com/evennia/evennia/issues/324", "id": 26059710, "node_id": "MDU6SXNzdWUyNjA1OTcxMA==", "number": 324, "title": "Location and contents going out of sync", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:19:16Z", "updated_at": "2014-01-22T01:19:19Z", "closed_at": "2014-01-22T01:19:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on November 03, 2012 16:04:53_\n\nA) What steps will reproduce the problem? Unknown B) What is the expected output? What do you see instead (tracebacks, error messages)? I'm not sure how it happened, I don't think I was doing anything particularly special, but a room with 'contents' containing my superuser character was in room A.. but when I logged him in, his location was in room B.  (A was actually the room he was in last night before disconnect.. he was supposed to be there when he logged in)\n\nSo if you looked at the contents of either room A or room B you would see the character!\n\nMy character kept hearing messages about people passing by his other phantom location.. I could have probably talked to the phantom character but it wouldn't be able to talk back because its messages go to its location.\n\nThe way I solved the problem was to take my character, and walk him past his phantom location.  Walking other characters past his phantom location didn't make a difference.\n\nIf this happened to a user it would be very embarrassing for me. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rbe68914b308a + D) Please provide any additional information or suggestions below. Why is it possible for this information to ever get out of sync?  Location data should be used to auto-generate contents data.\n\nIn fact, I could probably solve this problem myself by making a get_contents() call on my base object class, and having it search for all objects whose location matches 'self'.  (I assume location is an indexed field in the database which I can search on directly, so this would not be a costly operation)\n\nAlso, theory:  I've been getting a lot of 'connection reset by peer' and timeouts and such as a result of some network problems with my VPS.  I think perhaps if the connection dies ungracefully, Evennia might not be doing its cleanup and proper calls of at_disconnect and such... that may be the cause of this, and the cause of other problems I've noticed, such as phantom users being around forever if I allow multi-session.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=324_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/324/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/322", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/322/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/322/events", "html_url": "https://github.com/evennia/evennia/issues/322", "id": 26059705, "node_id": "MDU6SXNzdWUyNjA1OTcwNQ==", "number": 322, "title": "Web Client: Auto-parsing of urls includes trailing double quotes (\")", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-22T01:19:08Z", "updated_at": "2014-01-22T01:19:13Z", "closed_at": "2014-01-22T01:19:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [q...@live.nl](https://code.google.com/u/113587494992243033531/) on October 29, 2012 23:21:35_\n\nA) What steps will reproduce the problem? 1.Run the server, and open the webclient in a browser.\n2.type something like: say http://example.com 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected output:\n\nYou say, \"<a href=\" http://example.com \" target=\"_blank\">http://example.com</a>\n\nActual result:\n\nYou say, \"<a href=\"http://example.com\"\" target=\"_blank\">http://example.com\"</a>\n\nLook for the double quotes. This is bad, because the URL won't work, and it might get handled wrong in some browsers. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia Beta- rbe68914b308a +\n         OS nt\n         Python 2.7.2\n         Django 1.4\n         Twisted 12.0.0\n         South 0.7.5\n\nI've used both Opera and FireFox to check this problem. D) Please provide any additional information or suggestions below. My guess is that it's a small oversight in the regexp on line 116 in src/utils/text2html.py\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=322_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/321", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/321/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/321/events", "html_url": "https://github.com/evennia/evennia/issues/321", "id": 26059703, "node_id": "MDU6SXNzdWUyNjA1OTcwMw==", "number": 321, "title": "Wiki outdated: Editing the Web Site", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:19:06Z", "updated_at": "2014-01-22T01:19:07Z", "closed_at": "2014-01-22T01:19:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [q...@live.nl](https://code.google.com/u/113587494992243033531/) on October 28, 2012 23:49:58_\n\nA) What steps will reproduce the problem? The information on the Wiki about creating a copy from the website so you can edit things like the webclient on your own, is partially incorrect. B) What is the expected output? What do you see instead (tracebacks, error messages)? 1. It tells that you should copy the files from the src/web/ directory to the game/gamesrc/web/ directory. However, the os.path.join(GAME_DIR, \"web\", \"templates\", ACTIVE_TEMPLATE) does not reflect this, and should be: os.path.join(GAME_DIR, \"gamesrc\", \"web\", \"templates\", ACTIVE_TEMPLATE)\n\n2.We do not get told that the MEDIA_ROOT should be updated as well, if you want to have your own scripts working. This is also important for the people who want an offline copy of JQuery.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=321_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/319", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/319/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/319/events", "html_url": "https://github.com/evennia/evennia/issues/319", "id": 26059698, "node_id": "MDU6SXNzdWUyNjA1OTY5OA==", "number": 319, "title": "AT_SERVER_STARTSTOP not loaded correctly", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:18:58Z", "updated_at": "2014-09-03T00:38:40Z", "closed_at": "2014-01-22T01:19:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [q...@live.nl](https://code.google.com/u/113587494992243033531/) on October 28, 2012 13:56:28_\n\nA) What steps will reproduce the problem? 1.Copy over the at_server_startstop.py from the gamesrc/conf/examples folder to gamesrc/conf\n2.Point, in your settings.py, the AT_SERVER_STARTSTOP_MODULE to \"gamesrc.conf.at_server_startstop\"\n3.Start or reload the server (in interactive mode to see the error) B) What is the expected output? What do you see instead (tracebacks, error messages)? The expected output: No error message in my server, and having the at_server_start() function ran successfully.\n\nInstead, the server will show us the following message:\n\nEvennia Server stopped. Restarting ...\nCould not find module 'gamesrc.conf.at_server_startsto' (gamesrc.conf.at_server_\nstartsto.py) at path 'C:\\Users\\Gebruiker\\MUDS\\MUD Servers\\evennia\\game'\n\nIt seems that the function that loads this module, somehow strips off the last p (In fact, when using a name with multiple p's on the end, they all get removed), and the module does not get found nor loaded. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia Beta- r3f6a954b9138 +\n\n```\n     OS nt\n     Python 2.7.2\n     Django 1.4\n     Twisted 12.0.0\n     South 0.7.5 D) Please provide any additional information or suggestions below.\n```\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=319_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/318", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/318/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/318/events", "html_url": "https://github.com/evennia/evennia/issues/318", "id": 26059697, "node_id": "MDU6SXNzdWUyNjA1OTY5Nw==", "number": 318, "title": "The 'n' character seems to be getting stripped off the end of my messages", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:18:56Z", "updated_at": "2014-01-22T01:18:57Z", "closed_at": "2014-01-22T01:18:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 28, 2012 02:59:11_\n\nFrom the @py command:\n\n> > > me.msg('Something that ends in: n')\n> > > Something that ends in: \n> > > me.msg('Something that ends in: n.')\n> > > Something that ends in: n.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=318_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/317", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/317/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/317/events", "html_url": "https://github.com/evennia/evennia/issues/317", "id": 26059693, "node_id": "MDU6SXNzdWUyNjA1OTY5Mw==", "number": 317, "title": "CMD_NOMATCH seems to strip self.args", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:18:51Z", "updated_at": "2014-09-03T00:38:40Z", "closed_at": "2014-01-22T01:18:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 27, 2012 23:20:35_\n\nA) What steps will reproduce the problem? 1. Add a CMD_NOMATCH command\n2. Enter a command which doesn't match B) What is the expected output? What do you see instead (tracebacks, error messages)? If I enter '      ABC', I expect my routine to have access to the fact that I entered a bunch of spaces too.  (This is especially crucial in my line editor.), but the self.args seems to have spaces stripped. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r215797a81961 + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=317_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/315", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/315/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/315/events", "html_url": "https://github.com/evennia/evennia/issues/315", "id": 26059690, "node_id": "MDU6SXNzdWUyNjA1OTY5MA==", "number": 315, "title": "The basic Room, Exit and Character classes always point at the basic Object, and not at BASE_OBJECT_TYPECLASS", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:18:45Z", "updated_at": "2014-01-22T01:18:48Z", "closed_at": "2014-01-22T01:18:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [q...@live.nl](https://code.google.com/u/113587494992243033531/) on October 27, 2012 00:01:35_\n\nA) What steps will reproduce the problem? 1.When wanting to overload a method of the standard Object, this can be easily done by creating a class which inherits the basic Object and implementing the new method on it.\n2.Because I want all objects, rooms, exits and characters to have this new method, I change the BASE_OBJECT_TYPECLASS to the new class.\n3.However, this doesn't work because the Room, Exit and Character classes always inherit the basic Object, and not the current set BASE_OBJECT_TYPECLASS C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia Beta- rf6a3f5a31296 D) Please provide any additional information or suggestions below. I think the solution should be to change the object that the Room, Exit and Character classes inherits from the standard Object to whatever object is set in the BASE_OBJECT_TYPECLASS\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=315_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/314", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/314/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/314/events", "html_url": "https://github.com/evennia/evennia/issues/314", "id": 26059688, "node_id": "MDU6SXNzdWUyNjA1OTY4OA==", "number": 314, "title": "Immortals seem unable to use the @reload command to restart the server", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:18:43Z", "updated_at": "2014-09-03T00:38:40Z", "closed_at": "2014-01-22T01:18:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [q...@live.nl](https://code.google.com/u/113587494992243033531/) on October 26, 2012 13:52:57_\n\nA) What steps will reproduce the problem? 1. Create an account\n2. Give it, using the superuser account, the permission Immortal (@perm/add newuser = Immortal)\n3. Log in to this new account\n4. Try @reload. It will say that the command is not defined. B) What is the expected output? What do you see instead (tracebacks, error messages)? I would like to be able to use the @reload command on all Immortal accounts, and it seems from the Wiki that this was how it was intended to be. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia version: Beta- r19e84a9e65e3 OS nt\n         Python 2.7.2\n         Django 1.4\n         Twisted 12.0.0\n         South 0.7.5\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=314_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/310", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/310/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/310/events", "html_url": "https://github.com/evennia/evennia/issues/310", "id": 26059674, "node_id": "MDU6SXNzdWUyNjA1OTY3NA==", "number": 310, "title": "Color codes are interpreted in '@py' command output", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:18:33Z", "updated_at": "2014-01-22T01:18:34Z", "closed_at": "2014-01-22T01:18:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 23, 2012 21:27:06_\n\nA) What steps will reproduce the problem? 1. @py me.msg('&#37;ch&#37;cbTest') B) What is the expected output? What do you see instead (tracebacks, error messages)? The color codes are displayed when the msg fires.  That's good.  The color codes are displayed after the >>> when it's listing which command is being executed.  That's bad. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- rd1e5e046333b +\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=310_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/310/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/309", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/309/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/309/events", "html_url": "https://github.com/evennia/evennia/issues/309", "id": 26059668, "node_id": "MDU6SXNzdWUyNjA1OTY2OA==", "number": 309, "title": "More web client color problems", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-01-22T01:18:25Z", "updated_at": "2014-01-22T01:18:32Z", "closed_at": "2014-01-22T01:18:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 23, 2012 21:16:48_\n\nHere's an example of one of the more complex lines, extracted from one of the area maps in my game world.\n\n@py me.msg('&#37;cn&#37;ch&#37;cw&#37;cX|&#37;cn&#37;cw&#37;cX   &#37;cn&#37;cw&#37;cX+----+---+----+&#37;cn&#37;cw&#37;cX    &#37;cn&#37;cw&#37;cX+----+---+----+&#37;cn&#37;cw&#37;cX    &#37;cn&#37;cw&#37;cX+----+---+----+&#37;cn&#37;cw&#37;cX       &#37;cn&#37;ch&#37;cc&#37;cX.     &#37;cn&#37;cb&#37;cX-&#37;cn&#37;ch&#37;cb&#37;cX+&#37;cn&#37;ch&#37;cc&#37;cX+&#37;cn&#37;\nch&#37;cb&#37;cX+&#37;cn&#37;cb&#37;cX-  &#37;cn&#37;ch&#37;cw&#37;cX|')\n\nIn the web client, that command comes out with a bunch of '[40m' in it.\n\nHere's another one as well which doesn't work:\n@py me.msg('&#37;cRxyz')\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=309_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/308", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/308/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/308/events", "html_url": "https://github.com/evennia/evennia/issues/308", "id": 26059665, "node_id": "MDU6SXNzdWUyNjA1OTY2NQ==", "number": 308, "title": "Web client colors appear to be messed up", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:18:22Z", "updated_at": "2014-01-22T01:18:24Z", "closed_at": "2014-01-22T01:18:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 23, 2012 02:10:00_\n\n@py me.msg('{Wxyz') in the web client\n\nResult:\n[0m[37mxyz  <-- With no colors\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=308_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/306", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/306/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/306/events", "html_url": "https://github.com/evennia/evennia/issues/306", "id": 26059659, "node_id": "MDU6SXNzdWUyNjA1OTY1OQ==", "number": 306, "title": "The drop command doesn't check if you're actually holding the item", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:18:16Z", "updated_at": "2014-01-22T01:18:18Z", "closed_at": "2014-01-22T01:18:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 23, 2012 01:14:30_\n\nA) What steps will reproduce the problem? 1. drop #2\n2. ???\n3. Profit!\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=306_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/304", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/304/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/304/events", "html_url": "https://github.com/evennia/evennia/issues/304", "id": 26059648, "node_id": "MDU6SXNzdWUyNjA1OTY0OA==", "number": 304, "title": "The same cmdset on two objects in the same room causes a multi-match", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:18:06Z", "updated_at": "2014-01-22T01:18:08Z", "closed_at": "2014-01-22T01:18:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 21, 2012 20:24:55_\n\nA) What steps will reproduce the problem? 1. Create two objects with the same cmdset added to them\n2. Try a command on the cmdset B) What is the expected output? What do you see instead (tracebacks, error messages)? If the two cmdsets are the same, I would think it wouldn't result in a multi-match, but it does.  This is problematic, because I want to use the presence of certain items to permit special context specific actions, but if there are two of them at once it creates needless multi-matches. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r91a8ce4426a9 + D) Please provide any additional information or suggestions below. Is there a way for it to detect if the commands are the same before presenting me with a multi-match?  It makes sense to ask me if two objects have the same command name, but different command classes inside, but not if the command class is the same.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=304_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/303", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/303/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/303/events", "html_url": "https://github.com/evennia/evennia/issues/303", "id": 26059643, "node_id": "MDU6SXNzdWUyNjA1OTY0Mw==", "number": 303, "title": "Capital AND, OR, and NOT don't work in lock string parameters", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:18:02Z", "updated_at": "2014-01-22T01:18:04Z", "closed_at": "2014-01-22T01:18:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 21, 2012 19:33:13_\n\nA) What steps will reproduce the problem? 1. ev.search_object('#2')[0].locks.add('traverse:attr(THE_MAYXR)') <-- Works\n2. ev.search_object('#2')[0].locks.add('traverse:attr(THE_MAYOR)') <-- Fails\n3. ev.search_object('#2')[0].locks.add('traverse:attr(THE_MAYAND)') <-- Fails\n4. ev.search_object('#2')[0].locks.add('traverse:attr(the_mayor)') <-- Works\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=303_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/302", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/302/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/302/events", "html_url": "https://github.com/evennia/evennia/issues/302", "id": 26059636, "node_id": "MDU6SXNzdWUyNjA1OTYzNg==", "number": 302, "title": "Default locks are hard coded", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:17:58Z", "updated_at": "2014-01-22T01:18:01Z", "closed_at": "2014-01-22T01:18:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 20, 2012 01:05:54_\n\nbasetype_setup assigns some lock values to objects by default.\n\nThis is all well and good, but the settings.py let you override things like the name for 'Immortals' and 'Builders' and 'Wizards', which I've gone and done, but nowhere in settings.py does it let me set the default lock values, instead it hardcodes the assumption that the values were left as defaults.\n\nSo, I'll just override basetype_setup then, right?  The documentation actually _tells_ me not to:\n\n'Don't change this, instead edit at_object_creation() to overload the defaults (it is called after this one).'\n\nI'm inclined to disregard its advice.  I could use at_object_creation() instead, but I'd have to call super(...).at_object_creation() in every one of my classes, and if I forget, then it will use the default locks which for my MUD are nonsensical, and it'd be a PITA to find and fix them if objects get created.\n\nI'd suggest one of these options:\n1) Change the docs to say go ahead and overload this if you feel it's necessary, but be sure to call super() at the top.\n2) Put the lock setting in at_object_creaton, so that my custom base object class can overload it and then there'll be no chance of creating the default lock string.\n3) Make it so the default locks can go into settings.py\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=302_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/300", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/300/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/300/events", "html_url": "https://github.com/evennia/evennia/issues/300", "id": 26059630, "node_id": "MDU6SXNzdWUyNjA1OTYzMA==", "number": 300, "title": "Login screen overrides are not sacred", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:17:49Z", "updated_at": "2014-01-22T01:17:51Z", "closed_at": "2014-01-22T01:17:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on October 16, 2012 01:56:35_\n\nA) What steps will reproduce the problem? 1. Create a custom login screen module. Remove the original strings, and only leave your custom one.\n2. Set CONNECTION_SCREEN_MODULE in settings.py to your module.\n3. Connect several times in a row. B) What is the expected output? What do you see instead (tracebacks, error messages)? Sometimes, my screen is pulled up just fine. Other times, the default screen is pulled up, like it's never removed from the random pool. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Ubuntu 12.4, \nEvennia Beta- r3a3a7b895e05 + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=300_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/299", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/299/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/299/events", "html_url": "https://github.com/evennia/evennia/issues/299", "id": 26059626, "node_id": "MDU6SXNzdWUyNjA1OTYyNg==", "number": 299, "title": "Error command set is saved in the DB", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:17:46Z", "updated_at": "2014-01-22T01:17:48Z", "closed_at": "2014-01-22T01:17:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on October 16, 2012 01:52:24_\n\nA) What steps will reproduce the problem? Not entirely sure how it happened in the first place. However, all of my users had the error command set, except for my immortals who had logged in before whatever caused it. B) What is the expected output? What do you see instead (tracebacks, error messages)? Evennia should not allow the error command set to be saved, since it will keep the user from getting the defaults on next login.\n\nI was able to force a reset for all users with:\n\nupdate objects_objectdb set db_cmdset_storage = 'game.gamesrc.oasis.commands.standard.DefaultCmdSet' where db_typeclass_path = 'src.objects.objects.Character';\n\n...via sqlite3. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Ubuntu 12.4, \nEvennia Beta- r3a3a7b895e05 + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=299_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/297", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/297/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/297/events", "html_url": "https://github.com/evennia/evennia/issues/297", "id": 26059619, "node_id": "MDU6SXNzdWUyNjA1OTYxOQ==", "number": 297, "title": "Search does not properly handle star queries, crashes", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:40Z", "updated_at": "2014-01-22T01:17:41Z", "closed_at": "2014-01-22T01:17:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on October 13, 2012 22:35:09_\n\nA) What steps will reproduce the problem? 1. Search with a prefixed \\* for something that does not exist, with global_search = True 2. 3. Here is the code:\n\nclass Page(default_cmds.MuxCommand):\n    \"\"\"\n        Page some folks.\n\n```\n\"\"\"\n# these need to be specified\n\nkey = \"page\"\naliases = [\"p\", \"pa\", \"pag\"]\nlocks = \"cmd:all()\"\nhelp_category = \"General\"\n\ndef func(self):\n    \"\"\"\n    This is the hook function that actually does all the work. It is called\n     by the cmdhandler right after self.parser() finishes, and so has access\n     to all the variables defined therein.\n    \"\"\"\n    if not self.lhs:\n        self.caller.msg(\"You must specify someone to page.\")\n        exit\n    target = self.caller.search(\"*\" + self.lhs, global_search = True)\n    if not target:\n        self.caller.msg(\"Couldn't find a player named \" + self.lhs + \".\")\n        exit\n    self.caller.msg('You page, \"' + self.rhs + '\" to ' + target.name + \".\") B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n```\n\n  File \"/Users/kelketek/projects/evennia/src/commands/cmdhandler.py\", line 269, in cmdhandler\n    ret = yield cmd.func()\n  File \"/Users/kelketek/projects/evennia/game/gamesrc/oasis/commands/page.py\", line 65, in func\n    target = self.caller.search(\"_\" + self.lhs, global_search = True)\n  File \"/Users/kelketek/projects/evennia/src/objects/objects.py\", line 191, in search\n    player=player)\n  File \"/Users/kelketek/projects/evennia/src/objects/models.py\", line 584, in search\n    exact=exact)\n  File \"/Users/kelketek/projects/evennia/src/typeclasses/managers.py\", line 44, in func\n    matches = method(self, *args, *_kwargs)\n  File \"/Users/kelketek/projects/evennia/src/objects/manager.py\", line 288, in object_search\n    if len(matches) > 1 and match_number != None:\nTypeError: object of type 'NoneType' has no len() C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Mac OS X, Beta- r19e84a9e65e3 + D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=297_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/296", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/296/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/296/events", "html_url": "https://github.com/evennia/evennia/issues/296", "id": 26059618, "node_id": "MDU6SXNzdWUyNjA1OTYxOA==", "number": 296, "title": "Don't allow location loops", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:38Z", "updated_at": "2014-01-22T01:17:39Z", "closed_at": "2014-01-22T01:17:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on October 12, 2012 09:12:54_\n\nA) What steps will reproduce the problem? 1. Set self.location to self. B) What is the expected output? What do you see instead (tracebacks, error messages)? Nested locations make no sense; there should be at least a minimal check to avoid 1st level recursion; possibly a more elaborate recursive check. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This issue was raised and discussed in IRC among several members. Putting it here to remember. Suggestions and ideas can be put in the Issue comments.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=296_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/296/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/294", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/294/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/294/events", "html_url": "https://github.com/evennia/evennia/issues/294", "id": 26059605, "node_id": "MDU6SXNzdWUyNjA1OTYwNQ==", "number": 294, "title": "msg calls have an undocumented maximum length", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:17:28Z", "updated_at": "2014-01-22T01:17:31Z", "closed_at": "2014-01-22T01:17:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 11, 2012 05:30:15_\n\nA) What steps will reproduce the problem? 1. @py me.msg('-' \\* 65535) <-- Works\n2. @py me.msg('-' \\* 65536) <-- Doesn't work B) What is the expected output? What do you see instead (tracebacks, error messages)? I would expect them both to work.  If the message has to be split up in order to be tolerated by upstream libraries, I'd rather that be done by the Evennia code than mine.  (Actually, I'm not even sure if there is a way to send two msg calls that constitute a single line of output)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=294_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/294/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/293", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/293/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/293/events", "html_url": "https://github.com/evennia/evennia/issues/293", "id": 26059603, "node_id": "MDU6SXNzdWUyNjA1OTYwMw==", "number": 293, "title": "default_cmds seems to have MuxCommand but no MuxCommandOOC", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:26Z", "updated_at": "2014-01-22T01:17:27Z", "closed_at": "2014-01-22T01:17:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 09, 2012 01:33:47_\n\ndefault_cmds in ev.py seems to have MuxCommand but no MuxCommandOOC\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=293_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/292", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/292/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/292/events", "html_url": "https://github.com/evennia/evennia/issues/292", "id": 26059600, "node_id": "MDU6SXNzdWUyNjA1OTYwMA==", "number": 292, "title": "'Player nicks' don't seem to be global", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:23Z", "updated_at": "2014-01-22T01:17:25Z", "closed_at": "2014-01-22T01:17:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 08, 2012 05:07:45_\n\nA) What steps will reproduce the problem? 1. @py me.nicks.add(\"bugtest1\", \"say Test1\", nick_type=\"inputline\")\n2. bugtest1 <-- Works.\n3. @py me.player.nicks.add(\"bugtest2\", \"say Test1\", nick_type=\"inputline\")\n4. bugtest2 <-- Doesn't work\n5. @ooc\n6. bugtest2 <-- Works B) What is the expected output? What do you see instead (tracebacks, error messages)? I figured if I set it on the player, it would be global, no matter which character I was controlling. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest from mercurial at time of bug filing. D) Please provide any additional information or suggestions below. This seems like maybe it was intentional.  If so, I wish there was some method to set nicks global to your user.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=292_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/291", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/291/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/291/events", "html_url": "https://github.com/evennia/evennia/issues/291", "id": 26059595, "node_id": "MDU6SXNzdWUyNjA1OTU5NQ==", "number": 291, "title": "'nick' command uses hard coded command names", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:21Z", "updated_at": "2014-01-22T01:17:22Z", "closed_at": "2014-01-22T01:17:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 08, 2012 04:39:20_\n\nIn order to change the name of the 'nicks' command, you have to redefine its func(), because it's hard coded in the func() of the default CmdNick class.\n\nThat's probably not best.  If I override the func() and replace it with something identical, I no longer get the benefit of bug fixes that may happen to that command in the future.  Also it seems a bit like overkill to copy a big chunk of the evennia source into my gamesrc.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=291_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/290", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/290/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/290/events", "html_url": "https://github.com/evennia/evennia/issues/290", "id": 26059592, "node_id": "MDU6SXNzdWUyNjA1OTU5Mg==", "number": 290, "title": "Exit commands show up in help entry list", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:18Z", "updated_at": "2014-01-22T01:17:20Z", "closed_at": "2014-01-22T01:17:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [samreg.w...@gmail.com](https://code.google.com/u/117503285596314878787/) on October 07, 2012 22:00:00_\n\nA) What steps will reproduce the problem? 1.> help\n2.exit commands show up in list B) What is the expected output? What do you see instead (tracebacks, error messages)? Exit commands should be filtered from the help entry list. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information or suggestions below. It seems the help-entry creation is itself stopped correctly, it's just the listing which is including the exit commands automatically.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=290_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/288", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/288/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/288/events", "html_url": "https://github.com/evennia/evennia/issues/288", "id": 26059584, "node_id": "MDU6SXNzdWUyNjA1OTU4NA==", "number": 288, "title": "Object copy issue", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:14Z", "updated_at": "2014-01-22T01:17:15Z", "closed_at": "2014-01-22T01:17:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [twiceasworn](https://code.google.com/u/twiceasworn/) on October 07, 2012 06:39:51_\n\nA) What steps will reproduce the problem? 1. Copy an object 2. 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? It should return a copy of the object, instead I see this:\n\n> > >   File \"<string>\", line 16, in <module>\n> > > \n> > >   File \"/var/mud/evennia/game/gamesrc/objects/world/rooms.py\", line 184, in spawn_enemy_npcs\n> > >     copy = object.copy()\n> > > \n> > >   File \"/var/mud/evennia/src/objects/objects.py\", line 261, in copy\n> > >     return self.dbobj.copy(new_key=new_key)\n> > > \n> > >   File \"/var/mud/evennia/src/objects/models.py\", line 863, in copy\n> > >     new_key = new_key or find_clone_key()\n> > > \n> > >   File \"/var/mud/evennia/src/objects/models.py\", line 859, in find_clone_key\n> > >     for obj in (obj for obj in _GA(_GA(self, \"location\"), \"contents\")\n> > > \n> > > AttributeError: 'Room' object has no attribute 'contents' C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. current D) Please provide any additional information or suggestions below. It seems that the problem code is here:\n# for obj in (obj for obj in _GA(_GA(self, \"location\"), \"contents\")\n\n```\n        #            if obj.key.startswith(key) and obj.key.lstrip(key).isdigit()):\n        #    num += 1\n```\n\nSo i commented that out for the time being and just had find_clone_key() return {key}_copy as it did in previous iterations.  Not sure if this is something due to my setup, but it seems like it would be a problem regardless.  Not sure though honestly, I patched my local version but its really just a hack until it works the way its intended :]\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=288_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/287", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/287/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/287/events", "html_url": "https://github.com/evennia/evennia/issues/287", "id": 26059583, "node_id": "MDU6SXNzdWUyNjA1OTU4Mw==", "number": 287, "title": "Batchcode command fails", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:17:11Z", "updated_at": "2014-01-22T01:17:13Z", "closed_at": "2014-01-22T01:17:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [twiceasworn](https://code.google.com/u/twiceasworn/) on October 06, 2012 19:54:29_\n\nA) What steps will reproduce the problem? 1. Run a batchcode command 2. 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? Should complete and build the necessary objects.\n\nI see instead:\n@batchcode backend_rooms\nRunning Batch-code processor - Automatic mode for backend_rooms ...\nTraceback (most recent call last):\n  File \"/var/mud/evennia/src/commands/cmdhandler.py\", line 269, in cmdhandler\n    ret = yield cmd.func()\n  File \"/var/mud/evennia/src/commands/default/batchprocess.py\", line 395, in func\n    if not batch_cmd_exec(caller):\n  File \"/var/mud/evennia/src/commands/default/batchprocess.py\", line 119, in batch_cmd_exec\n    caller.msg(format_header(caller, command))\n  File \"/var/mud/evennia/src/commands/default/batchprocess.py\", line 92, in format_header\n    entry = entry.strip()\nAttributeError: 'dict' object has no attribute 'strip'\n\nLooks like something is passing a dict when it should be passing a string. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r19e84a9e65e3 +\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=287_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/287/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/286", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/286/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/286/events", "html_url": "https://github.com/evennia/evennia/issues/286", "id": 26059578, "node_id": "MDU6SXNzdWUyNjA1OTU3OA==", "number": 286, "title": "Can't represent a backslash before a color change", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:17:07Z", "updated_at": "2014-01-22T01:17:10Z", "closed_at": "2014-01-22T01:17:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 05, 2012 07:53:16_\n\nWhen using color codes, I can't represent a backslash prior to a color change.  Meaning let's say I want this to be blue:\n\n/__\\\n\nImmediately followed by another one in red:\n\n/__\\\n\nThe color code for that would be:\n&#37;cb/**&#37;cr/**\\\n\nBut I get this, all in blue:\n/**&#37;cr/**\\\n\nThere doesn't seem to be any workaround for this.  I tried manually inserting ansi escape sequences, but it messed up the web client.\n\nPerhaps you could make a special color class I could pass to msg?  For example:\n\nself.caller.msg([Color('bold,blue'), '/**\\', Color('bold,red'), '/**\\'])\n\nIt could detect if you passed a string instead of a list for the first argument, and default to the old behavior.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=286_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/285", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/285/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/285/events", "html_url": "https://github.com/evennia/evennia/issues/285", "id": 26059577, "node_id": "MDU6SXNzdWUyNjA1OTU3Nw==", "number": 285, "title": "CmdHome class name collision", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:04Z", "updated_at": "2014-01-22T01:17:06Z", "closed_at": "2014-01-22T01:17:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 04, 2012 20:32:09_\n\n$ python\nPython 2.6.6 ( r266 :84292, Mar 17 2011, 09:18:10) \n[GCC 4.4.5] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n> > > import ev\n> > > ev.default_cmds.CmdHome.key\n> > > 'home'\n\nBoth 'home' and '@home' share the same class name, and it gets clobbered in default_cmds\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=285_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/284", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/284/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/284/events", "html_url": "https://github.com/evennia/evennia/issues/284", "id": 26059573, "node_id": "MDU6SXNzdWUyNjA1OTU3Mw==", "number": 284, "title": "Commands are searching by dbref", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:17:02Z", "updated_at": "2014-01-22T01:17:03Z", "closed_at": "2014-01-22T01:17:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 03, 2012 20:45:10_\n\nA) What steps will reproduce the problem? Make an object named '2', and try using default commands on it, such as 'look 2'.\n\nIt defaults to a dbref search, rather than matching the item right next to you. B) What is the expected output? What do you see instead (tracebacks, error messages)? Ordinary commands should never search by dbref unless you explicitly request it (The MUCK engine, which I'm currently using, requires you to put a # in front of the number to search by dbref)\n\nOrdinary end users don't care about dbrefs, and this will understandably confuse them. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest from mercurial at the time of bug filing. D) Please provide any additional information or suggestions below. obj.search seems to default, in the event you pass in a numerical string, to searching by dbref.  Perhaps this should change.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=284_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/284/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/282", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/282/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/282/events", "html_url": "https://github.com/evennia/evennia/issues/282", "id": 26059560, "node_id": "MDU6SXNzdWUyNjA1OTU2MA==", "number": 282, "title": "obj.locks.get('access_type') doesn't return a string", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:16:55Z", "updated_at": "2014-01-22T01:16:58Z", "closed_at": "2014-01-22T01:16:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 03, 2012 03:53:31_\n\nA) What steps will reproduce the problem? @py self.locks.get('puppet') B) What is the expected output? What do you see instead (tracebacks, error messages)? The documentation says it returns a string, but apparently it returns something else.\n\n> > > self.locks.get('puppet')\n> > > <<< (u'&#37;s or &#37;s or &#37;s', ((<function id at 0x1cac140>, [u'#1'], {}), (<function perm at 0x1ca8de8>, [u'Immortals'], {}), (<function pperm at 0x1ca8ed8>, [u'Immortals'], {})), u'puppet:id(#1) or perm(Immortals) or pperm(Immortals)') C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest version from mercurial at the time of bug filing. D) Please provide any additional information or suggestions below. I want to check to see if a specific check's lock string has a specific value.  It seemed by the documentation that 'get()' was what I needed.  Let me know if there's a better option.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=282_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/282/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/280", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/280/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/280/events", "html_url": "https://github.com/evennia/evennia/issues/280", "id": 26059551, "node_id": "MDU6SXNzdWUyNjA1OTU1MQ==", "number": 280, "title": "Problem searching with a candidate", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:16:47Z", "updated_at": "2014-01-22T01:16:50Z", "closed_at": "2014-01-22T01:16:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 03, 2012 01:56:51_\n\nA) What steps will reproduce the problem? @py ev.search_object('xyzabc', candidates=self.location) B) What is the expected output? What do you see instead (tracebacks, error messages)? Got a traceback.\n\n> > > ev.search_object('xyzabc', candidates=self.location)\n> > > <<<   File \"/home/latitude/live/evennia/src/typeclasses/managers.py\", line 44, in func\n> > > <<<     matches = method(self, _args, *_kwargs)\n> > > <<<   File \"/home/latitude/live/evennia/src/objects/manager.py\", line 280, in object_search\n> > > <<<     matches = _searcher(ostring, exact=True)\n> > > <<<   File \"/home/latitude/live/evennia/src/objects/manager.py\", line 264, in _searcher\n> > > <<<     return self.get_objs_with_key_or_alias(ostring, exact=exact, candidates=candidates)\n> > > <<<   File \"/home/latitude/live/evennia/src/typeclasses/managers.py\", line 44, in func\n> > > <<<     matches = method(self, _args, *_kwargs)\n> > > <<<   File \"/home/latitude/live/evennia/src/objects/manager.py\", line 186, in get_objs_with_key_or_alias\n> > > <<<     candidates_id = [_GA(obj, \"id\") for obj in make_iter(candidates) if obj]\n> > > <<< AttributeError: 'LatitudeRoom' object has no attribute 'id' C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest from mercurial at time of bug report. D) Please provide any additional information or suggestions below. This seems to happen no matter what I put under candidates.  Hopefully it has nothing to do with changing all the object base classes.  (LatitudeRoom in the case above..)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=280_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/280/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/276", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/276/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/276/events", "html_url": "https://github.com/evennia/evennia/issues/276", "id": 26059537, "node_id": "MDU6SXNzdWUyNjA1OTUzNw==", "number": 276, "title": "@ic command currently appears to be broken", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:16:33Z", "updated_at": "2014-01-22T01:16:35Z", "closed_at": "2014-01-22T01:16:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 01, 2012 06:07:06_\n\n@ic <anything>\n\nTraceback (most recent call last):\n  File \"/Users/kelketek/projects/evennia/src/commands/cmdhandler.py\", line 269, in cmdhandler\n    ret = yield cmd.func()\n  File \"/Users/kelketek/projects/evennia/src/commands/default/general.py\", line 680, in func\n    new_character = search.objects(self.args, caller, global_search=True, single_result=True)\n  File \"/Users/kelketek/projects/evennia/src/typeclasses/managers.py\", line 44, in func\n    matches = method(self, _args, *_kwargs)\nTypeError: object_search() got an unexpected keyword argument 'global_search'\n\nAbove traceback is from an untrapped error. Please file a bug report.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=276_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/275", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/275/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/275/events", "html_url": "https://github.com/evennia/evennia/issues/275", "id": 26059536, "node_id": "MDU6SXNzdWUyNjA1OTUzNg==", "number": 275, "title": "Stock create command isn't working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:16:30Z", "updated_at": "2014-01-22T01:16:32Z", "closed_at": "2014-01-22T01:16:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on October 01, 2012 04:16:53_\n\nA) What steps will reproduce the problem? 1. 'create test test' on the login screen B) What is the expected output? What do you see instead (tracebacks, error messages)? Got this:\n\nTraceback (most recent call last):\n  File \"/home/latitude/live/evennia/src/commands/default/unloggedin.py\", line 186, in func\n    if not pchannel.connect_to(new_player):\nAttributeError: 'NoneType' object has no attribute 'connect_to'\n\nThis is a bug. Please e-mail an admin if the problem persists. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest version from mercurial D) Please provide any additional information or suggestions below. Looks like it's unable to grab the public channel somehow.  I didn't debug it because I intend to make my own create command anyway, but here's what my relevant config section looks like.  IIRC I just copied the default and changed the lock a bit:\n###### \n# In-game Channels created from server start\n###### \n# Defines a dict with one key for each from-start\n# channel. Each key points to a tuple containing\n# (name, aliases, description, locks)\n# where aliases may be a tuple too, and locks is\n# a valid lockstring definition.\n# Default user channel for communication\n\nCHANNEL_PUBLIC = (\"Public\", ('ooc',), 'Public discussion',\n                  \"control:perm(Janitors);listen:all();send:all()\")\n# General info about the server\n\nCHANNEL_MUDINFO = (\"MUDinfo\", '', 'Informative messages',\n                   \"control:perm(Janitors);listen:perm(Janitors);send:false()\")\n# Channel showing when new people connecting\n\nCHANNEL_CONNECTINFO = (\"MUDconnections\", '', 'Connection log',\n                       \"control:perm(Janitors);listen:perm(Janitors);send:false()\")\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=275_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/272", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/272/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/272/events", "html_url": "https://github.com/evennia/evennia/issues/272", "id": 26059523, "node_id": "MDU6SXNzdWUyNjA1OTUyMw==", "number": 272, "title": "INVENTORY command not found when command input uppercase", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:16:15Z", "updated_at": "2014-01-22T01:16:18Z", "closed_at": "2014-01-22T01:16:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sechrest...@gmail.com](https://code.google.com/u/116006519673119352897/) on September 29, 2012 05:49:12_\n\nA) What steps will reproduce the problem? 1. Log in to character\n2. Put on caps lock and type INVENTORY or INV\n3. Note that command appears to be case sensitive B) What is the expected output? What do you see instead (tracebacks, error messages)? Other commands appear not to be case sensitive, so expect the same for inventory. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. I'm looking through the relevant parsing modules but can't yet figure out why this is only affecting the inventory command.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=272_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/270", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/270/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/270/events", "html_url": "https://github.com/evennia/evennia/issues/270", "id": 26059516, "node_id": "MDU6SXNzdWUyNjA1OTUxNg==", "number": 270, "title": "No admin commands in default_cmds", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:16:10Z", "updated_at": "2014-01-22T01:16:11Z", "closed_at": "2014-01-22T01:16:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 29, 2012 03:20:53_\n\ndefault_cmds doesn't seem to have admin commands.  Line 197, ev.py\n\nIs that intentional?\n\nIt imports the admin commands, but doesn't add_cmds() it, it seems.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=270_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/269", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/269/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/269/events", "html_url": "https://github.com/evennia/evennia/issues/269", "id": 26059514, "node_id": "MDU6SXNzdWUyNjA1OTUxNA==", "number": 269, "title": "Latest migrations error out.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:16:04Z", "updated_at": "2014-01-22T01:16:08Z", "closed_at": "2014-01-22T01:16:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on September 28, 2012 04:53:40_\n\nA) What steps will reproduce the problem? 1. hg pull ; hg update\n2. in game: manage.py migrate B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected it to work. :)\n\nGot: http://pastebin.com/7cQdFNVY C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest Evennia\nDebian 6.0.5 testing\npython 2.7\ntwisted 12.0\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=269_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/267", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/267/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/267/events", "html_url": "https://github.com/evennia/evennia/issues/267", "id": 26059511, "node_id": "MDU6SXNzdWUyNjA1OTUxMQ==", "number": 267, "title": "object_search matches by dbref even if searching for attributes", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:15:59Z", "updated_at": "2014-01-22T01:16:01Z", "closed_at": "2014-01-22T01:16:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 28, 2012 01:49:52_\n\nThis will return object #110:\n@py ev.search_object(110, attribute_name='area_id')\n\nYou probably need a 'if not attribute_name' at src/objects/manager.py line 272\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=267_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/265", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/265/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/265/events", "html_url": "https://github.com/evennia/evennia/issues/265", "id": 26059506, "node_id": "MDU6SXNzdWUyNjA1OTUwNg==", "number": 265, "title": "Multiple of the same alias can exist, and causes a multiple match.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:15:53Z", "updated_at": "2014-01-22T01:15:55Z", "closed_at": "2014-01-22T01:15:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 26, 2012 06:57:55_\n\nA) What steps will reproduce the problem? 1. @create test;xyz;abc;abc\n2. look abc B) What is the expected output? What do you see instead (tracebacks, error messages)? More than one match for 'abc' (please narrow target):\n 1-test (carried)\n 2-test (carried)\n\nAlthough having two of the same alias is silly and probably a mistake, the way Evennia handles it is strange.  Perhaps not allowing the same alias twice, or not having it match multiple times would be best.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=265_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/264", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/264/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/264/events", "html_url": "https://github.com/evennia/evennia/issues/264", "id": 26059504, "node_id": "MDU6SXNzdWUyNjA1OTUwNA==", "number": 264, "title": "@alias command seems to search globally", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:15:50Z", "updated_at": "2014-01-22T01:15:52Z", "closed_at": "2014-01-22T01:15:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 26, 2012 06:17:48_\n\nA) What steps will reproduce the problem? 1. @create zorp\n2. drop zorp\n3. <move to another room>\n4. @alias zorp=test <-- Works B) What is the expected output? What do you see instead (tracebacks, error messages)? I would expect this to not do a global search.  I have about a quazillon exits named 'out' on my world so it produces an unmanageable list of alternatives when I do @alias out=o\n\nIn general/building.py:\n        # Find the object to receive aliases\n        obj = caller.search(objname, global_search=True)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=264_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/263", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/263/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/263/events", "html_url": "https://github.com/evennia/evennia/issues/263", "id": 26059499, "node_id": "MDU6SXNzdWUyNjA1OTQ5OQ==", "number": 263, "title": "Web Client - Idle Issues (possibly isolated to Chrome)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:15:47Z", "updated_at": "2014-01-22T01:15:49Z", "closed_at": "2014-01-22T01:15:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sechrest...@gmail.com](https://code.google.com/u/116006519673119352897/) on September 26, 2012 03:19:19_\n\nA) What steps will reproduce the problem? 1. Open web client in Chrome\n2. Log in to a character\n3. Allow client to sit idle for approximately 10+ minutes\n4. Return to client and input some commands (I use \"look\")\n5. Repeat steps 1-4 with more time sitting idle B) What is the expected output? What do you see instead (tracebacks, error messages)? After short idle time of 10 minutes, returning to the client and inputting commands produces no output.  The client \"eats\" a few commands before giving feedback.\n\nAfter a longer idle time, the web client may give repeating red-lettered errors reading: \"Error: Server returned an error or timed out. Try resending or reloading the page.\"  This also causes the localhost webpage to hang until you close the web client tab, then the webpage comes back to life. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Latest Evennia, using Chrome 21.0.1180.89 m, Windows XP box\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=263_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/262", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/262/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/262/events", "html_url": "https://github.com/evennia/evennia/issues/262", "id": 26059493, "node_id": "MDU6SXNzdWUyNjA1OTQ5Mw==", "number": 262, "title": "Aliases cause an object to match twice", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:15:41Z", "updated_at": "2014-01-22T01:15:46Z", "closed_at": "2014-01-22T01:15:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 26, 2012 02:06:41_\n\nI noticed this when making the tutorial world.  There was an alias on the 'tutorial' exit called 'tut'.\n\nWhen I entered 'tutorial' it matched the same object twice.\n\nTo reproduce, simply make the tutorial world and try going in.  It will ask you which tutorial exit you meant, even though there's only one.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=262_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/261", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/261/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/261/events", "html_url": "https://github.com/evennia/evennia/issues/261", "id": 26059489, "node_id": "MDU6SXNzdWUyNjA1OTQ4OQ==", "number": 261, "title": "Error while trying to create the tutorial world", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:15:38Z", "updated_at": "2014-01-22T01:15:40Z", "closed_at": "2014-01-22T01:15:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 26, 2012 00:37:44_\n\nI get this output from the totorial world creation.  As of bug filing, I'm using the most recent version from mercurial.\n\nCommand: @batchcommand contrib.tutorial_world.build\n\n---\n\nRunning Batch-command processor - Automatic mode for contrib.tutorial_world.build (this might take some time) ...\nTraceback (most recent call last):\n  File \"/home/latitude/test/evennia/src/commands/cmdhandler.py\", line 269, in cmdhandler\n    ret = yield cmd.func()\n  File \"/home/latitude/test/evennia/src/commands/default/batchprocess.py\", line 275, in func\n    if settings.PROCPOOL_ENABLED:\n  File \"/usr/lib64/python2.6/site-packages/django/utils/functional.py\", line 277, in **getattr**\n    return getattr(self._wrapped, name)\nAttributeError: 'Settings' object has no attribute 'PROCPOOL_ENABLED'\n\nAbove traceback is from an untrapped error. Please file a bug report.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=261_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/260", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/260/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/260/events", "html_url": "https://github.com/evennia/evennia/issues/260", "id": 26059486, "node_id": "MDU6SXNzdWUyNjA1OTQ4Ng==", "number": 260, "title": "IPv6 not working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:15:34Z", "updated_at": "2014-01-22T01:15:37Z", "closed_at": "2014-01-22T01:15:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 25, 2012 22:58:07_\n\nI'm not sure if this is an evennia problem, or a twisted problem, but when I add this to my config it doesn't listen on telnet:\nTELNET_INTERFACES = ['0.0.0.0', '::']\n\nThe worst part is that if IPv6 is actually not supported, evennia is giving me no indication, and silently failing to start telnet entirely, on BOTH ipv4 and ipv6.\n\nIf IPv6 is meant to be supported it doesn't seem to be working for me, and if it's not meant to be supported, it's not gracefully supplying an error message.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=260_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/259", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/259/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/259/events", "html_url": "https://github.com/evennia/evennia/issues/259", "id": 26059483, "node_id": "MDU6SXNzdWUyNjA1OTQ4Mw==", "number": 259, "title": "Error spew from @script/start and @script/stop", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:15:32Z", "updated_at": "2014-01-22T01:15:33Z", "closed_at": "2014-01-22T01:15:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 25, 2012 05:43:33_\n\nI tried these commands based on help @script\n\n@script self = examples.bodyfunctions.BodyFunctions <-- Works\n@script/start self = examples.bodyfunctions.BodyFunctions <-- Produces the error output below\n@script/stop self = examples.bodyfunctions.BodyFunctions <-- Same error output below.\n@script/stop <-- Works\n\n---\n\nTraceback (most recent call last):\n  File \"/home/latitude/test/evennia/src/commands/cmdhandler.py\", line 269, in cmdhandler\n    ret = yield cmd.func()\n  File \"/home/latitude/test/evennia/src/commands/default/building.py\", line 2021, in func\n    ok = obj.scripts.start(path)\n  File \"/home/latitude/test/evennia/src/scripts/scripthandler.py\", line 67, in start\n    scripts = ScriptDB.objects.get_all_scripts_on_obj(self.obj, key=scriptid)\n  File \"/home/latitude/test/evennia/src/typeclasses/managers.py\", line 44, in func\n    matches = method(self, _args, *_kwargs)\n  File \"/home/latitude/test/evennia/src/scripts/manager.py\", line 48, in get_all_scripts_on_obj\n    if not script:\nUnboundLocalError: local variable 'script' referenced before assignment\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=259_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/258", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/258/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/258/events", "html_url": "https://github.com/evennia/evennia/issues/258", "id": 26059478, "node_id": "MDU6SXNzdWUyNjA1OTQ3OA==", "number": 258, "title": "@quit saves your location for the next login.  Disconnecting doesn't.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:15:29Z", "updated_at": "2014-01-22T01:15:31Z", "closed_at": "2014-01-22T01:15:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [daniel@benoy.name](https://code.google.com/u/daniel@benoy.name/) on September 25, 2012 05:03:27_\n\nA) What steps will reproduce the problem? 1. Disconnect with @quit.  Notice that it updates prelogout_location on your character\n2. Disconnect with your client, terminating the connection.  Notice that it does not update prelogout_location on your character. B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Up to date from mercurial as of the time of filing this bug. D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=258_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/257", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/257/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/257/events", "html_url": "https://github.com/evennia/evennia/issues/257", "id": 26059475, "node_id": "MDU6SXNzdWUyNjA1OTQ3NQ==", "number": 257, "title": "AMP listening on all interfaces.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:15:25Z", "updated_at": "2014-01-22T01:15:28Z", "closed_at": "2014-01-22T01:15:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on September 23, 2012 23:26:22_\n\nA) What steps will reproduce the problem? 1. Run server with AMP and PROCPOOLS enabled. B) What is the expected output? What do you see instead (tracebacks, error messages)? Default setting has AMP_HOST = 'localhost' but it is listening on all interfaces. Default setting for procpools SHOULD be 127.0.0.1 rather than 0.0.0.0. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest Evennia.\nDebian 6 testing.\nPython 2.7.3\nDjango 1.4\nTwisted 12.0 D) Please provide any additional information or suggestions below. Suggest ensuring that these two services on ports 5000 and 5001 are listening ONLY on 127.0.0.1 and that their respective settings are obeyed.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=257_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/257/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/256", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/256/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/256/events", "html_url": "https://github.com/evennia/evennia/issues/256", "id": 26059472, "node_id": "MDU6SXNzdWUyNjA1OTQ3Mg==", "number": 256, "title": "@set command fails to set int, float and boolean values properly", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:15:23Z", "updated_at": "2014-01-22T01:15:25Z", "closed_at": "2014-01-22T01:15:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [fonta.spezia](https://code.google.com/u/fonta.spezia/) on September 22, 2012 19:50:25_\n\nA) What steps will reproduce the problem? 1. Create an object: @create an object\n2. Set a new attribute: @set an object\\integer = 1\n3. Check if it's really an integer: @py self.contents[0].integer + 1 B) What is the expected output? What do you see instead (tracebacks, error messages)? The @set command should handle integer, float and boolean properly.\nStep 3 will raise a ValueError exception instead. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest evennia on Ubuntu with Python 2.7 D) Please provide any additional information or suggestions below. The if/then statements in convert_from_string() method prevent integer, float and boolean values to be evaluated by the literal_eval() function. Just remove them.\nYou will likely want to add an except ValueError to catch errors from literal_eval when the input is a string without \"\" (99&#37; of cases).\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=256_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/256/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/254", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/254/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/254/events", "html_url": "https://github.com/evennia/evennia/issues/254", "id": 26059466, "node_id": "MDU6SXNzdWUyNjA1OTQ2Ng==", "number": 254, "title": "DROP command and multimatch quirk", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-22T01:15:15Z", "updated_at": "2014-01-22T01:15:20Z", "closed_at": "2014-01-22T01:15:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sechrest...@gmail.com](https://code.google.com/u/116006519673119352897/) on September 19, 2012 06:37:43_\n\nA) What steps will reproduce the problem? 1. Log into game instance and connect a character\n2. Create three generic objects called \"box\" using \"@create box\" three times\n3. Type \"drop box\" and get multi match list showing three boxes\n4. Type \"drop 1-box\" and the first box should drop\n5. Type \"drop box\" and again get multi match showing the two remaining boxes in your inventory\n6. Type \"drop 1-box\" and get feedback of \"Could not find '1-box'.\" B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected output is that it should properly drop the 1-box in the second round of dropping since the multi-match feedback clearly shows a 1-box and 2-box. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Latest revision of Evennia on a Windows XP box.  I'm currently looking through the multi-match code to see if fixing this is to my ability.\n\nPastebin of game feedback here: http://pastebin.com/fiEajrgE\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=254_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/253", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/253/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/253/events", "html_url": "https://github.com/evennia/evennia/issues/253", "id": 26059459, "node_id": "MDU6SXNzdWUyNjA1OTQ1OQ==", "number": 253, "title": "ampoule import error while spawning processs. (win32 only I think)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-22T01:15:10Z", "updated_at": "2014-01-22T01:15:15Z", "closed_at": "2014-01-22T01:15:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on September 18, 2012 23:23:18_\n\nA) What steps will reproduce the problem? 1. activate ampoule in settings.py\n2. python evennia.py -i start\n\nB) What is the expected output? What do you see instead (tracebacks, error messages)?\n\nExpected output is none.\n\n2012-09-18 17:15:52-0400 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"C:\\Users\\Chris\\AppData\\Roaming\\Python\\Python27\\site-packages\\twisted\\application\\app.py\", line 402, in startReactor\n            self.config, oldstdout, oldstderr, self.profiler, reactor)\n          File \"C:\\Users\\Chris\\AppData\\Roaming\\Python\\Python27\\site-packages\\twisted\\application\\app.py\", line 323, in runReactorWithLogging\n            reactor.run()\n          File \"C:\\Users\\Chris\\AppData\\Roaming\\Python\\Python27\\site-packages\\twisted\\internet\\base.py\", line 1169, in run\n            self.mainLoop()\n          File \"C:\\Users\\Chris\\AppData\\Roaming\\Python\\Python27\\site-packages\\twisted\\internet\\base.py\", line 1178, in mainLoop\n            self.runUntilCurrent()\n        --- <exception caught here> ---\n          File \"C:\\Users\\Chris\\AppData\\Roaming\\Python\\Python27\\site-packages\\twisted\\internet\\base.py\", line 800, in runUntilCurrent\n            call.func(_call.args, *_call.kw)\n          File \"C:\\Users\\Chris\\Evennia\\evennia-mygame\\src\\utils\\ampoule\\pool.py\", line 100, in start\n            return self.adjustPoolSize()\n          File \"C:\\Users\\Chris\\Evennia\\evennia-mygame\\src\\utils\\ampoule\\pool.py\", line 370, in adjustPoolSize\n            self.startAWorker()\n          File \"C:\\Users\\Chris\\Evennia\\evennia-mygame\\src\\utils\\ampoule\\pool.py\", line 197, in startAWorker\n            ampChildArgs=self.ampChildArgs)\n          File \"C:\\Users\\Chris\\Evennia\\evennia-mygame\\src\\utils\\ampoule\\main.py\", line 249, in startAMPProcess\n            return self.startPythonProcess(prot, *args)\n          File \"C:\\Users\\Chris\\Evennia\\evennia-mygame\\src\\utils\\ampoule\\main.py\", line 265, in startPythonProcess\n            usePTY=self.usePTY, packages=self.packages)\n          File \"C:\\Users\\Chris\\Evennia\\evennia-mygame\\src\\utils\\ampoule\\main.py\", line 281, in spawnProcess\n            p = os.path.split(imp.find_module(pkg)[1])[0]\n        exceptions.ImportError: No module named ..\\src\\utils\\ampoule C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest Evennia\nWin7-64 on AMD64 with python32 D) Please provide any additional information or suggestions below. It looks like the ampoule/main.py is using a NOT windows friendly way to find the ampoule module. Sorry I can't make a suggestion.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=253_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/252", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/252/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/252/events", "html_url": "https://github.com/evennia/evennia/issues/252", "id": 26059457, "node_id": "MDU6SXNzdWUyNjA1OTQ1Nw==", "number": 252, "title": "DROP command - Referenced before assignment traceback in src\\objects\\models.py", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:15:06Z", "updated_at": "2014-01-22T01:15:09Z", "closed_at": "2014-01-22T01:15:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sechrest...@gmail.com](https://code.google.com/u/116006519673119352897/) on September 18, 2012 02:53:10_\n\nA) What steps will reproduce the problem? 1. Create an object (without the /drop flag), or pick up an object\n2. Use the drop command to attempt to drop it 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected out put is that the object will be dropped.  Instead, we get a traceback:\n\nTraceback (most recent call last):\n  File \"C:\\Program Files\\evennia\\src\\commands\\cmdhandler.py\", line 268, in cmdhandler\n    ret = yield cmd.func()\n  File \"C:\\Program Files\\evennia\\src\\commands\\default\\general.py\", line 326, in func\n    results = caller.search(self.args, ignore_errors=True)\n  File \"C:\\Program Files\\evennia\\src\\objects\\objects.py\", line 191, in search\n    player=player)\n  File \"C:\\Program Files\\evennia\\src\\objects\\models.py\", line 588, in search\n    return result\nUnboundLocalError: local variable 'result' referenced before assignment C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest revision (today), running on Windows XP. D) Please provide any additional information or suggestions below. With lagos_ help, we changed the block of code on line 584 of /src/objects/models.py: http://pastebin.com/SPjYJ3WS I made this change on my system and it appears to fix the problem.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=252_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/251", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/251/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/251/events", "html_url": "https://github.com/evennia/evennia/issues/251", "id": 26059453, "node_id": "MDU6SXNzdWUyNjA1OTQ1Mw==", "number": 251, "title": "Portal home page nost listing correct number of rooms.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:15:02Z", "updated_at": "2014-01-22T01:15:06Z", "closed_at": "2014-01-22T01:15:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on September 16, 2012 07:27:12_\n\nA) What steps will reproduce the problem? Run the portal server and load the home page. B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected output is a rendition of the correct number of rooms in the database. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia Beta- rbcc43e303538 +\nOS nt\nPython 2.7.2\nDjango 1.4\nTwisted 12.0.0\nSouth 0.7.5 D) Please provide any additional information or suggestions below. Looks like ...\n\n```\nrooms = [room for room in ObjectDB.objects.filter(db_home__isnull=True) if room not in exits]\n```\n\nin src/web/website/views.py\n\nis not doing the trick.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=251_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/249", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/249/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/249/events", "html_url": "https://github.com/evennia/evennia/issues/249", "id": 26059439, "node_id": "MDU6SXNzdWUyNjA1OTQzOQ==", "number": 249, "title": "Problems with admin interface and 500 server error", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-01-22T01:14:51Z", "updated_at": "2014-01-22T01:14:57Z", "closed_at": "2014-01-22T01:14:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [thomas.w...@dsl.pipex.com](https://code.google.com/u/115592176905516330250/) on September 11, 2012 20:22:56_\n\nA) What steps will reproduce the problem? 1. Running on mysql and latest 1.4.1 django and evennnia\n2. Load in tutorial - move character to any location\n3. Load in admin interface and try and move character to a new location by editing the object.  e.g. set to Cliff by sea, click save and a 500 is displayed.\n4. Tried to add a news item - same 500 error\n\nAlso noticed with tutorial loaded (and working!) number of rooms is still zero on front page although there are a whole number of exits. B) What is the expected output? What do you see instead (tracebacks, error messages)? Server Error 500 page only C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Version checked out today 11th September on Centos 6.3 linux running on firefox 10.6 D) Please provide any additional information or suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=249_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/249/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/248", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/248/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/248/events", "html_url": "https://github.com/evennia/evennia/issues/248", "id": 26059435, "node_id": "MDU6SXNzdWUyNjA1OTQzNQ==", "number": 248, "title": "Portal wont start", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:14:46Z", "updated_at": "2014-01-22T01:14:50Z", "closed_at": "2014-01-22T01:14:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [zag...@gmail.com](https://code.google.com/u/109002633429126111225/) on September 01, 2012 20:48:37_\n\nA) What steps will reproduce the problem? 1. python evennia -i start B) What is the expected output? What do you see instead (tracebacks, error messages)? Starting Evennia Server (output to stdout).\n\nStarting Evennia Portal in Daemon mode (output to portal logfile).\n\n---\n\n Evennia Portal (Beta- r5da38a27d46e ) started.\n  amp (Server): 5000\n  telnet: 4000\n##   webserver/client: 8000\n\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/twisted/application/app.py\", line 631, in run\n    runApp(config)\n  File \"/usr/lib64/python2.7/site-packages/twisted/scripts/twistd.py\", line 23, in runApp\n    _SomeApplicationRunner(config).run()\n  File \"/usr/lib64/python2.7/site-packages/twisted/application/app.py\", line 374, in run\n    self.application = self.createOrGetApplication()\n  File \"/usr/lib64/python2.7/site-packages/twisted/application/app.py\", line 439, in createOrGetApplication\n    application = getApplication(self.config, passphrase)\n--- <exception caught here> ---\n  File \"/usr/lib64/python2.7/site-packages/twisted/application/app.py\", line 450, in getApplication\n    application = service.loadApplication(filename, style, passphrase)\n  File \"/usr/lib64/python2.7/site-packages/twisted/application/service.py\", line 400, in loadApplication\n    application = sob.loadValueFromFile(filename, 'application', passphrase)\n  File \"/usr/lib64/python2.7/site-packages/twisted/persisted/sob.py\", line 210, in loadValueFromFile\n    exec fileObj in d, d\n  File \"/home/zagloj/crearmud/evennia/src/server/portal.py\", line 201, in <module>\n    from src.server import telnet\n  File \"/home/zagloj/crearmud/evennia/src/server/telnet.py\", line 10, in <module>\n    from twisted.conch.telnet import Telnet, StatefulTelnetProtocol, IAC, LINEMODE\nexceptions.ImportError: No module named conch.telnet\n\nFailed to load application: No module named conch.telnet\n\n---\n\n Evennia Server (Beta- r5da38a27d46e ) started.\n##   amp (Portal): 5000\n\n2012-09-01 18:40:36+0000 [-] Log opened.\n2012-09-01 18:40:36+0000 [-] twistd 10.2.0 (/usr/bin/python2.7 2.7.3) starting up.\n2012-09-01 18:40:36+0000 [-] reactor class: twisted.internet.selectreactor.SelectReactor.\n2012-09-01 18:40:36+0000 [-] src.server.amp.AmpServerFactory starting on 5000\n2012-09-01 18:40:36+0000 [-] Starting factory <src.server.amp.AmpServerFactory instance at 0x1a79d88>\n./evennia.py stop\nEvennia: The Portal does not seem to be running. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Cloned as of 1 September 2012. Gentoo Linux. All the installation procedure was fine and I have installed twisted (I can call twistd), django 1.4 (I used it before and worked), pil, and South D) Please provide any additional information or suggestions below. I cannot connect from the web client nor from the telnet (mud client). Any help would be much appreciated.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=248_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/247", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/247/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/247/events", "html_url": "https://github.com/evennia/evennia/issues/247", "id": 26059433, "node_id": "MDU6SXNzdWUyNjA1OTQzMw==", "number": 247, "title": "Same-named command alias will lead to multi-match error bug", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:14:44Z", "updated_at": "2014-01-22T01:14:45Z", "closed_at": "2014-01-22T01:14:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on August 12, 2012 00:56:20_\n\nA) What steps will reproduce the problem? 1.Create command where key and alias is the same\n2.When running the command, the result is a traceback in the multimatch handler. B) What is the expected output? What do you see instead (tracebacks, error messages)? doubling key and alias makes no sense, the handler should ignore such\ndoublets. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This is a fringe condition. Some more error checking is needed, and also some more analysis to understand exactly why there isn't a normal multimatch when this error occurs. Correct handling would be for the parser\nto ignore matches against the same cmd object.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=247_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/246", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/246/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/246/events", "html_url": "https://github.com/evennia/evennia/issues/246", "id": 26059430, "node_id": "MDU6SXNzdWUyNjA1OTQzMA==", "number": 246, "title": "web client references non-existing django template", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:14:41Z", "updated_at": "2014-01-22T01:14:43Z", "closed_at": "2014-01-22T01:14:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [alex.alk...@gmail.com](https://code.google.com/u/117371218067595346055/) on August 01, 2012 13:03:46_\n\nI ran the command\n\npython manage.py runserver localhost:8000\nValidating models...\n\n0 errors found\nDjango version 1.5, using settings 'game.settings'\nDevelopment server is running at http://localhost:8000/\nQuit the server with CTRL-BREAK.\n\nThe server started fine with no problems however when I went to localhost:8000, the browser output \"A server error occurred.  Please contact the administrator.\" This seems to be because the web client is referencing the simple.py django template that was removed from the django build about 3 months ago. This can be seen in the server output when you visit the URL:\n\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\wsgiref\\handlers.py\", line 85, in run\n    self.result = application(self.environ, self.start_response)\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\handlers\\wsgi.py\", line 237, in **call**\n    response = self.get_response(request)\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 182, in get_response\n    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 227, in handle_uncaught_exception\n    if resolver.urlconf_module is None:\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\urlresolvers.py\", line 329, in urlconf_module\n    self._urlconf_module = import_module(self.urlconf_name)\n  File \"C:\\Python27\\lib\\site-packages\\django\\utils\\importlib.py\", line 35, in import_module\n    __import__(name)\n  File \"C:\\Users\\alex\\Documents\\evenniaRelated\\evennia\\src\\web\\urls.py\", line 47, in <module>\n    url(r'^webclient/',include('src.web.webclient.urls')),\n  File \"C:\\Python27\\lib\\site-packages\\django\\conf\\urls__init__.py\", line 25, in include\n    urlconf_module = import_module(urlconf_module)\n  File \"C:\\Python27\\lib\\site-packages\\django\\utils\\importlib.py\", line 35, in import_module\n    **import**(name)\n  File \"C:\\Users\\alex\\Documents\\evenniaRelated\\evennia\\src\\web\\webclient\\urls.py\", line 6, in <module>\n    from django.views.generic.simple import direct_to_template\nImportError: No module named simple\n[01/Aug/2012 06:35:37] \"GET / HTTP/1.1\" 500 59\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\wsgiref\\handlers.py\", line 85, in run\n    self.result = application(self.environ, self.start_response)\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\handlers\\wsgi.py\", line 237, in **call**\n    response = self.get_response(request)\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 182, in get_response\n    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 227, in handle_uncaught_exception\n    if resolver.urlconf_module is None:\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\urlresolvers.py\", line 329, in urlconf_module\n    self._urlconf_module = import_module(self.urlconf_name)\n  File \"C:\\Python27\\lib\\site-packages\\django\\utils\\importlib.py\", line 35, in import_module\n    __import__(name)\n  File \"C:\\Users\\alex\\Documents\\evenniaRelated\\evennia\\src\\web\\urls.py\", line 47, in <module>\n    url(r'^webclient/',include('src.web.webclient.urls')),\n  File \"C:\\Python27\\lib\\site-packages\\django\\conf\\urls__init__.py\", line 25, in include\n    urlconf_module = import_module(urlconf_module)\n  File \"C:\\Python27\\lib\\site-packages\\django\\utils\\importlib.py\", line 35, in import_module\n    **import**(name)\n  File \"C:\\Users\\alex\\Documents\\evenniaRelated\\evennia\\src\\web\\webclient\\urls.py\", line 6, in <module>\n    from django.views.generic.simple import direct_to_template\nImportError: No module named simple\n[01/Aug/2012 06:35:37] \"GET /media/images/favicon.ico HTTP/1.1\" 500 59\n\nA) To reproduce this error:\n1. Go to http://code.google.com/p/evennia/wiki/GettingStarted and follow steps 1 through 4. I downloaded all necessary and optional/recommended modules and none gave any errors on install; all seem to be working properly.\n2. Go to localhost:8000, it should produce \"A server error occurred.  Please contact the administrator.\"\n3. Now go to {pythonFolder}/Lib/site-packages/django/views/generic, notice how simple.py is missing.\n4. Copy simple.py from https://github.com/django/django/commit/1858e47672 into this directory and repeat step 2.\n\nYou should see the web client (albeit the images don't show up and you can't login)\n\nC) I'm using evennia Beta, the latest build was obtained using mercurial on August 1st, 2012. This was all done on Vista 64 bit.\n\nEverything else works like a charm, just this one bit I was particularly excited on playing around with. I love what you guys are doing and am super excited about this project. If I can help let me know at alex.alksne@gmail.com!\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=246_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/245", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/245/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/245/events", "html_url": "https://github.com/evennia/evennia/issues/245", "id": 26059423, "node_id": "MDU6SXNzdWUyNjA1OTQyMw==", "number": 245, "title": "Error running evennia.py -i start  after initial install", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-22T01:14:36Z", "updated_at": "2014-01-22T01:14:40Z", "closed_at": "2014-01-22T01:14:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [kevin...@gmail.com](https://code.google.com/u/114267598319367221935/) on July 06, 2012 09:31:47_\n\nA) What steps will reproduce the problem? 1.Running: evennia.py -i start\n\nB) What is the expected output? What do you see instead (tracebacks, error messages)?\nI get the following errors:\n[/home/evennia/game] # python evennia.py -i start\n\nStarting Evennia Server (output to stdout).\n\nStarting Evennia Portal in Daemon mode (output to portal logfile).\nServer process error: [Errno 2] No such file or directory\nUnhandled exception in thread started by <function server_waiter at 0x64d870>\nTraceback (most recent call last):\n  File \"runner.py\", line 147, in server_waiter\n    queue.put((\"server_stopped\", rc)) # this signals the controller that the program finished\nUnboundLocalError: local variable 'rc' referenced before assignment\nTraceback (most recent call last):\n  File \"runner.py\", line 307, in <module>\n    main()\n  File \"runner.py\", line 301, in main\n    start_services(server_argv, portal_argv)\n  File \"runner.py\", line 166, in start_services\n    PORTAL = Popen(portal_argv)\n  File \"/share/MD0_DATA/.qpkg/Python/lib/python2.7/subprocess.py\", line 672, in **init**\n    errread, errwrite)\n  File \"/share/MD0_DATA/.qpkg/Python/lib/python2.7/subprocess.py\", line 1201, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory\n\nC) What version/svn revision of Evennia are you using? \ncurrent as of 7/6/2012 via mercurial \n\nOn what operating system? \nlinux\n\nGive as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information/suggestions below. The path prefix - /share/MD0_DATA/.qpkg is ok. That's because I'm installing on an ARM embedded device that uses ipkg for package management and that's the appropriate directory.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=245_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/244", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/244/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/244/events", "html_url": "https://github.com/evennia/evennia/issues/244", "id": 26059420, "node_id": "MDU6SXNzdWUyNjA1OTQyMA==", "number": 244, "title": "who shows extra connections after @reload", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:14:33Z", "updated_at": "2014-01-22T01:14:35Z", "closed_at": "2014-01-22T01:14:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [j...@bennerweb.com](https://code.google.com/u/110187411127922463567/) on June 20, 2012 22:41:35_\n\nA) What steps will reproduce the problem? 1. @reload\n2. who\n3. See extra player connections that don't exist B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect to see an actual accounting of who is logged in. Instead, it seems that I see phantom connections. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r0a34a2f87c93 OS X Lion\nPython 2.7.1\nDjango 1.4\nTwisted 11.0.0\nSouth 0.7.5 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=244_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/243", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/243/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/243/events", "html_url": "https://github.com/evennia/evennia/issues/243", "id": 26059414, "node_id": "MDU6SXNzdWUyNjA1OTQxNA==", "number": 243, "title": "cmdset flags not respected", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:14:29Z", "updated_at": "2014-01-22T01:14:32Z", "closed_at": "2014-01-22T01:14:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Kelketek](https://code.google.com/u/Kelketek/) on June 20, 2012 16:14:52_\n\nA) What steps will reproduce the problem? 1. Use the cmdset from this file here: http://pastebin.com/2TCHj2sh 2. Add the quote command to your command set so you can launch it (it adds the quoter cmdset for you)\n3. Run 'quote'\n4. Type in random text, watch it be absorbed\n5. Type a comm command, the look command, or an exit command. B) What is the expected output? What do you see instead (tracebacks, error messages)? You should not be able to run the look command, the comm channel command, or the exit command. These should all be absorbed by the quote command until the user types .end or .abort. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Beta- r0a34a2f87c93 +\nLinux Zion 3.2.0-25-generic #40-Ubuntu SMP Wed May 23 20:30:51 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux\nMint 13 with Ksplice\n\nPython 2.7.3 (default, Apr 20 2012, 22:39:59) \n[GCC 4.6.3] on linux2 D) Please provide any additional information/suggestions below. Can't think of anything else to add.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=243_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/242", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/242/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/242/events", "html_url": "https://github.com/evennia/evennia/issues/242", "id": 26059412, "node_id": "MDU6SXNzdWUyNjA1OTQxMg==", "number": 242, "title": "setting up superuser", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:14:26Z", "updated_at": "2014-01-22T01:14:28Z", "closed_at": "2014-01-22T01:14:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [cipher...@gmail.com](https://code.google.com/u/116855349759479486525/) on June 18, 2012 04:41:37_\n\nA) What steps will reproduce the problem? 1.python manage.py\n2.You just installed Django's auth system, which means you don't have any superusers defined.\nWould you like to create one now? (yes/no): yes 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? ***@saturn1:~/evennia/game$ python manage.py\n\n```\nWelcome to Evennia (version Beta- r0a34a2f87c93 )!\nWe created a fresh settings.py file for you.\n\nEdit your new settings.py file as needed, then run\n'python manage syncdb' and follow the prompts to\ncreate the database and your superuser account.\n```\n\n_**@saturn1:~/evennia/game$ python manage syncdb\npython: can't open file 'manage': [Errno 2] No such file or directory\n*_*@saturn1:~/evennia/game$ python manage.py syncdb\n/usr/local/lib/python2.6/dist-packages/django/conf/**init**.py:75: DeprecationWarning: The ADMIN_MEDIA_PREFIX setting has been removed; use STATIC_URL instead.\n  \"use STATIC_URL instead.\", DeprecationWarning)\nCreating tables ...\nCreating table auth_permission\nCreating table auth_group_permissions\nCreating table auth_group\nCreating table auth_user_user_permissions\nCreating table auth_user_groups\nCreating table auth_user\nCreating table django_site\nCreating table django_content_type\nCreating table django_session\nCreating table django_admin_log\nCreating table django_flatpage_sites\nCreating table django_flatpage\nCreating table server_serverconfig\nCreating table players_playerattribute\nCreating table players_playernick\nCreating table players_playerdb\nCreating table objects_objattribute\nCreating table objects_alias\nCreating table objects_objectnick\nCreating table objects_objectdb\nCreating table comms_msg\nCreating table comms_channel\nCreating table comms_playerchannelconnection\nCreating table comms_externalchannelconnection\nCreating table help_helpentry\nCreating table scripts_scriptattribute\nCreating table scripts_scriptdb\nCreating table news_newstopic\nCreating table news_newsentry\n\nYou just installed Django's auth system, which means you don't have any superusers defined.\nWould you like to create one now? (yes/no): yes\nTraceback (most recent call last):\n  File \"manage.py\", line 169, in <module>\n    execute_manager(settings)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/**init**.py\", line 459, in execute_manager\n    utility.execute()\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/**init**.py\", line 382, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 196, in run_from_argv\n    self.execute(_args, *_options.**dict**)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 371, in handle\n    return self.handle_noargs(*_options)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/commands/syncdb.py\", line 110, in handle_noargs\n    emit_post_sync_signal(created_models, verbosity, interactive, db)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/sql.py\", line 189, in emit_post_sync_signal\n    interactive=interactive, db=db)\n  File \"/usr/local/lib/python2.6/dist-packages/django/dispatch/dispatcher.py\", line 172, in send\n    response = receiver(signal=self, sender=sender, *_named)\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/**init**.py\", line 73, in create_superuser\n    call_command(\"createsuperuser\", interactive=True, database=db)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/**init**.py\", line 150, in call_command\n    return klass.execute(_args, *_defaults)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/commands/createsuperuser.py\", line 70, in handle\n    default_username = get_default_username()\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/**init**.py\", line 105, in get_default_username\n    default_username = get_system_username()\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/**init**.py\", line 85, in get_system_username\n    return getpass.getuser().decode(locale.getdefaultlocale()[1])\nTypeError: decode() argument 1 must be string, not None\n\nC) What version/svn revision of Evennia are you using? On what operating system? latest D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=242_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/241", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/241/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/241/events", "html_url": "https://github.com/evennia/evennia/issues/241", "id": 26059408, "node_id": "MDU6SXNzdWUyNjA1OTQwOA==", "number": 241, "title": "Weirdness with postgresql-psycopg2", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:14:22Z", "updated_at": "2014-01-22T01:14:25Z", "closed_at": "2014-01-22T01:14:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on June 16, 2012 15:11:56_\n\nA) What steps will reproduce the problem? 1. Use postgresql (postgresql-psycopg2) as database backend. B) What is the expected output? What do you see instead (tracebacks, error messages)? Since r0280adbf6a05 , Evennia seems to work with postgresql. But as reported in the closed Issue 115 , one needs to disable the linking of Channels<->Player #1 in the initial_settings step in order for the server to start (doing it manually in-game works normally, strangely enough). It's not clear why this is, which is why this Issue remains as a reminder. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. The error reported if removing the fix (from r0280adbf6a05 ) is that the database cannot understand the \"User type\". Since User itself is a Django-in-built, it's possible this problem is rather related to the the \"profile\" linked to the User, the PlayerDB model. It's hard to test however since echoing the same commands seen in the initial_settings in a python shell works as they should. There is also no problems with mysql and sqlite3.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=241_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/240", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/240/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/240/events", "html_url": "https://github.com/evennia/evennia/issues/240", "id": 26059406, "node_id": "MDU6SXNzdWUyNjA1OTQwNg==", "number": 240, "title": "Translation with django makemessages gives error in src/server/initial_setup.py ", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:14:19Z", "updated_at": "2014-01-22T01:14:21Z", "closed_at": "2014-01-22T01:14:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sjm.hotl...@gmail.com](https://code.google.com/u/102018651307805956036/) on June 13, 2012 13:19:20_\n\nA) What steps will reproduce the problem? 1. wanted to make a german translation po file\n2. went to the main/root evennia dir and executed \"django-admin.py makemessages -l de\"\n3. gives following error message \n4. po file is missing (understandable) B) What is the expected output? What do you see instead (tracebacks, error messages)? {{{\n\n(mud)[evennia@web334 evennia]$ django-admin.py makemessages -l de\nprocessing language de\nError: errors happened while running xgettext on initial_setup.py\n./src/server/initial_setup.py:184: warning: 'msgid' format string with unnamed arguments cannot be properly localized:\n                                            The translator cannot reorder the arguments.\n                                            Please consider using a format string with named arguments,\n                                            and a mapping instead of a tuple for the arguments.\n\n}}} C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest Version\n{{{\nchangeset:   1140:dd2babe37434\ntag:         tip\nparent:      1138:a3429a7470bf\nparent:      1139:be2394bb351c\nuser:        griatch\ndate:        Wed Jun 13 01:36:59 2012 +0200\nsummary:     Merge, with input and tweaks from discussion with lagos and Kelketek in irc.\n}}} D) Please provide any additional information/suggestions below. \\* Linux, VirutalEnv, Python 2.7.x, Django 1.4\n- xgettext (GNU gettext-tools) 0.17 / gettext (GNU gettext-runtime) 0.17\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=240_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/238", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/238/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/238/events", "html_url": "https://github.com/evennia/evennia/issues/238", "id": 26059400, "node_id": "MDU6SXNzdWUyNjA1OTQwMA==", "number": 238, "title": "Runtime Error while migrate from a fresh installation with mysql", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:14:14Z", "updated_at": "2014-01-22T01:14:16Z", "closed_at": "2014-01-22T01:14:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on June 13, 2012 00:40:15_\n\nA) What steps will reproduce the problem? 1. SetUp VirtualEnv\n2. Downloaded and install Evennia\n3. Configure to run with mysql\n4. ./manage.py syncdb works flawless\n5. ./manage.py migrate leads to the following error (see also the attachment file) B) What is the expected output? What do you see instead (tracebacks, error messages)? Error Message (see also attachment)\n{{{\n  File \"/home/evennia/mud/evennia/src/comms/migrations/0002_auto__del_channelconnection__add_externalchannelconnection__add_player.py\", line 71, in backwards\n    raise RuntimeError(\"Cannot reverse this migration. 'Msg.db_sender' and its values cannot be restored.\")\nRuntimeError: Cannot reverse this migration. 'Msg.db_sender' and its values cannot be restored.\n}}} C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. {{{\n(mud)[evennia@web334 game]$ hg tip\n\u00c4nderung:        1137:8f03acb16233\nMarke:           tip\nVorg\u00e4nger:       1134:d6a615a9ede0\nVorg\u00e4nger:       1136:951edc6c1420\nNutzer:          griatch\nDatum:           Tue Jun 12 21:04:50 2012 +0200\nZusammenfassung: Merge.\n}}} D) Please provide any additional information/suggestions below. Running with Python 2.7.3 and mysql-python\n\n{{{\nMySQL-python              - Python interface to MySQL\n  INSTALLED: 1.2.3\n  LATEST:    1.2.3c1\n}}}\n\n**Attachment:** [error-migrate-mysql.txt](http://code.google.com/p/evennia/issues/detail?id=238)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=238_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/238/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/235", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/235/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/235/events", "html_url": "https://github.com/evennia/evennia/issues/235", "id": 26059390, "node_id": "MDU6SXNzdWUyNjA1OTM5MA==", "number": 235, "title": "torches in tutorial do not seem to give off light", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:14:03Z", "updated_at": "2014-01-22T01:14:05Z", "closed_at": "2014-01-22T01:14:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jtsmith1287](https://code.google.com/u/jtsmith1287/) on May 17, 2012 03:21:37_\n\nA) What steps will reproduce the problem? I'm not really sure how to recreate this. I was attacked by the ghost apparition and i believe was logged out. Once the 'world went black' I could no longer send commands to the server. I refreshed the webclient, logged back in, and was in a pitch black room. I typed <light torch> and it said \"You light a torch\".  But nothing changed. Couldn't see anything. Had to <feel around>.\n\nI'm running the server on Windows 7, and I have what I believe to be whatever the newest version of Evennia is. I just DL'd it today.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=235_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/234", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/234/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/234/events", "html_url": "https://github.com/evennia/evennia/issues/234", "id": 26059387, "node_id": "MDU6SXNzdWUyNjA1OTM4Nw==", "number": 234, "title": "@ic caller.search for character fails", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:14:00Z", "updated_at": "2014-01-22T01:14:02Z", "closed_at": "2014-01-22T01:14:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [twiceasworn](https://code.google.com/u/twiceasworn/) on May 09, 2012 20:40:03_\n\nA) What steps will reproduce the problem? 1. Use @ooc, then try to @ic into a given character 2. 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? You should be switched to the character you provide to the command, instead however the caller.search within the command turns up no matches (i assume because its only searching player objects and not characters since no character is attached to the player obj at that point) and silently exits.  Search doesn't throw any errors.  Just nothing happens. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest tip of the code. D) Please provide any additional information/suggestions below. Also saw this behavior in the 45c4c1006076 release as well.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=234_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/233", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/233/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/233/events", "html_url": "https://github.com/evennia/evennia/issues/233", "id": 26059383, "node_id": "MDU6SXNzdWUyNjA1OTM4Mw==", "number": 233, "title": "swap_character not able to set player.character", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:57Z", "updated_at": "2014-01-22T01:13:59Z", "closed_at": "2014-01-22T01:13:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [twiceasworn](https://code.google.com/u/twiceasworn/) on May 09, 2012 20:21:32_\n\nA) What steps will reproduce the problem? 1. Attempt to create a character using OOCcreate or using @ic\n2. see the ugliness :[ 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? You should be able to swap characters like normal, instead the following error is encountered in the try block: \n\nCannot assign \"<src.objects.objects.Character object at 0x342a390>\": \"PlayerDB.db_obj\" must be a \"ObjectDB\" instance.\n\nfollowed by this stacktrace:\n\nTraceback (most recent call last):\n    File \"/var/mud/evennia/src/commands/cmdhandler.py\", line 255, in cmdhandler\n       ret = yield cmd.func()\n    File \"/var/mud/evennia/contrib/chargen.py\", line 181, in func\n       if self.caller.swap_character(new_character):\n    File \"/var/mud/evennia/src/players/player.py\", line 112, in swap_character\n       return self.dbobj.swap_character(new_character, delete_old_character=delete_old_character)\n    File \"/var/mud/evennia/src/players/models.py\", line 360, in swap_character\n       return self.**class**.objects.swap_character(self, new_character, delete_old_character=delete_old_character)\n    File \"/var/mud/evennia/src/players/manager.py\", line 207, in swap_character\n     old_character.player = player\n AttributeError: 'NoneType' object has no attribute 'player' C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Latest tip of the code.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=233_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/232", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/232/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/232/events", "html_url": "https://github.com/evennia/evennia/issues/232", "id": 26059377, "node_id": "MDU6SXNzdWUyNjA1OTM3Nw==", "number": 232, "title": "admin_media_prefix  & decode() error when using sync.db", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:13:54Z", "updated_at": "2014-01-22T01:13:56Z", "closed_at": "2014-01-22T01:13:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [cipher...@gmail.com](https://code.google.com/u/116855349759479486525/) on May 07, 2012 04:26:04_\n\nA) What steps will reproduce the problem? 1. python manage.py syncdb B) What is the expected output? What do you see instead (tracebacks, error messages)? frost@saturn1:~/evennia/game$ python manage.py syncdb\n/usr/local/lib/python2.6/dist-packages/django/conf/**init**.py:75: DeprecationWarning: The ADMIN_MEDIA_PREFIX setting has been removed; use STATIC_URL instead.\n  \"use STATIC_URL instead.\", DeprecationWarning)\nCreating tables ...\nCreating table auth_permission\nCreating table auth_group_permissions\nCreating table auth_group\nCreating table auth_user_user_permissions\nCreating table auth_user_groups\nCreating table auth_user\nCreating table django_site\nCreating table django_content_type\nCreating table django_session\nCreating table django_admin_log\nCreating table django_flatpage_sites\nCreating table django_flatpage\nCreating table server_serverconfig\nCreating table players_playerattribute\nCreating table players_playernick\nCreating table players_playerdb\nCreating table objects_objattribute\nCreating table objects_alias\nCreating table objects_objectnick\nCreating table objects_objectdb\nCreating table comms_msg\nCreating table comms_channel\nCreating table comms_playerchannelconnection\nCreating table comms_externalchannelconnection\nCreating table help_helpentry\nCreating table scripts_scriptattribute\nCreating table scripts_scriptdb\nCreating table news_newstopic\nCreating table news_newsentry\n\nYou just installed Django's auth system, which means you don't have any superusers defined.\nWould you like to create one now? (yes/no): yes\nTraceback (most recent call last):\n  File \"manage.py\", line 171, in <module>\n    execute_manager(settings)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/**init**.py\", line 459, in execute_manager\n    utility.execute()\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/**init**.py\", line 382, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 196, in run_from_argv\n    self.execute(_args, *_options.**dict**)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 371, in handle\n    return self.handle_noargs(*_options)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/commands/syncdb.py\", line 110, in handle_noargs\n    emit_post_sync_signal(created_models, verbosity, interactive, db)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/sql.py\", line 189, in emit_post_sync_signal\n    interactive=interactive, db=db)\n  File \"/usr/local/lib/python2.6/dist-packages/django/dispatch/dispatcher.py\", line 172, in send\n    response = receiver(signal=self, sender=sender, *_named)\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/**init**.py\", line 73, in create_superuser\n    call_command(\"createsuperuser\", interactive=True, database=db)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/**init**.py\", line 150, in call_command\n    return klass.execute(_args, *_defaults)\n  File \"/usr/local/lib/python2.6/dist-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/commands/createsuperuser.py\", line 70, in handle\n    default_username = get_default_username()\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/**init**.py\", line 105, in get_default_username\n    default_username = get_system_username()\n  File \"/usr/local/lib/python2.6/dist-packages/django/contrib/auth/management/**init**.py\", line 85, in get_system_username\n    return getpass.getuser().decode(locale.getdefaultlocale()[1])\nTypeError: decode() argument 1 must be string, not None C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=232_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/231", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/231/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/231/events", "html_url": "https://github.com/evennia/evennia/issues/231", "id": 26059375, "node_id": "MDU6SXNzdWUyNjA1OTM3NQ==", "number": 231, "title": "ImportError: cannot import name getsizeof", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:51Z", "updated_at": "2014-01-22T01:13:53Z", "closed_at": "2014-01-22T01:13:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [cipher...@gmail.com](https://code.google.com/u/116855349759479486525/) on May 05, 2012 22:22:56_\n\nA) What steps will reproduce the problem? 1. python manage.py syncdb B) What is the expected output? What do you see instead (tracebacks, error messages)? **_@saturn1:~/evennia/game$ python manage.py syncdb\nTraceback (most recent call last):\n  File \"manage.py\", line 171, in <module>\n    execute_manager(settings)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/**init**.py\", line 438, in execute_manager\n    utility.execute()\n  File \"/usr/lib/python2.5/site-packages/django/core/management/**init**.py\", line 379, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/base.py\", line 191, in run_from_argv\n    self.execute(_args, **options.**dict**)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/base.py\", line 219, in execute\n    self.validate()\n  File \"/usr/lib/python2.5/site-packages/django/core/management/base.py\", line 249, in validate\n    num_errors = get_validation_errors(s, app)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/validation.py\", line 35, in get_validation_errors\n    for (app_name, error) in get_app_errors().items():\n  File \"/usr/lib/python2.5/site-packages/django/db/models/loading.py\", line 146, in get_app_errors\n    self._populate()\n  File \"/usr/lib/python2.5/site-packages/django/db/models/loading.py\", line 61, in _populate\n    self.load_app(app_name, True)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/loading.py\", line 76, in load_app\n    app_module = import_module(app_name)\n  File \"/usr/lib/python2.5/site-packages/django/utils/importlib.py\", line 35, in import_module\n    __import__(name)\n  File \"/home/**_/evennia/src/objects/**init**.py\", line 10, in <module>\n    from src.objects.models import ObjectDB\n  File \"/home/_**/evennia/src/objects/models.py\", line 29, in <module>\n    from src.scripts.scripthandler import ScriptHandler\n  File \"/home/**_/evennia/src/scripts/**init**.py\", line 9, in <module>\n    from src.scripts.scripts import *\n  File \"/home/_**/evennia/src/scripts/scripts.py\", line 8, in <module>\n    from sys import getsizeof\nImportError: cannot import name getsizeof C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest = version Beta- rd9a8f57e2aa3 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=231_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/230", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/230/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/230/events", "html_url": "https://github.com/evennia/evennia/issues/230", "id": 26059374, "node_id": "MDU6SXNzdWUyNjA1OTM3NA==", "number": 230, "title": "error running syncdb", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:49Z", "updated_at": "2014-01-22T01:13:50Z", "closed_at": "2014-01-22T01:13:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [cipher...@gmail.com](https://code.google.com/u/116855349759479486525/) on May 04, 2012 06:21:58_\n\nA) What steps will reproduce the problem? 1.python manage.py syncdb 2. 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? manage.py:18: Warning: 'with' will become a reserved keyword in Python 2.6\n  File \"manage.py\", line 18\n    with open(os.pardir + os.sep + 'VERSION') as f: C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest version D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=230_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/229", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/229/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/229/events", "html_url": "https://github.com/evennia/evennia/issues/229", "id": 26059370, "node_id": "MDU6SXNzdWUyNjA1OTM3MA==", "number": 229, "title": "Problem to connect", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:13:45Z", "updated_at": "2014-01-22T01:13:48Z", "closed_at": "2014-01-22T01:13:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [guicam...@gmail.com](https://code.google.com/u/104106337796200790651/) on April 12, 2012 22:55:18_\n\nA) What steps will reproduce the problem? 1. Download Evennia from HG\n2. Follow the procedures in the wiki page for Installation and Configuration\n3. Start Evennia\n4. Try to connect via telnet from localhost\n\nB) What is the expected output? What do you see instead (tracebacks, error messages)?\nI'll paste my chat log.\n\nhello all\nGuys\ni'm having an issue to start evenia\n\n2012-04-12 17:47:30+0000 [AMPProtocol,0,127.0.0.1] AMP Error for OOBServer2Portal: 'bool' object has no attribute 'get'\n\nwhat could it be?\ncan't find similar problem over the internet\nversions: Python 2.7.2 / twistd  11.0.0 / ubuntu 11.10 / Django 1.3 ( I guess)\nOS details: OS: Linux PAT005476 3.0.0-17-generic #30-Ubuntu SMP Thu Mar 8 17:34:21 UTC 2012 i686 i686 i386 GNU/Linux\nusing trunk version of evenia, cloned just right now\nclient: terminal telnet\n\nI am able to start my evennia server\nthe error happens when I try to connect via telnet to my server (Telnet localhost 4000)\nand this is the output from python evennia.py (with option 2 - game debug)\nStarting Evennia Server (output to stdout).\nStarting Evennia Portal in Daemon mode (output to portal logfile).\n\nEvennia Server is already running as process 9037. Not restarted.\n\nStarting Evennia Portal in Daemon mode (output to portal logfile).\n\n---\n\n Evennia Portal (Beta- r4577344aa385 ) started.\n  amp (Server): 5000\n  telnet: 4000\n##   webserver/client: 8000\n\n2012-04-12 20:39:39+0000 [src.server.amp.AmpServerFactory] AMPProtocol connection established (HOST:IPv4Address(TCP, '127.0.0.1', 5000) PEER:IPv4Address(TCP, '127.0.0.1', 34319))\n\nHere is the error when I try to connect:\n\n2012-04-12 20:40:07+0000 [AMPProtocol,0,127.0.0.1] AMP Error for OOBServer2Portal: 'bool' object has no attribute 'get'\n\nand telnet output is:\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\n\nThat's all I see...\nthanks again! C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. versions: Python 2.7.2 / twistd  11.0.0 / ubuntu 11.10 / Django 1.3 ( I guess)\nOS details: OS: Linux PAT005476 3.0.0-17-generic #30-Ubuntu SMP Thu Mar 8 17:34:21 UTC 2012 i686 i686 i386 GNU/Linux\nusing trunk version of evenia, cloned just right now\nclient: command line telnet (telnet localhost 4000) D) Please provide any additional information/suggestions below. Oh, the problem occurs with any server startup option / ways, like... ./evennia.py -i etc\n\nATM, I don't know if the problem occurs with other types of clients... i'll test it and update this issue.\n\nThanks!!\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=229_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/229/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/228", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/228/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/228/events", "html_url": "https://github.com/evennia/evennia/issues/228", "id": 26059363, "node_id": "MDU6SXNzdWUyNjA1OTM2Mw==", "number": 228, "title": "zope.interface", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2014-01-22T01:13:36Z", "updated_at": "2014-01-22T01:13:44Z", "closed_at": "2014-01-22T01:13:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Sgt.Scra...@gmail.com](https://code.google.com/u/110302484555242412709/) on April 01, 2012 06:34:49_\n\nWhen install the server.. i get to this command point:  python manage.py syncdb\n\nand i get a error: Import error. no module named zope.interface\n\nI have the following installed:\n\nActivePython-2.7.2.5-win64-x64\nMercurial-1.4.3\nPIL-1.1.7.win32-py2.7\ntortoisehg-2.3.1-hg-2.1.1-x64\nTwisted-12.0.0.win-amd64-py2.7\nZope-2.11.4-win32\n\nIm running windows 7 64 bit system.\n\ni have googled the error, searched and havent found anything. please help me if you can  thank you\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=228_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/226", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/226/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/226/events", "html_url": "https://github.com/evennia/evennia/issues/226", "id": 26059354, "node_id": "MDU6SXNzdWUyNjA1OTM1NA==", "number": 226, "title": "Login String Repition Required", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:30Z", "updated_at": "2014-01-22T01:13:32Z", "closed_at": "2014-01-22T01:13:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [d.or...@gmail.com](https://code.google.com/u/110298718970389013102/) on March 28, 2012 21:36:52_\n\nA) What steps will reproduce the problem? 1. attempt to login using cmud client B) What is the expected output? What do you see instead (tracebacks, error messages)? Expected to be able to log in without repeating login line, however, the same\nlogin line must be repeated again to log in.\n\nClient window:\n# \n\n Welcome to Evennia, version Beta- re8de2fdb5e24 ! \n\n If you have an existing account, connect to it by typing:\n      connect <email> <password>\n If you need to create an account, type (without the <>'s):\n      create \"<username>\" <email> <password>\n#  Enter help for more info. look will re-show this screen.\n\n> > connect test@test.com testPass\n> > Huh? (Type \"help\" for help)\n> > connect test@test.com testPass\n> > [MUDconnections]: Logged in: <#> test@192.168.1.10:15762\n\nEvennia log:\n\n2012-03-28 19:27:54+0000 [AMPProtocol,0,127.0.0.1] [::] UnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n2012-03-28 19:27:58+0000 [AMPProtocol,0,127.0.0.1] [..] Logged in: <#> test@192.168.1.10:15762 C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. hg log\nchangeset:   1062:e8de2fdb5e24\ntag:         tip\nuser:        griatch\ndate:        Tue Mar 27 09:59:11 2012 +0200 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=226_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/223", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/223/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/223/events", "html_url": "https://github.com/evennia/evennia/issues/223", "id": 26059347, "node_id": "MDU6SXNzdWUyNjA1OTM0Nw==", "number": 223, "title": "Renaming exit doesn't change exit-command name", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:23Z", "updated_at": "2014-01-22T01:13:25Z", "closed_at": "2014-01-22T01:13:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on March 22, 2012 13:18:24_\n\nA) What steps will reproduce the problem? 1. Rename an exit\n2. The exit-command remains the same 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? The exit-command name should change to accomodate the changed exit name. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This is a problem with Python memory caching. Maybe one can force a change somehow.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=223_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/221", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/221/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/221/events", "html_url": "https://github.com/evennia/evennia/issues/221", "id": 26059342, "node_id": "MDU6SXNzdWUyNjA1OTM0Mg==", "number": 221, "title": "Batch code processor is not working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:18Z", "updated_at": "2014-01-22T01:13:20Z", "closed_at": "2014-01-22T01:13:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on March 20, 2012 09:58:05_\n\nA) What steps will reproduce the problem? 1. Run batch-code processor on example files\n2. Tracebacks 3. B) What is the expected output? What do you see instead (tracebacks, error messages)? This is a regression, probably due to changing support libraries. This should work. There are also reports of intentation not working correctly. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=221_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/219", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/219/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/219/events", "html_url": "https://github.com/evennia/evennia/issues/219", "id": 26059332, "node_id": "MDU6SXNzdWUyNjA1OTMzMg==", "number": 219, "title": "UnicodeDecodeError when the first raw line is sent, with tintin++ client", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:13:13Z", "updated_at": "2014-01-22T01:13:15Z", "closed_at": "2014-01-22T01:13:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [metathin...@gmail.com](https://code.google.com/u/113528707470198802197/) on March 14, 2012 16:26:55_\n\nA) What steps will reproduce the problem? 1. Connect to your server with tintin++ client\n2. Type any command, traceback appear\n3. Type the same command again, it works B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/home/metathink/apps/evennia/src/commands/cmdhandler.py\", line 180, in\ncmdhandler\n    matches = yield COMMAND_PARSER(raw_string, cmdset, caller)\n  File \"/home/metathink/apps/evennia/src/commands/cmdparser.py\", line 51, in\ncmdparser\n    if cmdname and l_raw_string.startswith(cmdname.lower())\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid\nstart byte\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r078b5fdcc2c9 on tintin++ 2.00.5-1 (the only version i have tested) D) Please provide any additional information/suggestions below. I'v printed l_raw_string var (file src/commands/cmdparser.py at line 47), and if the first line we send is \"help\", l_raw_string is set to: '\\xff\\xfa\\x18\\x00xterm\\xff\\xf0help'\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=219_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/217", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/217/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/217/events", "html_url": "https://github.com/evennia/evennia/issues/217", "id": 26059328, "node_id": "MDU6SXNzdWUyNjA1OTMyOA==", "number": 217, "title": "@batchcommand missing last char", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:08Z", "updated_at": "2014-01-22T01:13:10Z", "closed_at": "2014-01-22T01:13:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [metathin...@gmail.com](https://code.google.com/u/113528707470198802197/) on March 14, 2012 13:18:23_\n\nA) What steps will reproduce the problem? Using @batchcommand with any .ev B) What is the expected output? What do you see instead (tracebacks, error messages)? At each step (01/05: ..., 02/05: ...), the last char is missing.\n\nExample:\n\n(test.ev content)\n  @create/drop Worm\n  @create Gold\n\n(ingame)\n  @batchcommand test\n  Running Batch-command processor - Automatic mode for test ...\n  01/02: @create/drop Wor\n  You create a new Object: Worm.\n  02/02: @create Gol\n  You create a new Object: Gold.\n  End of batch file.\n    Batchfile 'test' applied. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. 078b5fdcc2c9\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=217_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/216", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/216/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/216/events", "html_url": "https://github.com/evennia/evennia/issues/216", "id": 26059325, "node_id": "MDU6SXNzdWUyNjA1OTMyNQ==", "number": 216, "title": "Getting what looks like a Django DB error in the tutorial world", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:13:05Z", "updated_at": "2014-01-22T01:13:07Z", "closed_at": "2014-01-22T01:13:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jeremywo...@gmail.com](https://code.google.com/u/111679206525907597994/) on March 13, 2012 20:09:53_\n\nA) What steps will reproduce the problem? 0. Start the code in debug mode (mainly so it's easier to see the traceback).\n1. Load up the tutorial world with a regular user.\n2. Get killed by the ghost or go into the failure tomb, end up in the \"dark room\".\n3. Get the torch.\n4. Light the torch.\n5. Let the torch run out.\n6. Stack trace in stderr. B) What is the expected output? What do you see instead (tracebacks, error messages)? Just a traceback. Not a big deal as it doesn't seem to break anything, but it could be a symptom of something else.\n\nHere's one of the tracebacks in their entirety:\n\n2012-03-13 18:44:54+0000 [-] [::] Traceback (most recent call last):\n2012-03-13 18:44:54+0000 [-] [::]   File \"/Users/jeremyosborne/hg/evennia/src/scripts/scripts.py\", line 176, in stop\n2012-03-13 18:44:54+0000 [-] [::]     self.at_stop()\n2012-03-13 18:44:54+0000 [-] [::]   File \"/Users/jeremyosborne/hg/evennia/contrib/tutorial_world/objects.py\", line 262, in at_stop\n2012-03-13 18:44:54+0000 [-] [::]     self.obj.db.burntime = burntime\n2012-03-13 18:44:54+0000 [-] [::]   File \"/Users/jeremyosborne/hg/evennia/src/typeclasses/models.py\", line 1284, in **setattr**\n2012-03-13 18:44:54+0000 [-] [::]     GA(self, 'obj').set_attribute(attrname, value)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/Users/jeremyosborne/hg/evennia/src/typeclasses/models.py\", line 1166, in set_attribute\n2012-03-13 18:44:54+0000 [-] [::]     attrib_obj.value = new_value\n2012-03-13 18:44:54+0000 [-] [::]   File \"/Users/jeremyosborne/hg/evennia/src/typeclasses/models.py\", line 364, in value_set\n2012-03-13 18:44:54+0000 [-] [::]     self.save()\n2012-03-13 18:44:54+0000 [-] [::]   File \"/Users/jeremyosborne/hg/evennia/src/utils/idmapper/base.py\", line 140, in save\n2012-03-13 18:44:54+0000 [-] [::]     super(SharedMemoryModel, self).save(_args, *_kwargs)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/base.py\", line 460, in save\n2012-03-13 18:44:54+0000 [-] [::]     self.save_base(using=using, force_insert=force_insert, force_update=force_update)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/base.py\", line 553, in save_base\n2012-03-13 18:44:54+0000 [-] [::]     result = manager._insert(values, return_id=update_pk, using=using)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/manager.py\", line 195, in _insert\n2012-03-13 18:44:54+0000 [-] [::]     return insert_query(self.model, values, **kwargs)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/query.py\", line 1436, in insert_query\n2012-03-13 18:44:54+0000 [-] [::]     return query.get_compiler(using=using).execute_sql(return_id)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 791, in execute_sql\n2012-03-13 18:44:54+0000 [-] [::]     cursor = super(SQLInsertCompiler, self).execute_sql(None)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 735, in execute_sql\n2012-03-13 18:44:54+0000 [-] [::]     cursor.execute(sql, params)\n2012-03-13 18:44:54+0000 [-] [::]   File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py\", line 234, in execute\n2012-03-13 18:44:54+0000 [-] [::]     return Database.Cursor.execute(self, query, params)\n2012-03-13 18:44:54+0000 [-] [::] IntegrityError: objects_objattribute.db_obj_id may not be NULL\n\nC) What version/svn revision of Evennia are you using?\n\nThe tips of the code. D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=216_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/216/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/215", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/215/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/215/events", "html_url": "https://github.com/evennia/evennia/issues/215", "id": 26059322, "node_id": "MDU6SXNzdWUyNjA1OTMyMg==", "number": 215, "title": "Cannot actually enter \"treasure room\" in tutorial", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:13:02Z", "updated_at": "2014-01-22T01:13:04Z", "closed_at": "2014-01-22T01:13:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jeremywo...@gmail.com](https://code.google.com/u/111679206525907597994/) on March 13, 2012 19:48:57_\n\nA) What steps will reproduce the problem? 1. Load up the tutorial code.\n2. Log in as a regular user to play the tutorial.\n3. Walk to the obelisk.\n4. \"look obelisk\". Notice the results.\n5. Attempt to go solve the puzzle by entering the hinted at tomb. For example, if this is the following clue:\n\nThe surface of the obelisk seem to waver, shift and writhe under your gaze, with different scenes and structures appearing whenever you look at it. You for a moment see the visage of a \n\nwoman on a horse.\n\nThen go to the tombs and type:\n\nhorse B) What is the expected output? What do you see instead (tracebacks, error messages)? I've been testing this more as an excuse to get used to the commands, but unfortunately I'm still too much of a noob at the code to figure out what's going on. What I expect is to enter the tomb and to not be sent to the failure room. Time and again when I try this, I have 100&#37; of the time been sent to the failure room. i've never made it to the treasure room.\n\nC) What version/svn revision of Evennia are you using?\nTips of the code. D) Please provide any additional information/suggestions below. If I could figure out where the error was occurring, I'd submit a patch, but I'm a bit lost. I'll share what I was looking through.\n\nI started in the TeleportRoom class that is part of contrib/tutorial_world/rooms.py file. I dropped some debug statements into the at_object_receive of the TeleportRoom and noticed that this function is always being called twice. Sometimes, interestingly, the following attributes are correct:\n# In other words, this following test is true\n\ncharacter.db.puzzle_clue == self.db.puzzle_value\n\nHowever, every time this method gets called a second time, the attributes are never equal.\n\nI'm a bit confused:\n- Why this method would be called more than once.\n- Also, I'm still learning the code so I'm also concerned that I might be chasing the bug incorrectly.\n\nI'm way more interested in going through this process to the learn the code, but I wanted to report this in case I was unable to figure things out (which, at the moment, is still the case).\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=215_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/215/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/214", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/214/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/214/events", "html_url": "https://github.com/evennia/evennia/issues/214", "id": 26059319, "node_id": "MDU6SXNzdWUyNjA1OTMxOQ==", "number": 214, "title": "Interesting output", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:12:59Z", "updated_at": "2014-01-22T01:13:01Z", "closed_at": "2014-01-22T01:13:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jeremywo...@gmail.com](https://code.google.com/u/111679206525907597994/) on March 13, 2012 18:46:28_\n\nA) What steps will reproduce the problem? 1. Load up the tutorial world with a superuser using current code.\n2. Logout as superuser, log back in as regular user.\n3. Start the tutorial and walk onto the bridge.\n\nB) What do you see instead (tracebacks, error messages)?\n\nI assumed I wouldn't \"see anything\" on the bridge, but instead I'm seeing the following:\n\nThe old bridge\nYou are standing very close to the bridge's eastern foundation. If you go east you will be back on solid ground ...\nThe bridge sways in the wind.\n You see: test\n\n\"test\" is the name of my character. There are no other objects in the room. I wasn't seeing this in a previous build.\n\nI'm assuming if no objects are in the room, I shouldn't see myself as an object, unless I'm having an out of body experience :)\n\nC) What version/svn revision of Evennia are you using? \nTips of the code. Just did an hg pull/update this morning. Rebuilt the tutorial world this morning using the batch command as listed in limbo (although I'm pretty sure this doesn't have to do with the tutorial world itself, perse, but it might).\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=214_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/209", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/209/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/209/events", "html_url": "https://github.com/evennia/evennia/issues/209", "id": 26059294, "node_id": "MDU6SXNzdWUyNjA1OTI5NA==", "number": 209, "title": "Traceback doing a @cdestroy test", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:12:38Z", "updated_at": "2014-01-22T01:12:40Z", "closed_at": "2014-01-22T01:12:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jeremywo...@gmail.com](https://code.google.com/u/111679206525907597994/) on February 20, 2012 18:16:25_\n\nA) What steps will reproduce the problem? Working with a vanilla install to try things out. As a non superuser, did a \"@ccreate test\" to try out channel creation. Ran a \"@cdestroy test\" after messing with it and got a traceback. Traceback said to post the error, so I am.\n\nB) What is the expected output? What do you see instead (tracebacks, error messages)?\nAssumed no traceback, even if there was an error in my command ;)\n\nThe traceback is:\nTraceback (most recent call last):\n  File \"/Users/jeremyosborne/evennia/src/commands/cmdhandler.py\", line 235, in cmdhandler\n    ret = cmd.func()\n  File \"/Users/jeremyosborne/evennia/src/commands/default/comms.py\", line 343, in func\n    msgobj = create.create_message(caller, message, channel)\n  File \"/Users/jeremyosborne/evennia/src/utils/create.py\", line 295, in create_message\n    new_message.sender = to_player(senderobj)\n  File \"/Users/jeremyosborne/evennia/src/comms/models.py\", line 149, in sender_set\n    self.db_sender = value\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django/db/models/fields/related.py\", line 331, in **set**\n    self.field.name, self.field.rel.to._meta.object_name))\nValueError: Cannot assign \"<game.gamesrc.objects.baseobjects.Player object at 0x102a15ed0>\": \"Msg.db_sender\" must be a \"PlayerDB\" instance. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. From the hg log, the version I'm using is:\n\nchangeset:   984:890bbcfcab20\ntag:         tip\nuser:        griatch\ndate:        Wed Feb 15 22:12:50 2012 +0100\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=209_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/200", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/200/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/200/events", "html_url": "https://github.com/evennia/evennia/issues/200", "id": 26059276, "node_id": "MDU6SXNzdWUyNjA1OTI3Ng==", "number": 200, "title": "I screwed up my evennia when trying to wipe the database.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:12:19Z", "updated_at": "2014-01-22T01:12:21Z", "closed_at": "2014-01-22T01:12:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [ftzp0...@gmail.com](https://code.google.com/u/105158142518907100238/) on November 07, 2011 13:10:48_\n\nA) What steps will reproduce the problem? 1.python manage.py reset objects players scripts comms help web auth \n1. python manage.py dbshell\n2. rm evennia.db3 <- I tried this after the other two failed then tried to build the db with python manage.py syncdb\n3. python evennia.py start\n\nI even tried deleting the install of Evennia and starting over with hg clone but it didnt work. B) What is the expected output? What do you see instead (tracebacks, error messages)? 1. Error: App with label web could not be found. Are you sure your INSTALLED_APPS setting is correct? 2. Error: You appear not to have the 'sqlite3' program installed or on your path. 3. Traceback (most recent call last):\n  File \"evennia.py\", line 484, in <module>\n    main()\n  File \"evennia.py\", line 474, in main\n    cmdstr = handle_args(options, mode, service)\n  File \"evennia.py\", line 360, in handle_args\n    error_check_python_modules()\n  File \"evennia.py\", line 423, in error_check_python_modules\n    imp(settings.AT_INITIAL_SETUP_HOOK_MODULE, split=False)\n  File \"evennia.py\", line 416, in imp\n    **import**(mod, fromlist=[fromlist])\nImportError: No module named at_initial_setup C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Ubuntu 11.10, latest version of Evennia. D) Please provide any additional information/suggestions below. I dont know what's wrong but I'm guessing it might not be evennia but I might have screwed up something in twisted or django...\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=200_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/199", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/199/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/199/events", "html_url": "https://github.com/evennia/evennia/issues/199", "id": 26059273, "node_id": "MDU6SXNzdWUyNjA1OTI3Mw==", "number": 199, "title": "find/search not working", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:12:17Z", "updated_at": "2014-01-22T01:12:19Z", "closed_at": "2014-01-22T01:12:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [MonkeyGa...@gmail.com](https://code.google.com/u/111679562765686471802/) on October 10, 2011 03:13:44_\n\nA) What steps will reproduce the problem? 1. find <object> (in my case a player( B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/var/mud/evennia/src/commands/cmdhandler.py\", line 237, in cmdhandler\n    cmd.func()\n  File \"/var/mud/evennia/src/commands/default/building.py\", line 1752, in func\n    results = [result.typeclass(result) for result in results]\nTypeError: 'Character' object is not callable C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest pull D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=199_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/198", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/198/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/198/events", "html_url": "https://github.com/evennia/evennia/issues/198", "id": 26059270, "node_id": "MDU6SXNzdWUyNjA1OTI3MA==", "number": 198, "title": "at_player_creation not found on player #1 -- cannot pass setup", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:12:14Z", "updated_at": "2014-01-22T01:12:16Z", "closed_at": "2014-01-22T01:12:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [catc...@nething-goes.com](https://code.google.com/u/112614123452915948872/) on October 09, 2011 06:01:58_\n\nA) What steps will reproduce the problem? 1. Get latest revision of evennia\n2. Follow steps to create new db/instance/etc.\n3. Try to start the server via python evennia.py -i start\n4. Errors stating at_player_creation not found on #1 object B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=198_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/197", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/197/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/197/events", "html_url": "https://github.com/evennia/evennia/issues/197", "id": 26059268, "node_id": "MDU6SXNzdWUyNjA1OTI2OA==", "number": 197, "title": "Admin site: ghost players/objects when adding (please test if you see it too)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:12:11Z", "updated_at": "2014-01-22T01:12:13Z", "closed_at": "2014-01-22T01:12:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on October 03, 2011 18:18:48_\n\nA) What steps will reproduce the problem? 1.Log into Evennia's Admin site \n2.Go to Objects or Players. Choose to Add a new one\n3.Don't save, but use the breadcrumb (_not_ the browser's back button) to click back to the previous page\n4. A new, empty object has been created. If you did save, you will have two new objects. In the case of Players, no new row will have appeared, but the Player count has gone up by one. B) What is the expected output? What do you see instead (tracebacks, error messages)? Only one object/player should be created, and only when actively saving it. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. This does not appear on all systems. I (Griatch) see it under Chrome and Firefox on Debian SID and Stable, using Django 3.0 and 1.2.3. \nUser shaggyd does not see this behaviour at all on OSX-with Django 1.2.5\n\nIs this an incompatibility between django versions? OSes? More tests are required, please reply to this issue.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=197_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/196", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/196/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/196/events", "html_url": "https://github.com/evennia/evennia/issues/196", "id": 26059265, "node_id": "MDU6SXNzdWUyNjA1OTI2NQ==", "number": 196, "title": "Some commands are not updated to deal with the changes to typeclasses", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:12:08Z", "updated_at": "2014-01-22T01:12:10Z", "closed_at": "2014-01-22T01:12:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on October 03, 2011 16:54:16_\n\nA) What steps will reproduce the problem? 1. Trying to change an object's typeclass (also needs a reload)\n2. Using @objects to show a list of the objects\n3. Using examine on an object\n4. Possibly others B) What is the expected output? What do you see instead (tracebacks, error messages)? Instead of:\nTypeclass: Character (game.gamesrc.objects.baseobjects.Character)\n\nit shows:\nTypeclass: raydj (game.gamesrc.objects.baseobjects.Character) C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Present on revision fa2ee17bd3\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=196_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/195", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/195/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/195/events", "html_url": "https://github.com/evennia/evennia/issues/195", "id": 26059264, "node_id": "MDU6SXNzdWUyNjA1OTI2NA==", "number": 195, "title": "@reload kicks non-superuser off", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:12:06Z", "updated_at": "2014-01-22T01:12:08Z", "closed_at": "2014-01-22T01:12:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [catc...@nething-goes.com](https://code.google.com/u/112614123452915948872/) on September 24, 2011 04:36:53_\n\nA) What steps will reproduce the problem? 1. Fresh install of evennia\n2. login as superuser\n3. create a new account in a  second window, log it in\n4. @reload on the super user... other player gets silently booted (you still see them online... but they cannot enter commands).\n\nStrangely enough, repeated reboots continue to send server restarted message (second part of it, only) to the kicked client, but they are unable to interact with the game server and their has_player is false. B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Current mercurial. D) Please provide any additional information/suggestions below. I've noticed prior to this issue that players who get silently kicked for whatever reason stay logged in as objects with has_player = false.  Easiest w ay to reproduce that would be to just close the web client window without using @quit.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=195_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/194", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/194/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/194/events", "html_url": "https://github.com/evennia/evennia/issues/194", "id": 26059262, "node_id": "MDU6SXNzdWUyNjA1OTI2Mg==", "number": 194, "title": "First command entered when logging in is not recognised", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:12:02Z", "updated_at": "2014-01-22T01:12:05Z", "closed_at": "2014-01-22T01:12:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 22, 2011 20:57:43_\n\nA) What steps will reproduce the problem? 1. Log in B) What is the expected output? What do you see instead (tracebacks, error messages)? ==============================================================\n Welcome to Evennia, version HG-Alpha! \n\n If you have an existing account, connect to it by typing:\n      connect <email> <password>\n If you need to create an account, type (without the <>'s):\n      create \"<username>\" <email> <password>\n#  Enter help for more info. look will re-show this screen.\n\nconnect abc@mail.mail aaaaaaaaa\nHuh? (Type \"help\" for help)\nconnect abc@mail.mail aaaaaaaaa\n[MUDconnections]: Logged in: <#> raydj@127.0.0.1:46441\nraydj has entered the game.\nLimbo C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. changeset:   897:dad4e51386f3\n(might have been introduced before that)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=194_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/193", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/193/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/193/events", "html_url": "https://github.com/evennia/evennia/issues/193", "id": 26059258, "node_id": "MDU6SXNzdWUyNjA1OTI1OA==", "number": 193, "title": "Scripts timeout on objects", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:11:59Z", "updated_at": "2014-01-22T01:12:02Z", "closed_at": "2014-01-22T01:12:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [catc...@nething-goes.com](https://code.google.com/u/112614123452915948872/) on September 22, 2011 04:38:56_\n\nA) What steps will reproduce the problem? 1. Add a script to a character (or any object, I guess).\n2. Disconnect, reconnect, reload, etc\n3. Script eventually stops working, reporting \"none/5\" where 5 is the interval.  Script is just hung. B) What is the expected output? What do you see instead (tracebacks, error messages)? It shouldn't hang. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=193_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/193/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/192", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/192/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/192/events", "html_url": "https://github.com/evennia/evennia/issues/192", "id": 26059254, "node_id": "MDU6SXNzdWUyNjA1OTI1NA==", "number": 192, "title": "@examine (and other builder commands) throw tracebacks when FULL_PERSISTENCE = False", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:11:56Z", "updated_at": "2014-01-22T01:11:58Z", "closed_at": "2014-01-22T01:11:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [catc...@nething-goes.com](https://code.google.com/u/112614123452915948872/) on September 20, 2011 18:30:15_\n\nA) What steps will reproduce the problem? 1. Create a new instance using FULL_PERSISTENCE = False\n2. Try to @examine an object\n3. Tracebacks galore! B) What is the expected output? What do you see instead (tracebacks, error messages)? I suppose this command should not assume FULL_PERSISTENCE = True?  There are some other admin/builder commands that do this, but I haven't tested them all. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=192_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/191", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/191/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/191/events", "html_url": "https://github.com/evennia/evennia/issues/191", "id": 26059253, "node_id": "MDU6SXNzdWUyNjA1OTI1Mw==", "number": 191, "title": "Trying to add a dictionary as an attribute will cause a traceback", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:53Z", "updated_at": "2014-01-22T01:11:55Z", "closed_at": "2014-01-22T01:11:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 20, 2011 14:15:38_\n\nA) What steps will reproduce the problem? Either in code or using @py, try to assign a dictionary to a previously non-existent attribute, or one that's set to None.\n\nLists will also fail.\nTuples work as expected. B) What is the expected output? What do you see instead (tracebacks, error messages)? @py self.db.newdict = {'john': 1, 'peter': 2}\n\n> > > self.db.newdict = {'john': 1, 'peter': 2}\n> > > <<<   File \"/home/raydj/evennia/evennia-phantasien/src/typeclasses/models.py\", line 1143, in **setattr**\n> > > <<<     obj.set_attribute(attrname, value)\n> > > <<<   File \"/home/raydj/evennia/evennia-phantasien/src/typeclasses/models.py\", line 1031, in set_attribute\n> > > <<<     new_attrib.value = new_value\n> > > <<<   File \"/home/raydj/evennia/evennia-phantasien/src/typeclasses/models.py\", line 296, in value_set\n> > > <<<     self.db_value = utils.to_unicode(pickle.dumps(utils.to_str(self.validate_data(new_value))))\n> > > <<< TypeError: 'NoneType' object is not callable C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. revision 0d4adb279d4a\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=191_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/190", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/190/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/190/events", "html_url": "https://github.com/evennia/evennia/issues/190", "id": 26059251, "node_id": "MDU6SXNzdWUyNjA1OTI1MQ==", "number": 190, "title": "The behaviour of CmdGet is hardcoded not consistent with what's expected", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:11:49Z", "updated_at": "2014-01-22T01:11:52Z", "closed_at": "2014-01-22T01:11:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 20, 2011 14:03:16_\n\nA) What steps will reproduce the problem? 1. Try to get 'here'\nor\n2. Try to get an exit as an admin\nor\n3. Try to pick up a player as an admin B) What is the expected output? What do you see instead (tracebacks, error messages)? While it makes sense to prevent players from picking up exits or other players, #1 (and possibly others) should probably be allowed to do so.\n\nOn the other hand, no check is made to prevent rooms from being picked up (although it can only be done if the lock checks are passed). C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. The checks are currently hardcoded conditionals in the code, namely:\n\n```\n    if obj.player or obj.destination: \n        # don't allow picking up player objects, nor exits.\n        caller.msg(\"You can't get that.\")\n        return\n```\n\nUsing locks for this would probably be better.\n\nThe rooms on the other hand might need a hardcoded check, since #1 would bypass the locks and be able to pick them anyway.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=190_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/189", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/189/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/189/events", "html_url": "https://github.com/evennia/evennia/issues/189", "id": 26059250, "node_id": "MDU6SXNzdWUyNjA1OTI1MA==", "number": 189, "title": "Cannot assign db stored values", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:11:46Z", "updated_at": "2014-01-22T01:11:48Z", "closed_at": "2014-01-22T01:11:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [catc...@nething-goes.com](https://code.google.com/u/112614123452915948872/) on September 19, 2011 00:42:17_\n\nA) What steps will reproduce the problem? 1. create a db dictionary on an object \n2. try to assign a value to it (eg, self.db.mydict['var'] = 2\n3. The value will never be assigned. B) What is the expected output? What do you see instead (tracebacks, error messages)? It should assign the value, instead you'd have to work around it by making a local dictionary and then re-writing it to the db. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=189_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/188", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/188/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/188/events", "html_url": "https://github.com/evennia/evennia/issues/188", "id": 26059247, "node_id": "MDU6SXNzdWUyNjA1OTI0Nw==", "number": 188, "title": "at_init on BaseObject not called after @reload/@reboot", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:11:43Z", "updated_at": "2014-01-22T01:11:45Z", "closed_at": "2014-01-22T01:11:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [catc...@nething-goes.com](https://code.google.com/u/112614123452915948872/) on September 13, 2011 08:58:26_\n\nA) What steps will reproduce the problem? 1. Create an object with at_init(self) hook\n2. @reload server several times\n3. at_init does not seem to be called? B) What is the expected output? What do you see instead (tracebacks, error messages)? anything in at_init should be run after a server reload. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. First commit from mercurial. D) Please provide any additional information/suggestions below. I swear this was working on the last SVN build, maybe I'm insane or doing something wrong, but at_init does not seem to work when inherited off of the baseobject from src.\n\nat_server_reload works.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=188_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/187", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/187/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/187/events", "html_url": "https://github.com/evennia/evennia/issues/187", "id": 26059244, "node_id": "MDU6SXNzdWUyNjA1OTI0NA==", "number": 187, "title": "Missing argument in format string in CmdHome", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:40Z", "updated_at": "2014-01-22T01:11:42Z", "closed_at": "2014-01-22T01:11:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 09, 2011 05:00:28_\n\nA) What steps will reproduce the problem? La Arena de Principiantes\nSalidas: sur\nadmin> \n@home 10=here\nTraceback (most recent call last):\n  File \"/home/raydj/evennia/evennia-phantasien/src/commands/cmdhandler.py\", line 237, in cmdhandler\n    cmd.func()\n  File \"/home/raydj/evennia/evennia-phantasien/src/commands/default/building.py\", line 931, in func\n    string = \"&#37;s's home location was changed from &#37;s(&#37;s) to &#37;s(&#37;s).\" &#37; (old_home, old_home.dbref, new_home, new_home.dbref)\nTypeError: not enough arguments for format string\n\nAbove traceback is from an untrapped error. Please file a bug report.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=187_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/186", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/186/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/186/events", "html_url": "https://github.com/evennia/evennia/issues/186", "id": 26059242, "node_id": "MDU6SXNzdWUyNjA1OTI0Mg==", "number": 186, "title": "Wrong locks assigned by @dig", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:11:37Z", "updated_at": "2014-01-22T01:11:39Z", "closed_at": "2014-01-22T01:11:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 08, 2011 04:11:47_\n\nA) What steps will reproduce the problem? 1. @dig a room, the exits will have 'Wizard' instead of 'Wizards' C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Fixed in the patch, also the comments in lockhandler.py\n\n**Attachment:** [dig_permissions_fix.diff](http://code.google.com/p/evennia/issues/detail?id=186)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=186_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/185", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/185/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/185/events", "html_url": "https://github.com/evennia/evennia/issues/185", "id": 26059236, "node_id": "MDU6SXNzdWUyNjA1OTIzNg==", "number": 185, "title": "Destroying an object does not remove it's attached scripts", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:11:33Z", "updated_at": "2014-01-22T01:11:36Z", "closed_at": "2014-01-22T01:11:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 07, 2011 04:39:49_\n\nA) What steps will reproduce the problem? 1. @create mob:contrib.tutorial_world.Mob\n2. @destroy mob\n3. @scripts B) What is the expected output? What do you see instead (tracebacks, error messages)? The script is still there, \"assigned\" to <Gobal>, and remains there. \n\nC) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=185_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/184", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/184/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/184/events", "html_url": "https://github.com/evennia/evennia/issues/184", "id": 26059233, "node_id": "MDU6SXNzdWUyNjA1OTIzMw==", "number": 184, "title": "The movement routine for contrib.tutorial_world.Mob is wrong", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:30Z", "updated_at": "2014-01-22T01:11:31Z", "closed_at": "2014-01-22T01:11:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 07, 2011 04:30:49_\n\nA) What steps will reproduce the problem? 1. Create a new contrib.tutorial_world.Mob object\n2. Expect the object to move B) What is the expected output? What do you see instead (tracebacks, error messages)? Nothing happens. The reason is that it's checking if the exit has access to the mob.\n\nC) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Patch provided. Also fixes a typo in the name of _announce_move_to().\n\n**Attachment:** [tutorial_mob_patch.diff](http://code.google.com/p/evennia/issues/detail?id=184)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=184_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/183", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/183/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/183/events", "html_url": "https://github.com/evennia/evennia/issues/183", "id": 26059231, "node_id": "MDU6SXNzdWUyNjA1OTIzMQ==", "number": 183, "title": "There's a typo in src/objects/models.py", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:27Z", "updated_at": "2014-01-22T01:11:29Z", "closed_at": "2014-01-22T01:11:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sergi.re...@gmail.com](https://code.google.com/u/110290884624733439926/) on September 07, 2011 04:26:53_\n\nA) What steps will reproduce the problem? 1. Examine line 267 of src/objects/models.py B) What is the expected output? What do you see instead (tracebacks, error messages)? It should say 'location' but it says 'ocation' C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Both in trunk and griatch's branch. A patch is provided for convenience.\n\n**Attachment:** [src_models_py_typo.diff](http://code.google.com/p/evennia/issues/detail?id=183)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=183_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/182", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/182/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/182/events", "html_url": "https://github.com/evennia/evennia/issues/182", "id": 26059230, "node_id": "MDU6SXNzdWUyNjA1OTIzMA==", "number": 182, "title": "Bad var name", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:11:24Z", "updated_at": "2014-01-22T01:11:27Z", "closed_at": "2014-01-22T01:11:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [metathin...@gmail.com](https://code.google.com/u/113528707470198802197/) on August 14, 2011 16:42:53_\n\nA) What steps will reproduce the problem? File src/commands/cmdsethandler.py, line 380, the 's' char is missing : self.cmdet_stack[0] instead of self.cmdset_stack[0] B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r1581 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=182_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/181", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/181/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/181/events", "html_url": "https://github.com/evennia/evennia/issues/181", "id": 26059226, "node_id": "MDU6SXNzdWUyNjA1OTIyNg==", "number": 181, "title": "Exits's aliases created by @dig command can't be called.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:11:21Z", "updated_at": "2014-01-22T01:11:24Z", "closed_at": "2014-01-22T01:11:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [metathin...@gmail.com](https://code.google.com/u/113528707470198802197/) on August 09, 2011 22:22:54_\n\nA) What steps will reproduce the problem? Dig a new room with exit and back exit with aliases\n  @dig Some place = west;w, east;e\nPress key \"w\" to go west, it's not working.\n\nCreate an alias.\n  @alias west = w\nPress key \"w\" to go to west, it's working. B) What is the expected output? What do you see instead (tracebacks, error messages)? C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r1578 D) Please provide any additional information/suggestions below. @tunnel have the same trouble.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=181_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/180", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/180/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/180/events", "html_url": "https://github.com/evennia/evennia/issues/180", "id": 26059224, "node_id": "MDU6SXNzdWUyNjA1OTIyNA==", "number": 180, "title": "Some persistent scripts may launch at_repeat multiple times after a reload", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:19Z", "updated_at": "2014-01-22T01:11:20Z", "closed_at": "2014-01-22T01:11:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on August 08, 2011 10:24:03_\n\nA) What steps will reproduce the problem? 1. Create three persistent script typeclasses.\n2. Attach them to three separate objects. They will call at_repeat as expected. \n3. Reload, it seems at_repeat now gets called a growing number of times. http://pastebin.com/scrC1qNq B) What is the expected output? What do you see instead (tracebacks, error messages)? Obviously, reloading should not affect at_repeat calls. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Reported by Metathink, not yet confirmed by me.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=180_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/179", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/179/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/179/events", "html_url": "https://github.com/evennia/evennia/issues/179", "id": 26059223, "node_id": "MDU6SXNzdWUyNjA1OTIyMw==", "number": 179, "title": "ObjectDB.objects.copy_object don't copy location", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:16Z", "updated_at": "2014-01-22T01:11:18Z", "closed_at": "2014-01-22T01:11:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on August 08, 2011 10:20:52_\n\nA) What steps will reproduce the problem? 1.Make a copy of an object with a given location using new_obj = ObjectDB.objects.copy_object(old_obj)\n2. new_obj.location is now None B) What is the expected output? What do you see instead (tracebacks, error messages)? Location should be copied over along with all other object properties C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Reported by Metathink, haven't confirmed yet.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=179_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/177", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/177/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/177/events", "html_url": "https://github.com/evennia/evennia/issues/177", "id": 26059220, "node_id": "MDU6SXNzdWUyNjA1OTIyMA==", "number": 177, "title": "delete_connection missing argument", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:12Z", "updated_at": "2014-01-22T01:11:13Z", "closed_at": "2014-01-22T01:11:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [metathin...@gmail.com](https://code.google.com/u/113528707470198802197/) on August 02, 2011 00:28:09_\n\nsrc.commands.default.comms.irc.delete_connection channel argument is missing. A) What steps will reproduce the problem? 1. Use @irc2chan to connect a bot on IRC.\n2. Wait for connection\n3. Retype the command with the /disconnect switche B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/xxx/evennia-read-only/src/commands/cmdhandler.py\", line 237, in cmdhandler\n    cmd.func()\n  File \"/xxx/evennia-read-only/src/commands/default/comms.py\", line 829, in func\n    ok = irc.delete_connection(irc_network, irc_port, irc_channel, irc_botname)\nTypeError: delete_connection() takes exactly 5 arguments (4 given)\n\nC) What version/svn revision of Evennia are you using?\n\nSVN r1567 D) Please provide any additional information/suggestions below. Adding 'channel' argument as first argument on file src/commands/default/comms.py, line 829 seems to fix the bug.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=177_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/176", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/176/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/176/events", "html_url": "https://github.com/evennia/evennia/issues/176", "id": 26059218, "node_id": "MDU6SXNzdWUyNjA1OTIxOA==", "number": 176, "title": "@time doesn't seem to increment", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:11:07Z", "updated_at": "2014-01-22T01:11:11Z", "closed_at": "2014-01-22T01:11:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [jsch...@gmail.com](https://code.google.com/u/108672913682343969285/) on July 19, 2011 01:33:32_\n\nA) What steps will reproduce the problem? 1. install a fresh copy of evennia\n2. in the setup choose a time factor of 10 (may not be necessary)\n3. login and run @time, then wait a few minutes and run it again. B) What is the expected output? What do you see instead (tracebacks, error messages)? the first 3 values should increment increment, but don't.\n\n@time\n\n Current server uptime:                  1 minute  \n Total server running time:              2 minutes  \n Total in-game time (realtime x 10):     20 minutes  \n Server time stamp:                      2011-07-18 18:23:26.936752  \n Server load (per minute):               0.19  \n\n@time\n\n Current server uptime:                  1 minute  \n Total server running time:              2 minutes  \n Total in-game time (realtime x 10):     20 minutes  \n Server time stamp:                      2011-07-18 18:25:13.662268  \n Server load (per minute):               0.03 C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. revision 1574 Linux li339-154 2.6.39-x86_64-linode18 #3 SMP Fri May 27 20:03:50 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\nPython 2.7.1 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=176_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/176/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/175", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/175/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/175/events", "html_url": "https://github.com/evennia/evennia/issues/175", "id": 26059215, "node_id": "MDU6SXNzdWUyNjA1OTIxNQ==", "number": 175, "title": "Scripts: Bad handling of typeclass module syntax errors", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:11:05Z", "updated_at": "2014-01-22T01:11:07Z", "closed_at": "2014-01-22T01:11:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on July 04, 2011 12:30:37_\n\nA) What steps will reproduce the problem? 1. Put a syntax error in a script typeclass, such as the bodyfunctions.BodyFunction example (make it persistent too). A syntax error is something like not closing a parenthesis or putting non-ASCII characters in the source code outside a string. \n2. Start the script (or put it on an object with the @script command)\n3. Due to the syntax error, the proper typeclass cannot be loaded, and the default DoNothing script will be used as a temporary replacement instead. So far so good. \n4. Fix the syntax error and reload/reboot the server. You will find that the DoNothing script is still in effect, having replaced the real one. \n\nThis will also irreversibly kill already existing scripts should you happen to introduce a bug in them during a revision - they'll have to be reloaded from scratch. \n\nIntroducing a normal traceback (like putting 1/0 on a line in the typeclass to trigger a ZeroDivisionError) will not trigger this behaviour - the DoNothing will be assigned, but it will be only until next reboot when original script will star (assuming the bug was fixed). Only outright syntax errors seem to cause the effect. B) What is the expected output? What do you see instead (tracebacks, error messages)? The temporary DoNothing script should be just that - temporary. After a reload, and certainly after a reboot, the \"real\" typeclass should be checked again and used if bug-free. It works this way for a normal exception, but not for python syntax errors. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. For some reason the DoNothing typeclass_path is stored permanently in the db_typeclass_path field on the model, overwriting the original. I think I have fixed the behaviour for Objects, but scripts prove elusive and will require exactly tracing the chain of typeclass assignments and lookups.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=175_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/173", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/173/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/173/events", "html_url": "https://github.com/evennia/evennia/issues/173", "id": 26059209, "node_id": "MDU6SXNzdWUyNjA1OTIwOQ==", "number": 173, "title": "Timed script loop doubling", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:10:59Z", "updated_at": "2014-01-22T01:11:01Z", "closed_at": "2014-01-22T01:11:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on July 03, 2011 10:59:00_\n\nA) What steps will reproduce the problem? This occurs in certain situations with the Tutorial world; it seems firing of a script does not always successfully leave the firing function, leaving to several firings in a row - which in the case of some scripts means that multiple other scripts get started in a cascade. The behaviour is erratic however, haven't been able to find a simple test case for it. B) What is the expected output? What do you see instead (tracebacks, error messages)? Every call to at_repeat() should only occur once ever self.interval seconds. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Possibly there could be some subtle interaction effect between Twisted's asynchronous behaviour and the way a script repeat is launched. It might be worth it to move everything to deferreds behind the scenes using something like defer.maybeDeffered() to launch hooks.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=173_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/172", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/172/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/172/events", "html_url": "https://github.com/evennia/evennia/issues/172", "id": 26059202, "node_id": "MDU6SXNzdWUyNjA1OTIwMg==", "number": 172, "title": "migrate warnings", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:10:55Z", "updated_at": "2014-01-22T01:10:58Z", "closed_at": "2014-01-22T01:10:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on June 30, 2011 01:03:33_\n\nA) What steps will reproduce the problem? 1. Fresh install.\n2. sqlite3 database creation\n3. ./manage.py migrate\n\nB) What is the expected output? What do you see instead (tracebacks, error messages)?\nExpected clean execution.\n\nMy result:\n\nBEGIN\n\n...\n\nRunning migrations for players:\n- Migrating forwards to 0005_adding_player_cmdset.\n  > objects:0001_initial\n   ! WARNING: SQLite does not support adding unique constraints. Ignored.\n\n...\n\n> players:0004_auto__add_playernick__add_unique_playernick_db_nick_db_type_db_obj\n>    ! WARNING: SQLite does not support adding unique constraints. Ignored.\n\n...\n\nEND C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Debian GNU/Linux 6.0 vanilla\nEvennia latest trunk.\nPython 2.6.6\nDjango 1.2.3\nTwisted 10.1.0\nSouth 0.7 D) Please provide any additional information/suggestions below. Documents that may be helpful(based on google searches of the warning description): http://www.sqlite.org/faq.html#q26 http://www.sqlite.org/foreignkeys.html#fk_indexes http://www.sqlite.org/foreignkeys.html#fk_schemacommands If it turns out that this is not an Evennia problem, my apologies.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=172_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/171", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/171/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/171/events", "html_url": "https://github.com/evennia/evennia/issues/171", "id": 26059201, "node_id": "MDU6SXNzdWUyNjA1OTIwMQ==", "number": 171, "title": "Ability to create Characters with space in name vs. inability of admin web interface to handle them.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:10:52Z", "updated_at": "2014-01-22T01:10:54Z", "closed_at": "2014-01-22T01:10:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on June 30, 2011 00:44:24_\n\nA) What steps will reproduce the problem? 1. Create character at MUD login screen with space in name. (eg. create \"1337 h4x0r\" dudemang@funkytown.biz boognish)\n2. Attempt to alter (ie. grant staff bit) user account via admin/auth/user/<user number>/\n\nB) What is the expected output? What do you see instead (tracebacks, error messages)?\n\nInability for web interface to deal with spaces in login names. D) Please provide any additional information/suggestions below. Suggest single word limitation on characters name, and an attribute for a \"full name\" on the character.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=171_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/170", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/170/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/170/events", "html_url": "https://github.com/evennia/evennia/issues/170", "id": 26059196, "node_id": "MDU6SXNzdWUyNjA1OTE5Ng==", "number": 170, "title": "User name change causes crash", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:10:49Z", "updated_at": "2014-01-22T01:10:52Z", "closed_at": "2014-01-22T01:10:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [ftzp0...@gmail.com](https://code.google.com/u/105158142518907100238/) on June 09, 2011 23:58:21_\n\nA) What steps will reproduce the problem? 1. Change a USER objects username in the back end (while said user is connected)\n2. Try to do anything like say/pose\n3. Get error messages B) What is the expected output? What do you see instead (tracebacks, error messages)? I expect things to be said and such and I get this block of text.\n\nTraceback (most recent call last):\n  File \"/home/patrick/Evennia/evennia/src/commands/cmdhandler.py\", line 261, in cmdhandler\n    cmd.func()\n  File \"/home/patrick/Evennia/evennia/src/commands/default/admin.py\", line 64, in func\n    if pobj.character.has_player:\n  File \"/home/patrick/Evennia/evennia/src/typeclasses/models.py\", line 584, in **getattribute**\n    return object.**getattribute**(self, propname)\n  File \"/home/patrick/Evennia/evennia/src/objects/models.py\", line 449, in has_player_get\n    return any(self.sessions)\nTypeError: 'NoneType' object is not iterable\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. 1550 D) Please provide any additional information/suggestions below. I think it has to do with the connection not updating with the username change. It seems to only happen when connected. Either kicking someone before changes in the back end happens or keeping track of the connection associated with the user and updating that in the process would work\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=170_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/167", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/167/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/167/events", "html_url": "https://github.com/evennia/evennia/issues/167", "id": 26059187, "node_id": "MDU6SXNzdWUyNjA1OTE4Nw==", "number": 167, "title": "getKeyPair raises exception on my osx and ubuntu", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:10:42Z", "updated_at": "2014-01-22T01:10:45Z", "closed_at": "2014-01-22T01:10:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [nates...@gmail.com](https://code.google.com/u/101053671862469681991/) on May 31, 2011 19:41:21_\n\nA) What steps will reproduce the problem? 1. enable ssh\n2. start evennia B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/application/app.py\", line 622, in run\n    runApp(config)\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/scripts/twistd.py\", line 23, in runApp\n    _SomeApplicationRunner(config).run()\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/application/app.py\", line 376, in run\n    self.application = self.createOrGetApplication()\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/application/app.py\", line 441, in createOrGetApplication\n    application = getApplication(self.config, passphrase)\n--- <exception caught here> ---\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/application/app.py\", line 452, in getApplication\n    application = service.loadApplication(filename, style, passphrase)\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/application/service.py\", line 403, in loadApplication\n    application = sob.loadValueFromFile(filename, 'application', passphrase)\n  File \"/usr/lib/python2.5/site-packages/Twisted-11.0.0_r31967-py2.5-linux-i686.egg/twisted/persisted/sob.py\", line 210, in loadValueFromFile\n    exec fileObj in d, d\n  File \"/home/hagna/dev/evennia/src/server/server.py\", line 235, in <module>\n    'protocolArgs':()})\n  File \"/home/hagna/dev/evennia/src/server/ssh.py\", line 322, in makeFactory\n    publicKey, privateKey = getKeyPair()\n  File \"/home/hagna/dev/evennia/src/server/ssh.py\", line 291, in getKeyPair\n    rsaKey = Key(RSA.generate(KEY_LENGTH))\nexceptions.TypeError: generate_c() takes at least 2 arguments (1 given)\n  Generating SSH RSA keypair (only done once) ...\n\nFailed to load application: generate_c() takes at least 2 arguments (1 given)\n\nI got this on ubuntu.  My macbook had a different traceback.\n\nIf getKeyPair fails why not use the ConchFactory default as in the following patch?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=167_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/165", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/165/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/165/events", "html_url": "https://github.com/evennia/evennia/issues/165", "id": 26059184, "node_id": "MDU6SXNzdWUyNjA1OTE4NA==", "number": 165, "title": "Examining objects with list attributes doesn't work", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:37Z", "updated_at": "2014-01-22T01:10:38Z", "closed_at": "2014-01-22T01:10:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [robjcas...@gmail.com](https://code.google.com/u/109015522509434916545/) on May 10, 2011 21:38:40_\n\n!here.db.foo = [1,2,3]\nex here\n\nwill throw an error, coercing the value to str() in the line shown in the traceback fixes things up though\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=165_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/164", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/164/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/164/events", "html_url": "https://github.com/evennia/evennia/issues/164", "id": 26059182, "node_id": "MDU6SXNzdWUyNjA1OTE4Mg==", "number": 164, "title": "TypeSet load error does not always cause a traceback", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:34Z", "updated_at": "2014-01-22T01:10:36Z", "closed_at": "2014-01-22T01:10:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on April 28, 2011 14:10:55_\n\nA) What steps will reproduce the problem? 1. @create a new object using a typeclass with syntax errors\n2. Sometimes (not always), the traceback is not echoed back to you, but the default typeclass is used silently. B) What is the expected output? What do you see instead (tracebacks, error messages)? It is correct that the default typeclass (BASE_OBJECT_TYPECLASS) should be used rather than to create an invalid/None object. But there should be an error message logged when this happens, since it's usually due to either giving a wrong module path or a typeclass syntax error. \n\nC) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\nThis silent behaviour doesn't appear all the time, only occationally, and not two times in a row. Needs further examination.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=164_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/163", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/163/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/163/events", "html_url": "https://github.com/evennia/evennia/issues/163", "id": 26059178, "node_id": "MDU6SXNzdWUyNjA1OTE3OA==", "number": 163, "title": "@reload causes tracebacks on cmdset reloads if sharing modules", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:32Z", "updated_at": "2014-01-22T01:10:34Z", "closed_at": "2014-01-22T01:10:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on April 28, 2011 14:06:45_\n\nA) What steps will reproduce the problem? 1. Put a cmdset and/or typeclasses and commands all in the same module.\n2. Make a change, in the cmdset, then @reload\n3. References get lost. B) What is the expected output? What do you see instead (tracebacks, error messages)? References get lost, and the command system fails. One has to restart the server to fix things again. It is possible that the effect occurs with any change in the shared module, need to test this further.\n\nThe default cmdset separates cmdset from command definitions (and object typeclasses), and those work just fine. So combining them in the same module is probably the cause. \n\nC) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\nIt seems @reloading a mixed module confuses the reloader and messes up references. Most likely this is due to certain components not reloading fully before next ones are reloaded, leading to references being undefined at the time they are reloaded. The behaviour needs to be analyzed further before one can devise a fix; it would certainly be desirable to allow reloading such modules safely.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=163_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/162", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/162/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/162/events", "html_url": "https://github.com/evennia/evennia/issues/162", "id": 26059174, "node_id": "MDU6SXNzdWUyNjA1OTE3NA==", "number": 162, "title": "\"raw\" examine", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:10:29Z", "updated_at": "2014-01-22T01:10:31Z", "closed_at": "2014-01-22T01:10:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [snagglepants](https://code.google.com/u/snagglepants/) on April 25, 2011 20:39:27_\n\nDescriptions (and other attributes) may have color codes, line breaks, and tabs. Currently, examining shows the parsed, colored, linebreaked version of the attrib, rather than the raw color codes/formatting codes. \n\nThis makes editing/updating attribs and descriptions painful, in that the user has to look at the colored/formatted version and figure out where to re-enter all of the formatting codes that the parsed version substituted.\n\nA switch for examine, perhaps, examine/raw, could show the attribute values. Or perhaps examine should just default to this mode, and have a switch for parsed output. I'm not sure what cases would be beneficial to see the parsed value, given that examine is a low-level command used for looking at guts.\n\nFiling this as a defect, since this was the case in the past, and is now broken.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=162_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/161", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/161/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/161/events", "html_url": "https://github.com/evennia/evennia/issues/161", "id": 26059171, "node_id": "MDU6SXNzdWUyNjA1OTE3MQ==", "number": 161, "title": "@unlink en exit leads to an AttributeError", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:27Z", "updated_at": "2014-01-22T01:10:28Z", "closed_at": "2014-01-22T01:10:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on April 15, 2011 19:01:18_\n\nA) What steps will reproduce the problem? 1. dig another romm with exits\n2. @unlink north\n3. leads to an AttributeError Object: 'destination' not found error B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/home/evennia/mud/evennia/src/commands/cmdhandler.py\", line 391, in cmdhandler\n    cmd.func()\n  File \"/home/evennia/mud/evennia/src/commands/default/building.py\", line 795, in func\n    super(CmdUnLink, self).func()\n  File \"/home/evennia/mud/evennia/src/commands/default/building.py\", line 755, in func\n    del obj.destination\n  File \"/home/evennia/mud/evennia/src/typeclasses/typeclass.py\", line 228, in **delattr**\n    dbobj.typeclass_path,))\nAttributeError: Object: 'destination' not found on north(#8), nor on its typeclass game.gamesrc.objects.baseobjects.Exit.\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. At revision 1438 . D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=161_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/160", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/160/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/160/events", "html_url": "https://github.com/evennia/evennia/issues/160", "id": 26059169, "node_id": "MDU6SXNzdWUyNjA1OTE2OQ==", "number": 160, "title": "Umlaut in @descriptions leads to an DatabaseError", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:24Z", "updated_at": "2014-01-22T01:10:26Z", "closed_at": "2014-01-22T01:10:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on April 15, 2011 18:58:14_\n\nA) What steps will reproduce the problem? 1. write something like @desc Keller = Es ist ein sch\u00f6ner Keller\n2. see the error B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/home/evennia/mud/evennia/src/commands/cmdhandler.py\", line 391, in cmdhandler\n    cmd.func()\n  File \"/home/evennia/mud/evennia/src/commands/default/building.py\", line 492, in func\n    obj.db.desc = desc\n  File \"/home/evennia/mud/evennia/src/typeclasses/models.py\", line 891, in **setattr**\n    obj.set_attribute(attrname, value)\n  File \"/home/evennia/mud/evennia/src/typeclasses/models.py\", line 773, in set_attribute\n    attrib_obj.value = new_value\n  File \"/home/evennia/mud/evennia/src/typeclasses/models.py\", line 197, in value_set\n    self.save()\n  File \"/home/evennia/mud/evennia/src/utils/idmapper/base.py\", line 132, in save\n    super(SharedMemoryModel, self).save(_args, *_kwargs)\n  File \"/home/evennia/mud/lib/python2.7/site-packages/django/db/models/base.py\", line 460, in save\n    self.save_base(using=using, force_insert=force_insert, force_update=force_update)\n  File \"/home/evennia/mud/lib/python2.7/site-packages/django/db/models/base.py\", line 526, in save_base\n    rows = manager.using(using).filter(pk=pk_val)._update(values)\n  File \"/home/evennia/mud/lib/python2.7/site-packages/django/db/models/query.py\", line 491, in _update\n    return query.get_compiler(self.db).execute_sql(None)\n  File \"/home/evennia/mud/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 869, in execute_sql\n    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)\n  File \"/home/evennia/mud/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 735, in execute_sql\n    cursor.execute(sql, params)\n  File \"/home/evennia/mud/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py\", line 234, in execute\n    return Database.Cursor.execute(self, query, params)\nDatabaseError: You must not use 8-bit bytestrings unless you use a text_factory that can interpret 8-bit bytestrings (like text_factory = str). It is highly recommended that you instead just switch your application to Unicode strings.\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. D) Please provide any additional information/suggestions below. At revision 1438\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=160_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/159", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/159/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/159/events", "html_url": "https://github.com/evennia/evennia/issues/159", "id": 26059168, "node_id": "MDU6SXNzdWUyNjA1OTE2OA==", "number": 159, "title": "Apostrophe in user name causes strange issues", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:10:22Z", "updated_at": "2014-01-22T01:10:24Z", "closed_at": "2014-01-22T01:10:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on April 15, 2011 13:50:19_\n\nA) What steps will reproduce the problem? A user reported this to me. It appeared in the web-client interface, should not be any different over telnet.\n1. Create a user name with an apostrophe in it.\n2. Login commands stop working. B) What is the expected output? What do you see instead (tracebacks, error messages)? Obviously it should work. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=159_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/158", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/158/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/158/events", "html_url": "https://github.com/evennia/evennia/issues/158", "id": 26059166, "node_id": "MDU6SXNzdWUyNjA1OTE2Ng==", "number": 158, "title": "cannot import name ServerConfig", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:19Z", "updated_at": "2014-01-22T01:10:21Z", "closed_at": "2014-01-22T01:10:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on April 14, 2011 22:51:47_\n\nA) What steps will reproduce the problem? 1. updated evennia (svn update)\n2. database migrate (manage.py migrate)\n3. evennia restarted B) What is the expected output? What do you see instead (tracebacks, error messages)? Receive an WSGI application error:\n\n> > > cannot import name ServerConfig\n> > > <<<\n\nsee full traceback: http://pastebin.com/AtGZ7h5q C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. ast Changed Author: griatch\nLast Changed Rev: 1426\nLast Changed Date: 2011-04-12 17:22:04 -0500 (Tue, 12 Apr 2011) D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=158_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/157", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/157/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/157/events", "html_url": "https://github.com/evennia/evennia/issues/157", "id": 26059161, "node_id": "MDU6SXNzdWUyNjA1OTE2MQ==", "number": 157, "title": "\"The destination doesn't exist\" after @reloading.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:10:16Z", "updated_at": "2014-01-22T01:10:18Z", "closed_at": "2014-01-22T01:10:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Benson.G...@gmail.com](https://code.google.com/u/101048363104320370360/) on April 08, 2011 05:47:36_\n\nA) What steps will reproduce the problem? Starting in a brand-new Evennia install, as the superuser:\n1. @dig house = south, north\n2. @reload\n3. south B) What is the expected output? What do you see instead (tracebacks, error messages)? Expect to travel to the room normally. Instead, get this message:\n\"The destination doesn't exist.\"\nand this traceback on the log:\n2011-04-08 03:41:45+0000 [TelnetProtocol,0,192.168.0.49] [::] Traceback (most recent call last):\n2011-04-08 03:41:45+0000 [TelnetProtocol,0,192.168.0.49] [::]   File \"/home/bobert/evennia-vanilla/src/typeclasses/models.py\", line 253, in validate_data\n2011-04-08 03:41:45+0000 [TelnetProtocol,0,192.168.0.49] [::]     ret = mclass.objects.get(id=item.id)\n2011-04-08 03:41:45+0000 [TelnetProtocol,0,192.168.0.49] [::] AttributeError: 'NoneType' object has no attribute 'objects'\n2011-04-08 03:41:45+0000 [TelnetProtocol,0,192.168.0.49] [EE] Attribute error: objectdb, 3 C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. I'm using Evennia revision r1408 , Django 1.2.3, Twisted 10.1.0, Python 2.6.6 on a  32-bit Ubuntu Server 10.10 box.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=157_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/156", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/156/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/156/events", "html_url": "https://github.com/evennia/evennia/issues/156", "id": 26059160, "node_id": "MDU6SXNzdWUyNjA1OTE2MA==", "number": 156, "title": "Feature request(/bug report?): Make obj accessible from at_script_creation.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:10:12Z", "updated_at": "2014-01-22T01:10:15Z", "closed_at": "2014-01-22T01:10:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Benson.G...@gmail.com](https://code.google.com/u/101048363104320370360/) on April 08, 2011 03:20:20_\n\nA) Describe the suggested feature and how it is supposed to work and behave to the end user (player or admin/coder). I'm working on a combat engine in which the interval between your attacks depends on your agility stat. So, I'm thinking something like this:\nclass CombatScript(basescript.Script):\n    def at_script_creation(self):\n        self.key = \"combat\"\n        self.desc = \"Script used for a character in the middle of combat.\"\n        self.persistent = False\n        self.interval = self.obj.calcAttackDelay()\n\nBut, I get AttributeError: 'NoneType' object has no attribute 'calcAttackDelay'. B) List briefly your arguments for why you think this new feature should be included in Evennia. 1. Many aspects of scripts (their intervals and descriptions especially) should be able to depend on aspects of the obj the script is created on. C) If you have any suggestions on the best way to implement this new feature, write those ideas below. Move the code assigning obj to a script to before at_script_creation is called.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=156_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/155", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/155/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/155/events", "html_url": "https://github.com/evennia/evennia/issues/155", "id": 26059158, "node_id": "MDU6SXNzdWUyNjA1OTE1OA==", "number": 155, "title": "@copy error.", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:10Z", "updated_at": "2014-01-22T01:10:12Z", "closed_at": "2014-01-22T01:10:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Benson.G...@gmail.com](https://code.google.com/u/101048363104320370360/) on April 07, 2011 19:37:24_\n\nA) What steps will reproduce the problem? 1. @create thingy\n2. @copy thingy B) What is the expected output? What do you see instead (tracebacks, error messages)? The item is not copied, and I get the following traceback:\nTraceback (most recent call last):\n  File \"/home/garrison/evennia/src/commands/cmdhandler.py\", line 391, in cmdhandler\n    cmd.func()\n  File \"/home/garrison/evennia/src/commands/default/building.py\", line 207, in func\n    to_obj_location, to_obj_aliases)\n  File \"/home/garrison/evennia/src/objects/manager.py\", line 292, in copy_object\n    new_home = original_object.new_home\n  File \"/home/garrison/evennia/src/typeclasses/typeclass.py\", line 141, in **getattribute**\n    dbobj.typeclass_path,))\nAttributeError: Object: 'new_home' not found on thingy(#25), nor on its typeclass game.gamesrc.objects.baseobjects.Object.\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. I'm using Evennia revision r1400 , Django 1.2.3, Twisted 10.1.0, Python 2.6.6 on a  32-bit Ubuntu Server 10.10 box.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=155_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/153", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/153/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/153/events", "html_url": "https://github.com/evennia/evennia/issues/153", "id": 26059152, "node_id": "MDU6SXNzdWUyNjA1OTE1Mg==", "number": 153, "title": "After @bachcommands and restarting the server receiving \"RuntimeError: maximum recursion depth exceeded\"", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:10:03Z", "updated_at": "2014-01-22T01:10:06Z", "closed_at": "2014-01-22T01:10:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 26, 2011 13:09:14_\n\nA) What steps will reproduce the problem? 1. fresh installation of evennia...\n2. login as superuser\n3. using @batchcommands to import \"your world\" [see attachment]\n4. stop evennia server and start\n5. login again as superuser and evennia will crash (see error message [see attachments])\n6. only solution is to delete database and start again B) What is the expected output? What do you see instead (tracebacks, error messages)? RuntimeError: maximum recursion depth exceeded C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest r1398 D) Please provide any additional information/suggestions below. mabye my import file containts some error don't know. But I guess it should not lead to this kind of error. see also my corrupted evennia.db3\n\n**Attachment:** [evennia.db3 world.ev traceback.txt](http://code.google.com/p/evennia/issues/detail?id=153)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=153_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/152", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/152/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/152/events", "html_url": "https://github.com/evennia/evennia/issues/152", "id": 26059150, "node_id": "MDU6SXNzdWUyNjA1OTE1MA==", "number": 152, "title": "Browser: Webclient has Problems with keyboard inputs, like brackets ( and arrow down (history)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:10:00Z", "updated_at": "2014-01-22T01:10:02Z", "closed_at": "2014-01-22T01:10:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 24, 2011 19:43:18_\n\nA) What steps will reproduce the problem? I answered a closed issue http://code.google.com/p/evennia/issues/detail?id=143 but I believe my feedback got lost and I couldn't reopen the bug, thats why I submit a new issue. B) What is the expected output? What do you see instead (tracebacks, error messages)? Depend on witch browser you use the, webclient has some troubles with keyboard inputs like brackets and/or up/down arrows\n# Google Chrome / Chromium (Linux/Windows)\n- Input \"(\" doesn't work. Copy/Paste works\n- And the \"history_step_fwd\" (arrow down) is also not working.\n# Firefox 3.6.x (Windows/Linux)\n- Now if you press the \"(\" nothing happens\n- The history stuff works well (arrow down)\n# Internet Explorer 8 (Windows)\n- Same behavior like Chromium; \n  - key ( not working\n  - arrow down not working (don't show any history back stuff) C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest release - r1396 D) Please provide any additional information/suggestions below. Test on my testing mud http://mud.heavy.ch\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=152_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/151", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/151/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/151/events", "html_url": "https://github.com/evennia/evennia/issues/151", "id": 26059139, "node_id": "MDU6SXNzdWUyNjA1OTEzOQ==", "number": 151, "title": "postgreSQL is not working after manage.py migrate", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-01-22T01:09:48Z", "updated_at": "2015-08-19T11:02:21Z", "closed_at": "2014-01-22T01:09:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 23, 2011 22:50:44_\n\nA) What steps will reproduce the problem? 1. install evennia and also postgresql and psycopg2\n2. creating some user and database for evnnia\n3. configure the settings.py with something like: django.db.backends.postgresql_psycopg2\n4. run manage.py syncdb, see how some tables are created on the database\n5. after this manage.py migrate for south\n5. and see the error message like \"django.db.utils.DatabaseError: FEHLER:  Relation \u00bbobjects_objectdb\u00ab existiert nicht\" B) What is the expected output? What do you see instead (tracebacks, error messages)? my settings.py\n\n> > > SNIP>>>\n> > > DATABASES = {\n> > >     'default':{\n> > >         'ENGINE':'django.db.backends.postgresql_psycopg2',\n> > >         'NAME':'evennia',\n> > >         'USER':'evennia',\n> > >         'PASSWORD':'asdfxyvysdf',\n> > >         'HOST':'localhost',\n> > >         'PORT':'5432'\n> > >         }}\n\nDATABASE_ENGINE = 'postgresql_psycopg2'\nDATABASE_NAME = 'evennia'\nDATABASE_USER = 'evennia'\nDATABASE_PASSWORD = 'asdfxyvysdf'\nDATABASE_HOST = 'localhost'\nDATABASE_PORT = '5432'\n<<<SNAP<<<\n\n\"manage.py syncdb\" worked (and around ~20 tables are created), but after I input \"manage.py migrate\" i received the following error:\n\n> > > SNIP>>>\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/migration/**init**.py\", line 191, in migrate_app\n> > >     success = migrator.migrate_many(target, workplan, database)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/migration/migrators.py\", line 221, in migrate_many\n> > >     result = migrator.**class**.migrate_many(migrator, target, migrations, database)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/migration/migrators.py\", line 292, in migrate_many\n> > >     result = self.migrate(migration, database)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/migration/migrators.py\", line 125, in migrate\n> > >     result = self.run(migration)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/migration/migrators.py\", line 99, in run\n> > >     return self.run_migration(migration)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/migration/migrators.py\", line 82, in run_migration\n> > >     south.db.db.execute_deferred_sql()\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/db/generic.py\", line 184, in execute_deferred_sql\n> > >     self.execute(sql)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/south/db/generic.py\", line 150, in execute\n> > >     cursor.execute(sql, params)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/backends/postgresql_psycopg2/base.py\", line 44, in execute\n> > >     return self.cursor.execute(query, args)\n> > > django.db.utils.DatabaseError: FEHLER:  Relation \u00bbobjects_objectdb\u00ab existiert nicht\n> > > <<<SNAP<<<\n\nIn my postgresql I see some table \"south_migrationhistory\" for example but sure \"evennia.py -i start\" don't work:\n\n> > > SNIP>>>\n> > > eObj in d, d\n> > >   File \"/home/lestat/Development/mud/evennia/src/server/server.py\", line 183, in <module>\n> > >     EVENNIA = Evennia(application)\n> > >   File \"/home/lestat/Development/mud/evennia/src/server/server.py\", line 77, in **init**\n> > >     self.run_initial_setup()\n> > >   File \"/home/lestat/Development/mud/evennia/src/server/server.py\", line 131, in run_initial_setup\n> > >     initial_setup.handle_setup(0)\n> > >   File \"/home/lestat/Development/mud/evennia/src/server/initial_setup.py\", line 235, in handle_setup\n> > >     for obj in ObjectDB.objects.all():\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/models/query.py\", line 105, in _result_iter\n> > >     self._fill_cache()\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/models/query.py\", line 783, in _fill_cache\n> > >     self._result_cache.append(self._iter.next())\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/models/query.py\", line 271, in iterator\n> > >     for row in compiler.results_iter():\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/models/sql/compiler.py\", line 677, in results_iter\n> > >     for rows in self.execute_sql(MULTI):\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/models/sql/compiler.py\", line 732, in execute_sql\n> > >     cursor.execute(sql, params)\n> > >   File \"/home/lestat/Development/mud/lib/python2.6/site-packages/django/db/backends/postgresql_psycopg2/base.py\", line 44, in execute\n> > >     return self.cursor.execute(query, args)\n> > > django.db.utils.DatabaseError: FEHLER:  aktuelle Transaktion wurde abgebrochen, Befehle werden bis zum Ende der Transaktion ignoriert\n\nFailed to load application: FEHLER:  aktuelle Transaktion wurde abgebrochen, Befehle werden bis zum Ende der Transaktion ignoriert\n<<<SNIP<<<\n\nIf I doing now again \"migrate.py syncdb\" I receive this output:\n\n> > > SNIP>>>\n> > > (mud)lestat@lestat:~/Development/mud/evennia/game$ ./manage.py syncdb\n> > > Syncing...\n> > > No fixtures found.\n\nSynced:\n\n> django.contrib.auth\n> django.contrib.sites\n> django.contrib.contenttypes\n> django.contrib.sessions\n> django.contrib.admin\n> django.contrib.admindocs\n> django.contrib.flatpages\n> src.imc2\n> src.irc\n> src.web.news\n> src.web.website\n> south\n\nNot synced (use migrations):\n- src.config\n- src.players\n- src.objects\n- src.comms\n- src.help\n- src.scripts\n  (use ./manage.py migrate to migrate these)\n  <<<SNAP<<<\n\nbut sure manage.py migrate leads to the error :-( C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. \\* Revision 1394 . D) Please provide any additional information/suggestions below. PostgreSQL 8.4.7\n\nMy Install-Documentation can be found here: http://lotek.heavy.ch/evennia#Database bye\nMarcel\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=151_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/149", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/149/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/149/events", "html_url": "https://github.com/evennia/evennia/issues/149", "id": 26059135, "node_id": "MDU6SXNzdWUyNjA1OTEzNQ==", "number": 149, "title": "@serverload and @time load averages", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:09:43Z", "updated_at": "2014-01-22T01:09:45Z", "closed_at": "2014-01-22T01:09:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [snagglepants](https://code.google.com/u/snagglepants/) on March 21, 2011 03:48:56_\n\nJust a quick note, but server load averages are not 0.0 to 1.0, so we can end up with some funkage when we do something like:\n\nos.getloadavg()[0] \\* 100\n\nFor example, our 2xquad core machine we use for Postgres has a load average of 2.03 right now, which isn't that bad, given that it has 4 processors. Load average is meant to give you a rough estimate of supply/demand of processing time, so whereas a load average of over 1.0 on a single-core/single-proc machine would mean an overloaded machine, a load average of 2.0 on a 2xquad core machine means that we're only approximately half utilized.\n\nPerhaps it makes sense to display this as the flat decimal load average number? It might be what the kind of person that would look at @serverload would be expecting, anyway, especially if it got up to 300&#37; or so.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=149_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/148", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/148/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/148/events", "html_url": "https://github.com/evennia/evennia/issues/148", "id": 26059133, "node_id": "MDU6SXNzdWUyNjA1OTEzMw==", "number": 148, "title": "Creating a new character and cmdsets", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:09:40Z", "updated_at": "2014-01-22T01:09:43Z", "closed_at": "2014-01-22T01:09:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [phantasm...@gmail.com](https://code.google.com/u/115191783230869461155/) on March 20, 2011 23:50:45_\n\nA) What steps will reproduce the problem? When a new character is created, a cmdset is not assigned. B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"F:\\MUD\\evennia\\src\\commands\\default\\unloggedin.py\", line 197, in func\n    home=default_home)\n  File \"F:\\MUD\\evennia\\src\\utils\\create.py\", line 416, in create_player\n    player=new_player)\n  File \"F:\\MUD\\evennia\\src\\utils\\create.py\", line 96, in create_object\n    new_object.basetype_setup() # setup the basics of Exits, Characters etc.\n  File \"F:\\MUD\\evennia\\src\\objects\\objects.py\", line 321, in basetype_setup\n    self.cmdset.add_default(CMDSET_DEFAULT, permanent=True)\n  File \"F:\\MUD\\evennia\\src\\commands\\cmdsethandler.py\", line 291, in add_default\n    self.mergetype_stack.insert[0] = cmdset.mergetype\nTypeError: 'builtin_function_or_method' object does not support item assignment C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Rev 1384. D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=148_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/147", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/147/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/147/events", "html_url": "https://github.com/evennia/evennia/issues/147", "id": 26059131, "node_id": "MDU6SXNzdWUyNjA1OTEzMQ==", "number": 147, "title": "IndexError and examine", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:09:37Z", "updated_at": "2014-01-22T01:09:39Z", "closed_at": "2014-01-22T01:09:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [phantasm...@gmail.com](https://code.google.com/u/115191783230869461155/) on March 20, 2011 23:09:53_\n\nA) What steps will reproduce the problem? Examining Limbo after a database reset. B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"F:\\MUD\\evennia\\src\\commands\\cmdhandler.py\", line 391, in cmdhandler\n    cmd.func()\n  File \"F:\\MUD\\evennia\\src\\commands\\default\\building.py\", line 1522, in func\n    string += self.format_output(obj)\n  File \"F:\\MUD\\evennia\\src\\commands\\default\\building.py\", line 1458, in format_output\n    string += \"\\nCurrent Cmdset (before permission checks):\\n &#37;s\" &#37; obj.cmdset\n  File \"F:\\MUD\\evennia\\src\\commands\\cmdsethandler.py\", line 182, in **str**\n    mergetype = self.mergetype_stack[-1]\nIndexError: list index out of range\n\nAbove traceback is from an untrapped error. Please file a bug report.- C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Revision 1383 . D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=147_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/147/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/146", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/146/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/146/events", "html_url": "https://github.com/evennia/evennia/issues/146", "id": 26059129, "node_id": "MDU6SXNzdWUyNjA1OTEyOQ==", "number": 146, "title": "@serverload command gives wrong memory information", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:09:34Z", "updated_at": "2014-01-22T01:09:36Z", "closed_at": "2014-01-22T01:09:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 20, 2011 19:38:05_\n\nA) What steps will reproduce the problem? 1. login as superuser\n2. execute @serverload\n3. and see that the rows with \"Integral memory\" and \"Max res memory\" are always 0 B) What is the expected output? What do you see instead (tracebacks, error messages)? A ps command says that I'm using 18MB memory, so \"max res memory\" should display the same value.\n\nevennia  24944     1  0 19239 18948  2 13:21 ?        00:00:01 /home/evennia/mud/bin/python2.7 /home/evennia/mud/bin/twistd --logfile=/home/evennia/mud/evennia/game/logs/evennia.log --python=/home/evennia/mud/evennia/src/server/server.py C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest version r1377 D) Please provide any additional information/suggestions below. linux version used: Red Hat 3.4.6-11\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=146_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/145", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/145/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/145/events", "html_url": "https://github.com/evennia/evennia/issues/145", "id": 26059126, "node_id": "MDU6SXNzdWUyNjA1OTEyNg==", "number": 145, "title": "Using @quit leads to an AttributeError if you logged in more then once", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:09:32Z", "updated_at": "2014-01-22T01:09:33Z", "closed_at": "2014-01-22T01:09:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 18, 2011 13:54:01_\n\nA) What steps will reproduce the problem? 1. login 2x from different browsers with the same user (in my case the superuser)\n2. user @quit in one browser/user\n3. see a traceback appears on the other still logged in user B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/home/evennia/mud/evennia/src/commands/cmdhandler.py\", line 394, in cmdhandler\n    cmd.func()\n  File \"/home/evennia/mud/evennia/src/commands/default/general.py\", line 336, in func\n    session.session_disconnect()\n  File \"/home/evennia/mud/evennia/src/server/session.py\", line 153, in session_disconnect\n    self.at_disconnect()\n  File \"/home/evennia/mud/evennia/src/server/webclient.py\", line 251, in at_disconnect\n    char.at_disconnect()\n  File \"/home/evennia/mud/evennia/game/gamesrc/objects/baseobjects.py\", line 116, in at_disconnect\n    self.location.msg_contents(\"&#37;s has left the game.\" &#37; self.name)\nAttributeError: 'NoneType' object has no attribute 'msg_contents'\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest... r1367 D) Please provide any additional information/suggestions below. I guess the error exist always if you log out with @quit, but with only one user you don't get the error message...\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=145_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/144", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/144/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/144/events", "html_url": "https://github.com/evennia/evennia/issues/144", "id": 26059121, "node_id": "MDU6SXNzdWUyNjA1OTEyMQ==", "number": 144, "title": "Attribute Error with RedButton", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:09:29Z", "updated_at": "2014-01-22T01:09:31Z", "closed_at": "2014-01-22T01:09:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [phantasm...@gmail.com](https://code.google.com/u/115191783230869461155/) on March 18, 2011 04:20:55_\n\nA) What steps will reproduce the problem? Using commands with the RedButton, such as trying to open it or smash it, will occasionally cause an AttributeError. B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"F:\\MUD\\evennia\\src\\commands\\cmdhandler.py\", line 394, in cmdhandler\n    cmd.func()\n  File \"F:\\MUD\\evennia\\game\\gamesrc\\commands\\examples\\cmdset_red_button.py\", line 149, in func\n    self.obj.open_lid()\n  File \"F:\\MUD\\evennia\\game\\gamesrc\\objects\\examples\\red_button.py\", line 93, in open_lid\n    self.obj.scripts.add(scriptexamples.OpenLidState)\n  File \"F:\\MUD\\evennia\\src\\typeclasses\\typeclass.py\", line 132, in **getattribute**\n    dbobj.typeclass_path,))\nAttributeError: Object: 'obj' not found on button(#9), nor on its typeclass game.gamesrc.objects.examples.red_button.RedButton. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Revision 1364 .\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=144_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/143", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/143/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/143/events", "html_url": "https://github.com/evennia/evennia/issues/143", "id": 26059114, "node_id": "MDU6SXNzdWUyNjA1OTExNA==", "number": 143, "title": "Webclient remove text in input line, if you write a open bracket  (", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:09:24Z", "updated_at": "2014-01-22T01:09:29Z", "closed_at": "2014-01-22T01:09:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 17, 2011 22:35:57_\n\nA) What steps will reproduce the problem? 1. login via webclient\n1. write: say Hello ) Alpha\n   -> Output: You say, \"Hello ) Alpha\"\n   = correct\n2. write: say Hello ( Beta  \n   -> Output: Huh? (Type \"help\" for help)\n   = wrong B) What is the expected output? What do you see instead (tracebacks, error messages)? you see how the input line gets deleted, if you write a open bracket ( in your \"say\" message/text. thats why the \"Huh?\" message :-) C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r1361 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=143_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/142", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/142/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/142/events", "html_url": "https://github.com/evennia/evennia/issues/142", "id": 26059111, "node_id": "MDU6SXNzdWUyNjA1OTExMQ==", "number": 142, "title": "@ex on <Superuser> fail with AttributeError", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:09:21Z", "updated_at": "2014-01-22T01:09:23Z", "closed_at": "2014-01-22T01:09:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 17, 2011 22:12:25_\n\nA) What steps will reproduce the problem? 0. we have a <Superuser> \"marcel\"\n1. create a new user with only Builders permission e.g. \"lotek\"\n2. login as user \"Lotek\" and try \"@ex lotek\" -> everything works\n3. try \"@ex marcel\" --> traceback / error B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n  File \"/home/evennia/mud/evennia/src/commands/cmdhandler.py\", line 394, in cmdhandler\n    cmd.func()\n  File \"/home/evennia/mud/evennia/src/commands/default/building.py\", line 1474, in func\n    caller.exec_cmd('look &#37;s' &#37; obj_name)\n  File \"/home/evennia/mud/evennia/src/typeclasses/typeclass.py\", line 132, in **getattribute**\n    dbobj.typeclass_path,))\nAttributeError: Object: 'exec_cmd' not found on lotek(#3), nor on its typeclass game.gamesrc.objects.baseobjects.Character.\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest version r1361 D) Please provide any additional information/suggestions below. see my mud..\n\nbye\nMarcel\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=142_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/142/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/141", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/141/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/141/events", "html_url": "https://github.com/evennia/evennia/issues/141", "id": 26059110, "node_id": "MDU6SXNzdWUyNjA1OTExMA==", "number": 141, "title": "Missing permissions for Immortals", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:09:19Z", "updated_at": "2014-01-22T01:09:20Z", "closed_at": "2014-01-22T01:09:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [phantasm...@gmail.com](https://code.google.com/u/115191783230869461155/) on March 17, 2011 17:09:09_\n\nA) What steps will reproduce the problem? 1. Assign a user to Immortals.\n2. Compare the permissions of the superuser and the immortal account. B) What is the expected output? What do you see instead (tracebacks, error messages)? @boot, @delplayer, @time, @batchcode, @batchcommands are all missing from the available commands of the test immortal character, using HELP to check, when they should be available. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Revision 1361 .\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=141_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/141/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/140", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/140/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/140/events", "html_url": "https://github.com/evennia/evennia/issues/140", "id": 26059108, "node_id": "MDU6SXNzdWUyNjA1OTEwOA==", "number": 140, "title": "Admin interface not displaying Attribues", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:09:16Z", "updated_at": "2014-01-22T01:09:17Z", "closed_at": "2014-01-22T01:09:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on March 17, 2011 16:54:13_\n\nA) What steps will reproduce the problem? 1. Access admin-interface, try to access Attributes B) What is the expected output? What do you see instead (tracebacks, error messages)? They should work. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. Reported originally user Delu.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=140_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/139", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/139/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/139/events", "html_url": "https://github.com/evennia/evennia/issues/139", "id": 26059101, "node_id": "MDU6SXNzdWUyNjA1OTEwMQ==", "number": 139, "title": "\"help tell\" gives TypeError: argument of type 'Alias' is not iterable", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:09:13Z", "updated_at": "2014-01-22T01:09:15Z", "closed_at": "2014-01-22T01:09:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on March 13, 2011 21:48:09_\n\nA) What steps will reproduce the problem? 1. call the mud (webclient)\n2. login\n3. help tell B) What is the expected output? What do you see instead (tracebacks, error messages)? Traceback (most recent call last):\n\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/cmdhandler.py\", line 394, in cmdhandler\n    cmd.func()\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/default/help.py\", line 119, in func\n    if query in cmd and has_perm(caller, cmd, 'cmd')]\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/command.py\", line 107, in **contains**\n    (sum([query in alias for alias in self.aliases]) > 0)\nTypeError: argument of type 'Alias' is not iterable\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest (At revision 1344 ) D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=139_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/138", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/138/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/138/events", "html_url": "https://github.com/evennia/evennia/issues/138", "id": 26059099, "node_id": "MDU6SXNzdWUyNjA1OTA5OQ==", "number": 138, "title": "Script model SessionHandler bug", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:09:10Z", "updated_at": "2014-01-22T01:09:12Z", "closed_at": "2014-01-22T01:09:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [scott.ki...@gmail.com](https://code.google.com/u/107222193671570617875/) on February 28, 2011 22:43:04_\n\nA) What steps will reproduce the problem? 1. Try to add a script to the room B) What is the expected output? What do you see instead (tracebacks, error messages)? @py self.location.scripts.add(\"game.gamesrc.scripts.blackhole.BlackHole\")     \n\n> > > self.location.scripts.add(\"game.gamesrc.scripts.blackhole.BlackHole\")\n> > > <<<   File \"/home/kidde1sr/test-canalmud/src/scripts/scripthandler.py\", line\n> > > 72, in add\n> > > <<<     script = create.create_script(scriptclass, key=key, obj=self.obj,\n> > > autostart=autostart)\n> > > <<<   File \"/home/kidde1sr/test-canalmud/src/utils/create.py\", line 168, in\n> > > create_script\n> > > <<<     typeclass = new_db_object.typeclass\n> > > <<<   File \"/home/kidde1sr/test-canalmud/src/typeclasses/models.py\", line 500,\n> > > in **getattribute**\n> > > <<<     return object.**getattribute**(self, propname)\n> > > <<<   File \"/home/kidde1sr/test-canalmud/src/typeclasses/models.py\", line 573,\n> > > in typeclass_get\n> > > <<<     errmsg(errstring)\n> > > <<<   File \"/home/kidde1sr/test-canalmud/src/typeclasses/models.py\", line 542,\n> > > in errmsg\n> > > <<<     for session in SESSIONS:\n> > > <<< TypeError: 'SessionHandler' object is not iterable C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Newest r1318 D) Please provide any additional information/suggestions below. http://pastebin.com/AP6EQv5y\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=138_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/138/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/137", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/137/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/137/events", "html_url": "https://github.com/evennia/evennia/issues/137", "id": 26059098, "node_id": "MDU6SXNzdWUyNjA1OTA5OA==", "number": 137, "title": "who command display wrong idle time", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:09:07Z", "updated_at": "2014-01-22T01:09:09Z", "closed_at": "2014-01-22T01:09:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on February 27, 2011 13:58:23_\n\nA) What steps will reproduce the problem? 1. create some rooms, items\n2. walk around, get some items, etcetera\n3. input who and watch who the idle who it goes up and up\n\n> > > Player Name     On for     Idle     Room     Cmds     Host  \n> > > marcel          00:04      10m      7        0        1  \n> > > <<<\n\n\"Idle\": Actually it shows how many minutes ago you're opened a connection to the mud (even if you not logged in); 10min 6min without login, 4min logged in) [to test it, just start the webclient and wait for some minutes with connect username password... and you will see that the idle is bigger then the \"On for\"..\n\n\"On for\": Shows correct how long your're logged in (4min) B) What is the expected output? What do you see instead (tracebacks, error messages)? 1. correct counting\nThe idle should only raise up, if the user do nothing (e.g. no command transmitted, beside the \"idle\" stuff).\n1. starts only after logged in and idle\n   The idle should also run only if you logged in with your username \"connect...\" and not if you just established a connect to the mud. it should also respect the idle timer (i129) C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest version: r1314 D) Please provide any additional information/suggestions below. I tested with the webclient\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=137_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/136", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/136/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/136/events", "html_url": "https://github.com/evennia/evennia/issues/136", "id": 26059094, "node_id": "MDU6SXNzdWUyNjA1OTA5NA==", "number": 136, "title": "Rooms losing contents", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:09:03Z", "updated_at": "2014-01-22T01:09:07Z", "closed_at": "2014-01-22T01:09:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [scott.ki...@gmail.com](https://code.google.com/u/107222193671570617875/) on February 25, 2011 22:01:52_\n\nA) What steps will reproduce the problem? 1. I have a messagboard object that keeps a list of note objects.\n2. When I try to post, Limbo loses it's contents until I restart the server B) What is the expected output? What do you see instead (tracebacks, error messages)? mb/post\nTraceback (most recent call last):\n  File \"/local/testing/src/commands/cmdhandler.py\", line 285, in cmdhandler\n    cmdset = get_and_merge_cmdsets(caller)\n  File \"/local/testing/src/commands/cmdhandler.py\", line 109, in get_and_merge_cm\ndsets\n    exit_cmdset = EXITHANDLER.get_cmdset(caller)\n  File \"/local/testing/src/objects/exithandler.py\", line 71, in get_cmdset\n    for exi in (exi for exi in location.contents\n  File \"/local/testing/src/typeclasses/typeclass.py\", line 132, in\n**getattribute**\n    dbobj.typeclass_path,))\nAttributeError: Object: 'contents' not found on Limbo(#2), nor on its typeclass\ngame.gamesrc.objects.baseobjects.Room. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Path: .\nURL: http://evennia.googlecode.com/svn/trunk/game Repository Root: http://evennia.googlecode.com/svn Repository UUID: d06f3412-b222-0410-8116-9f36aa46d225\nRevision: 1314\nNode Kind: directory\nSchedule: normal\nLast Changed Author: griatch\nLast Changed Rev: 1312\nLast Changed Date: 2011-02-23 16:08:02 -0500 (Wed, 23 Feb 2011 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=136_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/136/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/134", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/134/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/134/events", "html_url": "https://github.com/evennia/evennia/issues/134", "id": 26059089, "node_id": "MDU6SXNzdWUyNjA1OTA4OQ==", "number": 134, "title": "Channels manager error", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:57Z", "updated_at": "2014-01-22T01:08:59Z", "closed_at": "2014-01-22T01:08:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [scott.ki...@gmail.com](https://code.google.com/u/107222193671570617875/) on February 25, 2011 07:28:06_\n\nA) What steps will reproduce the problem? 1. Try to create a new channel.\n2. Try to talk on newly created channel by name. B) What is the expected output? What do you see instead (tracebacks, error messages)? @ccreate chat = hi\nCreated channel chat and connected to it.\nchat hi\nTraceback (most recent call last):\n  File \"/dump/canalmud/evennia/src/commands/cmdhandler.py\", line 421, in cmdhandler\n    syscmd.func()\n  File \"/dump/canalmud/evennia/src/comms/channelhandler.py\", line 70, in func\n    if not channel.has_connection(caller):\n  File \"/dump/canalmud/evennia/src/comms/models.py\", line 477, in has_connection\n    return Channel.objects.has_connection(player, self)\n  File \"/dump/canalmud/evennia/src/comms/managers.py\", line 240, in has_connection\n    return ChannelConnection.objects.has_connection(player, channel)\nAttributeError: 'NoneType' object has no attribute 'objects'\n\nAbove traceback is from a Command handler bug. Please contact an admin. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Path: .\nURL: http://evennia.googlecode.com/svn/trunk/game/gamesrc Repository Root: http://evennia.googlecode.com/svn Repository UUID: d06f3412-b222-0410-8116-9f36aa46d225\nRevision: 1314\nNode Kind: directory\nSchedule: normal\nLast Changed Author: griatch\nLast Changed Rev: 1286\nLast Changed Date: 2011-02-14 13:31:16 -0500 (Mon, 14 Feb 2011) D) Please provide any additional information/suggestions below. This is probably also related to ALLOW_MULTISESSION = False\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=134_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/134/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/133", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/133/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/133/events", "html_url": "https://github.com/evennia/evennia/issues/133", "id": 26059085, "node_id": "MDU6SXNzdWUyNjA1OTA4NQ==", "number": 133, "title": "Open to dbRef with return exit error", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:54Z", "updated_at": "2014-01-22T01:08:56Z", "closed_at": "2014-01-22T01:08:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [scott.ki...@gmail.com](https://code.google.com/u/107222193671570617875/) on February 25, 2011 01:58:40_\n\nA) What steps will reproduce the problem? 1. Try to open exit to a dbRef with a return exit. B) What is the expected output? What do you see instead (tracebacks, error messages)? Pearce Hallway\nExits: south\n@open\nUsage: @open <new exit>[;alias;alias...][:typeclass] = <destination [,<return exit>[;alias..][:t\nypeclass]]]\n@find Pearce\nMore than one match for 'Pearce' (please narrow target):\n 1-Pearce Hallway(#72)\n 2-Pearce Hallway(#75)\n 3-Pearce Hallway(#78)\n 4-Pearce Hallway(#81)\n 5-Pearce Hallway(#84)\n 6-Pearce Hallway(#87)\n 7-Pearce Hallway(#90)\n 8-Pearce Hallway(#93)\n 9-Pearce Hallway(#96)\n 10-Pearce Hallway(#99)\n 11-Pearce Hallway(#102)\n 12-Pearce Hallway(#105)\n@open north = 72, south\nCreated new Exit 'north' to Pearce Hallway (aliases: []).\nTraceback (most recent call last):\n  File \"/dump/canalmud/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n    cmd.func()\n  File \"/dump/canalmud/evennia/src/commands/default/building.py\", line 1036, in func\n    back_exit_aliases, back_exit_typeclass)\n  File \"/dump/canalmud/evennia/src/commands/default/building.py\", line 939, in create_exit\n    if not exit_obj.db._destination:\nAttributeError: 'list' object has no attribute 'db'\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Path: .\nURL: http://evennia.googlecode.com/svn/trunk/game Repository Root: http://evennia.googlecode.com/svn Repository UUID: d06f3412-b222-0410-8116-9f36aa46d225\nRevision: 1314\nNode Kind: directory\nSchedule: normal\nLast Changed Author: griatch\nLast Changed Rev: 1312\nLast Changed Date: 2011-02-23 16:08:02 -0500 (Wed, 23 Feb 2011) D) Please provide any additional information/suggestions below. This is fresh off applying a batch file.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=133_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/133/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/132", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/132/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/132/events", "html_url": "https://github.com/evennia/evennia/issues/132", "id": 26059083, "node_id": "MDU6SXNzdWUyNjA1OTA4Mw==", "number": 132, "title": "Let cmdsets be searched for also in caller inventory", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:52Z", "updated_at": "2014-01-22T01:08:53Z", "closed_at": "2014-01-22T01:08:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on February 24, 2011 18:18:05_\n\nA) What steps will reproduce the problem? 1. Create object that is intended to be used from INSIDE the player's inventory; assign it cmdset etc. \n2. The object's cmdset will not be found. B) What is the expected output? What do you see instead (tracebacks, error messages)? Also cmdsets of carried objects should be included in cmdset search\n\nC) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below\n\nThe cmdsethandler only searches cmdsets for objects in the same location of the caller, it does not search for objects inside the caller. How should the two be prioritized?\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=132_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/131", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/131/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/131/events", "html_url": "https://github.com/evennia/evennia/issues/131", "id": 26059081, "node_id": "MDU6SXNzdWUyNjA1OTA4MQ==", "number": 131, "title": "Channel problem", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:49Z", "updated_at": "2014-01-22T01:08:51Z", "closed_at": "2014-01-22T01:08:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [scott.ki...@gmail.com](https://code.google.com/u/107222193671570617875/) on February 24, 2011 07:52:48_\n\nA) What steps will reproduce the problem? 1. I was not able to talk on any channels so I deleted them all\n2. I created a new channel and attempted to talk on it. B) What is the expected output? What do you see instead (tracebacks, error messages)? @clist\nAll channels (use comlist to see your subscriptions)\n*\\* Channel        Perms         Description\n(No channels) \n@ccreate Chat = bestchan\nCreated channel Chat and connected to it.\n@clist\nAll channels (use comlist to see your subscriptions)\n*\\* Channel        Perms         Description\n -- Chat           ['chan_send:Pla       None\nchat hello\nTraceback (most recent call last):\n  File \"/dump/canalmud/evennia/src/commands/cmdhandler.py\", line 421, in\ncmdhandler\n    syscmd.func()\n  File \"/dump/canalmud/evennia/src/comms/channelhandler.py\", line 70, in func\n    if not channel.has_connection(caller):\n  File \"/dump/canalmud/evennia/src/comms/models.py\", line 477, in\nhas_connection\n    return Channel.objects.has_connection(player, self)\n  File \"/dump/canalmud/evennia/src/comms/managers.py\", line 240, in\nhas_connection\n    return ChannelConnection.objects.has_connection(player, channel)\nAttributeError: 'NoneType' object has no attribute 'objects'\n\nAbove traceback is from a Command handler bug. Please contact an admin C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Path: .\nURL: http://evennia.googlecode.com/svn/trunk/game/gamesrc/commands/examples Repository Root: http://evennia.googlecode.com/svn Repository UUID: d06f3412-b222-0410-8116-9f36aa46d225\nRevision: 1311\nNode Kind: directory\nSchedule: normal\nLast Changed Author: ari-mudev@patchwork-entertainment.net\nLast Changed Rev: 1054\nLast Changed Date: 2010-09-04 14:53:52 -0400 (Sat, 04 Sep 2010) D) Please provide any additional information/suggestions below. This could also be related to the fact that I have ALLOW_MULTISESSION = False\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=131_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/130", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/130/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/130/events", "html_url": "https://github.com/evennia/evennia/issues/130", "id": 26059077, "node_id": "MDU6SXNzdWUyNjA1OTA3Nw==", "number": 130, "title": "Error on login", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:47Z", "updated_at": "2014-01-22T01:08:49Z", "closed_at": "2014-01-22T01:08:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [scott.ki...@gmail.com](https://code.google.com/u/107222193671570617875/) on February 23, 2011 19:53:22_\n\nA) What steps will reproduce the problem? 1. Starting the server in a virtualenv\n2. Connect with any user B) What is the expected output? What do you see instead (tracebacks, error messages)? Starting Evennia server in interactive mode (stop with keyboard interrupt) ...\nLogging to: Standard output.\n\n---\n\n Evennia (SVN-Alpha) started on port(s):\n  telnet: 4000\n##   webserver/client: 8000\n\n2011-02-23 18:44:40+0000 [-] Log opened.\n2011-02-23 18:44:40+0000 [-] twistd 10.2.0 (/home/kidde1sr/canalmud/bin/python 2.6.6) starting up.\n2011-02-23 18:44:40+0000 [-] reactor class: twisted.internet.selectreactor.SelectReactor.\n2011-02-23 18:44:40+0000 [-] twisted.internet.protocol.ServerFactory starting on 4000\n2011-02-23 18:44:40+0000 [-] Starting factory <twisted.internet.protocol.ServerFactory instance at 0x1cbe560>\n2011-02-23 18:44:40+0000 [-] twisted.web.server.Site starting on 8000\n2011-02-23 18:44:40+0000 [-] Starting factory <twisted.web.server.Site instance at 0x1d47098>\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [..] Logged in: <#> kidde1sr@('10.255.254.73', 46878)\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [..]  Validating scripts ...\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [..]  Started 1 script(s). Stopped 0 invalid script(s).\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::] Traceback (most recent call last):\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]   File \"/home/kidde1sr/canalmud/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]     cmd.func()\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]   File \"/home/kidde1sr/canalmud/evennia/src/commands/default/unloggedin.py\", line 99, in func\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]     session.session_login(player)\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]   File \"/home/kidde1sr/canalmud/evennia/src/server/session.py\", line 133, in session_login\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]     SESSIONS.add_loggedin_session(self)\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]   File \"/home/kidde1sr/canalmud/evennia/src/server/sessionhandler.py\", line 70, in add_loggedin_session\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]     self.disconnect_duplicate_sessions(session)\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]   File \"/home/kidde1sr/canalmud/evennia/src/server/sessionhandler.py\", line 120, in disconnect_duplicate_sessions\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::]     session_character = self.get_character(session)\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [::] AttributeError: 'SessionHandler' object has no attribute 'get_character'\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [EE] &#37;s\n2011-02-23 18:44:55+0000 [TelnetProtocol,0,10.255.254.73] [EE] Above traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Path: .\nURL: http://evennia.googlecode.com/svn/trunk/game Repository Root: http://evennia.googlecode.com/svn Repository UUID: d06f3412-b222-0410-8116-9f36aa46d225\nRevision: 1306\nNode Kind: directory\nSchedule: normal\nLast Changed Author: griatch\nLast Changed Rev: 1300\nLast Changed Date: 2011-02-20 17:07:35 -0500 (Sun, 20 Feb 2011)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=130_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/128", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/128/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/128/events", "html_url": "https://github.com/evennia/evennia/issues/128", "id": 26059073, "node_id": "MDU6SXNzdWUyNjA1OTA3Mw==", "number": 128, "title": "@ps gives a number is required, not NoneType", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:40Z", "updated_at": "2014-01-22T01:08:42Z", "closed_at": "2014-01-22T01:08:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on February 21, 2011 12:43:53_\n\nA) What steps will reproduce the problem? 1. login via webclient\n2. type @ps\n3. TypeError: &#37;d format: a number is required, not NoneType B) What is the expected output? What do you see instead (tracebacks, error messages)? Above traceback is from an untrapped error. Please file a bug report.\nTraceback (most recent call last):\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n    cmd.func()\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/default/system.py\", line 647, in func\n    script.desc)\nTypeError: &#37;d format: a number is required, not NoneType\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r1299 D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=128_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/127", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/127/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/127/events", "html_url": "https://github.com/evennia/evennia/issues/127", "id": 26059066, "node_id": "MDU6SXNzdWUyNjA1OTA2Ng==", "number": 127, "title": "@shutdown gives global name 'sessions' is not defined", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:08:38Z", "updated_at": "2014-01-22T01:08:39Z", "closed_at": "2014-01-22T01:08:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on February 21, 2011 12:41:31_\n\nA) What steps will reproduce the problem? 1. login to evennia (webclient e.g.)\n2. use @shutdown\n3. and see the traceback B) What is the expected output? What do you see instead (tracebacks, error messages)? Shutting down server ...\n\nServer is being SHUT DOWN!\nTraceback (most recent call last):\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/cmdhandler.py\", line 393, in cmdhandler\n    cmd.func()\n  File \"/home/lotek/webapps/evennia/evennia/src/commands/default/system.py\", line 435, in func\n    sessions.server.shutdown()\nNameError: global name 'sessions' is not defined\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r1299 D) Please provide any additional information/suggestions below. using interactive mode like: nohup evennia.py -i start & (because daemon mode not working properly)\n\nmaybe has to do with this bugfix: http://code.google.com/p/evennia/source/detail?r=1256 bye\nMarcel\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=127_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/126", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/126/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/126/events", "html_url": "https://github.com/evennia/evennia/issues/126", "id": 26059060, "node_id": "MDU6SXNzdWUyNjA1OTA2MA==", "number": 126, "title": "Too many arguments for execute_cmd()", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:08:33Z", "updated_at": "2014-01-22T01:08:37Z", "closed_at": "2014-01-22T01:08:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [Timothy....@gmail.com](https://code.google.com/u/118313157380581308202/) on January 16, 2011 15:47:56_\n\nA) What steps will reproduce the problem? 1. log in\n2. press CTRL-C\n3. press enter B) What is the expected output? What do you see instead (tracebacks, error messages)? An unknown command error C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest rev downloaded (sourcecode)\nUbuntu 9.04, twisted 10.10, python 2.6.5 D) Please provide any additional information/suggestions below. ' contains invalid character(s) not in utf-8.7.0.0.1] Error: '\ufffd\ufffd\ufffd\ufffd\n2011-01-16 14:44:32+0000 [TelnetProtocol,1,127.0.0.1] Unhandled Error\n    Traceback (most recent call last):\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/python/log.py\", line 84, in callWithLogger\n        return callWithContext({\"system\": lp}, func, _args, *_kw)\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/python/log.py\", line 69, in callWithContext\n        return context.call({ILogContext: newCtx}, func, _args, *_kw)\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/python/context.py\", line 59, in callWithContext\n        return self.currentContext().callWithContext(ctx, func, _args, *_kw)\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/python/context.py\", line 37, in callWithContext\n        return func(_args,_*kw)\n    --- <exception caught here> ---\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/internet/selectreactor.py\", line 146, in _doReadOrWrite\n        why = getattr(selectable, method)()\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/internet/tcp.py\", line 460, in doRead\n        return self.protocol.dataReceived(data)\n      File \"/home/jacobus/.local/lib/python2.6/site-packages/twisted/protocols/basic.py\", line 251, in dataReceived\n        why = self.lineReceived(line)\n      File \"/home/jacobus/evennia/src/server/telnet.py\", line 66, in lineReceived\n        self.at_data_in(string)\n      File \"/home/jacobus/evennia/src/server/telnet.py\", line 156, in at_data_in\n        self.execute_cmd(self, string)\n    exceptions.TypeError: execute_cmd() takes exactly 2 arguments (3 given)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=126_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/126/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/125", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/125/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/125/events", "html_url": "https://github.com/evennia/evennia/issues/125", "id": 26059056, "node_id": "MDU6SXNzdWUyNjA1OTA1Ng==", "number": 125, "title": "daemon mode seems not to work for django/http access", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:08:29Z", "updated_at": "2014-01-22T01:08:32Z", "closed_at": "2014-01-22T01:08:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on January 14, 2011 00:14:05_\n\nA) What steps will reproduce the problem? 1. running evennia with python evennia.py start\n2. twistd.pid file is created\n3. info screen that on port 4000 and 8000 stuff is running goes well\n4. access via http://localhost:8000 doesn't work, telnet for 4000 works B) What is the expected output? What do you see instead (tracebacks, error messages)? http access should work like the interactive mode (-i), but it doesn't. Right, interactive mode works (also the ajax webclient) C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. \\* latest rev downloaded (sourcecode)\n- Ubuntu 10.10\n- Django 1.2.4, Twisted 10.2.0 D) Please provide any additional information/suggestions below. (galaxy)lestat@lestat:~/Development/galaxy/evennia/game/logs$ cat evennia.log\n\n2011-01-13 22:58:35+0000 [-] Log opened.\n2011-01-13 22:58:35+0000 [-] twistd 10.2.0 (/home/lestat/Development/galaxy/bin/python 2.6.5) starting up.\n2011-01-13 22:58:35+0000 [-] reactor class: twisted.internet.selectreactor.SelectReactor.\n2011-01-13 22:58:35+0000 [-] twisted.internet.protocol.ServerFactory starting on 4000\n2011-01-13 22:58:35+0000 [-] Starting factory <twisted.internet.protocol.ServerFactory instance at 0x207d3f8>\n2011-01-13 22:58:35+0000 [-] twisted.web.server.Site starting on 8000\n2011-01-13 22:58:35+0000 [-] Starting factory <twisted.web.server.Site instance at 0x208fe18>\n\nbye\nMarcel\n\np.s.\nthere are also some problems to running the django/http on a remote server and accessing over a normal domain name (e.g. not localhost), then links not working (containing double slashes, like: http://www.domain.ch:8000//webclient/ ) and error messages like \"CSRF verification failed. Request aborted.\" while trying to login. think is some issue with django configuration for the urls and some middleware security stuff from django... not sure if its even recommended to running a \"live\" server with twisted, maybe should dig in with wsgi :. trying to fill-out in the next few days a more detail report about this problem, too... anyway thanks for you great WORK!\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=125_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/124", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/124/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/124/events", "html_url": "https://github.com/evennia/evennia/issues/124", "id": 26059050, "node_id": "MDU6SXNzdWUyNjA1OTA1MA==", "number": 124, "title": "css files are missing for admin interface (django)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:08:24Z", "updated_at": "2014-01-22T01:08:28Z", "closed_at": "2014-01-22T01:08:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mar...@heavy.ch](https://code.google.com/u/108070488478849164028/) on January 13, 2011 13:07:25_\n\nA) What steps will reproduce the problem? Access the Admin Interface of Django with the built-in / twisted server (just default) B) What is the expected output? What do you see instead (tracebacks, error messages)? The page is not layouted correctly, coz' the the files to the admin css are not exist.\n\nExample HTML:\n-  <link rel=\"stylesheet\" type=\"text/css\" href=\"/media/admin/css/base.css\">\n\nLink to SOURCE:\n- http://code.google.com/p/evennia/source/browse/trunk/src/web/templates/admin/index.html?r=1268#4 example Filesystem:\n- (galaxy)marcel@pandora:~/Development/galaxy/evennia$ ls src/web/media/  \n  css  images  javascript  newstopic_icons\n\n<!> The \"admin\" folder is missing completly C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. rev.: r1267 (latest) D) Please provide any additional information/suggestions below.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=124_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/123", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/123/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/123/events", "html_url": "https://github.com/evennia/evennia/issues/123", "id": 26059045, "node_id": "MDU6SXNzdWUyNjA1OTA0NQ==", "number": 123, "title": "Attempt to create duplicate 'Player #1' on first run", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:08:21Z", "updated_at": "2014-01-22T01:08:23Z", "closed_at": "2014-01-22T01:08:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [braktech](https://code.google.com/u/braktech/) on December 22, 2010 07:57:40_\n\nA) What steps will reproduce the problem? Following http://code.google.com/p/evennia/wiki/GettingStarted :\n1. svn checkout http://evennia.googlecode.com/svn/trunk/ evennia\n2. python manage.py\n3. python manage.py syncdb\n4. python evennia.py -i start B) What is the expected output? What do you see instead (tracebacks, error messages)? Expect: Creation of initial objects and server start\nActual:\n[user@server game]$ ./evennia.py -i start\n\nStarting Evennia server in interactive mode (stop with keyboard interrupt) ...\nLogging to: Standard output.\n\n---\n\n Server started for the first time. Setting defaults.\n Creating startup screen(s) ...\n Creating objects (Player #1 and Limbo room) ...\n\n---\n\n Resuming initial setup from step 2.\n Creating objects (Player #1 and Limbo room) ...\n\nTraceback (most recent call last):\n<traceback snip>\nIntegrityError: column user_id is not unique\n<traceback snip>\ndjango.db.utils.IntegrityError: column user_id is not unique\n\nFailed to load application: column user_id is not unique\n\nFull output including full tracebacks (not that helpful as it is Django functions complaining about nonuniqueness) is attached. C) What version/svn revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia Revision: r1266 (latest)\nOS: Fedora release 14 (Laughlin)\nKernel: 2.6.35.9-64.fc14.x86_64\nPython: ver 2.7 x86_64\nDjango: ver 1.2.3\nTwisted: ver 10.1.0 x86_64 D) Please provide any additional information/suggestions below. The issue occurs when first running scripts on the newly created player object (Player #1).\nMaking the following changes in src/commands/default/system fixes the problem.  This is reverting changes introduced in r1256 , and I am unaware of any deeper implications.\n\nLine 12: from src.server.server import EVENNIA >> #from src.server.server import EVENNIA\nLine 436: EVENNIA.shutdown() >> session.server.shutdown()\n\nAccording to the pre- r1256 notes, importing the EVENNIA class directly restarts the server.  This in turn forces the initial setup to restart at the 'failed' step and try to recreate that user (which fails due to the no longer unique user_id column).\n\n**Attachment:** [ev_full_trace](http://code.google.com/p/evennia/issues/detail?id=123)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=123_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/121", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/121/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/121/events", "html_url": "https://github.com/evennia/evennia/issues/121", "id": 26059032, "node_id": "MDU6SXNzdWUyNjA1OTAzMg==", "number": 121, "title": "Web client removes extra whitespace in tables", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-01-22T01:08:10Z", "updated_at": "2014-01-22T01:08:18Z", "closed_at": "2014-01-22T01:08:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on December 11, 2010 15:52:23_\n\nA) What steps will reproduce the problem? 1. Run the webclient and connect to the game\n2. Run a command that formats lists, such as 'who' or @scripts B) What is the expected output? What do you see instead? If applicable, copy&paste tracebacks, error messages etc here too.\n\nThe formatted list comes back without proper whitespaces between columns. The same command over a telnet connection looks fine. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. The problem lies in the src/utils/text2html.py module. It does not properly convert text whitespace to html spaces. I don't know why it seems to work for e.g. the connect screen but not for formatted commands (they all use the same normal blankspace, never tabs). \nPutting this up as a known issue since this needs to be looked at more by someone besides me - I've not been able to find the issue despite working on it quite some bit. :( /Griatch\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=121_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/116", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/116/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/116/events", "html_url": "https://github.com/evennia/evennia/issues/116", "id": 26059018, "node_id": "MDU6SXNzdWUyNjA1OTAxOA==", "number": 116, "title": "Python 'del' statement bypasses typeclass system", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:07:59Z", "updated_at": "2014-01-22T01:08:01Z", "closed_at": "2014-01-22T01:08:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on November 09, 2010 17:43:47_\n\nA) What steps will reproduce the problem? 1. Have object with an on-dbobj attribute and do a search that returns the typeclass.\n2. Run del typeclass.attribute\n3. AttributeError (\"not found\") traceback for the attribute key. \n\nExamples: \n\n  del self.search(\"box\").aliases\n\ngives AttributeError for not finding aliases on the \"box\" typeclass\n\nWhat DOES work is this:\n\n  del self.search(\"box\").dbobj.aliases\n\nHere the database object is accessed directly, bypassing the automatic typeclass deference (which is clearly not working for del). B) What is the expected output? What do you see instead? If applicable, copy&paste tracebacks, error messages etc here too.\n\nWhen trying to delete an attribute on a typeclass, also the dbobj should automatically be searched for matches before raising an AttributeError. In the case of the python 'del' command, it seems Python places no actual call to the **getattribute** method for finding the delete target. This means the entire typeclass system is bypassed; only the typeclass is searched and no match is thus found. \n\nBy explicitly moving the search to dbobj (the linked django model instance), the operation works as expected. This is however not ideal and prone to produce very hard-to-understand errors during coding. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' of the issue below. r1202 , python2.6.\n\nOne might have to also heavily customize the **del** method of typeclasses to resolve this quirk.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=116_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/115", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/115/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/115/events", "html_url": "https://github.com/evennia/evennia/issues/115", "id": 26059010, "node_id": "MDU6SXNzdWUyNjA1OTAxMA==", "number": 115, "title": "raise AttributeError, \"Manager must be accessed via instance\"", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:07:53Z", "updated_at": "2014-01-22T01:07:58Z", "closed_at": "2014-01-22T01:07:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [ghoogt...@gmail.com](https://code.google.com/u/102388402257448161699/) on November 05, 2010 19:20:21_\n\nA) What steps will reproduce the problem? 1. created an box as in the quick start\n2. tried @name box=bigbox\n3. got traceback. Also for @examine box, @desc box, look box B) What is the expected output? What do you see instead? an error or a result C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. game svn trunk  \nPython 2.5.2 ( r252 :60911, Jan 24 2010, 14:53:14) \nDjango 1.0.2 final\ntwistd (the Twisted daemon) 8.1.0 D) Please provide any additional information/suggestions below. Haven't really done anything yet besides installing, connecting and trying the quick-start commands. Can't find anything in the issuetracker or forum, but that can be due to not knowing what to search for..\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=115_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/113", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/113/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/113/events", "html_url": "https://github.com/evennia/evennia/issues/113", "id": 26059000, "node_id": "MDU6SXNzdWUyNjA1OTAwMA==", "number": 113, "title": "@reload sometimes fails to avoid reloading timed scripts", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:07:46Z", "updated_at": "2014-01-22T01:07:48Z", "closed_at": "2014-01-22T01:07:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [ari-mu...@patchwork-entertainment.net](https://code.google.com/u/114052519444631892276/) on October 19, 2010 03:53:49_\n\nA) What steps will reproduce the problem? 1. @create button;red : examples.red_button.RedButton \n2. drop button\n3. open lid\n-- 4. while lid is open --\n4. @reload\n-- 5. after lid closes --\n5. @reload\n-- 6. tracebacks trying to manipulate button at all --\n6. look/@delete/examine button\n\nPay special attention to the transition between \"0\" and \"None\" difference in the two @reloads. B) What is the expected output? What do you see instead? You nudge at the lid. It seems stuck.\nYou manage to get a nail under the lid. It pops open.\nThe lid slides clear of the button with a click.\nA ticking sound is heard, suggesting the lid might have some sort of timed locking mechanism.\n\n[MUDinfo](--------------------------------------------------):  Cleaning module caches ...\n[MUDinfo](--------------------------------------------------): \n[MUDinfo](--------------------------------------------------):  WARNING: Some modules can not be reloaded\n[MUDinfo](--------------------------------------------------):  since it would not be safe to do so.\n[MUDinfo](--------------------------------------------------): \n[MUDinfo](--------------------------------------------------): -The following modules contains at least one Script class with a timer\n[MUDinfo](--------------------------------------------------):  component and which has already spawned instances - these cannot be \n[MUDinfo](--------------------------------------------------):  safely cleaned from memory on the fly. Stop all the affected scripts \n[MUDinfo](--------------------------------------------------):  or restart the server to safely reload:\n\n[MUDinfo](--------------------------------------------------): \n[MUDinfo](--------------------------------------------------):  Reloading module(s):\n[MUDinfo](--------------------------------------------------):   ['game.gamesrc.commands.default.objmanip'] ...\n[MUDinfo](--------------------------------------------------):  ...all safe modules reloaded.\n[MUDinfo](--------------------------------------------------):  Validating scripts ...\n[MUDinfo](--------------------------------------------------):  Started 0 script(s). Stopped 0 invalid script(s).\n[MUDinfo](--------------------------------------------------):  Cleaned cmdset cache.\n\nWith a click the lid slides back, securing the button once again.\n\n[MUDinfo](--------------------------------------------------):  Cleaning module caches ...\n[MUDinfo](--------------------------------------------------):  Reloading module(s):\n[MUDinfo](--------------------------------------------------):   ['game.gamesrc.scripts.examples.red_button_scripts'] ...\n[MUDinfo](--------------------------------------------------):  ...all safe modules reloaded.\n[MUDinfo](--------------------------------------------------):  Validating scripts ...\n            Waiting for modules(s) to finish (0) ...\n[MUDinfo](--------------------------------------------------):  Validating scripts ...\n            Waiting for modules(s) to finish (1) ...\n[MUDinfo](--------------------------------------------------):  Validating scripts ...\n[MUDinfo](--------------------------------------------------):  Started None script(s). Stopped None invalid script(s).\n[MUDinfo](--------------------------------------------------):  Cleaned cmdset cache.\n\nTraceback (most recent call last):\n  File \"/home/muserver/server/src/commands/cmdhandler.py\", line 376, in cmdhandler\n    cmd.obj.scripts.validate()\n  File \"/home/muserver/server/src/scripts/scripthandler.py\", line 109, in validate\n    ScriptDB.objects.validate(obj=self.obj)\n  File \"/home/muserver/server/src/scripts/manager.py\", line 121, in validate\n    scripts = self.get_all_scripts_on_obj(obj, key=key)\n  File \"/home/muserver/server/src/typeclasses/managers.py\", line 47, in func\n    if not match:\n  File \"/usr/lib/pymodules/python2.6/django/db/models/query.py\", line 112, in **nonzero**\n    iter(self).next()\n  File \"/usr/lib/pymodules/python2.6/django/db/models/query.py\", line 106, in _result_iter\n    self._fill_cache()\n  File \"/usr/lib/pymodules/python2.6/django/db/models/query.py\", line 760, in _fill_cache\n    self._result_cache.append(self._iter.next())\n  File \"/usr/lib/pymodules/python2.6/django/db/models/query.py\", line 285, in iterator\n    obj._state.db = self.db\n  File \"/home/muserver/server/src/typeclasses/typeclass.py\", line 98, in __getattribute__\n    dbobj = object.**getattribute**(self, 'dbobj')\nAttributeError: 'ClosedLidState' object has no attribute 'dbobj' C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. latest svn ( r1159 )\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=113_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/112", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/112/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/112/events", "html_url": "https://github.com/evennia/evennia/issues/112", "id": 26058996, "node_id": "MDU6SXNzdWUyNjA1ODk5Ng==", "number": 112, "title": "Memory leak on run", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:07:43Z", "updated_at": "2014-01-22T01:07:45Z", "closed_at": "2014-01-22T01:07:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on October 11, 2010 10:05:07_\n\nA) What steps will reproduce the problem? Running a bare server will gradually tie up memory over time, suggesting a memory leak. B) What is the expected output? What do you see instead? There is no reason why memory resources should grow over time. C) Further relevant information like Evennia revision, OS and other program versions, and/or ideas about solving. Also choose 'Type' for the issue below. On my Linux test machine the memory usage increases with something like 5MB/hour over. Since Python is rather well-behaved and normally cleans its memory, there are 2 main possibilities:\n\n1) A global list/dict that gets added to and not cleared properly over time.\n2) A reference loop that makes the garbage collector not being able to collect dropped references.\n\nBoth of these are possible, possibly the latter seems more likely since global lists _should_ be purged with @reload and one sees no improvement in memory usage when doing that. \nWhen testing the server with memory monitoring software there seems to be a growing cache of dict objects in memory - I'll need to study this in more detail though, since django stores many internals as dicts. This could also potentially be related to issue101 .\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=112_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/110", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/110/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/110/events", "html_url": "https://github.com/evennia/evennia/issues/110", "id": 26058986, "node_id": "MDU6SXNzdWUyNjA1ODk4Ng==", "number": 110, "title": "Search with attribute gives traceback", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:07:38Z", "updated_at": "2014-01-22T01:25:32Z", "closed_at": "2014-01-22T01:07:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [sam...@gmail.com](https://code.google.com/u/113106983255865397736/) on September 10, 2010 08:50:16_\n\nA) What steps will reproduce the problem? 1. Search with attribute, e.g. @py self.search(\"box\", attribute_name=\"vnum\")\n2.This returns in a traceback B) What is the expected output? What do you see instead? This should search and match against an attribute name different from \"key\" or \"name\". C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Linux, r1098 D) Please provide any additional information below (also choose an issue 'Type' below): This is a bug in src.objects.manager. Noting it here so I don't forget.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=110_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/107", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/107/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/107/events", "html_url": "https://github.com/evennia/evennia/issues/107", "id": 26058976, "node_id": "MDU6SXNzdWUyNjA1ODk3Ng==", "number": 107, "title": "@debug/obj red_button example throws tracebacks", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:07:29Z", "updated_at": "2014-01-22T01:07:32Z", "closed_at": "2014-01-22T01:07:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [ari-mu...@patchwork-entertainment.net](https://code.google.com/u/114052519444631892276/) on September 08, 2010 16:23:57_\n\nA) What steps will reproduce the problem? 1. @debug/obj examples.red_button.RedButton\n2. Receive tracebacks B) What is the expected output? What do you see instead? ----------------------------------------------------------------------\nHelp topic for @debug\n\nDebug game entities\n\nUsage:\n  @debug[/switch] <path to code>\n\nSwitches:\n  obj - debug an object\n  script - debug a script\n\nExamples:\n  @debug/script game.gamesrc.scripts.myscript.MyScript\n  @debug/script myscript.MyScript\n  @debug/obj examples.red_button.RedButton\n\nThis command helps when debugging the codes of objects and scripts.\nIt creates the given object and runs tests on its hooks. You can\nsupply both full paths (starting from the evennia base directory),\notherwise the system will start from the defined root directory\n## for scripts and objects respectively (defined in settings file).\n\nRedButton5 is leaving Limbo, heading for Limbo.\nRedButton5 is leaving Limbo, heading for Limbo.\n\n Test-creating a new object of path game.gamesrc.objects.examples.red_button.RedButton ... Ok.\nRunning syntax checks ...\nCalling at_first_login(self) ... Ok.\nCalling at_pre_login(self) ... Ok.\nCalling at_post_login(self) ... Ok.\nCalling at_disconnect(self) ... Ok.\nCalling at_before_move(self, dest) ... Ok: returns True\nCalling announce_move_from(self, dest) ... Ok\nCalling announce_move_to(self, source_loc) ... Ok.\nCalling at_after_move(self, source_loc) ... Ok.\nCalling at_object_receive(self, caller, source_loc) ... Ok.\nCalling return_appearance(self, caller) ... Ok.\nCalling at_msg_receive(self, msg, from_obj) ... Ok.\nCalling at_msg_send(self, msg, to_obj) ... Ok.\nCalling at_desc(self, looker) ... Ok.\nCalling at_object_delete(self) ... Ok.\nCalling at_get(self, getter) ... Ok.\nCalling at_drop(self, dropper) ... Ok.\nCalling at_say(self, speaker, message) ... Ok.\n\n Testing scripts on game.gamesrc.objects.examples.red_button.RedButton ... Ok.\n Running tests on 3 object scripts ...\n Testing add_default_cmdset ...Test-creating a new script of this type ...\n<<<     object.**setattr**(dbobj, propname, value)\n<<<   File \"/home/cylorod/server/src/scripts/models.py\", line 147, in obj_set\n<<<     self.db_obj = value\n<<<   File \"/usr/lib/pymodules/python2.6/django/db/models/fields/related.py\", line 318, in **set**\n<<<     self.field.name, self.field.rel.to._meta.object_name))\n<<< ValueError: Cannot assign \"<game.gamesrc.objects.examples.red_button.RedButton object at 0x29e9390>\": \"ScriptDB.\n    db_obj\" must be a \"ObjectDB\" instance.\n Testing ClosedLidState ...Test-creating a new script of this type ...\n<<<     object.__setattr__(dbobj, propname, value)\n<<<   File \"/home/cylorod/server/src/scripts/models.py\", line 147, in obj_set\n<<<     self.db_obj = value\n<<<   File \"/usr/lib/pymodules/python2.6/django/db/models/fields/related.py\", line 318, in **set**\n<<<     self.field.name, self.field.rel.to._meta.object_name))\n<<< ValueError: Cannot assign \"<game.gamesrc.objects.examples.red_button.RedButton object at 0x29e9390>\": \"ScriptDB.\n    db_obj\" must be a \"ObjectDB\" instance.\n Testing blink_button ...Test-creating a new script of this type ...\n<<<     object.__setattr__(dbobj, propname, value)\n<<<   File \"/home/cylorod/server/src/scripts/models.py\", line 147, in obj_set\n<<<     self.db_obj = value\n<<<   File \"/usr/lib/pymodules/python2.6/django/db/models/fields/related.py\", line 318, in **set**\n<<<     self.field.name, self.field.rel.to._meta.object_name))\n<<< ValueError: Cannot assign \"<game.gamesrc.objects.examples.red_button.RedButton object at 0x29e9390>\": \"ScriptDB.\n    db_obj\" must be a \"ObjectDB\" instance. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. r1071 D) Please provide any additional information below (also choose an issue 'Type' below): N/A\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=107_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/104", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/104/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/104/events", "html_url": "https://github.com/evennia/evennia/issues/104", "id": 26058972, "node_id": "MDU6SXNzdWUyNjA1ODk3Mg==", "number": 104, "title": "@open Command IndexError", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:07:20Z", "updated_at": "2014-01-22T01:07:22Z", "closed_at": "2014-01-22T01:07:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [john.edw...@gmail.com](https://code.google.com/u/116046703860499119680/) on September 04, 2010 23:00:53_\n\nA) What steps will reproduce the problem? 1. Create room one\n2. Create room two\n3. link R1 to R2 with @open command B) What is the expected output? What do you see instead? @dig R51100 Created room ' R51100 ' of type game.gamesrc.objects.baseobjects.Room.\n@dig R51199 Created room ' R51199 ' of type game.gamesrc.objects.baseobjects.Room.\nl\nLimbo:\n Welcome to your new Evennia-based game. From here you are ready to begin \ndevelopment. If you should need help or would like to participate in community \ndiscussions, visit http://evennia.com .\ntel R51100 R51100 @describe R51100 = This is Room 51100\nThe description was set on R51100 .\nlook R51100 :\n This is Room 51100\ntel R51199 R51199 @describe R51199 = This is Room 51199\nThe description was set on R51199 .\nl R51199 :\n This is Room 51199\n@open north = R51100 Traceback (most recent call last):\n  File \"C:\\Users\\John\\Mud\\evennia\\src\\commands\\cmdhandler.py\", line 380, in \ncmdhandler\n    cmd.func()\n  File \"C:\\Users\\John\\Mud\\evennia\\game\\gamesrc\\commands\\default\\objmanip.py\", \nline 800, in func\n    ok = self.create_exit(exit_name, location, destination, exit_aliases, \nexit_typeclass)\n  File \"C:\\Users\\John\\Mud\\evennia\\game\\gamesrc\\commands\\default\\objmanip.py\", \nline 722, in create_exit\n    exit_obj = exit_obj[0]\nIndexError: list index out of range\n\nAbove traceback is from an untrapped error. Please file a bug report. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia SVN-Alpha R1058 Windows7\nPython2.7\nTwisted-10.1.0\nPIL 1.1.7\nDjango-1.2.1 D) Please provide any additional information below (also choose an issue 'Type' below):\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=104_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/103", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/103/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/103/events", "html_url": "https://github.com/evennia/evennia/issues/103", "id": 26058968, "node_id": "MDU6SXNzdWUyNjA1ODk2OA==", "number": 103, "title": "Sometimes unable to log back in with existing char", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:07:16Z", "updated_at": "2014-01-22T01:07:19Z", "closed_at": "2014-01-22T01:07:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on September 04, 2010 19:37:39_\n\nSometimes after having logged out, the players cannot log back in due to an \"e-mail address not found\" error. But the character is still there, i.e. one cannot create a new characte with the same name. So one's pretty stuck. A) What steps will reproduce the problem? I've not been able to pinpoint the criteria for when this occurs. One needs to have been working with the code for a while, probably having done multiple @reloads. I have run with two online players so far when seeing the effect, sometimes after a long while. I don't think it's related to issue101 . B) What is the expected output? What do you see instead? The log shows that the user.get_profile() call fails during the login procedure. This means that the User's PlayerDB object is not found, and is what causes the e-mail to also not be found. But examining the affected offline player with a second online one clearly shows that the user-player-character chain is intact. Logging off with that second char will cause the same effect to happen to them when trying to log in, so it does not seem to be tied to a particular character. \n\nRestarting the server resolves the problem. C) Further relevant information like OS and program versions, and/or ideas about solving. Also choose Type for the issue below. Running on Linux here, latest rev. I will try to dig into the underlying structures, but user.get_profile() is an internal django command. Created this issue in case others also see it and can report on the circumstances it happens.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=103_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/103/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/101", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/101/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/101/events", "html_url": "https://github.com/evennia/evennia/issues/101", "id": 26058959, "node_id": "MDU6SXNzdWUyNjA1ODk1OQ==", "number": 101, "title": "Default command set seems to randomly disappear after a time", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-01-22T01:07:05Z", "updated_at": "2014-01-22T01:07:12Z", "closed_at": "2014-01-22T01:07:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [ari-mu...@patchwork-entertainment.net](https://code.google.com/u/114052519444631892276/) on September 04, 2010 15:18:47_\n\nFrom: john.edward.long\n\nLogged in super user and testuser1, thing worked normally but after a number of commands from superuser and testuser1 it broke.  Apparently testuser1 is losing all cmdsets.  Output from examine testuser1 before and after the break.\n## examine testuser1\n\nName/key: testuser1 (#3)\nPlayer: testuser1\nTypeclass: Character (game.gamesrc.objects.baseobjects.Character)\nLocation: Limbo\nPerms/Locks: Players\nCurrent Cmdset:\n <DefaultCmdSet (Union)> @password, @wall, @perm, @version, @time, @list, @emit, \n@stats, teleport, @alias, @wipe, @set, @name, @desc, find, @copy, @open, @link, \n@unlink, @create, look, @destroy, examine, @typeclass, @debug, addcom, delcom, \ncomlist, group, @sethelp, @cdestroy, @ccreate, @cdesc, @boot, page, help, alias, \n@batchcode, @test, @teststate, @testperm, @testcom, @batchcommands, who, \ninventory, get, @service, say, pose, @clist, @py, @listcmdsets, @listobjects, \n@scripts, @reload, @newpassword, @delplayer, home, @dig, @ps, @shutdown, drop, \nquit\nScripts:\n##  'add_default_cmdset' (inf/inf, inf repeats): Adds a cmdset to an object.\n# Examine after the break\n## examine testuser1\n\nName/key: testuser1 (#3)\nPlayer: testuser1\nTypeclass: Character (game.gamesrc.objects.baseobjects.Character)\nLocation: Limbo\nPerms/Locks: Players\nScripts:\n##  'add_default_cmdset' (inf/inf, inf repeats): Adds a cmdset to an object.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=101_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/97", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/97/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/97/events", "html_url": "https://github.com/evennia/evennia/issues/97", "id": 26058940, "node_id": "MDU6SXNzdWUyNjA1ODk0MA==", "number": 97, "title": "Batch Command Processing Issue not present when entered manually at command line", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-22T01:06:48Z", "updated_at": "2014-01-22T01:06:50Z", "closed_at": "2014-01-22T01:06:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [john.edw...@gmail.com](https://code.google.com/u/116046703860499119680/) on September 03, 2010 16:14:10_\n\nA) What steps will reproduce the problem? 1. @batchcommand examples.error_test\n2. error_test.ev attached B) What is the expected output? What do you see instead? Expected same results as command line entry of commands found in error_test.ev\n\n@batchcommand examples.error_test\nRunning Batch-command processor - Automatic mode for examples.error_test ...\n01/04: @dig 5122  \nCreated room '51227' of type game.gamesrc.objects.baseobjects.Room.\n02/04: teleport 5122  \n51227\n03/04: @describe 51227 =  Silver like stone has been carefully chiseled and \nembedded into the roadway. Each stone has been polished to a bright hue and then \nencrusted with sparkling gems. The gems seem to glow and glitter with an inner \nlight.A large brass sign as been bolted atop of a building\u0092s entranceway off to \nthe south. Large barrels of grain, rice, and fruit have been set just outside \nthe doorway. A few clay pots, containing a single rose colored flower tipped \nwith light blue, has been lined against the northern wall. A strong scent of \nhoney and nectar lingers here as a checkered road beginsoff to the east[...]\nTraceback (most recent call last):\n  File \"C:\\Users\\John\\Mud\\evennia\\trunk\\src\\commands\\cmdhandler.py\", line 376, \nin cmdhandler\n    cmd.func()\n  File \"C:\\Users\\John\\Mud\\evennia\\trunk\\game\\gamesrc\\commands\\default\\objmanip.\npy\", line 1155, in func\n    obj.db.desc = desc\n  File \"C:\\Users\\John\\Mud\\evennia\\trunk\\src\\typeclasses\\models.py\", line 878, in \n**setattr**\n    obj.set_attribute(attrname, value)\n  File \"C:\\Users\\John\\Mud\\evennia\\trunk\\src\\typeclasses\\models.py\", line 769, in \nset_attribute\n    new_attrib.value = new_value\n  File \"C:\\Users\\John\\Mud\\evennia\\trunk\\src\\typeclasses\\models.py\", line 252, in \nvalue_set\n    self.save()\n  File \"C:\\Users\\John\\Mud\\evennia\\trunk\\src\\utils\\idmapper\\base.py\", line 110, \nin save\n    super(SharedMemoryModel, self).save(_args, *_kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\models\\base.py\", line 435, in \nsave\n    self.save_base(using=using, force_insert=force_insert, \nforce_update=force_update)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\models\\base.py\", line 528, in \nsave_base\n    result = manager._insert(values, return_id=update_pk, using=using)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\models\\manager.py\", line 195, in \n_insert\n    return insert_query(self.model, values, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\models\\query.py\", line 1479, in \ninsert_query\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py\", line \n783, in execute_sql\n    cursor = super(SQLInsertCompiler, self).execute_sql(None)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py\", line \n727, in execute_sql\n    cursor.execute(sql, params)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\backends\\util.py\", line 15, in \nexecute\n    return self.cursor.execute(sql, params)\n  File \"C:\\Python27\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py\", line \n200, in execute\n    return Database.Cursor.execute(self, query, params)\nDatabaseError: You must not use 8-bit bytestrings unless you use a text_factory \nthat can interpret 8-bit bytestrings (like text_factory = str). It is highly \nrecommended that you instead just switch your application to Unicode strings.\n\nAbove traceback is from an untrapped error. Please file a bug report.\n04/04: @name 51227 = On Sanctuary Place;5122  \nObject's name changed to 'On Sanctuary Place' 51227.\nEnd of batch file.\n  Batchfile 'examples.error_test' applied. C) What version/revision of Evennia are you using? On what operating system? Give as much information as possible to make it easier for developers to recreate the problem. Evennia SVN-Alpha R1033 Windows7\nPython2.7\nTwisted-10.1.0\nPIL 1.1.7\nDjango-1.2.1 D) Please provide any additional information below: The same commands from the user command line do not fail.\n\n**Attachment:** [error_test.ev](http://code.google.com/p/evennia/issues/detail?id=97)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=97_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/97/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/88", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/88/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/88/events", "html_url": "https://github.com/evennia/evennia/issues/88", "id": 26058911, "node_id": "MDU6SXNzdWUyNjA1ODkxMQ==", "number": 88, "title": "Devel branch - emails with dashes not recognized", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:06:20Z", "updated_at": "2014-01-22T01:06:24Z", "closed_at": "2014-01-22T01:06:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [wmdop...@gmail.com](https://code.google.com/u/105056811612802600822/) on August 23, 2010 05:10:16_\n\nA) What steps will reproduce the problem? 1. create an admin character at setup using dashes in the email domain (e.g. \"me@test-this.com)\n2. start server and attempt to connect B) What is the expected output? What do you see instead? \"The email 'me@test' does not match any accounts.\n\nIf you are new you should first create a new account using the 'create' command.\" C) What version/revision of Evennia are you using? On what operating system?\n\nsvn/branches/griatch on Fedora 10, python 2.5\n\nLogins with dashes work in trunk.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=88_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/88/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/88/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/84", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/84/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/84/events", "html_url": "https://github.com/evennia/evennia/issues/84", "id": 26058899, "node_id": "MDU6SXNzdWUyNjA1ODg5OQ==", "number": 84, "title": "postgresql: syncdb: django.db.utils.DatabaseError: value too long for type character varying(50)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:06:09Z", "updated_at": "2014-01-22T01:08:54Z", "closed_at": "2014-01-22T01:06:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [chris.ga...@gmail.com](https://code.google.com/u/109835544609682637829/) on April 08, 2010 12:48:32_\n\nWhat steps will reproduce the problem? 1. New install using postgresql.\n2. Initial syncdb.\n\nWhat is the expected output? \n\nCreating table django_session\nCreating table django_admin_log\nCreating table cache_persistentcache\nCreating table django_site\nCreating table auth_permission\nCreating table auth_group_permissions\nCreating table auth_group\nCreating table auth_user_user_permissions\nCreating table auth_user_groups\nCreating table auth_user\nCreating table auth_message\nCreating table helpsys_helpentry\nCreating table channels_commchannel_req_grp\nCreating table channels_commchannel\nCreating table channels_commchannelmembership\nCreating table channels_commchannelmessage\nCreating table django_content_type\nCreating table objects_attribute\nCreating table objects_object\nCreating table django_flatpage_sites\nCreating table django_flatpage\nCreating table genperms_genericperm\nCreating table news_newstopic\nCreating table news_newsentry\nCreating table irc_ircchannelmapping\nCreating table config_commandalias\nCreating table config_configvalue\nCreating table config_connectscreen\nCreating table imc2_imc2channelmapping\n\nYou just installed Django's auth system, which means you don't have any\nsuperusers defined.\nWould you like to create one now? (yes/no): yes\nUsername (Leave blank to use 'chris'): XXXXXXXXX\nE-mail address: xxxx.xxxx@xxxx.xxx\nPassword:\nPassword (again):\nSuperuser created successfully.\nInstalling json fixture 'initial_data' from\n'/home/chris/evennia/src/helpsys/fixtures'.\nInstalled 1 object(s) from 1 fixture(s)\n\nWhat do you see instead?\n\nCreating table django_session\nCreating table django_admin_log\nCreating table cache_persistentcache\nCreating table django_site\nCreating table auth_permission\nCreating table auth_group_permissions\nCreating table auth_group\nCreating table auth_user_user_permissions\nCreating table auth_user_groups\nCreating table auth_user\nCreating table auth_message\nCreating table helpsys_helpentry\nCreating table channels_commchannel_req_grp\nCreating table channels_commchannel\nCreating table channels_commchannelmembership\nCreating table channels_commchannelmessage\nCreating table django_content_type\nCreating table objects_attribute\nCreating table objects_object\nCreating table django_flatpage_sites\nCreating table django_flatpage\nCreating table genperms_genericperm\nCreating table news_newstopic\nCreating table news_newsentry\nCreating table irc_ircchannelmapping\nCreating table config_commandalias\nCreating table config_configvalue\nCreating table config_connectscreen\nCreating table imc2_imc2channelmapping\n\nYou just installed Django's auth system, which means you don't have any\nsuperusers defined.\nWould you like to create one now? (yes/no): yes\nUsername (Leave blank to use 'chris'): The_Architect\nE-mail address: chris.gazley@gmail.com\nPassword:\nPassword (again):\nSuperuser created successfully.\nTraceback (most recent call last):\n  File \"./manage.py\", line 28, in <module>\n    execute_manager(settings)\n  File\n\"/usr/lib/python2.5/site-packages/django/core/management/**init**.py\", line\n438, in execute_manager\n    utility.execute()\n  File\n\"/usr/lib/python2.5/site-packages/django/core/management/**init**.py\", line\n379, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/base.py\",\nline 196, in run_from_argv\n    self.execute(_args, *_options.**dict**)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/base.py\",\nline 223, in execute\n    output = self.handle(_args, *_options)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/base.py\",\nline 352, in handle\n    return self.handle_noargs(**options)\n  File\n\"/usr/lib/python2.5/site-packages/django/core/management/commands/syncdb.py\",\nline 102, in handle_noargs\n    emit_post_sync_signal(created_models, verbosity, interactive, db)\n  File \"/usr/lib/python2.5/site-packages/django/core/management/sql.py\",\nline 190, in emit_post_sync_signal\n    interactive=interactive, db=db)\n  File \"/usr/lib/python2.5/site-packages/django/dispatch/dispatcher.py\",\nline 166, in send\n    response = receiver(signal=self, sender=sender, **named)\n  File\n\"/usr/lib/python2.5/site-packages/django/contrib/auth/management/**init**.py\",\nline 28, in create_permissions\n    defaults={'name': name, 'content_type': ctype})\n  File \"/usr/lib/python2.5/site-packages/django/db/models/manager.py\", line\n135, in get_or_create\n    return self.get_query_set().get_or_create(**kwargs)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/query.py\", line\n372, in get_or_create\n    obj.save(force_insert=True, using=self.db)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/base.py\", line\n435, in save\n    self.save_base(using=using, force_insert=force_insert,\nforce_update=force_update)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/base.py\", line\n524, in save_base\n    result = manager._insert(values, return_id=update_pk, using=using)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/manager.py\", line\n195, in _insert\n    return insert_query(self.model, values, **kwargs)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/query.py\", line\n1467, in insert_query\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/sql/compiler.py\",\nline 783, in execute_sql\n    cursor = super(SQLInsertCompiler, self).execute_sql(None)\n  File \"/usr/lib/python2.5/site-packages/django/db/models/sql/compiler.py\",\nline 727, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/lib/python2.5/site-packages/django/db/backends/util.py\", line\n19, in execute\n    return self.cursor.execute(sql, params)\n  File\n\"/usr/lib/python2.5/site-packages/django/db/backends/postgresql_psycopg2/base.py\",\nline 44, in execute\n    return self.cursor.execute(query, args)\ndjango.db.utils.DatabaseError: value too long for type character varying(50)\n\nWhat version of the product are you using?\n\nLatest.\n\nOn what operating system?\n\nDebian GNU/Linux 5.0.4 Please provide any additional information below. **_SOLUTION**_\n\nIn the database (postgresql) the name column in the auth_permission table\nneeds to have a character_varying width of greater than 50.\n\nI set it to 100 and it resolved the issue.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=84_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/84/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/84/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/82", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/82/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/82/events", "html_url": "https://github.com/evennia/evennia/issues/82", "id": 26058890, "node_id": "MDU6SXNzdWUyNjA1ODg5MA==", "number": 82, "title": "Not fully UTF-8 supported (@describe with umlaut generates traceback)", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-01-22T01:05:59Z", "updated_at": "2014-01-22T01:06:03Z", "closed_at": "2014-01-22T01:06:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [mailheavy@gmail.com](https://code.google.com/u/mailheavy@gmail.com/) on March 15, 2010 12:30:22_\n\nWhat steps will reproduce the problem? 1. use some utf-8 telnet client (like putty)\n1. create a room @dig house\n2. add some describtion with umlauts (utf-8) @describe house h\u00f6lle\n3. and you will receive an traceback \n\nError Message (see also attached file)\n\n> > > ProgrammingError: You must not use 8-bit bytestrings unless you use a\n> > > text_facto  \n> > >              ry that can interpret 8-bit bytestrings (like text_factory =\n> > > str). It is highly  \n> > >                       recommended that you instead just switch your\n> > > application to Unicode strings.\n> > > <<<\n\nIt would be importend that the pplication would also supporting utf-8, like\ndjango does.\n<<<\nDjango natively supports Unicode data everywhere. Providing your database\ncan somehow store the data, you can safely pass around Unicode strings to\ntemplates, models and the database.\n\n> > > http://docs.djangoproject.com/en/dev/ref/unicode/ thx\n> > > MArcel\n\n**Attachment:** [traceback.txt](http://code.google.com/p/evennia/issues/detail?id=82)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=82_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/82/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/80", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/80/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/80/events", "html_url": "https://github.com/evennia/evennia/issues/80", "id": 26058882, "node_id": "MDU6SXNzdWUyNjA1ODg4Mg==", "number": 80, "title": "wont start with modern versions of twisted on windows", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:05:51Z", "updated_at": "2014-01-22T01:05:54Z", "closed_at": "2014-01-22T01:05:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [robjcas...@gmail.com](https://code.google.com/u/109015522509434916545/) on November 15, 2009 00:04:06_\n\ntwistd.bat is no more on current versions of twistd, the following snippet\nstolen from chromium's build bot addresses the problem for Evennia as well\n\n```\n    from twisted.python.runtime import platformType\n    argv = [\"twistd\",\n            \"--no_save\",\n            \"--python=&#37;s\" &#37; SERVER_PY_FILE]\n    if platformType == \"win32\":\n        argv.append(\"--reactor=win32\")\n    sys.argv = argv\n\n    # this is copied from bin/twistd. twisted-2.0.0 through 2.4.0 use\n    # _twistw.run . Twisted-2.5.0 and later use twistd.run, even for\n    # windows.\n    from twisted import __version__\n    major, minor, ignored = __version__.split(\".\", 2)\n    major = int(major)\n    minor = int(minor)\n    if (platformType == \"win32\" and (major == 2 and minor < 5)):\n        from twisted.scripts import _twistw\n        run = _twistw.run\n    else:\n        from twisted.scripts import twistd\n        run = twistd.run\n    run()\n\n    #call([TWISTED_BINARY, \n    #      '-n', \n    #      '--python=&#37;s' &#37; SERVER_PY_FILE])\n```\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=80_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/80/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/80/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/78", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/78/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/78/events", "html_url": "https://github.com/evennia/evennia/issues/78", "id": 26058869, "node_id": "MDU6SXNzdWUyNjA1ODg2OQ==", "number": 78, "title": "evennia.py seems to have path issues with Vista", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2014-01-22T01:05:38Z", "updated_at": "2014-01-22T01:08:54Z", "closed_at": "2014-01-22T01:05:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [tsalar...@gmail.com](https://code.google.com/u/114869507799861827315/) on October 23, 2009 02:08:36_\n\nWhat steps will reproduce the problem? On Windows Vista:\n1. Checkout trunk to new directory with a space in the name\n2. create initial settings.py and syncdb\n3. Attempt to run python evennia.py start What is the expected output? What do you see instead? Successful startup of evennia server.\n\ninstead get an exception tracing back to windows being unable to find a \nfile:\n\nC:\\Users\\tsal\\workspace\\evennia-trunk\\game>python evennia.py start\nStarting in daemon mode...\nTraceback (most recent call last):\n  File \"evennia.py\", line 127, in <module>\n    main()\n  File \"evennia.py\", line 121, in main\n    start_daemon(parser, options, args)\n  File \"evennia.py\", line 70, in start_daemon\n    '--python=&#37;s' &#37; SERVER_PY_FILE])\n  File \"C:\\Python26\\lib\\subprocess.py\", line 621, in **init**\n    errread, errwrite)\n  File \"C:\\Python26\\lib\\subprocess.py\", line 830, in _execute_child\n    startupinfo)\nWindowsError: [Error 2] The system cannot find the file specified\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=78_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/78/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/77", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/77/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/77/events", "html_url": "https://github.com/evennia/evennia/issues/77", "id": 26058864, "node_id": "MDU6SXNzdWUyNjA1ODg2NA==", "number": 77, "title": "clear_objects() will not properly move player out of @destroy:ed room", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-22T01:05:35Z", "updated_at": "2014-01-22T01:05:37Z", "closed_at": "2014-01-22T01:05:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on September 19, 2009 23:01:25_\n\nWhat steps will reproduce the problem? 1. @dig a new room and go there. \n2. Do \"@destroy here\" to destroy the room you are in. You are told\n(correctly) that your location is being destroyed and that you are being\nmoved to your home (Limbo(#2) in my case). You even get to see the desc of\nyour home location. All looks fine and the room is set to GOING correctly.\n3. Do a look again, and you find that you are in fact _still_ in your\n@destroyed room. Also 'ex me' confirms that your location has not actually\nchanged. \n\nI have printed all aspects around the move_to() call in\nsrc.objects.models.clear_objects() and as far as I can see the system is\ncorrectly setting the location to the home location and thinks the object\nhas moved all the way up to the end of clear_objects(). I've even manually\nset the location and save():ed it. All looks fine, yet when all is done,\nthe player remains in the destroyed room and has to @teleport out of it. At\nthis time I cannot figure out why.\n\n/Griatch\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=77_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/77/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/76", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/76/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/76/events", "html_url": "https://github.com/evennia/evennia/issues/76", "id": 26058858, "node_id": "MDU6SXNzdWUyNjA1ODg1OA==", "number": 76, "title": "IRC channel created with @ircjoin will not connect if also added to services", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-22T01:05:30Z", "updated_at": "2014-01-22T01:05:34Z", "closed_at": "2014-01-22T01:05:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on August 30, 2009 19:38:08_\n\nThe first IRC channel added in server.py adds itself to the Evennia\nServices and can thus be controlled with @service/stop. \n\nThis currently does not work for later IRC channels added with @ircjoin -\nthe ircbot is added to Services just fine, but the bot then does not\nconnect to the channel. \n\nCode is commented out in src/commands/irc.py, in command cmd_ircjoin().\n(The current working code works, but does not add the bot to Services). \n\nNot sure why this is, someone else with more experience with twisted might\nwant to take a look. \n/Griatch\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=76_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/75", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/75/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/75/events", "html_url": "https://github.com/evennia/evennia/issues/75", "id": 26058854, "node_id": "MDU6SXNzdWUyNjA1ODg1NA==", "number": 75, "title": "A new, normal user cannot send to default channel", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T01:05:26Z", "updated_at": "2014-01-22T01:08:54Z", "closed_at": "2014-01-22T01:05:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [griatch](https://code.google.com/u/griatch/) on August 30, 2009 00:39:57_\n\nWhat steps will reproduce the problem? 1. Create a new user upon login (not #1). \n2. Give \"comlist\" command. You will see you are correctly added to the\ndefault \"Public\" channel with the alias \"pub\". \n3. Try to send a message to the channel, e.g. > pub Hello. The channel is\nnot recognized (you get the \"Huh?\" response). Trying to addcom the public\nchannel will also fail since you are \"already on that channel\". \n4. Now disconnect and log back in as the same user. You can now use the\nPublic channel as normal. What is the expected output? What do you see instead? You should of course have access to the public channel from the onset;\nespecially a new user is bound to want to ask questions. There is something\nwhich is not properly initialized until the \"connect\" command is run.\n\n/Griatch\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=75_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/75/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/75/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/73", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/73/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/73/events", "html_url": "https://github.com/evennia/evennia/issues/73", "id": 26058846, "node_id": "MDU6SXNzdWUyNjA1ODg0Ng==", "number": 73, "title": "Handle funky IMC characters gracefully", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-22T01:05:17Z", "updated_at": "2014-01-22T01:05:22Z", "closed_at": "2014-01-22T01:05:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on May 01, 2009 07:28:10_\n\nIt looks like unicode or non-standard characters freak the parser out.\nHere's the short error:\n\n[MUDInfo] IMC: Connection lost: 'ascii' codec can't decode byte 0xe2 in\nposition 62: ordinal not in range(128)\n\nHere's the message from Talon:\n[inews] ElReg@MegaBot: Google, Schmidt, and the Gray Lady Resuscitator\u00e2\u201e\u00a2\n( http://go.theregister.com/feed/www.theregister.co.uk/2009/05/01/schmidt_on_news_again/ )\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=73_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/73/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/72", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/72/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/72/events", "html_url": "https://github.com/evennia/evennia/issues/72", "id": 26058843, "node_id": "MDU6SXNzdWUyNjA1ODg0Mw==", "number": 72, "title": "Stop IMC2 service on disconnection", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-22T01:05:13Z", "updated_at": "2014-01-22T01:08:54Z", "closed_at": "2014-01-22T01:05:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on May 01, 2009 07:27:06_\n\nWhen IMC2 is stopped due to disconnection, make sure the service is also\nstopped.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=72_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/72/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/72/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/46", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/46/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/46/events", "html_url": "https://github.com/evennia/evennia/issues/46", "id": 26055356, "node_id": "MDU6SXNzdWUyNjA1NTM1Ng==", "number": 46, "title": "Refactor create_user() and create_object()", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:50:04Z", "updated_at": "2014-09-05T06:23:19Z", "closed_at": "2014-01-21T23:50:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on January 18, 2009 04:01:55_\n\nThese two functions in the Object manager are horrendous in that they\naccept a dict of stuff rather than keyword arguments. I'm really not sure\nwhat I was thinking when I wrote this stuff, but use keyword arguments.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=46_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/46/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/45", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/45/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/45/events", "html_url": "https://github.com/evennia/evennia/issues/45", "id": 26055351, "node_id": "MDU6SXNzdWUyNjA1NTM1MQ==", "number": 45, "title": "Paging with aliases", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:50:02Z", "updated_at": "2014-01-22T01:20:24Z", "closed_at": "2014-01-21T23:50:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on January 15, 2009 06:13:33_\n\nMake paging resolve aliases too.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=45_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/45/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/44", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/44/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/44/events", "html_url": "https://github.com/evennia/evennia/issues/44", "id": 26055349, "node_id": "MDU6SXNzdWUyNjA1NTM0OQ==", "number": 44, "title": "Move announce_all() in functions_general to session_mgr", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:50:00Z", "updated_at": "2014-01-22T01:20:24Z", "closed_at": "2014-01-21T23:50:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on June 15, 2008 22:06:12_\n\nSays it all in the title, move this to src/session_mgr and yank the import\nto session_mgr in functions_general. Trying to remove some of these\ncircular imports.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=44_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/44/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/42", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/42/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/42/events", "html_url": "https://github.com/evennia/evennia/issues/42", "id": 26055344, "node_id": "MDU6SXNzdWUyNjA1NTM0NA==", "number": 42, "title": "Move modules in root directory to src/", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:49:54Z", "updated_at": "2014-01-21T23:49:56Z", "closed_at": "2014-01-21T23:49:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on June 15, 2008 20:21:16_\n\nLet's clean out the Evennia root directory. It was pretty sloppy for me to\nput the general source there to begin with. Move the modules to src/.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=42_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/42/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/39", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/39/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/39/events", "html_url": "https://github.com/evennia/evennia/issues/39", "id": 26055324, "node_id": "MDU6SXNzdWUyNjA1NTMyNA==", "number": 39, "title": "Player can @name & @alias themselves to another player's name", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-01-21T23:49:38Z", "updated_at": "2014-01-21T23:49:42Z", "closed_at": "2014-01-21T23:49:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [lok...@gmail.com](https://code.google.com/u/106511854633802681660/) on June 13, 2008 20:26:53_\n\nWhat steps will reproduce the problem? 1. Login as a player\n2. @name me=<another player's name>\n3. @alias me=<another player's name> What is the expected output? What do you see instead? You should end up with the other player's name as your name and alias.\n\nI figure I can take the code that I wrote for\ncommands/unlogged.py:cmd_create that checks for an existing player name &\nalias and use it on these commands.  Probably worth a common function of\nsome sort.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=39_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/39/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/38", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/38/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/38/events", "html_url": "https://github.com/evennia/evennia/issues/38", "id": 26055321, "node_id": "MDU6SXNzdWUyNjA1NTMyMQ==", "number": 38, "title": "Failure to start", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:49:35Z", "updated_at": "2014-01-21T23:49:37Z", "closed_at": "2014-01-21T23:49:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on June 10, 2008 14:24:21_\n\nIt looks like the latest Twisted doesn't play nicely with Evennia (on\nWindows at least):\n\n2008-06-10 08:21:31-0400 [-] Log opened.\n2008-06-10 08:21:31-0400 [-] --------------------------------------------------\n2008-06-10 08:21:31-0400 [-]  Command Aliases Loaded: 9\n2008-06-10 08:21:31-0400 [-]  Evennia Test Site started on port(s):\n2008-06-10 08:21:31-0400 [-]   \\* 4000\n2008-06-10 08:21:31-0400 [-] --------------------------------------------------\n2008-06-10 08:21:31-0400 [-] Loaded.\n2008-06-10 08:21:31-0400 [-] Traceback (most recent call last):\n2008-06-10 08:21:31-0400 [-]   File \"C:\\Python25\\scripts\\twistd.py\", line\n21, in <module>\n2008-06-10 08:21:31-0400 [-]     run()\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\scripts\\twistd.py\", line 27, in run\n2008-06-10 08:21:31-0400 [-]     app.run(runApp, ServerOptions)\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\application\\app.py\", line 614, in run\n2008-06-10 08:21:31-0400 [-]     runApp(config)\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\scripts\\twistd.py\", line 23, in runApp\n2008-06-10 08:21:31-0400 [-]     _SomeApplicationRunner(config).run()\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\application\\app.py\", line 335, in run\n2008-06-10 08:21:31-0400 [-]     self.startLogging(self.getLogObserver())\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\application\\app.py\", line 367, in\nstartLogging\n2008-06-10 08:21:31-0400 [-]     log.startLoggingWithObserver(observer)\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\python\\log.py\", line 519, in\nstartLoggingWithObserver\n2008-06-10 08:21:31-0400 [-]     msg(\"Log opened.\")\n2008-06-10 08:21:31-0400 [-]   File\n\"C:\\Python25\\Lib\\site-packages\\twisted\\python\\log.py\", line 246, in msg\n2008-06-10 08:21:31-0400 [-]     o = self.observers.pop(i)\n2008-06-10 08:21:31-0400 [-] IndexError: pop index out of range\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=38_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/38/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/36", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/36/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/36/events", "html_url": "https://github.com/evennia/evennia/issues/36", "id": 26055308, "node_id": "MDU6SXNzdWUyNjA1NTMwOA==", "number": 36, "title": "Strange unicode issues on gentoo, twisted and django SVN", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-21T23:49:29Z", "updated_at": "2014-01-21T23:49:32Z", "closed_at": "2014-01-21T23:49:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [tsalar...@gmail.com](https://code.google.com/u/114869507799861827315/) on September 14, 2007 15:28:25_\n\nTraceback (most recent call last):\n  File \"/home/mking/devel/python/personal/evennia/cmdhandler.py\", line 150,\nin handle\n    cmd(cdat)\n  File \"/home/mking/devel/python/personal/evennia/commands/general.py\",\nline 466, in cmd_help\n    session.msg(\"\\r\\n&#37;s&#37;s&#37;s\" &#37; (ansi.ansi[\"hilite\"], topic.get_topicname(),\nansi.ansi[\"normal\"]))\n  File \"/home/mking/devel/python/personal/evennia/session.py\", line 170, in msg\n    self.sendLine(\"&#37;s\" &#37; (message,))\n  File \"/usr/lib/python2.5/site-packages/twisted/protocols/basic.py\", line\n277, in sendLine\n    return self.transport.write(line + self.delimiter)\n  File \"/usr/lib/python2.5/site-packages/twisted/internet/abstract.py\",\nline 165, in write\n    raise TypeError(\"Data must not be unicode\")\nTypeError: Data must not be unicode\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=36_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/36/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/36/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/35", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/35/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/35/events", "html_url": "https://github.com/evennia/evennia/issues/35", "id": 26055307, "node_id": "MDU6SXNzdWUyNjA1NTMwNw==", "number": 35, "title": "wrong comments", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:49:26Z", "updated_at": "2014-01-21T23:49:28Z", "closed_at": "2014-01-21T23:49:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [marcos.m...@optimus.pt](https://code.google.com/u/114237687380539341179/) on September 13, 2007 19:32:40_\n\nThe first comment changed in the patch bellow shows a page with all\nchoices, the removed line don't.\n\nThe second comment is removed because you can only visit that link upon\nregistration.\n\nPlease apply this patch:\n\n--- settings.py.dist    2007-09-13 18:28:09.000000000 +0100\n+++ settings.py.dist.new        2007-09-13 18:29:19.000000000 +0100\n@@ -46,12 +46,11 @@\n DATABASE_PORT = ''\n\n # Local time zone for this installation. All choices can be found here:\n-# http://www.postgresql.org/docs/current/static/datetime-keywords.html#DATETIME-TIMEZONE-SET-TABLE +# http://www.timezoneconverter.com/cgi-bin/tzc.tzc TIME_ZONE = 'America/New_York'\n\n # Language code for this installation. All choices can be found here:\n # http://www.w3.org/TR/REC-html40/struct/dirlang.html#langcodes -# http://blogs.law.harvard.edu/tech/stories/storyReader$15 LANGUAGE_CODE = 'en-us'\n\n # It's safe to dis-regard this, as it's a Django feature we only half use as a\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=35_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/35/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/34", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/34/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/34/events", "html_url": "https://github.com/evennia/evennia/issues/34", "id": 26055303, "node_id": "MDU6SXNzdWUyNjA1NTMwMw==", "number": 34, "title": "@dig and the reuse of dbrefs", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-21T23:49:22Z", "updated_at": "2014-01-21T23:49:25Z", "closed_at": "2014-01-21T23:49:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [tsalar...@gmail.com](https://code.google.com/u/114869507799861827315/) on August 07, 2007 18:21:49_\n\nWhat steps will reproduce the problem? 1. Create a room, give it some attributes, including a description.\n2. @destroy the new room.\n3. @dig a new room, and hopefully it will get the old room's DBREF - this\npart is iffy, but it happened to me.\n\nThis should make a completely new room, even it is re-using the previous\nrooms' id.  Instead, the \"new\" room has the same description of the\nprevious room, but the name has changed.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=34_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/34/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/33", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/33/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/33/events", "html_url": "https://github.com/evennia/evennia/issues/33", "id": 26055300, "node_id": "MDU6SXNzdWUyNjA1NTMwMA==", "number": 33, "title": "Feisty Fawn and compiling", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:49:19Z", "updated_at": "2014-01-21T23:49:20Z", "closed_at": "2014-01-21T23:49:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [nulls...@gmail.com](https://code.google.com/u/101054629274880796531/) on July 25, 2007 17:08:17_\n\nRunning ubuntu Feisty, got all the dependencies, but when I go to try\nand pull the initial 'python manage.py syncdb' I receive:\n\nError: Couldn't install apps, because there were errors in one or more\nmodels:\napps.objects: cannot import name CommChannel\n\nSo it wont finish making the database tables :/ The only file I've\nmodified is the settings.py.dist, and yep it's renamed settings.py now.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=33_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/33/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/30", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/30/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/30/events", "html_url": "https://github.com/evennia/evennia/issues/30", "id": 26055289, "node_id": "MDU6SXNzdWUyNjA1NTI4OQ==", "number": 30, "title": "Command: Inventory", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-21T23:49:09Z", "updated_at": "2014-01-22T01:13:45Z", "closed_at": "2014-01-21T23:49:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [john.edw...@gmail.com](https://code.google.com/u/116046703860499119680/) on June 11, 2007 03:42:18_\n\ngeneral.py doesn't import gameconf breaking inventory command\n\nWhat is the expected output?\n\nYou are carrying:\nYou have 0 Credits.\n\nWhat do you see instead?\n\nYou are carrying:\nUntrapped error, please file a bug report:\nTraceback (most recent call last):\n  File \"F:\\pymuds\\Evennia\\cmdhandler.py\", line 150, in handle\n    cmd(cdat)\n  File \"F:\\pymuds\\Evennia\\commands\\general.py\", line 94, in cmd_inventory\n    else:\nNameError: global name 'gameconf' is not defined What version of the product are you using? On what operating system? rev 204\nwinxp\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=30_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/30/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/29", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/29/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/29/events", "html_url": "https://github.com/evennia/evennia/issues/29", "id": 26055286, "node_id": "MDU6SXNzdWUyNjA1NTI4Ng==", "number": 29, "title": "Duplicate Connection and CONNECTED Flag", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:49:06Z", "updated_at": "2014-01-21T23:49:08Z", "closed_at": "2014-01-21T23:49:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on June 10, 2007 06:31:25_\n\nWhen an existing connection is booted to make room for a new one under the\nsame account, the PLAYER object's CONNECTED flag is removed and not re-added.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=29_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/29/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/28", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/28/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/28/events", "html_url": "https://github.com/evennia/evennia/issues/28", "id": 26055285, "node_id": "MDU6SXNzdWUyNjA1NTI4NQ==", "number": 28, "title": "Starting with &quot;/&quot; crashes client", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:49:03Z", "updated_at": "2014-01-21T23:49:05Z", "closed_at": "2014-01-21T23:49:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [KurosKni...@gmail.com](https://code.google.com/u/101878754950292033544/) on June 06, 2007 06:40:39_\n\nWhat steps will reproduce the problem? 1. Prefacing any input with a \"/\" seems to crash the client (not the MUD)\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=28_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/28/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/24", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/24/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/24/events", "html_url": "https://github.com/evennia/evennia/issues/24", "id": 26055259, "node_id": "MDU6SXNzdWUyNjA1NTI1OQ==", "number": 24, "title": "Homes/Locations/Exits and Destruction", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2014-01-21T23:48:36Z", "updated_at": "2014-01-21T23:48:44Z", "closed_at": "2014-01-21T23:48:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on May 29, 2007 04:27:05_\n\nIf an object is destroyed, gracefully clean up any objects in its contents\nor exits linked to it.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=24_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/24/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/17", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/17/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/17/events", "html_url": "https://github.com/evennia/evennia/issues/17", "id": 26055218, "node_id": "MDU6SXNzdWUyNjA1NTIxOA==", "number": 17, "title": "Run-time code re-loading", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2014-01-21T23:47:54Z", "updated_at": "2014-01-21T23:48:02Z", "closed_at": "2014-01-21T23:48:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on May 27, 2007 19:25:12_\n\n@reload doesn't work very reliably, or at all in most cases. We're going to\nneed an intelligent reloading system rather than the kludge we currently have.\n\nThere's a reload function in server.py. Gut and replace with something sane.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=17_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/17/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/17/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/16", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/16/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/16/events", "html_url": "https://github.com/evennia/evennia/issues/16", "id": 26055215, "node_id": "MDU6SXNzdWUyNjA1NTIxNQ==", "number": 16, "title": "Exit Matching", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-21T23:47:51Z", "updated_at": "2014-01-21T23:47:52Z", "closed_at": "2014-01-21T23:47:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on May 23, 2007 02:17:43_\n\nFix the 'exact' name_match() function in objects/models.py so exit name\nmatching works. Needs to exactly match any of the exit's aliases.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=16_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/16/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/13", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/13/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/13/events", "html_url": "https://github.com/evennia/evennia/issues/13", "id": 26055199, "node_id": "MDU6SXNzdWUyNjA1NTE5OQ==", "number": 13, "title": "Quotes-handling issue with MySQL and Aliases", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-01-21T23:47:38Z", "updated_at": "2014-06-25T21:49:13Z", "closed_at": "2014-01-21T23:47:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [tsalar...@gmail.com](https://code.google.com/u/114869507799861827315/) on April 28, 2007 17:10:23_\n\nWhat steps will reproduce the problem? 1. Set up a MySQL database for Evennia\n2. Run python manage.py syncdb\n3. Watch the error occur What is the expected output? What do you see instead? The expected output is completion of table creation without error, instead \nyou get:\n\nInstalling custom SQL for genperms.CommandAlias model\nFailed to install custom SQL for genperms.CommandAlias model: (1064, 'You \nhave an \nerror in your SQL syntax; check the manual that corresponds to your MySQL \nserver \nversion for the right syntax to use near \\'\"config_commandalias\" VALUES\n(1,\\'l\\',\\'look\\')\\' at line 1')Installing custom SQL for \ngenperms.ConfigValue model\nFailed to install custom SQL for genperms.ConfigValue model: (1064, 'You \nhave an \nerror in your SQL syntax; check the manual that corresponds to your MySQL \nserver \nversion for the right syntax to use near \\'\"config_configvalue\" VALUES\n(0,\\'site_name\\',\\'Evennia Test Site\\')\\' at line 1')Installing custom SQL \nfor \ngenperms.Object model\nFailed to install custom SQL for genperms.Object model: (1064, 'You have \nan error in \nyour SQL syntax; check the manual that corresponds to your MySQL server \nversion for \nthe right syntax to use near \\'\"objects_object\" VALUES\n(1,\\'Wizard\\',\\'Wizard\\',1,0,2,1,\\'\\',2,\\'\\',\\'CONNECTED\\',\\'2007-04\\' at \nline 1')\nInstalling custom SQL for genperms.HelpEntry model\nFailed to install custom SQL for genperms.HelpEntry model: (1064, 'You \nhave an error \nin your SQL syntax; check the manual that corresponds to your MySQL server \nversion \nfor the right syntax to use near \\'\"helpsys_helpentry\" VALUES(1,\\'Help \nIndex\\',\\'This game has yet to customize its he\\' at line 1')Installing \nindex for \nauth.Message model\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=13_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/13/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/11", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/11/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/11/events", "html_url": "https://github.com/evennia/evennia/issues/11", "id": 26055195, "node_id": "MDU6SXNzdWUyNjA1NTE5NQ==", "number": 11, "title": "Dead Session Cleaning", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-21T23:47:31Z", "updated_at": "2014-01-21T23:47:33Z", "closed_at": "2014-01-21T23:47:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [squishywaffle@gmail.com](https://code.google.com/u/squishywaffle@gmail.com/) on April 26, 2007 04:36:52_\n\nFill in the stub in session_mgr.py for check_all_sessions() to remove dead\nsessions. If a player disconnects via QUIT or by closing his client, the\nsession is removed as expected. However, if the player is behind a badly\nconfigured NAT and times out silently, the session remains open. Clean out\nthese dead sessions so we don't have multiple logins of the same person\nsitting on the WHO list, even if the player is no longer connected at all.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=11_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/11/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/evennia/evennia/issues/1", "repository_url": "https://api.github.com/repos/evennia/evennia", "labels_url": "https://api.github.com/repos/evennia/evennia/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/evennia/evennia/issues/1/comments", "events_url": "https://api.github.com/repos/evennia/evennia/issues/1/events", "html_url": "https://github.com/evennia/evennia/issues/1", "id": 26055145, "node_id": "MDU6SXNzdWUyNjA1NTE0NQ==", "number": 1, "title": "Incorrect value of ansi['return'] in ansi.py", "user": {"login": "Griatch", "id": 294267, "node_id": "MDQ6VXNlcjI5NDI2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/294267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Griatch", "html_url": "https://github.com/Griatch", "followers_url": "https://api.github.com/users/Griatch/followers", "following_url": "https://api.github.com/users/Griatch/following{/other_user}", "gists_url": "https://api.github.com/users/Griatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Griatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Griatch/subscriptions", "organizations_url": "https://api.github.com/users/Griatch/orgs", "repos_url": "https://api.github.com/users/Griatch/repos", "events_url": "https://api.github.com/users/Griatch/events{/privacy}", "received_events_url": "https://api.github.com/users/Griatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76259903, "node_id": "MDU6TGFiZWw3NjI1OTkwMw==", "url": "https://api.github.com/repos/evennia/evennia/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "An actual error or unwanted behavior."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-21T23:46:33Z", "updated_at": "2014-09-13T00:05:33Z", "closed_at": "2014-01-21T23:46:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "_From [josiah.c...@gmail.com](https://code.google.com/u/116789976245745688459/) on February 15, 2007 05:09:06_\n\nInside ansi.py, you define ansi['return'] = '\\n\\r'.  This is incorrect. \nAll terminals that support two-character return codes require them in\n'\\r\\n' order.\n\n_Original issue: http://code.google.com/p/evennia/issues/detail?id=1_\n", "reactions": {"url": "https://api.github.com/repos/evennia/evennia/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/evennia/evennia/issues/1/timeline", "performed_via_github_app": null, "state_reason": "completed"}]