[{"url": "https://api.github.com/repos/sktime/sktime/issues/4505", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4505/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4505/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4505/events", "html_url": "https://github.com/sktime/sktime/pull/4505", "id": 1679877330, "node_id": "PR_kwDOCVKAsc5O7ppF", "number": 4505, "title": "[BUG] fix `BATS` and `TBATS` `_predict_interval` interface, part 2", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-23T06:11:54Z", "updated_at": "2023-04-23T16:31:29Z", "closed_at": "2023-04-23T16:31:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/4505", "html_url": "https://github.com/sktime/sktime/pull/4505", "diff_url": "https://github.com/sktime/sktime/pull/4505.diff", "patch_url": "https://github.com/sktime/sktime/pull/4505.patch", "merged_at": "2023-04-23T16:31:28Z"}, "body": "With more test coverage on `predict_interval` from https://github.com/sktime/sktime/pull/4470, `BATS` and `TBATS` fail some in-sample cases.\r\n\r\nThese were not addressed in https://github.com/sktime/sktime/pull/4492", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4505/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4499", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4499/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4499/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4499/events", "html_url": "https://github.com/sktime/sktime/pull/4499", "id": 1679223307, "node_id": "PR_kwDOCVKAsc5O5kDR", "number": 4499, "title": "[BUG] fix input check error message in `BasePairwiseTransformerPanel`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}, {"id": 3789332481, "node_id": "LA_kwDOCVKAsc7h3KAB", "url": "https://api.github.com/repos/sktime/sktime/labels/bugfix", "name": "bugfix", "color": "CE54AC", "default": false, "description": "Fixes a known bug or removes unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-21T23:51:02Z", "updated_at": "2023-04-29T10:34:05Z", "closed_at": "2023-04-29T10:33:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/4499", "html_url": "https://github.com/sktime/sktime/pull/4499", "diff_url": "https://github.com/sktime/sktime/pull/4499.diff", "patch_url": "https://github.com/sktime/sktime/pull/4499.patch", "merged_at": "2023-04-29T10:33:57Z"}, "body": "This PR fixes an unreported bug where the informative error message from a failed input check in `BasePairwiseTransformerPanel` would not be displayed, instead a cryptic exception about `NoneType` would be raised.\r\n\r\nThe failure is due to a return of `check_is_mtype` being `None` in the case where the check fails, but being treated as a `dict` erroneously (which it is in the success case). This was fixed.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4499/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4491", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4491/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4491/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4491/events", "html_url": "https://github.com/sktime/sktime/issues/4491", "id": 1671849018, "node_id": "I_kwDOCVKAsc5jpmQ6", "number": 4491, "title": "[BUG] TBATS can not produce a forecast with intervals when FH > History Period", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-17T19:35:59Z", "updated_at": "2023-04-22T16:07:45Z", "closed_at": "2023-04-22T16:07:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nimport logging\r\nfrom sktime.forecasting.tbats import TBATS\r\n\r\n\r\n# generate train set values\r\nnp.random.seed(42)\r\nLEN_HISTORY = 50\r\ntrain = pd.Series(data=np.random.randint(1, 100, LEN_HISTORY))\r\n\r\n# train model\r\nestimator = TBATS(\r\n    use_box_cox=False,\r\n    use_trend=True,\r\n    use_damped_trend=False,\r\n    sp=10,\r\n    use_arma_errors=False,\r\n)\r\nestimator.fit(train)\r\n\r\n# FH = Historical length works!\r\ntry:\r\n    fcst1 = estimator.predict_interval(\r\n        coverage=0.8, fh=np.array(range(1, LEN_HISTORY + 1))\r\n    )\r\nexcept Exception as e:\r\n    print(\"FH <= History\")\r\n    logging.exception(e)\r\n\r\n# FH > Historical length DOES NOT work\r\ntry:\r\n    fcst2 = estimator.predict_interval(\r\n        coverage=0.8, fh=np.array(range(1, LEN_HISTORY + 2))\r\n    )\r\nexcept Exception as e:\r\n    print(\"FH > History\")\r\n    logging.exception(e)\r\n```\r\n\r\n```python-traceback\r\nFH > History\r\nERROR:root:Length mismatch: Expected axis has 1 elements, new values have 51 elements\r\nTraceback (most recent call last):\r\n  File \"analysis/tbats/TBATS_prediction_interval_issue.py\", line 34, in <module>\r\n    coverage=0.8, fh=np.array(range(1, LEN_HISTORY + 2))\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/sktime/forecasting/base/_base.py\", line 636, in predict_interval\r\n    pred_int = self._predict_interval(fh=fh, X=X_inner, coverage=coverage)\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/sktime/forecasting/base/adapters/_tbats.py\", line 293, in _predict_interval\r\n    _, tbats_pred_int = self._tbats_forecast_with_interval(fh, c)\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/sktime/forecasting/base/adapters/_tbats.py\", line 217, in _tbats_forecast_with_interval\r\n    pred_int = self._get_pred_int(lower=lower, upper=upper)\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/sktime/forecasting/base/adapters/_tbats.py\", line 345, in _get_pred_int\r\n    pred_int.index = fh_out.to_absolute(self.cutoff)\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/pandas/core/generic.py\", line 5154, in __setattr__\r\n    return object.__setattr__(self, name, value)\r\n  File \"pandas/_libs/properties.pyx\", line 66, in pandas._libs.properties.AxisProperty.__set__\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/pandas/core/generic.py\", line 564, in _set_axis\r\n    self._mgr.set_axis(axis, labels)\r\n  File \"/home/<hidden>/anaconda3/envs/<hidden>/lib/<hidden>/site-packages/pandas/core/internals/managers.py\", line 227, in set_axis\r\n    f\"Length mismatch: Expected axis has {old_len} elements, new \"\r\nValueError: Length mismatch: Expected axis has 1 elements, new values have 51 elements\r\n```\r\n\r\n**Expected behavior**\r\nRequesting Prediction Intervals should work when FH > len(history) since it works when just requesting predictions without intervals (so it there should not be a historical data insufficiency issue).\r\n\r\n\r\n**Versions**\r\n<details>\r\nsktime 0.16.0 and sktime 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4468", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4468/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4468/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4468/events", "html_url": "https://github.com/sktime/sktime/issues/4468", "id": 1665617725, "node_id": "I_kwDOCVKAsc5jR089", "number": 4468, "title": "[BUG] sktime 0.17.1 breaks in-sample `predict_quantiles` in `pmdarima` adapter", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-04-13T03:18:53Z", "updated_at": "2023-04-21T13:06:20Z", "closed_at": "2023-04-21T13:06:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe latest release of sktime breaks in-sample predictions for ARIMA models\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import ARIMA\r\n\r\ny = load_airline()\r\nforecaster = ARIMA(order=(1, 1, 0), seasonal_order=(0, 1, 0, 12), suppress_warnings=True)\r\nforecaster.fit(y)\r\nforecaster.predict_quantiles(fh=y.index, X=None, alpha=[0.05, 0.95])\r\n```\r\n\r\n```python-traceback\r\n'numpy.ndarray' object has no attribute 'to_pandas'\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\Lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_pmdarima.py\", line 169, in _predict_in_sample\r\n    index=fh_abs.to_pandas(), columns=[\"lower\", \"upper\"]\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\Lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_pmdarima.py\", line 293, in _predict_interval\r\n    _, y_pred_int = self._predict_in_sample(fh_ins, **kwargs)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\Lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 2079, in _predict_quantiles\r\n    pred_a = self._predict_interval(fh=fh, X=X, coverage=[coverage])\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\Lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 559, in predict_quantiles\r\n    quantiles = self._predict_quantiles(fh=fh, X=X_inner, alpha=alpha)\r\n  File \"C:\\Users\\Nikhil\\OneDrive\\my_libraries\\my_python_libraries\\pycaret\\pycaret_dev\\time_series_debug.py\", line 28, in <module>\r\n    forecaster.predict_quantiles(fh=y.index, X=None, alpha=[0.05, 0.95])\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\Lib\\runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\Lib\\runpy.py\", line 196, in _run_module_as_main (Current frame)\r\n    return _run_code(code, main_globals, None,\r\nAttributeError: 'numpy.ndarray' object has no attribute 'to_pandas'\r\n```\r\n\r\n**Expected behavior**\r\nThis was working in sktime 0.16.x and also works in 0.17.0\r\n\r\n**Additional context**\r\npycaret tests failing due to sktime 0.17.1 upgrade: https://github.com/pycaret/pycaret/actions/runs/4674814052/jobs/8279339435#logs\r\n\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.10.10 | packaged by Anaconda, Inc. | (main, Mar 21 2023, 18:39:17) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_17p1\\python.exe\r\n   machine: Windows-10-10.0.19044-SP0\r\n\r\nPython dependencies:\r\n          pip: 23.0.1\r\n       sktime: 0.17.1\r\n      sklearn: 1.2.2\r\n        numpy: 1.23.5\r\n        scipy: 1.10.1\r\n       pandas: 1.5.3\r\n   matplotlib: 3.7.1\r\n       joblib: 1.2.0\r\n  statsmodels: 0.13.5\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.3\r\n      tsfresh: None\r\n   tensorflow: None\r\ntensorflow_probability: None\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4462", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4462/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4462/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4462/events", "html_url": "https://github.com/sktime/sktime/issues/4462", "id": 1663079077, "node_id": "I_kwDOCVKAsc5jIJKl", "number": 4462, "title": "[BUG] `NaiveForecaster` fails when equally spaced list of integers is passed as forecast horizon with datasets created by `_make_series`", "user": {"login": "yarnabrina", "id": 39331844, "node_id": "MDQ6VXNlcjM5MzMxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/39331844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarnabrina", "html_url": "https://github.com/yarnabrina", "followers_url": "https://api.github.com/users/yarnabrina/followers", "following_url": "https://api.github.com/users/yarnabrina/following{/other_user}", "gists_url": "https://api.github.com/users/yarnabrina/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarnabrina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarnabrina/subscriptions", "organizations_url": "https://api.github.com/users/yarnabrina/orgs", "repos_url": "https://api.github.com/users/yarnabrina/repos", "events_url": "https://api.github.com/users/yarnabrina/events{/privacy}", "received_events_url": "https://api.github.com/users/yarnabrina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-04-11T19:23:56Z", "updated_at": "2023-04-28T11:53:49Z", "closed_at": "2023-04-28T11:53:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nIf `NaiveForecaster` model is used to fit datasets created by `_make_series`, and then prediction is requested for a list of equally spaced integers, the prediction fails complaining of frequency mismatch.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python3\r\nfrom sktime.utils._testing.series import _make_series\r\ny = _make_series(n_columns=1)\r\n\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nnaive = NaiveForecaster()\r\nnaive.fit(y)\r\n\r\nnaive.predict([1, 3, 5])\r\n```\r\n\r\nThis fails with the following:\r\n\r\n> ValueError: Frequencies from two sources do not coincide: Current: <2 * Days>, from update: <Day>.\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nNo error, and get a DataFrame of 3 rows.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nFew observations:\r\n\r\n1. `[1, 3, 5, 6]` would work fine, but `[1, 3, 5, 7]` will fail similarly. So, this seems to be the problem with equally spaced horizons only.\r\n2. This can possibly be more general than just `NaiveForecaster`. Same behaviour is spotted with `ARIMA` and `ThetaForecaster` as well.\r\n3. This may be more general than \"datasets created with `_make_series`\", or may be even more specific. While it fails for `_make_series(n_columns=1)` or `_make_series(n_columns=2)`, it works for `load_airline()` or `load_longley()`.\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n\r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n```\r\nSystem:\r\n    python: 3.8.16 (default, Mar  2 2023, 03:21:46)  [GCC 11.2.0]\r\nexecutable: /home/conda-environments/sktime/bin/python\r\n   machine: Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.17\r\n\r\nPython dependencies:\r\n          pip: 23.0.1\r\n       sktime: 0.17.1\r\n      sklearn: 1.2.2\r\n        numpy: 1.23.5\r\n        scipy: 1.10.1\r\n       pandas: 1.5.3\r\n   matplotlib: 3.7.1\r\n       joblib: 1.2.0\r\n  statsmodels: 0.13.5\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.3\r\n      tsfresh: 0.20.0\r\n   tensorflow: 2.12.0\r\ntensorflow_probability: 0.19.0\r\n```\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4449", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4449/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4449/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4449/events", "html_url": "https://github.com/sktime/sktime/issues/4449", "id": 1659810672, "node_id": "I_kwDOCVKAsc5i7rNw", "number": 4449, "title": "[BUG] `attrs` import error under minimal dependencies", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-09T09:21:40Z", "updated_at": "2023-04-09T14:33:04Z", "closed_at": "2023-04-09T14:33:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "CI and module lookup (e.g., `all_estimators`) breaks with an `attrs` import error because:\r\n\r\n* it seems one of the core dependencies dropped `attrs` as a dependency, causing minimal dependency set of `sktime` to no longer require `attrs` (update: this is the developer core dependency `pytest`, with release 7.3.0)\r\n* two of the experimental modules (in annotation) imported `attrs`, but `attrs` was not one of `sktime`'s direct requirements\r\n* as a consequence, any attempted import of these modules now fails, in an environment with minimal dependency set\r\n\r\nThis will not impact users who have `attrs` installed or implied, but may break testing and lookup based logic for users whose requirements are small and do no longer imply `attrs`.\r\n\r\nPossible fixes:\r\n\r\n* fix 1: isolating `attrs`, turn into explicit soft dependency and manage via `sktime` dependency isolation mechanism\r\n* fix 2: removing offending modules\r\n* fix 3: make `attrs` a core dependency\r\n\r\nFix 3 would require a deprecation cycle and seems invasive.\r\nFix 2 may break dependencies on the experimental module, and will not solve the problem in general.\r\n\r\nFix 1 seems most involved and should not require deprecation. Why no deprecation: there is no change in public facing behaviour - and `attrs` becomes an explicit soft dependency, from being an implied (non-explicit) soft dependency.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4449/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4442", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4442/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4442/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4442/events", "html_url": "https://github.com/sktime/sktime/pull/4442", "id": 1657648836, "node_id": "PR_kwDOCVKAsc5Nx9fU", "number": 4442, "title": "[MNT] except `VECM` from `test_predict_quantiles` due to sporadic failures", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-06T15:34:03Z", "updated_at": "2023-04-06T17:09:56Z", "closed_at": "2023-04-06T17:09:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/4442", "html_url": "https://github.com/sktime/sktime/pull/4442", "diff_url": "https://github.com/sktime/sktime/pull/4442.diff", "patch_url": "https://github.com/sktime/sktime/pull/4442.patch", "merged_at": "2023-04-06T17:09:55Z"}, "body": "Excepts `VECM` from `test_predict_quantiles` due to sporadic failures of the current test (quantile prediction monotonocity), see https://github.com/sktime/sktime/issues/4431", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4442/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4432", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4432/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4432/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4432/events", "html_url": "https://github.com/sktime/sktime/pull/4432", "id": 1653276274, "node_id": "PR_kwDOCVKAsc5NjbSY", "number": 4432, "title": "[MNT] except `Prophet` from `test_predict_quantiles` due to sporadic failures", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-04T06:36:27Z", "updated_at": "2023-04-04T19:05:23Z", "closed_at": "2023-04-04T19:05:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/4432", "html_url": "https://github.com/sktime/sktime/pull/4432", "diff_url": "https://github.com/sktime/sktime/pull/4432.diff", "patch_url": "https://github.com/sktime/sktime/pull/4432.patch", "merged_at": "2023-04-04T19:05:17Z"}, "body": "Excepts `Prophet` from `test_predict_quantiles` due to sporadic failures of the current test (quantile prediction monotonocity), see https://github.com/sktime/sktime/issues/4431", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4432/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4426", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4426/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4426/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4426/events", "html_url": "https://github.com/sktime/sktime/issues/4426", "id": 1652801800, "node_id": "I_kwDOCVKAsc5ig8EI", "number": 4426, "title": "[BUG] `pandas 2` compatibility issues", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-03T21:28:18Z", "updated_at": "2023-04-10T20:55:17Z", "closed_at": "2023-04-10T20:55:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Some problems with `pandas 2` as released on Apr 3:\r\n\r\n* `ForecastingHorizon` `to_absolute` no longer seems to work with `pandas 2` as released, due to incomaptibility with the index based logic in `to_absolute`\r\n* `pd.DataFrame` constructor no longer accepts `ForecastingHorizon` as `index` or `columns` argument\r\n* conversion from `nested_univ` to `pd-multiindex` causes `pd.Index` indices which are not compatible with data input contracts\r\n* changes that make the contract of `DataFrame.agg` more restrictive and cause exceptions\r\n* `loc` can no longer be used to write to index locations that do not exist\r\n* the `pandas.util.testing` module no longer exists, contents moved to `pandas.testing`\r\n* `Timestamp.freq` is now removed. Despite dealing with this already, there were still some instances in `sktime` using this.\r\n* slicing timelike indices with a single index of lower granularity is no longer possible, e.g., `df[\"1950\"]` on monthly data now raises error instead of returning all months in 1950\r\n\r\nFurther problems to be mapped by https://github.com/sktime/sktime/pull/4430", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4425", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4425/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4425/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4425/events", "html_url": "https://github.com/sktime/sktime/pull/4425", "id": 1651318119, "node_id": "PR_kwDOCVKAsc5Nc1rW", "number": 4425, "title": "[BUG] temporarily skip `test_predict_quantiles` for `VAR` due to known sporadic bug #4420", "user": {"login": "yarnabrina", "id": 39331844, "node_id": "MDQ6VXNlcjM5MzMxODQ0", "avatar_url": "https://avatars.githubusercontent.com/u/39331844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarnabrina", "html_url": "https://github.com/yarnabrina", "followers_url": "https://api.github.com/users/yarnabrina/followers", "following_url": "https://api.github.com/users/yarnabrina/following{/other_user}", "gists_url": "https://api.github.com/users/yarnabrina/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarnabrina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarnabrina/subscriptions", "organizations_url": "https://api.github.com/users/yarnabrina/orgs", "repos_url": "https://api.github.com/users/yarnabrina/repos", "events_url": "https://api.github.com/users/yarnabrina/events{/privacy}", "received_events_url": "https://api.github.com/users/yarnabrina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-03T04:41:13Z", "updated_at": "2023-04-03T19:12:51Z", "closed_at": "2023-04-03T07:15:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/4425", "html_url": "https://github.com/sktime/sktime/pull/4425", "diff_url": "https://github.com/sktime/sktime/pull/4425.diff", "patch_url": "https://github.com/sktime/sktime/pull/4425.patch", "merged_at": "2023-04-03T07:15:37Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/sktime/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\nAddresses #4420 \r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\n`predict_quantiles` for `VAR` was sometimes giving results where lower quantiles had higher values than upper quantiles. This is incorrect behaviour, but it was happening rarely (close to 5% of times). As a quick fix to unblock #4394, this PR disables testing of `predict_quantiles` for `VAR` estimator by explicit exception of `test_predict_quantiles` for `VAR` in `_config.py`.\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\nNo.\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\n\r\n#### Did you add any tests for the change?\r\n\r\n<!-- This section is useful if you have added a test in addition to the existing ones. This will ensure that further changes to these files won't introduce the same kind of bug. It is considered good practice to add tests with newly added code to enforce the fact that the code actually works. This will reduce the chance of introducing logical bugs.\r\n-->\r\nNo.\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\nThis PR does not solve the issue itself, it merely avoids it so that test suite does not fail randomly. Possible things to investigate in future:\r\n\r\n* look for pattern in data when monotonicity fails\r\n* https://github.com/sktime/sktime/issues/4420#issuecomment-1493365120\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [ ] I've added myself to the [list of contributors](https://github.com/sktime/sktime/blob/main/.all-contributorsrc).\r\n- [ ] Optionally, I've updated sktime's [CODEOWNERS](https://github.com/sktime/sktime/blob/main/CODEOWNERS) to receive notifications about future changes to these files.\r\n- [ ] The PR title starts with either [ENH], [MNT], [DOC], or [BUG] indicating whether the PR topic is related to enhancement, maintenance, documentation, or bug.\r\n\r\n##### For new estimators\r\n- [ ] I've added the estimator to the online documentation.\r\n- [ ] I've updated the existing example notebooks or provided a new one to showcase how my estimator works.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4425/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4407", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4407/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4407/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4407/events", "html_url": "https://github.com/sktime/sktime/issues/4407", "id": 1644704733, "node_id": "I_kwDOCVKAsc5iCDPd", "number": 4407, "title": "[DOC] Version specific docs on readthedocs are not working - \"not found\"", "user": {"login": "jernsting", "id": 7760472, "node_id": "MDQ6VXNlcjc3NjA0NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/7760472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jernsting", "html_url": "https://github.com/jernsting", "followers_url": "https://api.github.com/users/jernsting/followers", "following_url": "https://api.github.com/users/jernsting/following{/other_user}", "gists_url": "https://api.github.com/users/jernsting/gists{/gist_id}", "starred_url": "https://api.github.com/users/jernsting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jernsting/subscriptions", "organizations_url": "https://api.github.com/users/jernsting/orgs", "repos_url": "https://api.github.com/users/jernsting/repos", "events_url": "https://api.github.com/users/jernsting/events{/privacy}", "received_events_url": "https://api.github.com/users/jernsting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-03-28T21:53:56Z", "updated_at": "2023-03-30T20:03:34Z", "closed_at": "2023-03-30T20:03:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version specific links in the documentation do not work. For example the link to the documentation for v0.16.1 does not work: https://sktime.readthedocs.io/en/v0.16.1/\r\n\r\n_Originally posted by @jernsting in https://github.com/sktime/sktime/discussions/4387#discussioncomment-5459132_\r\n      ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4407/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4405", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4405/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4405/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4405/events", "html_url": "https://github.com/sktime/sktime/issues/4405", "id": 1644339944, "node_id": "I_kwDOCVKAsc5iAqLo", "number": 4405, "title": "[BUG] forecasters do not correctly infer `freq` attribute of a specific series", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-03-28T16:57:26Z", "updated_at": "2023-04-03T07:28:44Z", "closed_at": "2023-04-03T07:28:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From discussion forum - verified bug as reported by @yarnabrina, confirmed under current main, python 3.10.\r\nIt seems the `freq` attribute does not get correctly inferred internally.\r\n\r\n### Discussed in https://github.com/sktime/sktime/discussions/4403\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **yarnabrina** March 28, 2023</sup>\r\nLet's consider the following setup:\r\n\r\n```python3\r\nimport numpy\r\nimport pandas\r\n\r\nnumpy.random.seed(seed=0)\r\n\r\npast_data = pandas.DataFrame(\r\n    {\r\n        \"time_identifier\": pandas.to_datetime(\r\n            [\r\n                \"2024-01-01\",\r\n                \"2024-01-02\",\r\n                \"2024-01-03\",\r\n                \"2024-01-04\",\r\n                \"2024-01-05\",\r\n                \"2024-01-06\",\r\n                \"2024-01-07\",\r\n                \"2024-01-08\",\r\n            ],\r\n            format=\"%Y-%m-%d\",\r\n        ),\r\n        \"series_data\": numpy.random.random(size=8),\r\n    }\r\n)\r\npast_data = past_data.set_index([\"time_identifier\"])\r\n```\r\n\r\nAs far as I can tell, this is in one of the `sktime` compatible format. And, training a model works fine.\r\n\r\n```python3\r\nimport sktime.forecasting.naive\r\n\r\nmodel = sktime.forecasting.naive.NaiveForecaster()\r\nmodel.fit(past_data)\r\n```\r\n\r\nBut I am unable to use this for prediction neither with integer array, nor with timedelta index.\r\n\r\n```python3\r\nimport sktime.forecasting.base\r\n\r\nnumeric_horizon = sktime.forecasting.base.ForecastingHorizon(values=[1, 2])\r\nmodel.predict(fh=numeric_horizon)\r\n\r\nfuture_dates = pandas.to_datetime([\"2024-01-09\", \"2024-01-10\"], format=\"%Y-%m-%d\")\r\npast_end_date = past_data.index.max()\r\n\r\ntimedelta_horizon = sktime.forecasting.base.ForecastingHorizon(values=future_dates - past_end_date)\r\nmodel.predict(fh=timedelta_horizon)\r\n```\r\n\r\nBoth attempts fail with the following error, and I'm not sure what value is `None`.\r\n\r\n> TypeError: unsupported operand type(s) for *=: 'int' and 'NoneType'\r\n\r\nSo, I want to know how to use the (successfully) fitted model to predict in such cases.\r\n\r\n---\r\n\r\nNB: If I try a very similar case with multiple series in a long format, this works fine. Attaching that example below. So, I'm certain that I'm missing something very small but important stuff somewhere, and will really appreciate some guidance.\r\n\r\n<details>\r\n<summary>Complete Long Format Example</summary>\r\n\r\n```python3\r\nimport numpy\r\nimport pandas\r\n\r\nnumpy.random.seed(seed=0)\r\n\r\npast_dates = pandas.to_datetime(\r\n            [\r\n                \"2024-01-01\",\r\n                \"2024-01-02\",\r\n                \"2024-01-03\",\r\n                \"2024-01-04\",\r\n                \"2024-01-05\",\r\n                \"2024-01-06\",\r\n                \"2024-01-07\",\r\n                \"2024-01-08\",\r\n            ],\r\n            format=\"%Y-%m-%d\",\r\n        )\r\n\r\npast_x_data = pandas.DataFrame(\r\n    {\r\n        \"series_identifier\": \"x\",\r\n        \"time_identifier\": past_dates,\r\n        \"series_data\": numpy.random.random(size=8),\r\n    }\r\n)\r\npast_y_data = pandas.DataFrame(\r\n    {\r\n        \"series_identifier\": \"y\",\r\n        \"time_identifier\": past_dates,\r\n        \"series_data\": numpy.random.random(size=8),\r\n    }\r\n)\r\n\r\npast_data = pandas.concat([past_x_data, past_y_data], ignore_index=True)\r\npast_data = past_data.set_index([\"series_identifier\", \"time_identifier\"])\r\n\r\nimport sktime.forecasting.naive\r\n\r\nmodel = sktime.forecasting.naive.NaiveForecaster()\r\nmodel.fit(past_data)\r\n\r\nimport sktime.forecasting.base\r\n\r\nnumeric_horizon = sktime.forecasting.base.ForecastingHorizon(values=[1, 2])\r\nmodel.predict(fh=numeric_horizon)\r\n\r\nfuture_dates = pandas.to_datetime([\"2024-01-09\", \"2024-01-10\"], format=\"%Y-%m-%d\")\r\npast_end_date = past_data.index.levels[1].max()\r\n\r\ntimedelta_horizon = sktime.forecasting.base.ForecastingHorizon(values=future_dates - past_end_date)\r\nmodel.predict(fh=timedelta_horizon)\r\n```\r\n\r\n```pycon\r\n>>> numeric_horizon = sktime.forecasting.base.ForecastingHorizon(values=[1, 2])\r\n>>> model.predict(fh=numeric_horizon)\r\n                                   series_data\r\nseries_identifier time_identifier             \r\nx                 2024-01-09          0.891773\r\n                  2024-01-10          0.891773\r\ny                 2024-01-09          0.087129\r\n                  2024-01-10          0.087129\r\n>>> \r\n>>> timedelta_horizon = sktime.forecasting.base.ForecastingHorizon(values=future_dates - past_end_date)\r\n>>> model.predict(fh=timedelta_horizon)\r\n                                   series_data\r\nseries_identifier time_identifier             \r\nx                 2024-01-09          0.891773\r\n                  2024-01-10          0.891773\r\ny                 2024-01-09          0.087129\r\n                  2024-01-10          0.087129\r\n```\r\n\r\n</details></div>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4386", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4386/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4386/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4386/events", "html_url": "https://github.com/sktime/sktime/issues/4386", "id": 1639917970, "node_id": "I_kwDOCVKAsc5hvymS", "number": 4386, "title": "[BUG] `ForecastX` does not pass parameters to proba prediction methods", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-24T19:21:16Z", "updated_at": "2023-03-26T09:48:12Z", "closed_at": "2023-03-26T09:48:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`ForecastX` does not pass parameter to proba prediction methods of the inner forecaster.\r\n\r\nIt should also be checked why the tests did not capture this, as this results in the wrong column index (and I thought the column index is being checked for being as expected).\r\n\r\nAn instance of the problem was reported by @yarnabrina here:\r\nhttps://github.com/sktime/sktime/discussions/4378#discussioncomment-5400582", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4370", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4370/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4370/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4370/events", "html_url": "https://github.com/sktime/sktime/issues/4370", "id": 1633048099, "node_id": "I_kwDOCVKAsc5hVlYj", "number": 4370, "title": "[BUG] ForecastingPipeline constructor hangs", "user": {"login": "kgeis", "id": 2237299, "node_id": "MDQ6VXNlcjIyMzcyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2237299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kgeis", "html_url": "https://github.com/kgeis", "followers_url": "https://api.github.com/users/kgeis/followers", "following_url": "https://api.github.com/users/kgeis/following{/other_user}", "gists_url": "https://api.github.com/users/kgeis/gists{/gist_id}", "starred_url": "https://api.github.com/users/kgeis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kgeis/subscriptions", "organizations_url": "https://api.github.com/users/kgeis/orgs", "repos_url": "https://api.github.com/users/kgeis/repos", "events_url": "https://api.github.com/users/kgeis/events{/privacy}", "received_events_url": "https://api.github.com/users/kgeis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-21T00:13:47Z", "updated_at": "2023-03-23T22:14:49Z", "closed_at": "2023-03-23T22:14:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nMy program hangs when constructing a `ForecastingPipeline`.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom sktime.forecasting.compose import ForecastingPipeline\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster\r\nfrom sktime.transformations.series.detrend import Detrender\r\n\r\nimport xgboost as xgb\r\n\r\ntransformer = TransformedTargetForecaster(\r\n        [\r\n            (\"detrend\", Detrender()),\r\n            (\"xgboost_forecaster\", make_reduction(\r\n                estimator=xgb.XGBRegressor(), \r\n                window_length=12,\r\n                strategy=\"direct\",\r\n                )\r\n            ),\r\n        ]\r\n    )\r\nforecaster = ForecastingPipeline(transformer)\r\n```\r\nWhen running this interactively, the first statement returns immediately and the second statement hangs.\r\n\r\n**Expected behavior**\r\nthe `ForecastingPipeline(..)` constructor returns almost immediately\r\n\r\n**Additional context**\r\nMac M1\r\n\r\n**Versions**\r\n* Python 3.10.10\r\n* sktime 0.16.1\r\n\r\noutput from show_versions:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/utils/_maint/_show_versions.py\", line 85, in show_versions\r\n    deps_info = _get_deps_info()\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/utils/_maint/_show_versions.py\", line 73, in _get_deps_info\r\n    mod = importlib.import_module(modname)\r\n  File \"/opt/homebrew/Cellar/python@3.10/3.10.10_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 688, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 883, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/setuptools/__init__.py\", line 8, in <module>\r\n    import _distutils_hack.override  # noqa: F401\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/_distutils_hack/override.py\", line 1, in <module>\r\n    __import__('_distutils_hack').do_override()\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/_distutils_hack/__init__.py\", line 77, in do_override\r\n    ensure_local_distutils()\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/_distutils_hack/__init__.py\", line 64, in ensure_local_distutils\r\n    assert '_distutils' in core.__file__, core.__file__\r\nAssertionError: /opt/homebrew/Cellar/python@3.10/3.10.10_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/distutils/core.py\r\n```\r\n\r\n**Details**\r\nWhen I interrupt the program, I get the following stack trace:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/compose/_pipeline.py\", line 386, in __init__\r\n    self.steps_ = self._check_steps(steps, allow_postproc=False)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/compose/_pipeline.py\", line 72, in _check_steps\r\n    estimator_tuples = self._get_estimator_tuples(estimators, clone_ests=True)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_meta.py\", line 372, in _get_estimator_tuples\r\n    ests = self._get_estimator_list(estimators)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_meta.py\", line 335, in _get_estimator_list\r\n    return [self._coerce_estimator_tuple(x)[1] for x in estimators]\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_meta.py\", line 335, in <listcomp>\r\n    return [self._coerce_estimator_tuple(x)[1] for x in estimators]\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/base/_base.py\", line 278, in __getitem__\r\n    return ColumnSelect(key) ** self\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/base/_base.py\", line 206, in __rpow__\r\n    self_as_pipeline = ForecastingPipeline(steps=[self])\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/compose/_pipeline.py\", line 386, in __init__\r\n    self.steps_ = self._check_steps(steps, allow_postproc=False)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/compose/_pipeline.py\", line 72, in _check_steps\r\n    estimator_tuples = self._get_estimator_tuples(estimators, clone_ests=True)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_meta.py\", line 374, in _get_estimator_tuples\r\n    ests = [e.clone() for e in ests]\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_meta.py\", line 374, in <listcomp>\r\n    ests = [e.clone() for e in ests]\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_base.py\", line 140, in clone\r\n    return clone(self)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sklearn/base.py\", line 90, in clone\r\n    new_object = klass(**new_object_params)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/compose/_pipeline.py\", line 799, in __init__\r\n    super(TransformedTargetForecaster, self).__init__()\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/forecasting/base/_base.py\", line 118, in __init__\r\n    _check_estimator_deps(self)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/utils/validation/_dependencies.py\", line 358, in _check_estimator_deps\r\n    compatible = compatible and _check_python_version(obj, severity=severity)\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/utils/validation/_dependencies.py\", line 263, in _check_python_version\r\n    est_specifier_tag = obj.get_class_tag(\"python_version\", tag_value_default=\"None\")\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_base.py\", line 297, in get_class_tag\r\n    collected_tags = cls.get_class_tags()\r\n  File \"/Users/kgeis/temp/mystuff/sp_prob/lib/python3.10/site-packages/sktime/base/_base.py\", line 278, in get_class_tags\r\n    return deepcopy(collected_tags)\r\n  File \"/opt/homebrew/Cellar/python@3.10/3.10.10_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/copy.py\", line 146, in deepcopy\r\n    y = copier(x, memo)\r\n  File \"/opt/homebrew/Cellar/python@3.10/3.10.10_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/copy.py\", line 231, in _deepcopy_dict\r\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\r\n  File \"/opt/homebrew/Cellar/python@3.10/3.10.10_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/copy.py\", line 146, in deepcopy\r\n    y = copier(x, memo)\r\nKeyboardInterrupt\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4363", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4363/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4363/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4363/events", "html_url": "https://github.com/sktime/sktime/issues/4363", "id": 1630908268, "node_id": "I_kwDOCVKAsc5hNa9s", "number": 4363, "title": "[BUG] `BaggingForecaster` returns incorrect index for probabilistic forecasts", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T12:01:43Z", "updated_at": "2023-04-21T12:35:43Z", "closed_at": "2023-04-21T12:35:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Same as https://github.com/sktime/sktime/issues/4362, but for `BaggingForecaster`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4362", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4362/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4362/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4362/events", "html_url": "https://github.com/sktime/sktime/issues/4362", "id": 1630854316, "node_id": "I_kwDOCVKAsc5hNNys", "number": 4362, "title": "[BUG] `DynamicFactor` returns incorrect index for probabilistic forecasts", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-19T09:26:50Z", "updated_at": "2023-04-21T19:49:43Z", "closed_at": "2023-04-21T19:49:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`DynamicFactor` returns incorrect index and length returns for probabilistic forecasts, e.g.,\r\n\r\n```python\r\nfrom sktime.utils._testing.series import _make_series\r\nfrom sktime.forecasting.dynamic_factor import DynamicFactor\r\n\r\nn_columns=2\r\nfh=[2, 5]\r\n\r\ny_train = _make_series(n_columns=n_columns)\r\n\r\nf = DynamicFactor()\r\nf.fit(y_train, fh=fh)\r\n\r\nf.predict_interval()\r\n```\r\n\r\nreturns a length 4 `DataFrame` with integer index, but it should return a length 2 `DataFrame` with datetime index.\r\n\r\nThis bug was masked by unreported bug https://github.com/sktime/sktime/pull/4361 in the testing framework.\r\n\r\nFYI @Ris-Bali, @lbventura as authors.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4349", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4349/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4349/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4349/events", "html_url": "https://github.com/sktime/sktime/issues/4349", "id": 1628294024, "node_id": "I_kwDOCVKAsc5hDcuI", "number": 4349, "title": "[MNT] `pytest` failure caused by `dash` version upgrade 2.8.1 -> 2.9.0", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-16T21:13:10Z", "updated_at": "2023-03-17T13:03:50Z", "closed_at": "2023-03-16T22:44:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since a couple hours, CI fails with `pytest-xdist` workers are crashing.\r\nThe culprit appears to be `dash` 2.9.0, up from 2.8.1.\r\nHere's the issue in the `dash` repo: https://github.com/plotly/dash/issues/2460\r\n\r\n### history of diagnostics\r\n\r\n* The suspicion is that this is coming from the recent changes in versions.\r\n* the reason is not `pytest-xdist`, as removal does not fix the failure\r\n* diffs in dependency versions show changes of `coverage` 7.2.1 -> 7.2.2, `dash` 2.8.1 -> 2.9.0\r\n\r\nAttempted fixes:\r\n\r\n* restrict `pytest-xdist<3.2.1` - does not fix - https://github.com/sktime/sktime/pull/4348\r\n* restrict `pytest-xdist<3.2.0` - does not fix - https://github.com/sktime/sktime/pull/4348\r\n* remove `pytest-xdist` - does not fix - https://github.com/sktime/sktime/pull/4350\r\n* forcibly downgrade `coverage`, `dash` - fixes - https://github.com/sktime/sktime/pull/4351\r\n* forcibly downgrade `coverage`, but not `dash` - does not fix - https://github.com/sktime/sktime/pull/4352\r\n* forcibly downgrade `dash`, but not `coverage` - fixes - https://github.com/sktime/sktime/pull/4353\r\n\r\n### example traceback\r\n\r\nfrom https://github.com/sktime/sktime/actions/runs/4440696964/jobs/7796826928?pr=4347\r\n\r\n```\r\nscheduling tests via LoadScheduling\r\n\r\nsktime/utils/tests/test_mlflow_sktime_model_export.py::test_pyfunc_raises_invalid_dict_key \r\n2023-03-16 21:05:09.652491: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n2023-03-16 21:05:09.800236: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.9.16/x64/lib\r\n2023-03-16 21:05:09.800266: I tensorflow/compiler/xla/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.\r\n2023-03-16 21:05:11.000026: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libnvinfer.so.7'; dlerror: libnvinfer.so.7: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.9.16/x64/lib\r\n2023-03-16 21:05:11.000121: W tensorflow/compiler/xla/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libnvinfer_plugin.so.7'; dlerror: libnvinfer_plugin.so.7: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.9.16/x64/lib\r\n2023-03-16 21:05:11.000130: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly.\r\nsktime/utils/tests/test_mlflow_sktime_model_export.py::test_auto_arima_model_save_and_load[pickle] \r\nINTERNALERROR> def worker_internal_error(self, node, formatted_error):\r\nINTERNALERROR>         \"\"\"\r\nINTERNALERROR>         pytest_internalerror() was called on the worker.\r\nINTERNALERROR>     \r\nINTERNALERROR>         pytest_internalerror() arguments are an excinfo and an excrepr, which can't\r\nINTERNALERROR>         be serialized, so we go with a poor man's solution of raising an exception\r\nINTERNALERROR>         here ourselves using the formatted message.\r\nINTERNALERROR>         \"\"\"\r\nINTERNALERROR>         self._active_nodes.remove(node)\r\nINTERNALERROR>         try:\r\nINTERNALERROR> >           assert False, formatted_error\r\nINTERNALERROR> E           AssertionError: Traceback (most recent call last):\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 34, in _multicall\r\nINTERNALERROR> E                 next(gen)  # first yield\r\nINTERNALERROR> E             StopIteration\r\nINTERNALERROR> E             \r\nINTERNALERROR> E             During handling of the above exception, another exception occurred:\r\nINTERNALERROR> E             \r\nINTERNALERROR> E             Traceback (most recent call last):\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/main.py\", line 270, in wrap_session\r\nINTERNALERROR> E                 session.exitstatus = doit(config, session) or 0\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/main.py\", line 324, in _main\r\nINTERNALERROR> E                 config.hook.pytest_runtestloop(session=session)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_hooks.py\", line 265, in __call__\r\nINTERNALERROR> E                 return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_manager.py\", line 80, in _hookexec\r\nINTERNALERROR> E                 return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 60, in _multicall\r\nINTERNALERROR> E                 return outcome.get_result()\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_result.py\", line 60, in get_result\r\nINTERNALERROR> E                 raise ex[1].with_traceback(ex[2])\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 39, in _multicall\r\nINTERNALERROR> E                 res = hook_impl.function(*args)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/xdist/remote.py\", line 157, in pytest_runtestloop\r\nINTERNALERROR> E                 self.run_one_test()\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/xdist/remote.py\", line 174, in run_one_test\r\nINTERNALERROR> E                 self.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_hooks.py\", line 265, in __call__\r\nINTERNALERROR> E                 return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_manager.py\", line 80, in _hookexec\r\nINTERNALERROR> E                 return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 60, in _multicall\r\nINTERNALERROR> E                 return outcome.get_result()\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_result.py\", line 60, in get_result\r\nINTERNALERROR> E                 raise ex[1].with_traceback(ex[2])\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 39, in _multicall\r\nINTERNALERROR> E                 res = hook_impl.function(*args)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/runner.py\", line 112, in pytest_runtest_protocol\r\nINTERNALERROR> E                 runtestprotocol(item, nextitem=nextitem)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/runner.py\", line 125, in runtestprotocol\r\nINTERNALERROR> E                 rep = call_and_report(item, \"setup\", log)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/runner.py\", line 222, in call_and_report\r\nINTERNALERROR> E                 report: TestReport = hook.pytest_runtest_makereport(item=item, call=call)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_hooks.py\", line 265, in __call__\r\nINTERNALERROR> E                 return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_manager.py\", line 80, in _hookexec\r\nINTERNALERROR> E                 return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 60, in _multicall\r\nINTERNALERROR> E                 return outcome.get_result()\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_result.py\", line 60, in get_result\r\nINTERNALERROR> E                 raise ex[1].with_traceback(ex[2])\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 37, in _multicall\r\nINTERNALERROR> E                 _raise_wrapfail(gen, \"did not yield\")\r\nINTERNALERROR> E               File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_result.py\", line 9, in _raise_wrapfail\r\nINTERNALERROR> E                 raise RuntimeError(\r\nINTERNALERROR> E             RuntimeError: wrap_controller at 'pytest_runtest_makereport' /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/dash/testing/plugin.py:106 did not yield\r\nINTERNALERROR> E           assert False\r\nINTERNALERROR> \r\nINTERNALERROR> /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/xdist/dsession.py:192: AssertionError\r\nINTERNALERROR> Traceback (most recent call last):\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/main.py\", line 270, in wrap_session\r\nINTERNALERROR>     session.exitstatus = doit(config, session) or 0\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/_pytest/main.py\", line 324, in _main\r\nINTERNALERROR>     config.hook.pytest_runtestloop(session=session)\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_hooks.py\", line 265, in __call__\r\nINTERNALERROR>     return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_manager.py\", line 80, in _hookexec\r\nINTERNALERROR>     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 55, in _multicall\r\nINTERNALERROR>     gen.send(outcome)\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_result.py\", line 60, in get_result\r\nINTERNALERROR>     raise ex[1].with_traceback(ex[2])\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pluggy/_callers.py\", line 39, in _multicall\r\nINTERNALERROR>     res = hook_impl.function(*args)\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/xdist/dsession.py\", line 117, in pytest_runtestloop\r\nINTERNALERROR>     self.loop_once()\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/xdist/dsession.py\", line 140, in loop_once\r\nINTERNALERROR>     call(**kwargs)\r\nINTERNALERROR>   File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/xdist/dsession.py\", line 179, in worker_workerfinished\r\nINTERNALERROR>     assert not crashitem, (crashitem, node)\r\nINTERNALERROR> AssertionError: ('sktime/utils/tests/test_mlflow_sktime_model_export.py::test_auto_arima_model_save_and_load[pickle]', <WorkerController gw0>)\r\nINTERNALERROR> assert not 'sktime/utils/tests/test_mlflow_sktime_model_export.py::test_auto_arima_model_save_and_load[pickle]'\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4325", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4325/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4325/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4325/events", "html_url": "https://github.com/sktime/sktime/issues/4325", "id": 1623167956, "node_id": "I_kwDOCVKAsc5gv5PU", "number": 4325, "title": "[DOC] unclear documentation of `sktime` input type for transformers", "user": {"login": "IKetchup", "id": 72007646, "node_id": "MDQ6VXNlcjcyMDA3NjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/72007646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IKetchup", "html_url": "https://github.com/IKetchup", "followers_url": "https://api.github.com/users/IKetchup/followers", "following_url": "https://api.github.com/users/IKetchup/following{/other_user}", "gists_url": "https://api.github.com/users/IKetchup/gists{/gist_id}", "starred_url": "https://api.github.com/users/IKetchup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IKetchup/subscriptions", "organizations_url": "https://api.github.com/users/IKetchup/orgs", "repos_url": "https://api.github.com/users/IKetchup/repos", "events_url": "https://api.github.com/users/IKetchup/events{/privacy}", "received_events_url": "https://api.github.com/users/IKetchup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-14T10:22:38Z", "updated_at": "2023-03-21T16:39:36Z", "closed_at": "2023-03-21T16:39:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a dataset of 1000 time series in input and output. My input time series have the shape : 644 * 36 and my output time series have the shape 644*1008.\r\n\r\nTo resume my training data look like this : \r\n\r\n```\r\nx_train shape : (800, 644, 36)\r\nx_test shape  : (200, 644, 36)\r\ny_train shape : (800, 644, 1008)\r\ny_test shape  : (200, 644, 1008)\r\n```\r\n\r\nBecause classical machine learning only take 2d data I ca also transformed then by concatening the first and second dimensions : \r\n\r\n```\r\nx_train shape : (515200, 36)\r\nx_test shape  : (128800, 36)\r\ny_train shape : (515200, 1008)\r\ny_test shape  : (128800, 1008)\r\n```\r\n\r\nI realised that there is not a lot of exemple in sktime on how to use extrenal data and how to load them into a sktime dataset.\r\n\r\nI tried using my data as it is with a `MiniRocketMultivariate` transformation model. However the `transform` function does not return the same number of row as the original data but I guess it is beacause I do not have the right format.\r\n\r\n```\r\nprint(X.shape)  >> 64400 * 36 (batch of data)\r\nmodel = MiniRocketMultivariate(num_kernels=100)\r\nmodel.fit(X)\r\nx_trf = model.transform(X)\r\nprint(x_trf.shape) >> 1 * 84\r\n```\r\n\r\nHow can transform my data (3d or 2d format) into a sktime dataset than can be used for regression with the `MiniRocketMultivariate` transformation model ?\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4299", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4299/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4299/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4299/events", "html_url": "https://github.com/sktime/sktime/issues/4299", "id": 1613936880, "node_id": "I_kwDOCVKAsc5gMrjw", "number": 4299, "title": "[BUG] check_pdmultiindex_panel incorrect result for metadata is_equally_spaced", "user": {"login": "noahleegithub", "id": 42154767, "node_id": "MDQ6VXNlcjQyMTU0NzY3", "avatar_url": "https://avatars.githubusercontent.com/u/42154767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noahleegithub", "html_url": "https://github.com/noahleegithub", "followers_url": "https://api.github.com/users/noahleegithub/followers", "following_url": "https://api.github.com/users/noahleegithub/following{/other_user}", "gists_url": "https://api.github.com/users/noahleegithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/noahleegithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noahleegithub/subscriptions", "organizations_url": "https://api.github.com/users/noahleegithub/orgs", "repos_url": "https://api.github.com/users/noahleegithub/repos", "events_url": "https://api.github.com/users/noahleegithub/events{/privacy}", "received_events_url": "https://api.github.com/users/noahleegithub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-07T17:52:05Z", "updated_at": "2023-03-14T18:03:44Z", "closed_at": "2023-03-14T18:03:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nThe *check_pdmultiindex_panel* method from sktime.datatypes will return an incorrect result for the \"is_equally_spaced\" metadata when the time index for each instance has a non-sequential initial time.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.datatypes import check_is_mtype\r\n\r\nexample_instance_index = [0, 0, 0, 1, 1, 1, 2, 2, 2]\r\nexample_time_index = pd.to_datetime([0, 1, 2, 4, 5, 6, 9, 10, 11], unit='s')\r\nexample_multiindex = pd.MultiIndex.from_arrays([example_instance_index, example_time_index])\r\n\r\nexample_data = pd.DataFrame(index=example_multiindex, data=list(range(0, 9)))\r\n\"\"\"example_data\r\n                       0\r\n0 1970-01-01 00:00:00  0\r\n  1970-01-01 00:00:01  1\r\n  1970-01-01 00:00:02  2\r\n1 1970-01-01 00:00:04  3\r\n  1970-01-01 00:00:05  4\r\n  1970-01-01 00:00:06  5\r\n2 1970-01-01 00:00:09  6\r\n  1970-01-01 00:00:10  7\r\n  1970-01-01 00:00:11  8\r\n\"\"\"\r\n\r\n_, _, metadata = check_is_mtype(example_data, mtype=\"pd-multiindex\", return_metadata=True)\r\n\r\nassert metadata['is_equally_spaced'] == True\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThe method should return True for \"is_equally_spaced\", since for each separate instance in the DataFrame the spacing between time indexes is 1 second.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nIn the check_pdmultiindex_panel method (sktime/datatypes/_panel/_check.py) the is_equally_spaced metadata is computed via\r\n```python\r\nmetadata[\"is_equally_spaced\"] = all(\r\n            _index_equally_spaced(group.index.levels[-1]) for _, group in series_groups\r\n        )\r\n```\r\nIf the get_level_values() method is used instead of the levels attribute, this bug should be fixed.\r\n```python\r\nmetadata[\"is_equally_spaced\"] = all(\r\n            _index_equally_spaced(group.index.get_level_values(-1)) for _, group in series_groups\r\n        )\r\n```\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.9.15 | packaged by conda-forge | (main, Nov 22 2022, 15:55:03)  [GCC 10.4.0]\r\nexecutable: /home/bin/python\r\n   machine: Linux-4.14.305-10ms-x86_64-with-glibc2.27\r\n\r\nPython dependencies:\r\n          pip: 23.0.1\r\n   setuptools: 58.1.0\r\n      sklearn: 1.2.1\r\n       sktime: 0.16.1\r\n  statsmodels: 0.13.5\r\n        numpy: 1.23.5\r\n        scipy: 1.10.1\r\n       pandas: 1.5.3\r\n   matplotlib: None\r\n       joblib: 1.2.0\r\n        numba: 0.56.4\r\n     pmdarima: None\r\n      tsfresh: 0.20.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4298", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4298/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4298/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4298/events", "html_url": "https://github.com/sktime/sktime/issues/4298", "id": 1613152723, "node_id": "I_kwDOCVKAsc5gJsHT", "number": 4298, "title": "[BUG] TypeError when using the evaluate_by_index method of error/metric classes like MeanAbsolutePercentageError with hierarchical inputs", "user": {"login": "marrov", "id": 54272586, "node_id": "MDQ6VXNlcjU0MjcyNTg2", "avatar_url": "https://avatars.githubusercontent.com/u/54272586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marrov", "html_url": "https://github.com/marrov", "followers_url": "https://api.github.com/users/marrov/followers", "following_url": "https://api.github.com/users/marrov/following{/other_user}", "gists_url": "https://api.github.com/users/marrov/gists{/gist_id}", "starred_url": "https://api.github.com/users/marrov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marrov/subscriptions", "organizations_url": "https://api.github.com/users/marrov/orgs", "repos_url": "https://api.github.com/users/marrov/repos", "events_url": "https://api.github.com/users/marrov/events{/privacy}", "received_events_url": "https://api.github.com/users/marrov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4046206041, "node_id": "LA_kwDOCVKAsc7xLDRZ", "url": "https://api.github.com/repos/sktime/sktime/labels/module:metrics&benchmarking", "name": "module:metrics&benchmarking", "color": "29A8FC", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-07T10:33:07Z", "updated_at": "2023-03-14T21:05:16Z", "closed_at": "2023-03-14T21:05:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe `evaluate_by_index` method of classes such as `MeanAbsolutePercentageError` and other error metrics is not working to obtain granular/disaggregated by-time-index errors when using hierarchical data as it raises a `TypeError`.\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sktime.performance_metrics.forecasting import MeanAbsolutePercentageError\r\nfrom sktime.performance_metrics.forecasting._functions import _percentage_error\r\nfrom sktime.utils._testing.hierarchical import _make_hierarchical\r\n\r\n# Define the target variable\r\ny = _make_hierarchical()\r\n\r\n# Define the CV strategy and get the number of folds\r\ncv = ExpandingWindowSplitter(initial_window=6, fh=ForecastingHorizon([1]), step_length=1)\r\nn_folds = cv.get_n_splits(y.index.unique(level=-1))\r\n\r\n# Run the evaluate function\r\nresults = evaluate(\r\n    forecaster=NaiveForecaster(strategy=\"last\"),\r\n    y=y,\r\n    cv=cv,\r\n    return_data=True,\r\n    scoring=[MeanAbsolutePercentageError()],\r\n    error_score=np.nan,\r\n)\r\n\r\n# Extract each of y_test and y_pred for all folds into separate hierarchical/multiindex dataframes by concatenation\r\ny_true = pd.concat([results.loc[fold, \"y_test\"] for fold in range(n_folds)]).sort_index()\r\ny_pred = pd.concat([results.loc[fold, \"y_pred\"] for fold in range(n_folds)]).sort_index()\r\n\r\n# Calculate the percentage error (PE) and absolute percentage error (APE) for each time-index\r\npe = _percentage_error(y_true=y_true, y_pred=y_pred)\r\nape = np.abs(_percentage_error(y_true=y_true, y_pred=y_pred))\r\n\r\n# Attempt to calculate the \"APE\" with MeamAbsolutePercentageError class by time-step\r\nmape = MeanAbsolutePercentageError()\r\nmape.evaluate_by_index(y_true=y_true, y_pred=y_pred)\r\n```\r\n\r\n**Expected behavior**\r\nUsing the `mape.evaluate_by_index` I would expect to obtain the same results as is stored in the `ape` variable, in my previous example. \r\n\r\n**Additional context**\r\nI believe the culprit may be in the type checking. Particularly, the TypeError raised prints: \r\n```\r\nTypeError: {'pd.DataFrame': \"y_true must be a pandas.DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'pd.Series': \"y_true must be a pandas.Series, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'np.ndarray': \"y_true must be a numpy.ndarray, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'xr.DataArray': \"y_true must be a xarray.DataArray, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'dask_series': \"y_true must be a dask DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'df-list': \"y_true must be list of pd.DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'numpy3D': \"y_true must be a numpy.ndarray, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'pd-multiindex': \"y_true must be a pd.DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'nested_univ': \"y_true must be a pd.DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'dask_panel': \"y_true must be a dask DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'pd_multiindex_hier': \"y_true must be a pd.DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\", 'dask_hierarchical': \"y_true must be a dask DataFrame, found <class 'sktime.datatypes._vectorize.VectorizedDF'>\"}\r\n```\r\nIn particular, I believe the type `<class 'sktime.datatypes._vectorize.VectorizedDF'>` should be interpreted as `pd.DataFrame` for the purposes of the `pd-multiindex` type. Nevertheless, my understanding of `mtypes`and `scitypes` in `sktime` is not great and I may be mistaken here.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.10 (default, Nov 14 2022, 12:59:47)  [GCC 9.4.0]\r\nexecutable: /local_disk0/.ephemeral_nfs/envs/pythonEnv-8008d4a2-4273-4edf-98e4-2bbf794381ad/bin/python\r\n   machine: Linux-5.4.0-1100-azure-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0\r\n      sklearn: 0.24.1\r\n       sktime: 0.16.1\r\n  statsmodels: 0.13.5\r\n        numpy: 1.22.4\r\n        scipy: 1.10.1\r\n       pandas: 1.5.3\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.2\r\n      tsfresh: 0.20.0\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4292", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4292/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4292/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4292/events", "html_url": "https://github.com/sktime/sktime/issues/4292", "id": 1611035873, "node_id": "I_kwDOCVKAsc5gBnTh", "number": 4292, "title": "[BUG] SettingWithCopyWarning when using custom error metric with evaluate", "user": {"login": "marrov", "id": 54272586, "node_id": "MDQ6VXNlcjU0MjcyNTg2", "avatar_url": "https://avatars.githubusercontent.com/u/54272586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marrov", "html_url": "https://github.com/marrov", "followers_url": "https://api.github.com/users/marrov/followers", "following_url": "https://api.github.com/users/marrov/following{/other_user}", "gists_url": "https://api.github.com/users/marrov/gists{/gist_id}", "starred_url": "https://api.github.com/users/marrov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marrov/subscriptions", "organizations_url": "https://api.github.com/users/marrov/orgs", "repos_url": "https://api.github.com/users/marrov/repos", "events_url": "https://api.github.com/users/marrov/events{/privacy}", "received_events_url": "https://api.github.com/users/marrov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 4046206041, "node_id": "LA_kwDOCVKAsc7xLDRZ", "url": "https://api.github.com/repos/sktime/sktime/labels/module:metrics&benchmarking", "name": "module:metrics&benchmarking", "color": "29A8FC", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-06T09:49:57Z", "updated_at": "2023-03-14T18:36:08Z", "closed_at": "2023-03-14T16:19:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen using the `evaluate` function with a custom metric, I get a `SettingWithCopyWarning`. For large runs, there are too many warning print statements and I have to resort to manually deactivating the warning before running `evaluate`.\r\n\r\n\r\n**To Reproduce**\r\n\r\nIn this example, I make a custom scorer to keep track of the bias error. As far as I know, there is no `BiasError` or `PercentageError` metric currently in `sktime` and this cannot be done directly via the `_percentage_error` function with `make_forecasting_scorer` as it needs the `symmetric` keyword. Therefore, I had to define a custom function for this purpose.\r\n\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sktime.performance_metrics.forecasting import make_forecasting_scorer, MeanAbsolutePercentageError\r\nfrom sktime.performance_metrics.forecasting._functions import _percentage_error\r\nfrom sktime.utils._testing.hierarchical import _make_hierarchical\r\n\r\n# Define a custom metric\r\ndef custom_nonsymm_percentage_error(\r\n    y_true: pd.DataFrame, y_pred: pd.DataFrame\r\n) -> float:\r\n    return _percentage_error(y_true=y_true, y_pred=y_pred, symmetric=False)\r\n\r\n# Define a custom scorer based on the previous function\r\npercentage_error = make_forecasting_scorer(\r\n    func=custom_nonsymm_percentage_error,\r\n    name=\"PercentageErrorBias\",\r\n    greater_is_better=False,\r\n)\r\n\r\n# Make a list of error metrics\r\nerror_metrics = [\r\n    MeanAbsolutePercentageError(),\r\n    percentage_error, # If the custom scorer is commented out the warning disappears\r\n]\r\n\r\n# Define the target variable\r\ny = _make_hierarchical()\r\n\r\n# Define the CV strategy\r\ncv = ExpandingWindowSplitter(initial_window=6, fh=ForecastingHorizon([1]), step_length=1)\r\n\r\n# Run the evaluate function\r\nresults = evaluate(\r\n    forecaster=NaiveForecaster(strategy=\"last\"),\r\n    y=y,\r\n    cv=cv,\r\n    return_data=True,\r\n    scoring=error_metrics,\r\n    error_score=np.nan,\r\n)\r\n```\r\n\r\n**Expected behavior**\r\nNo warning should appear when using a custom scorer. The culprit appear to be this line in the `evaluate` function:\r\n`results[f\"test_{s.name}\"].iloc[row] = `\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.10 (default, Nov 14 2022, 12:59:47)  [GCC 9.4.0]\r\nexecutable: /local_disk0/.ephemeral_nfs/envs/pythonEnv-2c84d41e-41f3-4d35-8db5-5c0b4d380a2a/bin/python\r\n   machine: Linux-5.4.0-1100-azure-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0\r\n      sklearn: 0.24.1\r\n       sktime: 0.16.1\r\n  statsmodels: 0.13.5\r\n        numpy: 1.22.4\r\n        scipy: 1.10.1\r\n       pandas: 1.5.3\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.2\r\n      tsfresh: 0.20.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4266", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4266/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4266/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4266/events", "html_url": "https://github.com/sktime/sktime/issues/4266", "id": 1596994448, "node_id": "I_kwDOCVKAsc5fMDOQ", "number": 4266, "title": "[BUG] \"PerformanceWarning: DataFrame is highly fragmented.\" in ShapeDTW with GridSearchCV", "user": {"login": "giordanoscerra", "id": 121350206, "node_id": "U_kgDOBzuoPg", "avatar_url": "https://avatars.githubusercontent.com/u/121350206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giordanoscerra", "html_url": "https://github.com/giordanoscerra", "followers_url": "https://api.github.com/users/giordanoscerra/followers", "following_url": "https://api.github.com/users/giordanoscerra/following{/other_user}", "gists_url": "https://api.github.com/users/giordanoscerra/gists{/gist_id}", "starred_url": "https://api.github.com/users/giordanoscerra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giordanoscerra/subscriptions", "organizations_url": "https://api.github.com/users/giordanoscerra/orgs", "repos_url": "https://api.github.com/users/giordanoscerra/repos", "events_url": "https://api.github.com/users/giordanoscerra/events{/privacy}", "received_events_url": "https://api.github.com/users/giordanoscerra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-23T14:44:43Z", "updated_at": "2023-03-11T18:50:38Z", "closed_at": "2023-03-11T18:50:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`\r\n  df[i] = data\r\n  \r\nwhen i try to use shapeDTW with gridsearchCV and i have a very big dataset of shape (198,7)\r\n\r\n```python\r\nfrom sklearn.model_selection import KFold\r\nfrom sklearn.model_selection import GridSearchCV\r\nfrom importlib import import_module as imp\r\nimport numpy as np\r\n\r\nX_frag = [[0, 1, 2, 3, 5, 6, 8], [0, 1, 2, 3, 5, 6, 9], [0, 1, 2, 3, 5, 6, 7], [0, 1, 2, 3, 5, 6, 7], [0, 1, 2, 3, 5, 6, 7]]\r\ny_frag = [0, 0, 1, 1, 1]\r\nX = []\r\ny = []\r\n\r\nfor i in range(198):\r\n    X.extend(X_frag)\r\n    y.extend(y_frag)\r\n    print(i)\r\n\r\n\r\nX_arr = np.array(X)\r\ny_arr = np.array(y)\r\n\r\n\r\nshapedtw_type = 'sktime.classification.distance_based._shape_dtw.ShapeDTW'\r\n\r\nmodule_name, class_name = shapedtw_type.rsplit(\".\", 1)\r\nmodel = getattr(imp(module_name), class_name)()\r\n\r\nparam_grid = {'shape_descriptor_function': ['raw', 'paa'] }\r\nparameter_tuning_method = GridSearchCV(model, param_grid, cv=KFold(n_splits=5), return_train_score=True, verbose=3)\r\nparameter_tuning_method.fit(X_arr, y_arr)\r\n\r\n#print(parameter_tuning_method.best_score_)\r\nprint(parameter_tuning_method.cv_results_)\r\n```\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4220", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4220/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4220/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4220/events", "html_url": "https://github.com/sktime/sktime/issues/4220", "id": 1581394921, "node_id": "I_kwDOCVKAsc5eQivp", "number": 4220, "title": "[BUG] some released estimators do not construct, tests did not catch this", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102332684, "node_id": "MDU6TGFiZWwzMTAyMzMyNjg0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:clustering", "name": "module:clustering", "color": "8C1AAB", "default": false, "description": "clustering module: time series clustering"}, {"id": 3471101012, "node_id": "LA_kwDOCVKAsc7O5MxU", "url": "https://api.github.com/repos/sktime/sktime/labels/module:regression", "name": "module:regression", "color": "943567", "default": false, "description": "regression module: time series regression"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-12T20:15:17Z", "updated_at": "2023-02-19T18:09:13Z", "closed_at": "2023-02-19T18:09:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A number of released estimators do not construct:\r\n\r\n* `ComposableTimeSeriesForestRegressor`\r\n* `TimeSeriesDBScan`\r\n\r\nThe reason in both cases are abstract methods expected by `ABC` that are not implemented. In both cases it seems that it should not be required to implement said methods, e.g., the parallel `ComposableTimeSeriesForestClassifier` just adds a dummy method that raises an error to keep `ABC` happy.\r\n\r\nAlso, this was not detected by the testing framework due to #4219.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4186", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4186/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4186/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4186/events", "html_url": "https://github.com/sktime/sktime/issues/4186", "id": 1566038737, "node_id": "I_kwDOCVKAsc5dV9rR", "number": 4186, "title": "[BUG] dynamic time warping classifier uses euclidean distance squared, but this is not documented properly", "user": {"login": "namiyousef", "id": 64047828, "node_id": "MDQ6VXNlcjY0MDQ3ODI4", "avatar_url": "https://avatars.githubusercontent.com/u/64047828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/namiyousef", "html_url": "https://github.com/namiyousef", "followers_url": "https://api.github.com/users/namiyousef/followers", "following_url": "https://api.github.com/users/namiyousef/following{/other_user}", "gists_url": "https://api.github.com/users/namiyousef/gists{/gist_id}", "starred_url": "https://api.github.com/users/namiyousef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/namiyousef/subscriptions", "organizations_url": "https://api.github.com/users/namiyousef/orgs", "repos_url": "https://api.github.com/users/namiyousef/repos", "events_url": "https://api.github.com/users/namiyousef/events{/privacy}", "received_events_url": "https://api.github.com/users/namiyousef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-01T12:36:53Z", "updated_at": "2023-02-14T10:40:17Z", "closed_at": "2023-02-14T10:40:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Dynamic Time Warping uses Euclidean Distance Squared as metric\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nWhen DTW cost matrix is calculated, there is a missing square root after calculating the total sum:\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfor i in range(x_size):\r\n        for j in range(y_size):\r\n            if np.isfinite(bounding_matrix[i, j]):\r\n                sum = 0\r\n                for k in range(dimensions):\r\n                    sum += (x[k][i] - y[k][j]) ** 2\r\n\r\n                cost_matrix[i + 1, j + 1] = sum  # bug\r\n                cost_matrix[i + 1, j + 1] += min(\r\n                    cost_matrix[i, j + 1], cost_matrix[i + 1, j], cost_matrix[i, j]\r\n                )\r\n\r\nreturn cost_matrix[1:, 1:]\r\n```\r\n\r\nLine  https://github.com/sktime/sktime/blob/main/sktime/distances/_dtw.py#L241 should read:\r\n```python\r\ncost_matrix[i + 1, j + 1] = sum ** 0.5\r\n```\r\n\r\n# Versions\r\n```\r\nSystem:\r\n    python: 3.8.10 (v3.8.10:3d8993a744, May  3 2021, 09:09:08)  [Clang 12.0.5 (clang-1205.0.22.9)]\r\nexecutable: /Users/YNI02/Desktop/offline_repos/correlation_engine/venv_dtw/bin/python\r\n   machine: macOS-12.6.2-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.1.1\r\n   setuptools: 56.0.0\r\n      sklearn: 1.2.1\r\n       sktime: 0.16.0\r\n  statsmodels: None\r\n        numpy: 1.23.5\r\n        scipy: 1.10.0\r\n       pandas: 1.5.3\r\n   matplotlib: 3.6.3\r\n       joblib: 1.2.0\r\n        numba: 0.56.4\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n\r\n# Additional Context\r\n- Technically this doesn't have to be a bug since the squared euclidean distance is also valid, however it is unclear in the documentation that this is the case, and the results from `sktime` differ from other dtw libraries such as `dtw-python`\r\n- Is there a reason why there is a for loop for calculating the euclidean distance? Not sure why vectorisation isn't used.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4173", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4173/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4173/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4173/events", "html_url": "https://github.com/sktime/sktime/issues/4173", "id": 1561442633, "node_id": "I_kwDOCVKAsc5dEblJ", "number": 4173, "title": "[BUG] `AutoETS`,  `UnobservedComponents`: `predict_quantiles` and `predict_intervals` does not work when index does not start at 0", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-29T20:13:40Z", "updated_at": "2023-02-06T22:00:30Z", "closed_at": "2023-02-06T22:00:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@fkiraly update: same bug occurs with `UnobservedComponents`, added to description\r\n\r\n---\r\n\r\n**Describe the bug**\r\nAutoETS `predict_quantiles` and `predict_intervals` does not work with Int64Index when index does not start at 0\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasting.ets import AutoETS\r\nfrom sktime.forecasting.arima import ARIMA\r\n\r\ndef check_forecasts(forecaster, data):\r\n    forecaster.fit(data[\"y\"], fh=[1, 2, 3])\r\n    try:\r\n        y_pred = forecaster.predict()\r\n    except KeyError as e:\r\n        print(f\"Error with {forecaster.__class__()} predict(): {e}\")\r\n    try:\r\n        y_pred = forecaster.predict_quantiles()\r\n    except KeyError as e:\r\n        print(f\"Error with {forecaster.__class__()} predict_quantiles(): {e}\")\r\n    try:\r\n        y_pred = forecaster.predict_interval()\r\n    except KeyError as e:\r\n        print(f\"Error with {forecaster.__class__()} predict_interval(): {e}\")\r\n\r\n\r\ndata = pd.DataFrame({\"y\": np.arange(100)})\r\ndata.index = list(data.index)  # Change RangeIndex to Int64Index\r\ndata.index = data.index + 1  # Make index start at 1 instead of 0\r\ncheck_forecasts(AutoETS(), data)\r\ncheck_forecasts(ARIMA(), data)\r\n\r\n# You can use the M4 dataset for more valuation instead of the mock data above\r\n# Indexing in this dataset starts at 1 instead of 0\r\n\r\n!pip install datasetsforecast\r\nfrom datasetsforecast.m4 import M4\r\n\r\nY_df, *_ = M4.load(\".\", \"Weekly\")\r\n\r\ndata = Y_df.query(\"unique_id == 'W1'\")\r\ndata.set_index(\"ds\", inplace=True)\r\n\r\ncheck_forecasts(AutoETS(), data)\r\ncheck_forecasts(ARIMA(), data)\r\n```\r\n\r\n```python-traceback\r\nError with AutoETS() predict_quantiles(): '[101] not in index'\r\nError with AutoETS() predict_interval(): '[101] not in index'\r\n```\r\n\r\n**Expected behavior**\r\nSince `predict()` works correctly, I am assuming Int64Index is supported. Hence, I would expect `predict_quantiles()` and `predict_intervals()` to work in this case as well.\r\n\r\n\r\n\r\n**Versions**\r\nsktime == 0.15.0\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4169", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4169/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4169/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4169/events", "html_url": "https://github.com/sktime/sktime/issues/4169", "id": 1561091993, "node_id": "I_kwDOCVKAsc5dDF-Z", "number": 4169, "title": "[BUG] SeasonalityACF `nlags` is not inclusive", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 5091363488, "node_id": "LA_kwDOCVKAsc8AAAABL3gKoA", "url": "https://api.github.com/repos/sktime/sktime/labels/module:parameter-estimators", "name": "module:parameter-estimators", "color": "5C907C", "default": false, "description": "parameter fitters and estimators"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-01-29T02:18:45Z", "updated_at": "2023-02-04T13:53:50Z", "closed_at": "2023-02-04T13:53:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nSeasonalityACF does not consider lags upto nlags but up to nlags - 1. This is because of this statement. \r\n\r\nhttps://github.com/sktime/sktime/blob/daf5f81233a0eed51b643ecc89a4c68e8bb65f29/sktime/param_est/seasonality.py#L143\r\n\r\nI think this should be increased by 1 to allows `nlags` to be inclusive.\r\n\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.param_est.seasonality import SeasonalityACF\r\n\r\nnp.random.seed(42)\r\ndata = np.random.randint(0, 100, size=60)\r\n# Data with seasonality of 60\r\ndata = pd.DataFrame(np.concatenate((np.tile(data, 2), [data[0]])))\r\n\r\nsp_est = SeasonalityACF(nlags=60)\r\nsp_est.fit(data)\r\nprint(sp_est.get_fitted_params().get(\"sp_significant\"))\r\n\r\nsp_est = SeasonalityACF(nlags=61)\r\nsp_est.fit(data)\r\nprint(sp_est.get_fitted_params().get(\"sp_significant\"))\r\n```\r\n\r\n```python-traceback\r\n[4]\r\n[60  4]\r\n```\r\n\r\n**Expected behavior**\r\n\r\nWould have expected nlags to be inclusive per the documentation.\r\n\r\nhttps://github.com/sktime/sktime/blob/daf5f81233a0eed51b643ecc89a4c68e8bb65f29/sktime/param_est/seasonality.py#L36-L38\r\n\r\n**Additional context**\r\n\r\n**Versions**\r\n\r\nsktime == 0.15.0\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4162", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4162/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4162/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4162/events", "html_url": "https://github.com/sktime/sktime/issues/4162", "id": 1560825240, "node_id": "I_kwDOCVKAsc5dCE2Y", "number": 4162, "title": "[BUG] CI fails in `code_quality` `isort` hook, environment creation, at preparing metadata via `pyproject.toml`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-28T11:29:05Z", "updated_at": "2023-01-28T21:34:07Z", "closed_at": "2023-01-28T21:34:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since a few minutes ago, `sktime` CI fails at the first step when trying to install the env, with this traceback below.\r\n\r\nThis seems to be coming from the `code_quality` job, in there the `isort` hook when the python environment is being created, probably when trying to parse a `pyproject.toml`.\r\n\r\nAs a temporary workaround, `isort` has been removed here: https://github.com/sktime/sktime/pull/4164\r\nbut it should be added back.\r\n\r\nBelow is the traceback:\r\n\r\n```\r\n      Preparing metadata (pyproject.toml): started\r\n      Preparing metadata (pyproject.toml): finished with status 'error'\r\n    \r\nstderr:\r\n      error: subprocess-exited-with-error\r\n      \r\n      \u00d7 Preparing metadata (pyproject.toml) did not run successfully.\r\n      \u2502 exit code: 1\r\n      \u2570\u2500> [14 lines of output]\r\n          Traceback (most recent call last):\r\n            File \"/home/runner/.cache/pre-commit/repohskwxkw8/py_env-python3/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 351, in <module>\r\n              main()\r\n            File \"/home/runner/.cache/pre-commit/repohskwxkw8/py_env-python3/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 333, in main\r\n              json_out['return_val'] = hook(**hook_input['kwargs'])\r\n            File \"/home/runner/.cache/pre-commit/repohskwxkw8/py_env-python3/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 152, in prepare_metadata_for_build_wheel\r\n              return hook(metadata_directory, config_settings)\r\n            File \"/tmp/pip-build-env-3kaotqva/overlay/lib/python3.10/site-packages/poetry/core/masonry/api.py\", line 40, in prepare_metadata_for_build_wheel\r\n              poetry = Factory().create_poetry(Path(\".\").resolve(), with_groups=False)\r\n            File \"/tmp/pip-build-env-3kaotqva/overlay/lib/python3.10/site-packages/poetry/core/factory.py\", line 57, in create_poetry\r\n              raise RuntimeError(\"The Poetry configuration is invalid:\\n\" + message)\r\n          RuntimeError: The Poetry configuration is invalid:\r\n            - [extras.pipfile_deprecated_finder.2] 'pip-shims<=0.3.4' does not match '^[a-zA-Z-_.0-9]+$'\r\n          \r\n          [end of output]\r\n      \r\n      note: This error originates from a subprocess, and is likely not a problem with pip.\r\n    error: metadata-generation-failed\r\n    \r\n    \u00d7 Encountered error while generating package metadata.\r\n    \u2570\u2500> See above for output.\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4162/reactions", "total_count": 23, "+1": 23, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4149", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4149/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4149/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4149/events", "html_url": "https://github.com/sktime/sktime/issues/4149", "id": 1557705485, "node_id": "I_kwDOCVKAsc5c2LMN", "number": 4149, "title": "[BUG] `ForecastingGridSearchCV` returns `AttributeError` `get_class_tag` on non-`BaseObject` input - docstring is wrong", "user": {"login": "albert-queralto", "id": 48929187, "node_id": "MDQ6VXNlcjQ4OTI5MTg3", "avatar_url": "https://avatars.githubusercontent.com/u/48929187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albert-queralto", "html_url": "https://github.com/albert-queralto", "followers_url": "https://api.github.com/users/albert-queralto/followers", "following_url": "https://api.github.com/users/albert-queralto/following{/other_user}", "gists_url": "https://api.github.com/users/albert-queralto/gists{/gist_id}", "starred_url": "https://api.github.com/users/albert-queralto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albert-queralto/subscriptions", "organizations_url": "https://api.github.com/users/albert-queralto/orgs", "repos_url": "https://api.github.com/users/albert-queralto/repos", "events_url": "https://api.github.com/users/albert-queralto/events{/privacy}", "received_events_url": "https://api.github.com/users/albert-queralto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-01-26T07:02:04Z", "updated_at": "2023-02-06T21:59:56Z", "closed_at": "2023-02-06T21:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "@fkiraly update:\r\n\r\nthe underlying problem is two-fold:\r\n\r\n* the docstring(s) are wrong for the `scoring` argument of tuners\r\n* @albert-queralto passed a string instead of a function or class (but it is easy to get confused by the docstring, since it was wrong)\r\n\r\n---\r\n**Describe the bug**\r\nI am using the make_pipeline method with the StandardScaler from sklearn, the NaiveForecaster with a dictionary of parameters and the `ForecastingGridSearchCV`. However, I am getting the following AttributeError: 'str' object has no attribute 'get_class_tag'.  The traceback seems to indicate that the issue is in the fit method.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sklearn.preprocessing import StandardScaler\r\nfrom sktime.forecasting.compose import ForecastingPipeline\r\nfrom sktime.transformations.series.adapt import TabularToSeriesAdaptor\r\nfrom sktime.forecasting.model_selection import (ExpandingWindowSplitter,\r\n                                                temporal_train_test_split,\r\n                                                ForecastingGridSearchCV)\r\nfrom sktime.pipeline import make_pipeline as sktime_make_pipeline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster\r\n\r\n\r\nstart_date = '2022-01-01'\r\nend_date = '2022-03-01'\r\ndate_rng = pd.date_range(start=start_date, end=end_date, freq='15T')\r\ndf = pd.DataFrame(date_rng, columns=['date'])\r\ndf['temperature'] = np.random.randint(low=10, high=50, size=(len(date_rng)))\r\ndf['wind_speed'] = np.random.randint(low=0, high=50, size=(len(date_rng)))\r\ndf['pressure'] = np.random.randint(low=1000, high=1050, size=(len(date_rng)))\r\ndf.set_index('date', inplace=True)\r\n\r\nmodels_dict = {\r\n    'naive_forecaster': NaiveForecaster()\r\n}\r\n\r\nparams_dict = {\r\n                'naive_forecaster': {\r\n                                    'NaiveForecaster__strategy': ['last', 'mean', 'drift'], \r\n                                    'NaiveForecaster__sp': [12, 24],\r\n                                    'NaiveForecaster__window_length': [100],\r\n                                }\r\n                }\r\n\r\nbest_estimators = {}\r\nbest_cv_scores = {}\r\n    \r\nX = df.drop('temperature', axis=1)\r\nY = df['temperature']\r\n\r\nY_train, Y_test, X_train, X_test = temporal_train_test_split(X=X, y=Y, \r\n                                                            test_size=0.2)\r\nfor model_name, model in models_dict.items():\r\n        pipeline = sktime_make_pipeline(TabularToSeriesAdaptor(StandardScaler()), model)\r\n        grid_search = ForecastingGridSearchCV(pipeline, param_grid=params_dict[model_name],\r\n                                    cv=5, scoring='neg_root_mean_squared_error', verbose=1)\r\n        grid_search.fit( Y_train, X_train)\r\n\r\n        print(f'{model_name} - Best parameters: {grid_search.best_params_}, Best score: {grid_search.best_score_}')\r\n```\r\n\r\n**Expected behavior**\r\nThe code should train the forecaster with the data and return the model parameters and score.\r\n\r\n**Additional context**\r\nGridSearchCV seems to work properly.\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nSystem:\r\n    python: 3.9.15 (main, Nov 24 2022, 14:39:17) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: c:\\Users\\albert.queralto\\Anaconda3\\envs\\datasci\\python.exe\r\n   machine: Windows-10-10.0.19045-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.3.1\r\n   setuptools: 65.6.3\r\n      sklearn: 1.0.2\r\n       sktime: 0.15.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.23.5\r\n        scipy: 1.9.3\r\n       pandas: 1.5.2\r\n   matplotlib: 3.6.2\r\n       joblib: 1.1.1\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.2\r\n      tsfresh: 0.20.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4144", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4144/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4144/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4144/events", "html_url": "https://github.com/sktime/sktime/issues/4144", "id": 1555752823, "node_id": "I_kwDOCVKAsc5cuud3", "number": 4144, "title": "[BUG] `Detrender` returns incorrect result when using `inverse_transform`", "user": {"login": "KishManani", "id": 30973056, "node_id": "MDQ6VXNlcjMwOTczMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/30973056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KishManani", "html_url": "https://github.com/KishManani", "followers_url": "https://api.github.com/users/KishManani/followers", "following_url": "https://api.github.com/users/KishManani/following{/other_user}", "gists_url": "https://api.github.com/users/KishManani/gists{/gist_id}", "starred_url": "https://api.github.com/users/KishManani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KishManani/subscriptions", "organizations_url": "https://api.github.com/users/KishManani/orgs", "repos_url": "https://api.github.com/users/KishManani/repos", "events_url": "https://api.github.com/users/KishManani/events{/privacy}", "received_events_url": "https://api.github.com/users/KishManani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-01-24T22:14:47Z", "updated_at": "2023-02-01T18:16:45Z", "closed_at": "2023-02-01T18:16:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe `inverse_transform` is not returned correctly when passing a `Series` type which has a different `name` from the `DataFrame` or `Series` used during `fit`.  Instead two columns which are null are returned. Another condition to trigger this bug appears to be when the user supplies data with a different time index during `fit` and `inverse_transform`. \r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.transformations.series.detrend import Detrender\r\ndf = load_airline().rename(\"y\").to_frame()\r\n\r\ndetrender = Detrender()\r\n# Fit on some time period\r\ndetrender.fit(df.loc[:\"1949-03\", \"y\"])\r\n# De-trend on a different time period\r\ny_detrended = detrender.transform(df.loc[\"1949-04\":, \"y\"])\r\n# Inverse transform (i.e., add the trend back)\r\ndetrender.inverse_transform(y_detrended)\r\n```\r\n\r\n<img width=\"211\" alt=\"image\" src=\"https://user-images.githubusercontent.com/30973056/214433004-1712689c-0902-4ba8-ba4b-adc257f88e61.png\">\r\n\r\nThis behaviour only incurs when the input is a `Series`. If I were to wrap `\"y\"` above in a list, `[\"y\"]`, so that a `DataFrame` is instead passed to `fit` and `transform`, then we do not get this bug.\r\n\r\n**Expected behavior**\r\nA single column with the trend added back resulting in the same data as the original dataframe.\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.7 (default, May  6 2021, 21:53:45)  [Clang 12.0.0 (clang-1200.0.32.29)]\r\nexecutable: /Users/kishan_manani/.pyenv/versions/3.8.7/envs/udemy-ts/bin/python3.8\r\n   machine: macOS-11.6.6-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.3.1\r\n   setuptools: 49.2.1\r\n      sklearn: 1.2.0\r\n       sktime: 0.15.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.8.1\r\n       pandas: 1.5.2\r\n   matplotlib: 3.6.2\r\n       joblib: 1.2.0\r\n        numba: 0.56.4\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4131", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4131/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4131/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4131/events", "html_url": "https://github.com/sktime/sktime/issues/4131", "id": 1551876750, "node_id": "I_kwDOCVKAsc5cf8KO", "number": 4131, "title": "[BUG] `PolynomialTrendForecaster` stalls when fit on timeseries with datetime index", "user": {"login": "KishManani", "id": 30973056, "node_id": "MDQ6VXNlcjMwOTczMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/30973056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KishManani", "html_url": "https://github.com/KishManani", "followers_url": "https://api.github.com/users/KishManani/followers", "following_url": "https://api.github.com/users/KishManani/following{/other_user}", "gists_url": "https://api.github.com/users/KishManani/gists{/gist_id}", "starred_url": "https://api.github.com/users/KishManani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KishManani/subscriptions", "organizations_url": "https://api.github.com/users/KishManani/orgs", "repos_url": "https://api.github.com/users/KishManani/repos", "events_url": "https://api.github.com/users/KishManani/events{/privacy}", "received_events_url": "https://api.github.com/users/KishManani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-21T18:26:59Z", "updated_at": "2023-01-27T10:07:10Z", "closed_at": "2023-01-27T10:07:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nMy computer stalls when running `fit` on a dataframe with a `DatetimeIndex` with the `PolynomialTrendForecaster`.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster  \r\n\r\ndf = load_airline()\r\ndf.index = df.index.to_timestamp()\r\n\r\ntrafo = PolynomialTrendForecaster()\r\ntrafo.fit(df)\r\n```\r\n\r\n**Expected behavior**\r\nThe fitting time shouldn't be orders of magnitude different from using a `PeriodIndex`. \r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.7 (default, May  6 2021, 21:53:45)  [Clang 12.0.0 (clang-1200.0.32.29)]\r\nexecutable: /Users/kishan_manani/.pyenv/versions/3.8.7/envs/udemy-ts/bin/python3.8\r\n   machine: macOS-11.6.6-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.3.1\r\n   setuptools: 49.2.1\r\n      sklearn: 1.2.0\r\n       sktime: 0.15.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.8.1\r\n       pandas: 1.5.2\r\n   matplotlib: 3.6.2\r\n       joblib: 1.2.0\r\n        numba: 0.56.4\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4114", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4114/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4114/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4114/events", "html_url": "https://github.com/sktime/sktime/issues/4114", "id": 1534749613, "node_id": "I_kwDOCVKAsc5bemut", "number": 4114, "title": "[BUG] Deseasonalizer fails with OptionalPassthrough when X is multicolumn pd.DataFrame", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-16T11:13:52Z", "updated_at": "2023-01-23T18:54:44Z", "closed_at": "2023-01-23T18:54:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nUsing `OptionalPassthrough(Deseasonalizer())` is failing with  multicolumn `pd.DataFrame`. Seems sth is wrong with the tags here?\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.transformations.series.detrend import Deseasonalizer\r\nfrom sktime.transformations.compose import OptionalPassthrough\r\n_, X = load_longley()\r\n\r\n# working:\r\nt = Deseasonalizer()\r\nt.fit(X)\r\n\r\n# failing:\r\nt = OptionalPassthrough(Deseasonalizer())\r\nt.fit(X)\r\n```\r\n\r\n**Versions**\r\nVersion: 0.15.1\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4097", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4097/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4097/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4097/events", "html_url": "https://github.com/sktime/sktime/issues/4097", "id": 1528962774, "node_id": "I_kwDOCVKAsc5bIh7W", "number": 4097, "title": "[BUG] Docs are not being built during CI check", "user": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-01-11T12:37:39Z", "updated_at": "2023-02-23T18:43:30Z", "closed_at": "2023-02-23T18:43:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nI believe that all of the current PRs only show \"Expected \u2014 Waiting for status to be reported\" for `docs/readthedocs.org:sktime` check. I don't know what is causing this but it must be recent since I remember this check passing few days ago.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nSee #4093, #4075, #4087 etc.\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4097/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4090", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4090/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4090/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4090/events", "html_url": "https://github.com/sktime/sktime/issues/4090", "id": 1527088080, "node_id": "I_kwDOCVKAsc5bBYPQ", "number": 4090, "title": "[BUG] BOSS classifier class names truncated during prediction", "user": {"login": "erjieyong", "id": 109052378, "node_id": "U_kgDOBoAB2g", "avatar_url": "https://avatars.githubusercontent.com/u/109052378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erjieyong", "html_url": "https://github.com/erjieyong", "followers_url": "https://api.github.com/users/erjieyong/followers", "following_url": "https://api.github.com/users/erjieyong/following{/other_user}", "gists_url": "https://api.github.com/users/erjieyong/gists{/gist_id}", "starred_url": "https://api.github.com/users/erjieyong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erjieyong/subscriptions", "organizations_url": "https://api.github.com/users/erjieyong/orgs", "repos_url": "https://api.github.com/users/erjieyong/repos", "events_url": "https://api.github.com/users/erjieyong/events{/privacy}", "received_events_url": "https://api.github.com/users/erjieyong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-10T09:56:26Z", "updated_at": "2023-01-12T20:59:18Z", "closed_at": "2023-01-12T20:59:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen calling `predict_proba` on IndividualBOSS classifier, sktime returns KeyError\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```\r\nimport pandas as pd\r\nimport numpy as np\r\nx = pd.Series(np.arange(1.0,10.0))\r\nnested_X = pd.DataFrame({\r\n  \"nested_X\":[x, x, x]\r\n})\r\ny = pd.Series(['01A', '02A', '01A'], dtype=\"string\", name=\"classes\")\r\n\r\nfrom sktime.transformations.panel.padder import PaddingTransformer\r\nfrom sktime.classification.dictionary_based import IndividualBOSS\r\n\r\niboss = IndividualBOSS()\r\niboss.fit(nested_X, y)\r\niboss.predict_proba(nested_X[0:1])\r\n```\r\n\r\n** Output behavior **\r\n```\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\nCell In[5], line 1\r\n----> 1 iboss.predict_proba(nested_X[0:1])\r\n\r\nFile c:\\Users\\anaconda3\\envs\\env\\lib\\site-packages\\sktime\\classification\\base.py:262, in BaseClassifier.predict_proba(self, X)\r\n    259     return self._single_class_y_pred(X, method=\"predict_proba\")\r\n    261 # call internal _predict_proba\r\n--> 262 return self._predict_proba(X)\r\n\r\nFile c:\\Users\\anaconda3\\envs\\env\\lib\\site-packages\\sktime\\classification\\base.py:572, in BaseClassifier._predict_proba(self, X)\r\n    570 dists = np.zeros((n_pred, self.n_classes_))\r\n    571 for i in range(n_pred):\r\n--> 572     dists[i, self._class_dictionary[preds[i]]] = 1\r\n    574 return dists\r\n\r\nKeyError: '0'\r\n```\r\n\r\n**Expected behavior**\r\nIt should return 1 of the 2 unique classes instead of '0'\r\n\r\n\r\n**Additional context**\r\nI manage to find out that this is due to numpy behavior of changing `str` type to '<U1' which truncates any string to only length of 1.  The particular line of code is at [link](https://github.com/sktime/sktime/blob/8fe509628405eaeaa6cbc26351e946c4a8a54687/sktime/classification/dictionary_based/_boss.py#L619)\r\n\r\nSuggest to change it to the following:\r\n\r\n```\r\nclasses = np.zeros(test_bags.shape[0], dtype=(lambda dtype: \"object\" if dtype == str else dtype)(type(self._class_vals[0])))\r\n```\r\n\r\nNeed advise here if I should submit a pull request? Not sure if there's any test cases to run through? Thanks. \r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.15 (default, Nov 24 2022, 14:38:14) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: c:\\Users\\kyunomi\\anaconda3\\envs\\cogpilot\\python.exe\r\n   machine: Windows-10-10.0.22621-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.3.1\r\n   setuptools: 65.5.0\r\n      sklearn: 1.2.0\r\n       sktime: 0.15.0\r\n  statsmodels: 0.13.5\r\n        numpy: 1.23.5\r\n        scipy: 1.10.0\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.3\r\n       joblib: 1.1.1\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.1\r\n      tsfresh: 0.20.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4090/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4088", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4088/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4088/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4088/events", "html_url": "https://github.com/sktime/sktime/issues/4088", "id": 1526622550, "node_id": "I_kwDOCVKAsc5a_mlW", "number": 4088, "title": "[BUG] Callbacks cause DL estimators to fail", "user": {"login": "aaronrmm", "id": 1742879, "node_id": "MDQ6VXNlcjE3NDI4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1742879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronrmm", "html_url": "https://github.com/aaronrmm", "followers_url": "https://api.github.com/users/aaronrmm/followers", "following_url": "https://api.github.com/users/aaronrmm/following{/other_user}", "gists_url": "https://api.github.com/users/aaronrmm/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronrmm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronrmm/subscriptions", "organizations_url": "https://api.github.com/users/aaronrmm/orgs", "repos_url": "https://api.github.com/users/aaronrmm/repos", "events_url": "https://api.github.com/users/aaronrmm/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronrmm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3471101012, "node_id": "LA_kwDOCVKAsc7O5MxU", "url": "https://api.github.com/repos/sktime/sktime/labels/module:regression", "name": "module:regression", "color": "943567", "default": false, "description": "regression module: time series regression"}], "state": "closed", "locked": false, "assignee": {"login": "aaronrmm", "id": 1742879, "node_id": "MDQ6VXNlcjE3NDI4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1742879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronrmm", "html_url": "https://github.com/aaronrmm", "followers_url": "https://api.github.com/users/aaronrmm/followers", "following_url": "https://api.github.com/users/aaronrmm/following{/other_user}", "gists_url": "https://api.github.com/users/aaronrmm/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronrmm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronrmm/subscriptions", "organizations_url": "https://api.github.com/users/aaronrmm/orgs", "repos_url": "https://api.github.com/users/aaronrmm/repos", "events_url": "https://api.github.com/users/aaronrmm/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronrmm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aaronrmm", "id": 1742879, "node_id": "MDQ6VXNlcjE3NDI4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1742879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronrmm", "html_url": "https://github.com/aaronrmm", "followers_url": "https://api.github.com/users/aaronrmm/followers", "following_url": "https://api.github.com/users/aaronrmm/following{/other_user}", "gists_url": "https://api.github.com/users/aaronrmm/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronrmm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronrmm/subscriptions", "organizations_url": "https://api.github.com/users/aaronrmm/orgs", "repos_url": "https://api.github.com/users/aaronrmm/repos", "events_url": "https://api.github.com/users/aaronrmm/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronrmm/received_events", "type": "User", "site_admin": false}, {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2023-01-10T01:44:02Z", "updated_at": "2023-01-26T15:27:47Z", "closed_at": "2023-01-26T15:27:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nConstructing a CNNClassifier with callbacks causes an error during training because the self.callbacks is never assigned to self._callbacks if self.callbacks is not None\r\nError:\r\n`AttributeError: 'CNNClassifier' object has no attribute '_callbacks'`\r\nproblem area: https://github.com/sktime/sktime/blob/8fe509628405eaeaa6cbc26351e946c4a8a54687/sktime/classification/deep_learning/cnn.py#L187\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nfrom sktime.classification.deep_learning import CNNClassifier\r\n\r\nmodel = CNNClassifier(callbacks=[])\r\nX_train = np.array(np.random.random((100, 1000)), dtype=np.float64)\r\ny_train = np.array(np.random.randint(0, 2, size=(100,)), dtype=np.float64)\r\nmodel.fit(X_train, y_train)\r\n```\r\n\r\n**Expected behavior**\r\nself.classifier should be assigned to self._classifier OR self.classifier is what should be accessed on line 187\r\n\r\n\r\n**Versions**\r\nsktime==0.15.0\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n```\r\nSystem:\r\n    python: 3.8.10 (default, Jun 22 2022, 20:18:18)  [GCC 9.4.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.10.16.3-microsoft-standard-WSL2-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n               pip: 22.3.1\r\n   setuptools: 65.5.1\r\n         sklearn: 1.2.0\r\n          sktime: 0.15.0\r\n statsmodels: 0.13.5\r\n         numpy: 1.23.5\r\n            scipy: 1.9.3\r\n         pandas: 1.5.2\r\n    matplotlib: 3.6.2\r\n           joblib: 1.2.0\r\n         numba: 0.56.4\r\n    pmdarima: 2.0.2\r\n          tsfresh: 0.19.0\r\nNone\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4082", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4082/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4082/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4082/events", "html_url": "https://github.com/sktime/sktime/issues/4082", "id": 1524180965, "node_id": "I_kwDOCVKAsc5a2Sfl", "number": 4082, "title": "[BUG] `ConformalIntervals` `update` fails when `sample_frac` is not None", "user": {"login": "bethrice44", "id": 11226988, "node_id": "MDQ6VXNlcjExMjI2OTg4", "avatar_url": "https://avatars.githubusercontent.com/u/11226988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bethrice44", "html_url": "https://github.com/bethrice44", "followers_url": "https://api.github.com/users/bethrice44/followers", "following_url": "https://api.github.com/users/bethrice44/following{/other_user}", "gists_url": "https://api.github.com/users/bethrice44/gists{/gist_id}", "starred_url": "https://api.github.com/users/bethrice44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bethrice44/subscriptions", "organizations_url": "https://api.github.com/users/bethrice44/orgs", "repos_url": "https://api.github.com/users/bethrice44/repos", "events_url": "https://api.github.com/users/bethrice44/events{/privacy}", "received_events_url": "https://api.github.com/users/bethrice44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-07T22:05:29Z", "updated_at": "2023-01-09T20:47:42Z", "closed_at": "2023-01-09T20:47:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`ConformalIntervals` `update` fails with an `IndexError` when `sample_frac` is not None because the overlapping index is not consistent between iterations (i.e. when doing `evaluate`).\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.conformal import ConformalIntervals\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.performance_metrics.forecasting.probabilistic import PinballLoss\r\n\r\ny = load_airline()\r\n\r\ncv = SlidingWindowSplitter(\r\n        fh=np.arange(1, 13),\r\n        window_length=48,\r\n        step_length=12,\r\n    )\r\n\r\nf = NaiveForecaster()\r\n\r\ninterval_forecaster = ConformalIntervals(f, initial_window=24, sample_frac=0.2)\r\n\r\nresults = evaluate(\r\n    forecaster=interval_forecaster,\r\n    cv=cv,\r\n    y=y,\r\n    X=None,\r\n    strategy=\"update\",\r\n    scoring=PinballLoss(alpha=[0.1, 0.5, 0.9]),\r\n    return_data=True,\r\n    error_score=\"raise\",\r\n    backend=None,\r\n)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nIf `sample_frac` is not None then the residuals matrix should just be recalculated for update (rather than extended). \r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.13 (default, May  8 2022, 17:48:02)  [Clang 13.1.6 (clang-1316.0.21.2)]\r\nexecutable: /Users/bethrice/Documents/Code/uk-ds-day-ahead-prices-forecast/.venv/bin/python\r\n   machine: macOS-12.1-arm64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 63.1.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.15.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.0\r\n        scipy: 1.8.1\r\n       pandas: 1.4.1\r\n   matplotlib: 3.6.0\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4067", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4067/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4067/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4067/events", "html_url": "https://github.com/sktime/sktime/issues/4067", "id": 1520214475, "node_id": "I_kwDOCVKAsc5anKHL", "number": 4067, "title": "[BUG] Initializing any DL estimator with non-default values constructs these values only superficially", "user": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3471101012, "node_id": "LA_kwDOCVKAsc7O5MxU", "url": "https://api.github.com/repos/sktime/sktime/labels/module:regression", "name": "module:regression", "color": "943567", "default": false, "description": "regression module: time series regression"}], "state": "closed", "locked": false, "assignee": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-01-05T07:12:54Z", "updated_at": "2023-01-11T15:03:51Z", "closed_at": "2023-01-11T15:03:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nA logical bug is present in all DL estimators and is caused by not passing custom parameters to its underlying `Network` since `Network` actually makes use of these values to create the DL model of appropriate size. Take a look at the example provided below.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom pprint import pprint\r\nfrom classification.deep_learning import CNNClassifier\r\n\r\nmodel = CNNClassifier(\r\n    kernel_size=3,\r\n    n_conv_layers=1,\r\n)\r\n\r\n# model.summary() fails due to self.history being None, another bug\r\n\r\npprint(vars(model))\r\nprint(\"==\"*25)\r\npprint(vars(model._network))\r\n```\r\n\r\nOutput:\r\n``` python\r\n{'_X_metadata': [],\r\n '_class_dictionary': {},\r\n '_estimator_type': 'classifier',\r\n '_is_fitted': False,\r\n '_network': CNNNetwork(),\r\n '_tags_dynamic': {},\r\n '_threads_to_use': 1,\r\n 'activation': 'sigmoid',\r\n 'avg_pool_size': 3,\r\n 'batch_size': 16,\r\n 'callbacks': None,\r\n 'classes_': [],\r\n 'fit_time_': 0,\r\n 'history': None,\r\n 'kernel_size': 3,\r\n 'loss': 'mean_squared_error',\r\n 'metrics': None,\r\n 'model_': None,\r\n 'n_classes_': 0,\r\n 'n_conv_layers': 1,\r\n 'n_epochs': 2000,\r\n 'optimizer': None,\r\n 'random_state': None,\r\n 'use_bias': True,\r\n 'verbose': False}\r\n==================================================\r\n{'_tags_dynamic': {},\r\n 'activation': 'sigmoid',\r\n 'avg_pool_size': 3,\r\n 'filter_sizes': [6, 12],\r\n 'kernel_size': 7,\r\n 'n_conv_layers': 2,\r\n 'random_state': 0}\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThis is happening because of `self._network = CNNNetwork()` (or corresponding Network) in the constructor of the estimator. The values that we receive are to be passed into the Network.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nI'm speculating this is the reason why the checks at #4036 are failing despite having very small hyperparameters. In any case, I'll open a PR to resolve this bug.\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n```\r\nD:\\Anaconda\\envs\\sktime-dev\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n\r\nSystem:\r\n    python: 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 05:59:00) [MSC v.1929 64 bit (AMD64)]\r\nexecutable: D:\\Anaconda\\envs\\sktime-dev\\python.exe\r\n   machine: Windows-10-10.0.22621-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.3.1\r\n   setuptools: 65.5.1\r\n      sklearn: 1.1.3\r\n       sktime: 0.15.0\r\n  statsmodels: 0.13.5\r\n        numpy: 1.22.4\r\n        scipy: 1.9.3\r\n       pandas: 1.5.1\r\n   matplotlib: 3.6.2\r\n       joblib: 1.2.0\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.1\r\n      tsfresh: 0.19.0\r\n```\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4067/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/4033", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/4033/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/4033/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/4033/events", "html_url": "https://github.com/sktime/sktime/issues/4033", "id": 1515192463, "node_id": "I_kwDOCVKAsc5aUACP", "number": 4033, "title": "[BUG] LSTM deep learning estimators failing CI on windows", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-12-31T19:50:29Z", "updated_at": "2023-01-15T16:56:54Z", "closed_at": "2023-01-15T16:56:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since recently, a failure of two deep learning estimators has been appearing on windows CI:\r\n```\r\nFAILED sktime/tests/test_all_estimators.py::TestAllEstimators::test_methods_have_no_side_effects[MLPClassifier-1-ClassifierFitPredictMultivariate-predict]\r\nFAILED sktime/tests/test_all_estimators.py::TestAllEstimators::test_methods_have_no_side_effects[LSTMFCNClassifier-0-ClassifierFitPredictMultivariate-predict]\r\n```\r\n\r\nNote that the failure appears to be only on python 3.9, but this is due to the matrix design which spreads estimators across version/OS combinations.\r\n\r\nIn theory, it could be a 3.9 specific failure, but I think that is less likely than windows specifity (although it may be worth to test that by turning the `matrixdesign` flag off in the CI).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/4033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/4033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3994", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3994/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3994/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3994/events", "html_url": "https://github.com/sktime/sktime/issues/3994", "id": 1510178968, "node_id": "I_kwDOCVKAsc5aA4CY", "number": 3994, "title": "[BUG] Tensorflow failing on macOS", "user": {"login": "dainelli98", "id": 41579363, "node_id": "MDQ6VXNlcjQxNTc5MzYz", "avatar_url": "https://avatars.githubusercontent.com/u/41579363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dainelli98", "html_url": "https://github.com/dainelli98", "followers_url": "https://api.github.com/users/dainelli98/followers", "following_url": "https://api.github.com/users/dainelli98/following{/other_user}", "gists_url": "https://api.github.com/users/dainelli98/gists{/gist_id}", "starred_url": "https://api.github.com/users/dainelli98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dainelli98/subscriptions", "organizations_url": "https://api.github.com/users/dainelli98/orgs", "repos_url": "https://api.github.com/users/dainelli98/repos", "events_url": "https://api.github.com/users/dainelli98/events{/privacy}", "received_events_url": "https://api.github.com/users/dainelli98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-12-24T19:34:46Z", "updated_at": "2022-12-31T20:34:25Z", "closed_at": "2022-12-31T20:34:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When following development environment setup guide in sktime documentation, conda installation was not able to run properly on macOS doe to missing tensorflow-macos dependency.\r\n\r\nTo reproduce the issue run on macOS:\r\n```shell\r\n$ conda create -n sktime-dev python=3.8\r\n$ conda activate sktime-dev\r\n$ pip install -e .\"[all_extras,dev]\"\r\n$ make test\r\nzsh: illegal hardware instruction\r\n```\r\n\r\nA factor that can complicate things is that tensorflow-macos cannot be installed using Python 3.8.\r\n\r\nPossible solutions can be adding a warning to sktime documentation or adjusting pyproject.toml to tackle this issue.\r\n\r\nThe expected behavior would be to run successfully all tests after initial installation.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3994/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3989", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3989/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3989/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3989/events", "html_url": "https://github.com/sktime/sktime/pull/3989", "id": 1509469915, "node_id": "PR_kwDOCVKAsc5GIGl1", "number": 3989, "title": "[BUG] Fix wrong tag in FeatureSelection and add tests", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-23T15:30:56Z", "updated_at": "2023-02-01T18:28:46Z", "closed_at": "2023-01-31T18:17:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3989", "html_url": "https://github.com/sktime/sktime/pull/3989", "diff_url": "https://github.com/sktime/sktime/pull/3989.diff", "patch_url": "https://github.com/sktime/sktime/pull/3989.patch", "merged_at": null}, "body": "\r\n#### What does this implement/fix? Explain your changes.\r\nA tag was set wrongly in `FeatureSelection` as it can also return `None` in `transform` if `method=\"none\"`.\r\nAdded unit tests for `FeatureSelection`\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\nNo\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3989/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3986", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3986/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3986/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3986/events", "html_url": "https://github.com/sktime/sktime/issues/3986", "id": 1509242771, "node_id": "I_kwDOCVKAsc5Z9TeT", "number": 3986, "title": "[BUG] ForecastX is returning wrong predictions", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2022-12-23T11:35:01Z", "updated_at": "2022-12-30T14:09:09Z", "closed_at": "2022-12-30T14:09:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`ForecastX` returns weird predictions, when I recreate the composition manually I get different results, see below.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.arima import ARIMA\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.compose import ForecastX\r\nfrom sktime.forecasting.var import VAR\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nimport pandas as pd\r\n\r\ny, X = load_longley()\r\ny_train, y_test, X_train, X_test = temporal_train_test_split(y, X, test_size=3)\r\nfh = ForecastingHorizon([1, 2, 3])\r\ncolumns=[\"ARMED\", \"POP\"]\r\n\r\n# ForecastX\r\npipe = ForecastX(  \r\n    forecaster_X=VAR(),\r\n    forecaster_y=ARIMA(),\r\n    columns=columns,\r\n)\r\npipe = pipe.fit(y_train, X=X_train, fh=fh) \r\n# dropping [\"ARMED\", \"POP\"] as those are the columns where we expect not to have future values\r\ny_pred = pipe.predict(fh=fh, X=X_test.drop(columns=columns))\r\ny_pred.to_frame()\r\n```\r\n<html>\r\n<body>\r\n<!--StartFragment-->\r\n\r\n\u00a0 | 0\r\n-- | --\r\n-285606.156664\r\n-276594.299226\r\n-267325.354023\r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>\r\n\r\n**Expected behavior**\r\n\r\nExpected would be following, recreated manually:\r\n```python\r\n# fit y forecaster\r\narima = ARIMA().fit(y_train, X=X_train)\r\n\r\n# fit and predict X forecaster\r\nvar = VAR()\r\nvar.fit(X_train[columns])\r\nvar_pred = var.predict(fh)\r\n\r\n# predict y forecaster with predictions from VAR\r\nX_pred = pd.concat([X_test.drop(columns=columns), var_pred], axis=1)\r\narima.predict(fh=fh, X=X_pred).to_frame()\r\n```\r\n<html>\r\n<body>\r\n<!--StartFragment-->\r\n\r\n\u00a0 | 0\r\n-- | --\r\n70085.541848\r\n70073.339809\r\n72665.367272\r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>\r\n\r\nThis makes more sense if we look into what plain `ARIMA` is forecasting:\r\n```python\r\narima = ARIMA()\r\narima.fit(y=y_train, X=X_train, fh=fh)\r\narima.predict(X=X_test).to_frame()\r\n```\r\n<html>\r\n<body>\r\n<!--StartFragment-->\r\n\r\n\u00a0 | 0\r\n-- | --\r\n70372.810378\r\n70873.888217\r\n73678.534405\r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>\r\n\r\n**Additional context**\r\nI am wonderind how I can use `ForecastX` in `evaluate`? The `X` will be always given with all columns but I want to be sure that `ForecastX` is overwriting the given `columns` in `X` in `predict` so that `forecaster_y` gets the predictions of `forecaster_X` appended with the other columns as input (see above where I reproduced the `ForecastX` coposition manually and use `append`). So even if `X` is given in `predict` with all columns it should overwrite the `columns` specified in `ForecastX(columns=[...])`- is that already like that?\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.10 (default, Jun 22 2022, 20:18:18)  [GCC 9.4.0]\r\nexecutable: /local_disk0/.ephemeral_nfs/envs/pythonEnv-8a6aed3a-d844-4ca9-bc34-194086d0db32/bin/python\r\n   machine: Linux-5.4.0-1090-azure-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0\r\n      sklearn: 0.24.1\r\n       sktime: 0.15.0\r\n  statsmodels: 0.13.5\r\n        numpy: 1.22.4\r\n        scipy: 1.6.2\r\n       pandas: 1.2.4\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.56.4\r\n     pmdarima: 2.0.2\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3984", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3984/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3984/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3984/events", "html_url": "https://github.com/sktime/sktime/issues/3984", "id": 1508791903, "node_id": "I_kwDOCVKAsc5Z7lZf", "number": 3984, "title": "[BUG] default `_predict_proba` in `BaseClusterer` breaks for some mtypes", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102332684, "node_id": "MDU6TGFiZWwzMTAyMzMyNjg0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:clustering", "name": "module:clustering", "color": "8C1AAB", "default": false, "description": "clustering module: time series clustering"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-23T02:21:49Z", "updated_at": "2022-12-30T14:07:31Z", "closed_at": "2022-12-30T14:07:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The default `_predict_proba` in `BaseClusterer` breaks for some mtypes, as it uses `len(X)` as a proxy for the length of the expected return. However, this is correct only when `X` is a container where the first index length is number of instances - this is wrong, e.g., for `pd-multiindex`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3983", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3983/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3983/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3983/events", "html_url": "https://github.com/sktime/sktime/issues/3983", "id": 1508765068, "node_id": "I_kwDOCVKAsc5Z7e2M", "number": 3983, "title": "[BUG] build tag in README looks odd, possibly needs fixing", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-23T01:39:55Z", "updated_at": "2022-12-28T11:36:51Z", "closed_at": "2022-12-28T11:36:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The build tag in the README looks strange and should be fixed:\r\n\r\n![image](https://user-images.githubusercontent.com/7985502/209253787-40ce6a56-671d-4115-8006-90a18276cf30.png)\r\n\r\nNot sure what's going on there or since when. It is also odd that a click on it leads back to year old build runs.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3961", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3961/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3961/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3961/events", "html_url": "https://github.com/sktime/sktime/issues/3961", "id": 1504463167, "node_id": "I_kwDOCVKAsc5ZrEk_", "number": 3961, "title": "[BUG] EnsembleForecaster fails to fit with exogenous data on hierarchical data", "user": {"login": "shagn", "id": 16029092, "node_id": "MDQ6VXNlcjE2MDI5MDky", "avatar_url": "https://avatars.githubusercontent.com/u/16029092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shagn", "html_url": "https://github.com/shagn", "followers_url": "https://api.github.com/users/shagn/followers", "following_url": "https://api.github.com/users/shagn/following{/other_user}", "gists_url": "https://api.github.com/users/shagn/gists{/gist_id}", "starred_url": "https://api.github.com/users/shagn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shagn/subscriptions", "organizations_url": "https://api.github.com/users/shagn/orgs", "repos_url": "https://api.github.com/users/shagn/repos", "events_url": "https://api.github.com/users/shagn/events{/privacy}", "received_events_url": "https://api.github.com/users/shagn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-20T12:10:53Z", "updated_at": "2022-12-20T19:51:05Z", "closed_at": "2022-12-20T19:51:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nAfter upgrading sktime from version 0.12 to 0.14 the fitting of an EnsembleForecaster on a hierarchical dataset fails when receiving exogenous data. \r\nWithout exogeneous data the fitting works without problems. \r\nIt fails with exogeneous data if the models are using the exogeneous data or not. \r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd\r\n\r\nfrom sktime.utils._testing.hierarchical import _make_hierarchical\r\nfrom sktime.forecasting.compose import EnsembleForecaster\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster\r\n\r\ndata = _make_hierarchical(\r\n    hierarchy_levels = (2, 4),\r\n    n_columns = 2,\r\n    min_timepoints = 38,\r\n    max_timepoints = 38, \r\n    index_type = \"period\",\r\n)\r\n\r\ntarget_col = \"c0\"\r\ny_train = data.loc[:, [target_col]]\r\nX_train =  data.drop(columns=[target_col])\r\n\r\nforecasters = [    \r\n    (\"trend\", PolynomialTrendForecaster()),\r\n    (\"naive\", NaiveForecaster(strategy=\"last\", sp=12)),\r\n]\r\nforecaster = EnsembleForecaster(forecasters=forecasters)\r\n\r\nforecaster.fit(y=y_train, X=X_train)\r\n```\r\n![image](https://user-images.githubusercontent.com/16029092/208664020-95342334-997a-4993-9bb9-cf639dce546f.png)\r\n\r\n**Expected behavior**\r\nThe EnsembleForecaster works also with exogenous data. \r\n\r\n**Additional context**\r\nNone\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 11:38:47)  [GCC 7.5.0]\r\nexecutable: /anaconda/envs/.../bin/python\r\n   machine: Linux-5.15.0-1022-azure-x86_64-with-glibc2.17\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 65.5.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.4.4\r\n   matplotlib: 3.6.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.4\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3961/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3913", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3913/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3913/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3913/events", "html_url": "https://github.com/sktime/sktime/issues/3913", "id": 1485443954, "node_id": "I_kwDOCVKAsc5YihNy", "number": 3913, "title": "[BUG] Using `update` with `SlidingWindowSplitter` for `ConformalIntervals` gives a KeyError", "user": {"login": "bethrice44", "id": 11226988, "node_id": "MDQ6VXNlcjExMjI2OTg4", "avatar_url": "https://avatars.githubusercontent.com/u/11226988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bethrice44", "html_url": "https://github.com/bethrice44", "followers_url": "https://api.github.com/users/bethrice44/followers", "following_url": "https://api.github.com/users/bethrice44/following{/other_user}", "gists_url": "https://api.github.com/users/bethrice44/gists{/gist_id}", "starred_url": "https://api.github.com/users/bethrice44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bethrice44/subscriptions", "organizations_url": "https://api.github.com/users/bethrice44/orgs", "repos_url": "https://api.github.com/users/bethrice44/repos", "events_url": "https://api.github.com/users/bethrice44/events{/privacy}", "received_events_url": "https://api.github.com/users/bethrice44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-08T21:37:03Z", "updated_at": "2022-12-21T10:43:58Z", "closed_at": "2022-12-21T10:43:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using `update` with a `SlidingWindowSplitter` (or equivalent CV which misses initial data in subsequent folds), the `ConformalIntervals` wrapper throws a KeyError. \r\n\r\nThis is because of [this line](https://github.com/sktime/sktime/blob/aea3e7a353e13f6990700c3400c232733728893d/sktime/forecasting/conformal.py#L382) which aims to avoid recalculation of parts of the `residuals_matrix` which have already been calculated. When it is used with a sliding window there is index in the initial matrix not in the new one, hence the KeyError.\r\n\r\nI will make a PR to fix. \r\n\r\n**To Reproduce**\r\n\r\n\r\n```python\r\n\r\nfrom sktime.forecasting.conformal import ConformalIntervals\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.performance_metrics.forecasting.probabilistic import PinballLoss\r\n\r\ny = load_airline()\r\n\r\ncv = SlidingWindowSplitter(\r\n            fh=np.arange(1, 13),\r\n            window_length=48,\r\n            step_length=12,\r\n        )\r\n\r\nforecaster = NaiveForecaster()\r\n\r\nconformal_forecaster = ConformalIntervals(forecaster, initial_window=24)\r\n\r\nresults = evaluate(\r\n        forecaster=conformal_forecaster,\r\n        cv=cv,\r\n        y=y,\r\n        X=None,\r\n        strategy=\"update\",\r\n        scoring=PinballLoss(alpha=[0.1, 0.5, 0.9]),\r\n        return_data=True,\r\n        error_score=\"raise\",\r\n        backend=None,\r\n    )\r\n```\r\n\r\n**Expected behavior**\r\nNo KeyError and the matrix updated properly without recalculation. \r\n\r\n**Additional context**\r\n\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.8.13 (default, May  8 2022, 17:48:02)  [Clang 13.1.6 (clang-1316.0.21.2)]\r\nexecutable: /Users/bethrice/Documents/Code/uk-ds-day-ahead-prices-forecast/.venv/bin/python\r\n   machine: macOS-12.1-arm64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 63.1.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.0\r\n        scipy: 1.8.1\r\n       pandas: 1.4.1\r\n   matplotlib: 3.6.0\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3913/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3913/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3897", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3897/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3897/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3897/events", "html_url": "https://github.com/sktime/sktime/issues/3897", "id": 1479504159, "node_id": "I_kwDOCVKAsc5YL3Ef", "number": 3897, "title": "[BUG] TBATS Prediction Quantiles", "user": {"login": "benxmarshall", "id": 119953004, "node_id": "U_kgDOByZWbA", "avatar_url": "https://avatars.githubusercontent.com/u/119953004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benxmarshall", "html_url": "https://github.com/benxmarshall", "followers_url": "https://api.github.com/users/benxmarshall/followers", "following_url": "https://api.github.com/users/benxmarshall/following{/other_user}", "gists_url": "https://api.github.com/users/benxmarshall/gists{/gist_id}", "starred_url": "https://api.github.com/users/benxmarshall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benxmarshall/subscriptions", "organizations_url": "https://api.github.com/users/benxmarshall/orgs", "repos_url": "https://api.github.com/users/benxmarshall/repos", "events_url": "https://api.github.com/users/benxmarshall/events{/privacy}", "received_events_url": "https://api.github.com/users/benxmarshall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-06T16:13:11Z", "updated_at": "2022-12-06T16:59:15Z", "closed_at": "2022-12-06T16:59:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nTBATS is listed as having prediction quantiles and intervals in online documentation, but they dont exist in the actual package.\r\n\r\nWould be great if this could be added as a feature.\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3897/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3889", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3889/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3889/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3889/events", "html_url": "https://github.com/sktime/sktime/issues/3889", "id": 1477202400, "node_id": "I_kwDOCVKAsc5YDFHg", "number": 3889, "title": "[BUG] Error when fitting `ConformalIntervals` with `AutoEnsembleForecaster`", "user": {"login": "chillerobscuro", "id": 5232872, "node_id": "MDQ6VXNlcjUyMzI4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5232872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chillerobscuro", "html_url": "https://github.com/chillerobscuro", "followers_url": "https://api.github.com/users/chillerobscuro/followers", "following_url": "https://api.github.com/users/chillerobscuro/following{/other_user}", "gists_url": "https://api.github.com/users/chillerobscuro/gists{/gist_id}", "starred_url": "https://api.github.com/users/chillerobscuro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chillerobscuro/subscriptions", "organizations_url": "https://api.github.com/users/chillerobscuro/orgs", "repos_url": "https://api.github.com/users/chillerobscuro/repos", "events_url": "https://api.github.com/users/chillerobscuro/events{/privacy}", "received_events_url": "https://api.github.com/users/chillerobscuro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-05T18:50:47Z", "updated_at": "2022-12-07T18:07:26Z", "closed_at": "2022-12-07T18:07:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nCombining forecasters in an `AutoEnsembleForecaster` which makes good predictions. I'd like to get conformal predictions for the same ensembled model. It's returning an error related to `_split()`, and I'm treating the Ensemble as a regular forecaster and following the example in the [CI Docs](https://www.sktime.org/en/stable/api_reference/auto_generated/sktime.forecasting.conformal.ConformalIntervals.html).\r\n\r\nLooks like there is some parallelism when trying to `_compute_sliding_residuals`, which overly divides the training series. I wonder if there's a straightforward way to avoid this in Ensemble models which may have an arbitrary number of child models, but I haven't dove into the deep logic. I could imagine there are issues with aggregating in sample forecasts for ensemble models but this would be a great feature to have if possible.\r\n\r\nOn further digging, it seems to work if `len(ytrain)` > `10*len(fh)`. I suppose there might be 10x parallelism. Perhaps we could check the `len`s and reduce `n_jobs` or similar, or provide an explicit warning if there are unavoidable length requirements.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.conformal import ConformalIntervals\r\nfrom sktime.forecasting.compose import AutoEnsembleForecaster\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.forecasting.arima import ARIMA\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\n\r\ny = load_airline()\r\nytrain, ytest = temporal_train_test_split(y, test_size=24)\r\nprint(len(ytrain), len(ytest))\r\n\r\nfh = ForecastingHorizon(ytest.index, is_relative=False)\r\n\r\nes = ExponentialSmoothing(sp=12)\r\nar = ARIMA()\r\n\r\nforecasters = [\r\n    (\"AR\", ar),\r\n    (\"ES\", es)\r\n]\r\n\r\nae = AutoEnsembleForecaster(forecasters=forecasters, test_size=24, method='inverse-variance')\r\n\r\nconformal_forecaster = ConformalIntervals(ae)\r\nconformal_forecaster.fit(ytrain, fh=fh)\r\n```\r\nOutput:\r\n```\r\n120 24\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\nInput In [1], in <cell line: 26>()\r\n     23 ae = AutoEnsembleForecaster(forecasters=forecasters, test_size=24, method='inverse-variance')\r\n     25 conformal_forecaster = ConformalIntervals(ae)\r\n---> 26 conformal_forecaster.fit(ytrain, fh=fh)\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/base/_base.py:303, in BaseForecaster.fit(self, y, X, fh)\r\n    301 # we call the ordinary _fit if no looping/vectorization needed\r\n    302 if not vectorization_needed:\r\n--> 303     self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    304 else:\r\n    305     # otherwise we call the vectorized version of fit\r\n    306     self._vectorize(\"fit\", y=y_inner, X=X_inner, fh=fh)\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/conformal.py:150, in ConformalIntervals._fit(self, y, X, fh)\r\n    147 self.forecaster_.fit(y=y, X=X, fh=fh)\r\n    149 if self.fh_early_:\r\n--> 150     self.residuals_matrix_ = self._compute_sliding_residuals(\r\n    151         y=y,\r\n    152         X=X,\r\n    153         forecaster=self.forecaster,\r\n    154         initial_window=self.initial_window,\r\n    155         sample_frac=self.sample_frac,\r\n    156     )\r\n    158 return self\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/conformal.py:411, in ConformalIntervals._compute_sliding_residuals(self, y, X, forecaster, initial_window, sample_frac, update)\r\n    405         warn(\r\n    406             f\"Couldn't predict after fitting on time series of length \\\r\n    407                          {len(y_train)}.\\n\"\r\n    408         )\r\n    409     return residuals\r\n--> 411 all_residuals = Parallel(n_jobs=self.n_jobs)(\r\n    412     delayed(_get_residuals_matrix_row)(forecaster.clone(), y, X, id)\r\n    413     for id in y_index\r\n    414 )\r\n    415 for idx, id in enumerate(y_index):\r\n    416     residuals_matrix.loc[id] = all_residuals[idx]\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/parallel.py:1043, in Parallel.__call__(self, iterable)\r\n   1034 try:\r\n   1035     # Only set self._iterating to True if at least a batch\r\n   1036     # was dispatched. In particular this covers the edge\r\n   (...)\r\n   1040     # was very quick and its callback already dispatched all the\r\n   1041     # remaining jobs.\r\n   1042     self._iterating = False\r\n-> 1043     if self.dispatch_one_batch(iterator):\r\n   1044         self._iterating = self._original_iterator is not None\r\n   1046     while self.dispatch_one_batch(iterator):\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/parallel.py:861, in Parallel.dispatch_one_batch(self, iterator)\r\n    859     return False\r\n    860 else:\r\n--> 861     self._dispatch(tasks)\r\n    862     return True\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/parallel.py:779, in Parallel._dispatch(self, batch)\r\n    777 with self._lock:\r\n    778     job_idx = len(self._jobs)\r\n--> 779     job = self._backend.apply_async(batch, callback=cb)\r\n    780     # A job can complete so quickly than its callback is\r\n    781     # called before we get here, causing self._jobs to\r\n    782     # grow. To ensure correct results ordering, .insert is\r\n    783     # used (rather than .append) in the following line\r\n    784     self._jobs.insert(job_idx, job)\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/_parallel_backends.py:208, in SequentialBackend.apply_async(self, func, callback)\r\n    206 def apply_async(self, func, callback=None):\r\n    207     \"\"\"Schedule a func to be run\"\"\"\r\n--> 208     result = ImmediateResult(func)\r\n    209     if callback:\r\n    210         callback(result)\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/_parallel_backends.py:572, in ImmediateResult.__init__(self, batch)\r\n    569 def __init__(self, batch):\r\n    570     # Don't delay the application, to avoid keeping the input\r\n    571     # arguments in memory\r\n--> 572     self.results = batch()\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/parallel.py:262, in BatchedCalls.__call__(self)\r\n    258 def __call__(self):\r\n    259     # Set the default nested backend to self._backend but do not set the\r\n    260     # change the default number of processes to -1\r\n    261     with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n--> 262         return [func(*args, **kwargs)\r\n    263                 for func, args, kwargs in self.items]\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/joblib/parallel.py:262, in <listcomp>(.0)\r\n    258 def __call__(self):\r\n    259     # Set the default nested backend to self._backend but do not set the\r\n    260     # change the default number of processes to -1\r\n    261     with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n--> 262         return [func(*args, **kwargs)\r\n    263                 for func, args, kwargs in self.items]\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/conformal.py:400, in ConformalIntervals._compute_sliding_residuals.<locals>._get_residuals_matrix_row(forecaster, y, X, id)\r\n    398 X_train = get_slice(X, start=None, end=id)\r\n    399 X_test = get_slice(X, start=id, end=None)\r\n--> 400 forecaster.fit(y_train, X=X_train, fh=y_test.index)\r\n    402 try:\r\n    403     residuals = forecaster.predict_residuals(y_test, X_test)\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/base/_base.py:303, in BaseForecaster.fit(self, y, X, fh)\r\n    301 # we call the ordinary _fit if no looping/vectorization needed\r\n    302 if not vectorization_needed:\r\n--> 303     self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    304 else:\r\n    305     # otherwise we call the vectorized version of fit\r\n    306     self._vectorize(\"fit\", y=y_inner, X=X_inner, fh=fh)\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/compose/_ensemble.py:157, in AutoEnsembleForecaster._fit(self, y, X, fh)\r\n    153     y_train, y_test, X_train, X_test = temporal_train_test_split(\r\n    154         y, X, test_size=self.test_size\r\n    155     )\r\n    156 else:\r\n--> 157     y_train, y_test = temporal_train_test_split(y, test_size=self.test_size)\r\n    158     X_train, X_test = None, None\r\n    160 # fit ensemble models\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sktime/forecasting/model_selection/_split.py:1445, in temporal_train_test_split(y, X, test_size, train_size, fh)\r\n   1443 else:\r\n   1444     series = (y,) if X is None else (y, X)\r\n-> 1445     return _train_test_split(\r\n   1446         *series,\r\n   1447         shuffle=False,\r\n   1448         stratify=None,\r\n   1449         test_size=test_size,\r\n   1450         train_size=train_size,\r\n   1451     )\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sklearn/model_selection/_split.py:2448, in train_test_split(test_size, train_size, random_state, shuffle, stratify, *arrays)\r\n   2445 arrays = indexable(*arrays)\r\n   2447 n_samples = _num_samples(arrays[0])\r\n-> 2448 n_train, n_test = _validate_shuffle_split(\r\n   2449     n_samples, test_size, train_size, default_test_size=0.25\r\n   2450 )\r\n   2452 if shuffle is False:\r\n   2453     if stratify is not None:\r\n\r\nFile ~/Code/ts/notebooks/tsdl/lib/python3.9/site-packages/sklearn/model_selection/_split.py:2071, in _validate_shuffle_split(n_samples, test_size, train_size, default_test_size)\r\n   2063 train_size_type = np.asarray(train_size).dtype.kind\r\n   2065 if (\r\n   2066     test_size_type == \"i\"\r\n   2067     and (test_size >= n_samples or test_size <= 0)\r\n   2068     or test_size_type == \"f\"\r\n   2069     and (test_size <= 0 or test_size >= 1)\r\n   2070 ):\r\n-> 2071     raise ValueError(\r\n   2072         \"test_size={0} should be either positive and smaller\"\r\n   2073         \" than the number of samples {1} or a float in the \"\r\n   2074         \"(0, 1) range\".format(test_size, n_samples)\r\n   2075     )\r\n   2077 if (\r\n   2078     train_size_type == \"i\"\r\n   2079     and (train_size >= n_samples or train_size <= 0)\r\n   2080     or train_size_type == \"f\"\r\n   2081     and (train_size <= 0 or train_size >= 1)\r\n   2082 ):\r\n   2083     raise ValueError(\r\n   2084         \"train_size={0} should be either positive and smaller\"\r\n   2085         \" than the number of samples {1} or a float in the \"\r\n   2086         \"(0, 1) range\".format(train_size, n_samples)\r\n   2087     )\r\n\r\nValueError: test_size=24 should be either positive and smaller than the number of samples 12 or a float in the (0, 1) range\r\n```\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n-->\r\nversion: 0.14.0\r\n</details>\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3880", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3880/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3880/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3880/events", "html_url": "https://github.com/sktime/sktime/issues/3880", "id": 1474158394, "node_id": "I_kwDOCVKAsc5X3d86", "number": 3880, "title": "[BUG] DrCIF crashes when multithreaded", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-03T17:09:29Z", "updated_at": "2022-12-04T12:55:02Z", "closed_at": "2022-12-04T12:55:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "running DrCIF on Tiselac data with 90 threads causes an error to be thrown. \r\n\r\n```\r\n        from sktime.benchmarking.experiments import load_and_run_classification_experiment\r\n        from sktime.classification.interval_based import DrCIF\r\n        data_dir = \"/WhereDataIs/\"\r\n        results_dir = \"WhereToWriteData/\"\r\n        cls_name = \"DrCIF\"\r\n        n_jobs = 90\r\n        contract_mins = 0\r\n        dataset = \"Tiselac\"\r\n        print(f\" Local Run of {cls_name} on dataset {dataset} with threading jobs \"\r\n              f\"={ n_jobs} and \"\r\n              f\"contract time ={contract_mins}\")\r\n        classifier = DrCIF(n_jobs=n_jobs)\r\n        resample = 0\r\n        train_fold = True\r\n        predefined_resample = False\r\n        print(f\"Local Run of {classifier.__class__.__name__} with {classifier.n_jobs} jobs\")\r\n\r\n        load_and_run_classification_experiment(\r\n            overwrite=False,\r\n            problem_path=data_dir,\r\n            results_path=results_dir,\r\n            cls_name=cls_name,\r\n            classifier=classifier,\r\n            dataset=dataset,\r\n            resample_id=resample,\r\n            build_train=train_fold,\r\n            predefined_resample=predefined_resample,\r\n        )\r\n```\r\n\r\nFrom previous experience with Parallel we suspect it is to do with the Parallel backend, which should be set to threads, hence PR #3879\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/205452827-0040707c-61b9-4dbc-9b61-ef2e61944399.png)\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3831", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3831/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3831/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3831/events", "html_url": "https://github.com/sktime/sktime/issues/3831", "id": 1463592638, "node_id": "I_kwDOCVKAsc5XPKa-", "number": 3831, "title": "[BUG] Ensemble model cant be loaded after pickle", "user": {"login": "mateocomba123", "id": 72084989, "node_id": "MDQ6VXNlcjcyMDg0OTg5", "avatar_url": "https://avatars.githubusercontent.com/u/72084989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateocomba123", "html_url": "https://github.com/mateocomba123", "followers_url": "https://api.github.com/users/mateocomba123/followers", "following_url": "https://api.github.com/users/mateocomba123/following{/other_user}", "gists_url": "https://api.github.com/users/mateocomba123/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateocomba123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateocomba123/subscriptions", "organizations_url": "https://api.github.com/users/mateocomba123/orgs", "repos_url": "https://api.github.com/users/mateocomba123/repos", "events_url": "https://api.github.com/users/mateocomba123/events{/privacy}", "received_events_url": "https://api.github.com/users/mateocomba123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-24T16:37:37Z", "updated_at": "2022-11-27T18:09:28Z", "closed_at": "2022-11-27T18:09:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have .pkl files generated from EnsembleForecaster class models of Sktime, pickled them with:\r\n\r\npickle.dump(model, 'final_ensemble.pkl', 'wb')\r\n\r\nand then load it with:\r\n\r\npickled_model = pickle.load(open('final_ensemble.pkl', 'rb'))\r\n\r\nBut when I call the .predict method it says that 'Series' object has no attribute 'predict'\r\n\r\nI think the model somehow was serialized but couldnt be unserialized\r\n\r\nIs there anything I am doing wrong or workaround to solve this issue?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3831/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3830", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3830/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3830/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3830/events", "html_url": "https://github.com/sktime/sktime/issues/3830", "id": 1461855730, "node_id": "I_kwDOCVKAsc5XIiXy", "number": 3830, "title": "[BUG] `model_evaluation.evaluate` fails for `statsmodels` forecasters with exogenous features", "user": {"login": "adoherty21", "id": 52799751, "node_id": "MDQ6VXNlcjUyNzk5NzUx", "avatar_url": "https://avatars.githubusercontent.com/u/52799751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adoherty21", "html_url": "https://github.com/adoherty21", "followers_url": "https://api.github.com/users/adoherty21/followers", "following_url": "https://api.github.com/users/adoherty21/following{/other_user}", "gists_url": "https://api.github.com/users/adoherty21/gists{/gist_id}", "starred_url": "https://api.github.com/users/adoherty21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adoherty21/subscriptions", "organizations_url": "https://api.github.com/users/adoherty21/orgs", "repos_url": "https://api.github.com/users/adoherty21/repos", "events_url": "https://api.github.com/users/adoherty21/events{/privacy}", "received_events_url": "https://api.github.com/users/adoherty21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-23T14:21:00Z", "updated_at": "2022-12-31T11:49:17Z", "closed_at": "2022-12-31T11:49:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nmodel_evaluation.evaluate creates X_test containing both train and test samples.  For statsmodels models with exogenous features X_test length must equal the forecast horizon and therefore this currently throws the error:\r\n\r\n`ValueError: Provided exogenous values are not of the appropriate shape.`\r\n\r\nThis bug occurs for UnobservedComponents and SARIMAX.\r\n\r\nThe root cause of the bug is in the `_split` function:\r\nhttps://github.com/sktime/sktime/blob/a5f824a5fff1c3fc1babd3f34b94c5055ec040b0/sktime/forecasting/model_evaluation/_functions.py#L60\r\n\r\nThis could be modified to 'X.iloc[test].sort_index()' for statsmodels models with exogenous features or alternatively by filtering X here:\r\nhttps://github.com/sktime/sktime/blob/a5f824a5fff1c3fc1babd3f34b94c5055ec040b0/sktime/forecasting/base/adapters/_statsmodels.py#L104\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.structural import UnobservedComponents\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\n\r\ny, X = load_longley()\r\n\r\nforecaster = UnobservedComponents(level='local linear trend')\r\n\r\ncv = SlidingWindowSplitter(fh=[1,2,3],\r\n                           window_length = 4,\r\n                           step_length = 1)\r\n\r\nresults = evaluate(\r\n        forecaster=forecaster, y=y, X = X,\r\n        cv=cv, strategy='refit', return_data=True,\r\n        error_score = 'raise'\r\n        )\r\n```\r\n\r\n**Versions**\r\n\r\nSystem:\r\npython: 3.8.12 (default, Nov 20 2022, 10:50:06)  [Clang 14.0.0 (clang-1400.0.29.202)]\r\nmachine: macOS-13.0.1-arm64-arm-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.2\r\n   setuptools: 63.1.0\r\n      sklearn: 1.1.3\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.5\r\n        numpy: 1.22.0\r\n        scipy: 1.9.3\r\n       pandas: 1.4.1\r\n   matplotlib: 3.6.2\r\n       joblib: 1.2.0\r\n        numba: 0.56.4\r\n     pmdarima: None\r\n      tsfresh: None", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3830/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3816", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3816/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3816/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3816/events", "html_url": "https://github.com/sktime/sktime/issues/3816", "id": 1455197896, "node_id": "I_kwDOCVKAsc5WvI7I", "number": 3816, "title": "[BUG] testing deep learning base class fails due to optimizer type", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-18T14:13:53Z", "updated_at": "2022-11-30T20:14:11Z", "closed_at": "2022-11-30T20:14:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n test_deep_estimator_full[keras-adamax] is failing due to a type check in keras. See, for example\r\n\r\nhttps://github.com/sktime/sktime/actions/runs/3495913658/jobs/5855642783\r\n\r\n\"ValueError: `optimizer` of type <class 'keras.optimizers.optimizer_v2.adamax.Adamax'> cannot be serialized, it should either be absent/None/str/tf.keras.optimizers.Optimizer object\"\r\n\r\nit could be that the wrong type of Optimizer is being used, output states\r\n\r\nOptimizer  = <class 'keras.optimizers.optimizer_experimental.optimizer.Optimizer'>\r\nwhereas it is expecting\r\ntf.keras.optimizers.Optimizer\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/202723857-05d98e12-f03b-40e5-a4ac-97405b330638.png)\r\n\r\nI don't want to hack around in the testing suite, I'll let someone who understands it better do that,\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3808", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3808/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3808/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3808/events", "html_url": "https://github.com/sktime/sktime/pull/3808", "id": 1453618751, "node_id": "PR_kwDOCVKAsc5DIROs", "number": 3808, "title": "[BUG] set Parallel prefer=\"threads\" for TemporalDictionaryEnsemble, fixes #3788", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-17T16:18:29Z", "updated_at": "2022-11-24T12:28:43Z", "closed_at": "2022-11-24T12:28:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3808", "html_url": "https://github.com/sktime/sktime/pull/3808", "diff_url": "https://github.com/sktime/sktime/pull/3808.diff", "patch_url": "https://github.com/sktime/sktime/pull/3808.patch", "merged_at": "2022-11-24T12:28:42Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/sktime/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\nFixes #3788\r\n\r\n#### Reference Issues/PRs\r\n\r\n@johan-sightic in issue https://github.com/sktime/sktime/issues/3788 identified that HIVECOTEV2 crashed with n_jobs>1. On investigation, the cause was found to be in the fit TemporalDictionaryEnsemble. The parallelisation was causing interference with temporarily serialised files, see https://stackoverflow.com/questions/56884020/spacy-with-joblib-library-generates-pickle-picklingerror-could-not-pickle-the\r\n \r\nthis code crashes prior to this PR, but now runs\r\n```\r\ndef _debug_threaded_tde_3788_numpy(n_cases=20, n_dims=2, series_length=20):\r\n    from sktime.classification.dictionary_based import TemporalDictionaryEnsemble\r\n    from sktime.classification.hybrid import HIVECOTEV2\r\n\r\n    trainX = np.random.rand(n_cases, n_dims, series_length)\r\n    trainY = np.random.randint(0, 2, n_cases)\r\n    print(trainY)\r\n    hc2 = HIVECOTEV2(n_jobs=2, time_limit_in_minutes=1)\r\n    tde = TemporalDictionaryEnsemble(n_jobs=10, time_limit_in_minutes=1)\r\n    print(\" beginning fit numpy\")\r\n    hc2.fit(trainX, trainY)\r\n    tde.fit(trainX, trainY)\r\n    print(\" beginning predict numpy\")\r\n    preds = hc2.predict(trainX)\r\n    preds = tde.predict(trainX)\r\n    print(\" end predict numpy\")\r\n```\r\nStrangely, the error happens in fit and only happens for multivariate problems. This suggests there may be some interference between the classifiers due to incorrectly sharing memory, which merits deeper investigation. However, setting prefer to threads in Parallel stops the bug, and since a user has kindly identified the problem, I suggest we put this fix in now rather than wait for more time to investigate further. \r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3808/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3798", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3798/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3798/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3798/events", "html_url": "https://github.com/sktime/sktime/issues/3798", "id": 1450398670, "node_id": "I_kwDOCVKAsc5Wc1PO", "number": 3798, "title": "[BUG] 'kneighbors' method of KNeighborsTimeSeriesClassifier results in TypingError", "user": {"login": "wex52", "id": 23265995, "node_id": "MDQ6VXNlcjIzMjY1OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/23265995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wex52", "html_url": "https://github.com/wex52", "followers_url": "https://api.github.com/users/wex52/followers", "following_url": "https://api.github.com/users/wex52/following{/other_user}", "gists_url": "https://api.github.com/users/wex52/gists{/gist_id}", "starred_url": "https://api.github.com/users/wex52/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wex52/subscriptions", "organizations_url": "https://api.github.com/users/wex52/orgs", "repos_url": "https://api.github.com/users/wex52/repos", "events_url": "https://api.github.com/users/wex52/events{/privacy}", "received_events_url": "https://api.github.com/users/wex52/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-15T21:26:04Z", "updated_at": "2022-12-18T22:34:31Z", "closed_at": "2022-12-18T22:34:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAfter a KNeighborsTimeSeriesClassifier has been successfully fit and successfully used to classify toy data, an attempt to use the 'kneighbors' method fails due to a TypingError. The method should return the indices of and distances to the neighbors of each point. \r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\nfrom sktime.datatypes import convert_to\r\n\r\nXtrain = convert_to(pd.DataFrame(data = {\r\n    'sensor_a': [pd.Series([1,1,1]), pd.Series([2,2,2]), pd.Series([3,3,3])],\r\n    'sensor_b': [pd.Series([4,4,4]), pd.Series([5,5,5]), pd.Series([6,6,6])],\r\n    'sensor_c': [pd.Series([7,7,7]), pd.Series([8,8,8]), pd.Series([9,9,9])],\r\n}), 'pd-multiindex')\r\nytrain = pd.Series(['label_1','label_2','label_3'])\r\n\r\nkntsc = KNeighborsTimeSeriesClassifier(n_neighbors = 1)\r\nkntsc.fit(Xtrain, ytrain)\r\n\r\nXtest = convert_to(pd.DataFrame({\r\n    'sensor_a': [pd.Series([2.1,2,2]), pd.Series([1.1,1,1]), pd.Series([3.1,3,3])],\r\n    'sensor_b': [pd.Series([5.1,5,5]), pd.Series([4.1,4,4]), pd.Series([6.1,6,6])],\r\n    'sensor_c': [pd.Series([8.1,8,8]), pd.Series([7.1,7,7]), pd.Series([9.1,9,9])]\r\n}), 'pd-multiindex')\r\n\r\ndisplay(kntsc.predict(Xtest))\r\n\r\nprint(kntsc.kneighbors(Xtest))\r\n```\r\n\r\n**Expected behavior**\r\nThe final line should print the indices of and distances to the neighbors of each point. \r\n\r\n**Additional context**\r\nThe 'fit' and 'predict' function correctly. The 'kneighbors' method returns the equivalent of an intermediate step of the 'predict' method.\r\n\r\nThe code provided has data in the 'pd-multiindex' mtype. The original code was written for data in 'nested_univ' mtype, and removing the 'convert_to' will demonstrate that the 'kneighbors' method doesn't work for 'nested_univ' mtype either.\r\n\r\nI had used the 'kneighbors' method of sklearn.neighbors.KNeighborsClassifier in the code that I have been refactoring to use with sktime. The panel data format in my previous code was my own inefficient design and the code I wrote to handle it with sklearn pipelines is too lengthy and convoluted to provide here. However, sktime's KNeighborsTimeSeriesClassifier is described in the DocString as \"An adapted version of the scikit-learn KNeighborsClassifier for time series data,\" so it should function the same way. \r\n\r\nThis is the call stack trace: (also, each time the Jupyter notebook cell is executed, the last two lines are repeated an additional time)\r\n```python\r\n---------------------------------------------------------------------------\r\nTypingError                               Traceback (most recent call last)\r\nCell In [43], line 31\r\n     23 Xtest = convert_to(pd.DataFrame({\r\n     24     'sensor_a': [pd.Series([2.1,2,2]), pd.Series([1.1,1,1]), pd.Series([3.1,3,3])],\r\n     25     'sensor_b': [pd.Series([5.1,5,5]), pd.Series([4.1,4,4]), pd.Series([6.1,6,6])],\r\n     26     'sensor_c': [pd.Series([8.1,8,8]), pd.Series([7.1,7,7]), pd.Series([9.1,9,9])]\r\n     27 }), 'pd-multiindex')\r\n     29 display(kntsc.predict(Xtest))\r\n---> 31 kntsc.kneighbors(Xtest)\r\n\r\nFile ~\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\sktime\\classification\\distance_based\\_time_series_neighbors.py:267, in KNeighborsTimeSeriesClassifier.kneighbors(self, X, n_neighbors, return_distance)\r\n    264 self.check_is_fitted()\r\n    266 # self._X should be the stored _X\r\n--> 267 dist_mat = self._distance(X, self._X)\r\n    269 result = self.knn_estimator_.kneighbors(\r\n    270     dist_mat, n_neighbors=n_neighbors, return_distance=return_distance\r\n    271 )\r\n    273 # result is either dist, or (dist, ind) pair, depending on return_distance\r\n\r\nFile ~\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\sktime\\classification\\distance_based\\_time_series_neighbors.py:199, in KNeighborsTimeSeriesClassifier._distance(self, X, X2)\r\n    196     distance_params = {}\r\n    198 if isinstance(distance, str):\r\n--> 199     return pairwise_distance(X, X2, distance, **distance_params)\r\n    200 else:\r\n    201     if X2 is not None:\r\n\r\nFile ~\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\sktime\\distances\\_distance.py:2050, in pairwise_distance(x, y, metric, **kwargs)\r\n   1960 def pairwise_distance(\r\n   1961     x: np.ndarray,\r\n   1962     y: np.ndarray = None,\r\n   (...)\r\n   1971     **kwargs: Any,\r\n   1972 ) -> np.ndarray:\r\n   1973     \"\"\"Compute the pairwise distance matrix between two time series.\r\n   1974 \r\n   1975     First the distance metric is 'resolved'. This means the metric that is passed\r\n   (...)\r\n   2048            [ 58., 256.]])\r\n   2049     \"\"\"\r\n-> 2050     _x = _make_3d_series(x)\r\n   2051     if y is None:\r\n   2052         y = x\r\n\r\nFile ~\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\numba\\core\\dispatcher.py:468, in _DispatcherBase._compile_for_args(self, *args, **kws)\r\n    464         msg = (f\"{str(e).rstrip()} \\n\\nThis error may have been caused \"\r\n    465                f\"by the following argument(s):\\n{args_str}\\n\")\r\n    466         e.patch_message(msg)\r\n--> 468     error_rewrite(e, 'typing')\r\n    469 except errors.UnsupportedError as e:\r\n    470     # Something unsupported is present in the user code, add help info\r\n    471     error_rewrite(e, 'unsupported_error')\r\n\r\nFile ~\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\numba\\core\\dispatcher.py:409, in _DispatcherBase._compile_for_args.<locals>.error_rewrite(e, issue_type)\r\n    407     raise e\r\n    408 else:\r\n--> 409     raise e.with_traceback(None)\r\n\r\nTypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nnon-precise type pyobject\r\nDuring: typing of argument at C:\\Users\\wechs\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\sktime\\distances\\_numba_utils.py (34)\r\n\r\nFile \"..\\..\\..\\..\\Anaconda3\\envs\\capstone_20221111\\lib\\site-packages\\sktime\\distances\\_numba_utils.py\", line 34:\r\ndef _make_3d_series(x: np.ndarray) -> np.ndarray:\r\n    <source elided>\r\n    \"\"\"\r\n    num_dims = x.ndim\r\n    ^ \r\n\r\nThis error may have been caused by the following argument(s):\r\n- argument 0: Cannot determine Numba type of <class 'pandas.core.frame.DataFrame'> \r\n```\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.9.13 | packaged by conda-forge | (main, May 27 2022, 16:51:29) [MSC v.1929 64 bit (AMD64)]\r\nexecutable: C:\\Users\\wechs\\Anaconda3\\envs\\capstone_20221111\\python.exe\r\n   machine: Windows-10-10.0.19044-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.3.1\r\n   setuptools: 65.5.1\r\n      sklearn: 1.1.3\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.5\r\n        numpy: 1.23.3\r\n        scipy: 1.9.3\r\n       pandas: 1.4.4\r\n   matplotlib: 3.5.3\r\n       joblib: 1.2.0\r\n        numba: 0.56.3\r\n     pmdarima: 2.0.1\r\n      tsfresh: 0.19.0\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3795", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3795/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3795/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3795/events", "html_url": "https://github.com/sktime/sktime/issues/3795", "id": 1450199705, "node_id": "I_kwDOCVKAsc5WcEqZ", "number": 3795, "title": "[BUG] 'evaluate' method cannot handle TransformedTargetForecaster where the time series data is transformed into several features", "user": {"login": "GianlucaGuarroSonos", "id": 107063818, "node_id": "U_kgDOBmGqCg", "avatar_url": "https://avatars.githubusercontent.com/u/107063818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GianlucaGuarroSonos", "html_url": "https://github.com/GianlucaGuarroSonos", "followers_url": "https://api.github.com/users/GianlucaGuarroSonos/followers", "following_url": "https://api.github.com/users/GianlucaGuarroSonos/following{/other_user}", "gists_url": "https://api.github.com/users/GianlucaGuarroSonos/gists{/gist_id}", "starred_url": "https://api.github.com/users/GianlucaGuarroSonos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GianlucaGuarroSonos/subscriptions", "organizations_url": "https://api.github.com/users/GianlucaGuarroSonos/orgs", "repos_url": "https://api.github.com/users/GianlucaGuarroSonos/repos", "events_url": "https://api.github.com/users/GianlucaGuarroSonos/events{/privacy}", "received_events_url": "https://api.github.com/users/GianlucaGuarroSonos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-15T18:26:03Z", "updated_at": "2022-11-18T21:27:20Z", "closed_at": "2022-11-18T21:27:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n'evaluate' method expects a univariate pd.DataFrame with one column. However the point of featurizers like `FourierFeatures` is to transform the univariate time series into a set of features and feed that into the model. Thus the 'evaluate' method is not generalized to these use cases.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sktime.forecasting.arima import ARIMA\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster\r\nfrom sktime.transformations.series.fourier import FourierFeatures\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\n\r\ny_airline = load_airline()\r\nsp = 4\r\ncv = ExpandingWindowSplitter(step_length=1, fh=list(range(1,15)), initial_window=30)\r\nforecaster = TransformedTargetForecaster(\r\n    [\r\n        (\"fourier\", FourierFeatures(sp_list=[sp], fourier_terms_list=[int(sp//2)])),\r\n        (\"forecaster\", ARIMA(order=(1, 1, 1), suppress_warnings=True)),\r\n    ]\r\n)\r\nres = evaluate(forecaster, cv, y=y_airline, strategy='update', scoring=mse, error_score='raise')  \r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nFor the evaluate method to run without issue.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nThis is the call stack trace\r\n\r\n> ---------------------------------------------------------------------------\r\n> ValueError                                Traceback (most recent call last)\r\n> /Users/gguarro/Documents/Team Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb Cell 136' in <cell line: 10>()\r\n>       [3](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=2) v = yesfourier_results_dict[()]\r\n>       [4](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=3) forecaster = TransformedTargetForecaster(\r\n>       [5](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=4)     [\r\n>       [6](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=5)         (\"fourier\", FourierFeatures(sp_list=[sp], fourier_terms_list=[int(sp//2)])),\r\n>       [7](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=6)         (\"forecaster\", ARIMA(order=v['order'], suppress_warnings=True)),\r\n>       [8](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=7)     ]\r\n>       [9](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=8) )\r\n> ---> [10](vscode-notebook-cell:/Users/gguarro/Documents/Team%20Repos/Strategic-Finance-Forecasts/code/notebooks/longterm_forecasts.ipynb#ch0000151?line=9) res = evaluate(forecaster, cv, y=y_week_train['NUM_NEW_USERS'], strategy='update', scoring=mse, error_score='raise')\r\n> \r\n> File ~/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py:180, in evaluate(forecaster, cv, y, X, strategy, scoring, return_data, error_score)\r\n>     [178](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=177) except Exception as e:\r\n>     [179](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=178)     if error_score == \"raise\":\r\n> --> [180](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=179)         raise e\r\n>     [181](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=180)     else:\r\n>     [182](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=181)         warnings.warn(\r\n>     [183](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=182)             f\"\"\"\r\n>     [184](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=183)         Fitting of forecaster failed, you can set error_score='raise' to see\r\n>    (...)\r\n>     [189](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=188)             FitFailedWarning,\r\n>     [190](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=189)         )\r\n> \r\n> File ~/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py:168, in evaluate(forecaster, cv, y, X, strategy, scoring, return_data, error_score)\r\n>     [165](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=164)     scitype = None\r\n>     [166](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=165)     metric_args = {}\r\n> --> [168](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=167) y_pred = eval(pred_type[scitype])(fh, X_test, **metric_args)\r\n>     [170](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=169) pred_time = time.perf_counter() - start_pred\r\n>     [172](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/_functions.py?line=171) # score\r\n> \r\n> File ~/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py:364, in BaseForecaster.predict(self, fh, X)\r\n>     [361](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=360)     y_pred = self._vectorize(\"predict\", X=X_inner, fh=fh)\r\n>     [363](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=362) # convert to output mtype, identical with last y mtype seen\r\n> --> [364](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=363) y_out = convert_to(\r\n>     [365](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=364)     y_pred,\r\n>     [366](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=365)     self._y_mtype_last_seen,\r\n>     [367](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=366)     store=self._converter_store_y,\r\n>     [368](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=367)     store_behaviour=\"freeze\",\r\n>     [369](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=368) )\r\n>     [371](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/forecasting/base/_base.py?line=370) return y_out\r\n> \r\n> File ~/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py:263, in convert_to(obj, to_type, as_scitype, store, store_behaviour)\r\n>     [257](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=256)             raise TypeError(\r\n>     [258](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=257)                 \"to_type contains no mtype compatible with the scitype of obj,\"\r\n>     [259](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=258)                 f\"which is {as_scitype}\"\r\n>     [260](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=259)             )\r\n>     [261](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=260)         to_type = same_scitype_mtypes[0]\r\n> --> [263](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=262) converted_obj = convert(\r\n>     [264](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=263)     obj=obj,\r\n>     [265](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=264)     from_type=from_type,\r\n>     [266](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=265)     to_type=to_type,\r\n>     [267](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=266)     as_scitype=as_scitype,\r\n>     [268](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=267)     store=store,\r\n>     [269](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=268)     store_behaviour=store_behaviour,\r\n>     [270](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=269) )\r\n>     [272](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=271) return converted_obj\r\n> \r\n> File ~/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py:172, in convert(obj, from_type, to_type, as_scitype, store, store_behaviour)\r\n>     [167](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=166) else:\r\n>     [168](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=167)     raise RuntimeError(\r\n>     [169](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=168)         \"bug: unrechable condition error, store_behaviour has unexpected value\"\r\n>     [170](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=169)     )\r\n> --> [172](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=171) converted_obj = convert_dict[key](obj, store=store)\r\n>     [174](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_convert.py?line=173) return converted_obj\r\n> \r\n> File ~/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_series/_convert.py:82, in convert_MvS_to_UvS_as_Series(obj, store)\r\n>      [79](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_series/_convert.py?line=78)     raise TypeError(\"input is not a pd.DataFrame\")\r\n>      [81](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_series/_convert.py?line=80) if len(obj.columns) != 1:\r\n> ---> [82](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_series/_convert.py?line=81)     raise ValueError(\"input must be univariate pd.DataFrame, with one column\")\r\n>      [84](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_series/_convert.py?line=83) if isinstance(store, dict):\r\n>      [85](file:///Users/gguarro/miniconda3/envs/strategic-finance-forecasts/lib/python3.8/site-packages/sktime/datatypes/_series/_convert.py?line=84)     store[\"columns\"] = obj.columns[[0]]\r\n> \r\n> ValueError: input must be univariate pd.DataFrame, with one column\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 06:16:26)  [Clang 12.0.0 ]\r\nexecutable: /Users/gguarro/miniconda3/envs/strategic-finance-forecasts/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.2.2\r\n   setuptools: 59.8.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.6.0\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: 2.0.1\r\n      tsfresh: None\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3795/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3791", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3791/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3791/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3791/events", "html_url": "https://github.com/sktime/sktime/issues/3791", "id": 1450012383, "node_id": "I_kwDOCVKAsc5WbW7f", "number": 3791, "title": "[BUG] MultiRocketMultivariate does not enforce np.float64 datatype and order", "user": {"login": "michaelfeil", "id": 63565275, "node_id": "MDQ6VXNlcjYzNTY1Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/63565275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelfeil", "html_url": "https://github.com/michaelfeil", "followers_url": "https://api.github.com/users/michaelfeil/followers", "following_url": "https://api.github.com/users/michaelfeil/following{/other_user}", "gists_url": "https://api.github.com/users/michaelfeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelfeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelfeil/subscriptions", "organizations_url": "https://api.github.com/users/michaelfeil/orgs", "repos_url": "https://api.github.com/users/michaelfeil/repos", "events_url": "https://api.github.com/users/michaelfeil/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelfeil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-15T15:57:35Z", "updated_at": "2022-11-29T18:14:57Z", "closed_at": "2022-11-29T18:14:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nMultiRocketMultivariate requires and explicit casting of an 3d numpy array to np.float64\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.transformations.panel.rocket import MultiRocketMultivariate, MiniRocketMultivariate\r\nimport numpy as np\r\n\r\nX_train64 = np.arange(128).reshape([2,4,16]).astype(np.float64)\r\nX_train32 = np.arange(128).reshape([2,4,16]).astype(np.float32)\r\n\r\n# works below\r\nmodel =  MultiRocketMultivariate(random_state=42)\r\nX_t_t = model.fit_transform(X_train64 )\r\n\r\n# fails below\r\nmodel =  MultiRocketMultivariate(random_state=42)\r\nX_t_t = model.fit_transform(X_train32)\r\n\r\n   [..] raise TypeError(msg)\r\nTypeError: No matching definition for argument type(s) array(float32, 3d, C), array(int32, 1d, C), array(int32, 1d, C), array(int32, 1d, C), array(int32, 1d, C), array(float32, 1d, C), int64\r\n\r\n# works below\r\nmodel =  MiniRocketMultivariate(random_state=42)\r\nX_t_t = model.fit_transform(X_train64 )\r\n\r\n# works below\r\nmodel =  MiniRocketMultivariate(random_state=42)\r\nX_t_t = model.fit_transform(X_train32)\r\n```\r\n\r\n\r\n\r\n**Expected behavior**\r\nfloat32 and float64 gets adjusted automatically\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3791/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3789", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3789/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3789/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3789/events", "html_url": "https://github.com/sktime/sktime/issues/3789", "id": 1449828182, "node_id": "I_kwDOCVKAsc5Wap9W", "number": 3789, "title": "[BUG] FeatureUnion.get_params() causes infinite loop", "user": {"login": "hoesler", "id": 1052770, "node_id": "MDQ6VXNlcjEwNTI3NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1052770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoesler", "html_url": "https://github.com/hoesler", "followers_url": "https://api.github.com/users/hoesler/followers", "following_url": "https://api.github.com/users/hoesler/following{/other_user}", "gists_url": "https://api.github.com/users/hoesler/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoesler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoesler/subscriptions", "organizations_url": "https://api.github.com/users/hoesler/orgs", "repos_url": "https://api.github.com/users/hoesler/repos", "events_url": "https://api.github.com/users/hoesler/events{/privacy}", "received_events_url": "https://api.github.com/users/hoesler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-11-15T13:57:53Z", "updated_at": "2022-11-19T21:56:13Z", "closed_at": "2022-11-19T21:56:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe `get_params()` method of FeatureUnion causes an infinite loop if created by magic `+` method.\r\n\r\nBoth the `get_params()` and `set_params()` methods should access the tuples in `_transformer_list` instead of the list of transformers in `transformer_list`.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.transformations.compose import Id\r\n(Id() + Id()).get_params()\r\n```\r\n\r\n**Expected behavior**\r\nThe method call should return the dict of params.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.10.8 (main, Oct 13 2022, 09:48:40) [Clang 14.0.0 (clang-1400.0.29.102)]\r\nexecutable: .venv/bin/python3\r\n   machine: macOS-12.6.1-arm64-arm-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 65.5.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.5.1\r\n   matplotlib: None\r\n       joblib: 1.2.0\r\n        numba: 0.56.3\r\n     pmdarima: None\r\n      tsfresh: None\r\n>>>\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3788", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3788/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3788/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3788/events", "html_url": "https://github.com/sktime/sktime/issues/3788", "id": 1449601803, "node_id": "I_kwDOCVKAsc5WZysL", "number": 3788, "title": "[BUG] HIVECOTEV2 with n_jobs>1 crashes on internal dataset", "user": {"login": "johan-sightic", "id": 97439533, "node_id": "U_kgDOBc7PLQ", "avatar_url": "https://avatars.githubusercontent.com/u/97439533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johan-sightic", "html_url": "https://github.com/johan-sightic", "followers_url": "https://api.github.com/users/johan-sightic/followers", "following_url": "https://api.github.com/users/johan-sightic/following{/other_user}", "gists_url": "https://api.github.com/users/johan-sightic/gists{/gist_id}", "starred_url": "https://api.github.com/users/johan-sightic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johan-sightic/subscriptions", "organizations_url": "https://api.github.com/users/johan-sightic/orgs", "repos_url": "https://api.github.com/users/johan-sightic/repos", "events_url": "https://api.github.com/users/johan-sightic/events{/privacy}", "received_events_url": "https://api.github.com/users/johan-sightic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-11-15T11:09:26Z", "updated_at": "2022-11-24T12:28:43Z", "closed_at": "2022-11-24T12:28:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI want to fit HIVECOTEV2 on an internal dataset in \"df-list\" format with two classes. Running it in a singe thread `HIVECOTEV2(time_limit_in_minutes=1)` works as expected and outputs no warnings or errors. However I want to speed it up with multiprocessing `HIVECOTEV2(time_limit_in_minutes=1, n_jobs=14)` but this creates `NumbaPendingDeprecationWarning`:s, overflow warnings and then crashes with a `PicklingError`.\r\n\r\n**To Reproduce**\r\nUnfortunate I can't share the data since it contains sensitive personal information, please tell me if I should check something in the data. Hopefully you can figure something out from the logs.\r\n\r\nLoad and verify data:\r\n```python\r\nsamples = load_data()\r\n\r\ncheck_raise(samples[0], \"pd.DataFrame\")\r\ncheck_raise(samples, \"df-list\")\r\n\r\nprint(any([df.isnull().values.any() for df in samples]))  # False\r\nprint(any([~np.isfinite(df.values).all() for df in samples]))  # False\r\n```\r\n\r\nFit single process creates a working model without any warnings or errors.\r\n```python\r\nmodel = HIVECOTEV2(time_limit_in_minutes=1)\r\nmodel.fit(samples, np.array(targets, dtype=int))\r\n```\r\n\r\nFit multiprocessing shows warnings and then crashes.\r\n```python\r\nmodel = HIVECOTEV2(time_limit_in_minutes=1, n_jobs=14)\r\nmodel.fit(samples, np.array(targets, dtype=int))\r\n```\r\n```\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/numba/core/ir_utils.py:2147: NumbaPendingDeprecationWarning: \r\nEncountered the use of a type that is scheduled for deprecation: type 'reflected list' found for argument 'sorted_indicies' of function '_online_shapelet_distance'.\r\n\r\nFor more information visit https://numba.readthedocs.io/en/stable/reference/deprecation.html#deprecation-of-reflection-for-list-and-set-types\r\n\r\nFile \"../../../../vAll/lib/python3.10/site-packages/sktime/transformations/panel/shapelet_transform.py\", line 1473:\r\n@njit(fastmath=True, cache=True)\r\ndef _online_shapelet_distance(series, shapelet, sorted_indicies, position, length):\r\n^\r\n\r\n  warnings.warn(NumbaPendingDeprecationWarning(msg, loc=loc))\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\n/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/interval_based/_drcif.py:517: RuntimeWarning: overflow encountered in multiply\r\n  transformed_x = transformed_x.round(8)\r\njoblib.externals.loky.process_executor._RemoteTraceback: \r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/externals/loky/backend/queues.py\", line 125, in _feed\r\n    obj_ = dumps(obj, reducers=reducers)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/externals/loky/backend/reduction.py\", line 211, in dumps\r\n    dump(obj, buf, reducers=reducers, protocol=protocol)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/externals/loky/backend/reduction.py\", line 204, in dump\r\n    _LokyPickler(file, reducers=reducers, protocol=protocol).dump(obj)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/externals/cloudpickle/cloudpickle_fast.py\", line 632, in dump\r\n    return Pickler.dump(self, obj)\r\nTypeError: cannot pickle '_nrt_python._MemInfo' object\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/johan/dev/app-drug-detection/app_drug_detection/approaches/johan_sktime/main.py\", line 130, in <module>\r\n    main()\r\n  File \"/home/johan/dev/app-drug-detection/app_drug_detection/approaches/johan_sktime/main.py\", line 126, in main\r\n    evaluator.evaluate_predictor(DummyBaseline, RydeEvaluator.NOT_IMPAIRED_THRESHOLD, RydeEvaluator.IMPAIRED_THRESHOLD)\r\n  File \"/home/johan/dev/app-drug-detection/app_drug_detection/common/evaluation.py\", line 190, in evaluate_predictor\r\n    pred = predictor.predict(metadata, timeseries)\r\n  File \"/home/johan/dev/app-drug-detection/app_drug_detection/approaches/johan_sktime/main.py\", line 119, in predict\r\n    pred = self.model.predict([timeseries])\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/base.py\", line 228, in predict\r\n    return self._predict(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/hybrid/_hivecote_v2.py\", line 295, in _predict\r\n    for prob in self.predict_proba(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/base.py\", line 262, in predict_proba\r\n    return self._predict_proba(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/hybrid/_hivecote_v2.py\", line 331, in _predict_proba\r\n    tde_probas = self._tde.predict_proba(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/base.py\", line 262, in predict_proba\r\n    return self._predict_proba(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/dictionary_based/_tde.py\", line 411, in _predict_proba\r\n    preds = clf.predict(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/base.py\", line 228, in predict\r\n    return self._predict(X)\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/sktime/classification/dictionary_based/_tde.py\", line 879, in _predict\r\n    classes = Parallel(n_jobs=self._threads_to_use)(\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/parallel.py\", line 1098, in __call__\r\n    self.retrieve()\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/parallel.py\", line 975, in retrieve\r\n    self._output.extend(job.get(timeout=self.timeout))\r\n  File \"/home/johan/dev/vAll/lib/python3.10/site-packages/joblib/_parallel_backends.py\", line 567, in wrap_future_result\r\n    return future.result(timeout=timeout)\r\n  File \"/usr/lib/python3.10/concurrent/futures/_base.py\", line 458, in result\r\n    return self.__get_result()\r\n  File \"/usr/lib/python3.10/concurrent/futures/_base.py\", line 403, in __get_result\r\n    raise self._exception\r\n_pickle.PicklingError: Could not pickle the task to send it to the workers.\r\n)\r\n```\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.10.6 (main, Nov  2 2022, 18:53:38) [GCC 11.3.0]\r\nexecutable: /home/johan/dev/vAll/bin/python\r\n   machine: Linux-5.15.0-52-generic-x86_64-with-glibc2.35\r\n\r\nPython dependencies:\r\n          pip: 22.0.2\r\n   setuptools: 59.6.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.14.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.3\r\n       joblib: 1.2.0\r\n        numba: 0.56.3\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3779", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3779/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3779/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3779/events", "html_url": "https://github.com/sktime/sktime/issues/3779", "id": 1447138348, "node_id": "I_kwDOCVKAsc5WQZQs", "number": 3779, "title": "[BUG] Lag transformer returns a dataframe with more rows than the input dataframe", "user": {"login": "KishManani", "id": 30973056, "node_id": "MDQ6VXNlcjMwOTczMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/30973056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KishManani", "html_url": "https://github.com/KishManani", "followers_url": "https://api.github.com/users/KishManani/followers", "following_url": "https://api.github.com/users/KishManani/following{/other_user}", "gists_url": "https://api.github.com/users/KishManani/gists{/gist_id}", "starred_url": "https://api.github.com/users/KishManani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KishManani/subscriptions", "organizations_url": "https://api.github.com/users/KishManani/orgs", "repos_url": "https://api.github.com/users/KishManani/repos", "events_url": "https://api.github.com/users/KishManani/events{/privacy}", "received_events_url": "https://api.github.com/users/KishManani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-13T23:13:31Z", "updated_at": "2022-11-14T00:13:41Z", "closed_at": "2022-11-14T00:12:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n I noticed that if you have a dataframe with a non uniform time stamp that the Lag transformer will resample the dataframe and return more rows than the original dataframe. \r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sktime.transformations.series.lag import Lag\r\nfrom sktime.transformations.series.fourier import FourierFeatures\r\n\r\n# Create dataframe with non-uniform integer index\r\ndata = {'ix': [1,2,3,4,5,9,10], 'y': [1,4,5,5,21,1,1]}\r\ndf_int_idx = pd.DataFrame(data=data[\"y\"], index=data[\"ix\"], columns=[\"y\"])\r\n\r\n# Apply transformers\r\nprint(Lag(lags=[1,2,3]).fit_transform(df_int_idx))\r\n```\r\n\r\nOutput:\r\n\r\n\r\n```python\r\n    lag_1__y  lag_2__y  lag_3__y\r\n1        NaN       NaN       NaN\r\n2        1.0       NaN       NaN\r\n3        4.0       1.0       NaN\r\n4        5.0       4.0       1.0\r\n5        5.0       5.0       4.0\r\n6       21.0       5.0       5.0\r\n7        NaN      21.0       5.0\r\n8        NaN       NaN      21.0\r\n9        NaN       NaN       NaN\r\n10       1.0       NaN       NaN\r\n11       1.0       1.0       NaN\r\n12       NaN       1.0       1.0\r\n13       NaN       NaN       1.0 \r\n```\r\n\r\n**Expected behavior**\r\nA dataframe which has the same index as the original dataframe with the lag features.\r\n\r\n**Versions**\r\n\r\nSystem:\r\npython: 3.8.7 (default, May  6 2021, 21:53:45)  [Clang 12.0.0 (clang-1200.0.32.29)]\r\nexecutable: /Users/kishan_manani/.pyenv/versions/3.8.7/envs/sktime-dev/bin/python\r\nmachine: macOS-11.6.6-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\npip: 22.1.2\r\nsetuptools: 49.2.1\r\nsklearn: 1.1.1\r\nsktime: 0.14.0\r\nstatsmodels: 0.13.2\r\nnumpy: 1.21.6\r\nscipy: 1.8.1\r\npandas: 1.4.2\r\nmatplotlib: 3.5.2\r\njoblib: 1.1.0\r\nnumba: 0.55.2\r\npmdarima: 1.8.5\r\ntsfresh: 0.19.0\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3779/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3772", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3772/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3772/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3772/events", "html_url": "https://github.com/sktime/sktime/issues/3772", "id": 1446422172, "node_id": "I_kwDOCVKAsc5WNqac", "number": 3772, "title": "[BUG] Empty File Format page in API Reference ", "user": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-11-12T12:04:39Z", "updated_at": "2022-11-13T13:22:01Z", "closed_at": "2022-11-13T13:22:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nFile Format Page (available [here](https://www.sktime.org/en/stable/api_reference/data_format.html)) should have reference to different file formats present in `sktime` (`.ts` for example). But the current page only provides a one-liner with no references.\r\n\r\nThis is happening because the `.rst` file is improper and needs to be corrected. I'll make a PR correcting it in a while.\r\n \r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nHere's what I see:\r\n![fail](https://user-images.githubusercontent.com/54197164/201473017-6537de40-8f5f-4c27-8925-801ef8fdda63.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3764", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3764/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3764/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3764/events", "html_url": "https://github.com/sktime/sktime/issues/3764", "id": 1445363479, "node_id": "I_kwDOCVKAsc5WJn8X", "number": 3764, "title": "[BUG] `ColumnEnsembleForecaster` fails with hierarchical exogenous data", "user": {"login": "RikStarmans", "id": 109525630, "node_id": "U_kgDOBoc6fg", "avatar_url": "https://avatars.githubusercontent.com/u/109525630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RikStarmans", "html_url": "https://github.com/RikStarmans", "followers_url": "https://api.github.com/users/RikStarmans/followers", "following_url": "https://api.github.com/users/RikStarmans/following{/other_user}", "gists_url": "https://api.github.com/users/RikStarmans/gists{/gist_id}", "starred_url": "https://api.github.com/users/RikStarmans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RikStarmans/subscriptions", "organizations_url": "https://api.github.com/users/RikStarmans/orgs", "repos_url": "https://api.github.com/users/RikStarmans/repos", "events_url": "https://api.github.com/users/RikStarmans/events{/privacy}", "received_events_url": "https://api.github.com/users/RikStarmans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-11T11:50:41Z", "updated_at": "2022-11-12T20:12:49Z", "closed_at": "2022-11-12T20:12:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "ColumnEnsembleForecaster fails with Aggregator based forecaster and exogenous data.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datatypes import get_examples\r\nfrom sktime.datatypes._utilities import get_window\r\nfrom sktime.forecasting.sarimax import SARIMAX\r\nfrom sktime.transformations.hierarchical.aggregate import Aggregator\r\nfrom sktime.transformations.hierarchical.reconcile import Reconciler\r\nfrom sktime.forecasting.compose import ColumnEnsembleForecaster\r\n\r\nX = get_examples(\"pd_multiindex_hier\")[0]\r\ny = get_examples(\"pd_multiindex_hier\")[1]\r\n\r\nX_train = get_window(X, lag=1)\r\ny_train = get_window(y, lag=1)\r\nX_test = get_window(X, window_length=1)\r\n\r\nf = Aggregator() * (Aggregator() ** SARIMAX()) * Reconciler()\r\n\r\nf.fit(y=y_train, X=X_train, fh=1)\r\nprint('this works')\r\n\r\nf_hat = ColumnEnsembleForecaster(f)\r\nf_hat.fit(y=y_train, fh=1)\r\nprint(\"still working\")\r\nf_hat.fit(y=y_train, X=X_train, fh=1)\r\nprint(\"never reached, crash\")\r\n```\r\n**Proposed Solution**\r\nAdd the following tag to ColumnEnsembleForecaster\r\n```python\r\n   X_inner_mtype: [\r\n            \"pd.Series\",\r\n            \"pd.DataFrame\",\r\n            \"pd-multiindex\",\r\n            \"pd_multiindex_hier\",\r\n        ],\r\n```\r\n**Additional context**\r\nColumnEnsembleForecaster inherits from _HeterogenousEnsembleForecaster which inherits from\r\nBaseForecaster.\r\nIf fit is called with exogenous data, the BaseForecaster changes the type of both X and Y to vector.\r\nThe problem is triggered here https://github.com/sktime/sktime/blob/18b502e969d9c8d8dafce5cea78eb0c43fe23d91/sktime/forecasting/base/_base.py#L288\r\nAnd can be resolved by replacing this line with\r\n```python\r\n#X_inner, y_inner = self._check_X_y(X=X, y=y)\r\nX_inner, y_inner = X, y\r\n```\r\nCheck_X_y seems to run into issues at this line\r\nhttps://github.com/sktime/sktime/blob/18b502e969d9c8d8dafce5cea78eb0c43fe23d91/sktime/forecasting/base/_base.py#L1331\r\nIf an X is passed, vectorization is triggered for both X and y.\r\nIn specific, in line \r\nhttps://github.com/sktime/sktime/blob/18b502e969d9c8d8dafce5cea78eb0c43fe23d91/sktime/forecasting/base/_base.py#L1249\r\nWe have for y and X.\r\n1249 ['pd.DataFrame', 'pd-multiindex', 'pd_multiindex_hier']\r\n1250 ['pd.DataFrame']\r\n1251 ['Series', 'Hierarchical', 'Panel']\r\n1252 ['Series']\r\nHierachical exists for y but not for X which triggers vectorization.\r\n\r\n**Versions**\r\nsktime.__version__ = '0.14.0'\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3758", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3758/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3758/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3758/events", "html_url": "https://github.com/sktime/sktime/issues/3758", "id": 1444284225, "node_id": "I_kwDOCVKAsc5WFgdB", "number": 3758, "title": "[BUG] Unrelated tests failing for no reason [test_load_solar]", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-10T17:22:33Z", "updated_at": "2022-11-12T16:04:54Z", "closed_at": "2022-11-12T16:04:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nIn #3375 I noticed tests are failing unrelated to any code changes I made. Obviously this is a bad idea to test code that relies on external services being up and running. This has little to do with sktime and should probably be removed. \r\n\r\n```\r\nFAILED sktime/datasets/tests/test_data_io.py::test_load_solar[False] - urllib.error.HTTPError: HTTP Error 504: Gateway Time-out\r\nFAILED sktime/datasets/tests/test_data_io.py::test_load_solar[True] - urllib.error.HTTPError: HTTP Error 504: Gateway Time-out\r\n```\r\n\r\nsee https://github.com/sktime/sktime/actions/runs/3437085117/jobs/5733604844 for more details\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3757", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3757/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3757/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3757/events", "html_url": "https://github.com/sktime/sktime/issues/3757", "id": 1444270842, "node_id": "I_kwDOCVKAsc5WFdL6", "number": 3757, "title": "[BUG] Unable to transform dataset using MiniRocket when parallelized via `ray`", "user": {"login": "bdewilde", "id": 2514535, "node_id": "MDQ6VXNlcjI1MTQ1MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/2514535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdewilde", "html_url": "https://github.com/bdewilde", "followers_url": "https://api.github.com/users/bdewilde/followers", "following_url": "https://api.github.com/users/bdewilde/following{/other_user}", "gists_url": "https://api.github.com/users/bdewilde/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdewilde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdewilde/subscriptions", "organizations_url": "https://api.github.com/users/bdewilde/orgs", "repos_url": "https://api.github.com/users/bdewilde/repos", "events_url": "https://api.github.com/users/bdewilde/events{/privacy}", "received_events_url": "https://api.github.com/users/bdewilde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-10T17:12:56Z", "updated_at": "2022-11-14T20:22:41Z", "closed_at": "2022-11-14T20:22:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nI am trying to fit+transform data using an `sklearn` pipeline, with `sktime`'s MiniRocket transformer as a component, using `ray` to parallelize the transform step. Fitting (which is not performed in parallel) works as expected; transforming raises an unexpected error about the dataset's type/shape: `TypeError: No matching definition for argument type(s) array(float32, 2d, C), Tuple(readonly array(int32, 1d, C), readonly array(int32, 1d, C), readonly array(float32, 1d, C))` . I've seen issues related to this error before, just none in this context.\r\n\r\nI've manually confirmed that the data passed into the minirocket transformer looks structurally identical at both `.fit()` and `.transform()` calls, and wasn't able to identify any ways that `ray` was modifying the data under the hood when it called transform in parallel. I've already filed an issue there \u2014 https://github.com/ray-project/ray/issues/30178 \u2014 but am cross-posting here, because I'm unsure about which side of the fence the actual error is arising.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport random\r\n\r\nimport pandas as pd\r\nimport ray.data\r\nimport sklearn.base\r\nfrom sktime.datatypes._panel._convert import from_2d_array_to_nested\r\nfrom sktime.transformations.panel import rocket\r\n\r\n\r\nclass MyPreprocessor(ray.data.Preprocessor):\r\n\r\n    @property\r\n    def estimator(self) -> sklearn.base.BaseEstimator:\r\n        return rocket.MiniRocket()\r\n\r\n    def _fit(self, dataset: ray.data.Dataset) -> ray.data.Preprocessor:\r\n        X = dataset.to_pandas()\r\n        self.estimator_ = self.estimator.fit(X, None)\r\n        return self\r\n\r\n    def _transform_pandas(self, df: pd.DataFrame) -> pd.DataFrame:\r\n        return self.estimator_.transform(df)\r\n\r\n\r\ndf = (\r\n    pd.DataFrame(\r\n        columns=[str(i) for i in range(10)],\r\n        data=[[random.randint(0, 10) for _ in range(10)] for _ in range(100)],\r\n    )\r\n    .pipe(from_2d_array_to_nested)\r\n    .rename(columns={0: \"ts\"})\r\n)\r\ndataset = ray.data.from_pandas(df)\r\npreprocessor = MyPreprocessor().fit(dataset)\r\n\r\n_ = preprocessor._transform_pandas(dataset.to_pandas())  # OK\r\n_ = [preprocessor._transform_pandas(batch) for batch in dataset.iter_batches()]  # OK\r\n_ = dataset.map_batches(preprocessor._transform_pandas)  # FAILS!\r\n_ = preprocessor.transform(dataset)  # FAILS!\r\n```\r\n\r\n**Expected behavior**\r\nI should be able to transform the data using minirocket when it's split up into \"batches\" and executed in parallel.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nSystem:\r\n    python: 3.9.13 (main, Jul  7 2022, 11:59:57)  [Clang 13.1.6 (clang-1316.0.21.2.5)]\r\nexecutable: /Users/burtondewilde/.pyenv/versions/3.9.13/envs/foo/bin/python3.9\r\n   machine: macOS-12.4-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.3\r\n   setuptools: 58.1.0\r\n      sklearn: 1.1.3\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.8.1\r\n       pandas: 1.4.4\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.3\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3757/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3748", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3748/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3748/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3748/events", "html_url": "https://github.com/sktime/sktime/issues/3748", "id": 1443828986, "node_id": "I_kwDOCVKAsc5WDxT6", "number": 3748, "title": "[BUG] `keras` and other soft dep imports should be properly isolated in tests", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-10T12:33:49Z", "updated_at": "2022-11-18T17:02:38Z", "closed_at": "2022-11-18T17:02:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "See #3743 and https://github.com/sktime/sktime/pull/2986 - soft dependency imports in non-suite tests should:\r\n(a) happen inside tests, and\r\n(b) be isolated via `pytest.skipif`\r\n\r\nCurrently, some `keras` imports are not properly isolated.\r\n\r\nThe idea is that the full test suite should be runnable without any soft dependencies installed.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3748/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3747", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3747/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3747/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3747/events", "html_url": "https://github.com/sktime/sktime/pull/3747", "id": 1443820089, "node_id": "PR_kwDOCVKAsc5CncfI", "number": 3747, "title": "[DOC] added new slack link", "user": {"login": "hadifawaz1999", "id": 54309336, "node_id": "MDQ6VXNlcjU0MzA5MzM2", "avatar_url": "https://avatars.githubusercontent.com/u/54309336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hadifawaz1999", "html_url": "https://github.com/hadifawaz1999", "followers_url": "https://api.github.com/users/hadifawaz1999/followers", "following_url": "https://api.github.com/users/hadifawaz1999/following{/other_user}", "gists_url": "https://api.github.com/users/hadifawaz1999/gists{/gist_id}", "starred_url": "https://api.github.com/users/hadifawaz1999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hadifawaz1999/subscriptions", "organizations_url": "https://api.github.com/users/hadifawaz1999/orgs", "repos_url": "https://api.github.com/users/hadifawaz1999/repos", "events_url": "https://api.github.com/users/hadifawaz1999/events{/privacy}", "received_events_url": "https://api.github.com/users/hadifawaz1999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-10T12:27:40Z", "updated_at": "2022-11-11T17:09:10Z", "closed_at": "2022-11-11T17:02:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3747", "html_url": "https://github.com/sktime/sktime/pull/3747", "diff_url": "https://github.com/sktime/sktime/pull/3747.diff", "patch_url": "https://github.com/sktime/sktime/pull/3747.patch", "merged_at": "2022-11-11T17:02:58Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/sktime/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [ ] I've added myself to the [list of contributors](https://github.com/sktime/sktime/blob/main/.all-contributorsrc).\r\n- [ ] Optionally, I've updated sktime's [CODEOWNERS](https://github.com/sktime/sktime/blob/main/CODEOWNERS) to receive notifications about future changes to these files.\r\n- [ ] I've added unit tests and made sure they pass locally.\r\n- [ ] The PR title starts with either [ENH], [MNT], [DOC], or [BUG] indicating whether the PR topic is related to enhancement, maintenance, documentation, or bug.\r\n\r\n##### For new estimators\r\n- [ ] I've added the estimator to the online documentation.\r\n- [ ] I've updated the existing example notebooks or provided a new one to showcase how my estimator works.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3747/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3747/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3715", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3715/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3715/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3715/events", "html_url": "https://github.com/sktime/sktime/issues/3715", "id": 1437569223, "node_id": "I_kwDOCVKAsc5Vr5DH", "number": 3715, "title": "[MNT] PyPi publish action for 0.14 failed", "user": {"login": "jorenham", "id": 6208662, "node_id": "MDQ6VXNlcjYyMDg2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/6208662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorenham", "html_url": "https://github.com/jorenham", "followers_url": "https://api.github.com/users/jorenham/followers", "following_url": "https://api.github.com/users/jorenham/following{/other_user}", "gists_url": "https://api.github.com/users/jorenham/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorenham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorenham/subscriptions", "organizations_url": "https://api.github.com/users/jorenham/orgs", "repos_url": "https://api.github.com/users/jorenham/repos", "events_url": "https://api.github.com/users/jorenham/events{/privacy}", "received_events_url": "https://api.github.com/users/jorenham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-11-06T22:45:03Z", "updated_at": "2022-11-07T16:25:01Z", "closed_at": "2022-11-07T02:47:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Summary by @fkiraly:\r\nThe attempted 0.14.0 release has failed at pypi upload of successfully built wheels.\r\n\r\nHelp on diagnosing and solving this is appreciated.\r\n\r\nOriginal post:\r\n---\r\nJust to let you know: 0.14 has not been published on PyPI yet:\r\n\r\nhttps://github.com/sktime/sktime/actions/runs/3402037795", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3715/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3715/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3694", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3694/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3694/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3694/events", "html_url": "https://github.com/sktime/sktime/issues/3694", "id": 1434421315, "node_id": "I_kwDOCVKAsc5Vf4hD", "number": 3694, "title": "[BUG] Rocket test sporadic CI failure due to strict equality requirement in test", "user": {"login": "ltsaprounis", "id": 64217214, "node_id": "MDQ6VXNlcjY0MjE3MjE0", "avatar_url": "https://avatars.githubusercontent.com/u/64217214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltsaprounis", "html_url": "https://github.com/ltsaprounis", "followers_url": "https://api.github.com/users/ltsaprounis/followers", "following_url": "https://api.github.com/users/ltsaprounis/following{/other_user}", "gists_url": "https://api.github.com/users/ltsaprounis/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltsaprounis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltsaprounis/subscriptions", "organizations_url": "https://api.github.com/users/ltsaprounis/orgs", "repos_url": "https://api.github.com/users/ltsaprounis/repos", "events_url": "https://api.github.com/users/ltsaprounis/events{/privacy}", "received_events_url": "https://api.github.com/users/ltsaprounis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-03T10:22:52Z", "updated_at": "2022-11-05T16:38:16Z", "closed_at": "2022-11-05T16:38:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nA an unrelated to the PR unit test failed in #3606.\r\nThe test is `test_rocket_on_gunpoint` which is not related to the PR in anyway. \r\nhere are the CI logs: \r\n[FAILED sktime/transformations/panel/rocket/tests/test_Rocket.py::test_rocket_on_gunpoint - assert 0.9933333333333333 == 1.0](https://github.com/sktime/sktime/actions/runs/3379230667/jobs/5610684533#step:7:814)\r\n\r\nLooks like this would be avoided if we replace `==` with `np.isclose` with an appropriate level of tolerance e.g. 0.01 if that's applicable. Otherwise we can control the random seed in the test.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3670", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3670/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3670/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3670/events", "html_url": "https://github.com/sktime/sktime/issues/3670", "id": 1428532703, "node_id": "I_kwDOCVKAsc5VJa3f", "number": 3670, "title": "[BUG] `statsmodels` interfaces break for `X` containing more indices than forecasting horizon", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-30T01:00:44Z", "updated_at": "2023-01-11T15:01:00Z", "closed_at": "2023-01-11T15:00:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Same as #3657, but for `SARIMAX` and `statsmodels` adapter when `X` is present.\r\n\r\nAlso see #3667 and #3668.\r\n\r\nThe obvious fix, in https://github.com/sktime/sktime/pull/3669, seems to fail on python 3.10, and not on 3.9 or lower.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3663", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3663/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3663/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3663/events", "html_url": "https://github.com/sktime/sktime/issues/3663", "id": 1427140365, "node_id": "I_kwDOCVKAsc5VEG8N", "number": 3663, "title": "[BUG] HTTP error in Clearsky test", "user": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-28T11:46:08Z", "updated_at": "2022-11-12T18:35:35Z", "closed_at": "2022-11-12T18:35:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `test_clearsky_trafo_vals` test in PR #3636 is failing due to a HTTP Error. The PR just changes TSFresh, so it seems unrelated.\r\n\r\n![image](https://user-images.githubusercontent.com/25731235/198579377-6ebba372-0dd7-47d9-9543-f9c70f25f1fa.png)\r\n\r\nhttps://github.com/sktime/sktime/actions/runs/3344117231/jobs/5538243324", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3663/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3658", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3658/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3658/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3658/events", "html_url": "https://github.com/sktime/sktime/issues/3658", "id": 1425864003, "node_id": "I_kwDOCVKAsc5U_PVD", "number": 3658, "title": "[BUG] TSFresh bugs and issues compilation", "user": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-27T15:46:17Z", "updated_at": "2022-12-01T20:33:03Z", "closed_at": "2022-12-01T20:33:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Going through the issues, we have 8 TSFresh related ones open currently. Some of these are possibly outdated or could be checked off easily.\r\n\r\n- [x] https://github.com/sktime/sktime/issues/3526\r\n- [x] https://github.com/sktime/sktime/issues/2637\r\n- [x] https://github.com/sktime/sktime/issues/2073\r\n- [x] https://github.com/sktime/sktime/issues/1824\r\n- [x] https://github.com/sktime/sktime/issues/1484\r\n- [x] https://github.com/sktime/sktime/issues/1478\r\n- [x] https://github.com/sktime/sktime/issues/1289\r\n- [x] https://github.com/sktime/sktime/issues/397\r\n\r\nThere are two TSFresh estimators which share a base class and both need improving: `TSFreshFeatureExtractor` and `TSFreshRelevantFeatureExtractor`. The following are some tasks which can be completed to solve these issues and improve the estimators:\r\n\r\n- [x] Verify current handling of unequal length data for both estimators. Fix any issues that arise, the current internal datatype is nested univariate dataframes, which can handle unequal length datasets (397).\r\n- [x] Verify if the 1289 RuntimeError still happens outside a main method. Perhaps add a warning to docs if it does, not much to fix with this one pretty sure.\r\n- [x] Verify if 1478 and 1484 are still issues, try relaxing `statsmodels` upper bound.\r\n- [x] Verify if 2637 still relevant to TSFresh specifically.\r\n- [x] Try to reproduce the `impute_function` bug reported in 1824, fix if it can be reproduced else close. \r\n- [x] Write docstring for `TSFreshFeatureExtractor` (2073 and 3526).\r\n- [x] Write docstring for `TSFreshRelevantFeatureExtractor` (2073 and 3526).\r\n- [x] Verify that a parameter that allows the user to specify the features they would like to extract exists and is functioning (3526).\r\n- [x] Clearer parameters for both estimators (3526).\r\n- [x] Implement `get_test_params` methods for `TSFreshFeatureExtractor` (3526).\r\n- [x] Implement `get_test_params` methods for `TSFreshRelevantFeatureExtractor` (3526).\r\n- [x] Add `fit_transform` method to `TSFreshRelevantFeatureExtractor`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3658/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3657", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3657/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3657/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3657/events", "html_url": "https://github.com/sktime/sktime/issues/3657", "id": 1425669480, "node_id": "I_kwDOCVKAsc5U-f1o", "number": 3657, "title": "[BUG] pmdarima estimators break when `X` contains more indices than the forecasting horizon", "user": {"login": "d4nielmeyer", "id": 59086611, "node_id": "MDQ6VXNlcjU5MDg2NjEx", "avatar_url": "https://avatars.githubusercontent.com/u/59086611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d4nielmeyer", "html_url": "https://github.com/d4nielmeyer", "followers_url": "https://api.github.com/users/d4nielmeyer/followers", "following_url": "https://api.github.com/users/d4nielmeyer/following{/other_user}", "gists_url": "https://api.github.com/users/d4nielmeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/d4nielmeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d4nielmeyer/subscriptions", "organizations_url": "https://api.github.com/users/d4nielmeyer/orgs", "repos_url": "https://api.github.com/users/d4nielmeyer/repos", "events_url": "https://api.github.com/users/d4nielmeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/d4nielmeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-27T13:47:46Z", "updated_at": "2023-04-21T20:40:02Z", "closed_at": "2023-04-21T20:40:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI have a dataset containing 1 endogenous and 5 exogenous variables and would like to do cross-validation (via ExpandingWindowSplitter) to evaluate several AutoARIMA models. In particular, my intention was to use an initial_window = 3, step_length = 1 and fh = [1, 2, 3] (as illustrated below). \r\n\r\n| * * * x x x - - - |\r\n| * * * * x x x - - |\r\n| * * * * * x x x - |\r\n| * * * * * * x x x |\r\n\r\nX (exogenous variables) is of shape (16, 5), while y (endogenous variable) is of shape (16, ). After running temporal cross-validation I get train and test indices of length 3 for the first split -> train [0, 1, 2] and test [3, 4, 5], which is what I would expect. However, within the temporal CV when I split the data into X/y-train/test I get y_train of shape (3, ), y_test (3, ), X_train (3, 5) but X_test (6, 5). Since X_test: n_rows=6 doesn't match n_periods=3 it is not accepted to be passed inside the predict-method (inside the evaluate-method). As a consequence I get the following error notification:\r\n\r\n`ValueError('X array dims (n_rows) != n_periods')`\r\n\r\n\r\n**To Reproduce**\r\n\r\nTo reproduce the error I used a simple, but similar dataset from the sktime library:\r\n\r\n\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.performance_metrics.forecasting import MeanAbsoluteError\r\nimport numpy as np\r\n\r\ny, X = load_longley()\r\n\r\nforecaster = AutoARIMA()\r\ncv = ExpandingWindowSplitter(initial_window=3, step_length=1, fh=np.arange(1, 4))\r\nloss = MeanAbsoluteError()\r\n\r\nresults = evaluate(forecaster=forecaster, y=y, X=X, cv=cv, error_score='raise', scoring=loss)\r\n```\r\n\r\n**Expected behavior**\r\nI am pretty aware of the facts that: \r\n- If you fit with exogenous, you must predict with exogenous\r\n- When you are predicting with exogenous, your dimensions must match.\r\n\r\nBut to some extent I would expect that (S)ARIMAX-models were capable of handling inputs at inference time in a way like:\r\n***A)***\r\n input:\r\n  ------------------     y(t-3)\r\n  ------------------     y(t-2)\r\n  ------------------     y(t-1)\r\n x1(t)    x2(t)     x3(t)   \r\n\r\noutput:\r\n y(t) \r\n y(t+1) \r\n y(t+2) \r\n y(t+3)\r\n\r\nor ***B)***:\r\n input:\r\n x1(t-3)  x2(t-3)   x3(t-3)   y(t-3)\r\n x1(t-2)  x2(t-2)   x3(t-2)   y(t-2)\r\n x1(t-1)  x2(t-1)   x3(t-1)   y(t-1)\r\n\r\n output:\r\n y(t) \r\n y(t+1) \r\n y(t+2) \r\n y(t+3)\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.9.13 | packaged by conda-forge | (main, May 27 2022, 17:01:00)  [Clang 13.0.1 ]\r\nexecutable: /Users/dmr/miniforge3/envs/explain/bin/python\r\n   machine: macOS-12.6-arm64-arm-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.3\r\n   setuptools: 65.4.1\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.23.3\r\n        scipy: 1.8.1\r\n       pandas: 1.4.4\r\n   matplotlib: 3.6.0\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.17.0\r\n\r\n***Thanks for any comments/ advice!***\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3657/reactions", "total_count": 5, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 3}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3640", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3640/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3640/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3640/events", "html_url": "https://github.com/sktime/sktime/issues/3640", "id": 1419970200, "node_id": "I_kwDOCVKAsc5UowaY", "number": 3640, "title": "[BUG] ensemble forecasters fail if a wrapped forecaster requires `fh` in `fit`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-23T23:09:03Z", "updated_at": "2022-10-30T14:49:07Z", "closed_at": "2022-10-30T14:49:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The ensemble forecasters always have the `requires-fh-in-fit` flag set to `False`, so will fail if at least one of the wrapped forecasters requires `fh` in `fit`.\r\n\r\nFor an example failure, see the test case added in https://github.com/sktime/sktime/pull/3637\r\n\r\nSetting the tag correctly could be achieved with `_anytagis_then_set` inherited from the heterogeneous ensemble mixin, see other instances of it.\r\n\r\nFYI @AnH0ang ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3633", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3633/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3633/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3633/events", "html_url": "https://github.com/sktime/sktime/issues/3633", "id": 1419758067, "node_id": "I_kwDOCVKAsc5Un8nz", "number": 3633, "title": "[BUG] Missing `get_test_params()` class method for DL estimators ", "user": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-23T11:09:43Z", "updated_at": "2022-11-16T17:38:54Z", "closed_at": "2022-11-16T17:38:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nThe default values of DL estimators are chosen as per the recommendation by the author of that estimator. This often results in classifiers/regressors that are big, making it more difficult to test its interface / binding contract in `sktime`. To reduce the testing time, a class method `get_test_param()` is to be used which contains 'smaller' values that will be fed to the constructor for testing purposes.\r\n\r\nTake a look at TapNet's [classifier](https://github.com/sktime/sktime/blob/main/sktime/classification/deep_learning/tapnet.py#L235) and [regressor](https://github.com/sktime/sktime/blob/main/sktime/regression/deep_learning/tapnet.py#L216) for how this can be done.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nThe errors due to the lack of this method are sporadic in nature but have been caught in various runners like #3525, and #3562, where one of the estimators cause the workers to crash. See #3620 for discussion.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n- Apart from decreasing the testing time by decreasing the model size, one also needs to take care of the fact there is significant code coverage from the choices of parameters.\r\n- At least two sets of params should be provided for this. Kindly check the link provided for tapnet for clarity.\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3633/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3621", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3621/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3621/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3621/events", "html_url": "https://github.com/sktime/sktime/issues/3621", "id": 1416472811, "node_id": "I_kwDOCVKAsc5Ubajr", "number": 3621, "title": "[BUG] Ensemble forecaster fails on multivariate data", "user": {"login": "AnH0ang", "id": 46025351, "node_id": "MDQ6VXNlcjQ2MDI1MzUx", "avatar_url": "https://avatars.githubusercontent.com/u/46025351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnH0ang", "html_url": "https://github.com/AnH0ang", "followers_url": "https://api.github.com/users/AnH0ang/followers", "following_url": "https://api.github.com/users/AnH0ang/following{/other_user}", "gists_url": "https://api.github.com/users/AnH0ang/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnH0ang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnH0ang/subscriptions", "organizations_url": "https://api.github.com/users/AnH0ang/orgs", "repos_url": "https://api.github.com/users/AnH0ang/repos", "events_url": "https://api.github.com/users/AnH0ang/events{/privacy}", "received_events_url": "https://api.github.com/users/AnH0ang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-20T11:46:24Z", "updated_at": "2022-10-23T15:09:49Z", "closed_at": "2022-10-23T15:09:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe `EnsembleForecaster` fail when ensembling multivariate forecasting models. \r\n\r\nThis is because `EnsembleForecaster` has the `\"scitype:y\": \"univariate\"` tag which means that the ensemble forecaster is fitted on each column separately. But multivariate forecasting models such as VAR assume that all columns are passed.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.compose import EnsembleForecaster\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.var import VAR\r\n\r\n# load data\r\n_, y = load_longley()\r\n\r\n# run ensembler\r\nforecaster = EnsembleForecaster(\r\n    forecasters=[(\"var1\", VAR()), (\"var2\", VAR())],\r\n    aggfunc=\"mean\"\r\n)\r\nforecaster.fit(y)\r\nforecaster.predict(fh=[1,2,3])\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe ensemble forecaster should ensemble all models without any failure.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n```raw\r\nSystem:\r\n    python: 3.8.9 (default, Oct 16 2021, 12:00:06)  [Clang 12.0.0 (clang-1200.0.32.29)]\r\nexecutable: /Users/anhoang/Scratchpad/.venv/bin/python\r\n   machine: macOS-12.5.1-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.3\r\n   setuptools: 49.2.1\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.5.1\r\n   matplotlib: None\r\n       joblib: 1.2.0\r\n        numba: 0.56.3\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3619", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3619/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3619/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3619/events", "html_url": "https://github.com/sktime/sktime/issues/3619", "id": 1415338339, "node_id": "I_kwDOCVKAsc5UXFlj", "number": 3619, "title": "[BUG] Can't create usable ForecastHorizon with timedeltas", "user": {"login": "gerarddet", "id": 113707464, "node_id": "U_kgDOBscJyA", "avatar_url": "https://avatars.githubusercontent.com/u/113707464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerarddet", "html_url": "https://github.com/gerarddet", "followers_url": "https://api.github.com/users/gerarddet/followers", "following_url": "https://api.github.com/users/gerarddet/following{/other_user}", "gists_url": "https://api.github.com/users/gerarddet/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerarddet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerarddet/subscriptions", "organizations_url": "https://api.github.com/users/gerarddet/orgs", "repos_url": "https://api.github.com/users/gerarddet/repos", "events_url": "https://api.github.com/users/gerarddet/events{/privacy}", "received_events_url": "https://api.github.com/users/gerarddet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-19T17:23:24Z", "updated_at": "2022-10-24T13:58:50Z", "closed_at": "2022-10-22T15:57:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm unsuccessfully trying to use sktime's ForecastingGridSearchCV with timedeltas.  \r\n\r\nI am using timedeltas---not timestamps---because I have disconnected data which only includes 8:00am - 12:00am daily.  I wrote a class that clips out all other times so that the data is datatime.timedelta where 0:00-4:00 is for day 1, 4:00-8:00 is for day 2, 8:00-12:00 is for day 3, etc. \r\n\r\nHere is a simple test case that shows the problem.  I expect both versions ===1=== and ===2=== should work.  I don't care if only one works; I 'm just trying to find a version that works.  (Note: there may well be bugs in the code after these statements).\r\n\r\n**To Reproduce**\r\nRun the code below.  There are 2 versions.  Run the code with just ===1=== uncommented, OR just ===2=== uncomment.  I expect both versions should work. \r\n\r\n```python\r\n\tfrom datetime import timedelta\r\n\r\n\timport numpy as np\r\n\timport pandas as pd\r\n\tfrom sktime.forecasting.base import ForecastingHorizon\r\n\tfrom sktime.forecasting.compose import MultiplexForecaster\r\n\tfrom sktime.forecasting.compose import TransformedTargetForecaster\r\n\tfrom sktime.forecasting.model_selection import ForecastingGridSearchCV, SlidingWindowSplitter\r\n\tfrom sktime.forecasting.naive import NaiveForecaster\r\n\tfrom sktime.performance_metrics.forecasting import mean_absolute_percentage_error\r\n\r\n\tagg_window = 300        # 5 minutes\r\n\thorizon_window = 3\r\n\r\n\tpdf = pd.DataFrame(\r\n\t\tindex=[timedelta(seconds=s * agg_window) for s in range(24)],\r\n\t\tdata={\"y\": np.random.random(24), \"X\": np.random.random(24)}\r\n\t)\r\n\r\n\tprint(pdf.dtypes)\r\n\tprint(pdf)\r\n\r\n\ttest_len = 6\r\n\tX_train = pdf[\"X\"][0:-test_len]\r\n\ty_train = pdf[\"y\"][0:-test_len]\r\n\tX_test = pdf[\"X\"][-test_len:]\r\n\ty_test = pdf[\"y\"][-test_len:]\r\n\r\n\tprint(X_train)\r\n\tprint(y_train)\r\n\r\n\tprint([np.timedelta64(s * agg_window, 's') for s in range(1, horizon_window + 1)])\r\n\tprint(\"isinstance\", isinstance(np.timedelta64(300, 's'), (int, np.integer)))\r\n\r\n\t# Only use NaiveForecaster to keep test case as simple as possible\r\n\tparam_grid = [\r\n\t\t{\r\n\t\t\t'forecast__selected_forecaster': [\"naive\"],\r\n\t\t}\r\n\t]\r\n\r\n\tforecaster = TransformedTargetForecaster([\r\n\t\t# (\"deseasonalize\", Deseasonalizer(model=\"additive\", sp=sp)),\r\n\t\t# (\"detrend\", Detrender(forecaster=PolynomialTrendForecaster(degree=1))),\r\n\t\t(\"forecast\", MultiplexForecaster(forecasters=[\r\n\t\t\t(\"naive\", NaiveForecaster(strategy=\"last\")),\r\n\t\t\t# Other Forecasts removed for simplicity\r\n\t\t]))\r\n\t])\r\n\tfh = ForecastingHorizon(\r\n\t\t[datetime.timedelta(seconds=s * agg_window) for s in range(1, horizon_window + 1)], # ===1===\r\n\t\t# [np.timedelta64(s * agg_window, 's') for s in range(1, horizon_window + 1)],      # ===2===\r\n\t\tis_relative=True\r\n\t)\r\n\tsplitter_window_length = timedelta(seconds=horizon_window * agg_window)                 # ===1===\r\n\t# splitter_window_length = np.timedelta64(horizon_window * agg_window, \"s\")             # ===2===\r\n\r\n\t# Print out types for ===1===\r\n\tprint(type(y_train.index.dtype), type(X_train.index.dtype), type(fh), type(splitter_window_length))\r\n\tprint([type(x) for x in fh])\r\n\r\n\tcv = SlidingWindowSplitter(fh=fh, window_length=splitter_window_length)\r\n\tgscv = ForecastingGridSearchCV(\r\n\t\tforecaster, strategy=\"refit\", cv=cv, param_grid=param_grid\r\n\t)\r\n\r\n\tgscv.fit(y_train, X=X_train)\r\n\ty_pred = gscv.predict(fh, X=X_test)\r\n\t# plot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"])\r\n\tmean_absolute_percentage_error(y_test, y_pred, symmetric=False)\r\n```\r\n\r\n**Expected behavior**\r\nI expect both versions ===1=== and ===2=== should work. \r\n\r\n**Additional context**\r\nApproach ===1===: \r\n\r\nThis version attempts to use datetime.timedelta types. When I use just the ===1=== lines, I get the following error:\r\n\r\n\ton SlidingWindowSplitter statement \r\n\t\r\n\tFile \".../python3.7/site-packages/sktime/forecasting/model_selection/_split.py\", line 272\r\n\tTypeError: Unsupported combination of types\r\n\t\r\nThe printout of the types of the various fields shows the elements of `fh` get converted to pandas Timedelta.  Overall, I would think this combination should be allowed, but the \"bad combination\" message is not completely unreasonable since the types are different.  But, I don't want to covert everything to Pandas Timedeltas (this code is part of a PySpark application).  So this is a dead end. \r\n\r\n\t\r\nApproach ===2===: \r\n\r\nThis version attempts to use np.timedelta64 types.  When I use just the ===2=== lines, I get the following error;\r\n\r\n\ton ForecastingHorizon statement\r\n\t\r\n\tFile \".../python3.7/site-packages/pandas/core/dtypes/cast.py\", line 2042\r\n\tTypeError: int() argument must be a string, a bytes-like object or a number, not 'datetime.timedelta'\r\n\r\nThe problem occurs in method maybe_cast_to_integer_array in pandas/core/dtypes/cast.py.  \r\n\r\n\tcasted = arr.astype(dtype, copy=copy)\r\n\r\nThis statement raises an exception where: \r\n- arr is the ndarray [numpy.timedelta64(300,'s') numpy.timedelta64(600,'s'), numpy.timedelta64(900,'s')]\r\n- dtype=int32 \r\n\r\nIt is method method _check_values where the first elif branch list below is taken, and dtype is fixed to int.  But it should fall thru to the second listed elif branch.  \r\n\r\n\tdef _check_values(...): \r\n\r\n\t\t... \r\n\t\r\n\t\t# convert np.array or list to pandas index\r\n\t\telif is_array(values) and array_is_int(values):\r\n\t\t\tvalues = pd.Index(values, dtype=int)\r\n\r\n\t\telif is_array(values) and array_is_timedelta_or_date_offset(values):\r\n\t\t\tvalues = pd.Index(values)\r\n\r\nThe ultimate problem is array_is_int in the first elif branch which ultimately calls array_is_int.  \r\n\r\n\tdef is_int(x) -> bool:\r\n\t\t\"\"\"Check if x is of integer type, but not boolean.\"\"\"\r\n\t\t# boolean are subclasses of integers in Python, so explicitly exclude them\r\n\t\treturn isinstance(x, (int, np.integer)) and not isinstance(x, bool)\r\n\t\r\nA simple test shows \r\n\r\n\tisinstance(np.timedelta64(300, 's'), (int, np.integer)) is TRUE \r\n\r\nThis method returns True when it should return False.  So either \r\n1 - Method is_int needs to include a separate check for not np.timedelta64 in addition to bool, or  \r\n2 - Switch the two elif clauses above would probably work. \r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.13 (default, Mar 28 2022, 07:24:34)  [Clang 12.0.0 ]\r\nexecutable: /Users/gerard/biz/client/Detelytics/2022/repo/LivliMobility/env/bin/python3.7\r\n   machine: Darwin-21.6.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.2.2\r\n   setuptools: 63.4.1\r\n      sklearn: 1.0.2\r\n       sktime: 0.12.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3619/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3612", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3612/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3612/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3612/events", "html_url": "https://github.com/sktime/sktime/pull/3612", "id": 1414500532, "node_id": "PR_kwDOCVKAsc5BFX-u", "number": 3612, "title": "[BUG] fix typo that stops pytests running locally", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-19T08:04:36Z", "updated_at": "2022-10-19T10:55:47Z", "closed_at": "2022-10-19T10:55:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3612", "html_url": "https://github.com/sktime/sktime/pull/3612", "diff_url": "https://github.com/sktime/sktime/pull/3612.diff", "patch_url": "https://github.com/sktime/sktime/pull/3612.patch", "merged_at": null}, "body": "fixes a typo in setup.cfg that stops pytest running correctly locally\r\n\r\naddopts -> adopts", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3612/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3605", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3605/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3605/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3605/events", "html_url": "https://github.com/sktime/sktime/issues/3605", "id": 1413504957, "node_id": "I_kwDOCVKAsc5UQF-9", "number": 3605, "title": "[BUG] `FourierFeatures` with `pd.DatetimeIndex`", "user": {"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-18T16:19:56Z", "updated_at": "2022-11-10T06:51:35Z", "closed_at": "2022-11-10T06:51:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using data with a `pd.DatetimeIndex` in the `FourierFeatures` transformer, it gets converted into nanoseconds. This means you have to specify all of your sp in terms of nanoseconds which is not clear.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.transformations.series.fourier import FourierFeatures\r\nfrom sktime.utils.plotting import plot_series\r\n\r\ndf = load_airline()\r\ndf.index = df.index.to_timestamp(freq=\"M\")\r\nfrom sktime.transformations.series.fourier import FourierFeatures\r\nF_transform = FourierFeatures(sp_list = [12], fourier_terms_list=[2]) # should be yearly\r\nsp1 = F_transform.fit_transform(df)\r\n\r\n# Convert seasonality to nanoseconds to get correct result\r\nF_transform = FourierFeatures(sp_list = [12*30*24*3600000000000], fourier_terms_list=[2])\r\nsp2 = F_transform.fit_transform(df)\r\n\r\nplot_series(sp1[\"sin_12_1\"], sp2[\"sin_31104000000000000_1\"])\r\n```\r\n\r\n**Expected behavior**\r\nWould expect it to work from the frequency of the index in the `DatetimeIndex` case. \r\n\r\n**Additional context**\r\nHave added functionality for the expected behaviour in #3606.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3604", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3604/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3604/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3604/events", "html_url": "https://github.com/sktime/sktime/issues/3604", "id": 1413177685, "node_id": "I_kwDOCVKAsc5UO2FV", "number": 3604, "title": "[BUG] CI fails on win with no code changes", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-10-18T12:53:26Z", "updated_at": "2023-02-04T20:00:38Z", "closed_at": "2023-02-04T20:00:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nCI fail on windows with only changes being to sphinx documentation rst files and no code changes. Noticed in  https://github.com/sktime/sktime/pull/3603\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/8989838/196434625-6fbb1d66-41a6-4d85-8204-d2df8e068923.png)\r\n\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3604/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3601", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3601/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3601/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3601/events", "html_url": "https://github.com/sktime/sktime/issues/3601", "id": 1412762486, "node_id": "I_kwDOCVKAsc5UNQt2", "number": 3601, "title": "[BUG] Recursive forecasting and Window Summarizer don't work similarly to each other.", "user": {"login": "HishamSalem", "id": 63689667, "node_id": "MDQ6VXNlcjYzNjg5NjY3", "avatar_url": "https://avatars.githubusercontent.com/u/63689667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HishamSalem", "html_url": "https://github.com/HishamSalem", "followers_url": "https://api.github.com/users/HishamSalem/followers", "following_url": "https://api.github.com/users/HishamSalem/following{/other_user}", "gists_url": "https://api.github.com/users/HishamSalem/gists{/gist_id}", "starred_url": "https://api.github.com/users/HishamSalem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HishamSalem/subscriptions", "organizations_url": "https://api.github.com/users/HishamSalem/orgs", "repos_url": "https://api.github.com/users/HishamSalem/repos", "events_url": "https://api.github.com/users/HishamSalem/events{/privacy}", "received_events_url": "https://api.github.com/users/HishamSalem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-18T08:07:14Z", "updated_at": "2022-11-08T20:27:21Z", "closed_at": "2022-11-08T20:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n-->\r\nRecursive Forecasting and Window Summarizer do not provide similar results. \r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n#### Imports\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.utils.plotting import plot_series\r\nfrom sktime.performance_metrics.forecasting import mean_absolute_percentage_error\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom lightgbm.sklearn import LGBMRegressor\r\nfrom sklearn.ensemble import RandomForestRegressor\r\nfrom sklearn.ensemble import HistGradientBoostingRegressor\r\nfrom sklearn.ensemble import GradientBoostingRegressor\r\nfrom xgboost import XGBRegressor\r\nfrom sktime.transformations.series.summarize import WindowSummarizer\r\n\r\n\r\n### Different regressors to try\r\nensemblealgos=[RandomForestRegressor(),GradientBoostingRegressor(),HistGradientBoostingRegressor(),XGBRegressor(),LGBMRegressor()]\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y, test_size=30)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\nkwargs = {\r\n    \"lag_feature\": {\r\n        \"lag\": [i for i in range(1,13)],\r\n        #\"mean\": [[1, 52], [3, 52]],\r\n        #\"std\": [[1, 52]],\r\n    }\r\n}\r\n\r\n%%time\r\nfor algo in ensemblealgos:\r\n  print(algo)\r\n  for i in range(1,5):\r\n    regressor = algo\r\n    forecaster = make_reduction(regressor, window_length=int(12), strategy=\"recursive\")\r\n    forecaster.fit(y_train)\r\n    y_pred = forecaster.predict(fh)\r\n    #plot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"])\r\n    print(mean_absolute_percentage_error(y_test, y_pred, symmetric=False))\r\n\r\n\r\n### Model with different transformer\r\n%%time\r\nfor algo in ensemblealgos:\r\n  print(algo)\r\n  for i in range(1,5):\r\n    regressor = RandomForestRegressor()\r\n    forecaster = make_reduction(regressor, window_length=None, strategy=\"recursive\",transformers=[WindowSummarizer(**kwargs, n_jobs=1)])\r\n    forecaster.fit(y_train)\r\n    y_pred = forecaster.predict(fh)\r\n    #plot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"])\r\n    print(mean_absolute_percentage_error(y_test, y_pred, symmetric=False))\r\n\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\n-->\r\nResults should look similar or close to each other.\r\n\r\n**Additional context**\r\n<!--\r\n\r\n-->\r\n```\r\n####Using sliding window\r\nOutputs from my end\r\nRandomForestRegressor()\r\n0.09542393170024911\r\n0.09587192333423149\r\n0.09615042673478116\r\n0.09577830829281102\r\nGradientBoostingRegressor()\r\n0.11872564042764874\r\n0.12392810863519736\r\n0.12256783941521117\r\n0.12273453850458489\r\nHistGradientBoostingRegressor()\r\n0.16575414733367372\r\n0.16575414733367372\r\n0.16575414733367372\r\n0.16575414733367372\r\nXGBRegressor()\r\n[08:02:42] WARNING: /workspace/src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\r\n0.11228547590670347\r\n[08:02:42] WARNING: /workspace/src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\r\n0.11228547590670347\r\n[08:02:42] WARNING: /workspace/src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\r\n0.11228547590670347\r\n[08:02:42] WARNING: /workspace/src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\r\n0.11228547590670347\r\nLGBMRegressor()\r\n0.16571286941830107\r\n0.16571286941830107\r\n0.16571286941830107\r\n0.16571286941830107\r\nCPU times: user 4.21 s, sys: 186 ms, total: 4.4 s\r\nWall time: 4.75 s\r\n\r\n##Using Window Transformer\r\nRandomForestRegressor()\r\n0.12962186701907566\r\n0.13159675122854436\r\n0.13033714391420395\r\n0.1350507664821064\r\nGradientBoostingRegressor()\r\n0.1335840947243475\r\n0.13659263188925375\r\n0.13345639986226712\r\n0.13470339423499217\r\nHistGradientBoostingRegressor()\r\n0.13264430177747516\r\n0.1339983399675518\r\n0.1326587102817897\r\n0.1312519660031352\r\nXGBRegressor()\r\n0.13625537316198463\r\n0.13197734633305888\r\n0.1326847438448919\r\n0.13490143601616006\r\nLGBMRegressor()\r\n0.13516534619940587\r\n0.1354277168232956\r\n0.13382313420397354\r\n0.13207307261137405\r\nCPU times: user 42.4 s, sys: 739 ms, total: 43.1 s\r\nWall time: 43.5 s\r\n```\r\n**Versions**\r\nXGBoost: 0.90\r\nLightGBM:2.2.3\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n\r\nSystem:\r\n    python: 3.7.15 (default, Oct 12 2022, 19:14:55)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.10.133+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.3\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: 2.0.1\r\n      tsfresh: None\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3601/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3598", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3598/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3598/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3598/events", "html_url": "https://github.com/sktime/sktime/pull/3598", "id": 1412129080, "node_id": "PR_kwDOCVKAsc5A9ZWq", "number": 3598, "title": "[BUG] fix `get_fitted_params` default for unfittable components", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1180366006, "node_id": "MDU6TGFiZWwxMTgwMzY2MDA2", "url": "https://api.github.com/repos/sktime/sktime/labels/implementing%20framework", "name": "implementing framework", "color": "61c7f9", "default": false, "description": "Implementing or improving framework for learning tasks, e.g., base class functionality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-17T19:52:58Z", "updated_at": "2022-10-25T22:20:40Z", "closed_at": "2022-10-25T22:20:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3598", "html_url": "https://github.com/sktime/sktime/pull/3598", "diff_url": "https://github.com/sktime/sktime/pull/3598.diff", "patch_url": "https://github.com/sktime/sktime/pull/3598.patch", "merged_at": "2022-10-25T22:20:39Z"}, "body": "The default `get_fitted_params` would break if unfittable components were present, i.e., `BaseObject` children that were not `BaseEstimator` children due to a query to the `_is_fitted` attribute that only `BaseEstimator` children have.\r\n\r\nThis has been fixed.\r\n\r\nFixes various issues in https://github.com/sktime/sktime/pull/3590 which occur for calling `get_fitted_params` on composites with unfittable components.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3598/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3594", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3594/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3594/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3594/events", "html_url": "https://github.com/sktime/sktime/pull/3594", "id": 1410594956, "node_id": "PR_kwDOCVKAsc5A4O4t", "number": 3594, "title": "[DOC] fixes incorrect coc issue reporting link in issue tracker and remaining references in coc", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-16T19:29:17Z", "updated_at": "2022-10-16T19:33:36Z", "closed_at": "2022-10-16T19:33:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3594", "html_url": "https://github.com/sktime/sktime/pull/3594", "diff_url": "https://github.com/sktime/sktime/pull/3594.diff", "patch_url": "https://github.com/sktime/sktime/pull/3594.patch", "merged_at": "2022-10-16T19:33:35Z"}, "body": "Fixes #3592 and some remaining references to specific members of the committee.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3594/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3592", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3592/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3592/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3592/events", "html_url": "https://github.com/sktime/sktime/issues/3592", "id": 1410579145, "node_id": "I_kwDOCVKAsc5UE7rJ", "number": 3592, "title": "[BUG] Broken link to code of conduct incident reporting", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-16T18:36:55Z", "updated_at": "2022-10-16T19:33:36Z", "closed_at": "2022-10-16T19:33:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nthe link here \r\n\r\n![image](https://user-images.githubusercontent.com/9594042/196052034-8b2f0816-7f10-4b89-aade-3ff4338d27ae.png)\r\n\r\ngoes here\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/196052052-e7dde422-4f0c-428c-8cda-ae25932790ae.png)\r\n \r\n\r\n**To Reproduce**\r\n\r\nclick on new issue, click on \"Code of Conduct incident reporting\"  <open>\r\n\r\n**Additional context**\r\n\r\nI've had a quick look but I cant actually find the text for incident reporting. \r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3586", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3586/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3586/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3586/events", "html_url": "https://github.com/sktime/sktime/issues/3586", "id": 1410313925, "node_id": "I_kwDOCVKAsc5UD67F", "number": 3586, "title": "[BUG] sktime incompatible with the latest versions of scipy", "user": {"login": "adamcataldo", "id": 1730450, "node_id": "MDQ6VXNlcjE3MzA0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1730450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamcataldo", "html_url": "https://github.com/adamcataldo", "followers_url": "https://api.github.com/users/adamcataldo/followers", "following_url": "https://api.github.com/users/adamcataldo/following{/other_user}", "gists_url": "https://api.github.com/users/adamcataldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamcataldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamcataldo/subscriptions", "organizations_url": "https://api.github.com/users/adamcataldo/orgs", "repos_url": "https://api.github.com/users/adamcataldo/repos", "events_url": "https://api.github.com/users/adamcataldo/events{/privacy}", "received_events_url": "https://api.github.com/users/adamcataldo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-15T23:06:20Z", "updated_at": "2022-10-16T20:52:49Z", "closed_at": "2022-10-16T20:52:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe latest versions of scipy (>= 1.9.0) are incompatible with the latest sktime version.\r\n\r\n**To Reproduce**\r\n\r\n1. In a clean virtual environment, create this requirements.txt file:\r\n```\r\nscipy==1.9.2\r\nsktime==0.13.4\r\n```\r\n2. Install the requirements with pip:\r\n```\r\n% pip install -r requirements.txt\r\n```\r\n\r\n**Bug**:\r\n```\r\nCollecting scipy==1.9.2\r\n  Using cached scipy-1.9.2-cp310-cp310-macosx_10_9_x86_64.whl (34.2 MB)\r\nCollecting sktime==0.13.4\r\n  Using cached sktime-0.13.4-py3-none-any.whl (7.0 MB)\r\nCollecting numpy<1.26.0,>=1.18.5\r\n  Using cached numpy-1.23.4-cp310-cp310-macosx_10_9_x86_64.whl (18.1 MB)\r\nCollecting statsmodels>=0.12.1\r\n  Using cached statsmodels-0.13.2-cp310-cp310-macosx_10_9_x86_64.whl (9.7 MB)\r\nCollecting deprecated>=1.2.13\r\n  Using cached Deprecated-1.2.13-py2.py3-none-any.whl (9.6 kB)\r\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\r\nINFO: pip is looking at multiple versions of scipy to determine which version is compatible with other requirements. This could take a while.\r\nERROR: Cannot install -r requirements.txt (line 2) and scipy==1.9.2 because these package versions have conflicting dependencies.\r\n\r\nThe conflict is caused by:\r\n    The user requested scipy==1.9.2\r\n    sktime 0.13.4 depends on scipy<1.9.0\r\n\r\nTo fix this you could try to:\r\n1. loosen the range of package versions you've specified\r\n2. remove package versions to allow pip attempt to solve the dependency conflict\r\n```\r\n\r\n\r\n**Expected behavior**\r\n\r\nI would expect the latest release versions of scipy and sktime to be mutually compatible, given they are likely to frequently be used together.\r\n\r\n**Additional context**\r\n\r\nI could take a stab at the fix, but I would need someone to explain the why behind the upper bound in [pyproject.toml](https://github.com/sktime/sktime/blob/main/pyproject.toml), so I know what to replace it with:\r\n\r\n```\r\n    \"scipy<1.9.0\",\r\n```\r\n\r\nI'm assuming there's some implicit SemVer policy behind the upper bound, though it could be something else, like sktime depends on implicit behavior in scipy in a way that breaks with the latest version. If it's the latter case, this is probably beyond my scope, since this would be my first contribution.\r\n\r\n**Versions**\r\n\r\nN/A: You can't actually run `show_versions` when the package install fails.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3582", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3582/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3582/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3582/events", "html_url": "https://github.com/sktime/sktime/issues/3582", "id": 1408201350, "node_id": "I_kwDOCVKAsc5T73KG", "number": 3582, "title": "[BUG] Numba error when setting n_jobs", "user": {"login": "henrydeclety", "id": 15074586, "node_id": "MDQ6VXNlcjE1MDc0NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/15074586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henrydeclety", "html_url": "https://github.com/henrydeclety", "followers_url": "https://api.github.com/users/henrydeclety/followers", "following_url": "https://api.github.com/users/henrydeclety/following{/other_user}", "gists_url": "https://api.github.com/users/henrydeclety/gists{/gist_id}", "starred_url": "https://api.github.com/users/henrydeclety/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henrydeclety/subscriptions", "organizations_url": "https://api.github.com/users/henrydeclety/orgs", "repos_url": "https://api.github.com/users/henrydeclety/repos", "events_url": "https://api.github.com/users/henrydeclety/events{/privacy}", "received_events_url": "https://api.github.com/users/henrydeclety/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-10-13T17:49:33Z", "updated_at": "2022-10-18T15:11:19Z", "closed_at": "2022-10-18T15:11:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n-->\r\nNumba error when setting n_jobs\r\n\r\n**To Reproduce**\r\n<!--\r\n-->\r\nHow can i upload my dataset? It has to be related to my dataset because it works fine with sktime datasets.\r\n\r\n```python\r\nestimators = [(\"oscillator\", DrCIF(n_jobs=6), oscillator_columns)]\r\nensemble_model = ColumnEnsembleClassifier(estimators=estimators, remainder=\"passthrough\")\r\nensemble_model.fit(exog, endog)\r\n```\r\n\r\n**Additional context**\r\n<!--\r\n-->\r\nI get the following error when I fit the classifier and set n_jobs (to 6 for exemple). I have double check my dataset, everything seems fine (ive tried applying np.median to all entries and no problem with that).\r\n\r\n```\r\nnumba.core.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nNo implementation of function Function(<function median at 0x7fecff6e0160>) found for signature:\r\n \r\n >>> median(readonly array(float64, 1d, C))\r\n \r\nThere are 2 candidate implementations:\r\n  - Of which 2 did not match due to:\r\n  Overload in function 'np_median': File: numba/np/arraymath.py: Line 1447.\r\n    With argument(s): '(readonly array(float64, 1d, C))':\r\n   Rejected as the implementation raised a specific error:\r\n     TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n   No implementation of function Function(<function _median_inner at 0x7fecdee57820>) found for signature:\r\n    \r\n    >>> _median_inner(readonly array(float64, 1d, C), int64)\r\n    \r\n   There are 2 candidate implementations:\r\n         - Of which 2 did not match due to:\r\n         Overload in function 'register_jitable.<locals>.wrap.<locals>.ov_wrap': File: numba/core/extending.py: Line 159.\r\n           With argument(s): '(readonly array(float64, 1d, C), int64)':\r\n          Rejected as the implementation raised a specific error:\r\n            TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n          No implementation of function Function(<function _select_two at 0x7fecdee57700>) found for signature:\r\n           \r\n           >>> _select_two(readonly array(float64, 1d, C), int64, Literal[int](0), int64)\r\n           \r\n          There are 2 candidate implementations:\r\n                - Of which 1 did not match due to:\r\n                Overload in function 'register_jitable.<locals>.wrap.<locals>.ov_wrap': File: numba/core/extending.py: Line 159.\r\n                  With argument(s): '(readonly array(float64, 1d, C), int64, int64, int64)':\r\n                 Rejected as the implementation raised a specific error:\r\n                   TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n                 No implementation of function Function(<function _partition_factory.<locals>._partition at 0x7fecdee57280>) found for signature:\r\n                  \r\n                  >>> _partition(readonly array(float64, 1d, C), int64, int64)\r\n                  \r\n                 There are 2 candidate implementations:\r\n                       - Of which 2 did not match due to:\r\n                       Overload in function 'register_jitable.<locals>.wrap.<locals>.ov_wrap': File: numba/core/extending.py: Line 159.\r\n                         With argument(s): '(readonly array(float64, 1d, C), int64, int64)':\r\n                        Rejected as the implementation raised a specific error:\r\n                          TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n                        No implementation of function Function(<built-in function setitem>) found for signature:\r\n                         \r\n                         >>> setitem(readonly array(float64, 1d, C), int64, float64)\r\n                         \r\n                        There are 16 candidate implementations:\r\n                              - Of which 14 did not match due to:\r\n                              Overload of function 'setitem': File: <numerous>: Line N/A.\r\n                                With argument(s): '(readonly array(float64, 1d, C), int64, float64)':\r\n                               No match.\r\n                              - Of which 2 did not match due to:\r\n                              Overload in function 'SetItemBuffer.generic': File: numba/core/typing/arraydecl.py: Line 176.\r\n                                With argument(s): '(readonly array(float64, 1d, C), int64, float64)':\r\n                               Rejected as the implementation raised a specific error:\r\n                                 NumbaTypeError: Cannot modify readonly array of type: readonly array(float64, 1d, C)\r\n                          raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typing/arraydecl.py:183\r\n                        \r\n                        During: typing of setitem at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1354)\r\n                        \r\n                        File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1354:\r\n                            def _partition(A, low, high):\r\n                                <source elided>\r\n                                if pivotimpl(A[mid], A[low]):\r\n                                    A[low], A[mid] = A[mid], A[low]\r\n                                    ^\r\n                 \r\n                   raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n                 \r\n                 During: resolving callee type: Function(<function _partition_factory.<locals>._partition at 0x7fecdee57280>)\r\n                 During: typing of call at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1416)\r\n                 \r\n                 \r\n                 File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1416:\r\n                 def _select_two(arry, k, low, high):\r\n                     <source elided>\r\n                         assert high > low  # by construction\r\n                         i = _partition(arry, low, high)\r\n                         ^\r\n          \r\n            raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n                - Of which 1 did not match due to:\r\n                Overload in function 'register_jitable.<locals>.wrap.<locals>.ov_wrap': File: numba/core/extending.py: Line 159.\r\n                  With argument(s): '(readonly array(float64, 1d, C), int64, Literal[int](0), int64)':\r\n                 Rejected as the implementation raised a specific error:\r\n                   TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n                 No implementation of function Function(<function _partition_factory.<locals>._partition at 0x7fecdee57280>) found for signature:\r\n                  \r\n                  >>> _partition(readonly array(float64, 1d, C), Literal[int](0), int64)\r\n                  \r\n                 There are 2 candidate implementations:\r\n                       - Of which 1 did not match due to:\r\n                       Overload in function 'register_jitable.<locals>.wrap.<locals>.ov_wrap': File: numba/core/extending.py: Line 159.\r\n                         With argument(s): '(readonly array(float64, 1d, C), int64, int64)':\r\n                        Rejected as the implementation raised a specific error:\r\n                          TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n                        No implementation of function Function(<built-in function setitem>) found for signature:\r\n                         \r\n                         >>> setitem(readonly array(float64, 1d, C), int64, float64)\r\n                         \r\n                        There are 16 candidate implementations:\r\n                              - Of which 14 did not match due to:\r\n                              Overload of function 'setitem': File: <numerous>: Line N/A.\r\n                                With argument(s): '(readonly array(float64, 1d, C), int64, float64)':\r\n                               No match.\r\n                              - Of which 2 did not match due to:\r\n                              Overload in function 'SetItemBuffer.generic': File: numba/core/typing/arraydecl.py: Line 176.\r\n                                With argument(s): '(readonly array(float64, 1d, C), int64, float64)':\r\n                               Rejected as the implementation raised a specific error:\r\n                                 NumbaTypeError: Cannot modify readonly array of type: readonly array(float64, 1d, C)\r\n                          raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typing/arraydecl.py:183\r\n                        \r\n                        During: typing of setitem at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1354)\r\n                        \r\n                        File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1354:\r\n                            def _partition(A, low, high):\r\n                                <source elided>\r\n                                if pivotimpl(A[mid], A[low]):\r\n                                    A[low], A[mid] = A[mid], A[low]\r\n                                    ^\r\n                 \r\n                   raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n                       - Of which 1 did not match due to:\r\n                       Overload in function 'register_jitable.<locals>.wrap.<locals>.ov_wrap': File: numba/core/extending.py: Line 159.\r\n                         With argument(s): '(readonly array(float64, 1d, C), Literal[int](0), int64)':\r\n                        Rejected as the implementation raised a specific error:\r\n                          TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n                        No implementation of function Function(<built-in function setitem>) found for signature:\r\n                         \r\n                         >>> setitem(readonly array(float64, 1d, C), Literal[int](0), float64)\r\n                         \r\n                        There are 16 candidate implementations:\r\n                              - Of which 14 did not match due to:\r\n                              Overload of function 'setitem': File: <numerous>: Line N/A.\r\n                                With argument(s): '(readonly array(float64, 1d, C), int64, float64)':\r\n                               No match.\r\n                              - Of which 2 did not match due to:\r\n                              Overload in function 'SetItemBuffer.generic': File: numba/core/typing/arraydecl.py: Line 176.\r\n                                With argument(s): '(readonly array(float64, 1d, C), int64, float64)':\r\n                               Rejected as the implementation raised a specific error:\r\n                                 NumbaTypeError: Cannot modify readonly array of type: readonly array(float64, 1d, C)\r\n                          raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typing/arraydecl.py:183\r\n                        \r\n                        During: typing of setitem at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1354)\r\n                        \r\n                        File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1354:\r\n                            def _partition(A, low, high):\r\n                                <source elided>\r\n                                if pivotimpl(A[mid], A[low]):\r\n                                    A[low], A[mid] = A[mid], A[low]\r\n                                    ^\r\n                 \r\n                   raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n                 \r\n                 During: resolving callee type: Function(<function _partition_factory.<locals>._partition at 0x7fecdee57280>)\r\n                 During: typing of call at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1416)\r\n                 \r\n                 \r\n                 File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1416:\r\n                 def _select_two(arry, k, low, high):\r\n                     <source elided>\r\n                         assert high > low  # by construction\r\n                         i = _partition(arry, low, high)\r\n                         ^\r\n          \r\n            raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n          \r\n          During: resolving callee type: Function(<function _select_two at 0x7fecdee57700>)\r\n          During: typing of call at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1441)\r\n          \r\n          \r\n          File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1441:\r\n          def _median_inner(temp_arry, n):\r\n              <source elided>\r\n              if n & 1 == 0:\r\n                  a, b = _select_two(temp_arry, half - 1, low, high)\r\n                  ^\r\n   \r\n     raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n   \r\n   During: resolving callee type: Function(<function _median_inner at 0x7fecdee57820>)\r\n   During: typing of call at /home/henry/anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py (1457)\r\n   \r\n   \r\n   File \"../../anaconda3/lib/python3.9/site-packages/numba/np/arraymath.py\", line 1457:\r\n       def median_impl(a):\r\n           <source elided>\r\n           n = temp_arry.shape[0]\r\n           return _median_inner(temp_arry, n)\r\n           ^\r\n\r\n  raised from /home/henry/anaconda3/lib/python3.9/site-packages/numba/core/typeinfer.py:1086\r\n\r\nDuring: resolving callee type: Function(<function median at 0x7fecff6e0160>)\r\nDuring: typing of call at /home/henry/anaconda3/lib/python3.9/site-packages/sktime/utils/numba/stats.py (17)\r\n\r\n\r\nFile \"../../anaconda3/lib/python3.9/site-packages/sktime/utils/numba/stats.py\", line 17:\r\ndef median(X):\r\n    <source elided>\r\n    \"\"\"Numba median function for a single time series.\"\"\"\r\n    return np.median(X)\r\n```\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\nSystem:\r\n    python: 3.9.12 (main, Apr  5 2022, 06:56:58)  [GCC 7.5.0]\r\nexecutable: /home/henry/anaconda3/bin/python\r\n   machine: Linux-5.15.0-50-generic-x86_64-with-glibc2.31\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 61.2.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.4.2\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3582/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3565", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3565/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3565/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3565/events", "html_url": "https://github.com/sktime/sktime/issues/3565", "id": 1403725707, "node_id": "I_kwDOCVKAsc5TqyeL", "number": 3565, "title": "[BUG] check_estimator tests_to_exclude doesn't exclude the specified tests", "user": {"login": "ltsaprounis", "id": 64217214, "node_id": "MDQ6VXNlcjY0MjE3MjE0", "avatar_url": "https://avatars.githubusercontent.com/u/64217214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltsaprounis", "html_url": "https://github.com/ltsaprounis", "followers_url": "https://api.github.com/users/ltsaprounis/followers", "following_url": "https://api.github.com/users/ltsaprounis/following{/other_user}", "gists_url": "https://api.github.com/users/ltsaprounis/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltsaprounis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltsaprounis/subscriptions", "organizations_url": "https://api.github.com/users/ltsaprounis/orgs", "repos_url": "https://api.github.com/users/ltsaprounis/repos", "events_url": "https://api.github.com/users/ltsaprounis/events{/privacy}", "received_events_url": "https://api.github.com/users/ltsaprounis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-10T21:22:34Z", "updated_at": "2022-10-11T21:42:02Z", "closed_at": "2022-10-11T21:42:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nSpecifying a list of tests in the `tests_to_exclude` variable in `check_estimator` doesn't exclude the specified tests.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.utils.estimator_checks import check_estimator\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\nlog = check_estimator(\r\n    NaiveForecaster, return_exceptions=True, tests_to_exclude=[\"test_predict_residuals\"]\r\n)\r\n\r\nshould_be_empty = [key for key in log.keys() if \"test_predict_residuals\" in key]\r\n\r\nassert len(should_be_empty) == 0\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nAny tests in the tests_to_excluded should be actually excluded!\r\n(FYI for whoever takes this on. The problem is somewhere [here](https://github.com/sktime/sktime/blob/fe6f43c2e06e586c2dd16102aef5eef4bd4b6ce6/sktime/tests/test_all_estimators.py#L378))\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nsktime==0.13.4  \r\npython==3.8.5\r\n</details>  \r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3565/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3549", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3549/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3549/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3549/events", "html_url": "https://github.com/sktime/sktime/pull/3549", "id": 1401994887, "node_id": "PR_kwDOCVKAsc5Ab4vk", "number": 3549, "title": "[BUG] Fix pipeline tag for NaN values", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-10-08T16:25:17Z", "updated_at": "2022-10-10T23:45:56Z", "closed_at": "2022-10-10T23:45:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3549", "html_url": "https://github.com/sktime/sktime/pull/3549", "diff_url": "https://github.com/sktime/sktime/pull/3549.diff", "patch_url": "https://github.com/sktime/sktime/pull/3549.patch", "merged_at": "2022-10-10T23:45:56Z"}, "body": "closes #3547 \r\n\r\n@ngupta23 please have a look\r\n\r\nI removed the tag inheritance bcz if the forecaster cant handle missing values, it will raise an exception then anyways but it will work if an `Imputer` was used in the pipe.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3549/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3549/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3547", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3547/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3547/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3547/events", "html_url": "https://github.com/sktime/sktime/issues/3547", "id": 1401950066, "node_id": "I_kwDOCVKAsc5TkA9y", "number": 3547, "title": "[BUG] Forecasting Pipeline containing an imputer transformer fails when the underlying forecaster can not handle missing data", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-08T13:37:11Z", "updated_at": "2022-10-10T23:45:57Z", "closed_at": "2022-10-10T23:45:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nA forecasting pipeline that **contains an imputer** and a forecaster that **does not accept missing values** fails to work in the latest release of sktime (0.13.4). This used to work fine in 0.13.2 release.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\n# Works in 0.13.2, but fails in 0.13.4\r\n\r\nimport numpy as np\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.trend import TrendForecaster\r\nfrom sktime.transformations.compose import TransformerPipeline\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.impute import Imputer\r\n\r\ny, X = load_longley()\r\ny[10] = np.nan  # Add missing values\r\n\r\n\r\ntransformer_y = TransformerPipeline(steps = [(\"imputer\", Imputer())])\r\n\r\nforecaster = TransformedTargetForecaster(\r\n    steps = [\r\n        (\"transformer_y\", transformer_y),\r\n        (\"model\", TrendForecaster())\r\n    ]\r\n)\r\n\r\npipe = ForecastingPipeline(steps = [(\"forecaster\", forecaster)])\r\n\r\npipe.fit(y)\r\n```\r\n\r\n```python-traceback\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n[<ipython-input-18-6f4acc86cd81>](https://localhost:8080/#) in <module>\r\n----> 1 pipe.fit(y)\r\n\r\n2 frames\r\n[/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py](https://localhost:8080/#) in fit(self, y, X, fh)\r\n    286 \r\n    287         # check and convert X/y\r\n--> 288         X_inner, y_inner = self._check_X_y(X=X, y=y)\r\n    289 \r\n    290         # set internal X/y to the new X/y\r\n\r\n[/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py](https://localhost:8080/#) in _check_X_y(self, X, y)\r\n   1298                 )\r\n   1299 \r\n-> 1300             _check_missing(y_metadata, \"y\")\r\n   1301 \r\n   1302         else:\r\n\r\n[/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py](https://localhost:8080/#) in _check_missing(metadata, obj_name)\r\n   1244                     )\r\n   1245                 if metadata[\"has_nans\"]:\r\n-> 1246                     raise ValueError(msg)\r\n   1247 \r\n   1248         # retrieve supported mtypes\r\n\r\nValueError: ForecastingPipeline cannot handle missing data (nans), but y passed contained missing data.\r\n```\r\n\r\n**Expected behavior**\r\nWould have expected this to work because there is an imputer in the pipeline.\r\n\r\n**Additional context**\r\nThis used to work fine up until the 0.13.2 release. This started breaking after the recent 0.13.4 release (maybe even 0.13.3, but I have not explicitly tested that). **The initial impact was observed in pycaret when the unit tests started failing on GitHub.**\r\n\r\nWorking Notebook in 0.13.2: https://gist.github.com/ngupta23/fe385efcad52b1d6c4c11f955d13da8e\r\nNotebook with error in 0.13.4: https://gist.github.com/ngupta23/c35b23ae7b786faff2f020a36efcbb38\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3546", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3546/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3546/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3546/events", "html_url": "https://github.com/sktime/sktime/pull/3546", "id": 1401930114, "node_id": "PR_kwDOCVKAsc5AbszE", "number": 3546, "title": "[BUG] use of pd.concat in stratified resampling raises error in check_is_scitype", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3821859781, "node_id": "LA_kwDOCVKAsc7jzPPF", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datasets&loaders", "name": "module:datasets&loaders", "color": "0052cc", "default": false, "description": "data sets and data loaders"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-08T12:23:25Z", "updated_at": "2022-10-10T15:43:54Z", "closed_at": "2022-10-10T15:43:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3546", "html_url": "https://github.com/sktime/sktime/pull/3546", "diff_url": "https://github.com/sktime/sktime/pull/3546.diff", "patch_url": "https://github.com/sktime/sktime/pull/3546.patch", "merged_at": "2022-10-10T15:43:52Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/sktime/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n\r\nhttps://github.com/sktime/sktime/issues/3471\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n\r\n0.13.1 seemingly introduced extra checks on nested data frames that raise an error when check_is_scitype is called using data returned by the stratified_resample function (see #3471), This was not picked up because of a lack of a test function for this ancient function. This PR fixes the problem  by calling reset index at the end of the resampling and introduces testing that checks the data passes check_is_scitype test and that  class distribution is maintained.\r\n \r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\nno\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n I have removed a commented out test in benchmarking but if this is an issue, I will put it back, this PR is not about tests that.\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [X] I've added unit tests and made sure they pass locally.\r\n- [X] The PR title starts with either [ENH], [MNT], [DOC], or [BUG] indicating whether the PR topic is related to enhancement, maintenance, documentation, or bug.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3546/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3538", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3538/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3538/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3538/events", "html_url": "https://github.com/sktime/sktime/issues/3538", "id": 1400762115, "node_id": "I_kwDOCVKAsc5Tfe8D", "number": 3538, "title": "[BUG] `CNNRegressor` missing essential initializing parameters", "user": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3471101012, "node_id": "LA_kwDOCVKAsc7O5MxU", "url": "https://api.github.com/repos/sktime/sktime/labels/module:regression", "name": "module:regression", "color": "943567", "default": false, "description": "regression module: time series regression"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-10-07T07:44:26Z", "updated_at": "2022-10-10T22:54:51Z", "closed_at": "2022-10-10T22:54:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n`CNNRegressor` misses parameters like `optimizer` in its constructor. There might be more things which don't coincide with `CNNClassifier` which should be added but since I'm not sure what all things might be missing, I'm opening this issue to bring it to notice.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3537", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3537/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3537/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3537/events", "html_url": "https://github.com/sktime/sktime/issues/3537", "id": 1400573674, "node_id": "I_kwDOCVKAsc5Tew7q", "number": 3537, "title": "[BUG] Prophet forecaster does not work with non-integer forecast horizon during prediction", "user": {"login": "GianlucaGuarroSonos", "id": 107063818, "node_id": "U_kgDOBmGqCg", "avatar_url": "https://avatars.githubusercontent.com/u/107063818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GianlucaGuarroSonos", "html_url": "https://github.com/GianlucaGuarroSonos", "followers_url": "https://api.github.com/users/GianlucaGuarroSonos/followers", "following_url": "https://api.github.com/users/GianlucaGuarroSonos/following{/other_user}", "gists_url": "https://api.github.com/users/GianlucaGuarroSonos/gists{/gist_id}", "starred_url": "https://api.github.com/users/GianlucaGuarroSonos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GianlucaGuarroSonos/subscriptions", "organizations_url": "https://api.github.com/users/GianlucaGuarroSonos/orgs", "repos_url": "https://api.github.com/users/GianlucaGuarroSonos/repos", "events_url": "https://api.github.com/users/GianlucaGuarroSonos/events{/privacy}", "received_events_url": "https://api.github.com/users/GianlucaGuarroSonos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-07T03:35:42Z", "updated_at": "2022-12-31T00:02:07Z", "closed_at": "2022-12-31T00:02:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen attempting to use the prophet forecaster to predict at a non-relative forecasting horizon, it throws an error saying \"TypeError: periods must be a number, got 1964-01\"\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nimport pandas as pd\r\n\r\ny = load_airline().to_timestamp(freq='M')\r\n\r\nfh = ForecastingHorizon(\r\n    pd.PeriodIndex(pd.date_range(\"1961-01\", periods=36, freq=\"M\")), is_relative=False\r\n)\r\n\r\nforecaster = Prophet(  \r\n    seasonality_mode='multiplicative',\r\n    n_changepoints=int(len(y) / 12),\r\n    add_country_holidays={'country_name': 'UnitedStates'},\r\n    yearly_seasonality=True\r\n)\r\n\r\nforecaster.fit(y)\r\n\r\ny_pred = forecaster.predict(fh) # ERROR HERE\r\n```\r\n\r\n**Expected behavior**\r\nTo return the forecasts at the specified forecast horizon the same way it would if it was a relative forecast horizon.\r\n\r\n**Additional context**\r\nRelative forecast horizon with integer representation indeed seems to work fine.\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 06:16:26)  [Clang 12.0.0 ]\r\nexecutable: /Users/gguarro/miniconda3/envs/strategic-finance-forecasts/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.2.2\r\n   setuptools: 59.8.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.6.0\r\n       joblib: 1.2.0\r\n        numba: 0.56.2\r\n     pmdarima: 2.0.1\r\n      tsfresh: None", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3531", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3531/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3531/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3531/events", "html_url": "https://github.com/sktime/sktime/pull/3531", "id": 1396603643, "node_id": "PR_kwDOCVKAsc5AJwr9", "number": 3531, "title": "[BUG] add get_test_params method to TapNet", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-04T17:18:18Z", "updated_at": "2022-10-08T11:40:37Z", "closed_at": "2022-10-08T11:40:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": true, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3531", "html_url": "https://github.com/sktime/sktime/pull/3531", "diff_url": "https://github.com/sktime/sktime/pull/3531.diff", "patch_url": "https://github.com/sktime/sktime/pull/3531.patch", "merged_at": null}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/sktime/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\nFixes #3525 , the tests for TapNet were either timing out or taking a very long time. \r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\nadds a get_test_params to the TapNet classifier. \r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\nno\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\nthe parameter settings in the generator test. Ive tried these\r\n{\"n_epochs\": 100, \"batch_size\": 2, \"dilation\": 2}\r\nbut would appreciate feedback/review from @achieveordie on this.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3531/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3502", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3502/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3502/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3502/events", "html_url": "https://github.com/sktime/sktime/issues/3502", "id": 1389609917, "node_id": "I_kwDOCVKAsc5S08O9", "number": 3502, "title": "[BUG] ColumnEnsembleForecaster fails with `str` indices", "user": {"login": "canbooo", "id": 44531896, "node_id": "MDQ6VXNlcjQ0NTMxODk2", "avatar_url": "https://avatars.githubusercontent.com/u/44531896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/canbooo", "html_url": "https://github.com/canbooo", "followers_url": "https://api.github.com/users/canbooo/followers", "following_url": "https://api.github.com/users/canbooo/following{/other_user}", "gists_url": "https://api.github.com/users/canbooo/gists{/gist_id}", "starred_url": "https://api.github.com/users/canbooo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/canbooo/subscriptions", "organizations_url": "https://api.github.com/users/canbooo/orgs", "repos_url": "https://api.github.com/users/canbooo/repos", "events_url": "https://api.github.com/users/canbooo/events{/privacy}", "received_events_url": "https://api.github.com/users/canbooo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-28T16:03:42Z", "updated_at": "2022-10-02T15:38:18Z", "closed_at": "2022-10-02T15:38:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`ColumnEnsembleForecaster` raises an error, when defined over `str` indices (of a dataframe). Specifically [this](https://github.com/sktime/sktime/blob/4194aacaa105ef59807ea56c1bb3497b37eb1613/sktime/forecasting/compose/_column_ensemble.py#L397-L400) error is raised, since the logic there does not account for string indice.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n>>> df = pd.DataFrame({\"a\": [1, 2, 3], \"b\": [4, 5, 6]})\r\n>>> fc = ColumnEnsembleForecaster([(f\"trans_{col}\", NaiveForecaster(), col) for col in \"ab\"])\r\n>>> fc.fit(df)\r\n\r\nValueError: One estimator per column required. Found 2\r\n```\r\n\r\n**Expected behavior**\r\nBeing able to use `str` indices as describe in the [docstring](https://github.com/sktime/sktime/blob/4194aacaa105ef59807ea56c1bb3497b37eb1613/sktime/forecasting/compose/_column_ensemble.py#L23-L24)\r\n>     forecasters : sktime forecaster, or list of tuples (str, estimator, int or str)\r\n        if tuples, with name = str, estimator is forecaster, index as str or int\r\n\r\n**Additional context**\r\nI suspect that the same error will be produced with other `ColumnEnsemble...` objects but I did not check.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.9.5 (default, Nov 23 2021, 15:27:38)  [GCC 9.3.0]\r\nexecutable: .../bin/python\r\n   machine: Linux-5.4.0-1084-aws-x86_64-with-glibc2.31\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 58.0.4\r\n      sklearn: 0.24.2\r\n       sktime: 0.13.4\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.3\r\n        scipy: 1.7.1\r\n       pandas: 1.3.4\r\n   matplotlib: 3.4.3\r\n       joblib: 1.0.1\r\n        numba: 0.56.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3499", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3499/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3499/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3499/events", "html_url": "https://github.com/sktime/sktime/issues/3499", "id": 1389024124, "node_id": "I_kwDOCVKAsc5SytN8", "number": 3499, "title": "[BUG]\u2019write_dataframe_to_tsfile\u2018 doesn't work for length-unequal series", "user": {"login": "dirtypuddin", "id": 25078813, "node_id": "MDQ6VXNlcjI1MDc4ODEz", "avatar_url": "https://avatars.githubusercontent.com/u/25078813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirtypuddin", "html_url": "https://github.com/dirtypuddin", "followers_url": "https://api.github.com/users/dirtypuddin/followers", "following_url": "https://api.github.com/users/dirtypuddin/following{/other_user}", "gists_url": "https://api.github.com/users/dirtypuddin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirtypuddin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirtypuddin/subscriptions", "organizations_url": "https://api.github.com/users/dirtypuddin/orgs", "repos_url": "https://api.github.com/users/dirtypuddin/repos", "events_url": "https://api.github.com/users/dirtypuddin/events{/privacy}", "received_events_url": "https://api.github.com/users/dirtypuddin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3821859781, "node_id": "LA_kwDOCVKAsc7jzPPF", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datasets&loaders", "name": "module:datasets&loaders", "color": "0052cc", "default": false, "description": "data sets and data loaders"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-09-28T09:22:26Z", "updated_at": "2022-10-26T14:48:41Z", "closed_at": "2022-10-26T14:48:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm trying to make my own .ts format dataset using the function write_dataframe_to_tsfile.\r\nThere is no clear statement about whether length-unequal time series is  supported in the definition of function 'write_dataframe_to_tsfile'. \r\nThere is a parameter named 'equal_lenth', which indicates whether each series is of equal length. And this parameter is 'False' in default. So I think it means this fuction support length-uneuqal series. \r\n However, if I provide **a time series with 2 variates, 250 cases in different length**,  this function will returns '**ValueError: all input arrays must have the same shape'**.If I keep those cases in same length, it works. \r\nI think it maybe a bug? \r\n\r\n\r\n**To Reproduce**\r\nI provide the following code to reproduce the bug.\r\nPS: one of length-equal variable df1 has been commented out.\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.datasets import write_dataframe_to_tsfile\r\nfrom sktime.datatypes._panel._convert import from_multi_index_to_nested\r\n\r\n##df1=pd.DataFrame([[1,1,1,1],[1,2,2,2],[2,3,3,3],[2,4,4,4],[2,5,5,5],[3,6,6,6]],columns=['a','b','c','d'])\r\ndf1=pd.DataFrame ([[1,1,1,1],[1,2,2,2],[2,3,3,3],[2,4,4,4],[3,5,5,5],[3,6,6,6]],columns=['a','b','c','d'])\r\n\r\ndf1.set_index(keys=['a','b'],inplace=True)\r\nprint(df1)\r\n\r\nY_nested = from_multi_index_to_nested(df1)\r\n##print(Y_nested.head())\r\nwrite_dataframe_to_tsfile(data=Y_nested,equal_length= False,fold='_TRAIN',path='./path')\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\nProviding length-unequal time series is important, because even the same motion may cost time more or less. \r\nBesides, there are some length-unequal time series archieve in UCR archieve, such like Basic_Motions so  i think sktime is supposed to provide a way for user to create a length-unequal time series in .ts format. \r\n\r\n**Versions**\r\nsktime 0.13.2\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3491", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3491/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3491/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3491/events", "html_url": "https://github.com/sktime/sktime/issues/3491", "id": 1387984514, "node_id": "I_kwDOCVKAsc5SuvaC", "number": 3491, "title": "[BUG] DirectReductionForecaster fails with DataFrame input", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-27T15:47:50Z", "updated_at": "2022-11-22T21:45:01Z", "closed_at": "2022-11-22T21:45:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n```python\r\n---------------------------------------------------------------------------\r\nNotImplementedError                       Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\ipykernel_27752\\3920336442.py in <module>\r\n     27     # error_score='raise',\r\n     28 )\r\n---> 29 gscv.fit(y, fh=fh)\r\n     30 y_pred = gscv.predict(fh=fh)\r\n\r\nc:\\Users\\mf-wa\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_base.py in fit(self, y, X, fh)\r\n    301         # we call the ordinary _fit if no looping/vectorization needed\r\n    302         if not vectorization_needed:\r\n--> 303             self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    304         else:\r\n    305             # otherwise we call the vectorized version of fit\r\n\r\nc:\\Users\\mf-wa\\Desktop\\sktime\\sktime\\sktime\\forecasting\\model_selection\\_tune.py in _fit(self, y, X, fh)\r\n    183 \r\n    184         # Run grid-search cross-validation.\r\n--> 185         results = self._run_search(evaluate_candidates)\r\n    186 \r\n    187         results = pd.DataFrame(results)\r\n\r\nc:\\Users\\mf-wa\\Desktop\\sktime\\sktime\\sktime\\forecasting\\model_selection\\_tune.py in _run_search(self, evaluate_candidates)\r\n    477         \"\"\"Search all candidates in param_grid.\"\"\"\r\n    478         self._check_param_grid(self.param_grid)\r\n--> 479         return evaluate_candidates(ParameterGrid(self.param_grid))\r\n    480 \r\n    481     @classmethod\r\n\r\nc:\\Users\\mf-wa\\Desktop\\sktime\\sktime\\sktime\\forecasting\\model_selection\\_tune.py in evaluate_candidates(candidate_params)\r\n    170 \r\n    171             out = parallel(\r\n--> 172                 delayed(_fit_and_score)(params) for params in candidate_params\r\n    173             )\r\n    174 \r\n\r\nc:\\Users\\mf-wa\\miniconda3\\envs\\test37\\lib\\site-packages\\joblib\\parallel.py in __call__(self, iterable)\r\n   1096 \r\n   1097             with self._backend.retrieval_context():\r\n-> 1098                 self.retrieve()\r\n   1099             # Make sure that we get a last message telling us we are done\r\n   1100             elapsed_time = time.time() - self._start_time\r\n\r\nc:\\Users\\mf-wa\\miniconda3\\envs\\test37\\lib\\site-packages\\joblib\\parallel.py in retrieve(self)\r\n    973             try:\r\n    974                 if getattr(self._backend, 'supports_timeout', False):\r\n--> 975                     self._output.extend(job.get(timeout=self.timeout))\r\n    976                 else:\r\n    977                     self._output.extend(job.get())\r\n\r\nc:\\Users\\mf-wa\\miniconda3\\envs\\test37\\lib\\site-packages\\joblib\\_parallel_backends.py in wrap_future_result(future, timeout)\r\n    565         AsyncResults.get from multiprocessing.\"\"\"\r\n    566         try:\r\n--> 567             return future.result(timeout=timeout)\r\n    568         except CfTimeoutError as e:\r\n...\r\n--> 384             raise self._exception\r\n    385         else:\r\n    386             return self._result\r\n\r\nNotImplementedError: <class 'pandas.core.indexes.multi.MultiIndex'> is not supported for input, use one of (<class 'pandas.core.indexes.range.RangeIndex'>, <class 'pandas.core.indexes.period.PeriodIndex'>, <class 'pandas.core.indexes.datetimes.DatetimeIndex'>, <class 'pandas.core.indexes.timedeltas.TimedeltaIndex'>) instead.\r\n```\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nFails:\r\n```python\r\nfrom sktime.forecasting.compose._reduce import DirectReductionForecaster\r\nfrom sktime.datatypes import get_examples\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sktime.forecasting.model_selection import ForecastingGridSearchCV\r\nfrom sklearn.ensemble import RandomForestRegressor\r\n\r\ny = get_examples(mtype=\"pd_multiindex_hier\")[1]\r\nforecaster = DirectReductionForecaster(\r\n    estimator=RandomForestRegressor(random_state=1),\r\n    window_length=3,\r\n    pooling=\"global\",\r\n)\r\nfh=[1,2,3]\r\ncv = ExpandingWindowSplitter(\r\n    initial_window=3,\r\n    step_length=3,\r\n    start_with_window=True,\r\n    fh=fh,\r\n)\r\ngscv = ForecastingGridSearchCV(\r\n    forecaster=forecaster,\r\n    param_grid={\r\n        \"estimator__n_estimators\": [50, 70]\r\n    },\r\n    cv=cv,\r\n    n_jobs=-1,\r\n    # error_score='raise',\r\n)\r\ngscv.fit(y, fh=fh)\r\ny_pred = gscv.predict(fh=fh)\r\n```\r\nIf I change the fitting line to `gscv.fit(y.values, fh=fh)` it works. However some fits have failed.\r\n\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nmain\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3483", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3483/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3483/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3483/events", "html_url": "https://github.com/sktime/sktime/issues/3483", "id": 1386186949, "node_id": "I_kwDOCVKAsc5Sn4jF", "number": 3483, "title": "[BUG] msm alignment path", "user": {"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-26T14:30:31Z", "updated_at": "2022-10-04T17:24:28Z", "closed_at": "2022-10-04T17:24:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nMsm isn't correctly producing an alignment path. This is because it returns the wrong value when computing the cost matrix (just returns the distance and not entire matrix).\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3483/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3473", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3473/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3473/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3473/events", "html_url": "https://github.com/sktime/sktime/issues/3473", "id": 1383913754, "node_id": "I_kwDOCVKAsc5SfNka", "number": 3473, "title": "[BUG] Calling predict_residuals() is writing in-sample index to self.fh which should not happen", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-23T14:44:49Z", "updated_at": "2022-09-29T11:41:05Z", "closed_at": "2022-09-29T11:41:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nCalling `forecaster:predict_residuals()` is setting the `forecaster.fh` to the in-sample index. This should not happen.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.performance_metrics.forecasting import mean_absolute_percentage_error\r\nfrom pandas.testing import assert_series_equal\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\nforecaster = NaiveForecaster(sp=12)\r\nforecaster.fit(y_train, fh=fh)\r\n\r\ny_pred_1 = forecaster.predict()\r\nprint(forecaster.fh)\r\ny_resid = forecaster.predict_residuals()\r\nprint(forecaster.fh)\r\ny_pred_2 = forecaster.predict()\r\nassert_series_equal(y_pred_1, y_pred_2)\r\n```\r\n\r\n**Expected behavior**\r\nAbove example should work.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3473/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3471", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3471/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3471/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3471/events", "html_url": "https://github.com/sktime/sktime/issues/3471", "id": 1383660910, "node_id": "I_kwDOCVKAsc5SeP1u", "number": 3471, "title": "[BUG] check_is_scitype throws an error when passed a valid pd.DataFrame formed through concatenation", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-23T11:24:46Z", "updated_at": "2022-09-28T22:55:03Z", "closed_at": "2022-09-28T22:55:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\ncheck_is_scitype does not work correctly when the pandas DataFrame storing X has been formed through pandas.concat operation. It raises a type error \r\n\r\n\"X is not of a supported input data type.X must be in a supported mtype format for Panel, found <class 'pandas.core.frame.DataFrame'>\"\r\n\r\nthis is a problem because we often load the train and test and merge them together. This error also occurs with resampling dataloaded from file, this is the cut down version\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.utils._testing.panel import _make_panel_X\r\nfrom sktime.classification.dummy import DummyClassifier\r\nimport numpy as np\r\nimport pandas as pd\r\ntrainX = _make_panel_X(n_instances=40)\r\ntrainY = np.random.randint(low=0,high=2,size=40)\r\ndummy = DummyClassifier()\r\n# this works\r\ndummy.fit(trainX,trainY)\r\ntrainX2 = _make_panel_X(n_instances=40)\r\ntrainX2=pd.concat([trainX2,trainX])\r\ntrainY2 = np.random.randint(low=0,high=2,size=80)\r\n# this throws a type error\r\ndummy.fit(trainX2,trainY2)\r\n```\r\n\r\n**Expected behavior**\r\nThis code works with version 0.13.0 and lower, but throws the above error in 0.13.1. \r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n![image](https://user-images.githubusercontent.com/9594042/191950092-33d72f76-898c-4c20-ad9e-acafb766ffdc.png)\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3419", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3419/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3419/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3419/events", "html_url": "https://github.com/sktime/sktime/issues/3419", "id": 1371057607, "node_id": "I_kwDOCVKAsc5RuK3H", "number": 3419, "title": "[BUG] `ConformalIntervals` update does not update residuals_matrix", "user": {"login": "bethrice44", "id": 11226988, "node_id": "MDQ6VXNlcjExMjI2OTg4", "avatar_url": "https://avatars.githubusercontent.com/u/11226988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bethrice44", "html_url": "https://github.com/bethrice44", "followers_url": "https://api.github.com/users/bethrice44/followers", "following_url": "https://api.github.com/users/bethrice44/following{/other_user}", "gists_url": "https://api.github.com/users/bethrice44/gists{/gist_id}", "starred_url": "https://api.github.com/users/bethrice44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bethrice44/subscriptions", "organizations_url": "https://api.github.com/users/bethrice44/orgs", "repos_url": "https://api.github.com/users/bethrice44/repos", "events_url": "https://api.github.com/users/bethrice44/events{/privacy}", "received_events_url": "https://api.github.com/users/bethrice44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-13T08:24:36Z", "updated_at": "2022-10-30T18:31:00Z", "closed_at": "2022-10-30T18:31:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n`ConformalIntervals` update only updates the forecaster, not the residuals_matrix for predicting intervals or quantiles.\r\n\r\n\r\n**To Reproduce**\r\n\r\n`_update` is defined as:\r\n\r\n```\r\n    def _update(self, y, X=None, update_params=True):\r\n        self.forecaster_.update(y, X, update_params=update_params)\r\n        return self\r\n```\r\n\r\nwhich is only updating the forecaster and no the residuals_matrix. Since the forecaster is already fitted when `update` is called, the residuals_matrix is set to the fitted one with:\r\n\r\n```\r\n  if self.fh_early_:\r\n      residuals_matrix = self.residuals_matrix_\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe residuals_matrix should be updated with the new data.\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3402", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3402/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3402/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3402/events", "html_url": "https://github.com/sktime/sktime/issues/3402", "id": 1368374697, "node_id": "I_kwDOCVKAsc5Rj72p", "number": 3402, "title": "[BUG] make_reduction causes misleading Exception on NaN values: `ValueError: Input X contains NaN.`", "user": {"login": "tobb10001", "id": 30701667, "node_id": "MDQ6VXNlcjMwNzAxNjY3", "avatar_url": "https://avatars.githubusercontent.com/u/30701667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobb10001", "html_url": "https://github.com/tobb10001", "followers_url": "https://api.github.com/users/tobb10001/followers", "following_url": "https://api.github.com/users/tobb10001/following{/other_user}", "gists_url": "https://api.github.com/users/tobb10001/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobb10001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobb10001/subscriptions", "organizations_url": "https://api.github.com/users/tobb10001/orgs", "repos_url": "https://api.github.com/users/tobb10001/repos", "events_url": "https://api.github.com/users/tobb10001/events{/privacy}", "received_events_url": "https://api.github.com/users/tobb10001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-09-09T22:14:30Z", "updated_at": "2022-09-21T20:57:10Z", "closed_at": "2022-09-21T20:57:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nWhen using an sklearn model, that does not support NaN values with `make_reduction` and a `y` series with NaN values, the resulting exception is misleading:\r\n`ValueError: Input X contains NaN.`\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\n\r\nfrom sklearn.linear_model import LinearRegression\r\n\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.compose import make_reduction\r\n\r\ny, X = load_longley()\r\n\r\nassert not X.isna().any().any() # X doesn't contain NaN\r\n\r\ny_w_nan = y.copy()\r\nX_w_nan = X.copy()\r\n\r\ny_w_nan.iloc[0] = np.nan\r\nX_w_nan.iloc[0] = np.nan\r\n\r\nmodel = make_reduction(LinearRegression())\r\n\r\nmodel.fit(y, X)\r\n# works normal\r\n\r\n#model.fit(y, X_w_nan)\r\n# throws `ValueError: Input X contains NaN.`, as one would expect.\r\n\r\nmodel.fit(y_w_nan, X)\r\n# also throws `ValueError: Input X contains NaN.`, although X doesn't contain NaN.\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nAn exception, that tells the user that the y array contains NaNs.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nThis problem does not appear in sklearn:\r\n```py\r\nimport numpy as np\r\n\r\nfrom sklearn.linear_model import LinearRegression\r\n\r\nfrom sktime.datasets import load_longley\r\n\r\ny, X = load_longley()\r\n\r\nassert not X.isna().any().any() # X doesn't contain NaN\r\n\r\ny_w_nan = y.copy()\r\nX_w_nan = X.copy()\r\n\r\ny_w_nan.iloc[0] = np.nan\r\nX_w_nan.iloc[0] = np.nan\r\n\r\nlinreg = LinearRegression()\r\n\r\nlinreg.fit(X, y) # works normal\r\n\r\n#linreg.fit(X_w_nan, y)\r\n# throws `ValueError: Input X contains NaN.`\r\n#linreg.fit(X, y_w_nan)\r\n# throws `ValueError: Input y contains NaN.`\r\n```\r\n@aiwalter When we discussed this, we missed that `LinearRegressioin.fit()` takes arguments in `X, y` order, instead of the `y, X` order used in `sktime`.  <https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html#sklearn.linear_model.LinearRegression.fit>\r\n\r\nThis problem also appears with other sklearn models. I've tried Ridge and SGDRegressor.\r\n\r\nMy stacktrace:\r\n<details>\r\n\r\n```plainTraceback (most recent call last):\r\n  File \"/home/.../t.py\", line 27, in <module>\r\n    model.fit(y_w_nan, X)\r\n  File \"/home/.../sktime/forecasting/base/_base.py\", line 303, in fit\r\n    self._fit(y=y_inner, X=X_inner, fh=fh)\r\n  File \"/home/.../sktime/forecasting/compose/_reduce.py\", line 513, in _fit\r\n    self.estimator_.fit(Xt, yt)\r\n  File \"/home/.../venv/lib/python3.10/site-packages/sklearn/linear_model/_base.py\", line 684, in fit\r\n    X, y = self._validate_data(\r\n  File \"/home/.../venv/lib/python3.10/site-packages/sklearn/base.py\", line 596, in _validate_data\r\n    X, y = check_X_y(X, y, **check_params)\r\n  File \"/home/.../venv/lib/python3.10/site-packages/sklearn/utils/validation.py\", line 1074, in check_X_y\r\n    X = check_array(\r\n  File \"/home/.../venv/lib/python3.10/site-packages/sklearn/utils/validation.py\", line 899, in check_array\r\n    _assert_all_finite(\r\n  File \"/home/.../venv/lib/python3.10/site-packages/sklearn/utils/validation.py\", line 146, in _assert_all_finite\r\n    raise ValueError(msg_err)\r\nValueError: Input X contains NaN.\r\nLinearRegression does not accept missing values encoded as NaN natively. For supervised learning, you might want to consider sklearn.ensemble.HistGradientBoostingClassifier and Regressor which accept missing values encoded as NaNs natively. Alternatively, it is possible to preprocess the data, for instance by using an imputer transformer in a pipeline or drop samples with missing values. See https://scikit-learn.org/stable/modules/impute.html You can find a list of all estimators that handle NaN values at the following page: https://scikit-learn.org/stable/modules/impute.html#estimators-that-handle-nan-values\r\n\r\n```\r\n\r\n</details>\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n```plain\r\nPython 3.10.4 (main, Jun 29 2022, 12:14:53) [GCC 11.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from sktime import show_versions; show_versions()\r\n\r\nSystem:\r\n    python: 3.10.4 (main, Jun 29 2022, 12:14:53) [GCC 11.2.0]\r\nexecutable: /home/.../venv/bin/python3\r\n   machine: Linux-5.19.0-76051900-generic-x86_64-with-glibc2.35\r\n\r\nPython dependencies:\r\n          pip: 22.2.2\r\n   setuptools: 59.8.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.2\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.4\r\n   matplotlib: None\r\n       joblib: 1.1.0\r\n        numba: 0.56.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3394", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3394/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3394/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3394/events", "html_url": "https://github.com/sktime/sktime/issues/3394", "id": 1366957639, "node_id": "I_kwDOCVKAsc5Reh5H", "number": 3394, "title": "[BUG] sporadic bug in `test_all_annotators.py::test_output_type[HMM]`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3108854999, "node_id": "MDU6TGFiZWwzMTA4ODU0OTk5", "url": "https://api.github.com/repos/sktime/sktime/labels/module:annotation", "name": "module:annotation", "color": "F1ECF1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-08T20:36:37Z", "updated_at": "2022-09-09T22:01:02Z", "closed_at": "2022-09-09T22:01:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "There seems to be a sporadic bug with `test_all_annotators.py::test_output_type[HMM]`:\r\n\r\n```\r\n         if np.any(np.isinf(trans_prob[:, -1])):\r\n>           raise ValueError(\"Change parameters, the distribution doesn't work\")\r\nE           ValueError: Change parameters, the distribution doesn't work\r\n```\r\n\r\nsee here: https://github.com/alan-turing-institute/sktime/runs/8257610342?check_suite_focus=true\r\n\r\nFYI @miraep8, @lmmentel ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3345", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3345/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3345/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3345/events", "html_url": "https://github.com/sktime/sktime/issues/3345", "id": 1351497923, "node_id": "I_kwDOCVKAsc5QjjjD", "number": 3345, "title": "[BUG] `Differencer` returns original data instead of inverting when all in-sample", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-08-25T22:09:25Z", "updated_at": "2022-09-21T20:57:46Z", "closed_at": "2022-09-21T20:57:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From @ilkersigirci in #3277.\n\nUnexpected behaviour when `Differencer` is asked to inverse transform in-sample and used inside a target transformation forecasting pipeline - because `Differencer` just retrieves the data seen in `fit`.\n\n---\nAssume that I want to log&diff y and X and use ARIMA model as forecaster. When I tried to get in_sample prediction of the pipeline, I got exactly original y data instead of arima's in_sample prediction. Note that this is not the case when using just the model not the pipeline with the transformer. I think this happens because Differencer returns its stored data for the same indices. \n\nI believe this is a general bug for any forecasting pipeline that uses Differencer and forecaster whose able to do in_sample prediction together.\n\n```python\nimport numpy as np\nfrom sktime.forecasting.compose import (\n    ForecastingPipeline,\n    TransformedTargetForecaster,\n)\nfrom sktime.transformations.compose import TransformerPipeline\nfrom sktime.transformations.series.compose import OptionalPassthrough\nfrom sktime.forecasting.model_selection import temporal_train_test_split\nfrom sktime.transformations.series.difference import Differencer\nfrom sktime.transformations.series.boxcox import LogTransformer\nfrom sktime.forecasting.base import ForecastingHorizon\nfrom sktime.datasets import load_airline\n\ny = load_airline()\nX = pd.DataFrame({\"lag1\": y.shift(1).fillna(method=\"bfill\"),\n                  \"lag2\": y.shift(2).fillna(method=\"bfill\")}, \n                 index=y.index)\n\ny_train, y_test, X_train, X_test = temporal_train_test_split(y=y,X=X, test_size=30)\nfh_out = np.arange(1, len(y_test)+1)\nfh_ins = ForecastingHorizon(y_train.index, is_relative=False)\n\npipe = ForecastingPipeline(\n    steps=[\n        (\n            \"transformersX\",\n            TransformerPipeline(\n                steps=[\n                    (\"logX\", OptionalPassthrough(LogTransformer())),\n                    (\"differencerX\", Differencer(na_handling=\"fill_zero\")),\n                ]\n            ),\n        ),\n        (\n            \"forecaster\",\n            TransformedTargetForecaster(\n                steps=[\n                    (\n                        \"transformers\",\n                        TransformerPipeline(\n                            steps=[\n                                (\"log\", OptionalPassthrough(LogTransformer())),\n                                (\"differencer\", Differencer(na_handling=\"fill_zero\")),\n                            ]\n                        ),\n                    ),\n                    (\"arima\", ARIMA()),\n                ]\n            ),\n        ),\n    ]\n)\n\npipe.fit(y=y_train, X=X_train)\npipe_ins = pipe.predict(fh=fh_ins, X=X_train)\npipe_forecast = pipe.predict(fh=fh_out, X=X_test)\n\narima_model = ARIMA()\narima_model.fit(y=y_train, X=X_train)\nmodel_ins = arima_model.predict(fh=fh_ins, X=X_train)\nmodel_forecast = arima_model.predict(fh=fh_out, X=X_test)\n\n\n# Returns True - not expected\nnp.allclose(y_train.to_numpy(), pipe_ins.to_numpy())\n\n# Returns False - not expected\nnp.allclose(pipe_ins.to_numpy(), model_ins.to_numpy())\n\n# Returns False - expected\nnp.allclose(y_train.to_numpy(), model_ins.to_numpy())\n```\n\n_Originally posted by @ilkersigirci in https://github.com/alan-turing-institute/sktime/discussions/3277#discussioncomment-3469781_", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3344", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3344/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3344/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3344/events", "html_url": "https://github.com/sktime/sktime/issues/3344", "id": 1351491998, "node_id": "I_kwDOCVKAsc5QjiGe", "number": 3344, "title": "[BUG] make_reduction 'Level type mismatch' when fitting model", "user": {"login": "vattyamp", "id": 21228158, "node_id": "MDQ6VXNlcjIxMjI4MTU4", "avatar_url": "https://avatars.githubusercontent.com/u/21228158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vattyamp", "html_url": "https://github.com/vattyamp", "followers_url": "https://api.github.com/users/vattyamp/followers", "following_url": "https://api.github.com/users/vattyamp/following{/other_user}", "gists_url": "https://api.github.com/users/vattyamp/gists{/gist_id}", "starred_url": "https://api.github.com/users/vattyamp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vattyamp/subscriptions", "organizations_url": "https://api.github.com/users/vattyamp/orgs", "repos_url": "https://api.github.com/users/vattyamp/repos", "events_url": "https://api.github.com/users/vattyamp/events{/privacy}", "received_events_url": "https://api.github.com/users/vattyamp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-25T22:01:12Z", "updated_at": "2022-08-25T23:41:45Z", "closed_at": "2022-08-25T23:41:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI experienced this error when using make_reduction with any window size to fit and predict. When running `.predict`, it seems to be slicing indicies that are not in the test set. My date range for the test set goes from  2022-05-19 to 2022-05-25 but the error is with the date 2022-05-12, which is the the window_length number of days before the start day. The data is in hierarchal format\r\n\r\n\r\n<br class=\"Apple-interchange-newline\">\r\n\r\n**To Reproduce**\r\n\r\n```python\r\n\r\nfrom xgboost import XGBRegressor\r\n\r\ny_train, y_test, x_train, x_test= temporal_train_test_split(y_hat,x_new,test_size=7) # The week of 5/19 - 5/25 is the test\r\n\r\nregressor = XGBRegressor(objective='reg:squarederror', random_state=42)\r\nforecaster = make_reduction(regressor,window_length=7,strategy='recursive')\r\n\r\npipe = TransformedTargetForecaster(steps=[\r\n    (\"detrender\", Deseasonalizer()),\r\n    (\"forecaster\", forecaster)\r\n])\r\n\r\npipe.fit(y=y_train,X=x_train)\r\ny_pred = pipe.predict(fh=[1,2,3,4,5,6,7],X=x_test) # From 5-19 to 5-25\r\n\r\n```\r\n\r\n_Error message:_\r\n\r\n**TypeError: Level type mismatch: 2022-05-12**\r\n\r\nTypeError                                 Traceback (most recent call last)\r\n<command-1972184593868422> in <module>\r\n      1 #fh = ForecastingHorizon()\r\n----> 2 y_pred = forecaster.predict(fh=[1,2,3,4,5,6,7],X=x_test)\r\n      3 \r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_base.py in predict(self, fh, X)\r\n    323         # we call the ordinary _predict if no looping/vectorization needed\r\n    324         if not self._is_vectorized:\r\n--> 325             y_pred = self._predict(fh=fh, X=X_inner)\r\n    326         else:\r\n    327             # otherwise we call the vectorized version of predict\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_sktime.py in _predict(self, fh, X)\r\n     29         # all values are out-of-sample\r\n     30         if fh.is_all_out_of_sample(self.cutoff):\r\n---> 31             return self._predict_fixed_cutoff(\r\n     32                 fh.to_out_of_sample(self.cutoff), **kwargs\r\n     33             )\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_sktime.py in _predict_fixed_cutoff(self, fh, X, return_pred_int, alpha)\r\n     63         \"\"\"\r\n     64         # assert all(fh > 0)\r\n---> 65         y_pred = self._predict_last_window(\r\n     66             fh, X, return_pred_int=return_pred_int, alpha=alpha\r\n     67         )\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/compose/_reduce.py in _predict_last_window(self, fh, X, return_pred_int, alpha)\r\n    665             y_last, X_last = self._get_shifted_window()\r\n    666         else:\r\n--> 667             y_last, X_last = self._get_last_window()\r\n    668 \r\n    669         # If we cannot generate a prediction from the available data, return nan.\r\n\r\n/databricks/python/lib/python3.8/site-packages/sktime/forecasting/base/_sktime.py in _get_last_window(self)\r\n    126 \r\n    127         # Get the last window of the endogenous variable.\r\n--> 128         y = self._y.loc[start:cutoff].to_numpy()\r\n    129 \r\n    130         # If X is given, also get the last window of the exogenous variables.\r\n\r\n**Expected behavior**\r\n\r\nPerform a global forecast on all the hierarchical data.\r\n\r\n**Additional context**\r\n\r\nI'm trying to transform only the `y` target variable and leave the `x` data alone. Not sure if I'm using make_reduction when I'm not supposed to be or if there's an equivalent\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.10 (default, Jun 22 2022, 20:18:18)  [GCC 9.4.0]\r\nexecutable: /local_disk0/.ephemeral_nfs/envs/pythonEnv-e16893be-13e7-4812-b22f-c0d78b237332/bin/python\r\n   machine: Linux-5.4.0-1086-azure-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.21.6\r\n        scipy: 1.6.2\r\n       pandas: 1.2.4\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.4\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3329", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3329/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3329/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3329/events", "html_url": "https://github.com/sktime/sktime/issues/3329", "id": 1348455693, "node_id": "I_kwDOCVKAsc5QX80N", "number": 3329, "title": "[BUG] Strange ImportError bug in jupyter notebook", "user": {"login": "miraep8", "id": 10511777, "node_id": "MDQ6VXNlcjEwNTExNzc3", "avatar_url": "https://avatars.githubusercontent.com/u/10511777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miraep8", "html_url": "https://github.com/miraep8", "followers_url": "https://api.github.com/users/miraep8/followers", "following_url": "https://api.github.com/users/miraep8/following{/other_user}", "gists_url": "https://api.github.com/users/miraep8/gists{/gist_id}", "starred_url": "https://api.github.com/users/miraep8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miraep8/subscriptions", "organizations_url": "https://api.github.com/users/miraep8/orgs", "repos_url": "https://api.github.com/users/miraep8/repos", "events_url": "https://api.github.com/users/miraep8/events{/privacy}", "received_events_url": "https://api.github.com/users/miraep8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-23T19:35:38Z", "updated_at": "2022-08-23T19:35:56Z", "closed_at": "2022-08-23T19:35:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3320", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3320/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3320/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3320/events", "html_url": "https://github.com/sktime/sktime/issues/3320", "id": 1346992832, "node_id": "I_kwDOCVKAsc5QSXrA", "number": 3320, "title": "[BUG] ensure all forecasting reducers are tested via the default test suite", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-22T21:13:26Z", "updated_at": "2022-08-22T21:31:14Z", "closed_at": "2022-08-22T21:31:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, the forecasting reducers are not tested in the test suite, because `all_estimators` does not retrieve classes starting with an underscore `_`, and the reducer classes do start with an underscore.\r\n\r\nThe reducer classes do start with underscore, but are concrete, not abstract, so should have been tested.\r\n\r\nThis has led to undetected bugs and regression not covered, see https://github.com/alan-turing-institute/sktime/issues/3316", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3316", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3316/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3316/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3316/events", "html_url": "https://github.com/sktime/sktime/issues/3316", "id": 1346735177, "node_id": "I_kwDOCVKAsc5QRYxJ", "number": 3316, "title": "[BUG] Errors when using the recursive strategy in make_reduction when forecasting panel data", "user": {"login": "wregter", "id": 94361249, "node_id": "U_kgDOBZ_WoQ", "avatar_url": "https://avatars.githubusercontent.com/u/94361249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wregter", "html_url": "https://github.com/wregter", "followers_url": "https://api.github.com/users/wregter/followers", "following_url": "https://api.github.com/users/wregter/following{/other_user}", "gists_url": "https://api.github.com/users/wregter/gists{/gist_id}", "starred_url": "https://api.github.com/users/wregter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wregter/subscriptions", "organizations_url": "https://api.github.com/users/wregter/orgs", "repos_url": "https://api.github.com/users/wregter/repos", "events_url": "https://api.github.com/users/wregter/events{/privacy}", "received_events_url": "https://api.github.com/users/wregter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-08-22T17:08:17Z", "updated_at": "2022-10-26T09:01:04Z", "closed_at": "2022-10-26T09:01:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n--> I experience errors when using panel data and the recursive strategy in make_reduction. I would like to use scikit-learn regressors to perform global forecasting on panel data but the predict method is giving me errors that I do not know how to solve.\r\n\r\nSide note: in the reproducible code I set the multiindex to integer values because otherwise this also produces an error.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom sktime.utils._testing.hierarchical import _bottom_hier_datagen\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sklearn.linear_model import LinearRegression\r\nfrom sktime.datatypes import check_raise\r\n\r\ny = _bottom_hier_datagen(no_levels=1)\r\ncheck_raise(y, mtype=\"pd-multiindex\", scitype=\"Panel\")\r\n\r\ndate_length = y.index.get_level_values(1).shape[0]\r\nlevel_length = y.index.get_level_values(0).shape[0]\r\ny = y.set_index(y.index.set_levels(np.arange(date_length), level=1))\r\ny = y.set_index(y.index.set_levels(np.arange(level_length), level=0))\r\n\r\ny_train, y_test = temporal_train_test_split(y, test_size=5)\r\n\r\nforecaster = make_reduction(LinearRegression(), strategy='recursive')\r\nhorizon = pd.unique(y_test.index.get_level_values(1))\r\nfh = ForecastingHorizon(horizon, is_relative=False)\r\nforecaster.fit(y_train, fh=fh)\r\ny_pred = forecaster.predict()\r\n>\r\n```\r\n\r\nError message preview:\r\n\r\nTypeError                                 Traceback (most recent call last)\r\nc:\\Users\\WREGTE16\\Documents\\GitHub\\nl_sales_forecast\\testing\\a.ipynb Cell 1 in <cell line: 24>()\r\n     [22](vscode-notebook-cell:/c%3A/Users/WREGTE16/Documents/GitHub/nl_sales_forecast/testing/a.ipynb#W0sZmlsZQ%3D%3D?line=21) fh = ForecastingHorizon(horizon, is_relative=False)\r\n     [23](vscode-notebook-cell:/c%3A/Users/WREGTE16/Documents/GitHub/nl_sales_forecast/testing/a.ipynb#W0sZmlsZQ%3D%3D?line=22) forecaster.fit(y_train, fh=fh)\r\n---> [24](vscode-notebook-cell:/c%3A/Users/WREGTE16/Documents/GitHub/nl_sales_forecast/testing/a.ipynb#W0sZmlsZQ%3D%3D?line=23) y_pred = forecaster.predict()\r\n\r\nFile c:\\Users\\WREGTE16\\Miniconda3\\envs\\forecasting\\lib\\site-packages\\sktime\\forecasting\\base\\_base.py:331, in BaseForecaster.predict(self, fh, X)\r\n    328     y_pred = self._vectorize(\"predict\", X=X_inner, fh=fh)\r\n    330 # convert to output mtype, identical with last y mtype seen\r\n--> 331 y_out = convert_to(\r\n    332     y_pred,\r\n    333     self._y_mtype_last_seen,\r\n    334     store=self._converter_store_y,\r\n    335     store_behaviour=\"freeze\",\r\n    336 )\r\n    338 return y_out\r\n\r\nFile c:\\Users\\WREGTE16\\Miniconda3\\envs\\forecasting\\lib\\site-packages\\sktime\\datatypes\\_convert.py:241, in convert_to(obj, to_type, as_scitype, store, store_behaviour)\r\n    238     as_scitype = mtype_to_scitype(to_type)\r\n    240 # now further narrow down as_scitype by inference from the obj\r\n--> 241 from_type = infer_mtype(obj=obj, as_scitype=as_scitype)\r\n    242 as_scitype = mtype_to_scitype(from_type)\r\n    244 # if to_type is a list, we do the following:\r\n    245 # if on the list, then don't do a conversion (convert to from_type)\r\n...\r\ndf-list: obj must be list of pd.DataFrame, found <class 'pandas.core.series.Series'>\r\nnumpy3D: obj must be a numpy.ndarray, found <class 'pandas.core.series.Series'>\r\npd-multiindex: obj must be a pd.DataFrame, found <class 'pandas.core.series.Series'>\r\nnested_univ: obj must be a pd.DataFrame, found <class 'pandas.core.series.Series'>\r\n\r\n**Expected behavior**\r\n<!--\r\n-->\r\n\r\nI would expect this code to perform a global forecast over all levels in the panel dataset, as the make_reduction strategy is set to 'recursive' which has 'pd-multiindex' as y_inner_mtype.\r\n\r\n**Additional context**\r\n<!--\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 06:59:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: c:\\Users\\WREGTE16\\Miniconda3\\envs\\forecasting\\python.exe\r\n   machine: Windows-10-10.0.19044-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 61.2.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.3\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3315", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3315/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3315/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3315/events", "html_url": "https://github.com/sktime/sktime/issues/3315", "id": 1345966734, "node_id": "I_kwDOCVKAsc5QOdKO", "number": 3315, "title": "[DOC] Docstring lists wrong default for `SlidingWindowSplitter` parameter `start_with_window`", "user": {"login": "JasonSanchez", "id": 5333648, "node_id": "MDQ6VXNlcjUzMzM2NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5333648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JasonSanchez", "html_url": "https://github.com/JasonSanchez", "followers_url": "https://api.github.com/users/JasonSanchez/followers", "following_url": "https://api.github.com/users/JasonSanchez/following{/other_user}", "gists_url": "https://api.github.com/users/JasonSanchez/gists{/gist_id}", "starred_url": "https://api.github.com/users/JasonSanchez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JasonSanchez/subscriptions", "organizations_url": "https://api.github.com/users/JasonSanchez/orgs", "repos_url": "https://api.github.com/users/JasonSanchez/repos", "events_url": "https://api.github.com/users/JasonSanchez/events{/privacy}", "received_events_url": "https://api.github.com/users/JasonSanchez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-22T07:45:43Z", "updated_at": "2022-08-27T18:12:56Z", "closed_at": "2022-08-27T18:12:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Default for this argument is actually True.\r\n\r\nhttps://github.com/alan-turing-institute/sktime/blob/824804c785fb97e20c29045ee058181ceeb9418b/sktime/forecasting/model_selection/_split.py#L1107", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3311", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3311/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3311/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3311/events", "html_url": "https://github.com/sktime/sktime/issues/3311", "id": 1345525556, "node_id": "I_kwDOCVKAsc5QMxc0", "number": 3311, "title": "[BUG] AutoETS.fit generates an unneeded UserWarning when auto=True and additive_only=True", "user": {"login": "adamcataldo", "id": 1730450, "node_id": "MDQ6VXNlcjE3MzA0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1730450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamcataldo", "html_url": "https://github.com/adamcataldo", "followers_url": "https://api.github.com/users/adamcataldo/followers", "following_url": "https://api.github.com/users/adamcataldo/following{/other_user}", "gists_url": "https://api.github.com/users/adamcataldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamcataldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamcataldo/subscriptions", "organizations_url": "https://api.github.com/users/adamcataldo/orgs", "repos_url": "https://api.github.com/users/adamcataldo/repos", "events_url": "https://api.github.com/users/adamcataldo/events{/privacy}", "received_events_url": "https://api.github.com/users/adamcataldo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-21T15:58:09Z", "updated_at": "2022-08-22T23:11:01Z", "closed_at": "2022-08-22T23:11:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen:\r\n\r\n1. AutoETS is constructed with auto=True and additive_only=True, and\r\n2. AutoETS.fit is called with a series with negative values\r\nA UserWarnings gets generated.\r\n\r\n_UserWarning: Warning: time series is not strictly positive,multiplicative components are ommitted_\r\n\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport warnings\r\n\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.ets import AutoETS\r\n\r\nwith warnings.catch_warnings() as w:\r\n    warnings.simplefilter(\"error\")\r\n    forecaster = AutoETS(auto=True, additive_only=True)\r\n    x = pd.Series(np.arange(-15.0, 15.0, 1.0))\r\n    forecaster.fit(x)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThis warning should not be generated. Because additive_only is set equal to True, omitting multiplicative components is the expected behavior, not exceptional behavior.\r\n\r\n**Additional context**\r\n\r\nThe following can serve as a workaround until this bug is fixed:\r\n\r\n```python\r\nimport warnings\r\n\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.ets import AutoETS\r\n\r\nforecaster = AutoETS(auto=True, additive_only=True)\r\nx = pd.Series(np.arange(-15.0, 15.0, 1.0))\r\nwith warnings.catch_warnings() as w:\r\n    warnings.simplefilter(\"ignore\")\r\n    forecaster.fit(x)\r\n```\r\n\r\nThe problem with this workaround is that other warning also get suppressed, so users miss the opportunity to catch other potential issues.\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.9 (default, Apr 13 2022, 08:48:07)  [Clang 13.1.6 (clang-1316.0.21.2.5)]\r\nexecutable: /Library/Developer/CommandLineTools/usr/bin/python3\r\n   machine: macOS-12.5.1-x86_64-i386-64bit\r\nPython dependencies:\r\n          pip: 22.2.2\r\n   setuptools: 63.1.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: 2.0.0\r\n      tsfresh: None\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3300", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3300/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3300/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3300/events", "html_url": "https://github.com/sktime/sktime/issues/3300", "id": 1345109393, "node_id": "I_kwDOCVKAsc5QLL2R", "number": 3300, "title": "[BUG] pmdarima 2.0.0 incompatibility - return indices", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-08-20T09:43:56Z", "updated_at": "2022-09-08T22:31:13Z", "closed_at": "2022-09-08T22:31:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Soft dependency `pmdarima` 2.0.0 was released a few hours ago, and it seems to break our `ARIMA` interface.\r\n\r\nSuspicion: return indices are now absolute and no longer relative to the cutoff.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3300/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3267", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3267/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3267/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3267/events", "html_url": "https://github.com/sktime/sktime/issues/3267", "id": 1338249015, "node_id": "I_kwDOCVKAsc5PxA83", "number": 3267, "title": "[BUG] Updating a `TransformedTargetForecaster` with `Deseasonalizer` breaks", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-14T13:36:36Z", "updated_at": "2022-08-21T13:02:29Z", "closed_at": "2022-08-21T13:02:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From discord help-desk, @foobar\r\n\r\n```python\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster\r\nfrom sktime.transformations.series.detrend import Deseasonalizer\r\nfrom sktime.datasets import load_airline\r\n\r\nall_df = load_airline().to_frame()\r\n\r\n\r\nmodel = TransformedTargetForecaster(\r\n    [\r\n        (\"deseasonalize\", Deseasonalizer(model=\"additive\", sp=12)),\r\n        (\"forecast\", ThetaForecaster()),\r\n    ]\r\n)\r\ntrain_df = all_df[\"1949\":\"1950\"]\r\nmodel.fit(train_df)\r\nmodel.update(y=all_df[\"1951\"])\r\n```\r\n\r\nGives an error `TypeError: _fit() got an unexpected keyword argument update_params`\r\n\r\nWorkaround: Pass `Deseasonalizer` into a `OptionalPassthrough` object \r\ni.e.  `sktime.transformations.series.compose.OptionalPassthrough(Deseasonalizer(...))`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3253", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3253/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3253/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3253/events", "html_url": "https://github.com/sktime/sktime/issues/3253", "id": 1337748388, "node_id": "I_kwDOCVKAsc5PvGuk", "number": 3253, "title": "[BUG] `WindowSummarizer` error when used in recursive reducer", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-08-12T22:18:15Z", "updated_at": "2022-11-08T23:05:24Z", "closed_at": "2022-11-08T22:38:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From stackoverflow here:\r\nhttps://stackoverflow.com/questions/73325333/call-windowsummarizer-from-sktime-recursively-to-the-forecasting-target-y-in\r\n\r\noriginal message on stackoverflow:\r\n\r\n---\r\n\r\nI need help on how to use the WindowSummarizer function from the SKTIME library recursively in the future.\r\n\r\nBecause in the training and test data it is easy to generate the variables of moving averages and moving standard deviations.\r\n\r\nBut for future predictions, the WindowSummarizer function has to work interactively, with each new predicted observation, WindowSummarizer must recalculate all variables and thus make the next prediction, recursively, until the end.\r\n\r\nCan anyone help me?\r\n\r\nFollow a reproducible example:\r\n\r\n```python\r\n#!pip install sktime[all_extras]\r\n\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom sktime.transformations.series.summarize import WindowSummarizer\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.compose import ForecastingPipeline\r\nfrom sklearn.linear_model import LinearRegression\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.compose import make_reduction, TransformedTargetForecaster\r\n\r\ny = load_airline()\r\n\r\nkwargs = {\r\n        \"lag_feature\": {\r\n            \"lag\": [0,1],\r\n            \"mean\": [[0, 7], [0, 14],[0, 28]],\r\n            \"std\": [[0, 7], [0, 14],[0, 28]],\r\n            \"kurt\": [[0, 7], [0, 14],[0, 28]],\r\n            \"skew\": [[0, 7], [0, 14],[0, 28]]\r\n        }\r\n    }\r\n\r\n\r\nforecaster = make_reduction(\r\n    LinearRegression(),\r\n    scitype=\"tabular-regressor\",\r\n    transformers=[WindowSummarizer(**kwargs, n_jobs=1,truncate = \"bfill\")],\r\n    window_length=None,\r\n    strategy=\"recursive\"\r\n)\r\n\r\npipe = ForecastingPipeline(\r\n    steps=[\r\n        (\"forecaster\", forecaster),\r\n    ]\r\n)\r\n\r\nmodel = pipe.fit(y)\r\n\r\nmodel.predict(fh = np.arange(1,100,1))\r\n```\r\n\r\nThis code return the error message:\r\n\r\n`Input contains NaN, infinity or a value too large for dtype('float64').`\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3247", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3247/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3247/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3247/events", "html_url": "https://github.com/sktime/sktime/issues/3247", "id": 1337343351, "node_id": "I_kwDOCVKAsc5Ptj13", "number": 3247, "title": "[BUG] ERROR: Couldn't install package: sktime", "user": {"login": "4d30", "id": 45021583, "node_id": "MDQ6VXNlcjQ1MDIxNTgz", "avatar_url": "https://avatars.githubusercontent.com/u/45021583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/4d30", "html_url": "https://github.com/4d30", "followers_url": "https://api.github.com/users/4d30/followers", "following_url": "https://api.github.com/users/4d30/following{/other_user}", "gists_url": "https://api.github.com/users/4d30/gists{/gist_id}", "starred_url": "https://api.github.com/users/4d30/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/4d30/subscriptions", "organizations_url": "https://api.github.com/users/4d30/orgs", "repos_url": "https://api.github.com/users/4d30/repos", "events_url": "https://api.github.com/users/4d30/events{/privacy}", "received_events_url": "https://api.github.com/users/4d30/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-12T15:23:36Z", "updated_at": "2022-08-12T16:46:27Z", "closed_at": "2022-08-12T15:52:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nsktime cannot be installed.\r\n\r\n`python setup.py egg_info `does not run successfully. There are multiple top-level packages discovered in a flat-layout: ['sktime', 'build_tools', 'extension_templates']\r\n\r\n\r\n**To Reproduce**\r\nAttempt an install of sktime\r\n\r\n```\r\n$ pipenv install sktime\r\n```\r\n\r\n```shell\r\n$ pipenv install sktime                                                                                                                                                           [45/324]\r\nInstalling sktime...                                                                                                                                                                           \r\nAdding sktime to Pipfile's [packages]...                                                                                                                                                       \r\n\u2714 Installation Succeeded                                                                                                                                                                       \r\nInstalling dependencies from Pipfile.lock (ad0018)...                                                                                                                                          \r\n  \ud83d\udc0d   \u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589 2/2 \u2014 00:00:00                          \r\nAn error occurred while installing sktime==0.8.0 --hash=sha256:dc17e38eeb5d00361b42386c781ed56441134f859c120a4e4b1b030f87ae00d8 --hash=sha256:c0c99eebfccdd8ec603ecfc61aac4d9dca3e1d307b82920de\r\n2a5bcd3cf8453b4 --hash=sha256:396216ea7fb63c5c611c38f140212a9d4976608bd55f8bbccd78ba5df7e70727 --hash=sha256:60f066de8a54318f29a5fb9b19ca8e73d67c69529c0fb318cfae9357a6c21247 --hash=sha256:657\r\n0ad33794dbb49ec78f891e51195d48b45091d2776072def4c995e0e3b5603 --hash=sha256:9f5418f1c1d1d7b0d32ba03890d9ed67f7416be17cb575894bbf6faca6d09af1 --hash=sha256:764dc1254b75e4f42907320eb67e75d734e9\r\n73704f70bf508748cbeb59ba6b14 --hash=sha256:2df1185e045c9927e0deaa7ec7e6e56012df999ce9e382162a12f39d569a020e --hash=sha256:8970f2d4f2eb54c0181b05f5714d198a0fa95c127252475e5216a702347cd881 --ha\r\nsh=sha256:8c7e27ea93bfcbf90b0d813ed5ec992649624936af2853045eb0bffc0eb5522f --hash=sha256:bb9c97b9f77f140ccf495f412068e842193091e9ac0122e21aca709c02325e3d --hash=sha256:f35ab884a456ce7eea61d0b\r\nd20527cf389ab7b1ae7c04ebad9b9025b8fee02ae --hash=sha256:6debacac87cf4ce6a89691c16e8a93c6dd22bfe42ef9156bf1869f2bc84acc4e --hash=sha256:91fad9b80eb5d986226265594961a8198f67cf05e2a7e75f2e790458\r\ncef400ef --hash=sha256:15a629df60f7512c37e5f7391e19039a3bcf75fd6dc96ec6b158ff453fa7ca0d --hash=sha256:25ad30cd6c6167ddb9dee90114df7ecb8b4518a9df9e2eaa83580c79930ac037! Will try again.\r\nInstalling initially failed dependencies...\r\n[pipenv.exceptions.InstallError]: Collecting sktime==0.8.0                                                                                                                                     \r\n[pipenv.exceptions.InstallError]:   Using cached sktime-0.8.0.tar.gz (9.7 MB)\r\n[pipenv.exceptions.InstallError]:   Preparing metadata (setup.py): started                                                                                                                     \r\n[pipenv.exceptions.InstallError]:   Preparing metadata (setup.py): finished with status 'error' \r\n[pipenv.exceptions.InstallError]: error: subprocess-exited-with-error                                                                                                                          \r\n[pipenv.exceptions.InstallError]:   \r\n[pipenv.exceptions.InstallError]:   \u00d7 python setup.py egg_info did not run successfully.                                                                                                       \r\n[pipenv.exceptions.InstallError]:   \u2502 exit code: 1   \r\n[pipenv.exceptions.InstallError]:   \u2570\u2500> [16 lines of output]                                                                                                                                   \r\n[pipenv.exceptions.InstallError]:       /home/user/.local/share/virtualenvs/pdva-VEwz2__Q/lib/python3.10/site-packages/setuptools/dist.py:771: UserWarning: Usage of dash-separated 'descrip\r\ntion-file' will not be supported in future versions. Please use the underscore name 'description_file' instead                                                 \r\n[pipenv.exceptions.InstallError]:         warnings.warn(\r\n[pipenv.exceptions.InstallError]:       error: Multiple top-level packages discovered in a flat-layout: ['sktime', 'build_tools', 'extension_templates'].\r\n[pipenv.exceptions.InstallError]:            \r\n[pipenv.exceptions.InstallError]:       To avoid accidental inclusion of unwanted files or directories,                                 \r\n[pipenv.exceptions.InstallError]:       setuptools will not proceed with this build.\r\n[pipenv.exceptions.InstallError]:                                                                                                                                                              \r\n[pipenv.exceptions.InstallError]:       If you are trying to create a single distribution with multiple packages\r\n[pipenv.exceptions.InstallError]:       on purpose, you should not rely on automatic discovery.                                             \r\n[pipenv.exceptions.InstallError]:       Instead, consider the following options:\r\n[pipenv.exceptions.InstallError]:                                                                                                                                                              \r\n[pipenv.exceptions.InstallError]:       1. set up custom discovery (`find` directive with `include` or `exclude`)\r\n[pipenv.exceptions.InstallError]:       2. use a `src-layout`\r\n[pipenv.exceptions.InstallError]:       3. explicitly set `py_modules` or `packages` with a list of names\r\n[pipenv.exceptions.InstallError]:           \r\n[pipenv.exceptions.InstallError]:       To find more information, look for \"package discovery\" on setuptools docs.\r\n[pipenv.exceptions.InstallError]:       [end of output]                    \r\n[pipenv.exceptions.InstallError]:   \r\n[pipenv.exceptions.InstallError]:   note: This error originates from a subprocess, and is likely not a problem with pip.\r\n[pipenv.exceptions.InstallError]: error: metadata-generation-failed\r\n[pipenv.exceptions.InstallError]: \r\n[pipenv.exceptions.InstallError]: \u00d7 Encountered error while generating package metadata.\r\n[pipenv.exceptions.InstallError]: \u2570\u2500> See above for output.\r\n[pipenv.exceptions.InstallError]: \r\n[pipenv.exceptions.InstallError]: note: This is an issue with the package mentioned above, not pip.\r\n[pipenv.exceptions.InstallError]: hint: See above for details.\r\nERROR: Couldn't install package: sktime\r\n\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nIt is expected that sktime installs without issue.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\nThis might be relevant:\r\n[https://github.com/nucleic/kiwi/issues/130](https://github.com/nucleic/kiwi/issues/130)\r\n\r\n\r\n**Versions**\r\n$ uname -a \r\nLinux localhost 4.18.0-25-generic #26~18.04.1-Ubuntu SMP Thu Jun 27 07:28:31 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n(pdva) localhost$ python -V\r\nPython 3.10.0\r\n$ pipenv --version\r\npipenv, version 2022.4.20\r\n\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3246", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3246/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3246/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3246/events", "html_url": "https://github.com/sktime/sktime/issues/3246", "id": 1336564662, "node_id": "I_kwDOCVKAsc5Pqlu2", "number": 3246, "title": "[BUG] some user guide notebooks are not properly displayed", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-11T22:37:23Z", "updated_at": "2022-09-03T17:40:16Z", "closed_at": "2022-09-03T17:40:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The symbolic links for some of the user guide notebooks do not seem to work, see here:\r\n\r\nhttps://www.sktime.org/en/latest/user_guide.html\r\n\r\nNot quite sure what the issue is, seemed fine in the preview.\r\n\r\nAn issue might be that I did this manually instead of via using the `docs/symlink_examples.sh` utility - perhaps the fix is as easy as running the utility and making a pull request with the changes?\r\n\r\nSomeone with a Mac or Unix OS would have to do that though.\r\n\r\nGood first issue, since we should try running `symlink_examples` and see what happens (that sounds easy with the right OS).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3235", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3235/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3235/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3235/events", "html_url": "https://github.com/sktime/sktime/issues/3235", "id": 1334561710, "node_id": "I_kwDOCVKAsc5Pi8uu", "number": 3235, "title": "[BUG] make_reduction predict() does not work with sktime forecasters", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-08-10T12:37:25Z", "updated_at": "2022-11-14T23:54:36Z", "closed_at": "2022-11-14T23:53:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`make_reduction` does not work with `sktime` forecasters aka `scitype=\"time-series-regressor\"`\r\n\r\n```\r\nTypeError: Invalid `fh`. The type of the passed `fh` values is not supported. Please use one of ('int', 'np.array', 'list', 'pd.RangeIndex', 'pd.PeriodIndex', 'pd.DatetimeIndex', 'pd.TimedeltaIndex'), but found: <class 'numpy.ndarray'>\r\n```\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom sktime.datasets import load_airline\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\nforecaster = make_reduction(ExponentialSmoothing(), window_length=12, scitype=\"time-series-regressor\")\r\nforecaster.fit(y_train, fh=fh)\r\ny_pred = forecaster.predict()\r\n```\r\n\r\n\r\n**Versions**\r\n`main`\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3230", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3230/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3230/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3230/events", "html_url": "https://github.com/sktime/sktime/issues/3230", "id": 1333951221, "node_id": "I_kwDOCVKAsc5Pgnr1", "number": 3230, "title": "[BUG] `TrendForecaster` gives incorrect output", "user": {"login": "eggboy42", "id": 90433237, "node_id": "MDQ6VXNlcjkwNDMzMjM3", "avatar_url": "https://avatars.githubusercontent.com/u/90433237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eggboy42", "html_url": "https://github.com/eggboy42", "followers_url": "https://api.github.com/users/eggboy42/followers", "following_url": "https://api.github.com/users/eggboy42/following{/other_user}", "gists_url": "https://api.github.com/users/eggboy42/gists{/gist_id}", "starred_url": "https://api.github.com/users/eggboy42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eggboy42/subscriptions", "organizations_url": "https://api.github.com/users/eggboy42/orgs", "repos_url": "https://api.github.com/users/eggboy42/repos", "events_url": "https://api.github.com/users/eggboy42/events{/privacy}", "received_events_url": "https://api.github.com/users/eggboy42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-10T01:34:30Z", "updated_at": "2023-01-27T10:07:10Z", "closed_at": "2023-01-27T10:07:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe TrendForecaster produces unusual outputs on levels different from the target series.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.trend import TrendForecaster\r\nfrom sktime.utils.plotting import plot_series\r\n\r\ny = load_airline()\r\nforecaster = TrendForecaster()\r\n\r\ny_preds = []\r\nfor last_train in [20, 40, 60, 80]:\r\n    forecaster.fit(y[:last_train])\r\n    y_pred = forecaster.predict(fh=[1,2,3,4,5])\r\n    y_preds.append(y_pred)\r\n\r\nplot_series(y, *y_preds)\r\n```\r\n\r\n**Expected behavior**\r\nThe forecasts should be straight lines extrapolating the linear historical trend.\r\n\r\n**Additional context**\r\nWould expect that the default behaviour is similar to the default behaviour of the `PolynomialTrendForecaster`. In `TrendForecaster`, the `X` is calculated as\r\n```python\r\nX = y.index.astype(\"int\").to_numpy().reshape(-1, 1)\r\n```\r\nwhereas in the polynomial version, it is calculated as\r\n```python\r\nn_timepoints = _get_duration(self._y.index, coerce_to_int=True) + 1\r\nX = np.arange(n_timepoints).reshape(-1, 1)\r\n```\r\n\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.13 (default, Apr 19 2022, 00:53:22)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3.8\r\n   machine: Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.27\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 56.0.0\r\n      sklearn: 1.1.2\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3221", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3221/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3221/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3221/events", "html_url": "https://github.com/sktime/sktime/issues/3221", "id": 1333200054, "node_id": "I_kwDOCVKAsc5PdwS2", "number": 3221, "title": "[BUG] make_forecasting_scorer attribute error", "user": {"login": "ilkersigirci", "id": 39417966, "node_id": "MDQ6VXNlcjM5NDE3OTY2", "avatar_url": "https://avatars.githubusercontent.com/u/39417966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilkersigirci", "html_url": "https://github.com/ilkersigirci", "followers_url": "https://api.github.com/users/ilkersigirci/followers", "following_url": "https://api.github.com/users/ilkersigirci/following{/other_user}", "gists_url": "https://api.github.com/users/ilkersigirci/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilkersigirci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilkersigirci/subscriptions", "organizations_url": "https://api.github.com/users/ilkersigirci/orgs", "repos_url": "https://api.github.com/users/ilkersigirci/repos", "events_url": "https://api.github.com/users/ilkersigirci/events{/privacy}", "received_events_url": "https://api.github.com/users/ilkersigirci/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4046206041, "node_id": "LA_kwDOCVKAsc7xLDRZ", "url": "https://api.github.com/repos/sktime/sktime/labels/module:metrics&benchmarking", "name": "module:metrics&benchmarking", "color": "29A8FC", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-09T12:40:36Z", "updated_at": "2022-08-10T22:07:56Z", "closed_at": "2022-08-10T22:07:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nWhen trying to create a custom forecasting scorer with `make_forecasting_scorer`, it fails with `AttributeError: '_DynamicForecastingErrorMetric' object has no attribute 'lower_is_better'`.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.performance_metrics.forecasting import make_forecasting_scorer\r\nimport numpy as np\r\nfrom sktime.datasets import load_airline\r\n\r\ny = load_airline()\r\n\r\ndef custom_mape(y_true , y_pred) -> float:\r\n\r\n    eps = np.finfo(np.float64).eps\r\n\r\n    result = np.mean(np.abs(y_true - y_pred) / np.maximum(np.abs(y_true), eps))\r\n\r\n    return float(result)\r\n\r\n\r\nfc_scorer = make_forecasting_scorer(\r\n    func=custom_mape,\r\n    name=\"custom_mape\",\r\n    greater_is_better=False,\r\n)\r\n\r\nfc_scorer(y,y)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nCreating custom_score should be done without any error.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nThis was working as expected in earlier version IIRC. I think this is happens after `metric refactor` implementations.\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.7.13 (default, Apr 24 2022, 01:04:09)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.188+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3207", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3207/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3207/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3207/events", "html_url": "https://github.com/sktime/sktime/pull/3207", "id": 1330956141, "node_id": "PR_kwDOCVKAsc48xFpa", "number": 3207, "title": "[BUG] skip check for no. estimators in contracted classifiers", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-07T09:01:08Z", "updated_at": "2022-08-07T12:43:29Z", "closed_at": "2022-08-07T12:43:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3207", "html_url": "https://github.com/sktime/sktime/pull/3207", "diff_url": "https://github.com/sktime/sktime/pull/3207.diff", "patch_url": "https://github.com/sktime/sktime/pull/3207.patch", "merged_at": "2022-08-07T12:43:28Z"}, "body": "This PR removes a stochastic failure from `main` coming from checks in tests of contracted classifiers, see #3206.\r\n\r\n#3206 should be used for finding a better resolution of the failure, this PR simply removes the problem from `main`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3207/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3202", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3202/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3202/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3202/events", "html_url": "https://github.com/sktime/sktime/issues/3202", "id": 1330819950, "node_id": "I_kwDOCVKAsc5PUrNu", "number": 3202, "title": "[BUG] `DrCIF` failure due to single class in sub-sample", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-06T18:43:57Z", "updated_at": "2022-08-07T09:02:40Z", "closed_at": "2022-08-07T09:02:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`DrCIF` fails stochastically under windows, on `test_contracted_drcif`, the line `assert len(drcif.estimators_) > 1`, because `drcif.estimators_` ends up having length 1.\r\n\r\nDo you have an idea what is going on here, @MatthewMiddlehurst?\r\n\r\nWe are fixing the random seed, but the resulting samples might change with versions of the underlying packages or the operating system.\r\n\r\nExample here: https://github.com/alan-turing-institute/sktime/runs/7706482325?check_suite_focus=true", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3199", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3199/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3199/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3199/events", "html_url": "https://github.com/sktime/sktime/issues/3199", "id": 1330769185, "node_id": "I_kwDOCVKAsc5PUe0h", "number": 3199, "title": "[BUG] Error in `inverse-variance` method of `AutoEnsembleForecaster`", "user": {"login": "AnH0ang", "id": 46025351, "node_id": "MDQ6VXNlcjQ2MDI1MzUx", "avatar_url": "https://avatars.githubusercontent.com/u/46025351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnH0ang", "html_url": "https://github.com/AnH0ang", "followers_url": "https://api.github.com/users/AnH0ang/followers", "following_url": "https://api.github.com/users/AnH0ang/following{/other_user}", "gists_url": "https://api.github.com/users/AnH0ang/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnH0ang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnH0ang/subscriptions", "organizations_url": "https://api.github.com/users/AnH0ang/orgs", "repos_url": "https://api.github.com/users/AnH0ang/repos", "events_url": "https://api.github.com/users/AnH0ang/events{/privacy}", "received_events_url": "https://api.github.com/users/AnH0ang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-06T14:40:56Z", "updated_at": "2022-08-07T12:39:03Z", "closed_at": "2022-08-07T12:39:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen fitting the `AutoEnsembleForecaster` forecaster with exogenous data using the `inverse-variance` method, an error is raised. This is because `X` is passed to the internal forecasters instead of `X_test` when a prediction is made (see [here](https://github.com/alan-turing-institute/sktime/blob/4164639e1c521b112711c045d0f7e63013c1e4eb/sktime/forecasting/compose/_ensemble.py#L190)).\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.arima import ARIMA\r\nfrom sktime.forecasting.compose import AutoEnsembleForecaster\r\n\r\nforecasters = [\r\n    (\"forecaster_1\", ARIMA()),\r\n    (\"forecaster_2\", ARIMA()),\r\n]\r\n\r\ny, X = load_longley()\r\n\r\n\r\nensemble_forecaster = AutoEnsembleForecaster(\r\n    forecasters=forecasters, method=\"inverse-variance\"\r\n)\r\nensemble_forecaster.fit(y, X)\r\n```\r\n\r\nThis code snippet has the following output:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 16, in <module>\r\n    ensemble_forecaster.fit(y, X)\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/base/_base.py\", line 270, in fit\r\n    self._fit(y=y_inner, X=X_inner, fh=fh)\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/compose/_ensemble.py\", line 190, in _fit\r\n    for y_pred_test in self._predict_forecasters(fh_test, X)\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/base/_meta.py\", line 72, in _predict_forecasters\r\n    return [forecaster.predict(fh=fh, X=X) for forecaster in self.forecasters_]\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/base/_meta.py\", line 72, in <listcomp>\r\n    return [forecaster.predict(fh=fh, X=X) for forecaster in self.forecasters_]\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/base/_base.py\", line 325, in predict\r\n    y_pred = self._predict(fh=fh, X=X_inner)\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/base/adapters/_pmdarima.py\", line 76, in _predict\r\n    return self._predict_fixed_cutoff(fh_oos, X=X)\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/sktime/forecasting/base/adapters/_pmdarima.py\", line 178, in _predict_fixed_cutoff\r\n    result = self._forecaster.predict(\r\n  File \"/Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/lib/python3.8/site-packages/pmdarima/arima/arima.py\", line 785, in predict\r\n    raise ValueError('X array dims (n_rows) != n_periods')\r\nValueError: X array dims (n_rows) != n_periods\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe enseble forecaster should run without error and summarize the forecasters based on the inverse error variance of their predictions.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.9 (default, Oct 16 2021, 12:00:06)  [Clang 12.0.0 (clang-1200.0.32.29)]\r\nexecutable: /Users/anhoang/Projekte/2022/Daimler/Chronos/chronos/.venv/bin/python\r\n   machine: macOS-11.6-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 63.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3189", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3189/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3189/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3189/events", "html_url": "https://github.com/sktime/sktime/issues/3189", "id": 1330124007, "node_id": "I_kwDOCVKAsc5PSBTn", "number": 3189, "title": "[BUG] Dtype of `week_of_year` is different than other generated features in `DateTimeFeatures` transformation", "user": {"login": "e-alizadeh", "id": 30320825, "node_id": "MDQ6VXNlcjMwMzIwODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30320825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-alizadeh", "html_url": "https://github.com/e-alizadeh", "followers_url": "https://api.github.com/users/e-alizadeh/followers", "following_url": "https://api.github.com/users/e-alizadeh/following{/other_user}", "gists_url": "https://api.github.com/users/e-alizadeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-alizadeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-alizadeh/subscriptions", "organizations_url": "https://api.github.com/users/e-alizadeh/orgs", "repos_url": "https://api.github.com/users/e-alizadeh/repos", "events_url": "https://api.github.com/users/e-alizadeh/events{/privacy}", "received_events_url": "https://api.github.com/users/e-alizadeh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-05T16:12:58Z", "updated_at": "2022-08-10T19:07:19Z", "closed_at": "2022-08-10T19:07:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nPassing `week_of_year` to manual_selection argument of DateTimeFeatures transformation will generate a `UInt32` column data type that's different than `int64` used when generating other features. \r\nI believe the generated features here should be consistent in terms of data types.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport pandas as pd \r\nfrom sktime.transformations.series.date import DateTimeFeatures\r\nts = pd.DataFrame(index=pd.DatetimeIndex([\"2020-02-09\", \"2020-02-10\",\"2020-02-11\", \"2020-02-12\"], freq =\"D\"))\r\ntr = DateTimeFeatures(ts_freq=\"D\", manual_selection=[\"day_of_month\", \"day_of_week\", \"week_of_year\"])\r\nts_transformed = tr.fit_transform(ts)\r\nprint(ts_transformed.dtypes)\r\n```\r\n![Screen Shot 2022-08-05 at 12 08 01 PM](https://user-images.githubusercontent.com/30320825/183117415-3eb98231-1e9b-41bb-b6e4-baba53329097.png)\r\n\r\n\r\n\r\n**Expected behavior**\r\nSimilar integer data types (e.g all int64)\r\n\r\n**Additional context**\r\nYou may also want to consider an int32 for memory purposes!\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 06:06:49)  [Clang 12.0.1 ]\r\nexecutable: /Users/<removed>/opt/anaconda3/envs/<removed>/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\nPython dependencies:\r\n          pip: 22.2\r\n   setuptools: 63.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3188", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3188/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3188/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3188/events", "html_url": "https://github.com/sktime/sktime/issues/3188", "id": 1329946334, "node_id": "I_kwDOCVKAsc5PRV7e", "number": 3188, "title": "[BUG] `day_of_year` is not generated in `DateTimeFeatures` transformation", "user": {"login": "e-alizadeh", "id": 30320825, "node_id": "MDQ6VXNlcjMwMzIwODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30320825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-alizadeh", "html_url": "https://github.com/e-alizadeh", "followers_url": "https://api.github.com/users/e-alizadeh/followers", "following_url": "https://api.github.com/users/e-alizadeh/following{/other_user}", "gists_url": "https://api.github.com/users/e-alizadeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-alizadeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-alizadeh/subscriptions", "organizations_url": "https://api.github.com/users/e-alizadeh/orgs", "repos_url": "https://api.github.com/users/e-alizadeh/repos", "events_url": "https://api.github.com/users/e-alizadeh/events{/privacy}", "received_events_url": "https://api.github.com/users/e-alizadeh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-05T13:31:57Z", "updated_at": "2022-08-10T19:07:19Z", "closed_at": "2022-08-10T19:07:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nPassing `day_of_year` to `manual_selection` argument of `DateTimeFeatures` transformation shows the day of month (duplicating the column even if `day_of_month` exists) instead of day of the year.\r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd \r\nfrom sktime.transformations.series.date import DateTimeFeatures\r\n\r\nts = pd.DataFrame(index=pd.DatetimeIndex([\"2020-02-09\", \"2020-02-10\",\"2020-02-11\", \"2020-02-12\"], freq =\"D\"))\r\ntr = DateTimeFeatures(ts_freq=\"D\", manual_selection=[\"day_of_year\", \"day_of_month\", \"day_of_week\"])\r\n\r\nprint(tr.fit_transform(ts))\r\n```\r\nAbove script gives the following result:\r\n![Screen Shot 2022-08-05 at 9 23 15 AM](https://user-images.githubusercontent.com/84460342/183086502-0b2e06fb-24ac-4dbb-9010-e6f702b84438.png)\r\n\r\n\r\n**Expected behavior**\r\nWe are expecting a new column `day_of_year` to be 40 for `2020-02-09` date. \r\n\r\nAnother thing that I'm not sure, shouldn't the day of month column name be `day_of_month` instead of just `day`?\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 06:06:49)  [Clang 12.0.1 ]\r\nexecutable: /Users/<removed>/opt/anaconda3/envs/<removed>/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\nPython dependencies:\r\n          pip: 22.2\r\n   setuptools: 63.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.56.0\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3169", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3169/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3169/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3169/events", "html_url": "https://github.com/sktime/sktime/issues/3169", "id": 1328070934, "node_id": "I_kwDOCVKAsc5PKMEW", "number": 3169, "title": "[BUG] IndexError when selecting `return_X_y=False` and `return_type` is not referencing to a pandas dataframe.", "user": {"login": "achieveordie", "id": 54197164, "node_id": "MDQ6VXNlcjU0MTk3MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/54197164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achieveordie", "html_url": "https://github.com/achieveordie", "followers_url": "https://api.github.com/users/achieveordie/followers", "following_url": "https://api.github.com/users/achieveordie/following{/other_user}", "gists_url": "https://api.github.com/users/achieveordie/gists{/gist_id}", "starred_url": "https://api.github.com/users/achieveordie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achieveordie/subscriptions", "organizations_url": "https://api.github.com/users/achieveordie/orgs", "repos_url": "https://api.github.com/users/achieveordie/repos", "events_url": "https://api.github.com/users/achieveordie/events{/privacy}", "received_events_url": "https://api.github.com/users/achieveordie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3821859781, "node_id": "LA_kwDOCVKAsc7jzPPF", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datasets&loaders", "name": "module:datasets&loaders", "color": "0052cc", "default": false, "description": "data sets and data loaders"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2022-08-04T05:03:16Z", "updated_at": "2022-08-20T15:36:45Z", "closed_at": "2022-08-20T15:36:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nAs per the discussion in #2697, it was [found](https://github.com/alan-turing-institute/sktime/issues/2697#issuecomment-1196290311) that `_load_provided_dataset()` must throw an error if `return_type` is not a reference to `pd.DataFrame` and `return_X_y=False`. This happens because of code appends the response variable into predictors under the column name 'class_val'.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport sktime\r\nfrom sktime.datasets._data_io import _load_provided_dataset\r\n\r\ndef test_load_provided_dataset():\r\n    name = \"UnitTest\"                                    # referencing to dataset available for testing in the directory 'datasets/data/'\r\n    X, y = _load_provided_dataset(name, return_type='np2D', return_X_y=False)\r\n    print(X.shape, y.shape)\r\n\r\nif __name__ == \"__main__\":\r\n    print(\"Staring program\")\r\n    test_load_provided_dataset()\r\n    print(\"Done\")\r\n```\r\n\r\n**Output of above code**\r\n```\r\nPS D:\\Projects\\sktime\\sktime\\sktime\\datasets\\tests> D:/Anaconda/envs/sktime-dev/python temp_test_data_io.py\r\nStaring program\r\nTraceback (most recent call last):\r\n  File \"temp_test_data_io.py\", line 11, in <module>\r\n    test_load_provided_dataset()\r\n  File \"temp_test_data_io.py\", line 6, in test_load_provided_dataset\r\n    X, y = _load_provided_dataset(name, return_type='np2D', return_X_y=False)\r\n  File \"d:\\projects\\sktime\\sktime\\sktime\\datasets\\_data_io.py\", line 224, in _load_provided_dataset\r\n    X[\"class_val\"] = pd.Series(y)\r\nIndexError: only integers, slices (`:`), ellipsis (`...`), numpy.newaxis (`None`) and integer or boolean arrays are valid indices\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThis clearly is an issue because we are not checking the instance type of X, which could be `np.array` or `pd.DataFrame`.\r\n\r\n**Solutions(?)**\r\n* _Solution 1: Check instance and append in the appropriate axis_\r\n  Consider the following cases \r\n  - Univariate, 2D, equal length data (`X=np.random.randn(20, 24), y=np.random.randn(20,)`) then `output.shape=(20,25)`\r\n  - Univariate 3D, equal length data (`X=np.random.randn(20,1,24), y=np.random.randn(20,)`) then `output.shape=(20,1,25)`\r\n  - Multivariate, equal length data (`X=np.random.randn(20,6,24), y=np.random.randn(20,)`) then `output.shape=(20,6,25)`; requires tiling labels which might not be desirable.\r\n \r\n  I think it should also work for unequal length data but I need confirmation. The only drawback of this solution apart from the repetition of y in the multivariate case is that it might be less intuitive.\r\n\r\n* _Solution 2: Force convert the data into pandas dataframe and give a warning about the conversion._\r\n\r\n**Final Comments**\r\n- There are more solutions to this but I think these two are the most straightforward. I also have the code ready for the first solution and will send a pull request if that is chosen, otherwise I'll take a day's time to send a pull request if we move forward with any other solution.\r\n- I can also add unit tests regarding the same, I don't know if having tests for private methods are a thing or not, but I think it won't hurt having more tests.\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n```\r\nD:\\Anaconda\\envs\\sktime-dev\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n\r\nSystem:\r\n    python: 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 05:59:00) [MSC v.1929 64 bit (AMD64)]\r\nexecutable: D:\\Anaconda\\envs\\sktime-dev\\python.exe\r\n   machine: Windows-10-10.0.22000-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 63.1.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3166", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3166/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3166/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3166/events", "html_url": "https://github.com/sktime/sktime/issues/3166", "id": 1326786915, "node_id": "I_kwDOCVKAsc5PFSlj", "number": 3166, "title": "[BUG] oddities and circular imports with `all_estimators`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-03T07:18:05Z", "updated_at": "2022-08-07T16:04:56Z", "closed_at": "2022-08-07T16:04:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "FYI @RNKuhns, would much appreciate your eyes since related to the `baseobject` refactor.\r\n\r\nCurrently, `all_estimators` crawls the package, including the three `all` modules which in turn use `all_estimators` to crawl their respective sub-modules. In theory, this could end in infinite recursion, but it seems it does not, and `all_estimators` returns the correct answer.\r\nStill, a call to `all_estimators` takes very long, indicating that still sth might be going on.\r\n\r\nNow, when I try to refactor to `all_objects`, the expected infinite recursion *does* happen.\r\n\r\nQuestions:\r\n* why does it not happen in the status quo, but only after refactor?\r\n* how to avoid it in a principled way? Excluding `\"all\"` in the argument does not prevent `pkgutil.walk_packages` to load the package, i.e., does not prevent the recursion. There is also no option in `walk_packages` to exclude modules by name.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3159", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3159/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3159/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3159/events", "html_url": "https://github.com/sktime/sktime/issues/3159", "id": 1325564540, "node_id": "I_kwDOCVKAsc5PAoJ8", "number": 3159, "title": "[BUG] ARIMA.fit with numpy arrays not working correctly", "user": {"login": "benHeid", "id": 9725296, "node_id": "MDQ6VXNlcjk3MjUyOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9725296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benHeid", "html_url": "https://github.com/benHeid", "followers_url": "https://api.github.com/users/benHeid/followers", "following_url": "https://api.github.com/users/benHeid/following{/other_user}", "gists_url": "https://api.github.com/users/benHeid/gists{/gist_id}", "starred_url": "https://api.github.com/users/benHeid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benHeid/subscriptions", "organizations_url": "https://api.github.com/users/benHeid/orgs", "repos_url": "https://api.github.com/users/benHeid/repos", "events_url": "https://api.github.com/users/benHeid/events{/privacy}", "received_events_url": "https://api.github.com/users/benHeid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-02T09:23:29Z", "updated_at": "2022-08-05T08:29:51Z", "closed_at": "2022-08-05T08:29:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf I execute ARIMA().fit with numpy arrays, it will fails with a strange error message. It says that the indexes of the input Time Series does not fit to the exogenous variables Time Series. And prints the input time series values as missing index values for the exogenous variables time series.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nrand = np.random.random(1000)\r\nrand_x = np.random.random(1000)\r\nar = ARIMA()\r\nassert rand.shape == rand_x.shape\r\nar.fit(rand, X=rand_x)\r\n```\r\n\r\n**Expected behavior**\r\nARIMA should be fitted without an error.\r\n\r\n**Additional context**\r\nI suppose the problem is line 269ff in series.py. The supposed index are the values of y. I would expect that the index is something like `np.arange(0, len(y)`. I can implement this fix, but I assume that this would have effects on lots of other transformers too.\r\n\r\n```python\r\n        if isinstance(y, np.ndarray):\r\n            y_index = pd.Index(y)\r\n        else:\r\n            y_index = y.index\r\n```\r\n\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n   machine: Windows-10-10.0.18362-SP0\r\nPython dependencies:\r\n          pip: 22.0.3\r\n   setuptools: 60.8.2\r\n      sklearn: 1.0.2\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.7.3\r\n       pandas: 1.4.1\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3139", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3139/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3139/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3139/events", "html_url": "https://github.com/sktime/sktime/pull/3139", "id": 1323258282, "node_id": "PR_kwDOCVKAsc48XxF7", "number": 3139, "title": "[MNT] temporarily exclude `RandomShapeletTransform` from tests", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-30T18:38:28Z", "updated_at": "2022-07-30T18:49:08Z", "closed_at": "2022-07-30T18:49:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/3139", "html_url": "https://github.com/sktime/sktime/pull/3139", "diff_url": "https://github.com/sktime/sktime/pull/3139.diff", "patch_url": "https://github.com/sktime/sktime/pull/3139.patch", "merged_at": "2022-07-30T18:49:07Z"}, "body": "Excludes the failing `RandomShapeletTransform` from tests until we know what is going on.\r\n\r\nSee #3138 for the failure.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3139/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3138", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3138/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3138/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3138/events", "html_url": "https://github.com/sktime/sktime/issues/3138", "id": 1323256036, "node_id": "I_kwDOCVKAsc5O30jk", "number": 3138, "title": "[BUG] test error in `RandomShapeletTransform`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-07-30T18:26:27Z", "updated_at": "2022-10-11T08:57:32Z", "closed_at": "2022-10-11T08:57:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Update: this is not sporadic but is also failing on `main`.\r\n\r\nUnclear what is causing this, but it started recently, and no changes to the estimator have been made so far. Will temporarily address this by an emergency merge.\r\n\r\n---\r\nSometimes, `RandomShapeletTransform` seems to create an empty list internally.\r\n\r\nTraceback from https://github.com/alan-turing-institute/sktime/runs/7593226866?check_suite_focus=true\r\n\r\n```\r\nself = RandomShapeletTransform(batch_size=20, max_shapelets=5, n_shapelet_samples=50)\r\nX = array([[[1.96618854, 1.33121008, 2.11716292, 2.99250424, 1.23532101,\r\n         1.23533743, 3.0486872 , 2.23690912, 1.        , 2.01203443]]])\r\ny = array([4, 3, 6, 8, 1, 2, 9, 7, 0, 5])\r\n\r\n    def _fit(self, X, y=None):\r\n        \"\"\"Fit the shapelet transform to a specified X and y.\r\n    \r\n        Parameters\r\n        ----------\r\n        X: pandas DataFrame or np.ndarray\r\n            The training input samples.\r\n        y: array-like or list\r\n            The class values for X.\r\n    \r\n        Returns\r\n        -------\r\n        self : RandomShapeletTransform\r\n            This estimator.\r\n        \"\"\"\r\n        # this is a few versions away currently, and heaps dont support the replacement\r\n        warnings.simplefilter(\"ignore\", category=NumbaPendingDeprecationWarning)\r\n    \r\n        self._n_jobs = check_n_jobs(self.n_jobs)\r\n    \r\n        self.classes_, self._class_counts = np.unique(y, return_counts=True)\r\n        self.n_classes = self.classes_.shape[0]\r\n        for index, classVal in enumerate(self.classes_):\r\n            self._class_dictionary[classVal] = index\r\n    \r\n        le = preprocessing.LabelEncoder()\r\n        y = le.fit_transform(y)\r\n    \r\n        self.n_instances, self.n_dims, self.series_length = X.shape\r\n    \r\n        if self.max_shapelets is None:\r\n            self._max_shapelets = min(10 * self.n_instances, 1000)\r\n    \r\n        if self.max_shapelet_length is None:\r\n            self._max_shapelet_length = self.series_length\r\n    \r\n        time_limit = self.time_limit_in_minutes * 60\r\n        start_time = time.time()\r\n        fit_time = 0\r\n    \r\n        max_shapelets_per_class = self._max_shapelets / self.n_classes\r\n        shapelets = [[(-1.0, -1, -1, -1, -1, -1)] for _ in range(self.n_classes)]\r\n        n_shapelets_extracted = 0\r\n    \r\n        if time_limit > 0:\r\n            while (\r\n                fit_time < time_limit\r\n                and n_shapelets_extracted < self.contract_max_n_shapelet_samples\r\n            ):\r\n                candidate_shapelets = Parallel(n_jobs=self._n_jobs)(\r\n                    delayed(self._extract_random_shapelet)(\r\n                        X,\r\n                        y,\r\n                        n_shapelets_extracted + i,\r\n                        shapelets,\r\n                        max_shapelets_per_class,\r\n                    )\r\n                    for i in range(self._batch_size)\r\n                )\r\n    \r\n                for i, heap in enumerate(shapelets):\r\n                    RandomShapeletTransform._merge_shapelets(\r\n                        heap,\r\n                        candidate_shapelets,\r\n                        max_shapelets_per_class,\r\n                        i,\r\n                    )\r\n    \r\n                if self.remove_self_similar:\r\n                    for i, heap in enumerate(shapelets):\r\n                        to_keep = (\r\n                            RandomShapeletTransform._remove_self_similar_shapelets(heap)\r\n                        )\r\n                        shapelets[i] = [n for (n, b) in zip(heap, to_keep) if b]\r\n    \r\n                n_shapelets_extracted += self._batch_size\r\n                fit_time = time.time() - start_time\r\n        else:\r\n            while n_shapelets_extracted < self._n_shapelet_samples:\r\n                n_shapelets_to_extract = (\r\n                    self._batch_size\r\n                    if n_shapelets_extracted + self._batch_size\r\n                    <= self._n_shapelet_samples\r\n                    else self._n_shapelet_samples - n_shapelets_extracted\r\n                )\r\n    \r\n                candidate_shapelets = Parallel(n_jobs=self._n_jobs)(\r\n                    delayed(self._extract_random_shapelet)(\r\n                        X,\r\n                        y,\r\n                        n_shapelets_extracted + i,\r\n                        shapelets,\r\n                        max_shapelets_per_class,\r\n                    )\r\n                    for i in range(n_shapelets_to_extract)\r\n                )\r\n    \r\n                for i, heap in enumerate(shapelets):\r\n                    RandomShapeletTransform._merge_shapelets(\r\n                        heap,\r\n                        candidate_shapelets,\r\n                        max_shapelets_per_class,\r\n                        i,\r\n                    )\r\n    \r\n                if self.remove_self_similar:\r\n                    for i, heap in enumerate(shapelets):\r\n                        to_keep = (\r\n                            RandomShapeletTransform._remove_self_similar_shapelets(heap)\r\n                        )\r\n                        shapelets[i] = [n for (n, b) in zip(heap, to_keep) if b]\r\n    \r\n                n_shapelets_extracted += n_shapelets_to_extract\r\n    \r\n        self.shapelets = [\r\n            (\r\n                s[0],\r\n                s[1],\r\n                s[2],\r\n                s[3],\r\n                s[4],\r\n                self.classes_[s[5]],\r\n                z_normalise_series(X[s[4], s[3], s[2] : s[2] + s[1]]),\r\n            )\r\n            for class_shapelets in shapelets\r\n            for s in class_shapelets\r\n            if s[0] > 0\r\n        ]\r\n        self.shapelets.sort(reverse=True, key=lambda s: (s[0], s[1], s[2], s[3], s[4]))\r\n    \r\n>       to_keep = RandomShapeletTransform._remove_identical_shapelets(self.shapelets)\r\nE       ValueError: cannot compute fingerprint of empty list\r\n\r\nX          = array([[[1.96618854, 1.33121008, 2.11716292, 2.99250424, 1.23532101,\r\n         1.23533743, 3.0486872 , 2.23690912, 1.        , 2.01203443]]])\r\ncandidate_shapelets = [(0.0, 9, 0, 0, 0, 4), (0.0, 6, 1, 0, 0, 4), (0.0, 9, 0, 0, 0, 4), (0.0, 5, 3, 0, 0, 4), (0.0, 9, 0, 0, 0, 4), (0.0, 4, 2, 0, 0, 4), ...]\r\nclassVal   = 3.048687201442344\r\nfit_time   = 0\r\nheap       = [(-1.0, -1, -1, -1, -1, -1)]\r\ni          = 9\r\nindex      = 9\r\nle         = LabelEncoder()\r\nmax_shapelets_per_class = 0.5\r\nn_shapelets_extracted = 50\r\nn_shapelets_to_extract = 10\r\nself       = RandomShapeletTransform(batch_size=20, max_shapelets=5, n_shapelet_samples=50)\r\nshapelets  = [[(-1.0, -1, -1, -1, -1, -1)], [(-1.0, -1, -1, -1, -1, -1)], [(-1.0, -1, -1, -1, -1, -1)], [(-1.0, -1, -1, -1, -1, -1)], [(-1.0, -1, -1, -1, -1, -1)], [(-1.0, -1, -1, -1, -1, -1)], ...]\r\nstart_time = 1659204964.8932788\r\ntime_limit = 0.0\r\nto_keep    = [True]\r\ny          = array([4, 3, 6, 8, 1, 2, 9, 7, 0, 5])\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3138/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3119", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3119/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3119/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3119/events", "html_url": "https://github.com/sktime/sktime/issues/3119", "id": 1320913310, "node_id": "I_kwDOCVKAsc5Ou4me", "number": 3119, "title": "[BUG] clone is not working correctly on ExpandingWindowSplitter", "user": {"login": "SzymonStolarski", "id": 67345427, "node_id": "MDQ6VXNlcjY3MzQ1NDI3", "avatar_url": "https://avatars.githubusercontent.com/u/67345427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SzymonStolarski", "html_url": "https://github.com/SzymonStolarski", "followers_url": "https://api.github.com/users/SzymonStolarski/followers", "following_url": "https://api.github.com/users/SzymonStolarski/following{/other_user}", "gists_url": "https://api.github.com/users/SzymonStolarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/SzymonStolarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SzymonStolarski/subscriptions", "organizations_url": "https://api.github.com/users/SzymonStolarski/orgs", "repos_url": "https://api.github.com/users/SzymonStolarski/repos", "events_url": "https://api.github.com/users/SzymonStolarski/events{/privacy}", "received_events_url": "https://api.github.com/users/SzymonStolarski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-28T13:12:59Z", "updated_at": "2022-07-31T12:25:33Z", "closed_at": "2022-07-31T12:25:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n- Sklearn's `clone()` function is not working correctly on `ExpandingWindowSplitter`\r\n- The `window_length` parameter is not copied\r\n- `initial_window` is copied into `window_length` which is fine according to docstrings, however is counterintuitive and incompatible with `clone()`\r\n- This generates problems when cloning models that have cross-validation embeded\r\n- Example: `MultiplexForecaster` combined with `ForecastingGridSearchCV` cannot be evaluated using sktime's `evaluate()`\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sklearn.base import clone\r\n\r\n\r\ncv = ExpandingWindowSplitter(\r\n    start_with_window=True,\r\n    initial_window=10,\r\n    fh=[1])\r\n\r\nprint('pre-clone: ', cv.__dict__)\r\nprint('post-clone: ', clone(cv).__dict__)\r\n```\r\n```\r\npre-clone:  {'step_length': 1, 'start_with_window': True, 'initial_window': None, 'window_length': 10, 'fh': [1]}\r\npost-clone:  {'step_length': 1, 'start_with_window': True, 'initial_window': None, 'window_length': None, 'fh': [1]}\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nPre-clone and post-clone CVs should be identical.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.10 (default, Mar 15 2022, 12:22:08)  [GCC 9.4.0]\r\nexecutable: /local_disk0/pythonVirtualEnvDirs/virtualEnv-3d157b3d-b81c-4d78-b9fe-a70430ada65a/bin/python\r\n   machine: Linux-5.4.0-1086-azure-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0\r\n      sklearn: 0.24.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.1\r\n        numpy: 1.22.4\r\n        scipy: 1.6.2\r\n       pandas: 1.2.4\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.55.2\r\n     pmdarima: 1.8.4\r\n      tsfresh: None\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3084", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3084/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3084/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3084/events", "html_url": "https://github.com/sktime/sktime/issues/3084", "id": 1315897471, "node_id": "I_kwDOCVKAsc5ObwB_", "number": 3084, "title": "[BUG] Imputer and log transformer do not work together (inverse transform not applied)", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-24T12:40:53Z", "updated_at": "2022-08-02T12:49:20Z", "closed_at": "2022-08-02T12:49:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n- When the `TransformerPipeline` consists of an Imputer followed by a log transformer, predictions do not apply inverse log transform (seems to be a bug)\r\n- When the `TransformerPipeline` consists of only a log transformer, predictions seem to be correct (inverse transform is applied correctly).\r\n\r\n\r\n**To Reproduce**\r\n\r\n```python\r\n\r\n\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.transformations.series.impute import Imputer\r\nfrom sktime.transformations.compose import TransformerPipeline\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\npreprocess = TransformerPipeline(\r\n    [(\"imputer\", Imputer()), (\"transform\", LogTransformer())]\r\n)\r\n\r\npipeline = ForecastingPipeline(\r\n    [\r\n        (\r\n            \"forecaster\",\r\n            TransformedTargetForecaster(\r\n                [\r\n                    (\"preprocess\", preprocess),\r\n                    (\"model\", NaiveForecaster()),\r\n                ]\r\n            ),\r\n        )\r\n    ]\r\n)\r\n\r\ny = load_airline()\r\n\r\n# Fit Pipeline\r\npipeline.fit(y)\r\n\r\n# Peedict\r\npreds = pipeline.predict([1, 2, 3])\r\n\r\nprint(preds)\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/180647274-eb6791ca-8d4d-4647-aecc-866624218e9e.png)\r\n\r\n\r\n**Expected behavior**\r\nPredictions should be around the same magnitude as the data but it looks like the inverse transform is not applied for the `LogTransformer` when `Imputer` is also present in the `TransformerPipeline`\r\n\r\n**Additional context**\r\n**May be important. The above code works as expected if the `Imputer` is removed from the `TransformerPipeline`**, i.e. change this line\r\n\r\n```python\r\npreprocess = TransformerPipeline(\r\n    [(\"transform\", LogTransformer())]\r\n)\r\n```\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 06:59:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_13p0\\python.exe\r\n   machine: Windows-10-10.0.19044-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 61.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.2\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3084/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3083", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3083/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3083/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3083/events", "html_url": "https://github.com/sktime/sktime/issues/3083", "id": 1315864207, "node_id": "I_kwDOCVKAsc5Obn6P", "number": 3083, "title": "[BUG] sporadic failure in HIVE-COTE2 continuous interval tree subsampling to single class data sample", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-24T10:08:40Z", "updated_at": "2022-07-26T11:34:52Z", "closed_at": "2022-07-26T11:34:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "HIVE-COTE2 sporadically fails on standard test scenarios, as continuous interval tree can end up sub-sampling such that the sub-sampled data contains only one class.\r\n\r\nExample run:\r\nhttps://github.com/alan-turing-institute/sktime/runs/7484288807?check_suite_focus=true\r\n\r\nExample traceback:\r\n```\r\n2022-07-24T01:23:32.2345094Z self = ContinuousIntervalTree()\r\n2022-07-24T01:23:32.2345493Z X = array([[ 0.12919995,  0.2       , -0.11130629,  0.25      ,  1.0588584 ,\r\n2022-07-24T01:23:32.2346768Z         -0.25      ,  0.65891194,  0.5       ...     0.75      ,  3.2562025 , -0.5       , -0.08817679,  0.33333334,\r\n2022-07-24T01:23:32.2347199Z          0.05919602,  0.25      ]], dtype=float32)\r\n2022-07-24T01:23:32.2347537Z y = array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\r\n2022-07-24T01:23:32.2347774Z \r\n2022-07-24T01:23:32.2347964Z     def fit(self, X, y):\r\n2022-07-24T01:23:32.2348325Z         \"\"\"Fit a tree on cases (X,y), where y is the target variable.\r\n2022-07-24T01:23:32.2348672Z     \r\n2022-07-24T01:23:32.2349059Z         Build an information gain based tree for continuous attributes using the\r\n2022-07-24T01:23:32.2349447Z         margin gain metric for ties.\r\n2022-07-24T01:23:32.2349753Z     \r\n2022-07-24T01:23:32.2350037Z         Parameters\r\n2022-07-24T01:23:32.2350336Z         ----------\r\n2022-07-24T01:23:32.2350708Z         X : array-like or sparse matrix of shape = [n_instances,n_attributes]\r\n2022-07-24T01:23:32.2351114Z         The training input samples.\r\n2022-07-24T01:23:32.2351512Z         y : array-like, shape =  [n_instances]    The class labels.\r\n2022-07-24T01:23:32.2351838Z     \r\n2022-07-24T01:23:32.2352115Z         Returns\r\n2022-07-24T01:23:32.2352401Z         -------\r\n2022-07-24T01:23:32.2352691Z         self : object\r\n2022-07-24T01:23:32.2352960Z         \"\"\"\r\n2022-07-24T01:23:32.2353336Z         if isinstance(X, np.ndarray) and len(X.shape) == 3 and X.shape[1] == 1:\r\n2022-07-24T01:23:32.2353755Z             X = np.reshape(X, (X.shape[0], -1))\r\n2022-07-24T01:23:32.2354134Z         elif not isinstance(X, np.ndarray) or len(X.shape) > 2:\r\n2022-07-24T01:23:32.2354501Z             raise ValueError(\r\n2022-07-24T01:23:32.2354903Z                 \"ContinuousIntervalTree is not a time series classifier. \"\r\n2022-07-24T01:23:32.2355361Z                 \"A valid sklearn input such as a 2d numpy array is required.\"\r\n2022-07-24T01:23:32.2355802Z                 \"Sparse input formats are currently not supported.\"\r\n2022-07-24T01:23:32.2356157Z             )\r\n2022-07-24T01:23:32.2356518Z         X, y = self._validate_data(X=X, y=y, ensure_min_samples=2)\r\n2022-07-24T01:23:32.2356893Z     \r\n2022-07-24T01:23:32.2357230Z         self.n_instances_, self.n_atts_ = X.shape\r\n2022-07-24T01:23:32.2357574Z         self.classes_ = np.unique(y)\r\n2022-07-24T01:23:32.2357944Z         self.n_classes_ = self.classes_.shape[0]\r\n2022-07-24T01:23:32.2358309Z         self._class_dictionary = {}\r\n2022-07-24T01:23:32.2358691Z         for index, classVal in enumerate(self.classes_):\r\n2022-07-24T01:23:32.2359076Z             self._class_dictionary[classVal] = index\r\n2022-07-24T01:23:32.2359402Z     \r\n2022-07-24T01:23:32.2359699Z         if self.n_classes_ == 1:\r\n2022-07-24T01:23:32.2360076Z >           raise ValueError(\"fit input y must contain more than one class\")\r\n2022-07-24T01:23:32.2360523Z E           ValueError: fit input y must contain more than one class\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3083/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3073", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3073/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3073/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3073/events", "html_url": "https://github.com/sktime/sktime/issues/3073", "id": 1315011544, "node_id": "I_kwDOCVKAsc5OYXvY", "number": 3073, "title": "[BUG] CI test logs are too verbose", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-22T13:28:56Z", "updated_at": "2022-07-24T14:11:36Z", "closed_at": "2022-07-24T14:11:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nThe CI test configuration is too verbose and the logs often breaks browser display and often fail to load. It is not useful to have such verbosity when tests are passing and for failing tests pytest provides verbose diagnostic information.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\nLess vebose output from tests.\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3073/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3071", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3071/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3071/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3071/events", "html_url": "https://github.com/sktime/sktime/issues/3071", "id": 1314121621, "node_id": "I_kwDOCVKAsc5OU-eV", "number": 3071, "title": "[BUG] `SlidingWindowSplitter` and  `ExpandingWindowSplitter` only returns a single item for test split", "user": {"login": "e-alizadeh", "id": 30320825, "node_id": "MDQ6VXNlcjMwMzIwODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30320825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-alizadeh", "html_url": "https://github.com/e-alizadeh", "followers_url": "https://api.github.com/users/e-alizadeh/followers", "following_url": "https://api.github.com/users/e-alizadeh/following{/other_user}", "gists_url": "https://api.github.com/users/e-alizadeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-alizadeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-alizadeh/subscriptions", "organizations_url": "https://api.github.com/users/e-alizadeh/orgs", "repos_url": "https://api.github.com/users/e-alizadeh/repos", "events_url": "https://api.github.com/users/e-alizadeh/events{/privacy}", "received_events_url": "https://api.github.com/users/e-alizadeh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-07-22T03:32:16Z", "updated_at": "2022-08-08T03:55:04Z", "closed_at": "2022-08-01T06:57:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen splitting a dataset based on `SlidingWindowSplitter` or `ExpandingWindowSplitter`, the test set for splits has only the last test index instead of an array of indices. The train set is as expected. Check below for a sample output of the issue.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter, ExpandingWindowSplitter\r\n\r\ndf = pd.DataFrame(list(range(0, 50)))\r\n\r\nsliding_splitter = SlidingWindowSplitter(fh=5, window_length=10, step_length=1)\r\ns = list(sliding_splitter.split(df))\r\nprint(f\"First split of SlidingWindowSplitter: {s[0]}\")\r\n\r\nexpanding_splitter = ExpandingWindowSplitter(fh=5, initial_window=5, step_length=2)\r\nss = list(expanding_splitter.split(df))\r\nprint(f\"First split of ExpandingWindowSplitter: {ss[0]}\")\r\n```\r\nAbove will result in \r\n```\r\n>>> First split of SlidingWindowSplitter: (array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), array([14]))\r\n>>> First split of ExpandingWindowSplitter: (array([0, 1, 2, 3, 4]), array([9]))\r\n```\r\n\r\n**Expected behavior**\r\nFor `SlidingWindowSplitter` the first split based on give arguments must be \r\n`(array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), array([10, 11, 12, 13, 14])`\r\n\r\nFor `ExpandingWindowSplitter` the first split based on give arguments must be \r\n`(array([0, 1, 2, 3, 4]), array([5, 6, 7, 8, 9]))`\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 11:38:47)  [GCC 7.5.0]\r\nexecutable: <removed>\r\n   machine: Linux-5.10.60.1-microsoft-standard-WSL2-x86_64-with-glibc2.17\r\n\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 61.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.12.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.2\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3071/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3069", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3069/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3069/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3069/events", "html_url": "https://github.com/sktime/sktime/issues/3069", "id": 1313749045, "node_id": "I_kwDOCVKAsc5OTjg1", "number": 3069, "title": "[BUG] High memory consumption in `get_cutoff` when using a `DataFrame` with `MultiIndex`", "user": {"login": "shchur", "id": 6944857, "node_id": "MDQ6VXNlcjY5NDQ4NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6944857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shchur", "html_url": "https://github.com/shchur", "followers_url": "https://api.github.com/users/shchur/followers", "following_url": "https://api.github.com/users/shchur/following{/other_user}", "gists_url": "https://api.github.com/users/shchur/gists{/gist_id}", "starred_url": "https://api.github.com/users/shchur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shchur/subscriptions", "organizations_url": "https://api.github.com/users/shchur/orgs", "repos_url": "https://api.github.com/users/shchur/repos", "events_url": "https://api.github.com/users/shchur/events{/privacy}", "received_events_url": "https://api.github.com/users/shchur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-07-21T20:11:07Z", "updated_at": "2022-07-23T23:20:23Z", "closed_at": "2022-07-23T23:20:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe method `get_cutoff` when applied to a `DataFrame` dataset with hierarchical index performs a lot of redundant computations. This results in OOM errors and crashes when training on very large datasets. For example, I cannot train `AutoETS` model on the `electricity` dataset from the Monash repository on a machine with 300GB of RAM.\r\n\r\nThe problem lies in the following line of code in [`sktime.datatypes._utilities.py`](https://github.com/alan-turing-institute/sktime/blob/5767dbaac759ed6ac43a8977f4c46beb93d0f18c/sktime/datatypes/_utilities.py#L299) \r\n```python\r\nseries_idx = [obj.loc[x].index.get_level_values(-1) for x in idx.droplevel(-1)]\r\n```\r\nSuppose our dataset consists of 300 time series each of length 20000, stacked into a `DataFrame` with `MultiIndex` (level 0 = time series ID, level 1 = timestamp). The above line of code will try to create an array with 20000 * 20000 entries, even though we actually only need an array with 300 * 20000 entries.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.datatypes import get_cutoff\r\nfrom sktime.utils._testing.hierarchical import _make_hierarchical\r\n\r\ndf = _make_hierarchical((300,), max_timepoints=20000, min_timepoints=20000)\r\nget_cutoff(df)  # program gets stuck and eventually crashes with in an OOM error\r\n```\r\n\r\n**Expected behavior**\r\nThe code shouldn't result in an OOM error.\r\n\r\n**Additional context**\r\nAn easy solution to this problem is to replace L299 in [`sktime.datatypes._utilities.py`](https://github.com/alan-turing-institute/sktime/blob/5767dbaac759ed6ac43a8977f4c46beb93d0f18c/sktime/datatypes/_utilities.py#L299) \r\n```python\r\nseries_idx = [obj.loc[x].index.get_level_values(-1) for x in idx.droplevel(-1)]\r\n```\r\nwith\r\n```python\r\nseries_idx = [obj.loc[x].index.get_level_values(-1) for x in idx.droplevel(-1).unique()]\r\n```\r\n\r\n**Versions**\r\n```\r\nPython dependencies:\r\n          pip: 22.1.2\r\n   setuptools: 63.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.13.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.4\r\n        scipy: 1.8.1\r\n       pandas: 1.4.3\r\n   matplotlib: None\r\n       joblib: 1.1.0\r\n        numba: 0.55.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3062", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3062/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3062/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3062/events", "html_url": "https://github.com/sktime/sktime/issues/3062", "id": 1311240586, "node_id": "I_kwDOCVKAsc5OJ_GK", "number": 3062, "title": "[BUG] TBATS model fails when forecast horizon is greater than number of training data points", "user": {"login": "hancelpv", "id": 34185789, "node_id": "MDQ6VXNlcjM0MTg1Nzg5", "avatar_url": "https://avatars.githubusercontent.com/u/34185789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hancelpv", "html_url": "https://github.com/hancelpv", "followers_url": "https://api.github.com/users/hancelpv/followers", "following_url": "https://api.github.com/users/hancelpv/following{/other_user}", "gists_url": "https://api.github.com/users/hancelpv/gists{/gist_id}", "starred_url": "https://api.github.com/users/hancelpv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hancelpv/subscriptions", "organizations_url": "https://api.github.com/users/hancelpv/orgs", "repos_url": "https://api.github.com/users/hancelpv/repos", "events_url": "https://api.github.com/users/hancelpv/events{/privacy}", "received_events_url": "https://api.github.com/users/hancelpv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-07-20T14:34:52Z", "updated_at": "2022-07-23T14:39:42Z", "closed_at": "2022-07-21T05:50:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "TBATS model from sktime 0.7.0 fails with the following error if the forecast horizon is greater than number of training data points. Attaching error screenshot and reproducible code here.\r\n\r\n![image](https://user-images.githubusercontent.com/34185789/180009313-7dde92ef-450b-4fde-b0cf-e0fa44cd7f65.png)\r\n\r\n\r\n```\r\n# Imports\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\n# Logger\r\nimport logging\r\nlogging.basicConfig(level=logging.INFO)\r\nlogger = logging.getLogger(__name__)\r\n\r\n# create some monthly time series data with random values\r\nlength_of_time_series = 24\r\nseasonal_periods = 12\r\nts_array = np.random.randint(0, 100, length_of_time_series)\r\n\r\n# convert numpy array to series\r\ntrain = pd.Series(ts_array).astype('float64')\r\n\r\nfrom sktime.forecasting.tbats import TBATS\r\n\r\ntbats_model = TBATS(\r\n    use_box_cox=False,\r\n    use_trend=True,\r\n    use_damped_trend=False,\r\n    sp=seasonal_periods,\r\n    use_arma_errors=False,\r\n)\r\n\r\ntbats_model.fit(train)\r\n\r\n# works fine - when num points to forecast is less than or equal to train datapoints\r\nnum_points_to_forecast = 12\r\nfcst_horizon = np.arange(1, num_points_to_forecast + 1)\r\npred = tbats_model.predict(fh=fcst_horizon)\r\nlogger.info(\"-- Predictions --\")\r\nlogger.info(pred)\r\n\r\n# throws ValueError - when num points to forecast is greater than train datapoints\r\nnum_points_to_forecast = 25\r\nfcst_horizon = np.arange(1, num_points_to_forecast + 1)\r\ntry:\r\n    pred = tbats_model.predict(fh=fcst_horizon)\r\nexcept Exception as e:\r\n    logger.exception(e)\r\n```\r\n\r\nKindly suggest workarounds if any, thanks in advance!\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3062/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3057", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3057/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3057/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3057/events", "html_url": "https://github.com/sktime/sktime/issues/3057", "id": 1310022135, "node_id": "I_kwDOCVKAsc5OFVn3", "number": 3057, "title": "[BUG] failing codecov step in CI - certificate expired", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-19T20:37:11Z", "updated_at": "2022-07-19T23:41:00Z", "closed_at": "2022-07-19T23:41:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The codecov step in CI is failing with the following:\r\n\r\n```\r\nRun codecov/codecov-action@v2\r\n==> linux OS detected\r\nError: certificate has expired\r\n    at TLSSocket.onConnectSecure (_tls_wrap.js:1502:34)\r\n    at TLSSocket.emit (events.js:314:20)\r\n    at TLSSocket._finishInit (_tls_wrap.js:937:8)\r\n    at TLSWrap.ssl.onhandshakedone (_tls_wrap.js:711:12)\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3037", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3037/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3037/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3037/events", "html_url": "https://github.com/sktime/sktime/issues/3037", "id": 1307042498, "node_id": "I_kwDOCVKAsc5N5-LC", "number": 3037, "title": "[BUG] address imminent removal of deprecated `sklearn` `_pprint`", "user": {"login": "celestinoxp", "id": 41735311, "node_id": "MDQ6VXNlcjQxNzM1MzEx", "avatar_url": "https://avatars.githubusercontent.com/u/41735311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/celestinoxp", "html_url": "https://github.com/celestinoxp", "followers_url": "https://api.github.com/users/celestinoxp/followers", "following_url": "https://api.github.com/users/celestinoxp/following{/other_user}", "gists_url": "https://api.github.com/users/celestinoxp/gists{/gist_id}", "starred_url": "https://api.github.com/users/celestinoxp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/celestinoxp/subscriptions", "organizations_url": "https://api.github.com/users/celestinoxp/orgs", "repos_url": "https://api.github.com/users/celestinoxp/repos", "events_url": "https://api.github.com/users/celestinoxp/events{/privacy}", "received_events_url": "https://api.github.com/users/celestinoxp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-07-17T09:27:36Z", "updated_at": "2022-07-24T21:44:35Z", "closed_at": "2022-07-24T21:44:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nnext release 1.2.0 of scikit-learn will move pprint function and sktime will produce an error.\r\n\r\ncheck this commit: https://github.com/scikit-learn/scikit-learn/commit/c63e38add5d0baa345cc363460dc0d0e18c87903\r\n\r\n\r\n**To Reproduce**\r\n\r\ninstall scikit-learn 1.2.0dev\r\n\r\n\r\n```python\r\npip install --pre --extra-index https://pypi.anaconda.org/scipy-wheels-nightly/simple scikit-learn\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3033", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3033/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3033/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3033/events", "html_url": "https://github.com/sktime/sktime/issues/3033", "id": 1306832143, "node_id": "I_kwDOCVKAsc5N5K0P", "number": 3033, "title": "[BUG] sporadic test failure in `test_classifier_output[TEASER-ClassifierFitPredict]`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-16T15:11:17Z", "updated_at": "2022-11-07T22:31:45Z", "closed_at": "2022-11-07T22:31:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It seems there is a sporadic test failure in `test_classifier_output[TEASER-ClassifierFitPredict]` which crashes the worker without any further information. The reason could be, for instance, a memory leak or an infinite recursion.\r\n\r\nExample: https://github.com/alan-turing-institute/sktime/runs/7371344857\r\n\r\nFYI @MatthewMiddlehurst ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3013", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3013/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3013/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3013/events", "html_url": "https://github.com/sktime/sktime/issues/3013", "id": 1305728360, "node_id": "I_kwDOCVKAsc5N09Vo", "number": 3013, "title": "[BUG] python version badge not updating to 3.10 support", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-15T08:16:10Z", "updated_at": "2022-07-15T10:30:42Z", "closed_at": "2022-07-15T10:30:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`sktime` on `pypi` now supports 3.10, but it seems the version badge in the README.md is not properly updating?\r\n\r\nFrom the source, it looks like it should happen automatically, so perhaps it happens with a delay? Or is there sth that needs to be triggered?\r\n\r\n@lmmentel, did you have to do anything for 3.9?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3013/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/3009", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/3009/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/3009/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/3009/events", "html_url": "https://github.com/sktime/sktime/issues/3009", "id": 1304792606, "node_id": "I_kwDOCVKAsc5NxY4e", "number": 3009, "title": "[ENH] check override/defaulting of \"prediction intervals\" adders", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-14T13:30:18Z", "updated_at": "2022-07-30T20:07:32Z", "closed_at": "2022-07-30T20:07:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From the presentation of @bethrice44:\r\n\r\nif we take a \"prediction intervals adder\" wrapper, e.g., one adding `predict_intervals`, to add prediction intervals to an estimator that already has a *different* probabilistic prediction method implemented, this may lead to unexpected behaviour.\r\n\r\nFor example, assume the inner method has `predict_quantiles` implemented, and `predict_intervals` uses the default method which calls `predict_quantiles`. \r\n\r\nThe wrapper overwrites `predict_intervals`, and it might not overwrite `predict_quantiles`. Then, the predictoins from `predict_intervals` and `predict_quantiles` will be inconsistent.\r\n\r\nInstead, the wrapper perhaps should (?) overwrite `predict_quantiles` with the base class default?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/3009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/3009/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2987", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2987/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2987/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2987/events", "html_url": "https://github.com/sktime/sktime/issues/2987", "id": 1301931513, "node_id": "I_kwDOCVKAsc5NmeX5", "number": 2987, "title": "[BUG] changelog generator picks up merges into branches other than `main`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-12T11:32:34Z", "updated_at": "2022-08-03T20:35:12Z", "closed_at": "2022-08-03T20:35:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The changelog generator seems to pick up PR that were not merged into `main` but into another branch.\r\n\r\nCurrent example for 0.13.0 release at pre-0.13.0 state: #2941, #2952.\r\n\r\nFYI @lmmentel ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2968", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2968/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2968/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2968/events", "html_url": "https://github.com/sktime/sktime/issues/2968", "id": 1299980052, "node_id": "I_kwDOCVKAsc5NfB8U", "number": 2968, "title": "[BUG] sporadic failure - `RandomIntervalSegmenter` produces `DataFrame` with duplicate columns", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-10T17:57:04Z", "updated_at": "2022-07-13T22:31:48Z", "closed_at": "2022-07-13T22:31:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It seems that, sporadically, `RandomIntervalSegmenter` produces a `DataFrame` with duplicate column names. See this CI run (mac 3.10): https://github.com/alan-turing-institute/sktime/runs/7271784537", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2968/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2961", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2961/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2961/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2961/events", "html_url": "https://github.com/sktime/sktime/issues/2961", "id": 1299566262, "node_id": "I_kwDOCVKAsc5Ndc62", "number": 2961, "title": "[BUG] Cannot install `sktime-all-extras` in codespaces", "user": {"login": "soma2000-lang", "id": 56045049, "node_id": "MDQ6VXNlcjU2MDQ1MDQ5", "avatar_url": "https://avatars.githubusercontent.com/u/56045049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soma2000-lang", "html_url": "https://github.com/soma2000-lang", "followers_url": "https://api.github.com/users/soma2000-lang/followers", "following_url": "https://api.github.com/users/soma2000-lang/following{/other_user}", "gists_url": "https://api.github.com/users/soma2000-lang/gists{/gist_id}", "starred_url": "https://api.github.com/users/soma2000-lang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soma2000-lang/subscriptions", "organizations_url": "https://api.github.com/users/soma2000-lang/orgs", "repos_url": "https://api.github.com/users/soma2000-lang/repos", "events_url": "https://api.github.com/users/soma2000-lang/events{/privacy}", "received_events_url": "https://api.github.com/users/soma2000-lang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-07-09T04:12:42Z", "updated_at": "2022-07-20T06:38:06Z", "closed_at": "2022-07-17T20:57:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am trying to install sktime using the command\r\nconda install -c conda-forge sktime-all-extras\r\nI am using GitHub codespaces.I tried various ways to solve this issue but nothing seemed to work.\r\n![image](https://user-images.githubusercontent.com/56045049/178091179-646270e0-fffd-44b7-99f9-5e880ebb2322.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2961/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2944", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2944/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2944/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2944/events", "html_url": "https://github.com/sktime/sktime/issues/2944", "id": 1296619610, "node_id": "I_kwDOCVKAsc5NSNha", "number": 2944, "title": "[ENH] forecasting grid/random search estimators return wrong indices in `update_predict`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3796180314, "node_id": "LA_kwDOCVKAsc7iRR1a", "url": "https://api.github.com/repos/sktime/sktime/labels/enhancement", "name": "enhancement", "color": "fef2c0", "default": true, "description": "Adding new functionality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-07T00:11:06Z", "updated_at": "2022-07-12T21:05:25Z", "closed_at": "2022-07-12T21:05:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`ForecastingGridSearchCV` and `ForecastingRandomSearchCV` fail the test for `update_predict_predicted_index`:\r\n\r\n```python\r\nfrom sktime.forecasting.model_selection._split import SingleWindowSplitter\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.performance_metrics.forecasting import MeanAbsolutePercentageError\r\nfrom sktime.forecasting.model_selection import ForecastingGridSearchCV\r\n\r\nparams = {\r\n    \"forecaster\": ExponentialSmoothing(),\r\n    \"cv\": SingleWindowSplitter(fh=1),\r\n    \"param_grid\": {\"initialization_method\": [\"estimated\", \"heuristic\"]},\r\n    \"scoring\": MeanAbsolutePercentageError(symmetric=True),\r\n}\r\nf = ForecastingGridSearchCV(**params)\r\n\r\nfrom sktime.utils.estimator_checks import check_estimator\r\n\r\ncheck_estimator(f, return_exceptions=False, tests_to_run=\"test_update_predict_predicted_index\")\r\n```\r\n\r\nyields traceback\r\n\r\n```\r\nAssertionError: \r\nArrays are not equal\r\n\r\nMismatched elements: 12 / 12 (100%)\r\nMax absolute difference: 1036800000000000\r\n x: array(['2000-02-07T00:00:00.000000000', '2000-02-07T00:00:00.000000000',\r\n       '2000-02-07T00:00:00.000000000', '2000-02-07T00:00:00.000000000',\r\n       '2000-02-07T00:00:00.000000000', '2000-02-07T00:00:00.000000000',...\r\n y: array(['2000-02-08T00:00:00.000000000', '2000-02-09T00:00:00.000000000',\r\n       '2000-02-10T00:00:00.000000000', '2000-02-11T00:00:00.000000000',\r\n       '2000-02-12T00:00:00.000000000', '2000-02-13T00:00:00.000000000',...\r\n```\r\n\r\nStrangely, it works for the `NaiveForecaster` which is the default test parameter choice.\r\nHowever, it fails similarly, with `NaiveForecaster`, after the simplification in PR https://github.com/alan-turing-institute/sktime/pull/2874. That it fails with `ExponentialSmoothing` indicates that the problem is with the grid search, not with the refactor #2874.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2944/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2943", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2943/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2943/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2943/events", "html_url": "https://github.com/sktime/sktime/issues/2943", "id": 1296617974, "node_id": "I_kwDOCVKAsc5NSNH2", "number": 2943, "title": "[ENH] forecasting grid/random search estimators fail on `get_fitted_params`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3796180314, "node_id": "LA_kwDOCVKAsc7iRR1a", "url": "https://api.github.com/repos/sktime/sktime/labels/enhancement", "name": "enhancement", "color": "fef2c0", "default": true, "description": "Adding new functionality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-07T00:08:15Z", "updated_at": "2022-07-12T21:05:25Z", "closed_at": "2022-07-12T21:05:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`ForecastingGridSearchCV` and `ForecastingRandomSearchCV` fail the test for `get_fitted_params`:\r\n\r\n\r\n```python\r\nfrom sktime.forecasting.model_selection._split import SingleWindowSplitter\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.performance_metrics.forecasting import MeanAbsolutePercentageError\r\n\r\nparams = {\r\n    \"forecaster\": ExponentialSmoothing(),\r\n    \"cv\": SingleWindowSplitter(fh=1),\r\n    \"param_grid\": {\"initialization_method\": [\"estimated\", \"heuristic\"]},\r\n    \"scoring\": MeanAbsolutePercentageError(symmetric=True),\r\n}\r\nf = ForecastingGridSearchCV(**params)\r\n\r\nfrom sktime.utils.estimator_checks import check_estimator\r\n\r\ncheck_estimator(f, return_exceptions=False, tests_to_run=\"test_get_fitted_params\")\r\n```\r\nyields traceback\r\n\r\n```\r\nc:\\workspace\\sktime\\sktime\\forecasting\\model_selection\\_tune.py in check_is_fitted(self, method_name)\r\n    169                 )\r\n    170             else:\r\n--> 171                 self.best_forecaster_.check_is_fitted()\r\n    172 \r\n    173     def _fit(self, y, X=None, fh=None):\r\n\r\nAttributeError: 'ForecastingGridSearchCV' object has no attribute 'best_forecaster_'\r\n```\r\n\r\nStrangely, it works for the `NaiveForecaster` which is the default test parameter choice.\r\nHowever, it fails similarly, with `NaiveForecaster`, after the simplification in PR https://github.com/alan-turing-institute/sktime/pull/2874. That it fails with `ExponentialSmoothing` indicates that the problem is with the grid search, not with the refactor #2874.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2905", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2905/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2905/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2905/events", "html_url": "https://github.com/sktime/sktime/issues/2905", "id": 1291239205, "node_id": "I_kwDOCVKAsc5M9r8l", "number": 2905, "title": "[BUG] contributors.md not updating?", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-07-01T10:43:00Z", "updated_at": "2023-01-13T16:17:08Z", "closed_at": "2023-01-13T16:17:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Update: there's a \"hard\" and an \"easy\" (good first issue) problem here.\r\n\r\neasy = running the cmdline tool locally and making a PR with the generated contributors.md\r\n\r\nhard = automating this in the CI (e.g., release script)\r\n\r\n(and we close it only once we have automation done)\r\n\r\n---\r\n\r\nIt seems the contributors.md has not updated since 0.9.0 - are we doing sth wrong with the release?\r\n\r\nDid we accidentally drop sth from the release script when we moved to GHA that re-generated the contributors.md?\r\n\r\nFYI @lmmentel, @freddyaboulton ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2905/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2897", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2897/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2897/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2897/events", "html_url": "https://github.com/sktime/sktime/issues/2897", "id": 1288512679, "node_id": "I_kwDOCVKAsc5MzSSn", "number": 2897, "title": "[BUG] Error in Windows install related to conda install of pystan and prophet", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-29T10:37:23Z", "updated_at": "2022-06-29T14:12:42Z", "closed_at": "2022-06-29T14:12:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nthe recommended window install instructions recommend installing pystan and prophet from conda, due to ongoing problems with these dependencies.  have recently followed these successfully, but yesterday I tried a fresh install and got a dll error (which we have seen before, add links).\r\n\r\n\r\n**To Reproduce**\r\nconda create -n sktime python=3.8\r\nconda activate sktime\r\nconda install -c conda-forge pystan\r\nconda install -c conda-forge prophet\r\npip install -e .[all_extras,dev] \r\n\r\ngenerates the following install error\r\n\r\n  ----------------------------------------\r\n\r\n\r\nBuilding wheels for collected packages: prophet\r\n  Building wheel for prophet (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\python.exe' -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\ajb\\\\AppData\\\\Local\\\\Temp\\\\pip-install-s9939hdp\\\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\ajb\\\\AppData\\\\Local\\\\Temp\\\\pip-install-s9939hdp\\\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d 'C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-wheel-wsmex1mz'\r\n       cwd: C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-install-s9939hdp\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\r\n  Complete output (57 lines):\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build\\lib\r\n  creating build\\lib\\prophet\r\n  creating build\\lib\\prophet\\stan_model\r\n  Importing plotly failed. Interactive plots will not work.\r\n  --- Logging error ---\r\n  Traceback (most recent call last):\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\logging\\__init__.py\", line 1088, in emit\r\n      stream.write(msg + self.terminator)\r\n  ValueError: underlying buffer has been detached\r\n  Call stack:\r\n    File \"<string>\", line 1, in <module>\r\n    File \"C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-install-s9939hdp\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\setup.py\", line 123, in <module>\r\n      setup(\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\__init__.py\", line 87, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 148, in setup\r\n      return run_commands(dist)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\core.py\", line 163, in run_commands\r\n      dist.run_commands()\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 967, in run_commands\r\n      self.run_command(cmd)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\dist.py\", line 1214, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\wheel\\bdist_wheel.py\", line 299, in run\r\n      self.run_command('build')\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\dist.py\", line 1214, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\command\\build.py\", line 135, in run\r\n      self.run_command(cmd_name)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\dist.py\", line 1214, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-install-s9939hdp\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\setup.py\", line 48, in run\r\n      build_models(target_dir)\r\n    File \"C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-install-s9939hdp\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\setup.py\", line 38, in build_models\r\n      StanBackendEnum.get_backend_class(backend).build_model(target_dir, MODEL_DIR)\r\n    File \"C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-install-s9939hdp\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\prophet\\models.py\", line 233, in build_model\r\n      sm = pystan.StanModel(model_code=model_code)\r\n    File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\pystan\\model.py\", line 259, in __init__\r\n      logger.info(msg.format(self.model_name))\r\n  Message: 'COMPILING THE C++ CODE FOR MODEL anon_model_f5236004a3fd5b8429270d00efcc0cf9 NOW.'\r\n  Arguments: ()\r\n  MSVC compiler is not supported\r\n  error: Microsoft Visual C++ 14.0 or greater is required. Get it with \"Microsoft C++ Build Tools\": https://visualstudio.microsoft.com/visual-cpp-build-tools/\r\n  ERROR: Failed building wheel for prophet\r\n  Running setup.py clean for prophet\r\nFailed to build prophet\r\nInstalling collected packages: urllib3, pyasn1, idna, charset-normalizer, toolz, rsa, requests, pyasn1-modules, oauthlib, numpy, locket, cachetools, tomli, threadpoolctl, sniffio, requests-oauthlib, pyyaml, py, pluggy, patsy, partd, MarkupSafe, llvmlite, joblib, iniconfig, heapdict, google-auth, fsspec, cloudpickle, attrs, atomicwrites, zict, wrapt, werkzeug, tzdata, tornado, tensorboard-plugin-wit, tensorboard-data-server, tblib, statsmodels, sortedcontainers, scikit-learn, rfc3986, pytest, pyluach, psutil, protobuf, platformdirs, numba, msgpack, markdown, lunardate, jinja2, h11, grpcio, google-auth-oauthlib, filelock, distlib, dask, coverage, click, backports.zoneinfo, anyio, absl-py, workalendar, virtualenv, toml, termcolor, tensorflow-io-gcs-filesystem, tensorflow-estimator, tensorboard, stumpy, seaborn, pytest-forked, pmdarima, opt-einsum, nodeenv, matrixprofile, libclang, keras-preprocessing, keras, identify, httpcore, h5py, google-pasta, gast, flatbuffers, execnet, dm-tree, distributed, deprecated, decorator, cmdstanpy, cfgv, astunparse, tslearn, tsfresh, tensorflow-probability, tensorflow, tbats, statsforecast, sktime, scikit-posthocs, pytest-xdist, pytest-timeout, pytest-cov, pyod, pykalman, prophet, pre-commit, httpx, hcrystalball, filterpy, esig, dtw-python\r\n  Attempting uninstall: numpy\r\n    Found existing installation: numpy 1.23.0\r\n    Uninstalling numpy-1.23.0:\r\n      Successfully uninstalled numpy-1.23.0\r\n  Attempting uninstall: cmdstanpy\r\n    Found existing installation: cmdstanpy 1.0.2\r\n    Uninstalling cmdstanpy-1.0.2:\r\n      Successfully uninstalled cmdstanpy-1.0.2\r\n  Running setup.py develop for sktime\r\n  Attempting uninstall: prophet\r\n    Found existing installation: prophet 1.1\r\n    Uninstalling prophet-1.1:\r\n      Successfully uninstalled prophet-1.1\r\n    Running setup.py install for prophet ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\python.exe' -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\ajb\\\\AppData\\\\Local\\\\Temp\\\\pip-install-s9939hdp\\\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\ajb\\\\AppData\\\\Local\\\\Temp\\\\pip-install-s9939hdp\\\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-record-8g8e_y2n\\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\Include\\prophet'\r\n         cwd: C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-install-s9939hdp\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\r\n    Complete output (11 lines):\r\n    running install\r\n    C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\setuptools\\command\\install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\r\n      warnings.warn(\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build\\lib\r\n    creating build\\lib\\prophet\r\n    creating build\\lib\\prophet\\stan_model\r\n    Importing plotly failed. Interactive plots will not work.\r\n    error: Could not find module 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\lib\\site-packages\\scipy\\.libs\\libbanded5x.R5FKBI2I62BSXV4Z4HDB42UEWJ6S2M5F.gfortran-win_amd64.dll' (or one of its dependencies). Try using the full path with constructor syntax.\r\n    ----------------------------------------\r\n  Rolling back uninstall of prophet\r\n  Moving to c:\\users\\ajb\\anaconda3\\envs\\sktime-dev\\lib\\site-packages\\prophet-1.1.dist-info\\\r\n   from C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\Lib\\site-packages\\~rophet-1.1.dist-info\r\n  Moving to c:\\users\\ajb\\anaconda3\\envs\\sktime-dev\\lib\\site-packages\\prophet\\\r\n   from C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\Lib\\site-packages\\~rophet\r\nERROR: Command errored out with exit status 1: 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\python.exe' -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\ajb\\\\AppData\\\\Local\\\\Temp\\\\pip-install-s9939hdp\\\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\ajb\\\\AppData\\\\Local\\\\Temp\\\\pip-install-s9939hdp\\\\prophet_5f6254d3b43d4ee3b1849559ae7bc32a\\\\setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\ajb\\AppData\\Local\\Temp\\pip-record-8g8e_y2n\\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev\\Include\\prophet' Check the logs for full command output.\r\n\r\nthis is different to yesterday, when installed ok, but creates the following error when running some code\r\n\r\nFileNotFoundError: Could not find module 'C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\site-packages\\scipy\\.libs\\libbanded5x.R5FKBI2I62BSXV4Z4HDB42UEWJ6S2M5F.gfortran-win_amd64.dll' (or one of its dependencies). Try using the full path with constructor syntax.\r\n\r\nwith the following trace back when executing the following code\r\nC:\\Users\\ajb\\Anaconda3\\envs\\sktime\\python.exe C:/code/sktime/sktime/_contrib/clustering_experiments.py\r\nTraceback (most recent call last):\r\n  File \"C:/code/sktime/sktime/_contrib/clustering_experiments.py\", line 18, in <module>\r\n    import sklearn.metrics\r\n  File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\site-packages\\sklearn\\__init__.py\", line 82, in <module>\r\n    from .base import clone\r\n  File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\site-packages\\sklearn\\base.py\", line 17, in <module>\r\n    from .utils import _IS_32BIT\r\n  File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\site-packages\\sklearn\\utils\\__init__.py\", line 22, in <module>\r\n    from scipy.sparse import issparse\r\n  File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\site-packages\\scipy\\__init__.py\", line 136, in <module>\r\n    from . import _distributor_init\r\n  File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\site-packages\\scipy\\_distributor_init.py\", line 59, in <module>\r\n    WinDLL(os.path.abspath(filename))\r\n  File \"C:\\Users\\ajb\\Anaconda3\\envs\\sktime\\lib\\ctypes\\__init__.py\", line 373, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\n\r\n**Versions**\r\n<details>\r\nthe environment is this\r\n\r\n(sktime-dev) C:\\code\\test\\sktime>conda list\r\n# packages in environment at C:\\Users\\ajb\\Anaconda3\\envs\\sktime-dev:\r\n#\r\n# Name                    Version                   Build  Channel\r\nabsl-py                   1.1.0                    pypi_0    pypi\r\nanyio                     3.6.1                    pypi_0    pypi\r\narviz                     0.12.1             pyhd8ed1ab_0    conda-forge\r\nastunparse                1.6.3                    pypi_0    pypi\r\natomicwrites              1.4.0                    pypi_0    pypi\r\nattrs                     21.4.0                   pypi_0    pypi\r\nbackports-zoneinfo        0.2.1                    pypi_0    pypi\r\nbrotli                    1.0.9                h8ffe710_7    conda-forge\r\nbrotli-bin                1.0.9                h8ffe710_7    conda-forge\r\nbzip2                     1.0.8                h8ffe710_4    conda-forge\r\nca-certificates           2022.6.15            h5b45459_0    conda-forge\r\ncachetools                5.2.0                    pypi_0    pypi\r\ncertifi                   2022.6.15        py38haa244fe_0    conda-forge\r\ncfgv                      3.3.1                    pypi_0    pypi\r\ncftime                    1.6.0            py38hbdcd294_1    conda-forge\r\ncharset-normalizer        2.0.12                   pypi_0    pypi\r\nclick                     8.1.3                    pypi_0    pypi\r\ncloudpickle               2.1.0                    pypi_0    pypi\r\ncmdstan                   2.29.2               hc4b6281_2    conda-forge\r\ncmdstanpy                 0.9.68                   pypi_0    pypi\r\ncolorama                  0.4.5              pyhd8ed1ab_0    conda-forge\r\nconvertdate               2.4.0              pyhd8ed1ab_0    conda-forge\r\ncoverage                  6.4.1                    pypi_0    pypi\r\ncurl                      7.83.1               h789b8ee_0    conda-forge\r\ncycler                    0.11.0             pyhd8ed1ab_0    conda-forge\r\ncython                    0.29.30          py38h885f38d_0    conda-forge\r\ndask                      2022.6.1                 pypi_0    pypi\r\ndecorator                 5.1.1                    pypi_0    pypi\r\ndeprecated                1.2.13                   pypi_0    pypi\r\ndistlib                   0.3.4                    pypi_0    pypi\r\ndistributed               2022.6.1                 pypi_0    pypi\r\ndm-tree                   0.1.7                    pypi_0    pypi\r\nephem                     4.1.3            py38h294d835_4    conda-forge\r\nexecnet                   1.9.0                    pypi_0    pypi\r\nfilelock                  3.7.1                    pypi_0    pypi\r\nflatbuffers               1.12                     pypi_0    pypi\r\nfonttools                 4.33.3           py38h294d835_0    conda-forge\r\nfreetype                  2.10.4               h546665d_1    conda-forge\r\nfsspec                    2022.5.0                 pypi_0    pypi\r\ngast                      0.4.0                    pypi_0    pypi\r\ngoogle-auth               2.9.0                    pypi_0    pypi\r\ngoogle-auth-oauthlib      0.4.6                    pypi_0    pypi\r\ngoogle-pasta              0.2.0                    pypi_0    pypi\r\ngrpcio                    1.47.0                   pypi_0    pypi\r\nh11                       0.12.0                   pypi_0    pypi\r\nh5py                      3.7.0                    pypi_0    pypi\r\nhdf4                      4.2.15               h0e5069d_3    conda-forge\r\nhdf5                      1.12.1          nompi_h2a0e4a3_104    conda-forge\r\nheapdict                  1.0.1                    pypi_0    pypi\r\nhijri-converter           2.2.4              pyhd8ed1ab_0    conda-forge\r\nholidays                  0.13               pyhd8ed1ab_0    conda-forge\r\nhttpcore                  0.15.0                   pypi_0    pypi\r\nidentify                  2.5.1                    pypi_0    pypi\r\nidna                      3.3                      pypi_0    pypi\r\nimportlib-metadata        4.11.4           py38haa244fe_0    conda-forge\r\nimportlib_metadata        4.11.4               hd8ed1ab_0    conda-forge\r\niniconfig                 1.1.1                    pypi_0    pypi\r\nintel-openmp              2022.1.0          h57928b3_3787    conda-forge\r\njinja2                    3.1.2                    pypi_0    pypi\r\njoblib                    1.1.0                    pypi_0    pypi\r\njpeg                      9e                   h8ffe710_1    conda-forge\r\nkeras                     2.9.0                    pypi_0    pypi\r\nkeras-preprocessing       1.1.2                    pypi_0    pypi\r\nkiwisolver                1.4.3            py38hbd9d945_0    conda-forge\r\nkorean_lunar_calendar     0.2.1              pyh9f0ad1d_0    conda-forge\r\nkrb5                      1.19.3               h1176d77_0    conda-forge\r\nlcms2                     2.12                 h2a16943_0    conda-forge\r\nlerc                      3.0                  h0e60522_0    conda-forge\r\nlibblas                   3.9.0              15_win64_mkl    conda-forge\r\nlibbrotlicommon           1.0.9                h8ffe710_7    conda-forge\r\nlibbrotlidec              1.0.9                h8ffe710_7    conda-forge\r\nlibbrotlienc              1.0.9                h8ffe710_7    conda-forge\r\nlibcblas                  3.9.0              15_win64_mkl    conda-forge\r\nlibclang                  14.0.1                   pypi_0    pypi\r\nlibcurl                   7.83.1               h789b8ee_0    conda-forge\r\nlibdeflate                1.12                 h8ffe710_0    conda-forge\r\nliblapack                 3.9.0              15_win64_mkl    conda-forge\r\nlibnetcdf                 4.8.1           nompi_h1cc8e9d_102    conda-forge\r\nlibpng                    1.6.37               h1d00b33_2    conda-forge\r\nlibpython                 2.2              py38haa244fe_1    conda-forge\r\nlibssh2                   1.10.0               h680486a_2    conda-forge\r\nlibtiff                   4.4.0                h2ed3b44_1    conda-forge\r\nlibwebp                   1.2.2                h57928b3_0    conda-forge\r\nlibwebp-base              1.2.2                h8ffe710_1    conda-forge\r\nlibxcb                    1.13              hcd874cb_1004    conda-forge\r\nlibzip                    1.9.2                hfed4ece_0    conda-forge\r\nlibzlib                   1.2.12               h8ffe710_1    conda-forge\r\nllvmlite                  0.38.1                   pypi_0    pypi\r\nlocket                    1.0.0                    pypi_0    pypi\r\nlunarcalendar             0.0.9                      py_0    conda-forge\r\nlunardate                 0.2.0                    pypi_0    pypi\r\nlz4-c                     1.9.3                h8ffe710_1    conda-forge\r\nm2-bash                   4.3.042                       5    conda-forge\r\nm2-coreutils              8.25                        102    conda-forge\r\nm2-filesystem             2016.04                       4    conda-forge\r\nm2-gcc-libs               5.3.0                         4    conda-forge\r\nm2-gmp                    6.1.0                         3    conda-forge\r\nm2-libiconv               1.14                          3    conda-forge\r\nm2-libintl                0.19.7                        4    conda-forge\r\nm2-msys2-runtime          2.5.0.17080.65c939c               3    conda-forge\r\nm2-sed                    4.2.2                         3    conda-forge\r\nm2w64-binutils            2.25.1                        5    conda-forge\r\nm2w64-bzip2               1.0.6                         6    conda-forge\r\nm2w64-crt-git             5.0.0.4636.2595836               2    conda-forge\r\nm2w64-gcc                 5.3.0                         6    conda-forge\r\nm2w64-gcc-ada             5.3.0                         6    conda-forge\r\nm2w64-gcc-fortran         5.3.0                         6    conda-forge\r\nm2w64-gcc-libgfortran     5.3.0                         6    conda-forge\r\nm2w64-gcc-libs            5.3.0                         7    conda-forge\r\nm2w64-gcc-libs-core       5.3.0                         7    conda-forge\r\nm2w64-gcc-objc            5.3.0                         6    conda-forge\r\nm2w64-gmp                 6.1.0                         2    conda-forge\r\nm2w64-headers-git         5.0.0.4636.c0ad18a               2    conda-forge\r\nm2w64-isl                 0.16.1                        2    conda-forge\r\nm2w64-libiconv            1.14                          6    conda-forge\r\nm2w64-libmangle-git       5.0.0.4509.2e5a9a2               2    conda-forge\r\nm2w64-libwinpthread-git   5.0.0.4634.697f757               2    conda-forge\r\nm2w64-make                4.1.2351.a80a8b8               2    conda-forge\r\nm2w64-mpc                 1.0.3                         3    conda-forge\r\nm2w64-mpfr                3.1.4                         4    conda-forge\r\nm2w64-pkg-config          0.29.1                        2    conda-forge\r\nm2w64-toolchain           5.3.0                         7    conda-forge\r\nm2w64-toolchain_win-64    2.4.0                         0    conda-forge\r\nm2w64-tools-git           5.0.0.4592.90b8472               2    conda-forge\r\nm2w64-windows-default-manifest 6.4                           3    conda-forge\r\nm2w64-winpthreads-git     5.0.0.4634.697f757               2    conda-forge\r\nm2w64-zlib                1.2.8                        10    conda-forge\r\nmarkdown                  3.3.7                    pypi_0    pypi\r\nmarkupsafe                2.1.1                    pypi_0    pypi\r\nmatplotlib-base           3.5.2            py38he529843_0    conda-forge\r\nmatrixprofile             1.1.10                   pypi_0    pypi\r\nmkl                       2022.1.0           h6a75c08_874    conda-forge\r\nmsgpack                   1.0.4                    pypi_0    pypi\r\nmsys2-conda-epoch         20160418                      1    conda-forge\r\nmunkres                   1.1.4              pyh9f0ad1d_0    conda-forge\r\nnetcdf4                   1.5.8           nompi_py38h0500770_101    conda-forge\r\nnodeenv                   1.7.0                    pypi_0    pypi\r\nnumba                     0.55.2                   pypi_0    pypi\r\nnumpy                     1.21.6                   pypi_0    pypi\r\noauthlib                  3.2.0                    pypi_0    pypi\r\nopenjpeg                  2.4.0                hb211442_1    conda-forge\r\nopenssl                   1.1.1p               h8ffe710_0    conda-forge\r\nopt-einsum                3.3.0                    pypi_0    pypi\r\npackaging                 21.3               pyhd8ed1ab_0    conda-forge\r\npandas                    1.4.3            py38hcc40339_0    conda-forge\r\npartd                     1.2.0                    pypi_0    pypi\r\npatsy                     0.5.2                    pypi_0    pypi\r\npillow                    9.1.1            py38hd8e0db4_1    conda-forge\r\npip                       21.2.2           py38haa95532_0\r\nplatformdirs              2.5.2                    pypi_0    pypi\r\npluggy                    1.0.0                    pypi_0    pypi\r\npmdarima                  1.8.5                    pypi_0    pypi\r\nprophet                   1.1              py38haa244fe_1    conda-forge\r\nprotobuf                  3.11.2                   pypi_0    pypi\r\npsutil                    5.9.1                    pypi_0    pypi\r\npthread-stubs             0.4               hcd874cb_1001    conda-forge\r\npy                        1.11.0                   pypi_0    pypi\r\npyasn1                    0.4.8                    pypi_0    pypi\r\npyasn1-modules            0.2.8                    pypi_0    pypi\r\npykalman                  0.9.5                    pypi_0    pypi\r\npyluach                   2.0.0                    pypi_0    pypi\r\npymeeus                   0.5.10             pyhd8ed1ab_0    conda-forge\r\npyod                      1.0.2                    pypi_0    pypi\r\npyparsing                 3.0.9              pyhd8ed1ab_0    conda-forge\r\npystan                    2.19.1.1         py38h02adce6_3    conda-forge\r\npytest                    7.1.2                    pypi_0    pypi\r\npytest-cov                3.0.0                    pypi_0    pypi\r\npytest-forked             1.4.0                    pypi_0    pypi\r\npytest-timeout            2.1.0                    pypi_0    pypi\r\npytest-xdist              2.5.0                    pypi_0    pypi\r\npython                    3.8.13               h6244533_0\r\npython-dateutil           2.8.2              pyhd8ed1ab_0    conda-forge\r\npython_abi                3.8                      2_cp38    conda-forge\r\npytz                      2022.1             pyhd8ed1ab_0    conda-forge\r\npyyaml                    6.0                      pypi_0    pypi\r\nrequests                  2.28.0                   pypi_0    pypi\r\nrequests-oauthlib         1.3.1                    pypi_0    pypi\r\nrfc3986                   1.5.0                    pypi_0    pypi\r\nrsa                       4.8                      pypi_0    pypi\r\nscikit-learn              1.1.1                    pypi_0    pypi\r\nscikit-posthocs           0.7.0                    pypi_0    pypi\r\nscipy                     1.8.1            py38h9bf8e03_0    conda-forge\r\nseaborn                   0.11.2                   pypi_0    pypi\r\nsetuptools                61.2.0           py38haa95532_0\r\nsetuptools-git            1.2                        py_1    conda-forge\r\nsix                       1.16.0             pyh6c4a22f_0    conda-forge\r\nsktime                    0.12.1                    dev_0    <develop>\r\nsniffio                   1.2.0                    pypi_0    pypi\r\nsortedcontainers          2.4.0                    pypi_0    pypi\r\nsqlite                    3.38.5               h2bbff1b_0\r\nstatsforecast             0.5.6                    pypi_0    pypi\r\nstatsmodels               0.13.2                   pypi_0    pypi\r\nstumpy                    1.11.1                   pypi_0    pypi\r\ntbats                     1.1.0                    pypi_0    pypi\r\ntbb                       2021.5.0             h2d74725_1    conda-forge\r\ntblib                     1.7.0                    pypi_0    pypi\r\ntensorboard               2.9.1                    pypi_0    pypi\r\ntensorboard-data-server   0.6.1                    pypi_0    pypi\r\ntensorboard-plugin-wit    1.8.1                    pypi_0    pypi\r\ntensorflow                2.9.1                    pypi_0    pypi\r\ntensorflow-estimator      2.9.0                    pypi_0    pypi\r\ntensorflow-io-gcs-filesystem 0.26.0                   pypi_0    pypi\r\ntensorflow-probability    0.17.0                   pypi_0    pypi\r\ntermcolor                 1.1.0                    pypi_0    pypi\r\nthreadpoolctl             3.1.0                    pypi_0    pypi\r\ntk                        8.6.12               h8ffe710_0    conda-forge\r\ntoml                      0.10.2                   pypi_0    pypi\r\ntomli                     2.0.1                    pypi_0    pypi\r\ntoolz                     0.11.2                   pypi_0    pypi\r\ntornado                   6.1                      pypi_0    pypi\r\ntqdm                      4.64.0             pyhd8ed1ab_0    conda-forge\r\ntsfresh                   0.19.0                   pypi_0    pypi\r\ntslearn                   0.5.2                    pypi_0    pypi\r\ntyping_extensions         3.10.0.2           pyha770c72_0    conda-forge\r\ntzdata                    2022.1                   pypi_0    pypi\r\nujson                     5.3.0            py38h885f38d_0    conda-forge\r\nunicodedata2              14.0.0           py38h294d835_1    conda-forge\r\nurllib3                   1.26.9                   pypi_0    pypi\r\nvc                        14.2                 h21ff451_1\r\nvirtualenv                20.15.1                  pypi_0    pypi\r\nvs2015_runtime            14.27.29016          h5e58377_2\r\nwerkzeug                  2.1.2                    pypi_0    pypi\r\nwheel                     0.37.1             pyhd3eb1b0_0\r\nwincertstore              0.2              py38haa95532_2\r\nworkalendar               16.3.0                   pypi_0    pypi\r\nwrapt                     1.14.1                   pypi_0    pypi\r\nxarray                    2022.3.0           pyhd8ed1ab_0    conda-forge\r\nxarray-einstats           0.3.0              pyhd8ed1ab_0    conda-forge\r\nxorg-libxau               1.0.9                hcd874cb_0    conda-forge\r\nxorg-libxdmcp             1.1.3                hcd874cb_0    conda-forge\r\nxz                        5.2.5                h62dcd97_1    conda-forge\r\nzict                      2.2.0                    pypi_0    pypi\r\nzipp                      3.8.0              pyhd8ed1ab_0    conda-forge\r\nzlib                      1.2.12               h8ffe710_1    conda-forge\r\nzstd                      1.5.2                h6255e5f_1    conda-forge\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2897/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2889", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2889/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2889/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2889/events", "html_url": "https://github.com/sktime/sktime/issues/2889", "id": 1287451336, "node_id": "I_kwDOCVKAsc5MvPLI", "number": 2889, "title": "[BUG] ConformalIntervals wrapped ARIMA/AutoARIMA breaks with default parameters", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-06-28T14:37:33Z", "updated_at": "2022-09-11T16:22:34Z", "closed_at": "2022-09-11T16:22:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Discussed in https://github.com/alan-turing-institute/sktime/discussions/2869\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **linaamic** June 26, 2022</sup>\r\nHi everyone, I am currently trying out the ConformalIntervals feature from sktime.forecasting. However, I can't get it to work for both ARIMA and AutoARIMA. Is there an inherent difference between ARIMA forecasters and others? Do I have to call or wrap them differently or is ConformalPrediction not possible with ARIMA?\r\nWith other forecasters I have no issues.\r\n\r\nThis is the error I get:\r\nFile \"...\\site-packages\\statsmodels\\tsa\\statespace\\sarimax.py\", line 843, in _conditional_sum_squares\r\n    Y = endog[r:]\r\nIndexError: too many indices for array: array is 0-dimensional, but 1 were indexed\r\n\r\nCode:\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA, ARIMA\r\nfrom sktime.forecasting.conformal import ConformalIntervals\r\n\r\ny = load_airline()\r\ntrial_forecaster = AutoARIMA()\r\nconformal_forecaster = ConformalIntervals(trial_forecaster, method=\"conformal\")\r\nconformal_forecaster.fit(y, fh=[1,2,3])\r\n```\r\n\r\nAny help is much appreciated! </div>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2879", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2879/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2879/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2879/events", "html_url": "https://github.com/sktime/sktime/issues/2879", "id": 1285638211, "node_id": "I_kwDOCVKAsc5MoUhD", "number": 2879, "title": "[BUG] Differencer in TransformedTargetForecaster", "user": {"login": "ohbtorres", "id": 61629937, "node_id": "MDQ6VXNlcjYxNjI5OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/61629937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohbtorres", "html_url": "https://github.com/ohbtorres", "followers_url": "https://api.github.com/users/ohbtorres/followers", "following_url": "https://api.github.com/users/ohbtorres/following{/other_user}", "gists_url": "https://api.github.com/users/ohbtorres/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohbtorres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohbtorres/subscriptions", "organizations_url": "https://api.github.com/users/ohbtorres/orgs", "repos_url": "https://api.github.com/users/ohbtorres/repos", "events_url": "https://api.github.com/users/ohbtorres/events{/privacy}", "received_events_url": "https://api.github.com/users/ohbtorres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-06-27T11:08:09Z", "updated_at": "2022-07-14T13:20:01Z", "closed_at": "2022-07-14T13:20:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nUsing Differencer class in TransformedTargetForecaster causes the following error:\r\n_ValueError: Must supply freq for datetime value_\r\n\r\n**To Reproduce**\r\nTrying to use the Differencer class inside the TransformedTargetForecaster, and finish with any forecaster. After that, try to _fit_ the pipeline\r\n\r\n\r\n```python\r\npipe = TransformedTargetForecaster(steps=[(\"diff\",Differencer(lags=1)),\r\n                                          (\"forecaster\", NaiveForecaster())]) \r\npipe.fit(time_series)\r\n```\r\n\r\n**Expected behavior**\r\nThe following error\r\n_ValueError: Must supply freq for datetime value_\r\n\r\n**Versions**\r\n0.12.0\r\n\r\n`from sktime import show_versions; show_versions()`\r\n\r\nSystem:\r\n    python: 3.8.8 | packaged by conda-forge | (default, Feb 20 2021, 16:22:27)  [GCC 9.3.0]\r\nexecutable: /opt/conda/envs/previsao_demanda/bin/python\r\n   machine: Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-glibc2.10\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 49.6.0.post20210108\r\n      sklearn: 1.0.2\r\n       sktime: 0.12.0\r\n  statsmodels: 0.13.0\r\n        numpy: 1.21.0\r\n        scipy: 1.7.3\r\n       pandas: 1.2.5\r\n   matplotlib: 3.5.1\r\n       joblib: 0.17.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2879/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2872", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2872/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2872/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2872/events", "html_url": "https://github.com/sktime/sktime/issues/2872", "id": 1285005217, "node_id": "I_kwDOCVKAsc5Ml5-h", "number": 2872, "title": "[BUG] forecaster cutoff does not update when data requires vectorization", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-26T19:06:39Z", "updated_at": "2022-06-28T11:20:43Z", "closed_at": "2022-06-28T11:20:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Forecasters do not update the `cutoff` when the data is vectorized in the hierarchical or panel case.\r\n\r\nExample:\r\n\r\n```python\r\nfrom sktime.forecasting.arima import ARIMA\r\nfrom sktime.datatypes import get_examples\r\n\r\ny = get_examples(\"pd_multiindex_hier\")[0]\r\nf = ARIMA()\r\nf.fit(y, fh=1)\r\n\r\nf.cutoff  # prints nothing\r\ntype(f.cutoff)  # it's None\r\n```\r\n\r\nExpected behaviour: `f.cutoff` should be `2` and type should be `int`.\r\n\r\nThe reason for this is the `get_cutoff` utillity which returns `None` if an unexpected type is passed, in this case `VectorizedDF` that `y_inner` is in case of vectorization.\r\n\r\nThe bug is addressed in https://github.com/alan-turing-institute/sktime/pull/2870.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2872/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2841", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2841/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2841/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2841/events", "html_url": "https://github.com/sktime/sktime/issues/2841", "id": 1278068749, "node_id": "I_kwDOCVKAsc5MLcgN", "number": 2841, "title": "[BUG] FeatureSelection on pd-multiindex:  Error in check_is_mtype, more than one mtype identified: ['pd-multiindex', 'pd_DataFrame_Table']", "user": {"login": "CelieDs", "id": 66422896, "node_id": "MDQ6VXNlcjY2NDIyODk2", "avatar_url": "https://avatars.githubusercontent.com/u/66422896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CelieDs", "html_url": "https://github.com/CelieDs", "followers_url": "https://api.github.com/users/CelieDs/followers", "following_url": "https://api.github.com/users/CelieDs/following{/other_user}", "gists_url": "https://api.github.com/users/CelieDs/gists{/gist_id}", "starred_url": "https://api.github.com/users/CelieDs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CelieDs/subscriptions", "organizations_url": "https://api.github.com/users/CelieDs/orgs", "repos_url": "https://api.github.com/users/CelieDs/repos", "events_url": "https://api.github.com/users/CelieDs/events{/privacy}", "received_events_url": "https://api.github.com/users/CelieDs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-06-21T08:14:58Z", "updated_at": "2022-06-28T11:18:47Z", "closed_at": "2022-06-28T11:18:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nHello everyone ! First, thank you for the great tool!\r\nI encountered an error when trying to select the features of my dataset containing time-series panel data.\r\nI converted the dataset to pd-multiIndex, following the 'examples/AA_datatypes_and_datasets.ipynb' tutorial and when I try to apply the fit_transform function, the following error appears:\r\n\r\n```python\r\nTypeError                                 Traceback (most recent call last)\r\nInput In [9], in <cell line: 2>()\r\n      1 transformer = FeatureSelection(method=\"feature-importances\", n_columns = 20)\r\n----> 2 Xt_GradientBoostingRegressor = transformer.fit_transform(X, y)\r\n\r\nFile ~\\Miniconda3\\lib\\site-packages\\sktime\\transformations\\base.py:434, in BaseTransformer.fit_transform(self, X, y)\r\n    380 \"\"\"Fit to data, then transform it.\r\n    381 \r\n    382 Fits the transformer to X and y and returns a transformed version of X.\r\n   (...)\r\n    430         Example: i-th instance of the output is the i-th window running over `X`\r\n    431 \"\"\"\r\n    432 # Non-optimized default implementation; override when a better\r\n    433 # method is possible for a given algorithm.\r\n--> 434 return self.fit(X, y).transform(X, y)\r\n\r\nFile ~\\Miniconda3\\lib\\site-packages\\sktime\\transformations\\base.py:293, in BaseTransformer.fit(self, X, y)\r\n    290     raise ValueError(f\"{self.__class__.__name__} requires `y` in `fit`.\")\r\n    292 # check and convert X/y\r\n--> 293 X_inner, y_inner = self._check_X_y(X=X, y=y)\r\n    295 # checks and conversions complete, pass to inner fit\r\n    296 #####################################################\r\n    297 vectorization_needed = isinstance(X_inner, VectorizedDF)\r\n\r\nFile ~\\Miniconda3\\lib\\site-packages\\sktime\\transformations\\base.py:690, in BaseTransformer._check_X_y(self, X, y, return_metadata)\r\n    687 elif X_scitype == \"Hierarchical\":\r\n    688     y_possible_scitypes = [\"Table\", \"Panel\", \"Hierarchical\"]\r\n--> 690 y_valid, _, y_metadata = check_is_scitype(\r\n    691     y, scitype=y_possible_scitypes, return_metadata=True, var_name=\"y\"\r\n    692 )\r\n    693 if not y_valid:\r\n    694     raise TypeError(\"y \" + msg_invalid_input)\r\n\r\nFile ~\\Miniconda3\\lib\\site-packages\\sktime\\datatypes\\_check.py:429, in check_is_scitype(obj, scitype, return_metadata, var_name, exclude_mtypes)\r\n    426 # there are three options on the result of check_is_mtype:\r\n    427 # a. two or more mtypes are found - this is unexpected and an error with checks\r\n    428 if len(found_mtype) > 1:\r\n--> 429     raise TypeError(\r\n    430         f\"Error in check_is_mtype, more than one mtype identified: {found_mtype}\"\r\n    431     )\r\n    432 # b. one mtype is found - then return that mtype\r\n    433 elif len(found_mtype) == 1:\r\n\r\nTypeError: Error in check_is_mtype, more than one mtype identified: ['pd-multiindex', 'pd_DataFrame_Table']\r\n```\r\nAlso, I was wondering if there was a way to retrieve the numeric value of feature importance, in order to generate a plot representing feature importance for the dataset?\r\n\r\nThank you in advance for your help !\r\n\r\n**To Reproduce**\r\n<!--\r\n\r\n-->\r\n\r\n```python\r\ndf_multiIndex = df.set_index(['ID', 'Day'])\r\n\r\ny = pd.DataFrame(df_multiIndex['ProdValue']) ## value to predict\r\nX = df_multiIndex.drop(['ProdValue'], axis = 1) ## exogenous variables\r\n\r\ntransformer = FeatureSelection(method=\"feature-importances\", n_columns = 20)\r\nXt_GradientBoostingRegressor  = transformer.fit_transform(X, y) \r\n```\r\n\r\n**Expected behavior**\r\n\r\nFeature selection taking into account the time series panel data\r\n\r\n\r\n**Versions**\r\n\r\n<details>\r\nSystem:\r\n    python: 3.9.7 (default, Sep 16 2021, 16:59:28) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\celie\\Miniconda3\\python.exe\r\n   machine: Windows-10\r\n\r\nPython dependencies:\r\n      pip: 21.2.4\r\n      setuptools: 61.2.0\r\n      sklearn: 1.0.2\r\n      sktime: 0.11.4\r\n      statsmodels: 0.12.1\r\n      numpy: 1.22.3\r\n      scipy: 1.7.3\r\n      pandas: 1.4.2\r\n      matplotlib: 3.5.1\r\n      joblib: 1.1.0\r\n      numba: 0.53.1\r\n      pmdarima: 1.8.5\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2841/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2838", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2838/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2838/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2838/events", "html_url": "https://github.com/sktime/sktime/issues/2838", "id": 1277011961, "node_id": "I_kwDOCVKAsc5MHaf5", "number": 2838, "title": "[BUG] error when importing TBATS", "user": {"login": "psteningNHS", "id": 107867409, "node_id": "U_kgDOBm3tEQ", "avatar_url": "https://avatars.githubusercontent.com/u/107867409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psteningNHS", "html_url": "https://github.com/psteningNHS", "followers_url": "https://api.github.com/users/psteningNHS/followers", "following_url": "https://api.github.com/users/psteningNHS/following{/other_user}", "gists_url": "https://api.github.com/users/psteningNHS/gists{/gist_id}", "starred_url": "https://api.github.com/users/psteningNHS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psteningNHS/subscriptions", "organizations_url": "https://api.github.com/users/psteningNHS/orgs", "repos_url": "https://api.github.com/users/psteningNHS/repos", "events_url": "https://api.github.com/users/psteningNHS/events{/privacy}", "received_events_url": "https://api.github.com/users/psteningNHS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-20T14:23:57Z", "updated_at": "2022-06-20T14:27:56Z", "closed_at": "2022-06-20T14:27:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nwhen running the code:\r\n\r\nfrom sktime.forecasting import tbats\r\n\r\nI get the error\r\n\r\nImportError: cannot import name '_centered' from 'scipy.signal.signaltools'\r\n\r\n**To Reproduce**\r\nfrom sktime.forecasting import tbats\r\n\r\n**Versions**\r\n<details>\r\n\r\nPlease run the following code snippet and paste the output here:\r\n \r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.8.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.21.6\r\n        scipy: 1.8.1\r\n       Cython: 0.29.28\r\n       pandas: 1.2.4\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: None\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2837", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2837/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2837/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2837/events", "html_url": "https://github.com/sktime/sktime/issues/2837", "id": 1277001996, "node_id": "I_kwDOCVKAsc5MHYEM", "number": 2837, "title": "sktime error: cannot import name '_centered' from 'scipy.signal.signaltools'[BUG]", "user": {"login": "psteningNHS", "id": 107867409, "node_id": "U_kgDOBm3tEQ", "avatar_url": "https://avatars.githubusercontent.com/u/107867409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psteningNHS", "html_url": "https://github.com/psteningNHS", "followers_url": "https://api.github.com/users/psteningNHS/followers", "following_url": "https://api.github.com/users/psteningNHS/following{/other_user}", "gists_url": "https://api.github.com/users/psteningNHS/gists{/gist_id}", "starred_url": "https://api.github.com/users/psteningNHS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psteningNHS/subscriptions", "organizations_url": "https://api.github.com/users/psteningNHS/orgs", "repos_url": "https://api.github.com/users/psteningNHS/repos", "events_url": "https://api.github.com/users/psteningNHS/events{/privacy}", "received_events_url": "https://api.github.com/users/psteningNHS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-20T14:16:18Z", "updated_at": "2022-06-20T14:24:27Z", "closed_at": "2022-06-20T14:24:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nHave been doing TBATs anaylsis and recently updated by scipy to v1.8.1 and am now getting the error above.  ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2837/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2806", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2806/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2806/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2806/events", "html_url": "https://github.com/sktime/sktime/issues/2806", "id": 1269012482, "node_id": "I_kwDOCVKAsc5Lo5gC", "number": 2806, "title": "[BUG] \"Must supply freq for datetime value\" in forecasting pipeline", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-06-13T07:18:56Z", "updated_at": "2022-07-19T15:51:02Z", "closed_at": "2022-07-19T15:49:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "posted by @anthonygiorgio97 in #2452\r\n---\r\n\r\n@fkiraly ok I have tried to reverse pipelines. Now if I use a `make_reduction` model like SVR() as follow, the pipeline work.\r\n\r\n```python\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter, temporal_train_test_split, ForecastingGridSearchCV\r\nfrom sktime.forecasting.compose import make_reduction\r\nfrom sklearn.svm import SVR\r\nfrom sktime.datasets import load_longley\r\ny, X = load_longley()\r\n\r\n#split train/test both y and X\r\nfh = [1,2]\r\ntrain_model, test_model = temporal_train_test_split(y, fh = fh)\r\nX_train = X[X.index.isin(train_model.index)]\r\nX_test = X[X.index.isin(test_model.index)]\r\n\r\n#pipeline\r\npipe = TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"differencer\", Differencer(drop_na = True)),\r\n            (\"myforecasterpipe\", ForecastingPipeline(steps = [\r\n                (\"logX\", OptionalPassthrough(LogTransformer())),\r\n                (\"differencerX\", Differencer(drop_na = True)),\r\n                (\"myforecaster\", make_reduction(SVR(), window_length = 3))\r\n        ]))  \r\n])               \r\n\r\n#cv setup\r\nN_cv_fold = 1\r\nstep_cv = 1\r\ncv = ExpandingWindowSplitter(initial_window = len(train_model) - (N_cv_fold - 1) * step_cv - len(fh),\r\n                            start_with_window = True,\r\n                            step_length = step_cv,\r\n                            fh = fh)\r\n\r\nparam_grid = [{\"log__passthrough\": [False],\r\n               \"myforecasterpipe__logX__passthrough\": [False]\r\n              },\r\n              {\"log__passthrough\": [True],\r\n               \"myforecasterpipe__logX__passthrough\": [True]\r\n              }\r\n             ]\r\n\r\n#grid search\r\ngscv = ForecastingGridSearchCV(\r\n            forecaster = pipe,\r\n            cv=cv,\r\n            param_grid=param_grid,\r\n            verbose = 1\r\n        )\r\n\r\n#fit\r\ngscv.fit(train_model, X = X_train)\r\n```\r\n\r\nHowever if I want to use Prophet now I face up with another error. This is the sample code I'm using:\r\n\r\n```python\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.transformations.series.difference import Differencer\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter, temporal_train_test_split, ForecastingGridSearchCV\r\nfrom sktime.datasets import load_longley\r\ny, X = load_longley()\r\n\r\n#split train/test both y and X\r\nfh = [1,2]\r\ntrain_model, test_model = temporal_train_test_split(y, fh = fh)\r\nX_train = X[X.index.isin(train_model.index)]\r\nX_test = X[X.index.isin(test_model.index)]\r\n\r\ntrain_model.index = train_model.index.to_timestamp(freq='A')\r\nX_train.index = X_train.index.to_timestamp(freq='A')\r\nX_test.index = X_test.index.to_timestamp(freq='A')\r\n\r\n#pipeline\r\npipe = TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"differencer\", Differencer(drop_na = True)),\r\n            (\"myforecasterpipe\", ForecastingPipeline(steps = [\r\n                (\"logX\", OptionalPassthrough(LogTransformer())),\r\n                (\"differencerX\", Differencer(drop_na = True)),\r\n                (\"myforecaster\", Prophet())\r\n        ]))  \r\n])               \r\n\r\n#cv setup\r\nN_cv_fold = 1\r\nstep_cv = 1\r\ncv = ExpandingWindowSplitter(initial_window = len(train_model) - (N_cv_fold - 1) * step_cv - len(fh),\r\n                            start_with_window = True,\r\n                            step_length = step_cv,\r\n                            fh = fh)\r\n\r\nparam_grid = [{\"log__passthrough\": [False],\r\n               \"myforecasterpipe__logX__passthrough\": [False]\r\n              },\r\n              {\"log__passthrough\": [True],\r\n               \"myforecasterpipe__logX__passthrough\": [True]\r\n              }\r\n             ]\r\n\r\n#grid search\r\ngscv = ForecastingGridSearchCV(\r\n            forecaster = pipe,\r\n            cv=cv,\r\n            param_grid=param_grid,\r\n            verbose = 1\r\n        )\r\n\r\n#fit\r\ngscv.fit(train_model, X = X_train)\r\n```\r\n\r\nThe error is this:\r\n\r\nValueError: Must supply freq for datetime value\r\n\r\nIt seems strange because freq is set as 'A' before fitting for train_model and X_train\r\n\r\n_Originally posted by @anthonygiorgio97 in https://github.com/alan-turing-institute/sktime/issues/2452#issuecomment-1100713332_", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2806/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2796", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2796/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2796/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2796/events", "html_url": "https://github.com/sktime/sktime/issues/2796", "id": 1268610149, "node_id": "I_kwDOCVKAsc5LnXRl", "number": 2796, "title": "[BUG] release note builder script does not retrieve PR opened before last release", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-06-12T15:04:23Z", "updated_at": "2022-07-11T17:14:07Z", "closed_at": "2022-07-11T17:14:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "There is a severe bug in the release note building script `build_tools/changelog.py`:\r\n\r\nit does not retrieve merged PR that were opened before the last release.\r\n\r\nMore precisely, it seems the condition for retrieval of a PR seems to be: (a) merged since the last release and (b) opened since the last release (!).\r\n\r\nThe condition *should* be: (a) merged since the last release, and (b) opened at any time.\r\n\r\nThe bug affects both the list of PR as well as the list of contributors.\r\n\r\nFYI @lmmentel ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2775", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2775/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2775/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2775/events", "html_url": "https://github.com/sktime/sktime/issues/2775", "id": 1267410305, "node_id": "I_kwDOCVKAsc5LiyWB", "number": 2775, "title": "[BUG] Cannot launch examples on Binder", "user": {"login": "ZiyaoWei", "id": 940823, "node_id": "MDQ6VXNlcjk0MDgyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/940823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZiyaoWei", "html_url": "https://github.com/ZiyaoWei", "followers_url": "https://api.github.com/users/ZiyaoWei/followers", "following_url": "https://api.github.com/users/ZiyaoWei/following{/other_user}", "gists_url": "https://api.github.com/users/ZiyaoWei/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZiyaoWei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZiyaoWei/subscriptions", "organizations_url": "https://api.github.com/users/ZiyaoWei/orgs", "repos_url": "https://api.github.com/users/ZiyaoWei/repos", "events_url": "https://api.github.com/users/ZiyaoWei/events{/privacy}", "received_events_url": "https://api.github.com/users/ZiyaoWei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-06-10T11:19:29Z", "updated_at": "2022-06-19T10:44:29Z", "closed_at": "2022-06-19T01:45:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nLaunch binder doesn't work from the links on e.g., https://www.sktime.org/en/latest/examples/01_forecasting.html.\r\n\r\n**To Reproduce**\r\n\r\nClick on the launch binder button, the launch would get stuck and eventually timeout with the following logs:\r\n\r\n\r\n```\r\nWaiting for build to start...\r\nPicked Git content provider.\r\nCloning into '/tmp/repo2dockerxxee58pf'...\r\nHEAD is now at d0f394b7 [ENH] pipeline for time series classification from sktime transformers and sklearn classifiers (#2718)\r\nUsing DockerBuildPack builder\r\nStep 1/14 : FROM  jupyter/scipy-notebook:python-3.8.8\r\n ---> a2c3cd97b4e6\r\nStep 2/14 : ARG NB_USER\r\n ---> Using cache\r\n ---> 9c2d9022fb61\r\nStep 3/14 : ARG NB_UID\r\n ---> Using cache\r\n ---> c6dfb8ce1a70\r\nStep 4/14 : ENV USER ${NB_USER}\r\n ---> Using cache\r\n ---> 570ca0bfdebc\r\nStep 5/14 : ENV HOME /home/${NB_USER}\r\n ---> Using cache\r\n ---> b2a537f5a677\r\nStep 6/14 : COPY . ${HOME}\r\n ---> f18b13557227\r\nStep 7/14 : USER root\r\n ---> Running in 8dfc8b30747e\r\nRemoving intermediate container 8dfc8b30747e\r\n ---> 77b5a3524eec\r\nStep 8/14 : RUN chown -R ${NB_UID} ${HOME}\r\n ---> Running in 501665dc09ad\r\nRemoving intermediate container 501665dc09ad\r\n ---> 0c8f8acba4d9\r\nStep 9/14 : USER ${USER}\r\n ---> Running in 4767d94b04be\r\nRemoving intermediate container 4767d94b04be\r\n ---> 4a1c67eaccb6\r\nStep 10/14 : WORKDIR ${HOME}\r\n ---> Running in a99fb247ee85\r\nRemoving intermediate container a99fb247ee85\r\n ---> c9060cae0eac\r\nStep 11/14 : RUN pip install --upgrade pip --no-cache-dir && pip install .[binder]\r\n ---> Running in 91b2634b701f\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 180, in _main\r\n    status = self.run(options, args)\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/cli/req_command.py\", line 204, in wrapper\r\n    return func(self, options, args)\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/commands/install.py\", line 278, in run\r\n    wheel_cache = WheelCache(options.cache_dir, options.format_control)\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/cache.py\", line 238, in __init__\r\n    self._ephem_cache = EphemWheelCache(format_control)\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/cache.py\", line 209, in __init__\r\n    self._temp_dir = TempDirectory(\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/utils/temp_dir.py\", line 130, in __init__\r\n    path = self._create(kind)\r\n  File \"/opt/conda/lib/python3.8/site-packages/pip/_internal/utils/temp_dir.py\", line 174, in _create\r\n    path = os.path.realpath(tempfile.mkdtemp(prefix=f\"pip-{kind}-\"))\r\n  File \"/opt/conda/lib/python3.8/tempfile.py\", line 358, in mkdtemp\r\n    _os.mkdir(file, 0o700)\r\nOSError: [Errno 28] No space left on device: '/tmp/pip-ephem-wheel-cache-w4j1yt23'\r\nRemoving intermediate container 91b2634b701f\r\nThe command '/bin/bash -o pipefail -c pip install --upgrade pip --no-cache-dir && pip install .[binder]' returned a non-zero code: 2Built image, launching...\r\nFailed to connect to event stream\r\n```\r\n\r\n**Expected behavior**\r\n\r\nNotebook launches successfully.\r\n\r\n**Versions**\r\n\r\nNot applicable", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2775/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2751", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2751/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2751/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2751/events", "html_url": "https://github.com/sktime/sktime/issues/2751", "id": 1261373430, "node_id": "I_kwDOCVKAsc5LLwf2", "number": 2751, "title": "[BUG] after change of MAPE `symmetric` default to False, grid search algorithms fail `test_score`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-06T05:35:14Z", "updated_at": "2022-06-29T16:01:48Z", "closed_at": "2022-06-29T16:01:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": " After changing the default of the `symmetric` parameter to `False`, the grid search estimators `ForecastingGridSearchCV` and `ForecastingRandomizedSearchCV` fail the `test_score` test.\r\n\r\nAll other estimators pass the test, indicating that there is something not quite right with the grid search algorithms.\r\nThis seems unlikely to be anything related to the unified interface, since all algorithms other than grid search pass the test.\r\n\r\nI suspect it is some kind of side effect that is specific to the grid search algorithms.\r\n\r\nRun with error log is here:\r\nhttps://github.com/alan-turing-institute/sktime/runs/6747419876\r\nalthough the error log is uninformative regarding the root cause, since it simply says that the output of `score` does not agree with the manually computed result.\r\n\r\nFYI @aiwalter, I think you worked on the grid search algorithms most recently (author is @mloning).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2748", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2748/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2748/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2748/events", "html_url": "https://github.com/sktime/sktime/issues/2748", "id": 1261043710, "node_id": "I_kwDOCVKAsc5LKf_-", "number": 2748, "title": "[BUG] CI-CD errors out with `prophet`, due to interaction with `holidays` 0.14", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-05T13:00:26Z", "updated_at": "2022-06-11T13:07:44Z", "closed_at": "2022-06-11T13:07:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "On CI-CD, facebook `prophet` fails to install due to an interaction with `holidays` 0.14 that was released today:\r\n\r\n```\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: legacy-install-failure\r\n\u00d7 Encountered error while trying to install package.\r\n\u2570\u2500> prophet\r\n```\r\n\r\nroot seems to be `ModuleNotFoundError: No module named 'holidays.financial'`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2739", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2739/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2739/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2739/events", "html_url": "https://github.com/sktime/sktime/issues/2739", "id": 1258064989, "node_id": "I_kwDOCVKAsc5K_Ixd", "number": 2739, "title": "[BUG] Detrender in TransformedTargetForecaster does not work", "user": {"login": "shagn", "id": 16029092, "node_id": "MDQ6VXNlcjE2MDI5MDky", "avatar_url": "https://avatars.githubusercontent.com/u/16029092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shagn", "html_url": "https://github.com/shagn", "followers_url": "https://api.github.com/users/shagn/followers", "following_url": "https://api.github.com/users/shagn/following{/other_user}", "gists_url": "https://api.github.com/users/shagn/gists{/gist_id}", "starred_url": "https://api.github.com/users/shagn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shagn/subscriptions", "organizations_url": "https://api.github.com/users/shagn/orgs", "repos_url": "https://api.github.com/users/shagn/repos", "events_url": "https://api.github.com/users/shagn/events{/privacy}", "received_events_url": "https://api.github.com/users/shagn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-06-02T11:38:31Z", "updated_at": "2022-06-12T14:09:48Z", "closed_at": "2022-06-12T14:09:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using a Detrender in a TransformedTargetForecaster and trying to create predictions, the inverse transformation seems to fail and therefore no predictions can be made. \r\nDetrender and Forecaster work fine when not concatenated in a TransformedTargetForecaster. \r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster\r\nfrom sktime.transformations.series.detrend import Detrender\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.datasets import load_airline\r\n\r\ny = load_airline()\r\n\r\ntrans_fc = TransformedTargetForecaster(\r\n    [\r\n        (\"detrender\", Detrender(forecaster=PolynomialTrendForecaster(degree=1))),\r\n        (\"forecaster\", NaiveForecaster(strategy=\"last\")),\r\n    ]\r\n)\r\ntrans_fc.fit(y)\r\ntrans_fc.predict(1)\r\n```\r\n![image](https://user-images.githubusercontent.com/16029092/171620553-68a421e8-a9b5-4dac-a99c-ff7a406875de.png)\r\n\r\n**Expected behavior**\r\nThe inverse transformation of a Detrender should work in a TransformedTargetForecaster. \r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 11:38:47)  [GCC 7.5.0]\r\nexecutable: /anaconda/envs/hog-forecast/bin/python\r\n   machine: Linux-5.4.0-1056-azure-x86_64-with-glibc2.17\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 61.2.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.3\r\n        scipy: 1.7.3\r\n       pandas: 1.4.2\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.53.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2739/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2733", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2733/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2733/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2733/events", "html_url": "https://github.com/sktime/sktime/issues/2733", "id": 1256105703, "node_id": "I_kwDOCVKAsc5K3qbn", "number": 2733, "title": "[BUG] fixing constructor non-compliance in various estimators", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3102332684, "node_id": "MDU6TGFiZWwzMTAyMzMyNjg0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:clustering", "name": "module:clustering", "color": "8C1AAB", "default": false, "description": "clustering module: time series clustering"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}, {"id": 3471101012, "node_id": "LA_kwDOCVKAsc7O5MxU", "url": "https://api.github.com/repos/sktime/sktime/labels/module:regression", "name": "module:regression", "color": "943567", "default": false, "description": "regression module: time series regression"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-01T14:10:06Z", "updated_at": "2022-06-11T17:42:45Z", "closed_at": "2022-06-11T17:42:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The following estimators fail the extended `test_constructor` from https://github.com/alan-turing-institute/sktime/pull/2732 and need to be fixed, along the lines of the previously undetected bug #2730. Each fix can be modelled upon #2731.\r\n\r\n- [x] `ARIMA` https://github.com/alan-turing-institute/sktime/pull/2731\r\n- [x] `AutoARIMA` \r\n- [x] `AutoETS` https://github.com/alan-turing-institute/sktime/pull/2736\r\n- [x] `KNeighborsTimeSeriesClassifier`\r\n- [x] `KNeighborsTimeSeriesRegressor` https://github.com/alan-turing-institute/sktime/pull/2737\r\n- [x] `PCATransformer` https://github.com/alan-turing-institute/sktime/pull/2734\r\n- [x] `ShapeDTW`\r\n- [x] `TimeSeriesKMeans`\r\n- [x] `UnobservedComponents`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2733/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2730", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2730/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2730/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2730/events", "html_url": "https://github.com/sktime/sktime/issues/2730", "id": 1255744504, "node_id": "I_kwDOCVKAsc5K2SP4", "number": 2730, "title": "[BUG] ARIMA model sarimax_kwargs doesn't exist after fit ", "user": {"login": "ilkersigirci", "id": 39417966, "node_id": "MDQ6VXNlcjM5NDE3OTY2", "avatar_url": "https://avatars.githubusercontent.com/u/39417966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilkersigirci", "html_url": "https://github.com/ilkersigirci", "followers_url": "https://api.github.com/users/ilkersigirci/followers", "following_url": "https://api.github.com/users/ilkersigirci/following{/other_user}", "gists_url": "https://api.github.com/users/ilkersigirci/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilkersigirci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilkersigirci/subscriptions", "organizations_url": "https://api.github.com/users/ilkersigirci/orgs", "repos_url": "https://api.github.com/users/ilkersigirci/repos", "events_url": "https://api.github.com/users/ilkersigirci/events{/privacy}", "received_events_url": "https://api.github.com/users/ilkersigirci/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2022-06-01T11:29:04Z", "updated_at": "2022-06-09T13:53:44Z", "closed_at": "2022-06-09T13:53:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nARIMA model has `**sarimax_kwargs` as init parameters but after fitting the model, they don't exist in the model anymore. `sarimax_kwargs` just returns an empty dictionary.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import ARIMA\r\n\r\ny = load_airline()\r\n\r\nmodel = ARIMA(\r\n    order=(5, 1, 4),\r\n    seasonal_order=(3, 0, 3, 7),\r\n    suppress_warnings=True,\r\n    enforce_stationarity=False,\r\n)\r\nprint(model.__dict__)\r\n\r\nmodel.fit(y=y)\r\nprint(model.__dict__)\r\n```\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nAfter fitting, `enforce_stationarity=False`,which is an [sarimax_kwargs parameter](https://alkaline-ml.com/pmdarima/modules/generated/pmdarima.arima.ARIMA.html), should be included in sarimax_kwargs dictionary\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\npython: 3.8.13\r\nmachine: Linux-5.13.0-44-generic-x86_64-with-glibc2.10\r\n\r\nPython dependencies:\r\npip: 22.1.1\r\nsetuptools: 62.3.2\r\nsklearn: 1.0\r\nsktime: 0.11.4\r\nstatsmodels: 0.13.2\r\nnumpy: 1.21.5\r\nscipy: 1.8.1\r\npandas: 1.3.5\r\nmatplotlib: 3.5.2\r\njoblib: 1.1.0\r\nnumba: 0.55.2\r\npmdarima: 1.8.5\r\ntsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2724", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2724/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2724/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2724/events", "html_url": "https://github.com/sktime/sktime/issues/2724", "id": 1253209439, "node_id": "I_kwDOCVKAsc5KsnVf", "number": 2724, "title": "[BUG] PolynomialTrendForecaster does not work with period index of frequency 30T", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-05-31T00:33:09Z", "updated_at": "2022-06-01T12:51:54Z", "closed_at": "2022-06-01T12:40:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nPolynomialTrendForecaster does not work with period index of frequency 30T (30 mnins) due to incorrect X values \r\n\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster\r\n\r\n\r\nnp.random.seed(5005)\r\nindex = pd.date_range(\r\n    start=\"2020-10-01 00:00:00\", end=\"2020-10-01 23:30:00\", freq=\"30T\"\r\n)\r\ndata = pd.DataFrame(\r\n    {\r\n        \"index\": index,\r\n        \"target\": np.random.randint(0, 255, index.shape[0], dtype=int),\r\n    }\r\n).set_index(\"index\")\r\ndata.index = data.index.to_period()\r\n\r\nforecaster = PolynomialTrendForecaster(degree=1)\r\nforecaster.fit(data)\r\n```\r\n\r\n```python-traceback\r\n File \"c:\\Users\\Nikhil\\OneDrive\\my_libraries\\my_python_libraries\\pycaret\\pycaret_dev\\time_series_debug.py\", line 41, in <module>\r\n    forecaster.fit(data)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 265, in fit\r\n    self._fit(y=y_inner, X=X_inner, fh=fh)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sktime\\forecasting\\trend.py\", line 181, in _fit\r\n    self.regressor_.fit(X, y)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sklearn\\pipeline.py\", line 382, in fit\r\n    self._final_estimator.fit(Xt, y, **fit_params_last_step)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sklearn\\linear_model\\_base.py\", line 684, in fit\r\n    X, y = self._validate_data(\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sklearn\\base.py\", line 596, in _validate_data\r\n    X, y = check_X_y(X, y, **check_params)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sklearn\\utils\\validation.py\", line 1092, in check_X_y\r\n    check_consistent_length(X, y)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\lib\\site-packages\\sklearn\\utils\\validation.py\", line 387, in check_consistent_length\r\n    raise ValueError(\r\nValueError: Found input variables with inconsistent numbers of samples: [1411, 48]\r\n```\r\n\r\n**Expected behavior**\r\nExpected to fit correctly as it should have probably been fixed (previously reported https://github.com/alan-turing-institute/sktime/issues/1876)\r\n\r\n**Additional context**\r\nOriginally reported here: https://github.com/pycaret/pycaret/issues/2607\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.13 (default, Mar 28 2022, 06:59:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p11_3\\python.exe\r\n   machine: Windows-10-10.0.19044-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.2.2\r\n   setuptools: 61.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.11.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.8.1\r\n       pandas: 1.4.2\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.2\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2724/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2716", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2716/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2716/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2716/events", "html_url": "https://github.com/sktime/sktime/issues/2716", "id": 1251755108, "node_id": "I_kwDOCVKAsc5KnERk", "number": 2716, "title": "[DOC] Quickstart refers to old location `kernel_based` of `TimeSeriesForestClassifier`, now in `interval_based`", "user": {"login": "dougollerenshaw", "id": 19944442, "node_id": "MDQ6VXNlcjE5OTQ0NDQy", "avatar_url": "https://avatars.githubusercontent.com/u/19944442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dougollerenshaw", "html_url": "https://github.com/dougollerenshaw", "followers_url": "https://api.github.com/users/dougollerenshaw/followers", "following_url": "https://api.github.com/users/dougollerenshaw/following{/other_user}", "gists_url": "https://api.github.com/users/dougollerenshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/dougollerenshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dougollerenshaw/subscriptions", "organizations_url": "https://api.github.com/users/dougollerenshaw/orgs", "repos_url": "https://api.github.com/users/dougollerenshaw/repos", "events_url": "https://api.github.com/users/dougollerenshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/dougollerenshaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-05-29T00:42:39Z", "updated_at": "2022-06-01T14:07:25Z", "closed_at": "2022-06-01T14:07:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm getting an import error on `from sktime.classification.kernel_based import TimeSeriesForestClassifier` when following the \"Time Series Classification\" example in the quickstart\r\n\r\n**To Reproduce**\r\ncreate an environment, activate, start python\r\n```\r\nconda create -n sktime_test python=3.9\r\nconda activate sktime_test\r\npip install sktime\r\npython\r\n```\r\n\r\nThen try to import \r\n```python\r\nfrom sktime.classification.kernel_based import TimeSeriesForestClassifier\r\n```\r\nWhich gives:\r\n```python\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: cannot import name 'TimeSeriesForestClassifier' from 'sktime.classification.kernel_based' (~/.conda/envs/sktime_test/lib/python3.9/site-packages/sktime/classification/kernel_based/__init__.py)\r\n```\r\n\r\n**Expected behavior**\r\nI expect the function to import\r\n\r\n**Additional context**\r\n```python\r\n import sktime\r\nsktime.__version__\r\n```\r\ngives\r\n```\r\n'0.11.4'\r\n```\r\nAnd\r\n```python\r\ndir(sktime.classification.kernel_based)\r\n```\r\ngives:\r\n```\r\n['Arsenal', 'RocketClassifier', '__all__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '_arsenal', '_rocket_classifier']\r\n```\r\nWhich shows that `TimeSeriesForestClassifier` is not an available method\r\n\r\n**Versions**\r\n<details>\r\n\r\n```\r\n>>> from sktime import show_versions; show_versions()\r\n~/.conda/envs/sktime_test/lib/python3.9/site-packages/_distutils_hack/__init__.py:30: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n\r\nSystem:\r\n    python: 3.9.12 (main, Apr  5 2022, 06:56:58)  [GCC 7.5.0]\r\nexecutable: /home/dollerenshaw/.conda/envs/sktime_test/bin/python\r\n   machine: Linux-4.18.0-305.19.1.el8_4.x86_64-x86_64-with-glibc2.28\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 61.2.0\r\n      sklearn: 1.1.1\r\n       sktime: 0.11.4\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.8.1\r\n       pandas: 1.4.2\r\n   matplotlib: None\r\n       joblib: 1.1.0\r\n        numba: 0.55.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2702", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2702/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2702/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2702/events", "html_url": "https://github.com/sktime/sktime/issues/2702", "id": 1249470533, "node_id": "I_kwDOCVKAsc5KeWhF", "number": 2702, "title": "[BUG] `compute_sliding_residuals` in `NaiveVariance` has overlap between train and test", "user": {"login": "bethrice44", "id": 11226988, "node_id": "MDQ6VXNlcjExMjI2OTg4", "avatar_url": "https://avatars.githubusercontent.com/u/11226988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bethrice44", "html_url": "https://github.com/bethrice44", "followers_url": "https://api.github.com/users/bethrice44/followers", "following_url": "https://api.github.com/users/bethrice44/following{/other_user}", "gists_url": "https://api.github.com/users/bethrice44/gists{/gist_id}", "starred_url": "https://api.github.com/users/bethrice44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bethrice44/subscriptions", "organizations_url": "https://api.github.com/users/bethrice44/orgs", "repos_url": "https://api.github.com/users/bethrice44/repos", "events_url": "https://api.github.com/users/bethrice44/events{/privacy}", "received_events_url": "https://api.github.com/users/bethrice44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-05-26T11:48:55Z", "updated_at": "2022-06-08T11:45:59Z", "closed_at": "2022-06-08T11:45:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nIn [this line](https://github.com/alan-turing-institute/sktime/blob/df683766f4af7fd7fbe339fbf306d7a560827574/sktime/forecasting/naive.py#L635), a slice is taken to get train and test sets. The slicing behaviour appears to be inclusive for start and end for series so there is one element that is in both.\r\n\r\n**To Reproduce**\r\n\r\n```\r\nfrom datetime import datetime\r\nimport pandas as pd\r\n\r\nindex = pd.date_range(datetime(2022, 5, 1, 9), datetime(2022, 5, 2, 8), freq=\"H\")\r\n\r\ny = pd.Series(index=index, data=[1]*len(index))\r\n\r\ny_index = y.index\r\n\r\nfor id in y_index:\r\n  y_train = y[:id]\r\n  print(y_train)\r\n  y_test = y[id:]\r\n  print(y_test)\r\n```\r\n\r\n**Expected behavior**\r\nTrain and test sets should be exclusive. This can be achieved with:\r\n\r\n```\r\ny_train = y[:id][:-1]\r\n```\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nSystem:\r\n    python: 3.8.12 (default, Oct 22 2021, 18:39:35)  [Clang 13.0.0 (clang-1300.0.29.3)]\r\nexecutable: /Users/..../python\r\n   machine: macOS-12.1-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.0.3\r\n   setuptools: 60.6.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.3\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.4.1\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: None\r\n      tsfresh: 0.19.0", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2702/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2665", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2665/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2665/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2665/events", "html_url": "https://github.com/sktime/sktime/issues/2665", "id": 1242026053, "node_id": "I_kwDOCVKAsc5KB9BF", "number": 2665, "title": "[BUG] StackingForecaster doesn't work with exogenous factors the way normally users expect to feed the data", "user": {"login": "indinewton", "id": 25198189, "node_id": "MDQ6VXNlcjI1MTk4MTg5", "avatar_url": "https://avatars.githubusercontent.com/u/25198189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indinewton", "html_url": "https://github.com/indinewton", "followers_url": "https://api.github.com/users/indinewton/followers", "following_url": "https://api.github.com/users/indinewton/following{/other_user}", "gists_url": "https://api.github.com/users/indinewton/gists{/gist_id}", "starred_url": "https://api.github.com/users/indinewton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indinewton/subscriptions", "organizations_url": "https://api.github.com/users/indinewton/orgs", "repos_url": "https://api.github.com/users/indinewton/repos", "events_url": "https://api.github.com/users/indinewton/events{/privacy}", "received_events_url": "https://api.github.com/users/indinewton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-19T16:25:52Z", "updated_at": "2022-06-04T08:45:44Z", "closed_at": "2022-06-04T08:45:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nStackingForecaster throws error during fit() when being used with forecasters which can handle exogenous variables.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.compose._stack import StackingForecaster\r\nfrom sktime.forecasting.compose._ensemble import AutoEnsembleForecaster\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.structural import UnobservedComponents\r\nfrom sktime.forecasting.ets import AutoETS\r\nfrom sktime.datasets import load_airline\r\nimport random\r\n\r\ny = load_airline()\r\n# create multivariate data\r\nr1 = pd.Series([random.randrange(-10,10) for i in range(len(y))])\r\nr2 = pd.Series([random.randrange(-20,20) for i in range(len(y))])\r\nr1.index = r2.index = y.index\r\nX = pd.DataFrame({\"y_1\": (y.copy() * 2) + r1, \"y_2\": y.copy() * 0.5 + r2})\r\ny_train, y_test, X_train, X_pred = temporal_train_test_split(y, X, test_size=12)\r\n\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\nforecasters = [\r\n    (\"arima\", AutoARIMA(sp=12)),\r\n    (\"ets\", UnobservedComponents(seasonal=12))\r\n]\r\n\r\nfc1 = StackingForecaster(forecasters=forecasters)\r\n\r\nfc1.fit(y=y_train, X=X_train, fh=list(range(1, len(fh)+1)))\r\nfc1.predict(fh=fh, X=X_pred)\r\n```\r\n\r\n**Error returned**\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n~/local/errata_univariate.py in <module>\r\n     23 fc1 = StackingForecaster(forecasters=forecasters)\r\n     24 \r\n---> 25 fc1.fit(y=y_train, X=X_train, fh=list(range(1, len(fh)+1)))\r\n     26 fc1.predict(fh=fh, X=X_pred)\r\n\r\n~/work/sktime/sktime/forecasting/base/_base.py in fit(self, y, X, fh)\r\n    161         # we call the ordinary _fit if no looping/vectorization needed\r\n    162         if not vectorization_needed:\r\n--> 163             self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    164         else:\r\n    165             # otherwise we call the vectorized version of fit\r\n\r\n~/work/sktime/sktime/forecasting/compose/_stack.py in _fit(self, y, X, fh)\r\n    108 \r\n    109         # fit forecasters on training window\r\n--> 110         self._fit_forecasters(forecasters, y_fcst, fh=fh, X=X)\r\n    111         X_meta = np.column_stack(self._predict_forecasters(fh=fh, X=X_meta))\r\n    112 \r\n\r\n~/work/sktime/sktime/forecasting/base/_meta.py in _fit_forecasters(self, forecasters, y, X, fh)\r\n     66         self.forecasters_ = Parallel(n_jobs=self.n_jobs)(\r\n     67             delayed(_fit_forecaster)(clone(forecaster), y, X, fh)\r\n---> 68             for forecaster in forecasters\r\n     69         )\r\n     70 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in __call__(self, iterable)\r\n   1041             # remaining jobs.\r\n   1042             self._iterating = False\r\n-> 1043             if self.dispatch_one_batch(iterator):\r\n   1044                 self._iterating = self._original_iterator is not None\r\n   1045 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in dispatch_one_batch(self, iterator)\r\n    859                 return False\r\n    860             else:\r\n--> 861                 self._dispatch(tasks)\r\n    862                 return True\r\n    863 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in _dispatch(self, batch)\r\n    777         with self._lock:\r\n    778             job_idx = len(self._jobs)\r\n--> 779             job = self._backend.apply_async(batch, callback=cb)\r\n    780             # A job can complete so quickly than its callback is\r\n    781             # called before we get here, causing self._jobs to\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/_parallel_backends.py in apply_async(self, func, callback)\r\n    206     def apply_async(self, func, callback=None):\r\n    207         \"\"\"Schedule a func to be run\"\"\"\r\n--> 208         result = ImmediateResult(func)\r\n    209         if callback:\r\n    210             callback(result)\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/_parallel_backends.py in __init__(self, batch)\r\n    570         # Don't delay the application, to avoid keeping the input\r\n    571         # arguments in memory\r\n--> 572         self.results = batch()\r\n    573 \r\n    574     def get(self):\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in __call__(self)\r\n    261         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    262             return [func(*args, **kwargs)\r\n--> 263                     for func, args, kwargs in self.items]\r\n    264 \r\n    265     def __reduce__(self):\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in <listcomp>(.0)\r\n    261         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    262             return [func(*args, **kwargs)\r\n--> 263                     for func, args, kwargs in self.items]\r\n    264 \r\n    265     def __reduce__(self):\r\n\r\n~/work/sktime/sktime/forecasting/base/_meta.py in _fit_forecaster(forecaster, y, X, fh)\r\n     62         def _fit_forecaster(forecaster, y, X, fh):\r\n     63             \"\"\"Fit single forecaster.\"\"\"\r\n---> 64             return forecaster.fit(y, X, fh)\r\n     65 \r\n     66         self.forecasters_ = Parallel(n_jobs=self.n_jobs)(\r\n\r\n~/work/sktime/sktime/forecasting/base/_base.py in fit(self, y, X, fh)\r\n    161         # we call the ordinary _fit if no looping/vectorization needed\r\n    162         if not vectorization_needed:\r\n--> 163             self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    164         else:\r\n    165             # otherwise we call the vectorized version of fit\r\n\r\n~/work/sktime/sktime/forecasting/base/adapters/_pmdarima.py in _fit(self, y, X, fh, **fit_params)\r\n     47         \"\"\"\r\n     48         self._forecaster = self._instantiate_model()\r\n---> 49         self._forecaster.fit(y, X=X, **fit_params)\r\n     50         return self\r\n     51 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/pmdarima/arima/auto.py in fit(self, y, X, **fit_args)\r\n    218             with_intercept=self.with_intercept,\r\n    219             sarimax_kwargs=sarimax_kwargs,\r\n--> 220             **fit_args)\r\n    221 \r\n    222         return self\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/pmdarima/arima/auto.py in auto_arima(y, X, start_p, d, start_q, max_p, max_d, max_q, start_P, D, start_Q, max_P, max_D, max_Q, max_order, m, seasonal, stationary, information_criterion, alpha, test, seasonal_test, stepwise, n_jobs, start_params, trend, method, maxiter, offset_test_args, seasonal_test_args, suppress_warnings, error_action, trace, random, random_state, n_fits, return_valid_fits, out_of_sample_size, scoring, scoring_args, with_intercept, sarimax_kwargs, **fit_args)\r\n    507     xx = y.copy()\r\n    508     if X is not None:\r\n--> 509         lm = LinearRegression().fit(X, y)\r\n    510         xx = y - lm.predict(X)\r\n    511 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/sklearn/linear_model/_base.py in fit(self, X, y, sample_weight)\r\n    661 \r\n    662         X, y = self._validate_data(\r\n--> 663             X, y, accept_sparse=accept_sparse, y_numeric=True, multi_output=True\r\n    664         )\r\n    665 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/sklearn/base.py in _validate_data(self, X, y, reset, validate_separately, **check_params)\r\n    579                 y = check_array(y, **check_y_params)\r\n    580             else:\r\n--> 581                 X, y = check_X_y(X, y, **check_params)\r\n    582             out = X, y\r\n    583 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/sklearn/utils/validation.py in check_X_y(X, y, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, multi_output, ensure_min_samples, ensure_min_features, y_numeric, estimator)\r\n    979     y = _check_y(y, multi_output=multi_output, y_numeric=y_numeric)\r\n    980 \r\n--> 981     check_consistent_length(X, y)\r\n    982 \r\n    983     return X, y\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/sklearn/utils/validation.py in check_consistent_length(*arrays)\r\n    332         raise ValueError(\r\n    333             \"Found input variables with inconsistent numbers of samples: %r\"\r\n--> 334             % [int(l) for l in lengths]\r\n    335         )\r\n    336 \r\n\r\nValueError: Found input variables with inconsistent numbers of samples: [132, 120]\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nError is happening probably because of this line (as commendted) in the code below; source `sktime/sktime/forecasting/compose/_stack.py`:\r\n\r\n**please read the comments with double hash, those were raised by me as question or advice.**\r\n\r\n```python\r\ndef _fit(self, y, X=None, fh=None):\r\n        \"\"\"Fit to training data.\r\n        Parameters\r\n        ----------\r\n        y : pd.Series\r\n            Target time series to which to fit the forecaster.\r\n        fh : int, list or np.array, optional (default=None)\r\n            The forecasters horizon with the steps ahead to to predict.\r\n        X : pd.DataFrame, optional (default=None)\r\n            Exogenous variables are ignored\r\n        Returns\r\n        -------\r\n        self : returns an instance of self.\r\n        \"\"\"\r\n        _, forecasters = self._check_forecasters()\r\n        self.regressor_ = check_regressor(\r\n            regressor=self.regressor, random_state=self.random_state\r\n        )\r\n\r\n        # split training series into training set to fit forecasters and\r\n        # validation set to fit meta-learner\r\n        cv = SingleWindowSplitter(fh=fh.to_relative(self.cutoff))\r\n        train_window, test_window = next(cv.split(y))\r\n        y_fcst = y.iloc[train_window]   ## why call this y_fcst is it is y_train??\r\n        y_meta = y.iloc[test_window].values\r\n        if X is not None:\r\n            X_meta = X.iloc[test_window]    ## X_train should also be created; here only test set is created\r\n        else:\r\n            X_meta = None\r\n\r\n        # fit forecasters on training window\r\n        ## ERROR as index of y_fcst does not match with X, here X_train should be passed\r\n        self._fit_forecasters(forecasters, y_fcst, fh=fh, X=X)     \r\n        ## ISn't it misleading to call this X_meta, as you are actually getting forecast of y, not X.\r\n        X_meta = np.column_stack(self._predict_forecasters(fh=fh, X=X_meta))\r\n\r\n        # fit final regressor on on validation window\r\n        self.regressor_.fit(X_meta, y_meta)    ## same here X_meta should renamed to like y_fcst or y_pred\r\n\r\n        # refit forecasters on entire training series\r\n        self._fit_forecasters(forecasters, y, fh=self.fh, X=X)\r\n\r\n        return self\r\n```\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2658", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2658/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2658/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2658/events", "html_url": "https://github.com/sktime/sktime/issues/2658", "id": 1239964480, "node_id": "I_kwDOCVKAsc5J6FtA", "number": 2658, "title": "[BUG] ColumnwiseTransformer for Exogneous Forecast returns error during inverse_transform() call triggered from predict() method in pipeline", "user": {"login": "indinewton", "id": 25198189, "node_id": "MDQ6VXNlcjI1MTk4MTg5", "avatar_url": "https://avatars.githubusercontent.com/u/25198189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indinewton", "html_url": "https://github.com/indinewton", "followers_url": "https://api.github.com/users/indinewton/followers", "following_url": "https://api.github.com/users/indinewton/following{/other_user}", "gists_url": "https://api.github.com/users/indinewton/gists{/gist_id}", "starred_url": "https://api.github.com/users/indinewton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indinewton/subscriptions", "organizations_url": "https://api.github.com/users/indinewton/orgs", "repos_url": "https://api.github.com/users/indinewton/repos", "events_url": "https://api.github.com/users/indinewton/events{/privacy}", "received_events_url": "https://api.github.com/users/indinewton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-18T13:25:25Z", "updated_at": "2022-05-20T12:55:25Z", "closed_at": "2022-05-20T12:40:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nTypically ColumnwiseTransformer should work regardless whether y is pd.Series or pd.DataFrame. But when tried with different scenario as explained below in \"To Reproduce\" section, it seems during inverse_transform() method call from fitted ColumnwiseTransformer instance - it is looking for column names of y_pred to match exactly as it was fed for y_train. The issue is strictly with how inverse_transform() deals with fitted transformer on Y_pred returned from forecasters. \r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n_**Note** that in all the pipeline examples below, error occurs only during predict() call because only predict() calls inverse_transform() method of individual transformers if there are any in the pipeline. Also note that in ForecastingPipeline, the tranformers are applied only on X and not on Y, so inverse_transform method is not called in this case as there is no Transformer for y. But this changes when TransformedTargetForecaster is used in the ForecastingPipeline._\r\n\r\nData preparation for Univariate exogenous forecasting \r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster, ForecastingPipeline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.transformations.series.impute import Imputer\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.forecasting.structural import UnobservedComponents\r\nfrom sktime.transformations.series.compose import ColumnwiseTransformer\r\n\r\nimport random\r\nimport pandas as pd\r\n\r\ny = load_airline()\r\n\r\n# create multivariate data\r\nr1 = pd.Series([random.randrange(-10,10) for i in range(len(y))])\r\nr2 = pd.Series([random.randrange(-20,20) for i in range(len(y))])\r\nr1.index = r2.index = y.index\r\nX = pd.DataFrame({\"y_1\": (y.copy() * 2) + r1, \"y_2\": y.copy() * 0.5 + r2})\r\ny_train, y_test, X_train, X_pred = temporal_train_test_split(y, X, test_size=12)\r\n\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n```\r\n\r\nScenario 1: For a vanilla example of univariate forecasting with exogenous factors\r\n```python\r\npipe1 = ForecastingPipeline(steps=[\r\n    (\"cwt\", ColumnwiseTransformer(Imputer())),\r\n    (\"forecaster\", AutoARIMA(sp=12))\r\n])\r\npipe1.fit(y_train, X=X_train)\r\npipe1.predict(fh=fh, X=X_pred)\r\n```\r\nReturns:\r\n```python\r\n1960-01    412.927673\r\n1960-02    393.912075\r\n1960-03    416.534804\r\n1960-04    459.789576\r\n1960-05    472.009280\r\n1960-06    530.654619\r\n1960-07    624.837383\r\n1960-08    606.336732\r\n1960-09    511.079947\r\n1960-10    464.982139\r\n1960-11    385.299502\r\n1960-12    435.406159\r\nFreq: M, dtype: float64\r\n```\r\n\r\nScenario 2: When AutoARIMA is wrapped under TransformedTargetForecaster while retaining y_train as pd.Series\r\n\r\n```python\r\nforecast_pipe = TransformedTargetForecaster(steps=[\r\n    (\"cwt_y\", ColumnwiseTransformer(LogTransformer())),\r\n    (\"forecaster_y\", AutoARIMA(sp=12))\r\n])\r\n\r\npipe2 = ForecastingPipeline(steps=[\r\n    (\"cwt\", ColumnwiseTransformer(Imputer())),\r\n    (\"forecaster\", forecast_pipe)\r\n])\r\n\r\npipe2.fit(y_train, X=X_train)   # fit works\r\npipe2.predict(fh=fh, X=X_pred)   # this throws error as shown below\r\n```\r\nReturns:\r\n```python\r\n~/work/sktime/sktime/forecasting/base/_base.py in predict(self, fh, X)\r\n    212         # we call the ordinary _predict if no looping/vectorization needed\r\n    213         if not self._is_vectorized:\r\n--> 214             y_pred = self._predict(fh=fh, X=X_inner)\r\n    215         else:\r\n    216             # otherwise we call the vectorized version of predict\r\n\r\n~/work/sktime/sktime/forecasting/compose/_pipeline.py in _predict(self, fh, X)\r\n    271                 X = transformer.transform(X=X)\r\n    272 \r\n--> 273         return forecaster.predict(fh, X)\r\n    274 \r\n    275     def _update(self, y, X=None, update_params=True):\r\n\r\n~/work/sktime/sktime/forecasting/base/_base.py in predict(self, fh, X)\r\n    212         # we call the ordinary _predict if no looping/vectorization needed\r\n    213         if not self._is_vectorized:\r\n--> 214             y_pred = self._predict(fh=fh, X=X_inner)\r\n    215         else:\r\n    216             # otherwise we call the vectorized version of predict\r\n\r\n~/work/sktime/sktime/forecasting/compose/_pipeline.py in _predict(self, fh, X)\r\n    408         y_pred = forecaster.predict(fh=fh, X=X)\r\n    409         # inverse transform y_pred\r\n--> 410         y_pred = self._get_inverse_transform(y_pred, X)\r\n    411         return y_pred\r\n    412 \r\n\r\n~/work/sktime/sktime/forecasting/compose/_pipeline.py in _get_inverse_transform(self, y, X)\r\n     96             skip_trafo = transformer.get_tag(\"skip-inverse-transform\", False)\r\n     97             if not skip_trafo:\r\n---> 98                 y = transformer.inverse_transform(y, X)\r\n     99         return y\r\n    100 \r\n\r\n~/work/sktime/sktime/transformations/base.py in inverse_transform(self, X, y)\r\n    471 \r\n    472         if not isinstance(X_inner, VectorizedDF):\r\n--> 473             Xt = self._inverse_transform(X=X_inner, y=y_inner)\r\n    474         else:\r\n    475             # otherwise we call the vectorized version of predict\r\n\r\n~/work/sktime/sktime/transformations/series/compose.py in _inverse_transform(self, X, y)\r\n    346 \r\n    347         # make sure z contains all columns that the user wants to transform\r\n--> 348         _check_columns(X, selected_columns=self.columns_)\r\n    349 \r\n    350         # iterate over columns that are supposed to be inverse_transformed\r\n\r\n~/work/sktime/sktime/transformations/series/compose.py in _check_columns(z, selected_columns)\r\n    407     difference = z_wanted_keys.difference(z_new_keys)\r\n    408     if len(difference) != 0:\r\n--> 409         raise ValueError(\"Missing columns\" + str(difference) + \"in Z.\")\r\n    410 \r\n    411 \r\n\r\nValueError: Missing columns{'Number of airline passengers'}in Z.\r\n```\r\n\r\nScenario 3: A quick fix is convert y_train to a pd.DataFrame object; and then it works\r\n```python\r\ny_train_2 = pd.DataFrame(y_train)\r\n\r\nforecast_pipe = TransformedTargetForecaster(steps=[\r\n    (\"cwt_y\", ColumnwiseTransformer(LogTransformer())),\r\n    (\"forecaster_y\", AutoARIMA(sp=12))\r\n])\r\n\r\npipe3 = ForecastingPipeline(steps=[\r\n    (\"cwt\", ColumnwiseTransformer(Imputer())),\r\n    (\"forecaster\", forecast_pipe)\r\n])\r\n\r\npipe3.fit(y_train_2, X=X_train)\r\npipe3.predict(fh=fh, X=X_pred)\r\n```\r\n\r\nReturns: y_pred as dataframe output\r\n```python\r\n\tNumber of airline passengers\r\n1960-01\t410.709179\r\n1960-02\t394.710957\r\n1960-03\t412.382843\r\n1960-04\t468.075964\r\n1960-05\t480.335405\r\n1960-06\t549.841338\r\n1960-07\t671.774150\r\n1960-08\t643.227276\r\n1960-09\t531.132775\r\n1960-10\t471.929581\r\n1960-11\t378.512551\r\n1960-12\t434.700619\r\n```\r\n\r\nScenario 4: But even the fix found in scenario 3 does not work with Forecasters which add name for the predictions returned like the way UnobservedComponents returns prediction in series form with name \"predicted_means\" or something like that.\r\n```python\r\nforecast_pipe2 = TransformedTargetForecaster(steps=[\r\n    (\"cwt_y\", ColumnwiseTransformer(LogTransformer())),\r\n    (\"forecaster_y\", UnobservedComponents(seasonal=12))\r\n])\r\n\r\npipe4 = ForecastingPipeline(steps=[\r\n    (\"cwt\", ColumnwiseTransformer(Imputer())),\r\n    (\"forecaster\", forecast_pipe2)\r\n])\r\n\r\npipe4.fit(y_train_2, X=X_train)   # y_train_2 has been defined above in scenario 3 code example\r\n\r\npipe4.predict(fh=fh, X=X_pred)\r\n```\r\nReturns:\r\n```python\r\n~/work/sktime/sktime/forecasting/base/_base.py in predict(self, fh, X)\r\n    212         # we call the ordinary _predict if no looping/vectorization needed\r\n    213         if not self._is_vectorized:\r\n--> 214             y_pred = self._predict(fh=fh, X=X_inner)\r\n    215         else:\r\n    216             # otherwise we call the vectorized version of predict\r\n\r\n~/work/sktime/sktime/forecasting/compose/_pipeline.py in _predict(self, fh, X)\r\n    271                 X = transformer.transform(X=X)\r\n    272 \r\n--> 273         return forecaster.predict(fh, X)\r\n    274 \r\n    275     def _update(self, y, X=None, update_params=True):\r\n\r\n~/work/sktime/sktime/forecasting/base/_base.py in predict(self, fh, X)\r\n    212         # we call the ordinary _predict if no looping/vectorization needed\r\n    213         if not self._is_vectorized:\r\n--> 214             y_pred = self._predict(fh=fh, X=X_inner)\r\n    215         else:\r\n    216             # otherwise we call the vectorized version of predict\r\n\r\n~/work/sktime/sktime/forecasting/compose/_pipeline.py in _predict(self, fh, X)\r\n    408         y_pred = forecaster.predict(fh=fh, X=X)\r\n    409         # inverse transform y_pred\r\n--> 410         y_pred = self._get_inverse_transform(y_pred, X)\r\n    411         return y_pred\r\n    412 \r\n\r\n~/work/sktime/sktime/forecasting/compose/_pipeline.py in _get_inverse_transform(self, y, X)\r\n     96             skip_trafo = transformer.get_tag(\"skip-inverse-transform\", False)\r\n     97             if not skip_trafo:\r\n---> 98                 y = transformer.inverse_transform(y, X)\r\n     99         return y\r\n    100 \r\n\r\n~/work/sktime/sktime/transformations/base.py in inverse_transform(self, X, y)\r\n    471 \r\n    472         if not isinstance(X_inner, VectorizedDF):\r\n--> 473             Xt = self._inverse_transform(X=X_inner, y=y_inner)\r\n    474         else:\r\n    475             # otherwise we call the vectorized version of predict\r\n\r\n~/work/sktime/sktime/transformations/series/compose.py in _inverse_transform(self, X, y)\r\n    346 \r\n    347         # make sure z contains all columns that the user wants to transform\r\n--> 348         _check_columns(X, selected_columns=self.columns_)\r\n    349 \r\n    350         # iterate over columns that are supposed to be inverse_transformed\r\n\r\n~/work/sktime/sktime/transformations/series/compose.py in _check_columns(z, selected_columns)\r\n    407     difference = z_wanted_keys.difference(z_new_keys)\r\n    408     if len(difference) != 0:\r\n--> 409         raise ValueError(\"Missing columns\" + str(difference) + \"in Z.\")\r\n    410 \r\n    411 \r\n\r\nValueError: Missing columns{0}in Z.\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nFor the erroneous cases, ColumnwiseTransformer should be able to handle it automatically;\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nA probable idea to fix the errors would be to look based on index of column instead of names of strings - because during the pipeline calls index of column remains unchanged. But that also means that internally all the pd.Series have to be converted to pd.DataFrame - which I don't think is a huge issue.\r\n\r\nAdditionally, the output should retain names as fed in y_train (if it exists); This should be fixed for UnobservedComponents forecaster object.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.13 (default, Mar 28 2022, 07:24:34)  [Clang 12.0.0 ]\r\nexecutable: ./miniconda3/envs/chronos_dev2/bin/python\r\n   machine: Darwin-21.4.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.2.2\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2652", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2652/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2652/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2652/events", "html_url": "https://github.com/sktime/sktime/issues/2652", "id": 1237845411, "node_id": "I_kwDOCVKAsc5JyAWj", "number": 2652, "title": "[BUG] sktime.distances.elastic cannot be found", "user": {"login": "drew-hill", "id": 13872095, "node_id": "MDQ6VXNlcjEzODcyMDk1", "avatar_url": "https://avatars.githubusercontent.com/u/13872095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drew-hill", "html_url": "https://github.com/drew-hill", "followers_url": "https://api.github.com/users/drew-hill/followers", "following_url": "https://api.github.com/users/drew-hill/following{/other_user}", "gists_url": "https://api.github.com/users/drew-hill/gists{/gist_id}", "starred_url": "https://api.github.com/users/drew-hill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drew-hill/subscriptions", "organizations_url": "https://api.github.com/users/drew-hill/orgs", "repos_url": "https://api.github.com/users/drew-hill/repos", "events_url": "https://api.github.com/users/drew-hill/events{/privacy}", "received_events_url": "https://api.github.com/users/drew-hill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-05-16T23:15:59Z", "updated_at": "2022-05-17T18:24:47Z", "closed_at": "2022-05-17T18:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nPython 3.9.12\r\nsktime==0.11.4\r\n\r\nWhen attempting to utilize the sktime.distances.elastic module, I receive the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'sktime.distances.elastic'\r\n```\r\n\r\nLoading sktime.distances by itself produces no errors.\r\n\r\nLoading sktime.distances.elastic in a version < 0.11.0 produces no errors as well.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\nWith Python 3.9.12 using the latest sktime v 0.11.4, open python and attempt the following:\r\n\r\n'from sktime.distances.elastic import dtw_distance'\r\n\r\n```\r\npython -c \"from sktime.distances.elastic import dtw_distance\"\r\n```\r\n\r\n\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nNo error or message.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nPython 3.9.12\r\nsktime==0.11.4\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n... not sure what's going on here. Could this be related to the above error?\r\n\r\n```\r\n<path removed by drew-hill>.venv/lib/python3.9/site-packages/_distutils_hack/__init__.py:17: UserWarning: Distutils was imported before Setuptools, but importing Setuptools also replaces the `distutils` module in `sys.modules`. This may lead to undesirable behaviors or errors. To avoid these issues, avoid using distutils directly, ensure that setuptools is installed in the traditional way (e.g. not an editable install), and/or make sure that setuptools is always imported before distutils.\r\n  warnings.warn(\r\n<path removed by drew-hill>/.venv/lib/python3.9/site-packages/_distutils_hack/__init__.py:30: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"<path removed by drew-hill>/.venv/lib/python3.9/site-packages/sktime/utils/_maint/_show_versions.py\", line 85, in show_versions\r\n    deps_info = _get_deps_info()\r\n  File \"<path removed by drew-hill>/.venv/lib/python3.9/site-packages/sktime/utils/_maint/_show_versions.py\", line 73, in _get_deps_info\r\n    mod = importlib.import_module(modname)\r\n  File \"/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"<path removed by drew-hill>/.venv/lib/python3.9/site-packages/setuptools/__init__.py\", line 8, in <module>\r\n    import _distutils_hack.override  # noqa: F401\r\n  File \"<path removed by drew-hill>/.venv/lib/python3.9/site-packages/_distutils_hack/override.py\", line 1, in <module>\r\n    __import__('_distutils_hack').do_override()\r\n  File \"<path removed by drew-hill>/.venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 72, in do_override\r\n    ensure_local_distutils()\r\n  File \"<path removed by drew-hill>/.venv/lib/python3.9/site-packages/_distutils_hack/__init__.py\", line 59, in ensure_local_distutils\r\n    assert '_distutils' in core.__file__, core.__file__\r\nAssertionError: /usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/core.py\r\n```\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2652/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2642", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2642/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2642/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2642/events", "html_url": "https://github.com/sktime/sktime/pull/2642", "id": 1236145980, "node_id": "PR_kwDOCVKAsc430_3h", "number": 2642, "title": "[BUG] fix typo in author variable for boxcox module", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-15T00:01:59Z", "updated_at": "2022-05-16T17:04:47Z", "closed_at": "2022-05-16T17:04:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2642", "html_url": "https://github.com/sktime/sktime/pull/2642", "diff_url": "https://github.com/sktime/sktime/pull/2642.diff", "patch_url": "https://github.com/sktime/sktime/pull/2642.patch", "merged_at": "2022-05-16T17:04:45Z"}, "body": "Fixes a typo in the author variable of the boxcox module.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2642/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2637", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2637/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2637/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2637/events", "html_url": "https://github.com/sktime/sktime/issues/2637", "id": 1235135298, "node_id": "I_kwDOCVKAsc5JnqtC", "number": 2637, "title": "[BUG] `TSFreshFeatureExtractor` gives inconsistent results when input is numpy vs. pandas", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-05-13T11:44:58Z", "updated_at": "2022-11-14T15:58:16Z", "closed_at": "2022-11-14T15:58:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n`TSFreshFeatureExtractor` gives inconsistent results when input is numpy vs. pandas. In case of numpy, it is a dataframe. in case of pandas, it sums up all columns and returns a single row only!\r\n\r\nAlso, column names seem inconsistent with numpy having `var` prepended to the names but with pandas, this is missing.\r\n\r\n**To Reproduce**\r\n\r\nNotebook can be [found here](https://gist.github.com/ngupta23/cffba4af5f7e4a283a670412145881d7)\r\n\r\n```python\r\n!pip install sktime\r\n!pip install tsfresh\r\n\r\nimport tsfresh\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sklearn.pipeline import Pipeline\r\n\r\nfrom sktime.datasets import load_arrow_head\r\nfrom sktime.transformations.panel.tsfresh import TSFreshFeatureExtractor\r\n\r\n\r\n# Load all arrow head\r\narrow_X, arrow_y = load_arrow_head(return_type=\"numpy2d\")\r\narrow_X = pd.DataFrame(arrow_X)\r\narrow_y = pd.DataFrame({\"target\": arrow_y})\r\n\r\ntsfresh = TSFreshFeatureExtractor(default_fc_parameters=\"minimal\")\r\npipe = Pipeline([(\"transform\", tsfresh)])\r\n\r\nresults_np = pipe.fit_transform(arrow_X.values, arrow_y.values)\r\nresults_np\r\n\r\nresults_pd = pipe.fit_transform(arrow_X, arrow_y)\r\nresults_pd\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/168276257-994e2697-3732-473a-8061-566cb9238427.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/168276309-584b6842-f12f-45e6-97ea-3b8b6f89f03d.png)\r\n\r\n\r\n**Expected behavior**\r\nWould expect the results to be the same irrespective of input type (as long as input type is supported)\r\n\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.13 (default, Apr 24 2022, 01:04:09)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.188+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.3\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.6\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2635", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2635/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2635/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2635/events", "html_url": "https://github.com/sktime/sktime/issues/2635", "id": 1235011862, "node_id": "I_kwDOCVKAsc5JnMkW", "number": 2635, "title": "[ENH] can function `_calc_cost_cell` in `distances._msm` be removed?", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}, {"id": 3789327275, "node_id": "LA_kwDOCVKAsc7h3Iur", "url": "https://api.github.com/repos/sktime/sktime/labels/refactor", "name": "refactor", "color": "bfdadc", "default": false, "description": "Restructuring without changing its external behavior. Neither fixing a bug nor adding a feature."}], "state": "closed", "locked": false, "assignee": {"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-05-13T09:51:27Z", "updated_at": "2022-10-05T15:44:20Z", "closed_at": "2022-10-05T15:44:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "there is I think a redundant function in move split merge function (file distances/_msm.py) , I cannot find any uses of it, but I just want to double check in case in plays a role somewhere I cannot see, e.g. notebooks. \r\n\r\n![image](https://user-images.githubusercontent.com/9594042/168258903-5eedeb89-fa52-4dfc-a67f-260cc9734ed6.png)", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2631", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2631/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2631/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2631/events", "html_url": "https://github.com/sktime/sktime/issues/2631", "id": 1234118619, "node_id": "I_kwDOCVKAsc5Jjyfb", "number": 2631, "title": "[BUG] sktime breaks with new scikit-learn 1.1.X due to private import", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-12T14:59:37Z", "updated_at": "2022-05-13T10:57:28Z", "closed_at": "2022-05-13T10:57:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Someone has been importing private methods again \ud83d\ude20 \r\n\r\nThis time it's `sklearn` 1.1.0 with `_check_param_grid from sklearn.model_selection._search` being imported in `forecasting/model_selection/_tune`\r\n\r\n... breaking much of `sktime`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2631/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2628", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2628/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2628/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2628/events", "html_url": "https://github.com/sktime/sktime/issues/2628", "id": 1233278846, "node_id": "I_kwDOCVKAsc5Jgld-", "number": 2628, "title": "[BUG] `_RecursiveReducer` breaks when list of transformers not starting with `WindowSummarizer` is given", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-11T23:35:11Z", "updated_at": "2022-08-09T16:45:20Z", "closed_at": "2022-08-09T16:45:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`_RecursiveReducer` breaks if `transformers` is not, or does not start with `WindowSummarizer`, and no `window_length` is passed.\r\n\r\nThis code sits in `_fit`:\r\n\r\n```python\r\nif self.window_length is None:\r\n    if isinstance(self.transformers_, list):\r\n        truncate_start = self.transformers_[0].fit(y).truncate_start\r\nelse:\r\n    truncate_start = self.transformers_.fit(y).truncate_start\r\n    self.window_length_ = truncate_start\r\n```\r\n\r\nThis assumes the first transformer in the list will be the `WindowSummarizer`.\r\nObviously, we can't assume that in general.\r\n\r\n@danbartl, why are you doing this? I.e., why not just apply the `WindowSummarizer`?\r\n\r\nGenerally, things should work for any transformer, and a specific transformer cannot be assumed, if you are using composition.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2626", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2626/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2626/events", "html_url": "https://github.com/sktime/sktime/issues/2626", "id": 1233143727, "node_id": "I_kwDOCVKAsc5JgEev", "number": 2626, "title": "[BUG] remove unused `interval_width` param from `Prophet`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-11T20:22:59Z", "updated_at": "2022-05-12T17:30:01Z", "closed_at": "2022-05-12T17:30:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The `interval_width` parameter of `Prophet` is not used (later overridden by an interval width in `predict_interval`), and not mentioned in the docstring.\r\n\r\nI think it should simply be removed as an `__init__` argument - initialization logic can be replaced by the default value, if needed.\r\n\r\nDo I understand the logic correctly, @kejsitake? Would you agree with this?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2625", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2625/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2625/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2625/events", "html_url": "https://github.com/sktime/sktime/issues/2625", "id": 1233099367, "node_id": "I_kwDOCVKAsc5Jf5pn", "number": 2625, "title": "[BUG] cross validation does not work with MiniRocket when an integer random_state is used", "user": {"login": "k-olsen", "id": 15016483, "node_id": "MDQ6VXNlcjE1MDE2NDgz", "avatar_url": "https://avatars.githubusercontent.com/u/15016483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-olsen", "html_url": "https://github.com/k-olsen", "followers_url": "https://api.github.com/users/k-olsen/followers", "following_url": "https://api.github.com/users/k-olsen/following{/other_user}", "gists_url": "https://api.github.com/users/k-olsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-olsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-olsen/subscriptions", "organizations_url": "https://api.github.com/users/k-olsen/orgs", "repos_url": "https://api.github.com/users/k-olsen/repos", "events_url": "https://api.github.com/users/k-olsen/events{/privacy}", "received_events_url": "https://api.github.com/users/k-olsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-11T19:35:27Z", "updated_at": "2022-05-12T13:48:08Z", "closed_at": "2022-05-12T00:34:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nAn error occurs when a `MiniRocket` model containing a specified `random_state` is used within a function that includes cross validation. If `random_state=None` within `MiniRocket`, no error occurs. \r\n\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.transformations.panel import rocket\r\nfrom sktime.datasets import load_arrow_head\r\nfrom sklearn.model_selection import cross_val_score\r\n\r\nX, y = load_arrow_head(return_X_y=True)\r\n\r\nmodel = rocket.MiniRocket(\r\n            num_kernels=10000,\r\n            max_dilations_per_kernel=32,\r\n            n_jobs=1,\r\n            random_state=17,)\r\n\r\nscores = cross_val_score(model, X, y, cv=5, scoring='f1_macro')\r\n```\r\n\r\nError:\r\n```\r\nFile ~/lib/python3.8/site-packages/sklearn/base.py:96, in clone(estimator, safe)\r\n     [95] if param1 is not param2:\r\n---> [96] raise RuntimeError(\r\n     [97] \"Cannot clone object %s, as the constructor \"\r\n     [98] \"either does not set or modifies parameter %s\" % (estimator, name)\r\n     [99] )\r\n    [100] return new_object\r\n\r\nRuntimeError: Cannot clone object MiniRocket(random_state=17), as the constructor either does not set or modifies parameter random_state\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nCross validation should not fail if an integer is specified for `random_state`.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.10 (default, Jan 10 2022, 10:11:20)  [Clang 13.0.0 (clang-1300.0.29.3)]\r\nexecutable: /bin/python\r\n   machine: macOS-12.3.1-arm64-arm-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 56.0.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.10.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.4.2\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.56.0dev0+418.g637a75023\r\n     pmdarima: None\r\n      tsfresh: None\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2617", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2617/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2617/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2617/events", "html_url": "https://github.com/sktime/sktime/issues/2617", "id": 1228868195, "node_id": "I_kwDOCVKAsc5JPwpj", "number": 2617, "title": "[MNT] replace deprecated timestamp.freqstr throughout sktime", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-08T11:53:52Z", "updated_at": "2022-05-12T00:21:05Z", "closed_at": "2022-05-12T00:21:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A very large amount of deprecation messages around `timestamp.freqstr` are raised throughout the CI/CD, especially around the `ForecastingHorizon`:\r\n\r\n```\r\nFutureWarning: Timestamp.freqstr is deprecated and will be removed in a future version.\r\n```\r\n\r\nWe should address this, as the `ForecastingHorizon` is a central object, so it would be catastrophic if it breaks.\r\n\r\nAt the moment, deprecation seems to be in the future since there is no specified version number yet, but we should prepare and take care of it earlier than later.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2615", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2615/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2615/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2615/events", "html_url": "https://github.com/sktime/sktime/issues/2615", "id": 1228867096, "node_id": "I_kwDOCVKAsc5JPwYY", "number": 2615, "title": "[BUG] feature naming inconsistency in `WindowSummarizer`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-08T11:48:19Z", "updated_at": "2022-08-09T16:45:55Z", "closed_at": "2022-08-09T16:45:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The following warning message seems to point towards a naming inconsistency in `WindowSummarizer`, of input vs output features.\r\nIt also indicates there may be a \"time bomb\" here, i.e., the estimator itself or tests going to break with sklearn 1.2:\r\n\r\n```\r\n forecasting/compose/tests/test_reduction.py: 12 warnings\r\n  C:\\Miniconda\\envs\\test\\lib\\site-packages\\sklearn\\base.py:493: FutureWarning: The feature names should match those that were passed during fit. Starting version 1.2, an error will be raised.\r\n  Feature names unseen at fit time:\r\n  - 0_lag_1\r\n  - 0_mean_1_12\r\n  - 0_mean_1_3\r\n  - 0_std_1_4\r\n  Feature names seen at fit time, yet now missing:\r\n  - Number of airline passengers_lag_1\r\n  - Number of airline passengers_mean_1_12\r\n  - Number of airline passengers_mean_1_3\r\n  - Number of airline passengers_std_1_4\r\n  ```\r\n\r\nFYI @danbartl ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2604", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2604/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2604/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2604/events", "html_url": "https://github.com/sktime/sktime/issues/2604", "id": 1226450827, "node_id": "I_kwDOCVKAsc5JGieL", "number": 2604, "title": "[BUG] UnobservedComponents throws error during predict() call, when wrapped under TransformedTargetForecaster and ForecastingPipeline", "user": {"login": "indinewton", "id": 25198189, "node_id": "MDQ6VXNlcjI1MTk4MTg5", "avatar_url": "https://avatars.githubusercontent.com/u/25198189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indinewton", "html_url": "https://github.com/indinewton", "followers_url": "https://api.github.com/users/indinewton/followers", "following_url": "https://api.github.com/users/indinewton/following{/other_user}", "gists_url": "https://api.github.com/users/indinewton/gists{/gist_id}", "starred_url": "https://api.github.com/users/indinewton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indinewton/subscriptions", "organizations_url": "https://api.github.com/users/indinewton/orgs", "repos_url": "https://api.github.com/users/indinewton/repos", "events_url": "https://api.github.com/users/indinewton/events{/privacy}", "received_events_url": "https://api.github.com/users/indinewton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2022-05-05T09:51:10Z", "updated_at": "2022-05-18T19:07:28Z", "closed_at": "2022-05-18T19:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n> Initially identified issue:\r\n\r\n_New version of sktime throws error for UnobservedComponents when wrapped under ForecastingGridSearchCV with TransformedTargetForecaster pipe._\r\n\r\n> Updated description:\r\n\r\nFrom sktime v.0.11.1 onwards untill the current version of main, UnobservedComponents throws error during Predict method call when it is piped under TransformedTargetForecaster(). \r\n_The same construct works with all the other models which I could test for example ARIMA, AutoETS etc. So the issue is how TransformedTargetForecaster calls predict and the cascading of the same method to UnobservedComponents class._\r\n\r\n**To Reproduce**\r\nThe code example was taken from documentation of ForecastingGridSearchCV for advanced example. The only thing changed was calling UnobservedComponents instead of ExponentialSmoothing at the end of param_grid argument in gscv.\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_shampoo_sales\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\nfrom sktime.forecasting.model_selection import ForecastingGridSearchCV\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.transformations.series.impute import Imputer\r\nfrom sktime.forecasting.structural import UnobservedComponents\r\n\r\ny = load_shampoo_sales()\r\nfh = [1,2,3]\r\npipe = TransformedTargetForecaster(steps=[\r\n    (\"imputer\", Imputer()),\r\n    (\"forecaster\", UnobservedComponents())])\r\ncv = ExpandingWindowSplitter(\r\n    initial_window=24,\r\n    step_length=12,\r\n    start_with_window=True,\r\n    fh=[1,2,3])\r\ngscv = ForecastingGridSearchCV(\r\n    forecaster=pipe,\r\n    param_grid=[{\r\n        \"forecaster\": [NaiveForecaster(sp=12)],\r\n        \"forecaster__strategy\": [\"drift\", \"last\", \"mean\"],\r\n    },\r\n    {\r\n        \"imputer__method\": [\"mean\", \"drift\"],\r\n        \"forecaster\": [ThetaForecaster(sp=12)],\r\n    },\r\n    {\r\n        \"imputer__method\": [\"mean\", \"last\"],\r\n        \"forecaster\": [UnobservedComponents()],\r\n        \"forecaster__seasonal\": [12],\r\n    },\r\n    ],\r\n    cv=cv,\r\n    n_jobs=-1)\r\ngscv.fit(y)\r\n\r\ny_pred = gscv.predict(fh)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\nError report:\r\n```python\r\nTypeError                                 Traceback (most recent call last)\r\n~/work/chronos/chronos/pipeline/tests/test_pipeline.py in <module>\r\n     37     cv=cv,\r\n     38     n_jobs=-1)\r\n---> 39 gscv.fit(y)\r\n     40 \r\n     41 y_pred = gscv.predict(fh)\r\n\r\n~/work/sktime/sktime/forecasting/base/_base.py in fit(self, y, X, fh)\r\n    262         # we call the ordinary _fit if no looping/vectorization needed\r\n    263         if not vectorization_needed:\r\n--> 264             self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    265         else:\r\n    266             # otherwise we call the vectorized version of fit\r\n\r\n~/work/sktime/sktime/forecasting/model_selection/_tune.py in _fit(self, y, X, fh)\r\n    279 \r\n    280         # Run grid-search cross-validation.\r\n--> 281         results = self._run_search(evaluate_candidates)\r\n    282 \r\n    283         results = pd.DataFrame(results)\r\n\r\n~/work/sktime/sktime/forecasting/model_selection/_tune.py in _run_search(self, evaluate_candidates)\r\n    487         \"\"\"Search all candidates in param_grid.\"\"\"\r\n    488         _check_param_grid(self.param_grid)\r\n--> 489         return evaluate_candidates(ParameterGrid(self.param_grid))\r\n    490 \r\n    491     @classmethod\r\n\r\n~/work/sktime/sktime/forecasting/model_selection/_tune.py in evaluate_candidates(candidate_params)\r\n    266 \r\n    267             out = parallel(\r\n--> 268                 delayed(_fit_and_score)(params) for params in candidate_params\r\n    269             )\r\n    270 \r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in __call__(self, iterable)\r\n   1054 \r\n   1055             with self._backend.retrieval_context():\r\n-> 1056                 self.retrieve()\r\n   1057             # Make sure that we get a last message telling us we are done\r\n   1058             elapsed_time = time.time() - self._start_time\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/parallel.py in retrieve(self)\r\n    933             try:\r\n    934                 if getattr(self._backend, 'supports_timeout', False):\r\n--> 935                     self._output.extend(job.get(timeout=self.timeout))\r\n    936                 else:\r\n    937                     self._output.extend(job.get())\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/site-packages/joblib/_parallel_backends.py in wrap_future_result(future, timeout)\r\n    540         AsyncResults.get from multiprocessing.\"\"\"\r\n    541         try:\r\n--> 542             return future.result(timeout=timeout)\r\n    543         except CfTimeoutError as e:\r\n    544             raise TimeoutError from e\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/concurrent/futures/_base.py in result(self, timeout)\r\n    433                 raise CancelledError()\r\n    434             elif self._state == FINISHED:\r\n--> 435                 return self.__get_result()\r\n    436             else:\r\n    437                 raise TimeoutError()\r\n\r\n~/opt/miniconda3/envs/chronos_dev2/lib/python3.7/concurrent/futures/_base.py in __get_result(self)\r\n    382     def __get_result(self):\r\n    383         if self._exception:\r\n--> 384             raise self._exception\r\n    385         else:\r\n    386             return self._result\r\n\r\nTypeError: No valid mtype could be identified\r\n```\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.7.13 (default, Mar 28 2022, 07:24:34)  [Clang 12.0.0 ]\r\nexecutable: .../miniconda3/envs/chronos_dev2/bin/python\r\n   machine: Darwin-21.4.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.2.2\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.3\r\n  statsmodels: 0.12.1\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2604/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2594", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2594/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2594/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2594/events", "html_url": "https://github.com/sktime/sktime/issues/2594", "id": 1222186647, "node_id": "I_kwDOCVKAsc5I2RaX", "number": 2594, "title": "[BUG] DrCif notebook timeout", "user": {"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-01T15:07:59Z", "updated_at": "2022-05-01T18:50:52Z", "closed_at": "2022-05-01T18:50:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nDuring the notebook tests in the github actions occasionally DrCif times out in execution and you get the following error:\r\n![Screenshot 2022-05-01 at 17 05 50](https://user-images.githubusercontent.com/4674372/166151999-d65a83ed-564b-4de9-9d5a-b6177037785f.png)\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nReducing the time it takes to run would fix this.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n@TonyBagnall \r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2594/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2586", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2586/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2586/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2586/events", "html_url": "https://github.com/sktime/sktime/issues/2586", "id": 1221804926, "node_id": "I_kwDOCVKAsc5I00N-", "number": 2586, "title": "[BUG] windows install failure under current doc workflow due to scipy dll problem ", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-30T11:07:57Z", "updated_at": "2022-10-04T22:18:54Z", "closed_at": "2022-10-04T22:18:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWindows CI is currently failing, see for example\r\n\r\nhttps://github.com/alan-turing-institute/sktime/pull/2491\r\n\r\n**To Reproduce**\r\nmy workflow on windows for a new install has been this\r\n\r\nconda create -n sktime python=3.8\r\nconda activate sktime\r\nconda install -c conda-forge pystan\r\nconda install -c conda-forge prophet\r\nconda install -c conda-forge scipy\r\npip install -e .[all_extras,dev]\r\n\r\nI have installed like this for months on several machines without problem. Although @aiwalter says the scipy is not required, I'm pretty sure I got this from the CI, maybe from @lmmentel ?. If I do the above from main on 0.11.3 now, I get the following\r\n![image](https://user-images.githubusercontent.com/9594042/166102852-46ec2294-2f46-4027-99c3-79aad466e23a.png)\r\n\r\nFileNotFoundError: Could not find module 'C:\\ProgramData\\Anaconda3\\envs\\sktime-temp2\\lib\\site-packages\\scipy\\.libs\\libbanded5x.TNNMG3IXHGJK7NIBT5J6YPEO5XWTOQAJ.gfortran-win_amd64.dll' (or one of its dependencies). Try using the full path with constructor syntax.\r\n\r\nthis suggests that sci-py is being installed twice, confusing the compiler which is looking for the wrong dll. This is fixed locally with\r\n\r\n> pip uninstall scipy\r\n> pip install scipy \r\n\r\n\r\nruns fine after that. Note, I have just gone through with this\r\n\r\nconda create -n sktime python=3.8\r\nconda activate sktime\r\nconda install -c conda-forge pystan\r\nconda install -c conda-forge prophet\r\npip install -e .[all_extras,dev]\r\n\r\nand I still get the same dll problem, also fixed by an uninstall and install with pip\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2564", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2564/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2564/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2564/events", "html_url": "https://github.com/sktime/sktime/issues/2564", "id": 1217633341, "node_id": "I_kwDOCVKAsc5Ik5w9", "number": 2564, "title": "[BUG] Prophet does not work with integer indices", "user": {"login": "paxcema", "id": 12536303, "node_id": "MDQ6VXNlcjEyNTM2MzAz", "avatar_url": "https://avatars.githubusercontent.com/u/12536303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paxcema", "html_url": "https://github.com/paxcema", "followers_url": "https://api.github.com/users/paxcema/followers", "following_url": "https://api.github.com/users/paxcema/following{/other_user}", "gists_url": "https://api.github.com/users/paxcema/gists{/gist_id}", "starred_url": "https://api.github.com/users/paxcema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paxcema/subscriptions", "organizations_url": "https://api.github.com/users/paxcema/orgs", "repos_url": "https://api.github.com/users/paxcema/repos", "events_url": "https://api.github.com/users/paxcema/events{/privacy}", "received_events_url": "https://api.github.com/users/paxcema/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-04-27T16:58:49Z", "updated_at": "2022-06-09T16:56:43Z", "closed_at": "2022-06-09T16:56:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Update by @fkiraly:\r\n\r\nafter some discussion, I think this is the \"actual\" bug, i.e., that integer index does not work with `Prophet`:\r\n\r\nHm, I think it might be a bug, because this does not work:\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.fbprophet import Prophet\r\n\r\ny = pd.DataFrame(np.arange(1, 100), columns=['0'])\r\n\r\nf = Prophet()\r\nf.fit(y)\r\npredictions = f.predict(fh=[1])\r\n```\r\n\r\nI think it should, instead of erroring out.\r\nThe error message says that index needs to be sth or integer index, but it *is* integer index!\r\n\r\n---\r\n\r\n**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nTrying a flow similar (but not exactly the same) to the one in the Prophet getting started guide, I run into an issue when making the call to predict.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.fbprophet import Prophet\r\n\r\ny = pd.DataFrame(np.arange(1, 100), columns=['0'])\r\ny.index = y.index.astype('datetime64[ns]')\r\nf = Prophet()\r\nf.fit(y)\r\npredictions = f.predict(fh=[1])\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nPredictions should be made and stored in the `predictions` variable.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n```\r\nSystem:\r\n    python: 3.8.6 (default, Nov 20 2020, 18:29:40)  [Clang 12.0.0 (clang-1200.0.32.27)]\r\nexecutable: /Users/Pato/env/bin/python3.8\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 50.3.2\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.2\r\n  statsmodels: 0.12.1\r\n        numpy: 1.21.5\r\n        scipy: 1.4.1\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 0.17.0\r\n        numba: None\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2556", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2556/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2556/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2556/events", "html_url": "https://github.com/sktime/sktime/issues/2556", "id": 1216563989, "node_id": "I_kwDOCVKAsc5Ig0sV", "number": 2556, "title": "[BUG] `BaseForecaster.update_predict` broken upon second call, `detached_cutoff` does not reset component cutoffs", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-26T22:57:57Z", "updated_at": "2022-04-29T16:06:05Z", "closed_at": "2022-04-29T16:06:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`update_predict` is broken for all composite forecasters in the following way:\r\n\r\nIf it is run once for a composite with a component, the `cutoff` of the composite is reset, but not that of the component. This leads to unexpected behaviour and non-compliant predictions when `update_predict` is called a second time.\r\n\r\nThis is due to a fundamental bug in the design of the `detached_cutoff` that is used internally.\r\n\r\nAn example is the test failure in https://github.com/alan-turing-institute/sktime/pull/2248, in combination with #2555.\r\n\r\nAnother minimal example of this behaviour is this, in #2248:\r\n\r\n```python\r\nfrom sktime.utils._testing.series import _make_series\r\nfrom sktime.forecasting.compose import BaggingForecaster\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\n\r\nX = _make_series()\r\nX1 = X[:24]\r\nX2 = X[24:36]\r\nf = BaggingForecaster.create_test_instance()\r\nf.fit(X1, fh=[1, 2])\r\n\r\ncv = SlidingWindowSplitter(start_with_window=False)\r\nf.update_predict(X2, cv=cv)\r\nf.update_predict(X2, cv=cv)\r\n```\r\n\r\nThe expected behaviour is that returns of both `update_predict` are identical, and that the `cutoff` of the internal estimator does not change.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2555", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2555/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2555/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2555/events", "html_url": "https://github.com/sktime/sktime/issues/2555", "id": 1216560264, "node_id": "I_kwDOCVKAsc5IgzyI", "number": 2555, "title": "[BUG] test framework retains state between different test runs", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-26T22:55:01Z", "updated_at": "2022-05-13T18:09:03Z", "closed_at": "2022-05-13T18:09:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It would appear that the test framework retains object state between different runs of tests.\r\n\r\nE.g., if the test `test_update_predict_predicted_index` is run twice, the second run will be with the state the object has at the end of the first run.\r\nExample of an issue caused by this is here: https://github.com/alan-turing-institute/sktime/pull/2248\r\n\r\nExpected behaviour is that a new estimator instance is passed, not a reference to the last one.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2552", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2552/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2552/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2552/events", "html_url": "https://github.com/sktime/sktime/issues/2552", "id": 1216132140, "node_id": "I_kwDOCVKAsc5IfLQs", "number": 2552, "title": "[BUG] `FileNotFoundError` - `gfortran` in all CI/CD", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-26T15:30:02Z", "updated_at": "2022-05-08T11:57:01Z", "closed_at": "2022-05-08T11:57:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "PRs error out on windows CI with this, since recently:\r\n\r\n`FileNotFoundError: Could not find module 'C:\\Miniconda\\envs\\test\\lib\\site-packages\\scipy\\.libs\\libbanded5x.TNNMG3IXHGJK7NIBT5J6YPEO5XWTOQAJ.gfortran-win_amd64.dll' (or one of its dependencies). Try using the full path with constructor syntax.`\r\n\r\nUnclear what is causing it, likely some package upgraded recently (within the last 12 hours)?\r\n\r\nPR for diagnostic runs of CI here: #2550\r\n\r\nThis needs to be solved before we can make the 0.11.3 release :-(", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2549", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2549/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2549/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2549/events", "html_url": "https://github.com/sktime/sktime/pull/2549", "id": 1213852814, "node_id": "PR_kwDOCVKAsc42sW0c", "number": 2549, "title": "[BUG] Distances fixed bug where bounding matrix was being rounded incorrectly", "user": {"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-25T01:55:09Z", "updated_at": "2022-04-25T15:07:17Z", "closed_at": "2022-04-25T15:07:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2549", "html_url": "https://github.com/sktime/sktime/pull/2549", "diff_url": "https://github.com/sktime/sktime/pull/2549.diff", "patch_url": "https://github.com/sktime/sktime/pull/2549.patch", "merged_at": "2022-04-25T15:07:16Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\nThe bounding matrix for all distances was being made 1 to big when the radius of the window couldn't be divided perfectly\r\nby the size of the matrix.\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [x] I've added myself to the [list of contributors](https://github.com/alan-turing-institute/sktime/blob/main/.all-contributorsrc).\r\n- [x] Optionally, I've updated sktime's [CODEOWNERS](https://github.com/alan-turing-institute/sktime/blob/main/CODEOWNERS) to receive notifications about future changes to these files.\r\n- [x] I've added unit tests and made sure they pass locally.\r\n- [x] The PR title starts with either [ENH], [DOC] or [BUG] indicating whether the PR topic is related to enhancement, documentation or bug\r\n\r\n##### For new estimators\r\n- [ ] I've added the estimator to the online documentation.\r\n- [ ] I've updated the existing example notebooks or provided a new one to showcase how my estimator works.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2549/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2549/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2548", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2548/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2548/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2548/events", "html_url": "https://github.com/sktime/sktime/pull/2548", "id": 1213776388, "node_id": "PR_kwDOCVKAsc42sHI3", "number": 2548, "title": "[BUG] Fixed bug with kmedoids", "user": {"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102332684, "node_id": "MDU6TGFiZWwzMTAyMzMyNjg0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:clustering", "name": "module:clustering", "color": "8C1AAB", "default": false, "description": "clustering module: time series clustering"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-24T21:39:13Z", "updated_at": "2022-04-26T07:56:19Z", "closed_at": "2022-04-26T07:56:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2548", "html_url": "https://github.com/sktime/sktime/pull/2548", "diff_url": "https://github.com/sktime/sktime/pull/2548.diff", "patch_url": "https://github.com/sktime/sktime/pull/2548.patch", "merged_at": "2022-04-26T07:56:19Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\nKmedoids was taking the medoids across all values of X rather than specific to the cluster due to a misstype.\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\n\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [x] I've added myself to the [list of contributors](https://github.com/alan-turing-institute/sktime/blob/main/.all-contributorsrc).\r\n- [x] Optionally, I've updated sktime's [CODEOWNERS](https://github.com/alan-turing-institute/sktime/blob/main/CODEOWNERS) to receive notifications about future changes to these files.\r\n- [x] I've added unit tests and made sure they pass locally.\r\n- [x] The PR title starts with either [ENH], [DOC] or [BUG] indicating whether the PR topic is related to enhancement, documentation or bug\r\n\r\n##### For new estimators\r\n- [ ] I've added the estimator to the online documentation.\r\n- [ ] I've updated the existing example notebooks or provided a new one to showcase how my estimator works.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2548/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2528", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2528/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2528/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2528/events", "html_url": "https://github.com/sktime/sktime/issues/2528", "id": 1211603945, "node_id": "I_kwDOCVKAsc5IN5vp", "number": 2528, "title": "[BUG][DOC] API reference on `sktime.utils` module is wrong, outdated, confusing", "user": {"login": "mccrindlebrian", "id": 83707037, "node_id": "MDQ6VXNlcjgzNzA3MDM3", "avatar_url": "https://avatars.githubusercontent.com/u/83707037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mccrindlebrian", "html_url": "https://github.com/mccrindlebrian", "followers_url": "https://api.github.com/users/mccrindlebrian/followers", "following_url": "https://api.github.com/users/mccrindlebrian/following{/other_user}", "gists_url": "https://api.github.com/users/mccrindlebrian/gists{/gist_id}", "starred_url": "https://api.github.com/users/mccrindlebrian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mccrindlebrian/subscriptions", "organizations_url": "https://api.github.com/users/mccrindlebrian/orgs", "repos_url": "https://api.github.com/users/mccrindlebrian/repos", "events_url": "https://api.github.com/users/mccrindlebrian/events{/privacy}", "received_events_url": "https://api.github.com/users/mccrindlebrian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-04-21T22:13:57Z", "updated_at": "2022-05-31T18:28:34Z", "closed_at": "2022-05-31T18:28:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "@fkiraly update after discussion below (Apr 22):\r\n\r\nThe API reference page on the `sktime.utils` module is incorrect:\r\nhttps://www.sktime.org/en/stable/api_reference/utils.html\r\n\r\nMost of the functions aren't even there anymore.\r\nThis needs to be updated, preferably urgently.\r\n\r\nWhat should be in the utilities section:\r\n\r\n* `sktime.datatypes` functionality `convert`, `convert_to`, `check_is`, `check_raise` for \"data processing\"\r\n* plotting, that's still in the `utils` module\r\n* `check_estimator` for manual testing\r\n* maybe some of the synthetic data generators, `_make_series`, `_make_panel`, `_make_hierarchical` (in `utils`) and `get_examples` (in `datatypes`)\r\n\r\nSources for this page are in `docs/source/api_reference/utils`\r\n\r\n\r\n---\r\n\r\n**Describe the bug**\r\nI'm looking to work with sktime, but I can't seem to import any of the functions provided in the _utils_ module. \r\n\r\n**To Reproduce**\r\nI created a brand new venv with sktime version 0.11.2. \r\n1. python3 venv \r\n2. pip install sktime\r\n\r\nThere were no issues the popped up during installation. \r\n\r\n**Environment**\r\nLinux pop-os 5.13.0-7620-generic Ubuntu  x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nWhen I go to import sktime.utils.from_nested_to_2d_array, I receive the following error: \r\nAttributeError: module 'sktime.utils' has no attribute 'from_nested_to_2d_array'. \r\n\r\nWhen I look at what attributes the module has, I get the following: \r\n![image](https://user-images.githubusercontent.com/83707037/164559890-a848e6ac-668d-4d12-9c46-d444da2089bc.png)\r\n\r\nI'm looking to test an implementation of ROCKET using the sktime library, but I have been unsuccessful due to these module errors. Am I doing something incorrect? \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2528/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2524", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2524/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2524/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2524/events", "html_url": "https://github.com/sktime/sktime/issues/2524", "id": 1211482629, "node_id": "I_kwDOCVKAsc5INcIF", "number": 2524, "title": "[BUG] ThetaForecaster fails to give prediction intevals for pd.DataFrames", "user": {"login": "GrzegorzRut", "id": 39675431, "node_id": "MDQ6VXNlcjM5Njc1NDMx", "avatar_url": "https://avatars.githubusercontent.com/u/39675431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GrzegorzRut", "html_url": "https://github.com/GrzegorzRut", "followers_url": "https://api.github.com/users/GrzegorzRut/followers", "following_url": "https://api.github.com/users/GrzegorzRut/following{/other_user}", "gists_url": "https://api.github.com/users/GrzegorzRut/gists{/gist_id}", "starred_url": "https://api.github.com/users/GrzegorzRut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GrzegorzRut/subscriptions", "organizations_url": "https://api.github.com/users/GrzegorzRut/orgs", "repos_url": "https://api.github.com/users/GrzegorzRut/repos", "events_url": "https://api.github.com/users/GrzegorzRut/events{/privacy}", "received_events_url": "https://api.github.com/users/GrzegorzRut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-04-21T19:48:11Z", "updated_at": "2022-04-25T07:44:42Z", "closed_at": "2022-04-24T13:42:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n@fkiraly , yesterday you mentioned that pd.Series should not appear in the code. I feel that this is somehow connected.\r\n\r\nI noticed that `ThetaForecaster` is unable to generate the prediction intervals when it's inside a `ForecastingPipeline`. It turns out that the problem is not with the pipeline but with the input being forced to be a `pd.DataFrame`.\r\nThe error i'm getting is:\r\n```python\r\nValueError: Unable to coerce to Series, length must be 1: given 36\r\n```\r\n\r\nThe problem is connected with the addition of `y_pred` with `sem` in  `_predict_quantiles`, in theta.py.\r\nI'd offer a work around but I'm sure a temporal change of data type is not the best solution;-).\r\n\r\nBtw, is it expected that `sem` is a pd.Float64Index instance?\r\n\r\nHere's a toy example:\r\n```python\r\npd.DataFrame([1,2])+pd.Float64Index([.1,.2])\r\n```\r\n<!--\r\n\r\n\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.datasets import load_airline\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y)\r\n\r\nfp = ThetaForecaster(sp=12)\r\nfp.fit(pd.DataFrame(y_train))\r\nfp.predict_quantiles(fh=y_test.index)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.datasets import load_airline\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y)\r\n\r\nfp = ThetaForecaster(sp=12)\r\nfp.fit(y_train)\r\nfp.predict_quantiles(fh=y_test.index)\r\n```\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\nSystem:\r\n    python: 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 05:59:45) [MSC v.1929 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Mi\\miniconda3\\envs\\sktime-dev\\python.exe\r\n   machine: Windows-10-10.0.22000-SP0\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 62.1.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.2\r\n  statsmodels: 0.13.2\r\n        numpy: 1.22.3\r\n        scipy: 1.8.0\r\n       pandas: 1.4.2\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.53.0\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2511", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2511/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2511/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2511/events", "html_url": "https://github.com/sktime/sktime/issues/2511", "id": 1209841299, "node_id": "I_kwDOCVKAsc5IHLaT", "number": 2511, "title": "[BUG] `ColumnEnsembleForecaster` adds extra level to probabilistic predictions output", "user": {"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-20T15:20:22Z", "updated_at": "2022-04-27T12:58:42Z", "closed_at": "2022-04-27T12:58:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using the `predict_quantile` or `predict_interval` methods on a `ColumnEnsembleForecaster` the resulting output contains an extra irrelevant level of just `\"quantile\"` or `\"interval\"` respectively. \r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.compose import ColumnEnsembleForecaster\r\n\r\nfrom sktime.utils._testing.series import _make_series\r\nimport numpy as np\r\n\r\ny = _make_series()\r\nf = ColumnEnsembleForecaster(ThetaForecaster())\r\nfh = np.arange(5)\r\nf.fit(y)\r\nf.predict_quantiles(fh)\r\n```\r\n\r\n**Expected behavior**\r\nA dataframe of two levels, top level names variables and second level names quantiles, instead a redundant middle level is included just saying \"quantile\".\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2504", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2504/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2504/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2504/events", "html_url": "https://github.com/sktime/sktime/issues/2504", "id": 1208711736, "node_id": "I_kwDOCVKAsc5IC3o4", "number": 2504, "title": "[BUG] issues with WindowSummarizer in hierarchical case", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-19T18:33:53Z", "updated_at": "2022-04-28T12:56:29Z", "closed_at": "2022-04-28T12:56:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I think there are two bugs (or problems) with `WindowSummarizer`:\r\n\r\n* it assumes that levels are named \"instances\" etc. This assumption is no longer made in the `pd-multiindex` mtype\r\n* despite claims made in various places, it is not actually ready for hierarchical data - `X_inner_mtype` should include `pd_multiindex_hier`, but in that case the transformer will break.\r\n\r\nFYI @danbartl ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2493", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2493/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2493/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2493/events", "html_url": "https://github.com/sktime/sktime/issues/2493", "id": 1206171313, "node_id": "I_kwDOCVKAsc5H5Lax", "number": 2493, "title": "[BUG] Tag translation for fit-in-transform and fit_is_empty not working as intended", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-16T17:15:30Z", "updated_at": "2022-04-16T19:59:59Z", "closed_at": "2022-04-16T19:59:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nMy trafo still used the old tag `fit-in-transform: False`, but when I did `my_trafo.get_tag(\"fit_is_empty\")` it returned `True`, so seems translation is not working in this direction. The problem is I guess here:\r\nhttps://github.com/alan-turing-institute/sktime/blob/68c359f7afd070ce4778cc1e2937b3d92913129f/sktime/base/_base.py#L430\r\nIt only translates in one way.\r\n\r\nThe translation is needed in the `BaseTransformer` here:\r\nhttps://github.com/alan-turing-institute/sktime/blob/68c359f7afd070ce4778cc1e2937b3d92913129f/sktime/transformations/base.py#L277\r\n\r\n**Reproduce**\r\n```python\r\n\r\nfrom sktime.transformations.base import BaseTransformer\r\n\r\n\r\nclass Featureizer(BaseTransformer):\r\n    _tags = {\r\n        \"fit-in-transform\": False,\r\n        \"transform-returns-same-time-index\": True,\r\n        \"skip-inverse-transform\": True,\r\n        \"univariate-only\": False,\r\n        \"X_inner_mtype\": [\"pd.DataFrame\"],\r\n        \"y_inner_mtype\": [\"pd.Series\"],\r\n        \"scitype:y\": \"univariate\",\r\n        # \"fit_is_empty\": False,\r\n        # \"scitype:X\": \"multivariate\",\r\n    }\r\n\r\n    def __init__(self, transformer, fh, suffix=None):\r\n        self.transformer = transformer\r\n        self.fh = fh\r\n        self.suffix = suffix\r\n        super(Featureizer, self).__init__()\r\n\r\n    def _fit(self, X, y=None):\r\n        pass\r\n\r\n\r\n    def _transform(self, X, y=None):\r\n        return X\r\n\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.transformations.series.exponent import ExponentTransformer\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\n\r\ny, X = load_longley()\r\ny_train, y_test, X_train, X_test = temporal_train_test_split(y, X)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\nfeatureizer = Featureizer(ExponentTransformer(), fh=fh)\r\nfeatureizer.fit(X_train, y_train)\r\nfeatureizer.transform(X_test, y_test)\r\nfeatureizer.get_tag(\"fit_is_empty\")\r\nfeatureizer.get_tag(\"fit-in-transform\")\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2469", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2469/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2469/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2469/events", "html_url": "https://github.com/sktime/sktime/issues/2469", "id": 1204279290, "node_id": "I_kwDOCVKAsc5Hx9f6", "number": 2469, "title": "[BUG] remove reliance of `BoxCoxTransformer` on private interfaces of `scipy`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-14T09:28:37Z", "updated_at": "2022-04-14T21:41:49Z", "closed_at": "2022-04-14T21:41:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`BoxCoxTransformer` relies on private interfaces of `scipy` which can change without warning.\r\n\r\nThat should be addressed, i.e., replaced by a suitable public interface or alternative functionality.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2455", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2455/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2455/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2455/events", "html_url": "https://github.com/sktime/sktime/issues/2455", "id": 1203639763, "node_id": "I_kwDOCVKAsc5HvhXT", "number": 2455, "title": "[BUG] ForecastingPipeline cannot be constructed due to erroneous type check", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-13T18:25:00Z", "updated_at": "2022-04-28T16:37:16Z", "closed_at": "2022-04-28T16:37:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The following `ForecastingPipeline` cannot be constructed due to what looks like an erroneous type check.\r\n\r\nExpected behaviour is that it constructs without error.\r\nWorks on 0.11.0, but not on 0.11.2.\r\n\r\n```python\r\nfrom sktime.forecasting.compose import ForecastingPipeline, TransformedTargetForecaster\r\nfrom sktime.transformations.series.compose import OptionalPassthrough\r\nfrom sktime.transformations.series.boxcox import LogTransformer\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.transformations.series.detrend import Detrender\r\nfrom sktime.forecasting.ets import AutoETS\r\n\r\npipe_prophet = ForecastingPipeline(steps=[\r\n        (\"logX\", OptionalPassthrough(LogTransformer())),\r\n        (\"detrenderX\", OptionalPassthrough(Detrender(forecaster = AutoETS()))),\r\n        (\"prophetforecaster\", TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"prophet\", Prophet(yearly_seasonality='auto'))\r\n        ]))  \r\n])\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2452", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2452/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2452/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2452/events", "html_url": "https://github.com/sktime/sktime/issues/2452", "id": 1203537324, "node_id": "I_kwDOCVKAsc5HvIWs", "number": 2452, "title": "[BUG] `Differencer` in `ForecastingPipeline` and `TransformedTargetForecaster` does not work!", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2022-04-13T16:36:01Z", "updated_at": "2022-06-13T07:25:58Z", "closed_at": "2022-06-13T07:25:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Discussed in https://github.com/alan-turing-institute/sktime/discussions/2451\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **anthonygiorgio97** April 13, 2022</sup>\r\nI was trying to do a Pipeline with transformers for both exogenous X (4 features) and endogenous y variable with a FeatureSelection(), a LogTransformer() and a Differencer() combined with a cross validation to tune Prophet (but the same happen with other algorithms). The difference operator must exclude the first index from both exogenous and endogenous variable (because I have specified this transformation both in ForecastingPipeline and TransformedTargetForecaster), but when I call the fit method this error raise: \r\n\r\n(time) indices of series 0 are not contained in index of series 0, extra indices are: DatetimeIndex(['2016-01-31'], dtype='datetime64[ns]', freq=None)\r\n\r\nwhere 2016-01-31 is the first index. If I use a classic Detrender() the code work, but I want to try with the Differencer() operator.\r\n\r\nI am using sktime 0.11.0. This is the code I am using:\r\n\r\n```python\r\npipe_prophet = ForecastingPipeline(steps=[\r\n        (\"selection\", FeatureSelection(method = 'columns')),\r\n        (\"logX\", OptionalPassthrough(LogTransformer())),\r\n        (\"differencerX\", Differencer()),\r\n        (\"prophetforecaster\", TransformedTargetForecaster(steps = [\r\n            (\"log\", OptionalPassthrough(LogTransformer())),\r\n            (\"differencer\", Differencer()),\r\n            (\"prophet\", Prophet(yearly_seasonality='auto'))\r\n        ]))  \r\n])\r\n\r\ncv = ExpandingWindowSplitter(initial_window = len(train_model) - (N_cv_fold - 1) * step_cv - len(fh),\r\n                            start_with_window = True,\r\n                            step_length = step_cv,\r\n                            fh = list(range(1,forecasting_horizon +1,1)))\r\n\r\nparam_grid = [{\"logX__passthrough\": [False],\r\n               \"prophetforecaster__log__passthrough\": [False],\r\n               \"selection__columns\": [[prod_group + ' ADJ'],[prod_group + ' ADJ','MONTHLY_ROLLING_MEAN'],[prod_group + ' ADJ','MONTHLY_ROLLING_MEAN','MONTHLY_ROLLING_MIN','MONTHLY_ROLLING_MAX']],\r\n               \"prophetforecaster__prophet__seasonality_mode\": ['additive','multiplicative'],\r\n               \"prophetforecaster__prophet__add_country_holidays\": [None, {'country_name': 'Italy'}]},\r\n              {\"logX__passthrough\": [True],\r\n               \"prophetforecaster__log__passthrough\": [True],\r\n               \"selection__columns\": [[prod_group + ' ADJ'],[prod_group + ' ADJ','MONTHLY_ROLLING_MEAN'],[prod_group + ' ADJ','MONTHLY_ROLLING_MEAN','MONTHLY_ROLLING_MIN','MONTHLY_ROLLING_MAX']],\r\n               \"prophetforecaster__prophet__seasonality_mode\": ['additive','multiplicative'],\r\n               \"prophetforecaster__prophet__add_country_holidays\": [None, {'country_name': 'Italy'}]}]\r\n\r\ngscv_prophet = ForecastingGridSearchCV(\r\n            forecaster = pipe_prophet,\r\n            cv=cv,\r\n            param_grid=param_grid,\r\n            verbose = 1\r\n        )\r\ngscv_prophet.fit(train_model, X = df_ex_train, fh = fh)\r\n```\r\n\r\n\r\n</div>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2446", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2446/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2446/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2446/events", "html_url": "https://github.com/sktime/sktime/pull/2446", "id": 1200095160, "node_id": "PR_kwDOCVKAsc42AiOw", "number": 2446, "title": "[MNT] Fix typo in PULL_REQUEST_TEMPLATE.md", "user": {"login": "eltociear", "id": 22633385, "node_id": "MDQ6VXNlcjIyNjMzMzg1", "avatar_url": "https://avatars.githubusercontent.com/u/22633385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eltociear", "html_url": "https://github.com/eltociear", "followers_url": "https://api.github.com/users/eltociear/followers", "following_url": "https://api.github.com/users/eltociear/following{/other_user}", "gists_url": "https://api.github.com/users/eltociear/gists{/gist_id}", "starred_url": "https://api.github.com/users/eltociear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eltociear/subscriptions", "organizations_url": "https://api.github.com/users/eltociear/orgs", "repos_url": "https://api.github.com/users/eltociear/repos", "events_url": "https://api.github.com/users/eltociear/events{/privacy}", "received_events_url": "https://api.github.com/users/eltociear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-11T14:53:56Z", "updated_at": "2022-04-11T19:50:52Z", "closed_at": "2022-04-11T15:19:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2446", "html_url": "https://github.com/sktime/sktime/pull/2446", "diff_url": "https://github.com/sktime/sktime/pull/2446.diff", "patch_url": "https://github.com/sktime/sktime/pull/2446.patch", "merged_at": "2022-04-11T15:19:03Z"}, "body": "wether -> whether\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2446/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2444", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2444/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2444/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2444/events", "html_url": "https://github.com/sktime/sktime/issues/2444", "id": 1199941029, "node_id": "I_kwDOCVKAsc5HhaWl", "number": 2444, "title": "[BUG] Prophet growth logistic", "user": {"login": "ohbtorres", "id": 61629937, "node_id": "MDQ6VXNlcjYxNjI5OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/61629937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohbtorres", "html_url": "https://github.com/ohbtorres", "followers_url": "https://api.github.com/users/ohbtorres/followers", "following_url": "https://api.github.com/users/ohbtorres/following{/other_user}", "gists_url": "https://api.github.com/users/ohbtorres/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohbtorres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohbtorres/subscriptions", "organizations_url": "https://api.github.com/users/ohbtorres/orgs", "repos_url": "https://api.github.com/users/ohbtorres/repos", "events_url": "https://api.github.com/users/ohbtorres/events{/privacy}", "received_events_url": "https://api.github.com/users/ohbtorres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-11T13:02:35Z", "updated_at": "2022-04-11T15:51:14Z", "closed_at": "2022-04-11T15:51:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIt is not possible to fit the Prophet model with **growth** parameter as _logistc_\r\n\r\n**To Reproduce**\r\nAfter doing\r\n\r\n`Prophet(growth=\"logistic\").fit(df)`\r\n\r\nas df a Series with DateTimeIndex, the following error message is displayed\r\n**ValueError: Capacities must be supplied for logistic growth in column \"cap\"**\r\n\r\nAfter researching in Prophet's documentation, a \"capacity\" collumn is expected.\r\nHowever, adding a new \"cap\" column into the Series (now a DateTimeIndex DataFrame with my time serie and cap columns), the following message error is displayed\r\n\r\n**ValueError: y must be univariate, but found more than one variable**\r\n\r\nEven trying to use the X parameter of \"fit\" method, as\r\n\r\n`Prophet(growth=\"logistic\").fit(y = df.time_serie, X = df.cap)`\r\n\r\nthe following error is displayed\r\n\r\n**ValueError: Name 'cap' is reserved.**\r\n\r\nI have not found a way to fit this kind of model\r\n\r\n**Expected behavior**\r\nNo error message displayed and a fitted model returned\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.8 | packaged by conda-forge | (default, Feb 20 2021, 16:22:27)  [GCC 9.3.0]\r\nexecutable: /opt/conda/envs/previsao_demanda/bin/python\r\n   machine: Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-glibc2.10\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 49.6.0.post20210108\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.2.5\r\n   matplotlib: 3.5.1\r\n       joblib: 0.17.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: 0.19.0", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2438", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2438/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2438/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2438/events", "html_url": "https://github.com/sktime/sktime/pull/2438", "id": 1199168737, "node_id": "PR_kwDOCVKAsc419jHQ", "number": 2438, "title": "[BUG] Incorrect indices returned by make_reduction on hierarchical data fixed", "user": {"login": "danbartl", "id": 19947407, "node_id": "MDQ6VXNlcjE5OTQ3NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/19947407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danbartl", "html_url": "https://github.com/danbartl", "followers_url": "https://api.github.com/users/danbartl/followers", "following_url": "https://api.github.com/users/danbartl/following{/other_user}", "gists_url": "https://api.github.com/users/danbartl/gists{/gist_id}", "starred_url": "https://api.github.com/users/danbartl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danbartl/subscriptions", "organizations_url": "https://api.github.com/users/danbartl/orgs", "repos_url": "https://api.github.com/users/danbartl/repos", "events_url": "https://api.github.com/users/danbartl/events{/privacy}", "received_events_url": "https://api.github.com/users/danbartl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-10T20:49:59Z", "updated_at": "2022-04-11T19:51:03Z", "closed_at": "2022-04-10T21:31:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2438", "html_url": "https://github.com/sktime/sktime/pull/2438", "diff_url": "https://github.com/sktime/sktime/pull/2438.diff", "patch_url": "https://github.com/sktime/sktime/pull/2438.patch", "merged_at": "2022-04-10T21:31:47Z"}, "body": "Takes self._y instead of y_pred", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2438/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2435", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2435/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2435/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2435/events", "html_url": "https://github.com/sktime/sktime/issues/2435", "id": 1199152191, "node_id": "I_kwDOCVKAsc5HeZw_", "number": 2435, "title": "[BUG] `ThetaForecaster` doesn't work inside `ColumnEnsembleForecaster`", "user": {"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-10T19:39:21Z", "updated_at": "2022-04-10T21:28:37Z", "closed_at": "2022-04-10T21:28:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`ThetaForecaster` doesn't work with `ColumnEnsembleForecaster`, the forecasting horizon is not picked up correctly in the underlying forecasters inside the `ColumnEnsembleForecaster`.\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\n\r\nfrom sktime.forecasting.compose import ColumnEnsembleForecaster\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.utils._testing.series import _make_series\r\n\r\ny = _make_series(n_columns=3)\r\ny_train, y_test = temporal_train_test_split(y)\r\nfh = np.arange(len(y_test)) + 1\r\nf = ColumnEnsembleForecaster(ThetaForecaster(sp=12))\r\nf.fit(y_train)\r\nf.predict(fh=fh)\r\n```\r\n\r\n**Expected behavior**\r\nIt should produce an array of predictions for each of the columns. It seems that when computing the drift in the underlying theta forecasters it cannot find the forecasting horizon.\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.12\r\n\r\nPython dependencies:\r\n          pip: 21.2.2\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.4.1\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.4\r\n      tsfresh: 0.19.0\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2434", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2434/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2434/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2434/events", "html_url": "https://github.com/sktime/sktime/issues/2434", "id": 1199126011, "node_id": "I_kwDOCVKAsc5HeTX7", "number": 2434, "title": "[BUG] vectorization of forecasters for hierarchical data eats away time-like hierarchy level", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-10T17:56:19Z", "updated_at": "2022-04-27T11:40:26Z", "closed_at": "2022-04-27T11:40:26Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Highly unexpected behaviour, so I would classify this as a bug:\r\n\r\nwhen a non-hierarchical forecaster is used for hierarchical or global forecasting, the auto-vectorization seems to eat the level name of the time like index.\r\n\r\nTo reproduce:\r\n\r\n```python\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.datatypes import get_examples\r\n\r\ny_hier = get_examples(\"pd_multiindex_hier\")[1]\r\n\r\nf = NaiveForecaster()\r\nf.fit(y_hier, fh=[1, 2])\r\ny_pred = f.predict()\r\ny_pred\r\n```\r\n\r\nExpected behaviour is that the third level of `y_pred` is called `instances` instead of having no level name.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2403", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2403/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2403/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2403/events", "html_url": "https://github.com/sktime/sktime/issues/2403", "id": 1196080599, "node_id": "I_kwDOCVKAsc5HSr3X", "number": 2403, "title": "[BUG] is_regressor methos is not working as expected in base.py ", "user": {"login": "KritikaAggarwal15", "id": 76676076, "node_id": "MDQ6VXNlcjc2Njc2MDc2", "avatar_url": "https://avatars.githubusercontent.com/u/76676076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KritikaAggarwal15", "html_url": "https://github.com/KritikaAggarwal15", "followers_url": "https://api.github.com/users/KritikaAggarwal15/followers", "following_url": "https://api.github.com/users/KritikaAggarwal15/following{/other_user}", "gists_url": "https://api.github.com/users/KritikaAggarwal15/gists{/gist_id}", "starred_url": "https://api.github.com/users/KritikaAggarwal15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KritikaAggarwal15/subscriptions", "organizations_url": "https://api.github.com/users/KritikaAggarwal15/orgs", "repos_url": "https://api.github.com/users/KritikaAggarwal15/repos", "events_url": "https://api.github.com/users/KritikaAggarwal15/events{/privacy}", "received_events_url": "https://api.github.com/users/KritikaAggarwal15/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-07T13:49:48Z", "updated_at": "2022-04-24T20:22:31Z", "closed_at": "2022-04-24T20:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nis_regressor methos is not working as expected in base.py , when I am passing in GradientBoostingRegressor in the follwing function \r\ntransformer = FeatureSelection(method=\"feature-importances\", n_columns=1,regressor=\"GradientBoostingRegressor()\") , I am getting the output as ValueError: `regressor` should be a sklearn-like regressor, but found: GradientBoostingRegressor() instead of getting the regressor as true.\r\n\r\nThis is happening as the values of parameters is being taken as string <class 'str'> instead of \r\n<class 'sklearn.ensemble._gb.GradientBoostingRegressor'> which is why it is unable to find the value of __estimator_type for the gradientBoostingRegression.\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2403/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2397", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2397/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2397/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2397/events", "html_url": "https://github.com/sktime/sktime/issues/2397", "id": 1194053197, "node_id": "I_kwDOCVKAsc5HK85N", "number": 2397, "title": "[BUG] ShapeletTransformClassifier numba error when dtype is not float64", "user": {"login": "srggrs", "id": 34258464, "node_id": "MDQ6VXNlcjM0MjU4NDY0", "avatar_url": "https://avatars.githubusercontent.com/u/34258464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srggrs", "html_url": "https://github.com/srggrs", "followers_url": "https://api.github.com/users/srggrs/followers", "following_url": "https://api.github.com/users/srggrs/following{/other_user}", "gists_url": "https://api.github.com/users/srggrs/gists{/gist_id}", "starred_url": "https://api.github.com/users/srggrs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srggrs/subscriptions", "organizations_url": "https://api.github.com/users/srggrs/orgs", "repos_url": "https://api.github.com/users/srggrs/repos", "events_url": "https://api.github.com/users/srggrs/events{/privacy}", "received_events_url": "https://api.github.com/users/srggrs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-06T05:27:55Z", "updated_at": "2022-10-20T11:48:00Z", "closed_at": "2022-10-20T11:48:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSeems that when using `ShapeletTransformClassifier` there is some Numba accelerated functions that break if the data in the input data frame are of type `int32`.\r\n\r\n**To Reproduce**\r\nMRE as below:\r\n\r\n```python\r\nimport warnings\r\nwarnings.simplefilter('ignore', category=FutureWarning)\r\n\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sklearn.model_selection import train_test_split\r\n\r\nfrom sktime.classification.shapelet_based import ShapeletTransformClassifier\r\nfrom sktime.contrib.vector_classifiers._rotation_forest import RotationForest\r\n\r\n# make fake data\r\ndata = pd.DataFrame(np.random.random((5000, 250))).astype(np.float32)\r\n\r\n# reshape to input into Shapelet Classifier\r\ndata4train = data.apply(lambda row: pd.Series({\r\n  'time-series': pd.Series(row.values)\r\n}), axis=1)\r\n\r\n# make targets\r\ntargets = pd.Series(2500 * [1] + 2500 * [0])\r\n\r\n# train test split\r\nX_train, X_test, y_train, y_test = train_test_split(\r\n  data4train, targets, test_size=0.7, random_state=42\r\n)\r\n\r\n# train\r\nclf = ShapeletTransformClassifier(\r\n    estimator=RotationForest(n_estimators=3),\r\n    n_shapelet_samples=500,\r\n    max_shapelets=20,\r\n    batch_size=100,\r\n)\r\n\r\nclf.fit(X_train, y_train)\r\n```\r\n\r\n**Expected behavior**\r\nwill not throw an error, and also enforce conversion to float32 or float64 within the classifier?\r\n**Additional context**\r\nremoving conversion to `float32` (hence `dtype == float64`) will make the code running without issues.\r\n\r\n**Versions**\r\nnumba 0.55.1\r\nsklearn 0.24.1\r\nsktime 0.11.0\r\npandas 1.4.2\r\npython 3.8.10\r\n\r\n**Stacktrace output**\r\n```bash\r\nTypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nCannot unify array(float64, 1d, C) and array(float32, 1d, C) for 'X_n.2', defined at /path_to_mypython/python/lib/python3.8/site-packages/sktime/utils/numba/general.py (39)\r\n\r\nFile \"../python/lib/python3.8/site-packages/sktime/utils/numba/general.py\", line 39:\r\ndef z_normalise_series(X):\r\n    <source elided>\r\n\r\n    return X_n\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2385", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2385/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2385/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2385/events", "html_url": "https://github.com/sktime/sktime/issues/2385", "id": 1191067133, "node_id": "I_kwDOCVKAsc5G_j39", "number": 2385, "title": "[BUG] disable very aggressive citation message from `dtw-python`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-04-03T22:34:59Z", "updated_at": "2022-04-12T15:21:40Z", "closed_at": "2022-04-12T15:21:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Every time one imports the `dtw-python` module, even when attempting to do so silently and with warning suppressed, the following is printed\r\n\r\n```\r\nImporting the dtw module. When using in academic works please cite:\r\n  T. Giorgino. Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package.\r\n  J. Stat. Soft., doi:10.18637/jss.v031.i07.\r\n```\r\n\r\nBesides being annoying, it is quite aggressive and pops up on various utilities that are unrelated to the estimator specifically.\r\n\r\nWe should find out how to get rid of this.\r\nMay or may not be easy to do...", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2382", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2382/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2382/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2382/events", "html_url": "https://github.com/sktime/sktime/pull/2382", "id": 1191002796, "node_id": "PR_kwDOCVKAsc41i6sZ", "number": 2382, "title": "[BUG] Fixed fit method of Imputer", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-04-03T18:06:53Z", "updated_at": "2022-05-30T22:15:58Z", "closed_at": "2022-05-30T21:18:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2382", "html_url": "https://github.com/sktime/sktime/pull/2382", "diff_url": "https://github.com/sktime/sktime/pull/2382.diff", "patch_url": "https://github.com/sktime/sktime/pull/2382.patch", "merged_at": "2022-05-30T21:18:14Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\ncloses #2267 and provides alternative solution to PR #2269\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\nMover methods that actually fit sth into `_fit`. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2382/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2375", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2375/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2375/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2375/events", "html_url": "https://github.com/sktime/sktime/pull/2375", "id": 1190900976, "node_id": "PR_kwDOCVKAsc41inhq", "number": 2375, "title": "[BUG] Fixing broken conversions from nested data frame", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}, {"id": 3789332481, "node_id": "LA_kwDOCVKAsc7h3KAB", "url": "https://api.github.com/repos/sktime/sktime/labels/bugfix", "name": "bugfix", "color": "CE54AC", "default": false, "description": "Fixes a known bug or removes unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-04-03T11:22:18Z", "updated_at": "2022-07-13T22:32:16Z", "closed_at": "2022-07-13T22:32:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2375", "html_url": "https://github.com/sktime/sktime/pull/2375", "diff_url": "https://github.com/sktime/sktime/pull/2375.diff", "patch_url": "https://github.com/sktime/sktime/pull/2375.patch", "merged_at": "2022-07-13T22:32:15Z"}, "body": "Attempted fix of https://github.com/alan-turing-institute/sktime/issues/2381, of broken conversions from nested data frame to other types:\r\n\r\n* `from_nested_to_multi_index` conversion was very brittle and sensitive wrt index names. I replaced the dozens of lines with a minor variation on `pandas.explode` (which also should be much faster)\r\n\r\nConditional on PR https://github.com/alan-turing-institute/sktime/pull/2970 to avoid duplicate columns coming out of `RandomIntervalSegmenter` which would break the new converter (but are not interface compliant).\r\n\r\nTest for the duplicate column problem is introduced here:\r\nhttps://github.com/alan-turing-institute/sktime/pull/2969", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2375/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2374", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2374/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2374/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2374/events", "html_url": "https://github.com/sktime/sktime/issues/2374", "id": 1190742563, "node_id": "I_kwDOCVKAsc5G-Uoj", "number": 2374, "title": "[BUG] SignatureTransformer and SignatureClassifier was incorrect, erroneously transpose numpy3D arrays", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2022-04-02T21:22:35Z", "updated_at": "2022-10-19T09:52:15Z", "closed_at": "2022-10-19T09:52:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As far as I can tell, both `SignatureClassifier` and `SignatureTransformer` were giving incorrect results.\r\n\r\nThe reason is that the signature transform adopted the wrong specification for numpy 3D arrays, namely, `(n_instances, n_timepoints, n_columns)` instead of the official `(n_instances, n_columns, n_timepoints)`.\r\n\r\n`SignatureClassifier` was assuming the latter, `SignatureTransformer` the former. The mix-up was not detected since `SignatureTransformer` still would produce a table output, just not the one which the intention to produce was.\r\n\r\nFYI @jambo6, @TonyBagnall.\r\n\r\nI think this is fixed in https://github.com/alan-turing-institute/sktime/pull/2369, although it means that the `depth` parameters chosen are no longer compatible and raise errors, and the \"expected results\" are also no longer right.\r\n\r\nHow do we go about this?\r\nPerhaps we should confirm first whether I am right, @jambo6, @TonyBagnall?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2374/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2372", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2372/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2372/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2372/events", "html_url": "https://github.com/sktime/sktime/pull/2372", "id": 1190721564, "node_id": "PR_kwDOCVKAsc41iFg0", "number": 2372, "title": "[BUG] fixing click/black incompatibility in CI", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-02T19:37:47Z", "updated_at": "2022-04-03T01:15:01Z", "closed_at": "2022-04-02T21:14:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2372", "html_url": "https://github.com/sktime/sktime/pull/2372", "diff_url": "https://github.com/sktime/sktime/pull/2372.diff", "patch_url": "https://github.com/sktime/sktime/pull/2372.patch", "merged_at": "2022-04-02T21:14:34Z"}, "body": "`code-quality` checks in CI are failing due to an incompatibility ot `click` with the newest `black` version.\r\nThis bumps `black` to 22.3.0 for both code and notebook checks.\r\nIt also removes the pin on `click`, in an attempt to fix #2354.\r\n\r\nThis PR follows the fix suggested in\r\nhttps://github.com/psf/black/issues/2964", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2372/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2362", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2362/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2362/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2362/events", "html_url": "https://github.com/sktime/sktime/pull/2362", "id": 1189018729, "node_id": "PR_kwDOCVKAsc41cw3k", "number": 2362, "title": "[BUG] fix `_update` default for late `fh` pass case", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-31T23:58:23Z", "updated_at": "2022-04-01T11:34:49Z", "closed_at": "2022-04-01T11:34:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2362", "html_url": "https://github.com/sktime/sktime/pull/2362", "diff_url": "https://github.com/sktime/sktime/pull/2362.diff", "patch_url": "https://github.com/sktime/sktime/pull/2362.patch", "merged_at": "2022-04-01T11:34:48Z"}, "body": "Fixes https://github.com/alan-turing-institute/sktime/issues/2361:\r\n\r\nIf no `fh` was passed in `fit`, and `update` was called with the default `_update`, it would break as it tried to read `self.fh` which would raise an error. Instead, `self_fh` should be read, which does not raise an error.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2362/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2361", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2361/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2361/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2361/events", "html_url": "https://github.com/sktime/sktime/issues/2361", "id": 1189018604, "node_id": "I_kwDOCVKAsc5G3vvs", "number": 2361, "title": "[BUG] forecaster `update` errors out if `fh` is not passed in `fit`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-31T23:58:09Z", "updated_at": "2022-04-01T11:34:48Z", "closed_at": "2022-04-01T11:34:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "For an estimator that does not require `fh` in `fit` and which does not implement its own `_update`:\r\nif no `fh` is passed in `fit`, then `update` is called with the default `_update`, and it breaks as it tries to read `self.fh` which raises an error. Instead, `self._fh` should be read, which does not raise an error.\r\n\r\n```python\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.datatypes import get_examples\r\n\r\ny = get_examples(\"pd.DataFrame\")[0]\r\nf = NaiveForecaster().fit(y)\r\nf.update(y)\r\n```\r\n\r\nExpected behaviour: no error, and simply refits with `fh= None`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2361/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2354", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2354/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2354/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2354/events", "html_url": "https://github.com/sktime/sktime/issues/2354", "id": 1188375679, "node_id": "I_kwDOCVKAsc5G1Sx_", "number": 2354, "title": "[BUG] code-quality CI fails due to incompatibility of click with black", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-31T16:56:17Z", "updated_at": "2022-04-02T21:14:34Z", "closed_at": "2022-04-02T21:14:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`code-quality` checks in CI are failing due to an incompatibility ot `click` with the newest `black` version.\r\nError traceback is\r\n```\r\n Traceback (most recent call last):\r\n  File \"/home/runner/.cache/pre-commit/repo6qt55n6c/py_env-python3/bin/black\", line 8, in <module>\r\n    sys.exit(patched_main())\r\n  File \"/home/runner/.cache/pre-commit/repo6qt55n6c/py_env-python3/lib/python3.10/site-packages/black/__init__.py\", line 1367, in patched_main\r\n    patch_click()\r\n  File \"/home/runner/.cache/pre-commit/repo6qt55n6c/py_env-python3/lib/python3.10/site-packages/black/__init__.py\", line 1353, in patch_click\r\n    from click import _unicodefun\r\nImportError: cannot import name '_unicodefun' from 'click' (/home/runner/.cache/pre-commit/repo6qt55n6c/py_env-python3/lib/python3.10/site-packages/click/__init__.py)\r\n```\r\n\r\nA suggested workaround is pinning `click`, see https://github.com/alan-turing-institute/sktime/pull/2353.\r\n\r\nThis temporary fix is attempted in https://github.com/alan-turing-institute/sktime/pull/2353.\r\nWe can close this issue once the pin/fix is removed again.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2351", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2351/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2351/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2351/events", "html_url": "https://github.com/sktime/sktime/issues/2351", "id": 1187864877, "node_id": "I_kwDOCVKAsc5GzWEt", "number": 2351, "title": "[BUG] Can't install on M1 Mac ", "user": {"login": "M4rkWhite", "id": 9379196, "node_id": "MDQ6VXNlcjkzNzkxOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9379196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/M4rkWhite", "html_url": "https://github.com/M4rkWhite", "followers_url": "https://api.github.com/users/M4rkWhite/followers", "following_url": "https://api.github.com/users/M4rkWhite/following{/other_user}", "gists_url": "https://api.github.com/users/M4rkWhite/gists{/gist_id}", "starred_url": "https://api.github.com/users/M4rkWhite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/M4rkWhite/subscriptions", "organizations_url": "https://api.github.com/users/M4rkWhite/orgs", "repos_url": "https://api.github.com/users/M4rkWhite/repos", "events_url": "https://api.github.com/users/M4rkWhite/events{/privacy}", "received_events_url": "https://api.github.com/users/M4rkWhite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-03-31T10:25:52Z", "updated_at": "2022-05-22T18:42:37Z", "closed_at": "2022-04-07T19:47:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nI can't install this package on mac book pro M1 \r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n\r\n```bash\r\npip install sktime\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/sktime/classification/dictionary_based/__init__.py\", line 13, in <module>\r\n    from sktime.classification.dictionary_based._boss import BOSSEnsemble, IndividualBOSS\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/sktime/classification/dictionary_based/_boss.py\", line 16, in <module>\r\n    from numba import njit, types\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/numba/__init__.py\", line 38, in <module>\r\n    from numba.core.decorators import (cfunc, generated_jit, jit, njit, stencil,\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/numba/core/decorators.py\", line 12, in <module>\r\n    from numba.stencils.stencil import stencil\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/numba/stencils/stencil.py\", line 11, in <module>\r\n    from numba.core import types, typing, utils, ir, config, ir_utils, registry\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/numba/core/ir_utils.py\", line 16, in <module>\r\n    from numba.core.extending import _Intrinsic\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/numba/core/extending.py\", line 19, in <module>\r\n    from numba.core.pythonapi import box, unbox, reflect, NativeValue  # noqa: F401\r\n  File \"/opt/homebrew/Caskroom/miniforge/base/envs/sktime/lib/python3.8/site-packages/numba/core/pythonapi.py\", line 12, in <module>\r\n    from numba import _helperlib\r\nImportError: numpy.core.multiarray failed to import\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2351/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2324", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2324/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2324/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2324/events", "html_url": "https://github.com/sktime/sktime/pull/2324", "id": 1182652221, "node_id": "PR_kwDOCVKAsc41HZaL", "number": 2324, "title": "[BUG] FeatureUnion output column names fixed", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-27T20:25:20Z", "updated_at": "2022-04-03T10:14:35Z", "closed_at": "2022-04-03T10:14:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2324", "html_url": "https://github.com/sktime/sktime/pull/2324", "diff_url": "https://github.com/sktime/sktime/pull/2324.diff", "patch_url": "https://github.com/sktime/sktime/pull/2324.patch", "merged_at": "2022-04-03T10:14:34Z"}, "body": "`FeatureUnion` was returning incorrect column labels due to a bad `str.join` command. This is now fixed.\r\n\r\nThe tests did not catch this since the format was correct, but not the number of columns.\r\n\r\nThis has been corrected, and a test has been added to ensure that `FeatureUnion` produces the right column names.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2324/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2323", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2323/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2323/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2323/events", "html_url": "https://github.com/sktime/sktime/issues/2323", "id": 1182645163, "node_id": "I_kwDOCVKAsc5Gfbur", "number": 2323, "title": "[BUG] AutoETS fails on pandas input with int dtype", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-03-27T20:00:10Z", "updated_at": "2023-01-20T16:38:58Z", "closed_at": "2023-01-20T16:38:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n`AutoETS` breaks if fitted on a `pandas` container with `int` dtype.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.ets import AutoETS\r\ny = pd.DataFrame({\"a\": range(20)})\r\nAutoETS().fit(y)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nIt should not break. This can probably be fixed by casting to float internally, by `y = y.astype(float)`. Needs checking\r\n\r\n**Additional context**\r\n\r\nWe probably also should add test that passes examples with int data.\r\nThis should be added to `scenarios_forecasting`.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2322", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2322/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2322/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2322/events", "html_url": "https://github.com/sktime/sktime/pull/2322", "id": 1182635476, "node_id": "PR_kwDOCVKAsc41HWPh", "number": 2322, "title": "[ENH][BUG] fixes and implementations of missing `inverse_transform` in compositions", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-27T19:21:44Z", "updated_at": "2022-04-03T11:41:52Z", "closed_at": "2022-04-03T11:41:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2322", "html_url": "https://github.com/sktime/sktime/pull/2322", "diff_url": "https://github.com/sktime/sktime/pull/2322.diff", "patch_url": "https://github.com/sktime/sktime/pull/2322.patch", "merged_at": "2022-04-03T11:41:39Z"}, "body": "This PR contains an upgrade of `_has_capability` that works with classes as well as estimators.\r\n\r\nThe upgrade uncovered a number of estimators that did not have `inverse_transform` implemented, or bugs in it:\r\n* bug: in the `TransformerPipeline`, inverse transforms should be applied backwards, but they were applied forward. This was fixed\r\n* bug: in the `TransformerPipeline`, if all transformers had empty fit, `fit` should have been called in `inverse_transform`. This was fixed.\r\n* `FeatureUnion` had `inverse_transform` tag that said it had one, but it is in fact unclear what the `inverse_transform` should be. Naively concatenating inverses is not inverse to `transform`. Hence, the `capability:inverse_transform` tag is now always `False`.\r\n\r\nDepends on #2324 due to the column naming issue with `FeatureUnion`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2322/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2319", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2319/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2319/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2319/events", "html_url": "https://github.com/sktime/sktime/issues/2319", "id": 1182545302, "node_id": "I_kwDOCVKAsc5GfDWW", "number": 2319, "title": "[BUG] Dev version Installation does not work on Google Colab", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-27T14:19:46Z", "updated_at": "2022-10-24T15:26:10Z", "closed_at": "2022-10-24T15:26:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nDev version Installation does not work on Google Colab\r\n\r\n**To Reproduce**\r\n```bash\r\n# https://www.sktime.org/en/stable/installation.html#development-versions\r\n!git clone https://github.com/alan-turing-institute/sktime.git\r\n%cd sktime\r\n!git checkout main\r\n!git pull\r\n%ls\r\n!pip install .\r\n```\r\n\r\n```bash\r\nCloning into 'sktime'...\r\nremote: Enumerating objects: 29733, done.\r\nremote: Counting objects: 100% (4502/4502), done.\r\nremote: Compressing objects: 100% (1857/1857), done.\r\nremote: Total 29733 (delta 3176), reused 3734 (delta 2639), pack-reused 25231\r\nReceiving objects: 100% (29733/29733), 45.00 MiB | 12.18 MiB/s, done.\r\nResolving deltas: 100% (20559/20559), done.\r\n/content/sktime\r\nAlready on 'main'\r\nYour branch is up to date with 'origin/main'.\r\nAlready up to date.\r\nBranch 'forecasting-pipeline-capability-fix' set up to track remote branch 'forecasting-pipeline-capability-fix' from 'origin'.\r\nSwitched to a new branch 'forecasting-pipeline-capability-fix'\r\nbuild_tools/        CONTRIBUTORS.md        GOVERNANCE.md   README.md\r\nCHANGELOG.md        docs/                  LICENSE         setup.cfg\r\nCODE_OF_CONDUCT.md  ESTIMATOR_OVERVIEW.md  Makefile        setup.py\r\nCODEOWNERS          examples/              MANIFEST.in     sktime/\r\nCONTRIBUTING.md     extension_templates/   pyproject.toml\r\nCollecting build\r\n  Downloading build-0.7.0-py3-none-any.whl (16 kB)\r\nRequirement already satisfied: importlib-metadata>=0.22 in /usr/local/lib/python3.7/dist-packages (from build) (4.11.3)\r\nRequirement already satisfied: pep517>=0.9.1 in /usr/local/lib/python3.7/dist-packages (from build) (0.12.0)\r\nRequirement already satisfied: packaging>=19.0 in /usr/local/lib/python3.7/dist-packages (from build) (21.3)\r\nRequirement already satisfied: tomli>=1.0.0 in /usr/local/lib/python3.7/dist-packages (from build) (2.0.1)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.22->build) (3.10.0.2)\r\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.22->build) (3.7.0)\r\nRequirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /usr/local/lib/python3.7/dist-packages (from packaging>=19.0->build) (3.0.7)\r\nInstalling collected packages: build\r\nSuccessfully installed build-0.7.0\r\n* Creating venv isolated environment...\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/dist-packages/build/__main__.py\", line 373, in main\r\n    args.srcdir, outdir, distributions, config_settings, not args.no_isolation, args.skip_dependency_check\r\n  File \"/usr/local/lib/python3.7/dist-packages/build/__main__.py\", line 202, in build_package\r\n    out = _build(isolation, builder, outdir, distribution, config_settings, skip_dependency_check)\r\n  File \"/usr/local/lib/python3.7/dist-packages/build/__main__.py\", line 140, in _build\r\n    return _build_in_isolated_env(builder, outdir, distribution, config_settings)\r\n  File \"/usr/local/lib/python3.7/dist-packages/build/__main__.py\", line 104, in _build_in_isolated_env\r\n    with _IsolatedEnvBuilder() as env:\r\n  File \"/usr/local/lib/python3.7/dist-packages/build/env.py\", line 104, in __enter__\r\n    executable, scripts_dir = _create_isolated_env_venv(self._path)\r\n  File \"/usr/local/lib/python3.7/dist-packages/build/env.py\", line 257, in _create_isolated_env_venv\r\n    venv.EnvBuilder(with_pip=True, symlinks=_fs_supports_symlink()).create(path)\r\n  File \"/usr/lib/python3.7/venv/__init__.py\", line 68, in create\r\n    self._setup_pip(context)\r\n  File \"/usr/lib/python3.7/venv/__init__.py\", line 288, in _setup_pip\r\n    subprocess.check_output(cmd, stderr=subprocess.STDOUT)\r\n  File \"/usr/lib/python3.7/subprocess.py\", line 411, in check_output\r\n    **kwargs).stdout\r\n  File \"/usr/lib/python3.7/subprocess.py\", line 512, in run\r\n    output=stdout, stderr=stderr)\r\nsubprocess.CalledProcessError: Command '['/tmp/build-env-ewrr5k1k/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1.\r\n\r\nERROR Command '['/tmp/build-env-ewrr5k1k/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1.\r\nProcessing /content/sktime\r\n  DEPRECATION: A future pip version will change local packages to be built in-place without first copying to a temporary directory. We recommend you use --use-feature=in-tree-build to test your packages with this new behavior before it becomes the default.\r\n   pip 21.3 will remove support for this functionality. You can find discussion regarding this at https://github.com/pypa/pip/issues/7555.\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n    Preparing wheel metadata ... error\r\nWARNING: Discarding file:///content/sktime. Command errored out with exit status 1: /usr/bin/python3 /usr/local/lib/python3.7/dist-packages/pip/_vendor/pep517/in_process/_in_process.py prepare_metadata_for_build_wheel /tmp/tmprcu0d1h7 Check the logs for full command output.\r\nERROR: Command errored out with exit status 1: /usr/bin/python3 /usr/local/lib/python3.7/dist-packages/pip/_vendor/pep517/in_process/_in_process.py prepare_metadata_for_build_wheel /tmp/tmprcu0d1h7 Check the logs for full command output.\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2317", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2317/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2317/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2317/events", "html_url": "https://github.com/sktime/sktime/issues/2317", "id": 1182511731, "node_id": "I_kwDOCVKAsc5Ge7Jz", "number": 2317, "title": "[BUG] ForecastingPipeline does not implement `predict_quantiles` or `predict_interval`", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2022-03-27T12:29:36Z", "updated_at": "2022-04-04T09:28:26Z", "closed_at": "2022-04-04T09:28:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using a `ForecastingPipeline`, the checks for prediction interval need to be based on the final forecaster in the pipeline but currently this does not seem to be the case.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.compose import ForecastingPipeline\r\nfrom sktime.transformations.series.impute import Imputer\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\n\r\ny, X = load_longley()\r\ny_train, _, X_train, X_test = temporal_train_test_split(y, X)\r\nfh = ForecastingHorizon(X_test.index, is_relative=False)\r\n\r\n# This works ----\r\nforecaster = ThetaForecaster()\r\nforecaster.fit(y_train, X_train, fh=fh)\r\nforecaster.predict_quantiles(X=X_test, alpha=[0.05, 0.5, 0.95])\r\n\r\n# But this does not ----\r\npipe = ForecastingPipeline(steps=[\r\n    (\"imputer\", Imputer()),\r\n    (\"forecaster\", ThetaForecaster())])\r\npipe.fit(y_train, X_train, fh=fh)\r\npipe.predict_quantiles(X=X_test, alpha=[0.05, 0.5, 0.95])\r\n```\r\n\r\n```python\r\nRuntimeError: ForecastingPipeline does not implement probabilistic forecasting, but \"capability:pred_int\" flag has been set to True incorrectly. This is likely a bug, please report, and/or set the flag to False.\r\n```\r\n\r\n**Expected behavior**\r\nWould have expected the `ForecastingPipeline` to look at the underlying `ThetaForcester` for capability and run to completion i.e. produce the same results as `forecaster.predict_quantiles(X=X_test, alpha=[0.05, 0.5, 0.95])`. \r\n\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.13 (default, Mar 16 2022, 17:37:17)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.144+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.11.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.4.1\r\n       pandas: 1.3.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2316", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2316/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2316/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2316/events", "html_url": "https://github.com/sktime/sktime/pull/2316", "id": 1182442911, "node_id": "PR_kwDOCVKAsc41GwrW", "number": 2316, "title": "[BUG][ENH] WindowSummarizer offset fix, easier lag specification", "user": {"login": "danbartl", "id": 19947407, "node_id": "MDQ6VXNlcjE5OTQ3NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/19947407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danbartl", "html_url": "https://github.com/danbartl", "followers_url": "https://api.github.com/users/danbartl/followers", "following_url": "https://api.github.com/users/danbartl/following{/other_user}", "gists_url": "https://api.github.com/users/danbartl/gists{/gist_id}", "starred_url": "https://api.github.com/users/danbartl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danbartl/subscriptions", "organizations_url": "https://api.github.com/users/danbartl/orgs", "repos_url": "https://api.github.com/users/danbartl/repos", "events_url": "https://api.github.com/users/danbartl/events{/privacy}", "received_events_url": "https://api.github.com/users/danbartl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-27T08:33:37Z", "updated_at": "2022-04-02T23:14:54Z", "closed_at": "2022-04-02T23:14:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2316", "html_url": "https://github.com/sktime/sktime/pull/2316", "diff_url": "https://github.com/sktime/sktime/pull/2316.diff", "patch_url": "https://github.com/sktime/sktime/pull/2316.patch", "merged_at": "2022-04-02T23:14:54Z"}, "body": "WindowSummarizer notation was changed after discussion with @fkiraly.\r\n\r\nOld notation:\r\n\r\nExample function to bused:\r\n```\r\ndef cnt_gt10(x):\r\n    \"\"\"Count how many observations lie above threshold 100.\"\"\"\r\n    return np.sum((x > 10)[::-1])\r\n```\r\n```\r\nkwargs = {\r\n        \"lag_config\": {\r\n             \"lag\": [\"lag\", [[1, 0], [2, 0]]],\r\n             \"mean\": [\"mean\", [[3, 0], [12, 0]]],\r\n             cnt_gt10: [\"cnt_gt10\", [[4, 0]]],\r\n         }\r\n}\r\n```\r\nNew notation:\r\n\r\n```\r\nkwargs = {\r\n        \"lag_feature\": {\r\n             \"lag\": [1, 2],\r\n             \"mean\": [[1, 3], [1, 12]],\r\n             cnt_gt10: [[1, 4]],\r\n         }\r\n}\r\n```\r\n\r\nMain changes:\r\nx Special logic for lag: no need to specify window length, only starting_at\r\nx starting_at and window_length are reversed\r\nx Name is now identically to function defintion / name of function\r\nx starting_at  notation is different now. Used to be [0] for first lag, but is [1] now again.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2316/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2313", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2313/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2313/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2313/events", "html_url": "https://github.com/sktime/sktime/issues/2313", "id": 1182186821, "node_id": "I_kwDOCVKAsc5Gdr1F", "number": 2313, "title": "[ENH] correct capability tags in classifier pipelines, forecasting pipelines, etc", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}, {"id": 3796180314, "node_id": "LA_kwDOCVKAsc7iRR1a", "url": "https://api.github.com/repos/sktime/sktime/labels/enhancement", "name": "enhancement", "color": "fef2c0", "default": true, "description": "Adding new functionality"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-27T00:00:01Z", "updated_at": "2022-04-05T18:24:54Z", "closed_at": "2022-04-05T18:24:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The following case in pipeline building is currently not handled correctly:\r\n\r\nSuppose we build a pipeline with transformers that ensure the output is equally spaced and has no missing data (e.g., imputer, and padder).\r\nThen, the resulting pipeline should know that it can deal with missing and unequally spaced data, even if the last components cannot.\r\n\r\nCurrently, this would result in an error being thrown by the pipeline constructed.\r\n\r\nThe deeper problem is that there is no way to query the information that the output of a transformer is ensured to be equally spaced, or without missing data. The natural solution would be introducing tags for that, e.g., `ensures_output:equally_spaced` or similar.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2312", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2312/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2312/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2312/events", "html_url": "https://github.com/sktime/sktime/issues/2312", "id": 1182173501, "node_id": "I_kwDOCVKAsc5Gdok9", "number": 2312, "title": "[BUG]  ColumnEnsembleClassifier throws `ValueError: The data has unequal length series` when using an estimator that supports unequal lengths", "user": {"login": "jyviko", "id": 2501648, "node_id": "MDQ6VXNlcjI1MDE2NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/2501648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyviko", "html_url": "https://github.com/jyviko", "followers_url": "https://api.github.com/users/jyviko/followers", "following_url": "https://api.github.com/users/jyviko/following{/other_user}", "gists_url": "https://api.github.com/users/jyviko/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyviko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyviko/subscriptions", "organizations_url": "https://api.github.com/users/jyviko/orgs", "repos_url": "https://api.github.com/users/jyviko/repos", "events_url": "https://api.github.com/users/jyviko/events{/privacy}", "received_events_url": "https://api.github.com/users/jyviko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-03-26T23:29:11Z", "updated_at": "2022-04-21T10:04:11Z", "closed_at": "2022-04-21T10:04:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n`ColumnEnsembleClassifier` complains when adding estimators that have unequal lengths. For example I am using a `TimeSeriesForestClassifier` classifier with unequal lengths and I am getting:\r\n`ValueError: The data has unequal length series, this classifier cannot handle unequal length series`\r\n\r\n**To Reproduce**\r\n\r\n\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\n#sktime\r\nfrom sktime.classification.compose import ColumnEnsembleClassifier\r\nfrom sktime.classification.interval_based import TimeSeriesForestClassifier\r\na = pd.Series(np.arange(100,200))\r\nb = pd.Series(np.arange(200,500))\r\nc = pd.Series(np.arange(500,550))\r\n\r\n\r\nX = pd.DataFrame({'x': [a,b,c], 'y': [2*a,3*b,4*c]})\r\ny = np.array([1,2,3])\r\n\r\nclf = ColumnEnsembleClassifier(\r\n    estimators=[\r\n        (\"TDE0\", TimeSeriesForestClassifier(), [0]),\r\n        (\"TDE1\", TimeSeriesForestClassifier(), [1]),\r\n    ],\r\n    verbose=True,\r\n)\r\nclf.fit(X,y)\r\n```\r\nThe above throws:\r\n```\r\nValueError: The data has unequal length series, this classifier cannot handle unequal length series\r\n```\r\n**Additional context**\r\nWhen adding: \r\n``` python\r\nclf.set_tags(**{\"capability:unequal_length\": True})\r\n```\r\nbefore clf.fit we get:\r\n``` python\r\nValueError: all input arrays must have the same shape\r\n```\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.9.10 (main, Jan 15 2022, 11:48:04)  [Clang 13.0.0 (clang-1300.0.29.3)]\r\nexecutable: /Users/kourtis/Sources/shotgun/venv/bin/python\r\n   machine: macOS-12.2.1-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.0.4\r\n   setuptools: 59.2.0\r\n      sklearn: 1.0.1\r\n       sktime: 0.10.1\r\n  statsmodels: 0.13.1\r\n        numpy: 1.21.5\r\n        scipy: 1.7.2\r\n       pandas: 1.1.5\r\n   matplotlib: 3.5.0\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: None\r\n      tsfresh: 0.18.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2297", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2297/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2297/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2297/events", "html_url": "https://github.com/sktime/sktime/issues/2297", "id": 1180003506, "node_id": "I_kwDOCVKAsc5GVWyy", "number": 2297, "title": "[BUG] readthedocs CI failure - module 'jinja2.utils' has no attribute 'escape'", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-24T20:10:57Z", "updated_at": "2022-03-28T12:40:24Z", "closed_at": "2022-03-28T12:40:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since recently, all readthedocs builds seem to fail with the message `module 'jinja2.utils' has no attribute 'escape'`\r\n\r\nThe source is `nbconvert` and @aiwalter has opened an issue:\r\nhttps://github.com/jupyter/nbconvert/issues/1736", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2291", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2291/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2291/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2291/events", "html_url": "https://github.com/sktime/sktime/issues/2291", "id": 1179604068, "node_id": "I_kwDOCVKAsc5GT1Rk", "number": 2291, "title": "[BUG] `update` of forecasting pipelines does not transform model", "user": {"login": "atsangarides", "id": 42976901, "node_id": "MDQ6VXNlcjQyOTc2OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/42976901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atsangarides", "html_url": "https://github.com/atsangarides", "followers_url": "https://api.github.com/users/atsangarides/followers", "following_url": "https://api.github.com/users/atsangarides/following{/other_user}", "gists_url": "https://api.github.com/users/atsangarides/gists{/gist_id}", "starred_url": "https://api.github.com/users/atsangarides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atsangarides/subscriptions", "organizations_url": "https://api.github.com/users/atsangarides/orgs", "repos_url": "https://api.github.com/users/atsangarides/repos", "events_url": "https://api.github.com/users/atsangarides/events{/privacy}", "received_events_url": "https://api.github.com/users/atsangarides/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2022-03-24T14:32:55Z", "updated_at": "2022-03-29T11:31:47Z", "closed_at": "2022-03-27T01:22:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Update by @fkiraly: the root cause of the below is, probably, forecasting pipelines not performing transform in the `update` method. Changed the title to reflect this.\r\n\r\n---\r\n\r\n**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n`update_predict_single` no longer refits the model in v0.10.1\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nforecast_horizon=24\r\ncov=0.95\r\npreds, conf_ints = model.update_predict_single(\r\n    y=y_new, X=None, \r\n    fh=np.arange(1, forecast_horizon+1),\r\n    update_params=True,\r\n    return_pred_int=True, alpha=1-cov\r\n)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThe model should be refitted when setting `update_params` to True. It seems like the property class `_y` attribute gets updated with the new observations, but the model is not refitted, and predictions returned are just longer forecasts of the originally trained model.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.11 (default, Jan 25 2022, 23:19:55)  [Clang 13.0.0 (clang-1300.0.29.3)]\r\nexecutable: /Users/tsangis/Projects/uk-ds-day-ahead-prices-forecast/venv/bin/python\r\n   machine: macOS-12.0.1-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 22.0.3\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0.2\r\n       sktime: 0.10.1\r\n  statsmodels: 0.13.1\r\n        numpy: 1.21.1\r\n        scipy: 1.7.3\r\n       pandas: 1.4.1\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.4\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2281", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2281/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2281/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2281/events", "html_url": "https://github.com/sktime/sktime/pull/2281", "id": 1177432203, "node_id": "PR_kwDOCVKAsc402MSF", "number": 2281, "title": "[BUG] fix conversion interval->quantiles in `BaseForecaster`, and fix `ARIMA.predict_interval`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-23T00:05:27Z", "updated_at": "2022-03-23T09:25:23Z", "closed_at": "2022-03-23T09:25:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2281", "html_url": "https://github.com/sktime/sktime/pull/2281", "diff_url": "https://github.com/sktime/sktime/pull/2281.diff", "patch_url": "https://github.com/sktime/sktime/pull/2281.patch", "merged_at": "2022-03-23T09:25:21Z"}, "body": "@ngupta, thank you for bringing this bug to our attention, this fixes https://github.com/alan-turing-institute/sktime/issues/2275.\r\n\r\nThere were three interacting bugs that are now fixed:\r\n\r\n* `BaseForecaster`'s default conversion of `predict_interval` to `predict_quantiles` was mathematically incorrect. It should have said `coverage = abs(1 - 2 * a)` but it said sth completely different. Not sure how that happened.\r\n* `BaseForecaster`'s default conversion of `predict_interval` to `predict_quantiles` could break on occasion when two (float/numerically) identical coverages were produced, due to non-unique indexing. This should be fixed now.\r\n* `ARIMA.predict_interval` was passing `coverage` as `alpha`, where `alpha` in `ARIMA` is in fact `1-coverage`. This has been fixed.\r\n\r\nSo, all should now hopefully be consistent. The example in #2275 now seems to return consistent results.\r\n\r\nAdding this to must haves for 0.11.0 since this seems quite critical (most `predict_quantiles` functions are broken, and `predict_interval` from `pmdarima`).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2281/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2275", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2275/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2275/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2275/events", "html_url": "https://github.com/sktime/sktime/issues/2275", "id": 1176594677, "node_id": "I_kwDOCVKAsc5GIWj1", "number": 2275, "title": "[BUG] `ARIMA`, `ThetaForecaster`, `AutoETS`: `predict_interval` & `predict_coverage` give counterintuitive results", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-22T10:43:29Z", "updated_at": "2022-03-23T09:25:21Z", "closed_at": "2022-03-23T09:25:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nSome of these may be bugs and some may just need clarification.\r\n\r\n1. ARIMA `predict_interval` produces wider intervals for lower coverage level compared to the higher coverage level\r\n2. Quantile to alpha conversion seems to be inconsistent.\r\n3. AutoETS predictions do not match the 50% quantile from `predict_quantiles`\r\n4. Coverage to quantile conversion seems to be inconsistent.\r\n\r\n**To Reproduce**\r\n\r\nThe entire code can be found here: https://gist.github.com/ngupta23/ab7e003de06ae5b919937c31b2bad179 with snippets below\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import ARIMA\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\ny = load_airline()\r\n```\r\n\r\n## ARIMA \r\n```python\r\nforecaster = ARIMA(order=(1, 1, 0), seasonal_order=(0, 1, 0, 12))\r\nforecaster.fit(y, fh=[1,2,3])\r\n\r\nforecaster.predict(return_pred_int=True, alpha=0.05)\r\nforecaster.predict_quantiles(alpha=[0.025, 0.05, 0.1, 0.5, 0.9, 0.95, 0.975])\r\nforecaster.predict_interval(coverage=[0.8, 0.9, 0.95])\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159455224-202b4135-b20f-47ca-a8ac-88f4d1bbb018.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159455256-2121c932-25fa-4657-a38e-820191d97239.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159455279-3729d87e-9ada-45bd-a2aa-0ee8b3af6fc8.png)\r\n\r\n### Observations\r\n\r\n1. The 0.5 quantile from `predict_quantiles` matches with the forecast from `predict`. (Check pass)\r\n2. ARIMA `predict_interval` produces wider intervals for lower coverage levels compared to the higher coverage level (Seems like a bug).\r\n3. Intervals returned from `predict` with alpha = 0.05 seems to correspond to Quantiles = [0.025, 0.975] which is counter to this comment. Some clarification would be helpful) - https://github.com/alan-turing-institute/sktime/issues/2134#issuecomment-1049853020\r\n\r\n> The \"old\" DEFAULT_ALPHA of 0.05 (alpha_low above) corresponds to a coverage of 0.9, and quantile points alpha_low = 0.05, alpha_high = 0.95.\r\n\r\n4. Coverage of 0.9 does not match quantiles [0.05, 0.95]. Coverage of 0.95 does not match quantiles [0.025, 0.975]. (seems like a bug)\r\n\r\n## Theta\r\n\r\n```python\r\nforecaster = ThetaForecaster(sp=12)\r\nforecaster.fit(y, fh=[1,2,3])\r\n\r\nforecaster.predict(fh=[1,2,3], return_pred_int=True, alpha=0.05)\r\nforecaster.predict_quantiles(alpha=[0.025, 0.05, 0.1, 0.5, 0.9, 0.95, 0.975])\r\nforecaster.predict_interval(coverage=[0.8, 0.9, 0.95])\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159455827-892200b8-1ff2-497b-88c2-f773715eacae.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159455848-abfa42ce-0c3c-4126-80ad-dd2e674a1893.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159455895-32a32aae-ca44-4673-9cb2-29766d39b010.png)\r\n\r\n\r\n### Observations\r\n\r\n1. The 0.5 quantile from `predict_quantiles` matches with the forecast from `predict`. (Check pass)\r\n2. ThetaForecaster `predict_interval` produces narrower intervals for lower coverage levels compared to the higher coverage level (Check pass).\r\n3. Intervals returned from `predict` with alpha = 0.05 do not seem to correspond to any of the expected quantile levels (seems like a bug in one of the methods)\r\n\r\n> The \"old\" DEFAULT_ALPHA of 0.05 (alpha_low above) corresponds to a coverage of 0.9, and quantile points alpha_low = 0.05, alpha_high = 0.95.\r\n\r\n4. Coverage of 0.9 matches quantiles [0.05, 0.95] (pass)\r\n\r\n\r\n\r\n## AutoETS\r\n\r\n```python\r\nforecaster = AutoETS(auto=True, n_jobs=-1, sp=12)\r\nforecaster.fit(y, fh=[1,2,3])\r\n\r\nforecaster.predict(fh=[1,2,3], return_pred_int=True, alpha=0.05)\r\nforecaster.predict_quantiles(alpha=[0.025, 0.05, 0.1, 0.5, 0.9, 0.95, 0.975])\r\nforecaster.predict_interval(coverage=[0.8, 0.9, 0.95])\r\n```\r\n![image](https://user-images.githubusercontent.com/33585645/159460483-84747439-bbc5-41d3-96b2-201ce21ac36b.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159460589-cc38001e-bdd5-4d53-b616-083ea3cb8ade.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/159460690-5936a778-2b24-4507-9200-8c313eed2b25.png)\r\n\r\n### Observations\r\n\r\n1. The 0.5 quantile from `predict_quantiles` does not match with the forecast from `predict`. (Seems like a bug when compared to other models above)\r\n2. AutoETS `predict_interval` produces narrower intervals for lower coverage levels compared to the higher coverage level (Check pass).\r\n3. Intervals returned from `predict` with alpha = 0.05 do not seem to correspond to any of the expected quantile levels (seems like a bug in one of the methods)\r\n\r\n> The \"old\" DEFAULT_ALPHA of 0.05 (alpha_low above) corresponds to a coverage of 0.9, and quantile points alpha_low = 0.05, alpha_high = 0.95.\r\n\r\n4. Coverage of 0.9 does not match quantiles [0.05, 0.95]. Coverage of 0.95 does not match quantiles [0.025, 0.975].  (seems like a bug)\r\n\r\n**Expected behavior**\r\nConsistent behavior across the various forecasters.\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.12 (default, Jan 15 2022, 18:48:18)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.144+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.10.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.4.1\r\n       pandas: 1.3.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2260", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2260/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2260/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2260/events", "html_url": "https://github.com/sktime/sktime/pull/2260", "id": 1174584340, "node_id": "PR_kwDOCVKAsc40s7xP", "number": 2260, "title": "[BUG] fixing `STLBootstrapTransformer` error message and docstrings", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-20T15:20:42Z", "updated_at": "2022-03-21T10:59:43Z", "closed_at": "2022-03-21T10:59:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2260", "html_url": "https://github.com/sktime/sktime/pull/2260", "diff_url": "https://github.com/sktime/sktime/pull/2260.diff", "patch_url": "https://github.com/sktime/sktime/pull/2260.patch", "merged_at": "2022-03-21T10:59:42Z"}, "body": "This PR fixes an error message and docstrings in `STLBootstrapTransformer`.\r\n\r\n@ltsaprounis, can you kindly check whether the error message regarding `sp` is correct now?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2260/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2259", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2259/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2259/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2259/events", "html_url": "https://github.com/sktime/sktime/pull/2259", "id": 1174556592, "node_id": "PR_kwDOCVKAsc40s30I", "number": 2259, "title": "[BUG] `TSInterpolator` and `nested_univ` check fix", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-20T13:56:39Z", "updated_at": "2022-04-02T11:49:12Z", "closed_at": "2022-04-02T11:49:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2259", "html_url": "https://github.com/sktime/sktime/pull/2259", "diff_url": "https://github.com/sktime/sktime/pull/2259.diff", "patch_url": "https://github.com/sktime/sktime/pull/2259.patch", "merged_at": "2022-04-02T11:49:11Z"}, "body": "This PR resolved a bug detected through the refactor of the transformers tests in #2522:\r\n* the `nested_univ` checking logic allowed entries of the `pd.DataFrame` to be `np.ndarray`, in contrast to the specification. This has been restricted to `pd.Series`, as specified.\r\n* `TSInterpolator` returned a `pd.DataFrame` filled with `np.ndarray`, this has been changed to a `nested_univ` compliant return, i.e., `pd.DataFrame` filled with `pd.Series`\r\n\r\nThe fix seems to have uncovered that `PlateauFinder` was broken, see #2263, which is hence excluded from the tests.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2259/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2240", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2240/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2240/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2240/events", "html_url": "https://github.com/sktime/sktime/issues/2240", "id": 1172924737, "node_id": "I_kwDOCVKAsc5F6WlB", "number": 2240, "title": "[BUG] StratifiedGroupKFold import breaks pytest discovery", "user": {"login": "GuzalBulatova", "id": 73598322, "node_id": "MDQ6VXNlcjczNTk4MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/73598322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuzalBulatova", "html_url": "https://github.com/GuzalBulatova", "followers_url": "https://api.github.com/users/GuzalBulatova/followers", "following_url": "https://api.github.com/users/GuzalBulatova/following{/other_user}", "gists_url": "https://api.github.com/users/GuzalBulatova/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuzalBulatova/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuzalBulatova/subscriptions", "organizations_url": "https://api.github.com/users/GuzalBulatova/orgs", "repos_url": "https://api.github.com/users/GuzalBulatova/repos", "events_url": "https://api.github.com/users/GuzalBulatova/events{/privacy}", "received_events_url": "https://api.github.com/users/GuzalBulatova/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-03-17T21:12:29Z", "updated_at": "2022-03-18T16:58:32Z", "closed_at": "2022-03-18T16:58:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nPytest discovery fails at `sktime/classification/tests/test_sklearn_compatability.py` when importing 'StratifiedGroupKFold' from 'sklearn.model_selection'\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\npytest discovery\r\n```python\r\nconda run python /Users/user/.vscode/extensions/ms-python.python-2022.0.1814523869/pythonFiles/get_output_via_markers.py /Users/user/.vscode/extensions/ms-python.python-2022.0.1814523869/pythonFiles/testing_tools/run_adapter.py discover pytest -- --rootdir /Users/user/dev/sktime -s --cache-clear\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nExpected not to get \r\n```python\r\nsktime/classification/tests/test_sklearn_compatability.py:17: in <module>\r\n    from sklearn.model_selection import (\r\nE   ImportError: cannot import name 'StratifiedGroupKFold' from 'sklearn.model_selection'\r\n```\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n`StratifiedGroupKFold` is introduced in the latest stable version of sklearn (1.0.2). Sktime requires version 0.24.0 or higher, but if I install 1.0.2 then other tests (testing sklearn version) fail.\r\nTemporary solution: comment out the import and use of `StratifiedGroupKFold` in `sktime/classification/tests/test_sklearn_compatability.py`\r\n\r\n**Versions**\r\nmain commit 88c08e92c058b9c83322646744ec0241e2dcaaf5\r\n<details>\r\n\r\n\r\nSystem:\r\n    python: 3.8.10 (default, May 19 2021, 11:01:55)  [Clang 10.0.0 ]\r\nexecutable: /Users/user/opt/anaconda3/envs/sktime-dev/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.10.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.21.2\r\n        scipy: 1.7.1\r\n       pandas: 1.3.4\r\n   matplotlib: 3.4.2\r\n       joblib: 1.1.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.2\r\n      tsfresh: 0.18.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2230", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2230/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2230/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2230/events", "html_url": "https://github.com/sktime/sktime/pull/2230", "id": 1169701237, "node_id": "PR_kwDOCVKAsc40dt4d", "number": 2230, "title": "[BUG] fixed ignores-exogeneous-X tag for forecasting reducers", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-15T13:48:33Z", "updated_at": "2022-03-15T16:48:07Z", "closed_at": "2022-03-15T16:48:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2230", "html_url": "https://github.com/sktime/sktime/pull/2230", "diff_url": "https://github.com/sktime/sktime/pull/2230.diff", "patch_url": "https://github.com/sktime/sktime/pull/2230.patch", "merged_at": "2022-03-15T16:48:05Z"}, "body": "This PR fixes the `ignores-exogeneous-X` for reducers which seems to have been set incorrectly - it should be `False` since the `X` argument is being used in a non-trivial way, internally.\r\n\r\nSee https://github.com/alan-turing-institute/sktime/discussions/2184\r\n\r\nFYI @ngupta23.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2230/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2230/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2217", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2217/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2217/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2217/events", "html_url": "https://github.com/sktime/sktime/pull/2217", "id": 1167629289, "node_id": "PR_kwDOCVKAsc40W7LK", "number": 2217, "title": "[BUG] fix wrong output type of `PaddingTransformer._transform`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-13T16:34:36Z", "updated_at": "2022-03-14T13:12:57Z", "closed_at": "2022-03-14T13:12:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2217", "html_url": "https://github.com/sktime/sktime/pull/2217", "diff_url": "https://github.com/sktime/sktime/pull/2217.diff", "patch_url": "https://github.com/sktime/sktime/pull/2217.patch", "merged_at": "2022-03-14T13:12:56Z"}, "body": "The `PaddingTransformer.transform` function was returning an incorrect return type: `np.ndarray` nested into `pd.DataFrame`, instead of `pd.Series` nested into `pd.DataFrame` (only the latter is a supported sktime `Panel` type).\r\n\r\nThis has been fixed.\r\n\r\nHaving said that: the `pandas` based logic itself could be more elegant, but I decided to create a quick fix only, not a full refactor.\r\nFYI @ABostrom who is listed as the author.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2217/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2216", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2216/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2216/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2216/events", "html_url": "https://github.com/sktime/sktime/pull/2216", "id": 1167625171, "node_id": "PR_kwDOCVKAsc40W6Yv", "number": 2216, "title": "[BUG] fixing nested_dataframe_has_nans", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-13T16:17:41Z", "updated_at": "2022-03-14T13:13:38Z", "closed_at": "2022-03-14T13:13:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2216", "html_url": "https://github.com/sktime/sktime/pull/2216", "diff_url": "https://github.com/sktime/sktime/pull/2216.diff", "patch_url": "https://github.com/sktime/sktime/pull/2216.patch", "merged_at": "2022-03-14T13:13:38Z"}, "body": "This PR fixes the following semi-reported bug (by @TonyBagnall on slack)\r\n\r\nThe `_nested_dataframe_has_nans` utility function did not work for nested data frames where index was not integer starting at zero - fixed replacing `loc` indexing by `iloc`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2216/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2213", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2213/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2213/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2213/events", "html_url": "https://github.com/sktime/sktime/issues/2213", "id": 1167556994, "node_id": "I_kwDOCVKAsc5Fl4GC", "number": 2213, "title": "[BUG] Benchmark of HC2 and HC1 do not match paper results", "user": {"login": "baraline", "id": 10759117, "node_id": "MDQ6VXNlcjEwNzU5MTE3", "avatar_url": "https://avatars.githubusercontent.com/u/10759117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baraline", "html_url": "https://github.com/baraline", "followers_url": "https://api.github.com/users/baraline/followers", "following_url": "https://api.github.com/users/baraline/following{/other_user}", "gists_url": "https://api.github.com/users/baraline/gists{/gist_id}", "starred_url": "https://api.github.com/users/baraline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baraline/subscriptions", "organizations_url": "https://api.github.com/users/baraline/orgs", "repos_url": "https://api.github.com/users/baraline/repos", "events_url": "https://api.github.com/users/baraline/events{/privacy}", "received_events_url": "https://api.github.com/users/baraline/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-03-13T11:45:05Z", "updated_at": "2022-03-18T10:08:06Z", "closed_at": "2022-03-18T10:08:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI'm currently running experiments and benchmarking the performance of multiple algorithms used in the SoTA of TSC. During those experiments, i'm consistently getting the results that HC2 is slower than HC1 (using default parameters for both), which contradict the results given in the paper presenting HC2. That is, trying on multiple datasets, with and without using n_jobs>1.\r\n\r\nIs this an expected behavior due to some work in progress or something wrong on my side ?\r\n\r\nExample results on the Crop dataset with varying number of samples:\r\n\r\n|n_samples|RDST              |Rocket            |DrCIF             |HC1              |HC2               |STC              |RDST_std            |Rocket_std          |DrCIF_std         |HC1_std           |STC_std            |HC2_std           |\r\n|------|------------------|------------------|------------------|-----------------|------------------|-----------------|--------------------|--------------------|------------------|------------------|-------------------|------------------|\r\n|225   |0.8935474371537566|0.4801460364833474|18.577583170495927|7848.464765178971|8959.079658895731 |86.56675709038973|0.04171504359692335 |0.010750255547463894|0.3076158696785569|4.683004071004689 |0.43590452894568443|25.00064292922616 |\r\n|450   |1.6947628241032362|0.8065409753471613|24.938918606378138|8360.594130783342|10547.514885107055|243.3796755867079|0.02757885307073593 |0.055771343410015106|0.2900445992127061|18.76490328181535 |1.9626950984820724 |43.63670677691698 |\r\n|675   |2.320853997953236 |0.9106023721396923|44.63115615211427 |8971.236895166337|12217.335100212134|430.5591306462884|0.028325325809419155|0.008519411087036133|1.7223147563636303|35.296641977503896|0.5699807498604059 |29.104480856098235|\r\n\r\n\r\nThe code used to produce my benchmark can be found here :\r\nhttps://github.com/baraline/convst/blob/main/PaperScripts/benchmark.py\r\n\r\nThe system i'm running the experiments on :\r\nDELL PowerEdge R730 on Debian 9 with 2 XEON E5-2630 Corei7 (92 cores) and 64GB of RAM\r\n\r\nSktime version : 0.10.1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2213/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2206", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2206/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2206/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2206/events", "html_url": "https://github.com/sktime/sktime/issues/2206", "id": 1167382411, "node_id": "I_kwDOCVKAsc5FlNeL", "number": 2206, "title": "[BUG] Incorrect tag: `ignores-exogeneous-X` for Reduced Regression Models?", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-12T19:53:12Z", "updated_at": "2022-03-15T16:48:05Z", "closed_at": "2022-03-15T16:48:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe tags for Reduced Regression models seem to indicate that they do not support exogenous variables. But when I run the snippet of code below, I clearly see the difference in results based on whether exogenous variables are passed or not. \r\n\r\nDoes the tag reflect the correct behavior?\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.datasets import load_longley\r\nfrom sktime.forecasting.compose import TransformedTargetForecaster, make_reduction\r\nfrom sklearn.linear_model import LinearRegression\r\n\r\ny, X = load_longley()\r\nfh=[1, 2, 3, 4]\r\n\r\nforecaster = make_reduction(estimator=LinearRegression(), scitype=\"tabular-regressor\", window_length=12, strategy=\"recursive\")\r\nprint(forecaster)\r\nprint(f\"Ignores X: {forecaster.get_tag('ignores-exogeneous-X')}\\n\\n\")\r\n\r\n#### With Exogenous ----\r\nforecaster.fit(y, X, fh=fh)\r\npreds = forecaster.predict(X=X[-4:])\r\nprint(f\"Predictions with Exogenous:\\n {preds}\\n\")\r\n\r\n#### Without Exogenous ----\r\nforecaster = make_reduction(estimator=LinearRegression(), scitype=\"tabular-regressor\", window_length=12, strategy=\"recursive\")\r\nforecaster.fit(y, fh=fh)\r\npreds = forecaster.predict()\r\nprint(f\"Predictions without Exogenous:\\n {preds}\\n\")\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/158032777-1325e773-6152-45d5-b3a8-f7983a33d4db.png)\r\n\r\n\r\n\r\n**Expected behavior**\r\nI would have expected the model to utilize exogenous variables appropriately as it is nothing but a regression model. So the behavior seems to be ok, but the tag seems to be incorrect.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.7.12 (default, Jan 15 2022, 18:48:18)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.144+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.2\r\n       sktime: 0.10.1\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.4.1\r\n       pandas: 1.3.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.55.1\r\n     pmdarima: 1.8.5\r\n      tsfresh: None", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2204", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2204/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2204/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2204/events", "html_url": "https://github.com/sktime/sktime/issues/2204", "id": 1167326878, "node_id": "I_kwDOCVKAsc5Fk_6e", "number": 2204, "title": "[BUG] ARIMA handles missing data but tag states otherwise", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-03-12T16:03:27Z", "updated_at": "2022-04-09T14:21:04Z", "closed_at": "2022-04-09T14:21:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The tag in ARIMA model indicates that it does not handle missing data (`'handles-missing-data': False`), but it is able to produce forecasts. Should the tag be changed?\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\ny = load_airline()\r\n\r\ny_missing = y.copy()\r\ny_missing[2] = np.nan # Just 1 missing value\r\n\r\nfrom sktime.forecasting.arima import ARIMA\r\nforecaster = ARIMA(\r\n    order=(1, 1, 0),\r\n    seasonal_order=(0, 1, 0, 12),\r\n    suppress_warnings=True)\r\nprint(forecaster.get_tags())\r\nforecaster.fit(y_missing)\r\ny_pred = forecaster.predict(fh=[1,2,3])\r\ny_pred\r\n```\r\n\r\n```python\r\n{'scitype:y': 'univariate', 'ignores-exogeneous-X': False, 'capability:pred_int': True, 'handles-missing-data': False, 'y_inner_mtype': 'pd.Series', 'X_inner_mtype': 'pd.DataFrame', 'requires-fh-in-fit': False, 'X-y-must-have-same-index': True, 'enforce_index_type': None}\r\n1961-01    444.541344\r\n1961-02    418.603889\r\n1961-03    446.815167\r\nFreq: M, dtype: float64\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2196", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2196/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2196/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2196/events", "html_url": "https://github.com/sktime/sktime/pull/2196", "id": 1166706811, "node_id": "PR_kwDOCVKAsc40UHVX", "number": 2196, "title": "_make_hierachical is renamed to _make_hierarchical (typo/bug) issue #2195", "user": {"login": "Vasudeva-bit", "id": 70791259, "node_id": "MDQ6VXNlcjcwNzkxMjU5", "avatar_url": "https://avatars.githubusercontent.com/u/70791259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vasudeva-bit", "html_url": "https://github.com/Vasudeva-bit", "followers_url": "https://api.github.com/users/Vasudeva-bit/followers", "following_url": "https://api.github.com/users/Vasudeva-bit/following{/other_user}", "gists_url": "https://api.github.com/users/Vasudeva-bit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vasudeva-bit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vasudeva-bit/subscriptions", "organizations_url": "https://api.github.com/users/Vasudeva-bit/orgs", "repos_url": "https://api.github.com/users/Vasudeva-bit/repos", "events_url": "https://api.github.com/users/Vasudeva-bit/events{/privacy}", "received_events_url": "https://api.github.com/users/Vasudeva-bit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-11T18:03:29Z", "updated_at": "2022-03-21T22:09:08Z", "closed_at": "2022-03-11T20:22:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2196", "html_url": "https://github.com/sktime/sktime/pull/2196", "diff_url": "https://github.com/sktime/sktime/pull/2196.diff", "patch_url": "https://github.com/sktime/sktime/pull/2196.patch", "merged_at": "2022-03-11T20:22:58Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n<!--\r\nExample: Fixes #1234. See also #3456.\r\n\r\nPlease use keywords (e.g., Fixes) to create link to the issues or pull requests\r\nyou resolved, so that they will automatically be closed when your pull request\r\nis merged. See https://github.com/blog/1506-closing-issues-via-pull-requests\r\n-->\r\nFixes #2195 issue\r\n#### What does this implement/fix? Explain your changes.\r\n<!--\r\nA clear and concise description of what you have implemented.\r\n-->\r\n\"_make_hierachical\" is renamed to \"_make_hierarchical\" to avoid typo, it is renamed after the name of the file \"hierarchical.py\"\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\nNo new dependency is introduced\r\n#### What should a reviewer concentrate their feedback on?\r\nJust the name of the function\r\n<!-- This section is particularly useful if you have a pull request that is still in development. You can guide the reviews to focus on the parts that are ready for their comments. We suggest using bullets (indicated by * or -) and filled checkboxes [x] here -->\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [ ] I've added myself to the [list of contributors](https://github.com/alan-turing-institute/sktime/blob/main/.all-contributorsrc).\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2196/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2195", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2195/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2195/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2195/events", "html_url": "https://github.com/sktime/sktime/issues/2195", "id": 1166211891, "node_id": "I_kwDOCVKAsc5Fgvsz", "number": 2195, "title": "[BUG] rename `_make_hierachical` to `_make_hierarchical`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-11T09:49:35Z", "updated_at": "2022-03-11T20:22:58Z", "closed_at": "2022-03-11T20:22:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Not a bug strictly speaking, but at typo.\r\n\r\n`_make_hierachical` should be renamed to `_make_hierarchical`, since it's called \"hierarchical\" time series data, not \"hierachical\" time series data.\r\n\r\nShould happen before 0.11.0 where it can happen without deprecation.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2194", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2194/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2194/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2194/events", "html_url": "https://github.com/sktime/sktime/issues/2194", "id": 1166185110, "node_id": "I_kwDOCVKAsc5FgpKW", "number": 2194, "title": "[BUG] odd failure in `fh._coerce_to_period` that occurs only on windows, in context of hierarchical forecast", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-11T09:21:37Z", "updated_at": "2022-03-23T19:49:33Z", "closed_at": "2022-03-23T19:49:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When making hierarchical forecasts on default output of `_make_hierarchical`, `fh.coerce_to_period` fails, on a windows run:\r\nhttps://github.com/alan-turing-institute/sktime/runs/5503723513\r\n\r\nThis is quite strange, and I cannot reproduce the behaviour locally on my windows machine (python 3.8 or 3.9).\r\n\r\nIt looks like `freq` is not correctly preserved in subsetting from a hierarchical multi-index ... but only under specific conditions on a windows system???\r\n\r\nExpected behaviour: the test does not fail, just like on linux/max and as on my local system.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2193", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2193/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2193/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2193/events", "html_url": "https://github.com/sktime/sktime/pull/2193", "id": 1165683342, "node_id": "PR_kwDOCVKAsc40QwLb", "number": 2193, "title": "[BUG] Same cutoff typo-fix", "user": {"login": "cdahlin", "id": 1567780, "node_id": "MDQ6VXNlcjE1Njc3ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1567780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdahlin", "html_url": "https://github.com/cdahlin", "followers_url": "https://api.github.com/users/cdahlin/followers", "following_url": "https://api.github.com/users/cdahlin/following{/other_user}", "gists_url": "https://api.github.com/users/cdahlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdahlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdahlin/subscriptions", "organizations_url": "https://api.github.com/users/cdahlin/orgs", "repos_url": "https://api.github.com/users/cdahlin/repos", "events_url": "https://api.github.com/users/cdahlin/events{/privacy}", "received_events_url": "https://api.github.com/users/cdahlin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-10T20:25:09Z", "updated_at": "2022-03-21T22:09:34Z", "closed_at": "2022-03-10T22:34:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2193", "html_url": "https://github.com/sktime/sktime/pull/2193", "diff_url": "https://github.com/sktime/sktime/pull/2193.diff", "patch_url": "https://github.com/sktime/sktime/pull/2193.patch", "merged_at": "2022-03-10T22:34:03Z"}, "body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\nFixes #2192.\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\nRenamed three occurrences of the typo `same_cuttoff` in `_make_hierachical`, and one in a docstring of `test_oh_setting`.\r\n\r\nI could not find any other occurrences in the code base (`grep -rn '.' -e 'cuttoff'`).\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [x] I've added myself to the [list of contributors](https://github.com/alan-turing-institute/sktime/blob/main/.all-contributorsrc).\r\n- [x] I've added unit tests and made sure they pass locally.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2193/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2192", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2192/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2192/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2192/events", "html_url": "https://github.com/sktime/sktime/issues/2192", "id": 1165638310, "node_id": "I_kwDOCVKAsc5Fejqm", "number": 2192, "title": "[BUG] rename `same_cuttoff` to `same_cutoff` in `_make_hierachical`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-10T19:34:38Z", "updated_at": "2022-03-10T22:34:03Z", "closed_at": "2022-03-10T22:34:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Not a bug, strictly speaking, but a naming consistency problem.\r\n\r\n`same_cuttoff` should be renamed to `same_cutoff` in `_make_hierachical`, to be consistently named with `cutoff` in `BaseForecaster`.\r\n\r\nThis should be done before 0.11.0, where it can be done without deprecation.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2188", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2188/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2188/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2188/events", "html_url": "https://github.com/sktime/sktime/pull/2188", "id": 1164474161, "node_id": "PR_kwDOCVKAsc40MxYV", "number": 2188, "title": "[ENH][BUG] Testing vectorization for forecasters, plus various bugfixes", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-03-09T21:45:35Z", "updated_at": "2022-03-14T18:49:26Z", "closed_at": "2022-03-14T18:49:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2188", "html_url": "https://github.com/sktime/sktime/pull/2188", "diff_url": "https://github.com/sktime/sktime/pull/2188.diff", "patch_url": "https://github.com/sktime/sktime/pull/2188.patch", "merged_at": "2022-03-14T18:49:25Z"}, "body": "This PR contains a simple test for vectorization via `BaseForecaster`.\r\n\r\nThis PR also contains the following change:\r\n* relaxes the `pd-multiindex` mtype so the multiindex levels do not need to have particular names (from `\"instances\"` and `\"timepoints\"`)\r\n\r\nA number of bugs were uncovered, these were fixed:\r\n* the `_nested_dataframe_has_nans` utility function did not work for nested data frames where index was not integer starting at zero - fixed replacing `loc` indexing by `iloc`. Relies on PR #2216 where this is separated out.\r\n* a number of bugs around vectorization in `BaseForecaster` - it did not actually work.\r\n\r\nFYI @TonyBagnall about the first bug - I think you have seen it before?\r\nFYI @danbartl about the second bug. Vectorization now works as intended, at least for `Panel` input. Will add the `Hierarchical` test once @ltsaprounis's data generator is merged.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2188/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2185", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2185/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2185/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2185/events", "html_url": "https://github.com/sktime/sktime/issues/2185", "id": 1163932174, "node_id": "I_kwDOCVKAsc5FYDIO", "number": 2185, "title": "[BUG] doctest error in sktime.forecasting.model_selection._tune.ForecastingGridSearchCV", "user": {"login": "hmtbgc", "id": 32740258, "node_id": "MDQ6VXNlcjMyNzQwMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/32740258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hmtbgc", "html_url": "https://github.com/hmtbgc", "followers_url": "https://api.github.com/users/hmtbgc/followers", "following_url": "https://api.github.com/users/hmtbgc/following{/other_user}", "gists_url": "https://api.github.com/users/hmtbgc/gists{/gist_id}", "starred_url": "https://api.github.com/users/hmtbgc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hmtbgc/subscriptions", "organizations_url": "https://api.github.com/users/hmtbgc/orgs", "repos_url": "https://api.github.com/users/hmtbgc/repos", "events_url": "https://api.github.com/users/hmtbgc/events{/privacy}", "received_events_url": "https://api.github.com/users/hmtbgc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-03-09T13:20:44Z", "updated_at": "2023-04-28T13:58:51Z", "closed_at": "2023-04-28T13:58:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nThere is a ValueError in doctest for sktime.forecasting.model_selection._tune.ForecastingGridSearchCV\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n\r\n\r\n```python\r\ncd sktime/sktime/forecasting/model_selection\r\npytest _tune.py\r\n```\r\nOutput:\r\n```\r\nplatform linux -- Python 3.8.12, pytest-7.0.1, pluggy-1.0.0\r\nrootdir: /root/sktime_dev/sktime, configfile: setup.cfg\r\nplugins: cov-3.0.0, xdist-2.5.0, forked-1.4.0\r\ncollected 1 item                                                                                                    \r\n\r\n_tune.py F                                                                                                    [100%]\r\n\r\n===================================================== FAILURES ======================================================\r\n____________________ [doctest] sktime.forecasting.model_selection._tune.ForecastingGridSearchCV _____________________\r\n421     ...     },\r\n422     ...     {\r\n423     ...         \"imputer__method\": [\"mean\", \"last\"],\r\n424     ...         \"forecaster\": [ExponentialSmoothing(sp=12)],\r\n425     ...         \"forecaster__trend\": [\"add\", \"mul\"],\r\n426     ...     },\r\n427     ...     ],\r\n428     ...     cv=cv,\r\n429     ...     n_jobs=-1)\r\n430     >>> gscv.fit(y)\r\nUNEXPECTED EXCEPTION: ValueError(\"Input contains NaN, infinity or a value too large for dtype('float64').\")\r\njoblib.externals.loky.process_executor._RemoteTraceback: \r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/externals/loky/process_executor.py\", line 436, in _process_worker\r\n    r = call_item()\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/externals/loky/process_executor.py\", line 288, in __call__\r\n    return self.fn(*self.args, **self.kwargs)\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/_parallel_backends.py\", line 595, in __call__\r\n    return self.func(*args, **kwargs)\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/parallel.py\", line 262, in __call__\r\n    return [func(*args, **kwargs)\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/parallel.py\", line 262, in <listcomp>\r\n    return [func(*args, **kwargs)\r\n  File \"/root/sktime_dev/sktime/sktime/forecasting/model_selection/_tune.py\", line 211, in _fit_and_score\r\n    out = evaluate(\r\n  File \"/root/sktime_dev/sktime/sktime/forecasting/model_evaluation/_functions.py\", line 122, in evaluate\r\n    score = scoring(y_test, y_pred, y_train=y_train)\r\n  File \"/root/sktime_dev/sktime/sktime/performance_metrics/forecasting/_classes.py\", line 154, in __call__\r\n    return self.func(\r\n  File \"/root/sktime_dev/sktime/sktime/performance_metrics/forecasting/_functions.py\", line 1548, in mean_absolute_percentage_error\r\n    _, y_true, y_pred, multioutput = _check_reg_targets(y_true, y_pred, multioutput)\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 96, in _check_reg_targets\r\n    y_pred = check_array(y_pred, ensure_2d=False, dtype=dtype)\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 801, in check_array\r\n    _assert_all_finite(array, allow_nan=force_all_finite == \"allow-nan\")\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 115, in _assert_all_finite\r\n    raise ValueError(\r\nValueError: Input contains NaN, infinity or a value too large for dtype('float64').\r\n\"\"\"\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/doctest.py\", line 1336, in __run\r\n    exec(compile(example.source, filename, \"single\",\r\n  File \"<doctest sktime.forecasting.model_selection._tune.ForecastingGridSearchCV[23]>\", line 1, in <module>\r\n  File \"/root/sktime_dev/sktime/sktime/forecasting/base/_base.py\", line 160, in fit\r\n    self._fit(y=y_inner, X=X_inner, fh=fh)\r\n  File \"/root/sktime_dev/sktime/sktime/forecasting/model_selection/_tune.py\", line 260, in _fit\r\n    results = self._run_search(evaluate_candidates)\r\n  File \"/root/sktime_dev/sktime/sktime/forecasting/model_selection/_tune.py\", line 468, in _run_search\r\n    return evaluate_candidates(ParameterGrid(self.param_grid))\r\n  File \"/root/sktime_dev/sktime/sktime/forecasting/model_selection/_tune.py\", line 246, in evaluate_candidates\r\n    out = parallel(\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/parallel.py\", line 1056, in __call__\r\n    self.retrieve()\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/parallel.py\", line 935, in retrieve\r\n    self._output.extend(job.get(timeout=self.timeout))\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/site-packages/joblib/_parallel_backends.py\", line 542, in wrap_future_result\r\n    return future.result(timeout=timeout)\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/concurrent/futures/_base.py\", line 437, in result\r\n    return self.__get_result()\r\n  File \"/root/miniconda/envs/sktime-dev/lib/python3.8/concurrent/futures/_base.py\", line 389, in __get_result\r\n    raise self._exception\r\nValueError: Input contains NaN, infinity or a value too large for dtype('float64').\r\n```\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nPASSED\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n0.10.1\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2174", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2174/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2174/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2174/events", "html_url": "https://github.com/sktime/sktime/issues/2174", "id": 1160727786, "node_id": "I_kwDOCVKAsc5FL0zq", "number": 2174, "title": "[BUG] all BATS and TBATS objects share models, have side effects on each other", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-06T22:02:07Z", "updated_at": "2022-03-07T16:27:31Z", "closed_at": "2022-03-07T16:27:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "All BATS and TBATS instances share a single model, since it is instantiated in the class, rather than in the object.\r\n\r\nThat leads to silent, hard to detect errors, where fitting one (T)BATS model fits all such models.\r\n\r\nInstead, fitting one (T)BATS instance should not impact other instances in any way.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2174/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2167", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2167/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2167/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2167/events", "html_url": "https://github.com/sktime/sktime/pull/2167", "id": 1160442804, "node_id": "PR_kwDOCVKAsc4z_ruE", "number": 2167, "title": "Replacing normalize by use of StandardScaler", "user": {"login": "KishenSharma6", "id": 57292990, "node_id": "MDQ6VXNlcjU3MjkyOTkw", "avatar_url": "https://avatars.githubusercontent.com/u/57292990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KishenSharma6", "html_url": "https://github.com/KishenSharma6", "followers_url": "https://api.github.com/users/KishenSharma6/followers", "following_url": "https://api.github.com/users/KishenSharma6/following{/other_user}", "gists_url": "https://api.github.com/users/KishenSharma6/gists{/gist_id}", "starred_url": "https://api.github.com/users/KishenSharma6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KishenSharma6/subscriptions", "organizations_url": "https://api.github.com/users/KishenSharma6/orgs", "repos_url": "https://api.github.com/users/KishenSharma6/repos", "events_url": "https://api.github.com/users/KishenSharma6/events{/privacy}", "received_events_url": "https://api.github.com/users/KishenSharma6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-05T20:47:12Z", "updated_at": "2022-03-21T22:12:02Z", "closed_at": "2022-03-07T18:39:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2167", "html_url": "https://github.com/sktime/sktime/pull/2167", "diff_url": "https://github.com/sktime/sktime/pull/2167.diff", "patch_url": "https://github.com/sktime/sktime/pull/2167.patch", "merged_at": "2022-03-07T18:39:06Z"}, "body": "Normalize' will be removed in the version 1.2 release\r\nof sklearn. Adding Pipeline with a StandardScaler as\r\na preprocessing stage.\r\n\r\n<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look\r\nat our contribution guide: https://github.com/alan-turing-institute/sktime/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\nFixes half of [#2143](https://github.com/alan-turing-institute/sktime/issues/2143)\r\n\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n\r\nNormalize' will be removed in the version 1.2 release\r\nof sklearn. Adding Pipeline with a StandardScaler as\r\na preprocessing stage.\r\n\r\n\r\n#### Does your contribution introduce a new dependency? If yes, which one?\r\n\r\n<!--\r\nIf your contribution does add a new hard dependency, we may suggest to initially develop your contribution in a separate companion package in https://github.com/sktime/ to keep external dependencies of the core sktime package to a minimum.\r\n-->\r\n\r\n#### What should a reviewer concentrate their feedback on?\r\nClarity of git commit message\r\n\r\n#### Any other comments?\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is necessary; assistance handling other issues is very welcome. We value all user contributions, no matter how minor they are. If we are slow to review, either the pull request needs some benchmarking, tinkering, convincing, etc. or more likely the reviewers are simply busy. In either case, we ask for your understanding during the review process.\r\n-->\r\n\r\n#### PR checklist\r\n<!--\r\nPlease go through the checklist below. Please feel free to remove points if they are not applicable.\r\n-->\r\n\r\n##### For all contributions\r\n- [ ] I've added myself to the [list of contributors](https://github.com/alan-turing-institute/sktime/blob/main/.all-contributorsrc).\r\n- [ ] Optionally, I've updated sktime's [CODEOWNERS](https://github.com/alan-turing-institute/sktime/blob/main/CODEOWNERS) to receive notifications about future changes to these files.\r\n- [ ] I've added unit tests and made sure they pass locally.\r\n\r\n##### For new estimators\r\n- [ ] I've added the estimator to the online documentation.\r\n- [ ] I've updated the existing example notebooks or provided a new one to showcase how my estimator works.\r\n\r\n\r\n<!--\r\nThanks for contributing!\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2167/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2159", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2159/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2159/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2159/events", "html_url": "https://github.com/sktime/sktime/issues/2159", "id": 1157793478, "node_id": "I_kwDOCVKAsc5FAobG", "number": 2159, "title": "[BUG] ColumnEnsembleClassifer can't be imported", "user": {"login": "dymax", "id": 16271544, "node_id": "MDQ6VXNlcjE2MjcxNTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/16271544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dymax", "html_url": "https://github.com/dymax", "followers_url": "https://api.github.com/users/dymax/followers", "following_url": "https://api.github.com/users/dymax/following{/other_user}", "gists_url": "https://api.github.com/users/dymax/gists{/gist_id}", "starred_url": "https://api.github.com/users/dymax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dymax/subscriptions", "organizations_url": "https://api.github.com/users/dymax/orgs", "repos_url": "https://api.github.com/users/dymax/repos", "events_url": "https://api.github.com/users/dymax/events{/privacy}", "received_events_url": "https://api.github.com/users/dymax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-03-02T23:23:31Z", "updated_at": "2022-03-18T15:21:41Z", "closed_at": "2022-03-18T15:21:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The provided code example gives an error as `ColumnEnsembleClassifier`  can't be imported\r\n\r\n```\r\nfrom sktime.classification.interval_based import DrCIF\r\nfrom sktime.datasets import load_basic_motions\r\nX_train, y_train = load_basic_motions(split=\"train\")\r\nX_test, y_test = load_basic_motions(split=\"test\")\r\nclf = DrCIF(n_estimators=10)\r\nestimators = [(\"DrCIF\", clf, [0, 1, 2, 3, 4, 5])]\r\ncol_ens = ColumnEnsembleClassifier(estimators=estimators)\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2143", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2143/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2143/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2143/events", "html_url": "https://github.com/sktime/sktime/issues/2143", "id": 1151680028, "node_id": "I_kwDOCVKAsc5EpT4c", "number": 2143, "title": "[BUG] dealing with `sklearn 1.2` deprecation warnings", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-02-26T11:13:56Z", "updated_at": "2022-03-13T21:29:33Z", "closed_at": "2022-03-13T21:29:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A number of `sklearn` calls raise deprecation warnings and will turn into bugs when `sklearn` releases version 1.2.\r\nThese should be fixed.\r\n\r\n- [x] replacing `float` variable names by `str` in `pandas.DataFrame` passed:\r\n\r\n```\r\nclassification/feature_based/_summary_classifier.py: 2 warnings\r\nclassification/feature_based/tests/test_summary_classifier.py: 2 warnings\r\nclassification/tests/test_all_classifiers.py: 6 warnings\r\ntests/test_all_estimators.py: 23 warnings\r\n  C:\\Miniconda\\envs\\test\\lib\\site-packages\\sklearn\\utils\\validation.py:1692: FutureWarning: Feature names only support names that are all strings. Got feature names with dtypes: ['float', 'str']. An error will be raised in 1.2.\r\n```\r\n\r\n- [x] replacing `normalize` by use of `StandardScaler`:\r\n\r\n```\r\ntransformations/panel/rocket/tests/test_MiniRocket.py::test_minirocket_on_gunpoint\r\ntransformations/panel/rocket/tests/test_MiniRocketMultivariate.py::test_minirocket_multivariate_on_basic_motions\r\ntransformations/panel/rocket/tests/test_MultiRocket.py::test_multirocket_on_gunpoint\r\ntransformations/panel/rocket/tests/test_MultiRocketMultivariate.py::test_multirocket_multivariate_on_basic_motions\r\ntransformations/panel/rocket/tests/test_Rocket.py::test_rocket_on_gunpoint\r\n  C:\\Miniconda\\envs\\test\\lib\\site-packages\\sklearn\\linear_model\\_base.py:145: FutureWarning: 'normalize' was deprecated in version 1.0 and will be removed in 1.2.\r\n  If you wish to scale the data, use Pipeline with a StandardScaler in a preprocessing stage. To reproduce the previous behavior:\r\n  \r\n  from sklearn.pipeline import make_pipeline\r\n  \r\n  model = make_pipeline(StandardScaler(with_mean=False), _RidgeGCV())\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2111", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2111/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2111/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2111/events", "html_url": "https://github.com/sktime/sktime/issues/2111", "id": 1145994961, "node_id": "I_kwDOCVKAsc5ETn7R", "number": 2111, "title": "[BUG] StackingForecaster (forecaster error)", "user": {"login": "IFV", "id": 12710509, "node_id": "MDQ6VXNlcjEyNzEwNTA5", "avatar_url": "https://avatars.githubusercontent.com/u/12710509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IFV", "html_url": "https://github.com/IFV", "followers_url": "https://api.github.com/users/IFV/followers", "following_url": "https://api.github.com/users/IFV/following{/other_user}", "gists_url": "https://api.github.com/users/IFV/gists{/gist_id}", "starred_url": "https://api.github.com/users/IFV/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IFV/subscriptions", "organizations_url": "https://api.github.com/users/IFV/orgs", "repos_url": "https://api.github.com/users/IFV/repos", "events_url": "https://api.github.com/users/IFV/events{/privacy}", "received_events_url": "https://api.github.com/users/IFV/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-21T16:15:34Z", "updated_at": "2022-02-22T15:02:56Z", "closed_at": "2022-02-22T15:02:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n\r\n-->\r\nDear all,\r\n\r\nI am defining sklearn models as regressors. However,  the following msg still appears:\r\n\r\n```ValueError: The estimator KNeighborsRegressor should be a Forecaster.``` \r\n\r\nNote clear to me the possible cause of error...\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sklearn.neighbors import KNeighborsRegressor\r\nfrom sklearn.ensemble import RandomForestRegressor,AdaBoostRegressor\r\n\r\nfrom sktime.forecasting.compose import StackingForecaster\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\ny_train = pd.Series(np.cos(np.arange(1,500)))\r\n\r\nregressor0 = KNeighborsRegressor(n_neighbors=2)\r\nregressor1 = RandomForestRegressor(random_state=0, n_estimators=100, max_depth=6)\r\nregressor2 = AdaBoostRegressor(random_state=0, n_estimators=100)\r\n\r\nforecasters = [(\"naive\", NaiveForecaster()),\r\n               (\"KNN\",regressor0),\r\n               (\"RF\",regressor1),\r\n               (\"AdaBoost\",regressor2)]\r\n\r\nforecaster = StackingForecaster(forecasters=forecasters)\r\nforecaster.fit(y=y_train, fh=[1])\r\n\r\ny_pred = forecaster.predict()\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\nSystem:\r\n    python: 3.9.7 (default, Sep 16 2021, 13:09:58)  [GCC 7.5.0]\r\nexecutable: /home/...\r\n   machine: Linux-5.4.0-70-generic-x86_64-with-glibc2.31\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0.2\r\n       sktime: 0.10.0\r\n  statsmodels: 0.13.2\r\n        numpy: 1.21.5\r\n        scipy: 1.7.3\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.0\r\n       joblib: 1.1.0\r\n        numba: None\r\n     pmdarima: 1.8.4\r\n      tsfresh: None\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2108", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2108/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2108/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2108/events", "html_url": "https://github.com/sktime/sktime/pull/2108", "id": 1145219411, "node_id": "PR_kwDOCVKAsc4zMvch", "number": 2108, "title": "[BUG] fixed state change caused by `ThetaForecaster.predict_quantiles`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-21T01:39:36Z", "updated_at": "2022-03-06T13:18:13Z", "closed_at": "2022-03-06T13:18:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2108", "html_url": "https://github.com/sktime/sktime/pull/2108", "diff_url": "https://github.com/sktime/sktime/pull/2108.diff", "patch_url": "https://github.com/sktime/sktime/pull/2108.patch", "merged_at": "2022-03-06T13:18:12Z"}, "body": "Contrary to specification `ThetaForecaster.predict_quantiles` changed object attributes - namely, an attribute `sigma_` was created in `self`. This was probably accidental.\r\n\r\nThe tests did not pick this up, since much of the generic test suite was deactivated for the new probabilistic forecasting methods.\r\n\r\nThis is being changed in https://github.com/alan-turing-institute/sktime/pull/2100, which picked up the issue.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2108/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2083", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2083/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2083/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2083/events", "html_url": "https://github.com/sktime/sktime/pull/2083", "id": 1143006049, "node_id": "PR_kwDOCVKAsc4zFIse", "number": 2083, "title": "[BUG] Fix silent bug in _predict ColumnsEnsembleForecaster", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/14", "html_url": "https://github.com/sktime/sktime/milestone/14", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/14/labels", "id": 7690365, "node_id": "MI_kwDOCVKAsc4AdVh9", "number": 14, "title": "v0.10.1", "description": "", "creator": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2022-02-18T00:04:22Z", "updated_at": "2022-03-07T19:42:11Z", "due_on": "2022-02-19T08:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2022-02-18T12:51:30Z", "updated_at": "2022-02-18T16:52:41Z", "closed_at": "2022-02-18T16:52:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2083", "html_url": "https://github.com/sktime/sktime/pull/2083", "diff_url": "https://github.com/sktime/sktime/pull/2083.diff", "patch_url": "https://github.com/sktime/sktime/pull/2083.patch", "merged_at": "2022-02-18T16:52:36Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2083/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2078", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2078/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2078/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2078/events", "html_url": "https://github.com/sktime/sktime/issues/2078", "id": 1141280835, "node_id": "I_kwDOCVKAsc5EBpBD", "number": 2078, "title": "[BUG] TransformedTargetForecaster window error", "user": {"login": "dirknbr", "id": 13710688, "node_id": "MDQ6VXNlcjEzNzEwNjg4", "avatar_url": "https://avatars.githubusercontent.com/u/13710688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirknbr", "html_url": "https://github.com/dirknbr", "followers_url": "https://api.github.com/users/dirknbr/followers", "following_url": "https://api.github.com/users/dirknbr/following{/other_user}", "gists_url": "https://api.github.com/users/dirknbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirknbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirknbr/subscriptions", "organizations_url": "https://api.github.com/users/dirknbr/orgs", "repos_url": "https://api.github.com/users/dirknbr/repos", "events_url": "https://api.github.com/users/dirknbr/events{/privacy}", "received_events_url": "https://api.github.com/users/dirknbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-02-17T12:33:19Z", "updated_at": "2022-02-23T17:09:58Z", "closed_at": "2022-02-23T17:09:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a series of length 100 and I want to detrend and then forecast using LGBM, I get this error\r\n\r\nMy window_length grid is [7, ..., 35] and I use 70% for training, ie n = 70. \r\n\r\nWhen I do it without the detrender it works. \r\n\r\n```\r\nValueError: Invalid parameter window_length for estimator TransformedTargetForecaster(steps=[('detrend',\r\n                                    Detrender(forecaster=PolynomialTrendForecaster())),\r\n                                   ('forecast',\r\n                                    RecursiveTabularRegressionForecaster(estimator=LGBMRegressor(),\r\n                                                                         window_length=7))]). Check the list of available parameters with `estimator.get_params().keys()`.\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2068", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2068/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2068/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2068/events", "html_url": "https://github.com/sktime/sktime/issues/2068", "id": 1138664603, "node_id": "I_kwDOCVKAsc5D3qSb", "number": 2068, "title": "[BUG] no module named sktime.forecasting ", "user": {"login": "LawrenceKurowski", "id": 58895118, "node_id": "MDQ6VXNlcjU4ODk1MTE4", "avatar_url": "https://avatars.githubusercontent.com/u/58895118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LawrenceKurowski", "html_url": "https://github.com/LawrenceKurowski", "followers_url": "https://api.github.com/users/LawrenceKurowski/followers", "following_url": "https://api.github.com/users/LawrenceKurowski/following{/other_user}", "gists_url": "https://api.github.com/users/LawrenceKurowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/LawrenceKurowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LawrenceKurowski/subscriptions", "organizations_url": "https://api.github.com/users/LawrenceKurowski/orgs", "repos_url": "https://api.github.com/users/LawrenceKurowski/repos", "events_url": "https://api.github.com/users/LawrenceKurowski/events{/privacy}", "received_events_url": "https://api.github.com/users/LawrenceKurowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-02-15T13:03:08Z", "updated_at": "2022-03-25T01:11:06Z", "closed_at": "2022-03-25T01:11:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nCan't import anything from sktime.forecasting, get \"no module named ...\" error\r\n\r\n\r\n**To Reproduce**\r\n\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\n\r\n\r\n```python\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\n```\r\n\r\n**Expected behavior**\r\n\r\nExpect to be able to import the library\r\n\r\n\r\n**Additional context**\r\n\r\nworking in python 3.8.12\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nPlease run the following code snippet and paste the output here:\r\n \r\n\"ImportError: cannot import name 'show_versions' from 'sktime' (/opt/homebrew/lib/python3.9/site-packages/sktime/__init__.py)\"\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2068/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2064", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2064/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2064/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2064/events", "html_url": "https://github.com/sktime/sktime/issues/2064", "id": 1136520598, "node_id": "I_kwDOCVKAsc5Dve2W", "number": 2064, "title": "[BUG] `SFA` transformer does not comply with transformer interface since it returns unsupported format, list of dict", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2022-02-13T22:56:40Z", "updated_at": "2022-03-20T13:23:03Z", "closed_at": "2022-03-20T13:23:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Discovered in refactoring the transformers to the new interface. Updated after discussion below.\r\n\r\nIt would appear that the `SFA` does not comply with any `sktime` transformer interface, because `transform` returns a list of dictionaries.\r\n\r\nBased on discussion with @MatthewMiddlehurst, @patrickzib (below and on slack), the list of dict can be read as a table, with list index = row index and key = col index, so it is formally/scientifically a transformer.\r\n\r\nThe non-compliance comes through `sktime` currently not supporting list of dict as a table format.\r\nTwo options would exist in-principle: always convert to a compliant output format (i.e., modify SFA), or introduce list of dict as a compliant format (i.e., modify the datatypes module).\r\n\r\nWe've reached the conclusion that we should do the second, i.e., that it should be added, since conversions to `pd.DataFrame` etc greately reduce performance of composites, namely classifiers that use the SFA transformer.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2064/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2049", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2049/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2049/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2049/events", "html_url": "https://github.com/sktime/sktime/issues/2049", "id": 1133744055, "node_id": "I_kwDOCVKAsc5Dk4-3", "number": 2049, "title": "[ENH] Address deprecated references in datatypes module", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-12T09:17:16Z", "updated_at": "2022-03-28T14:12:59Z", "closed_at": "2022-03-28T14:12:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I get this future warnings, mildly annoying and probably easy to fix? @fkiraly \r\n\r\n![image](https://user-images.githubusercontent.com/9594042/153705329-cccdd0ee-cdf8-48fc-9495-b5fe300294b9.png)\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2049/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2049/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2047", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2047/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2047/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2047/events", "html_url": "https://github.com/sktime/sktime/pull/2047", "id": 1132915221, "node_id": "PR_kwDOCVKAsc4yiier", "number": 2047, "title": "[BUG] naive forecaster window error", "user": {"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-11T17:53:23Z", "updated_at": "2022-02-11T21:00:22Z", "closed_at": "2022-02-11T21:00:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2047", "html_url": "https://github.com/sktime/sktime/pull/2047", "diff_url": "https://github.com/sktime/sktime/pull/2047.diff", "patch_url": "https://github.com/sktime/sktime/pull/2047.patch", "merged_at": "2022-02-11T21:00:13Z"}, "body": "#### Reference Issues/PRs\r\nFixes #1990.\r\n\r\n#### What does this implement/fix? Explain your changes.\r\nIncreases padding width in the case that `last_window` wasn't the full window length. This occurs when the forecasting horizon starts in sample, as the window length is the full length of the data but there is not enough historical data to fill the window so I have added NA's in this case. There is precedent for this as NAs are added to satisfy a window length in the case that the window length isn't a multiple of `sp`. \r\n\r\n#### What should a reviewer concentrate their feedback on?\r\nDoes this fix work theoretically. I am not sure if this breaks the functionality of the Naive forecaster.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2047/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2047/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2040", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2040/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2040/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2040/events", "html_url": "https://github.com/sktime/sktime/issues/2040", "id": 1130379735, "node_id": "I_kwDOCVKAsc5DYDnX", "number": 2040, "title": "[BUG] ColumnWiseTransformer fails with `PaddingTransformer` and `Imputer` transformer on multivariate time series", "user": {"login": "roumail", "id": 32498483, "node_id": "MDQ6VXNlcjMyNDk4NDgz", "avatar_url": "https://avatars.githubusercontent.com/u/32498483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roumail", "html_url": "https://github.com/roumail", "followers_url": "https://api.github.com/users/roumail/followers", "following_url": "https://api.github.com/users/roumail/following{/other_user}", "gists_url": "https://api.github.com/users/roumail/gists{/gist_id}", "starred_url": "https://api.github.com/users/roumail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roumail/subscriptions", "organizations_url": "https://api.github.com/users/roumail/orgs", "repos_url": "https://api.github.com/users/roumail/repos", "events_url": "https://api.github.com/users/roumail/events{/privacy}", "received_events_url": "https://api.github.com/users/roumail/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-02-10T16:04:44Z", "updated_at": "2022-02-11T14:18:45Z", "closed_at": "2022-02-11T14:18:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nColumnWiseTransformer isn't playing well, either in a pipeline where I apply `PaddingTransformer` and `Imputer` sequentially, nor when I try to apply one of these transformers directly to the japanese vowels dataset.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import (\r\n    load_japanese_vowels,\r\n    #     load_basic_motions\r\n)\r\nfrom sklearn.pipeline import Pipeline\r\n\r\nfrom sktime.transformations.panel.padder import PaddingTransformer\r\nfrom sktime.transformations.series.impute import Imputer\r\nfrom sktime.transformations.series.compose import ColumnwiseTransformer\r\n\r\n# load data .. \r\nvowel_X, vowel_y = load_japanese_vowels()\r\n\r\n# helper to confirm padding transformer worked as expected\r\ndef summarize_data(df):\r\n    return df.apply(lambda dim: dim.apply(lambda series: len(series)))\r\n\r\n# Unequal time series as expected. \r\nsummarize_data(vowel_X)\r\n\r\n\r\n# Apply each of these transformers (padding and imputing), sequentially to each column using `ColumnWiseTransformer` but it gives me the error `get_tags` not found:\r\n\r\npadding_pipeline = Pipeline(\r\n    steps=[\r\n        (\"equalise\", PaddingTransformer(fill_value=np.nan)),\r\n        (\"forward_fill\", Imputer(method=\"ffill\")),\r\n        (\"passthrough\", \"passthrough\"),\r\n    ]\r\n)\r\ntransformer = ColumnwiseTransformer(transformer=padding_pipeline)\r\nex = padding_pipeline.fit_transform(vowel_X)\r\n\r\n# Note that applying this pipeline across the entire dataset without ColumnWiseTransformer works\r\n# However this gives me the same length time series across the entire dataset, which is not what I'm looking for\r\n\r\nex = padding_pipeline.fit_transform(vowel_X)\r\nsummarize_data(ex)\r\n\r\n# Using columnwisetransformer with any of these transformers gives me a recursion error\r\nequalize = ColumnwiseTransformer(PaddingTransformer(fill_value=np.nan))\r\nout1 = equalize.fit_transform(vowel_X)\r\n\r\nffill = ColumnwiseTransformer(Imputer(method=\"ffill\"))\r\nffill.fit_transform(vowel_X)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nA time series that is padded and imputed separately for each column of the multivariate time series\r\n\r\n**Versions**\r\n\r\n```\r\nPython implementation: CPython\r\nPython version       : 3.8.12\r\nIPython version      : 7.29.0\r\n\r\nCompiler    : GCC 7.5.0\r\nOS          : Linux\r\nRelease     : 3.10.0-1160.45.1.el7.x86_64\r\nMachine     : x86_64\r\nProcessor   : x86_64\r\nCPU cores   : 20\r\nArchitecture: 64bit\r\n\r\nseaborn   : 0.11.2\r\nstumpy    : 1.9.2\r\npandas    : 1.3.5\r\nmatplotlib: 3.5.1\r\npyts      : 0.12.0\r\nnumpy     : 1.21.2\r\nsktime    : 0.10.0\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2040/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2038", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2038/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2038/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2038/events", "html_url": "https://github.com/sktime/sktime/issues/2038", "id": 1128868950, "node_id": "I_kwDOCVKAsc5DSSxW", "number": 2038, "title": "[BUG] report `pandas` anchor difference bug to `pandas` and follow up", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-02-09T18:09:16Z", "updated_at": "2022-03-25T01:11:51Z", "closed_at": "2022-03-25T01:11:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This fix https://github.com/alan-turing-institute/sktime/pull/1981\r\nuncovered what looks like an underlying bug in `pandas`.\r\n\r\nWe ought to report it with a minimally reproducing example.\r\n\r\n@eenticott-shell, @khrapovs, did one of you already report it?\r\nJust checking, and whether you want to.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2033", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2033/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2033/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2033/events", "html_url": "https://github.com/sktime/sktime/issues/2033", "id": 1128088771, "node_id": "I_kwDOCVKAsc5DPUTD", "number": 2033, "title": "[BUG] in colab, pip install sktime hangs after statsmodels download for `scipy=1.8.0`", "user": {"login": "oguiza", "id": 11656416, "node_id": "MDQ6VXNlcjExNjU2NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/11656416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oguiza", "html_url": "https://github.com/oguiza", "followers_url": "https://api.github.com/users/oguiza/followers", "following_url": "https://api.github.com/users/oguiza/following{/other_user}", "gists_url": "https://api.github.com/users/oguiza/gists{/gist_id}", "starred_url": "https://api.github.com/users/oguiza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oguiza/subscriptions", "organizations_url": "https://api.github.com/users/oguiza/orgs", "repos_url": "https://api.github.com/users/oguiza/repos", "events_url": "https://api.github.com/users/oguiza/events{/privacy}", "received_events_url": "https://api.github.com/users/oguiza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-02-09T05:59:43Z", "updated_at": "2022-10-24T15:25:59Z", "closed_at": "2022-10-24T15:25:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Update by @fkiraly: the issue seems to be resolved by the introduction of the upper bound `scipy<1.8.0` in `sktime` v0.10.1, as suspected. The bug is probably still there for `scipy 1.8.0`, and we should understand how to resolve it in order to relax the upper bound again.\r\n\r\n---\r\n**Describe the bug**\r\n<!--\r\n-->\r\nI've tried to pip install sktime in Google Colab but it hangs and installation doesn't complete\r\n\r\n**To Reproduce**\r\n<!--\r\nJus use this in Google Colab:\r\n-->\r\n\r\n```python\r\n!pip install sktime\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nThe issue seems to be related to the upgrade of statsmodels to 0.13.2.\r\nHowever, I can run:\r\n```python\r\n!pip install statsmodels\r\n```\r\nwhich correctly installs that version of the library\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nCollecting sktime\r\n  Downloading sktime-0.10.0-py3-none-any.whl (6.4 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6.4 MB 8.0 MB/s \r\nCollecting numpy<1.22,>=1.21.0\r\n  Downloading numpy-1.21.5-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (15.7 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 15.7 MB 59.5 MB/s \r\nRequirement already satisfied: scikit-learn>=0.24.0 in /usr/local/lib/python3.7/dist-packages (from sktime) (1.0.2)\r\nRequirement already satisfied: pandas<1.5.0,>=1.1.0 in /usr/local/lib/python3.7/dist-packages (from sktime) (1.3.5)\r\nCollecting deprecated>=1.2.13\r\n  Downloading Deprecated-1.2.13-py2.py3-none-any.whl (9.6 kB)\r\nCollecting statsmodels>=0.12.1\r\n  Downloading statsmodels-0.13.2.tar.gz (17.9 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 17.9 MB 583 kB/s \r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2027", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2027/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2027/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2027/events", "html_url": "https://github.com/sktime/sktime/pull/2027", "id": 1127713765, "node_id": "PR_kwDOCVKAsc4yQkpC", "number": 2027, "title": "[BUG] MiniRocket to comply with sklearn init specification, fix `random_state` modification in `__init__`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-08T20:14:21Z", "updated_at": "2022-02-16T21:33:53Z", "closed_at": "2022-02-16T21:33:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2027", "html_url": "https://github.com/sktime/sktime/pull/2027", "diff_url": "https://github.com/sktime/sktime/pull/2027.diff", "patch_url": "https://github.com/sktime/sktime/pull/2027.patch", "merged_at": "2022-02-16T21:33:52Z"}, "body": "Fixes #2026", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2027/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2026", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2026/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2026/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2026/events", "html_url": "https://github.com/sktime/sktime/issues/2026", "id": 1127711016, "node_id": "I_kwDOCVKAsc5DN4Eo", "number": 2026, "title": "[BUG] MiniRocket does not comply with sklearn interface: modifies random_state in constructor", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-08T20:11:19Z", "updated_at": "2022-02-16T21:33:52Z", "closed_at": "2022-02-16T21:33:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`clone(MiniRocket)` errors out with the following:\r\n\r\n```\r\nRuntimeError: Cannot clone object MiniRocket(max_dilations_per_kernel=32, n_jobs=1, num_kernels=10000,\r\nrandom_state=0), as the constructor either does not set or modifies parameter random_state\r\n```\r\n\r\nsince it modifies the parameter `random_state` in the constructor.\r\n\r\nWe should probably also have a test for this, or check why current tests do not catch this.\r\n\r\nFYI @angus924.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2026/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2013", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2013/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2013/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2013/events", "html_url": "https://github.com/sktime/sktime/issues/2013", "id": 1125722833, "node_id": "I_kwDOCVKAsc5DGSrR", "number": 2013, "title": "[BUG] forecasting API docs page is broken", "user": {"login": "popcornn1", "id": 89520785, "node_id": "MDQ6VXNlcjg5NTIwNzg1", "avatar_url": "https://avatars.githubusercontent.com/u/89520785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/popcornn1", "html_url": "https://github.com/popcornn1", "followers_url": "https://api.github.com/users/popcornn1/followers", "following_url": "https://api.github.com/users/popcornn1/following{/other_user}", "gists_url": "https://api.github.com/users/popcornn1/gists{/gist_id}", "starred_url": "https://api.github.com/users/popcornn1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/popcornn1/subscriptions", "organizations_url": "https://api.github.com/users/popcornn1/orgs", "repos_url": "https://api.github.com/users/popcornn1/repos", "events_url": "https://api.github.com/users/popcornn1/events{/privacy}", "received_events_url": "https://api.github.com/users/popcornn1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-07T09:23:37Z", "updated_at": "2022-03-07T11:49:59Z", "closed_at": "2022-03-07T11:49:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nNo ARIMA, BATS and Prophet documentation in the API References\r\n-->\r\n\r\n\r\nHello, \r\nIn your API documentation (https://www.sktime.org/en/v0.10.0/api_reference/forecasting.html) there is no references for prophet, ARIMA and BATS/TBATS\r\n\r\n\r\n![unknown](https://user-images.githubusercontent.com/89520785/152760511-00c6d7db-9114-4efb-9225-921ad5d45e89.png)\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2013/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2004", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2004/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2004/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2004/events", "html_url": "https://github.com/sktime/sktime/pull/2004", "id": 1125334865, "node_id": "PR_kwDOCVKAsc4yIzXV", "number": 2004, "title": "[MNT] Remove `pytest-xdist` from CI-CD, un-skip `test_multiprocessing_idempotent`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-06T22:21:56Z", "updated_at": "2022-02-07T23:33:49Z", "closed_at": "2022-02-07T23:33:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2004", "html_url": "https://github.com/sktime/sktime/pull/2004", "diff_url": "https://github.com/sktime/sktime/pull/2004.diff", "patch_url": "https://github.com/sktime/sktime/pull/2004.patch", "merged_at": "2022-02-07T23:33:49Z"}, "body": "Update: upgrading this from a draft.\r\n\r\nThis PR removes `pytest-xdist` from CI-CD and adds back `test_multiprocessing_idempotent`.\r\n\r\nThis is based on the observation/conclusion that `pytest-xdist` is causing multiple strange interactions which lead to crashes and erroring out of our CI-CD under hard to specify conditions.\r\n\r\nImplements https://github.com/alan-turing-institute/sktime/issues/2012 (also see there for further details)\r\n\r\n---\r\nDraft, attempt at diagnosing #1941 - removing `pytest-xdist`.\r\n\r\nAlso adds back `test_multiprocessing_idempotent` to see what happens.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2004/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2002", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2002/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2002/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2002/events", "html_url": "https://github.com/sktime/sktime/issues/2002", "id": 1125313868, "node_id": "I_kwDOCVKAsc5DEu1M", "number": 2002, "title": "[BUG] \"used by\" counter and dependency analysis not working", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-06T20:50:54Z", "updated_at": "2022-02-09T18:12:32Z", "closed_at": "2022-02-09T18:12:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The dependency analysis (of dependents) does not seem to be working properly.\r\n\r\nThe \"dependency graph\" feature is enabled, yet the \"dependents\" analysis shows 0 dependents.\r\nSee here for the relevant piece of GitHub documentation:\r\nhttps://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/exploring-the-dependencies-of-a-repository\r\n\r\nA year ago, we had 100s of dependencies, so it seems unlikely that the number is 0. It seems more likely that there is a bug.\r\n\r\nBut what is the problem?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2002/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2001", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2001/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2001/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2001/events", "html_url": "https://github.com/sktime/sktime/issues/2001", "id": 1125305847, "node_id": "I_kwDOCVKAsc5DEs33", "number": 2001, "title": "[BUG] `sp` parameter seems to have no effect in `MeanAbsoluteScaledError`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4046206041, "node_id": "LA_kwDOCVKAsc7xLDRZ", "url": "https://api.github.com/repos/sktime/sktime/labels/module:metrics&benchmarking", "name": "module:metrics&benchmarking", "color": "29A8FC", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-06T20:18:26Z", "updated_at": "2022-07-17T22:21:58Z", "closed_at": "2022-07-17T22:21:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From the below - the reported behaviour looks like a bug on `MeanAbsoluteScaledError`.\r\nNo exceptions are raised, but it would appear that the `sp` parameter does not influence the behaviour.\r\nExpected behaviour should be as outlined below.\r\n\r\n### Discussed in https://github.com/alan-turing-institute/sktime/discussions/1659\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **dbolotov** November 27, 2021</sup>\r\nHello, \r\n\r\nWhen using `MeanAbsoluteScaledError` as the `scoring` argument in `evaluate`, what is the proper way to set the MASE seasonality, if possible?\r\n\r\nThe example below uses `evaluate` twice with the same data and forecaster, but different `sp` values. It seems that no matter what `sp` is set to, MASE is always calculated as if `sp=1`. Also including a direct calculation with what I think should be the expected result.\r\n\r\nThanks you.\r\n\r\nExample:\r\n\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\nfrom sktime.performance_metrics.forecasting import MeanAbsoluteScaledError\r\n\r\n# Data\r\nnew_dat = pd.Series(np.array([17.7, 17.0, 13.5, 12.0, 9.4]))\r\n# Model\r\nfc = NaiveForecaster(strategy=\"last\", window_length=None, sp=3)\r\n# CV method\r\ncv = SlidingWindowSplitter(fh = 1, window_length = 4, step_length=1,\r\n                           initial_window=None, start_with_window=True)\r\n\r\n# Evaluation with MASE and sp=1 \r\neval_result_with_sp1 = evaluate(forecaster=fc, y=new_dat, cv=cv, strategy=\"refit\",\r\n                               scoring=MeanAbsoluteScaledError(sp=1), return_data=True)\r\nprint('Calculating MASE with `evaluate`:')\r\nprint('MASE in eval result with sp=1:', eval_result_with_sp1['test_MeanAbsoluteScaledError'][0])\r\n\r\n# Evaluation with MASE and sp=3 \r\neval_result_with_sp3 = evaluate(forecaster=fc, y=new_dat, cv=cv, strategy=\"refit\",\r\n                               scoring=MeanAbsoluteScaledError(sp=3), return_data=True)\r\nprint('MASE in eval result with sp=3:', eval_result_with_sp3['test_MeanAbsoluteScaledError'][0])\r\n\r\n# calculation using MeanAbsoluteScaledError directly\r\nprint(\"\\nCalculating MASE directly:\")\r\ny_train = new_dat[:4]\r\ny_true = np.array([new_dat[4]])\r\ny_pred = np.array([new_dat[1]]) # seasonal naive prediction with sp=3\r\nMASE = MeanAbsoluteScaledError()\r\nprint('MASE with sp=1', MASE(y_true[:1], y_pred[:1], y_train=y_train, sp=1))\r\nprint('MASE with sp=3', MASE(y_true[:1], y_pred[:1], y_train=y_train, sp=3))\r\n\r\nprint(\"\\nPackage versions:\")\r\nimport sktime\r\nprint(\"pandas:\", pd.__version__)\r\nprint(\"numpy:\", np.__version__)\r\nprint(\"sktime:\", sktime.__version__)\r\n```\r\n\r\nExample output:\r\n```\r\nCalculating MASE with `evaluate`:\r\nMASE in eval result with sp=1: 4.000000000000001\r\nMASE in eval result with sp=3: 4.000000000000001\r\n\r\nCalculating MASE directly:\r\nMASE with sp=1 4.000000000000001\r\nMASE with sp=3 1.3333333333333335\r\n\r\nPackage versions:\r\npandas: 1.3.4\r\nnumpy: 1.20.1\r\nsktime: 0.8.1\r\n```\r\n</div>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/2000", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/2000/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/2000/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/2000/events", "html_url": "https://github.com/sktime/sktime/pull/2000", "id": 1125278419, "node_id": "PR_kwDOCVKAsc4yIpRV", "number": 2000, "title": "[BUG] fix conversion of nested to multiindex if series have names", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3745673790, "node_id": "LA_kwDOCVKAsc7fQnI-", "url": "https://api.github.com/repos/sktime/sktime/labels/module:datatypes", "name": "module:datatypes", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-06T18:26:05Z", "updated_at": "2022-02-16T21:29:12Z", "closed_at": "2022-02-16T21:29:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/2000", "html_url": "https://github.com/sktime/sktime/pull/2000", "diff_url": "https://github.com/sktime/sktime/pull/2000.diff", "patch_url": "https://github.com/sktime/sktime/pull/2000.patch", "merged_at": "2022-02-16T21:29:11Z"}, "body": "This PR fixes a bug in the old function `from_nested_to_multi_index` that is wrapped by `convert`/`convert_to`.\r\n\r\nThe bug occurs if any of the series in the data frame have names.\r\nIn this case, the corresponding rows are empty, up to the entire resultant data frame becoming empty if all series had names.\r\n\r\nThe reason is a call to the `pd.DataFrame(series, columns=sth)` constructor, assuming that passing a `columns` argument always renames the columns. This assumption is false - if the argument `series` already has names, sub-setting is attempted, leading to an empty `pd.DataFrame` if a name is present, but the name is not identical with the name(s) in `sth`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/2000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/2000/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1999", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1999/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1999/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1999/events", "html_url": "https://github.com/sktime/sktime/issues/1999", "id": 1125243760, "node_id": "I_kwDOCVKAsc5DEdtw", "number": 1999, "title": "[BUG] sporadic CI/CD worker crashes in 1992, such as: `Prophet` failing `test_update_predict_predicted_index`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-06T16:07:37Z", "updated_at": "2022-02-07T08:56:14Z", "closed_at": "2022-02-07T00:53:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The CI/CD sees sporadic worker crashes that seem unrelated to #1992.\r\nIt impacts seemingly at random individual tests, in the global and the forecaster test module.\r\n\r\n#1992 contains the refactor of the forecaster and global modules, and it contains #1987 which refactors *only* the global module. Strangely, no such worker crashes are occurring in #1987 (the part of #1992 concerning the global module).\r\n\r\nExample worker crash:\r\n\r\n```\r\nworker 'gw1' crashed while running 'forecasting/tests/test_all_forecasters.py::TestAllForecasters::test_update_predict_predicted_index[Prophet--fh=1-update_params=True--window=5 days 00:00:00]'\r\n```\r\n\r\nExample run:\r\nhttps://github.com/alan-turing-institute/sktime/runs/5083489689\r\n(linux, python 3.8)", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1994", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1994/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1994/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1994/events", "html_url": "https://github.com/sktime/sktime/issues/1994", "id": 1125056675, "node_id": "I_kwDOCVKAsc5DDwCj", "number": 1994, "title": "[BUG] scipy 1.8.0 breaks BoxCoxtransformer due to reliance on private interface (needs fixing/removal)", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": {"login": "varuniyer", "id": 7947595, "node_id": "MDQ6VXNlcjc5NDc1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/7947595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varuniyer", "html_url": "https://github.com/varuniyer", "followers_url": "https://api.github.com/users/varuniyer/followers", "following_url": "https://api.github.com/users/varuniyer/following{/other_user}", "gists_url": "https://api.github.com/users/varuniyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/varuniyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varuniyer/subscriptions", "organizations_url": "https://api.github.com/users/varuniyer/orgs", "repos_url": "https://api.github.com/users/varuniyer/repos", "events_url": "https://api.github.com/users/varuniyer/events{/privacy}", "received_events_url": "https://api.github.com/users/varuniyer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "varuniyer", "id": 7947595, "node_id": "MDQ6VXNlcjc5NDc1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/7947595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varuniyer", "html_url": "https://github.com/varuniyer", "followers_url": "https://api.github.com/users/varuniyer/followers", "following_url": "https://api.github.com/users/varuniyer/following{/other_user}", "gists_url": "https://api.github.com/users/varuniyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/varuniyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varuniyer/subscriptions", "organizations_url": "https://api.github.com/users/varuniyer/orgs", "repos_url": "https://api.github.com/users/varuniyer/repos", "events_url": "https://api.github.com/users/varuniyer/events{/privacy}", "received_events_url": "https://api.github.com/users/varuniyer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-02-05T23:34:40Z", "updated_at": "2022-04-14T21:41:49Z", "closed_at": "2022-04-14T21:41:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`scipy 1.8.0` is just 2 minutes old and already breaks our CI/CD.\r\n\r\nThe issue seems to be with the import of `_boxcox_conf_interval` in `BoxCoxtransformer` which has changed.\r\n\r\nGenerally, it is a bad habit to interface private methods, we should not do this.\r\n\r\nAlso, it does not seem that the output of `_boxcox_conf_interval` is really used in the transformer? The easy way to address this is probably simply to remove the third optional argument of `_boxcox`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1994/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1994/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1991", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1991/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1991/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1991/events", "html_url": "https://github.com/sktime/sktime/issues/1991", "id": 1125006693, "node_id": "I_kwDOCVKAsc5DDj1l", "number": 1991, "title": "[BUG] Potential bug with TDE", "user": {"login": "AidenRushbrooke", "id": 72034940, "node_id": "MDQ6VXNlcjcyMDM0OTQw", "avatar_url": "https://avatars.githubusercontent.com/u/72034940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AidenRushbrooke", "html_url": "https://github.com/AidenRushbrooke", "followers_url": "https://api.github.com/users/AidenRushbrooke/followers", "following_url": "https://api.github.com/users/AidenRushbrooke/following{/other_user}", "gists_url": "https://api.github.com/users/AidenRushbrooke/gists{/gist_id}", "starred_url": "https://api.github.com/users/AidenRushbrooke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AidenRushbrooke/subscriptions", "organizations_url": "https://api.github.com/users/AidenRushbrooke/orgs", "repos_url": "https://api.github.com/users/AidenRushbrooke/repos", "events_url": "https://api.github.com/users/AidenRushbrooke/events{/privacy}", "received_events_url": "https://api.github.com/users/AidenRushbrooke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-02-05T19:01:40Z", "updated_at": "2022-02-08T09:17:25Z", "closed_at": "2022-02-08T09:17:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nCurrently on line 916 of TDE, it attempts to call choice on self.random_state, which is defined as an int.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nI noticed this issue when running classification_experiments using TDE and the FingerMovements dataset.\r\n\r\n\r\n\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nI think all thats missing is that check_random_state should be called first, then choice.\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1991/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1990", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1990/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1990/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1990/events", "html_url": "https://github.com/sktime/sktime/issues/1990", "id": 1124947081, "node_id": "I_kwDOCVKAsc5DDVSJ", "number": 1990, "title": "[BUG] NaiveForecaster fails when sp>1 and fh is combination of in-sample and out-sample", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-02-05T14:42:40Z", "updated_at": "2022-02-11T21:00:13Z", "closed_at": "2022-02-11T21:00:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nException:\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\ipykernel_1832\\2346858064.py in <module>\r\n     11 forecaster = NaiveForecaster(sp=2)\r\n     12 forecaster.fit(y_train)\r\n---> 13 forecaster.predict(fh=fh)\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_base.py in predict(self, fh, X, return_pred_int, alpha, keep_old_return_type)\r\n    203         # this is how it is supposed to be after the refactor is complete and effective\r\n    204         if not return_pred_int:\r\n--> 205             y_pred = self._predict(fh=fh, X=X_inner)\r\n    206 \r\n    207             # convert to output mtype, identical with last y mtype seen\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\naive.py in _predict(self, fh, X, return_pred_int, alpha)\r\n    340         \"\"\"\r\n    341         y_pred = self._forecaster.predict(\r\n--> 342             fh=fh, X=X, return_pred_int=return_pred_int, alpha=alpha\r\n    343         )\r\n    344 \r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_base.py in predict(self, fh, X, return_pred_int, alpha, keep_old_return_type)\r\n    203         # this is how it is supposed to be after the refactor is complete and effective\r\n    204         if not return_pred_int:\r\n--> 205             y_pred = self._predict(fh=fh, X=X_inner)\r\n    206 \r\n    207             # convert to output mtype, identical with last y mtype seen\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\compose\\_column_ensemble.py in _predict(self, fh, X, return_pred_int, alpha)\r\n    149         y_pred = np.zeros((len(fh), len(self.forecasters_)))\r\n    150         for (_, forecaster, index) in self.forecasters_:\r\n--> 151             y_pred[:, index] = forecaster.predict(fh)\r\n    152 \r\n    153         y_pred = pd.DataFrame(data=y_pred, columns=self.y_columns)\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_base.py in predict(self, fh, X, return_pred_int, alpha, keep_old_return_type)\r\n    203         # this is how it is supposed to be after the refactor is complete and effective\r\n    204         if not return_pred_int:\r\n--> 205             y_pred = self._predict(fh=fh, X=X_inner)\r\n    206 \r\n    207             # convert to output mtype, identical with last y mtype seen\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_sktime.py in _predict(self, fh, X, return_pred_int, alpha)\r\n     86         # both in-sample and out-of-sample values\r\n     87         else:\r\n---> 88             y_ins = self._predict_in_sample(fh.to_in_sample(self.cutoff), **kwargs)\r\n     89             y_oos = self._predict_fixed_cutoff(\r\n     90                 fh.to_out_of_sample(self.cutoff), **kwargs\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_sktime.py in _predict_in_sample(self, fh, X, return_pred_int, alpha)\r\n    145             update_params=False,\r\n    146             return_pred_int=return_pred_int,\r\n--> 147             alpha=alpha,\r\n    148         )\r\n    149 \r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_base.py in _predict_moving_cutoff(self, y, cv, X, update_params, return_pred_int, alpha)\r\n   1454                     update_params=update_params,\r\n   1455                     return_pred_int=return_pred_int,\r\n-> 1456                     alpha=alpha,\r\n   1457                 )\r\n   1458                 y_preds.append(y_pred)\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_sktime.py in _update_predict_single(self, y, fh, X, update_params, return_pred_int, alpha)\r\n    217             raise NotImplementedError()\r\n    218         self.update(y, X, update_params=update_params)\r\n--> 219         return self._predict(fh, X, return_pred_int=return_pred_int, alpha=alpha)\r\n    220 \r\n    221 \r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_sktime.py in _predict(self, fh, X, return_pred_int, alpha)\r\n     77         if fh.is_all_out_of_sample(self.cutoff):\r\n     78             return self._predict_fixed_cutoff(\r\n---> 79                 fh.to_out_of_sample(self.cutoff), **kwargs\r\n     80             )\r\n     81 \r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\base\\_sktime.py in _predict_fixed_cutoff(self, fh, X, return_pred_int, alpha)\r\n    111         # assert all(fh > 0)\r\n    112         y_pred = self._predict_last_window(\r\n--> 113             fh, X, return_pred_int=return_pred_int, alpha=alpha\r\n    114         )\r\n    115         index = fh.to_absolute(self.cutoff)\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\naive.py in _predict_last_window(self, fh, X, return_pred_int, alpha)\r\n    131             else:\r\n    132                 # reshape last window, one column per season\r\n--> 133                 last_window = self._reshape_last_window_for_sp(last_window)\r\n    134 \r\n    135                 # select last non-NaN row for every column\r\n\r\nC:/Users/X/Desktop/sktime/sktime\\sktime\\forecasting\\naive.py in _reshape_last_window_for_sp(self, last_window)\r\n    202         # reshape last window, one column per season\r\n    203         last_window = last_window.reshape(\r\n--> 204             int(np.ceil(self.window_length_ / self.sp_)), self.sp_\r\n    205         )\r\n    206 \r\n\r\nValueError: cannot reshape array of size 46 into shape (25,2)\r\n```\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.utils._testing.series import _make_series\r\nfrom sktime.utils._testing.forecasting import _make_fh\r\nimport numpy as np\r\n\r\ny_train = _make_series(\r\n    n_columns=1, index_type=\"period\", n_timepoints=50\r\n)\r\nfh = _make_fh(cutoff=y_train.index[-1], steps=np.array([-3, 2]), fh_type=\"period\", is_relative=False)\r\n\r\nforecaster = NaiveForecaster(sp=2)\r\nforecaster.fit(y_train)\r\nforecaster.predict(fh=fh)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\nBug revealed in #1963 . Bug seems to exist for relative as well as absolute `fh`.\r\n\r\n**Versions**\r\n`main`\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1979", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1979/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1979/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1979/events", "html_url": "https://github.com/sktime/sktime/issues/1979", "id": 1122816264, "node_id": "I_kwDOCVKAsc5C7NEI", "number": 1979, "title": "[ENH] `clustering._base` could be called `clustering.base`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102332684, "node_id": "MDU6TGFiZWwzMTAyMzMyNjg0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:clustering", "name": "module:clustering", "color": "8C1AAB", "default": false, "description": "clustering module: time series clustering"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-02-03T08:58:53Z", "updated_at": "2022-05-01T15:15:03Z", "closed_at": "2022-05-01T15:14:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Imports `from sktime.clustering.base` have ceased to work in 0.10.0 since `sktime.clustering.base._base` was moved to `sktime.clustering` without renaming `_base` to `base`.\r\n\r\nThis should not have happened without deprecation - it happened without any warning.\r\nIt is also inconsistent with all the other modules, where `sktime.modulename.base` has the base classes.\r\n\r\nHence, one of the two following things should happen:\r\n* add a `sktime.clustering.base` which aliases `_base`\r\n* rename `sktime.clustering._base` to `sktime.clustering.base`\r\n\r\nFYI @TonyBagnall, @chrisholder. Also see #1978 ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1976", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1976/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1976/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1976/events", "html_url": "https://github.com/sktime/sktime/issues/1976", "id": 1122456518, "node_id": "I_kwDOCVKAsc5C51PG", "number": 1976, "title": "[BUG] bug if `transform` is called twice with a lossy output conversion", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-02T22:34:22Z", "updated_at": "2022-02-06T22:03:36Z", "closed_at": "2022-02-06T22:03:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If `transform` is called twice, and the output conversion is lossy, the second `transform` call may error out under certain circumstances.\r\n\r\nThe reason is that the output `convert_to` of the first `transform` may write to the converter store (`self._converter_store_X`) and the first `convert_to` of the second `transform` may read from it.\r\n\r\nThis behaviour is erroneous, since the second `transform` call's first `convert_to` may not be applied to a data container of the same structure as the first `transform` call's second `convert_to`.\r\n\r\nThis may be quite rare, but will always happen for a transformer that creates columns, that internally uses `pd.DataFrame`, and which is being passed a `pd.Series` - such as the case in the prototype of #1924 which unearthed this bug.\r\n\r\nFYI @danbartl.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1971", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1971/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1971/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1971/events", "html_url": "https://github.com/sktime/sktime/issues/1971", "id": 1120599229, "node_id": "I_kwDOCVKAsc5Cyvy9", "number": 1971, "title": "[BUG] sporadic failure in `HIVECOTEV2.fit`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-02-01T12:18:05Z", "updated_at": "2022-02-08T09:54:52Z", "closed_at": "2022-02-08T09:54:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It seems that `HIVECOTEV2.fit` sporadically fails on the standard test cases.\r\n\r\nFrom this run:\r\nhttps://github.com/alan-turing-institute/sktime/runs/5018516510\r\n\r\nRelevant piece of log is below.\r\n\r\n```\r\n___________ test_fit_returns_self[HIVECOTEV2-ClassifierFitPredict] ____________\r\n[gw0] win32 -- Python 3.7.9 C:\\Miniconda\\envs\\test\\python.exe\r\n\r\nestimator_instance = HIVECOTEV2(arsenal_params={'n_estimators': 2, 'num_kernels': 20},\r\n           drcif_params={'n_estimators': 2}, n_jobs=...eter_samples': 4,\r\n                       'randomly_selected_params': 2},\r\n           time_limit_in_minutes=0, verbose=0)\r\nscenario = ClassifierFitPredict(args={'fit': {'X':                                                var_0\r\n0  0     0.248357\r\n1    -0...836\r\n1     0.178556\r\n2     0.738947\r\n3...}},\r\n                     default_arg_sequence=None, default_method_sequence=None)\r\n\r\n    def test_fit_returns_self(estimator_instance, scenario):\r\n        \"\"\"Check that fit returns self.\"\"\"\r\n>       fit_return = scenario.run(estimator_instance, method_sequence=[\"fit\"])\r\n\r\nestimator_instance = HIVECOTEV2(arsenal_params={'n_estimators': 2, 'num_kernels': 20},\r\n           drcif_params={'n_estimators': 2}, n_jobs=...eter_samples': 4,\r\n                       'randomly_selected_params': 2},\r\n           time_limit_in_minutes=0, verbose=0)\r\nscenario   = ClassifierFitPredict(args={'fit': {'X':                                                var_0\r\n0  0     0.248357\r\n1    -0...836\r\n1     0.178556\r\n2     0.738947\r\n3...}},\r\n                     default_arg_sequence=None, default_method_sequence=None)\r\n\r\nC:\\Miniconda\\envs\\test\\lib\\site-packages\\sktime\\tests\\test_all_estimators.py:481: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\nC:\\Miniconda\\envs\\test\\lib\\site-packages\\sktime\\utils\\_testing\\scenarios.py:183: in run\r\n    res = getattr(obj, methodname)(**args)\r\n        arg_sequence = ['fit']\r\n        args       = {'X':                                                var_0\r\n0  0     0.248357\r\n1    -0.069132\r\n2     0.323844\r\n3...\r\n1  0  ...93542\r\n2     100.57...\r\n9  0     0.312834\r\n1    -0.428579\r\n2    -0.535446\r\n3..., 'y': array([0, 1, 1, 0, 1, 0, 1, 0, 1, 0])}\r\n        args_after_call = []\r\n        deepcopy_return = False\r\n        i          = 0\r\n        method_sequence = ['fit']\r\n        methodname = 'fit'\r\n        num_calls  = 1\r\n        obj        = HIVECOTEV2(arsenal_params={'n_estimators': 2, 'num_kernels': 20},\r\n           drcif_params={'n_estimators': 2}, n_jobs=...eter_samples': 4,\r\n                        \"if it contains a single sample.\".format(array)\r\n                    )\r\n    \r\n            # make sure we actually converted to numeric:\r\n            if dtype_numeric and array.dtype.kind in \"OUSV\":\r\n                warnings.warn(\r\n                    \"Arrays of bytes/strings is being converted to decimal \"\r\n                    \"numbers if dtype='numeric'. This behavior is deprecated in \"\r\n                    \"0.24 and will be removed in 1.1 (renaming of 0.26). Please \"\r\n                    \"convert your data to numeric values explicitly instead.\",\r\n                    FutureWarning,\r\n                    stacklevel=2,\r\n                )\r\n                try:\r\n                    array = array.astype(np.float64)\r\n                except ValueError as e:\r\n                    raise ValueError(\r\n                        \"Unable to convert array of bytes/strings \"\r\n                        \"into decimal numbers with dtype='numeric'\"\r\n                    ) from e\r\n            if not allow_nd and array.ndim >= 3:\r\n                raise ValueError(\r\n                    \"Found array with dim %d. %s expected <= 2.\"\r\n                    % (array.ndim, estimator_name)\r\n                )\r\n    \r\n            if force_all_finite:\r\n                _assert_all_finite(array, allow_nan=force_all_finite == \"allow-nan\")\r\n    \r\n        if ensure_min_samples > 0:\r\n            n_samples = _num_samples(array)\r\n            if n_samples < ensure_min_samples:\r\n                raise ValueError(\r\n                    \"Found array with %d sample(s) (shape=%s) while a\"\r\n                    \" minimum of %d is required%s.\"\r\n>                   % (n_samples, array.shape, ensure_min_samples, context)\r\n                )\r\nE               ValueError: Found array with 0 sample(s) (shape=(0, 4)) while a minimum of 1 is required.\r\n\r\naccept_large_sparse = True\r\naccept_sparse = 'csr'\r\nallow_nd   = False\r\narray      = array([], shape=(0, 4), dtype=float32)\r\narray_orig = array([], shape=(0, 4), dtype=float64)\r\ncontext    = ''\r\ncopy       = False\r\ndtype      = <class 'numpy.float32'>\r\ndtype_numeric = False\r\ndtype_orig = dtype('float64')\r\ndtypes_orig = None\r\nensure_2d  = True\r\nensure_min_features = 1\r\nensure_min_samples = 1\r\nestimator  = None\r\nestimator_name = 'Estimator'\r\nforce_all_finite = True\r\nhas_pd_integer_array = False\r\nn_samples  = 0\r\norder      = None\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1954", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1954/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1954/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1954/events", "html_url": "https://github.com/sktime/sktime/issues/1954", "id": 1117874279, "node_id": "I_kwDOCVKAsc5CoWhn", "number": 1954, "title": "[BUG] `Prophet` fails `test_predict_pred_interval` stochastically", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-28T21:46:08Z", "updated_at": "2022-01-29T22:22:13Z", "closed_at": "2022-01-29T22:22:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The recent PR #1910 fixed a bug that `Prophet` would always return 90% CI.\r\n\r\nFrom this, a new bug has emerged: `Prophet` stochastically fails `test_predict_pred_interval` when `Prophet` is being asked to produce (narrow) 5% CI.\r\n\r\nIt may well be that the underlying estimator does not return proper upper/lower intervals, in which case we have to think what to do. Simply switch upper/lower perhaps?\r\n\r\nTo reproduce: run `test_predict_pred_interval` with parameters `0.05`, `fh1`, `Prophet`.\r\nRepeat 5-10 times to see one failure (on average, stochastic, rule of thumb frequency).\r\n\r\nFYI @kejsitake.\r\n\r\nFrom discussion with @kejsitake who pointed out the likely reason:\r\n`Prophet` outputs are MC sampled, and upper may be sampled independently from lower (not a good idea?), hence If a small coverage is requested (such as the 5% in the test), the sampling variance may cause upper to be smaller than lower.\r\nLikely an issue with the dependency `prophet`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1953", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1953/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1953/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1953/events", "html_url": "https://github.com/sktime/sktime/pull/1953", "id": 1117666874, "node_id": "PR_kwDOCVKAsc4xwBeE", "number": 1953, "title": "Temporary fix for CI/CD: removal of `test_multiprocessing_idempotent`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-28T17:37:14Z", "updated_at": "2022-01-28T22:22:49Z", "closed_at": "2022-01-28T22:22:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1953", "html_url": "https://github.com/sktime/sktime/pull/1953", "diff_url": "https://github.com/sktime/sktime/pull/1953.diff", "patch_url": "https://github.com/sktime/sktime/pull/1953.patch", "merged_at": "2022-01-28T22:22:49Z"}, "body": "An attempt at diagnosing #1941.\r\n\r\nThis PR removes a single individual test from `test_all_estimators`: `test_multiprocessing_idempotent`.\r\nSee also #1952.\r\n\r\nApparently, this renders the remote tests working again. Suggest this PR as a temporary fix.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1953/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1935", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1935/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1935/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1935/events", "html_url": "https://github.com/sktime/sktime/issues/1935", "id": 1114814142, "node_id": "I_kwDOCVKAsc5Ccra-", "number": 1935, "title": "[BUG] `ForecastingHorizon.to_relative` wrongly converts `pd.index` with frequencies that are base frequency multiples to `int`s", "user": {"login": "tomshlomo", "id": 30502983, "node_id": "MDQ6VXNlcjMwNTAyOTgz", "avatar_url": "https://avatars.githubusercontent.com/u/30502983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomshlomo", "html_url": "https://github.com/tomshlomo", "followers_url": "https://api.github.com/users/tomshlomo/followers", "following_url": "https://api.github.com/users/tomshlomo/following{/other_user}", "gists_url": "https://api.github.com/users/tomshlomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomshlomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomshlomo/subscriptions", "organizations_url": "https://api.github.com/users/tomshlomo/orgs", "repos_url": "https://api.github.com/users/tomshlomo/repos", "events_url": "https://api.github.com/users/tomshlomo/events{/privacy}", "received_events_url": "https://api.github.com/users/tomshlomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-01-26T09:38:48Z", "updated_at": "2022-02-09T18:06:22Z", "closed_at": "2022-02-09T14:27:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n`ForecastHorizon.to_relative` is wrong when using pandas date ranges with frequencies that are multiples of base frequencies (e.g \"2H\", \"30T\", \"10D\").\r\nI believe the cause is the function `_coerce_duration_to_int`.\r\n\r\nSeems to be related to #1435 and #1876 (sorry if this is a duplicate)\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\n\r\nfreq = '2H'\r\nt = pd.date_range(start='2021-01-01', freq=freq, periods=5)\r\nfh_abs = ForecastingHorizon(t, is_relative=False)\r\nfh_rel = fh_abs.to_relative(cutoff=t.min())\r\nprint(fh_rel)\r\n```\r\nOutput:\r\n```\r\nForecastingHorizon([0, 4, 8, 12, 16], dtype='int64', is_relative=True)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nOutput should be:\r\n```\r\nForecastingHorizon([0, 1, 2, 3, 4], dtype='int64', is_relative=True)\r\n```\r\nno matter what `freq` is.\r\n\r\n\r\nTo see this bug in action, consider the following example of using a NaiveForecaster to predict a perfectly periodic time series:\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\nsp = 5  # period\r\nn = sp * 2  # number of samples\r\n\r\ny = pd.Series(\r\n    index=pd.date_range(start='2021-01-01', freq='2H', periods=n),\r\n    data=np.mod(np.arange(n), sp),\r\n)\r\n\r\ny_train, y_test = temporal_train_test_split(y, test_size=sp)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\nforecaster = NaiveForecaster(strategy=\"last\", sp=sp)\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\nprint(y_test, y_pred, np.abs(y_pred - y_test).max(), sep='\\n\\n')\r\n```\r\n\r\nOutput:\r\n```\r\n2021-01-01 10:00:00    0\r\n2021-01-01 12:00:00    1\r\n2021-01-01 14:00:00    2\r\n2021-01-01 16:00:00    3\r\n2021-01-01 18:00:00    4\r\nFreq: 2H, dtype: int64\r\n\r\n2021-01-01 10:00:00    3.0\r\n2021-01-01 12:00:00    2.0\r\n2021-01-01 14:00:00    1.0\r\n2021-01-01 16:00:00    0.0\r\n2021-01-01 18:00:00    4.0\r\ndtype: float64\r\n\r\n3.0\r\n```\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nPython 3.9.5 (default, May 18 2021, 12:31:01) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 8.0.1 -- An enhanced Interactive Python. Type '?' for help.\r\nPyDev console: using IPython 8.0.1\r\nSystem:\r\n    python: 3.9.5 (default, May 18 2021, 12:31:01)  [Clang 10.0.0 ]\r\nexecutable: /Users/tomshlomo/miniconda3/envs/playground-395/bin/python\r\n   machine: macOS-10.15.7-x86_64-i386-64bit\r\nPython dependencies:\r\n          pip: 21.1.1\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 1.0.2\r\n       sktime: 0.9.0\r\n  statsmodels: 0.13.1\r\n        numpy: 1.20.2\r\n        scipy: 1.6.2\r\n       Cython: 0.29.26\r\n       pandas: 1.2.4\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.54.1\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1919", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1919/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1919/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1919/events", "html_url": "https://github.com/sktime/sktime/issues/1919", "id": 1111880854, "node_id": "I_kwDOCVKAsc5CRfSW", "number": 1919, "title": "[BUG] readthedocs builds failing since 1620", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-01-23T14:05:54Z", "updated_at": "2022-01-23T19:37:23Z", "closed_at": "2022-01-23T19:37:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Readthedocs builds are now failing on all PR.\r\n\r\nIt seems the first occurrence of that was #1620.\r\n\r\nIn the GitHub checks display, it does not show as failing, but (indefinitely) as running, but the logs say failure.\r\nRe display of checks, also see #1918.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1918", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1918/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1918/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1918/events", "html_url": "https://github.com/sktime/sktime/issues/1918", "id": 1111833341, "node_id": "I_kwDOCVKAsc5CRTr9", "number": 1918, "title": "[BUG] old CI/CD checks still showing in the GitHub CI summary", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-01-23T10:37:56Z", "updated_at": "2022-01-31T14:13:23Z", "closed_at": "2022-01-31T10:55:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Items from this:\r\n- [x] readthedocs does not complete properly. fixed in #1920 \r\n- [x] the old checks removed in #1620 should no longer display in the GitHub PR checks interface.\r\n\r\n---\r\nAfter the CI refactor #1620, the old checks are still being displayed in the GitHub PR checks interface, here (example):\r\n\r\n![image](https://user-images.githubusercontent.com/7985502/150696962-769249f3-c48c-4009-bee0-c284795b54c6.png)\r\n \r\nRreadthedocs do not display as completed.\r\n\r\nThe new GitHub actions based tests display and run as they should.\r\n\r\nWhat is really strange is that for a new PR, the display, at the start, seems to jump between the old set and the new set of tests.\r\n\r\nThis is not affected by whether the PR branched off post or pre #1620, see also https://github.com/alan-turing-institute/sktime/pull/1917\r\n\r\nThe expected behaviour is that only the new checks are shown.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1918/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1911", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1911/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1911/events", "html_url": "https://github.com/sktime/sktime/pull/1911", "id": 1111688287, "node_id": "PR_kwDOCVKAsc4xcs78", "number": 1911, "title": "[BUG] erroneous index coercion in `convert_align_to_align_loc`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3570070987, "node_id": "LA_kwDOCVKAsc7UyvXL", "url": "https://api.github.com/repos/sktime/sktime/labels/module:alignment", "name": "module:alignment", "color": "7DB001", "default": false, "description": "alignment module: time series alignment, sequence alignment"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-22T21:08:02Z", "updated_at": "2022-01-24T17:56:49Z", "closed_at": "2022-01-24T17:56:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1911", "html_url": "https://github.com/sktime/sktime/pull/1911", "diff_url": "https://github.com/sktime/sktime/pull/1911.diff", "patch_url": "https://github.com/sktime/sktime/pull/1911.patch", "merged_at": "2022-01-24T17:56:14Z"}, "body": "This PR fixes #1909, and relaxes the `pandas` 1.4.0 bound to 1.5.0.\r\n\r\nThe issue with `pandas` 1.4.0 was caused by what turned out to be an erroneous coercion to the `Int64` `dtype` in the function `convert_align_to_align_loc`. The fix was removing said coercion.\r\n\r\nFurther, I've turned on the input check on which was commented out, waiting for the `datatypes` module to be merged (half a year ago).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1911/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1909", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1909/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1909/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1909/events", "html_url": "https://github.com/sktime/sktime/issues/1909", "id": 1111656184, "node_id": "I_kwDOCVKAsc5CQob4", "number": 1909, "title": "[BUG] Failing tests with pandas version 1.4.0", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-22T18:50:35Z", "updated_at": "2022-01-24T17:56:14Z", "closed_at": "2022-01-24T17:56:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nWith the most recent version of pandas 1.4.0 two test are failing\r\n\r\n```\r\nFAILED alignment/tests/test_all_aligners.py::test_get_alignment_loc[AlignerDTWfromDist]\r\nFAILED alignment/tests/test_all_aligners.py::test_get_alignment_loc[AlignerDTW]\r\n```\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\nBump your pandas version to 1.4.0\r\n\r\n```bash\r\npip install -U pandas==1.4.0\r\npytest sktime/alignment/tests/test_all_aligners.py\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nTest are passing.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n\r\n\r\n<details>\r\n<summary>Traceback</summary>\r\n\r\n\r\n```python\r\n__________________ test_get_alignment_loc[AlignerDTWfromDist] __________________\r\n[gw1] linux -- Python 3.8.12 /opt/hostedtoolcache/Python/3.8.12/x64/bin/python\r\n\r\nAligner = <class 'sktime.alignment.dtw_python.AlignerDTWfromDist'>\r\n\r\n    @pytest.mark.parametrize(\"Aligner\", ALIGNERS)\r\n    def test_get_alignment_loc(Aligner):\r\n        \"\"\"Test that get_alignment returns an alignment (loc).\"\"\"\r\n        f = Aligner.create_test_instance()\r\n    \r\n        X = [_make_series(n_columns=2), _make_series(n_columns=2)]\r\n>       align = f.fit(X).get_alignment_loc()\r\n\r\nAligner    = <class 'sktime.alignment.dtw_python.AlignerDTWfromDist'>\r\nX          = [                   0         1\r\n2000-01-01  1.877993  4.022627\r\n2000-01-02  2.892609  2.980591\r\n2000-01-03  3.634473  3....02-16  2.888466  5.365541\r\n2000-02-17  2.020916  5.176993\r\n2000-02-18  2.891862  5.164779\r\n2000-02-19  2.884114  4.572237]\r\nf          = AlignerDTWfromDist(dist_trafo=ScipyDist(colalign='intersect',\r\n                                        metric='euclidea...\r\n                   open_begin=False, open_end=False, step_pattern='symmetric2',\r\n                   window_type='none')\r\n\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/sktime/alignment/tests/test_all_aligners.py:37: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/sktime/alignment/base.py:152: in get_alignment_loc\r\n    return self._get_alignment_loc()\r\n        self       = AlignerDTWfromDist(dist_trafo=ScipyDist(colalign='intersect',\r\n                                        metric='euclidea...\r\n                   open_begin=False, open_end=False, step_pattern='symmetric2',\r\n                   window_type='none')\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/sktime/alignment/base.py:180: in _get_alignment_loc\r\n    return convert_align_to_align_loc(align, X)\r\n        X          = [                   0         1\r\n2000-01-01  1.877993  4.022627\r\n2000-01-02  2.892609  2.980591\r\n2000-01-03  3.634473  3....02-16  2.888466  5.365541\r\n2000-02-17  2.020916  5.176993\r\n2000-02-18  2.891862  5.164779\r\n2000-02-19  2.884114  4.572237]\r\n        align      =     ind0  ind1\r\n0      0     0\r\n1      1     0\r\n2      2     1\r\n3      3     1\r\n4      4     1\r\n..   ...   ...\r\n91    45    49\r\n92    46    49\r\n93    47    49\r\n94    48    49\r\n95    49    49\r\n\r\n[96 rows x 2 columns]\r\n        self       = AlignerDTWfromDist(dist_trafo=ScipyDist(colalign='intersect',\r\n                                        metric='euclidea...\r\n                   open_begin=False, open_end=False, step_pattern='symmetric2',\r\n                   window_type='none')\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/sktime/alignment/utils/utils_align.py:94: in convert_align_to_align_loc\r\n    loc_series = pd.Series(Xi.index, dtype=\"Int64\").reindex(align[indi], copy=copy)\r\n        X          = [                   0         1\r\n2000-01-01  1.877993  4.022627\r\n2000-01-02  2.892609  2.980591\r\n2000-01-03  3.634473  3....02-16  2.888466  5.365541\r\n2000-02-17  2.020916  5.176993\r\n2000-02-18  2.891862  5.164779\r\n2000-02-19  2.884114  4.572237]\r\n        Xi         =                    0         1\r\n2000-01-01  1.877993  4.022627\r\n2000-01-02  2.892609  2.980591\r\n2000-01-03  3.634473  3.0...-02-16  2.473775  2.820853\r\n2000-02-17  4.575492  2.810851\r\n2000-02-18  2.312191  3.239057\r\n2000-02-19  4.142755  3.344174\r\n        align      =     ind0  ind1\r\n0      0     0\r\n1      1     0\r\n2      2     1\r\n3      3     1\r\n4      4     1\r\n..   ...   ...\r\n91    45    49\r\n92    46    49\r\n93    47    49\r\n94    48    49\r\n95    49    49\r\n\r\n[96 rows x 2 columns]\r\n        align_name = 'align'\r\n        copy       = True\r\n        df_name    = 'X'\r\n        i          = 0\r\n        indi       = 'ind0'\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/pandas/core/series.py:396: in __init__\r\n    data = data.astype(dtype)\r\n        copy       = False\r\n        data       = DatetimeIndex(['2000-01-01', '2000-01-02', '2000-01-03', '2000-01-04',\r\n               '2000-01-05', '2000-01-06', '200...'2000-02-16', '2000-02-17',\r\n               '2000-02-18', '2000-02-19'],\r\n              dtype='datetime64[ns]', freq='D')\r\n        dtype      = Int64Dtype()\r\n        fastpath   = False\r\n        index      = None\r\n        name       = None\r\n        self       = <[AttributeError(\"'Series' object has no attribute '_mgr'\") raised in repr()] Series object at 0x7f3cf6e1ee50>\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/pandas/core/indexes/base.py:1049: in astype\r\n    new_values = values.astype(dtype, copy=copy)\r\n        copy       = True\r\n        dtype      = Int64Dtype()\r\n        self       = DatetimeIndex(['2000-01-01', '2000-01-02', '2000-01-03', '2000-01-04',\r\n               '2000-01-05', '2000-01-06', '200...'2000-02-16', '2000-02-17',\r\n               '2000-02-18', '2000-02-19'],\r\n              dtype='datetime64[ns]', freq='D')\r\n        values     = <DatetimeArray>\r\n['2000-01-01 00:00:00', '2000-01-02 00:00:00', '2000-01-03 00:00:00',\r\n '2000-01-04 00:00:00', '2000-01...2-16 00:00:00', '2000-02-17 00:00:00',\r\n '2000-02-18 00:00:00', '2000-02-19 00:00:00']\r\nLength: 50, dtype: datetime64[ns]\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/pandas/core/arrays/datetimes.py:666: in astype\r\n    return dtl.DatetimeLikeArrayMixin.astype(self, dtype, copy)\r\n        copy       = True\r\n        dtype      = Int64Dtype()\r\n        self       = <DatetimeArray>\r\n['2000-01-01 00:00:00', '2000-01-02 00:00:00', '2000-01-03 00:00:00',\r\n '2000-01-04 00:00:00', '2000-01...2-16 00:00:00', '2000-02-17 00:00:00',\r\n '2000-02-18 00:00:00', '2000-02-19 00:00:00']\r\nLength: 50, dtype: datetime64[ns]\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/pandas/core/arrays/datetimelike.py:427: in astype\r\n    return super().astype(dtype, copy=copy)\r\n        __class__  = <class 'pandas.core.arrays.datetimelike.DatetimeLikeArrayMixin'>\r\n        copy       = True\r\n        dtype      = Int64Dtype()\r\n        self       = <DatetimeArray>\r\n['2000-01-01 00:00:00', '2000-01-02 00:00:00', '2000-01-03 00:00:00',\r\n '2000-01-04 00:00:00', '2000-01...2-16 00:00:00', '2000-02-17 00:00:00',\r\n '2000-02-18 00:00:00', '2000-02-19 00:00:00']\r\nLength: 50, dtype: datetime64[ns]\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/pandas/core/arrays/base.py:582: in astype\r\n    return cls._from_sequence(self, dtype=dtype, copy=copy)\r\n        cls        = <class 'pandas.core.arrays.integer.IntegerArray'>\r\n        copy       = True\r\n        dtype      = Int64Dtype()\r\n        self       = <DatetimeArray>\r\n['2000-01-01 00:00:00', '2000-01-02 00:00:00', '2000-01-03 00:00:00',\r\n '2000-01-04 00:00:00', '2000-01...2-16 00:00:00', '2000-02-17 00:00:00',\r\n '2000-02-18 00:00:00', '2000-02-19 00:00:00']\r\nLength: 50, dtype: datetime64[ns]\r\n/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/pandas/core/arrays/integer.py:325: in _from_sequence\r\n    values, mask = coerce_to_array(scalars, dtype=dtype, copy=copy)\r\n        cls        = <class 'pandas.core.arrays.integer.IntegerArray'>\r\n        copy       = True\r\n        dtype      = Int64Dtype()\r\n        scalars    = <DatetimeArray>\r\n['2000-01-01 00:00:00', '2000-01-02 00:00:00', '2000-01-03 00:00:00',\r\n '2000-01-04 00:00:00', '2000-01...2-16 00:00:00', '2000-02-17 00:00:00',\r\n '2000-02-18 00:00:00', '2000-02-19 00:00:00']\r\nLength: 50, dtype: datetime64[ns]\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nvalues = array(['2000-01-01T00:00:00.000000000', '2000-01-02T00:00:00.000000000',\r\n       '2000-01-03T00:00:00.000000000', '2000...:00.000000000',\r\n       '2000-02-18T00:00:00.000000000', '2000-02-19T00:00:00.000000000'],\r\n      dtype='datetime64[ns]')\r\ndtype = Int64Dtype(), mask = None, copy = True\r\n\r\n    def coerce_to_array(\r\n        values, dtype, mask=None, copy: bool = False\r\n    ) -> tuple[np.ndarray, np.ndarray]:\r\n        \"\"\"\r\n        Coerce the input values array to numpy arrays with a mask.\r\n    \r\n        Parameters\r\n        ----------\r\n        values : 1D list-like\r\n        dtype : integer dtype\r\n        mask : bool 1D array, optional\r\n        copy : bool, default False\r\n            if True, copy the input\r\n    \r\n        Returns\r\n        -------\r\n        tuple of (values, mask)\r\n        \"\"\"\r\n        # if values is integer numpy array, preserve its dtype\r\n        if dtype is None and hasattr(values, \"dtype\"):\r\n            if is_integer_dtype(values.dtype):\r\n                dtype = values.dtype\r\n    \r\n        if dtype is not None:\r\n            if isinstance(dtype, str) and (\r\n                dtype.startswith(\"Int\") or dtype.startswith(\"UInt\")\r\n            ):\r\n                # Avoid DeprecationWarning from NumPy about np.dtype(\"Int64\")\r\n                # https://github.com/numpy/numpy/pull/7476\r\n                dtype = dtype.lower()\r\n    \r\n            if not issubclass(type(dtype), _IntegerDtype):\r\n                try:\r\n                    dtype = INT_STR_TO_DTYPE[str(np.dtype(dtype))]\r\n                except KeyError as err:\r\n                    raise ValueError(f\"invalid dtype specified {dtype}\") from err\r\n    \r\n        if isinstance(values, IntegerArray):\r\n            values, mask = values._data, values._mask\r\n            if dtype is not None:\r\n                values = values.astype(dtype.numpy_dtype, copy=False)\r\n    \r\n            if copy:\r\n                values = values.copy()\r\n                mask = mask.copy()\r\n            return values, mask\r\n    \r\n        values = np.array(values, copy=copy)\r\n        inferred_type = None\r\n        if is_object_dtype(values.dtype) or is_string_dtype(values.dtype):\r\n            inferred_type = lib.infer_dtype(values, skipna=True)\r\n            if inferred_type == \"empty\":\r\n                pass\r\n            elif inferred_type not in [\r\n                \"floating\",\r\n                \"integer\",\r\n                \"mixed-integer\",\r\n                \"integer-na\",\r\n                \"mixed-integer-float\",\r\n                \"string\",\r\n                \"unicode\",\r\n            ]:\r\n                raise TypeError(f\"{values.dtype} cannot be converted to an IntegerDtype\")\r\n    \r\n        elif is_bool_dtype(values) and is_integer_dtype(dtype):\r\n            values = np.array(values, dtype=int, copy=copy)\r\n    \r\n        elif not (is_integer_dtype(values) or is_float_dtype(values)):\r\n>           raise TypeError(f\"{values.dtype} cannot be converted to an IntegerDtype\")\r\nE           TypeError: datetime64[ns] cannot be converted to an IntegerDtype\r\n\r\ncopy       = True\r\ndtype      = Int64Dtype()\r\ninferred_type = None\r\nmask       = None\r\nvalues     = array(['2000-01-01T00:00:00.000000000', '2000-01-02T00:00:00.000000000',\r\n       '2000-01-03T00:00:00.000000000', '2000...:00.000000000',\r\n       '2000-02-18T00:00:00.000000000', '2000-02-19T00:00:00.000000000'],\r\n      dtype='datetime64[ns]')\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1909/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1906", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1906/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1906/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1906/events", "html_url": "https://github.com/sktime/sktime/issues/1906", "id": 1110712245, "node_id": "I_kwDOCVKAsc5CNB-1", "number": 1906, "title": "[BUG] soft dependencies check may recommend wrong `pip install` command", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-01-21T17:19:00Z", "updated_at": "2022-05-18T17:26:48Z", "closed_at": "2022-05-18T17:26:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If the package dir is different from package name, the `sktime` soft dependencies wrapper may recommend to install the wrong package, because it recommends not `pip install pypi_name` but `pip install folder_name`. It should be the former and not the latter, but it is the latter, which may be wrong if the former or latter disagree.\r\n\r\nThe error message should change to the former.\r\n\r\nMinimal example for the bug:\r\nRunning `import sktime.alignment.dtw_python`, when `dtw-python` is not installed in the python environment, produces error message \"Please run: `pip install dtw`\"\r\n\r\nExpected behaviour under the same condition is a different error message: \"Please run: `pip install dtw-python`\"", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1906/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1876", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1876/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1876/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1876/events", "html_url": "https://github.com/sktime/sktime/issues/1876", "id": 1103752402, "node_id": "I_kwDOCVKAsc5ByezS", "number": 1876, "title": "[BUG] Forecasting does not work with 10 minute interval data in PeriodIndex form", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eenticott-shell", "id": 93924843, "node_id": "U_kgDOBZkt6w", "avatar_url": "https://avatars.githubusercontent.com/u/93924843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eenticott-shell", "html_url": "https://github.com/eenticott-shell", "followers_url": "https://api.github.com/users/eenticott-shell/followers", "following_url": "https://api.github.com/users/eenticott-shell/following{/other_user}", "gists_url": "https://api.github.com/users/eenticott-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/eenticott-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eenticott-shell/subscriptions", "organizations_url": "https://api.github.com/users/eenticott-shell/orgs", "repos_url": "https://api.github.com/users/eenticott-shell/repos", "events_url": "https://api.github.com/users/eenticott-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/eenticott-shell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2022-01-14T14:58:19Z", "updated_at": "2022-02-24T12:39:28Z", "closed_at": "2022-02-09T14:27:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen data has a period index at 10 minute intervals, the prediction does not work.\r\n\r\nMost likely related to \r\nSeems to be some issue with the indexing - most likely related to `ForecastingHorizon.to_absolute_int()` and how `integers` are computed.\r\n\r\n```python\r\n# Inside to_absolute_int, the following line does not seem to be giving the right integers\r\nintegers = absolute - start\r\n```\r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\ny = load_airline()\r\n\r\n# Change index to 10 min interval\r\ntime_range = pd.date_range(\r\n    pd.to_datetime(\"2019-01-01 00:00\"), pd.to_datetime(\"2019-01-01 23:55\"), freq=\"10Min\"\r\n)\r\n\r\n# # Datetime Index works\r\n# y.index = time_range\r\n\r\n# Period Index does not work\r\ny.index = time_range.to_period()\r\n\r\nforecaster = ExponentialSmoothing(trend=\"add\", seasonal=\"multiplicative\", sp=12)\r\nforecaster.fit(y, fh=[1, 2, 3, 4, 5, 6])\r\ny_pred = forecaster.predict()\r\n```\r\n\r\n```python\r\nFile \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"c:\\Users\\Nikhil\\.vscode\\extensions\\ms-python.python-2021.12.1559732655\\pythonFiles\\lib\\python\\debugpy\\__main__.py\", line 45, in <module>\r\n    cli.main()\r\n  File \"c:\\Users\\Nikhil\\.vscode\\extensions\\ms-python.python-2021.12.1559732655\\pythonFiles\\lib\\python\\debugpy/..\\debugpy\\server\\cli.py\", line 444, in main\r\n    run()\r\n  File \"c:\\Users\\Nikhil\\.vscode\\extensions\\ms-python.python-2021.12.1559732655\\pythonFiles\\lib\\python\\debugpy/..\\debugpy\\server\\cli.py\", line 285, in run_file\r\n    runpy.run_path(target_as_str, run_name=compat.force_str(\"__main__\"))\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"c:\\Users\\Nikhil\\OneDrive\\my_libraries\\my_python_libraries\\pycaret\\pycaret_dev\\time_series_debug.py\", line 33, in <module>\r\n    y_pred = forecaster.predict()\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 242, in predict\r\n    alpha=alpha,\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_statsmodels.py\", line 92, in _predict\r\n    return y_pred.loc[fh.to_absolute(self.cutoff).to_pandas()]\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\pandas\\core\\indexing.py\", line 931, in __getitem__\r\n    return self._getitem_axis(maybe_callable, axis=axis)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\pandas\\core\\indexing.py\", line 1153, in _getitem_axis\r\n    return self._getitem_iterable(key, axis=axis)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\pandas\\core\\indexing.py\", line 1093, in _getitem_iterable\r\n    keyarr, indexer = self._get_listlike_indexer(key, axis)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\pandas\\core\\indexing.py\", line 1314, in _get_listlike_indexer\r\n    self._validate_read_indexer(keyarr, indexer, axis)\r\n  File \"C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\lib\\site-packages\\pandas\\core\\indexing.py\", line 1374, in _validate_read_indexer\r\n    raise KeyError(f\"None of [{key}] are in the [{axis_name}]\")\r\nKeyError: \"None of [PeriodIndex(['2019-01-02 00:00', '2019-01-02 00:10', '2019-01-02 00:20',\\n             '2019-01-02 00:30', '2019-01-02 00:40', '2019-01-02 00:50'],\\n            dtype='period[10T]')] are in the [index]\"\r\n```\r\n\r\n**Expected behavior**\r\nShould produce the right forecasts (6 future values at 10 minute intervals - i.e. [PeriodIndex(['2019-01-02 00:00', '2019-01-02 00:10', '2019-01-02 00:20', '2019-01-02 00:30', '2019-01-02 00:40', '2019-01-02 00:50'])\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nSystem:\r\n    python: 3.7.10 (default, Feb 26 2021, 13:06:18) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\pycaret_dev_sktime_0p7\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.8.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.5.4\r\n       Cython: 0.29.14\r\n       pandas: 1.3.0\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: 1.8.2\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1869", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1869/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1869/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1869/events", "html_url": "https://github.com/sktime/sktime/pull/1869", "id": 1100469201, "node_id": "PR_kwDOCVKAsc4w3VEq", "number": 1869, "title": "Fix for #1866 and #1826", "user": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-12T15:22:59Z", "updated_at": "2022-01-12T21:27:21Z", "closed_at": "2022-01-12T21:27:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1869", "html_url": "https://github.com/sktime/sktime/pull/1869", "diff_url": "https://github.com/sktime/sktime/pull/1869.diff", "patch_url": "https://github.com/sktime/sktime/pull/1869.patch", "merged_at": "2022-01-12T21:27:20Z"}, "body": "Fixes #1866 and #1826.\r\n\r\nFixes bugs in DrCIF and STSF where some values were incorrectly floats instead of ints. Adds a -1 value to any empty dictionary at the end of the MUSE _fit process.\r\n\r\nCatch22 now outputs 22 * n_dims features for multivariate data instead of just 22. The previous behaviour of concatenating each dimension together was the default by the original author, but I agree that this is a better way of doing it.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1869/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1867", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1867/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1867/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1867/events", "html_url": "https://github.com/sktime/sktime/issues/1867", "id": 1099599428, "node_id": "I_kwDOCVKAsc5Bio5E", "number": 1867, "title": "[BUG]", "user": {"login": "zabbix-byte", "id": 67012651, "node_id": "MDQ6VXNlcjY3MDEyNjUx", "avatar_url": "https://avatars.githubusercontent.com/u/67012651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zabbix-byte", "html_url": "https://github.com/zabbix-byte", "followers_url": "https://api.github.com/users/zabbix-byte/followers", "following_url": "https://api.github.com/users/zabbix-byte/following{/other_user}", "gists_url": "https://api.github.com/users/zabbix-byte/gists{/gist_id}", "starred_url": "https://api.github.com/users/zabbix-byte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zabbix-byte/subscriptions", "organizations_url": "https://api.github.com/users/zabbix-byte/orgs", "repos_url": "https://api.github.com/users/zabbix-byte/repos", "events_url": "https://api.github.com/users/zabbix-byte/events{/privacy}", "received_events_url": "https://api.github.com/users/zabbix-byte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-11T20:43:28Z", "updated_at": "2022-01-11T20:44:19Z", "closed_at": "2022-01-11T20:44:12Z", "author_association": "NONE", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1867/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1866", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1866/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1866/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1866/events", "html_url": "https://github.com/sktime/sktime/issues/1866", "id": 1099597670, "node_id": "I_kwDOCVKAsc5Biodm", "number": 1866, "title": "[BUG] Four classifiers failing `fit` when not enough time points (10)", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-01-11T20:40:56Z", "updated_at": "2022-01-12T21:27:20Z", "closed_at": "2022-01-12T21:27:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Multiple time series classifiers seem to be failing when the number of time points is too small.\r\n\r\nI've verified this with `DrCIF` and `SupervisedTimeSeriesForest` on win py3.9, other estimators that may be affected are: `HIVECOTEV2`, `MUSE`.\r\n\r\nThe following code runs:\r\n```python\r\nfrom sktime.utils._testing.panel import _make_classification_y, _make_panel_X\r\n\r\nT = 20\r\n\r\ny = _make_classification_y(n_instances=10, random_state=42)\r\nX = _make_panel_X(n_instances=10, n_timepoints=T, random_state=42, y=y)\r\n\r\nmy_cls = DrCIF().fit(X, y)\r\n```\r\n\r\nThe following code does not run:\r\n```python\r\nfrom sktime.utils._testing.panel import _make_classification_y, _make_panel_X\r\n\r\nT = 10\r\n\r\ny = _make_classification_y(n_instances=10, random_state=42)\r\nX = _make_panel_X(n_instances=10, n_timepoints=T, random_state=42, y=y)\r\n\r\nmy_cls = DrCIF.create_test_instance().fit(X, y)\r\n```\r\n\r\nThe error message raised is non-informative.\r\n\r\nI'd expect the code to run, in both cases, or at least raise an informative error message in the second case.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1857", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1857/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1857/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1857/events", "html_url": "https://github.com/sktime/sktime/issues/1857", "id": 1097168209, "node_id": "I_kwDOCVKAsc5BZXVR", "number": 1857, "title": "[DOC] Formulae in `distances` module seem incorrect", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-09T11:13:52Z", "updated_at": "2022-03-01T08:37:22Z", "closed_at": "2022-03-01T08:37:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The formulae in the `distances` module docstrings seem incorrect:\r\n\r\n* `wdtw_distance`, `wddtw_distance`: There is reference to a weight vector `w`, but it is not an input to the formula. How is `w` computed? (or defined?)\r\n* `ddtw_distance`: symbol `x` is unbound on LHS, but does not appear on RHS; `d_q` is referenced in \"where\" but does not appear at all. Further, is this meant to be the second finite difference, then it's not correct.\r\n* `ddtw_distance`, `wddtw_distance`: the distance itself is never defined.\r\n\r\nFYI @TonyBagnall, @chrisholder.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1857/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1846", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1846/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1846/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1846/events", "html_url": "https://github.com/sktime/sktime/pull/1846", "id": 1096432765, "node_id": "PR_kwDOCVKAsc4wqlRN", "number": 1846, "title": "[BUG] bugfixes for various bugs discovered in scenario testing", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-07T15:44:46Z", "updated_at": "2022-01-19T16:29:59Z", "closed_at": "2022-01-19T16:29:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1846", "html_url": "https://github.com/sktime/sktime/pull/1846", "diff_url": "https://github.com/sktime/sktime/pull/1846.diff", "patch_url": "https://github.com/sktime/sktime/pull/1846.patch", "merged_at": "2022-01-19T16:29:58Z"}, "body": "Testing using scenarios https://github.com/alan-turing-institute/sktime/pull/1833 has uncovered a number of bugs that went undetected due to limited input case coverage prior. The smaller ones are fixed here.\r\n\r\nThis does *not* assume the scenario testing PR which is still a draft.\r\n\r\nBugs fixed:\r\n* bug in `StackingForecaster`: passing `X` raised `NotImplementedError`, while instead the argument `X` should have been ignored. In fact, `X` could have been used in the forecaster, which is what happens now.\r\n* bug in `StackingForecaster`, `X` was passed to the `fh` argument of `_predict_forecasters`; `fh` was using `self.fh` and not input to `_fit` and `_predict` (which comes from `self.fh`, but it should be passed/referenced)\r\n* the pipelines inheriting from `_Pipeline` were using a test case pipeline that would break for multivariate input, since the component `BoxCoxTransformer` was univariate. This has been replaced by `ExponentTransformer`\r\n* test example for `FunctionTransformer` was breaking if negative values were passed, since log was the `transform` and exp the `inverse_transform`, which would negative values to nan. The other way round there is no problem, so switched it.\r\n* in `_HeterogeneousEnsembleForecaster`, `return_pred_int` based raises were removed, because all this does is iterate over `fit`s or `predict`s in the ensemble (which can pass the args on 1:1)\r\n* `AlignerDTWfromDist` did not clone parameter `dist_trafo` before fitting, as is required by sklearn interface (`__init__` parameters should be cloned if estimators). Added a `clone`.\r\n* `ThetaLinesTransformer._transform` would break for `X` being `pd.DataFrame`, despite a docstring claim that one-column `pd.DataFrame` were supported. Fixed.\r\n\r\nChanges which are not bugfixes:\r\n* changed check upon `\"X-y-must-have-same-index\"=True` in `BaseForecaster` to fail only when `X.index` does not contain `y.index`, instead requiring those to be equal.\r\n\r\nTodo (not fixed):\r\n* pipelines need to infer correctly whether they support univariate data or not. For instance, the `TransformedTargetForecaster` will not support multivariate forecasts if one of the transformers is univariate.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1846/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1835", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1835/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1835/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1835/events", "html_url": "https://github.com/sktime/sktime/issues/1835", "id": 1094741347, "node_id": "I_kwDOCVKAsc5BQG1j", "number": 1835, "title": "[BUG] `ignores-exogeneous` tag incorrectly set in a few forecasters", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-05T21:03:12Z", "updated_at": "2022-01-19T23:19:41Z", "closed_at": "2022-01-19T23:19:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Update - estimators where the `ignores-exogeneous` tag needs to be fixed:\r\n\r\n- [x] ARIMA family, may have to be set to `False` (see below)\r\n- [x] `TrendForecaster`, should be set to `True\r\n\r\n---\r\n**Describe the bug**\r\nTag `ignores-exogeneous-X` for some models may not be set correctly, e.g. for ARIMA model (seems to support exogenous variables in `sktime`), but tag indicates otherwise.\r\n\r\n**To Reproduce**\r\n\r\nhttps://gist.github.com/ngupta23/61c0d18ccf89b8b607acf21b8833f7bb\r\n\r\n\r\n**Expected behavior**\r\nARIMA should show the support for X (currently tag `ignores-exogeneous-X` is marked as True)\r\n\r\n**Additional context**\r\nWould also like to know which of the models support exogenous variables. Is there a quick way to find this?\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.12 (default, Sep 10 2021, 00:21:48)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.144+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.1\r\n       sktime: 0.9.0\r\n  statsmodels: 0.13.1\r\n        numpy: 1.19.3\r\n        scipy: 1.4.1\r\n       Cython: 0.29.24\r\n       pandas: 1.1.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: 1.8.4\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1835/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1826", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1826/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1826/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1826/events", "html_url": "https://github.com/sktime/sktime/issues/1826", "id": 1093549319, "node_id": "I_kwDOCVKAsc5BLj0H", "number": 1826, "title": "[BUG] Catch22 on multivariate time series extracts 22 features in total instead of 22 features per variable/column", "user": {"login": "Sinnaeve", "id": 44375591, "node_id": "MDQ6VXNlcjQ0Mzc1NTkx", "avatar_url": "https://avatars.githubusercontent.com/u/44375591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sinnaeve", "html_url": "https://github.com/Sinnaeve", "followers_url": "https://api.github.com/users/Sinnaeve/followers", "following_url": "https://api.github.com/users/Sinnaeve/following{/other_user}", "gists_url": "https://api.github.com/users/Sinnaeve/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sinnaeve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sinnaeve/subscriptions", "organizations_url": "https://api.github.com/users/Sinnaeve/orgs", "repos_url": "https://api.github.com/users/Sinnaeve/repos", "events_url": "https://api.github.com/users/Sinnaeve/events{/privacy}", "received_events_url": "https://api.github.com/users/Sinnaeve/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-01-04T16:44:51Z", "updated_at": "2022-01-25T21:13:17Z", "closed_at": "2022-01-25T21:13:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nI tried to use Catch22 to extract features of multivariate time series.\r\nI followed the example from main/examples/catch22.ipynb\r\nUsing the multivariate data from this example I have an input of 40 instannces each with 6 series of 100 data points. (40x6x100)\r\nI would expect 22 features per univariate series so an output of 40 instances each with 6 sets of 22 features (40x6x22), but I have an output of size 40x22.\r\nIt's writed: \"The default procedure will concatenate each column prior to transformation\" in the notebook, does that mean that for each instances, the algorithm take the 6 series (for 6 dimensions/columns) and flatten them in a single 600 data point time series ?\r\nDoes the features extracted means something then ? From what I uderstand from catch22 paper, they test their feature extraction method on univariate time series, so I would expect the multivariate version of the implementation of catch22 to apply the feature extractions mehod to each of the 6 univariate time series individually and concatenate the result after. \r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_basic_motions\r\nfrom sktime.transformations.panel.catch22 import Catch22\r\nBM_X_train, BM_y_train = load_basic_motions(split=\"train\", return_X_y=True)\r\nprint(BM_X_train.shape, BM_X_train.iloc[0,0].shape)\r\nc22_mv = Catch22()\r\nc22_output = c22_mv.fit_transform(BM_X_train)\r\nprint(c22_output.shape, c22_output.iloc[0,0])\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nI would expect the multivariate version of the implementation of catch22 to apply the feature extractions mehod to each of the 6 univariate time series individually and concatenate the result after.\r\nLike if I use a column transformer on each columns individually:\r\n```python\r\nfrom sktime.transformations.panel.compose import ColumnTransformer\r\ntransformer = ColumnTransformer(\r\n    transformers = [(str(i), Catch22(), [BM_X_train.columns[i]]) for i in range(BM_X_train.shape[1])]\r\n)\r\nc22_output = transformer.fit_transform(BM_X_train)\r\nprint(c22_output.shape, c22_output.iloc[0,0])\r\n```\r\nAlthought different format of the outputs could work as discussed here: https://github.com/alan-turing-institute/sktime/issues/1719\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n'0.9.0'\r\n<details>\r\nSystem:\r\n    python: 3.8.12\r\nPython dependencies:\r\n          pip: 21.2.2\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0.1\r\n       sktime: 0.9.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.7.3\r\n       Cython: None\r\n       pandas: 1.3.5\r\n   matplotlib: 3.5.1\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1825", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1825/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1825/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1825/events", "html_url": "https://github.com/sktime/sktime/issues/1825", "id": 1093400909, "node_id": "I_kwDOCVKAsc5BK_lN", "number": 1825, "title": "[BUG] unspecified bug with `KNeighborsTimeSeriesClassifier` in 0.8.0", "user": {"login": "Moooser", "id": 38441019, "node_id": "MDQ6VXNlcjM4NDQxMDE5", "avatar_url": "https://avatars.githubusercontent.com/u/38441019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Moooser", "html_url": "https://github.com/Moooser", "followers_url": "https://api.github.com/users/Moooser/followers", "following_url": "https://api.github.com/users/Moooser/following{/other_user}", "gists_url": "https://api.github.com/users/Moooser/gists{/gist_id}", "starred_url": "https://api.github.com/users/Moooser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Moooser/subscriptions", "organizations_url": "https://api.github.com/users/Moooser/orgs", "repos_url": "https://api.github.com/users/Moooser/repos", "events_url": "https://api.github.com/users/Moooser/events{/privacy}", "received_events_url": "https://api.github.com/users/Moooser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-04T14:18:40Z", "updated_at": "2022-01-25T21:22:20Z", "closed_at": "2022-01-25T21:21:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\ndtw_distance in sktime.distances.elastic_cython leads to very bad classification result on ArrowHead Dataset in Version 0.8\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nTrain OneNN on ArrowHead Dataset with different versions of dtw distance and compare the results\r\n-->\r\n\r\n```python\r\n\r\n# Version that works fine (V1)\r\nfrom sktime.distances.elastic import dtw_distance\r\noneNNDTW = KNeighborsTimeSeriesClassifier(distance=dtw_distance)\r\n\r\n# Version that works not as expected (V2)\r\nfrom sktime.distances.elastic_cython import dtw_distance\r\noneNNDTW = KNeighborsTimeSeriesClassifier(distance=dtw_distance)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nBoth versions should lead to similar accuracy in classification result. But: V2 leads to classification result of 0.4857, while V1 leads to 0.7657.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\n\r\n-->\r\n\r\n**Versions**\r\n0.8.0\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\npython: 3.9.7 (default, Sep 16 2021, 08:50:36)  [Clang 10.0.0 ]\r\nexecutable:{ .....}bin/python\r\n   machine: macOS-10.15.7-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0\r\n       sktime: 0.8.0\r\n  statsmodels: 0.13.0\r\n        numpy: 1.20.3\r\n        scipy: 1.7.1\r\n       Cython: None\r\n       pandas: 1.3.4\r\n   matplotlib: 3.4.3\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n-->\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1825/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1824", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1824/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1824/events", "html_url": "https://github.com/sktime/sktime/issues/1824", "id": 1093374956, "node_id": "I_kwDOCVKAsc5BK5Ps", "number": 1824, "title": "[BUG] `ValueError` when using `TSFreshRelevantFeatureExtractor` related to `impute_function` argument in a case where no imputation is needed or intended", "user": {"login": "curtisraymond", "id": 57142499, "node_id": "MDQ6VXNlcjU3MTQyNDk5", "avatar_url": "https://avatars.githubusercontent.com/u/57142499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/curtisraymond", "html_url": "https://github.com/curtisraymond", "followers_url": "https://api.github.com/users/curtisraymond/followers", "following_url": "https://api.github.com/users/curtisraymond/following{/other_user}", "gists_url": "https://api.github.com/users/curtisraymond/gists{/gist_id}", "starred_url": "https://api.github.com/users/curtisraymond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/curtisraymond/subscriptions", "organizations_url": "https://api.github.com/users/curtisraymond/orgs", "repos_url": "https://api.github.com/users/curtisraymond/repos", "events_url": "https://api.github.com/users/curtisraymond/events{/privacy}", "received_events_url": "https://api.github.com/users/curtisraymond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-01-04T13:50:13Z", "updated_at": "2022-12-01T12:56:26Z", "closed_at": "2022-12-01T12:56:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nIt appears as though the **impute_function** parameter within the **TSFreshRelevantFeatureExtractor** function isn't working as it should be. My custom **impute_dataframe_zero** function for the **impute_function** parameter  should be converting all the NAN values to 0.\r\n\r\n![1](https://user-images.githubusercontent.com/57142499/148068121-ace40e35-b57b-4f61-9f03-3ff3d9acd1e2.png)\r\n![3](https://user-images.githubusercontent.com/57142499/148068134-575503fd-1200-423b-9223-17248728078d.png)\r\n![2](https://user-images.githubusercontent.com/57142499/148068143-ba1dbab5-ddd4-4c93-896d-d3ab35770023.png)\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\curtis\\anaconda3\\python.exe\r\n   machine: Windows-10-10.0.22000-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 50.3.1.post20201107\r\n      sklearn: 1.0.1\r\n       sktime: 0.8.1\r\n  statsmodels: 0.13.1\r\n        numpy: 1.20.3\r\n        scipy: 1.7.1\r\n       Cython: 0.29.26\r\n       pandas: 1.3.3\r\n   matplotlib: 3.3.2\r\n       joblib: 1.1.0\r\n        numba: 0.51.2\r\n     pmdarima: None\r\n      tsfresh: 0.19.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1813", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1813/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1813/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1813/events", "html_url": "https://github.com/sktime/sktime/pull/1813", "id": 1091578071, "node_id": "PR_kwDOCVKAsc4wa-Pz", "number": 1813, "title": "[BUG] remove duplicated input checks from `BaseClassifier.score`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-31T13:51:47Z", "updated_at": "2021-12-31T17:35:06Z", "closed_at": "2021-12-31T17:35:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1813", "html_url": "https://github.com/sktime/sktime/pull/1813", "diff_url": "https://github.com/sktime/sktime/pull/1813.diff", "patch_url": "https://github.com/sktime/sktime/pull/1813.patch", "merged_at": "2021-12-31T17:35:05Z"}, "body": "This PR removes unnecessary duplicated input checks from `BaseClassifier.score`.\r\n\r\nSince `score` calls `predict`, which directly does the same input checks again at the beginning, this is superfluous.\r\n\r\nIt also caused a downstream error with `ColumnEnsembleClassifier` which is not yet refactored to the new interface, hence inherits the \"univariate\" tag despite being multivariate. Since the original `ColumnEnsembleClassifier` overrides `fit`/`predict` but not `score`, this will cause an exception if multivariate data are being passed to `score`.\r\nThe `score` function is used in notebook 3, and causes the notebook to break, hence.\r\n\r\nThis downstream error is also fixed by the removal of the duplication.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1813/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1812", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1812/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1812/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1812/events", "html_url": "https://github.com/sktime/sktime/issues/1812", "id": 1091574386, "node_id": "I_kwDOCVKAsc5BEBpy", "number": 1812, "title": "[BUG] running `examples/03_classification_multivariate.ipynb` fails in CI", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-31T13:37:22Z", "updated_at": "2022-01-02T13:00:21Z", "closed_at": "2022-01-02T13:00:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nSome recent changes made are triggering this notebook failue in CI. Discovered in #1620 after rebasing on the latest master.\r\n\r\n```bash\r\nnbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:\r\n------------------\r\nclf = ColumnEnsembleClassifier(\r\n    estimators=[\r\n        (\"TSF0\", TimeSeriesForestClassifier(n_estimators=100), [0]),\r\n        (\"BOSSEnsemble3\", BOSSEnsemble(max_ensemble_size=5), [3]),\r\n    ]\r\n)\r\nclf.fit(X_train, y_train)\r\nclf.score(X_test, y_test)\r\n------------------\r\n\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n/tmp/ipykernel_2217/3652702281.py in <module>\r\n      6 )\r\n      7 clf.fit(X_train, y_train)\r\n----> 8 clf.score(X_test, y_test)\r\n\r\n/opt/hostedtoolcache/Python/3.7.12/x64/lib/python3.7/site-packages/sktime/classification/base.py in score(self, X, y)\r\n    210 \r\n    211         # boilerplate input checks for predict-like methods\r\n--> 212         X = self._check_convert_X_for_predict(X)\r\n    213 \r\n    214         return accuracy_score(y, self.predict(X), normalize=True)\r\n\r\n/opt/hostedtoolcache/Python/3.7.12/x64/lib/python3.7/site-packages/sktime/classification/base.py in _check_convert_X_for_predict(self, X)\r\n    237         unequal = not self.metadata_[\"is_equal_length\"]\r\n    238         # Check this classifier can handle characteristics\r\n--> 239         self._check_capabilities(missing, multivariate, unequal)\r\n    240         # Convert data as dictated by the classifier tags\r\n    241         X = self._convert_X(X)\r\n\r\n/opt/hostedtoolcache/Python/3.7.12/x64/lib/python3.7/site-packages/sktime/classification/base.py in _check_capabilities(self, missing, multivariate, unequal)\r\n    353             # compatibility with the testing functions\r\n    354             raise ValueError(\r\n--> 355                 \"X must be univariate, this classifier cannot deal with \"\r\n    356                 \"multivariate input.\"\r\n    357             )\r\n\r\nValueError: X must be univariate, this classifier cannot deal with multivariate input.\r\nValueError: X must be univariate, this classifier cannot deal with multivariate input.\r\n```\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\njupyter nbconvert --to notebook --inplace --execute --ExecutePreprocessor.timeout=600 examples/03_classification_multivariate.ipynb\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1812/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1810", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1810/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1810/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1810/events", "html_url": "https://github.com/sktime/sktime/pull/1810", "id": 1091562346, "node_id": "PR_kwDOCVKAsc4wa7CW", "number": 1810, "title": "[BUG] fix `FeatureUnion` test failure mk4", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-31T12:59:42Z", "updated_at": "2022-03-19T21:15:49Z", "closed_at": "2022-03-19T21:15:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1810", "html_url": "https://github.com/sktime/sktime/pull/1810", "diff_url": "https://github.com/sktime/sktime/pull/1810.diff", "patch_url": "https://github.com/sktime/sktime/pull/1810.patch", "merged_at": "2022-03-19T21:15:48Z"}, "body": "Another attempted fix for #1662 which PR #1665, #1701 did not fix. Hopefully the definitive fix now.\r\n\r\nThis fix completely rewrites the `FeatureUnion` instead of inheriting from the `sklearn` one.\r\nWith the new transformers refactor, we can simply use `pandas` functionality to merge/concatenate data frames internally, while the framework does the rest.\r\n\r\nMinor complication:\r\nWith the transformer refactor, the \"row-wise transformer\" have become obsolete, since vectorization (to panel) is performed automatically whenever such a data container is encountered.\r\nSome tests not directly related to the `FeatureUnion` but also using `FeatureUnion` were still using them, so I `xfailed` them for the time being, until the `RowTransformer`s are entirely removed, see issue #2179.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1810/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1805", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1805/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1805/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1805/events", "html_url": "https://github.com/sktime/sktime/pull/1805", "id": 1091138508, "node_id": "PR_kwDOCVKAsc4wZjs1", "number": 1805, "title": "[BUG] fixed mtype return field in `check_is_scitype`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-30T14:28:45Z", "updated_at": "2021-12-31T23:52:43Z", "closed_at": "2021-12-31T23:52:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1805", "html_url": "https://github.com/sktime/sktime/pull/1805", "diff_url": "https://github.com/sktime/sktime/pull/1805.diff", "patch_url": "https://github.com/sktime/sktime/pull/1805.patch", "merged_at": "2021-12-31T23:52:43Z"}, "body": "The `\"mtype\"` return field of the optional metadata dict returned by `check_is_scitype` was incorrectly always returning the integer 0 instead of the inferred mtype, due to a type.\r\n\r\nThis has been fixed in this PR.\r\n\r\nThe bug masked another bug in the new classifier base class introduced by PR https://github.com/alan-turing-institute/sktime/pull/1594: the `predict` etc (non-state changing) methods were writing to `self`, via the boilerplate code that, for some reason, stored the `check_is_mtype` metadata to `self` in the input checks.\r\nThis has been changed to merely using it temporarily, which fixes the masked bug, too.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1805/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1804", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1804/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1804/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1804/events", "html_url": "https://github.com/sktime/sktime/pull/1804", "id": 1089969992, "node_id": "PR_kwDOCVKAsc4wVyDJ", "number": 1804, "title": "[ENH] bugfix in BaseClassifier, updated base class docstrings", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-28T15:28:09Z", "updated_at": "2021-12-28T20:44:59Z", "closed_at": "2021-12-28T20:44:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1804", "html_url": "https://github.com/sktime/sktime/pull/1804", "diff_url": "https://github.com/sktime/sktime/pull/1804.diff", "patch_url": "https://github.com/sktime/sktime/pull/1804.patch", "merged_at": "2021-12-28T20:44:58Z"}, "body": "This PR contains four minor changes to `BaseClassifier`:\r\n\r\n* bugfix in `_check_classifier_input`, this was using `shape` of `X` assumed `numpy` or `pandas` instead of the `metadata[\"n_instances\"]` field. This yields wrong results for `pd-multiindex` and potentially other mtypes.\r\n* bugfix in `score`, this did not conduct any input checks or conversions on `X`\r\n* docstrings updated to reflect the correct assumptions on input types - after refactor, `BaseClassifier` can handle all `Panel` input\r\n* moved repeated, identical boilerplate code from `predict`, `predict_proba`, `score` into a new method `_check_convert_X_for_predict` (feel free to revert this if you don't like @TonyBagnall)", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1804/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1804/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1803", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1803/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1803/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1803/events", "html_url": "https://github.com/sktime/sktime/issues/1803", "id": 1089349794, "node_id": "I_kwDOCVKAsc5A7iii", "number": 1803, "title": "[BUG] multiple tests related to `FRESH` fail on all platforms and python versions", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-12-27T16:35:22Z", "updated_at": "2022-01-23T00:26:21Z", "closed_at": "2022-01-23T00:26:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nI found another test failing on all platforms and python versions.\r\n\r\n<details>\r\n<summary>test_fresh_prince_on_unit_test_data</summary>\r\n\r\n```python\r\n================================== FAILURES ===================================\r\n_____________________ test_fresh_prince_on_unit_test_data _____________________\r\n[gw0] win32 -- Python 3.8.5 C:\\Miniconda\\envs\\test\\python.exe\r\n\r\n    def test_fresh_prince_on_unit_test_data():\r\n        \"\"\"Test of FreshPRINCE on unit test data.\"\"\"\r\n        # load unit test data\r\n        X_train, y_train = load_unit_test(split=\"train\")\r\n        X_test, y_test = load_unit_test(split=\"test\")\r\n        indices = np.random.RandomState(0).choice(len(y_train), 10, replace=False)\r\n    \r\n        # train FreshPRINCE classifier\r\n        fp = FreshPRINCE(\r\n            random_state=0,\r\n            default_fc_parameters=\"minimal\",\r\n            n_estimators=10,\r\n            save_transformed_data=True,\r\n        )\r\n        fp.fit(X_train, y_train)\r\n    \r\n        # assert probabilities are the same\r\n        probas = fp.predict_proba(X_test.iloc[indices])\r\n>       testing.assert_array_almost_equal(probas, fp_classifier_unit_test_probas, decimal=2)\r\nE       AssertionError: \r\nE       Arrays are not almost equal to 2 decimals\r\nE       \r\nE       Mismatched elements: 10 / 20 (50%)\r\nE       Max absolute difference: 0.2\r\nE       Max relative difference: 1.\r\nE        x: array([[0.2, 0.8],\r\nE              [1. , 0. ],\r\nE              [0. , 1. ],...\r\nE        y: array([[0.2, 0.8],\r\nE              [1. , 0. ],\r\nE              [0.1, 0.9],...\r\n\r\nX_test     =                                                 dim_0\r\n0   0      501.0\r\n1      328.0\r\n2      195.0\r\n3      ...\r\n1   0     ...\r\n3      ...\r\n20  0       95.0\r\n1       63.0\r\n2       45.0\r\n3      ...\r\n21  0      193.0\r\n1      195.0\r\n2       90.0\r\n3      ...\r\nX_train    =                                                 dim_0\r\n0   0      573.0\r\n1      375.0\r\n2      301.0\r\n3      ...\r\n1   0     ...\r\n3      ...\r\n18  0       95.0\r\n1       63.0\r\n2       45.0\r\n3      ...\r\n19  0       82.0\r\n1       93.0\r\n2       51.0\r\n3      ...\r\nfp         = FreshPRINCE(chunksize=None, default_fc_parameters='minimal', n_estimators=10,\r\n            n_jobs=1, random_state=0, save_transformed_data=True, verbose=0)\r\nindices    = array([18,  1, 19,  8, 10, 17,  6, 13,  4,  2])\r\nprobas     = array([[0.2, 0.8],\r\n       [1. , 0. ],\r\n       [0. , 1. ],\r\n       [1. , 0. ],\r\n       [1. , 0. ],\r\n       [1. , 0. ],\r\n       [1. , 0. ],\r\n       [1. , 0. ],\r\n       [1. , 0. ],\r\n       [1. , 0. ]])\r\ny_test     = array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2',\r\n       '2', '2', '2', '2', '2', '2', '2', '2', '2'], dtype='<U1')\r\ny_train    = <details>\r\n<summary>test_fresh_prince_on_unit_test_data</summary>array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2', '2', '2',\r\n       '2', '2', '2', '2', '2', '2', '2'], dtype='<U1')\r\n\r\nC:\\Miniconda\\envs\\test\\lib\\site-packages\\sktime\\classification\\feature_based\\tests\\test_fresh_prince.py:29: AssertionError\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>test_tsfresh_classifier_on_unit_test_data failure</summary>\r\n\r\n```python\r\n__________________ test_tsfresh_classifier_on_unit_test_data __________________\r\n[gw0] win32 -- Python 3.8.5 C:\\Miniconda\\envs\\test\\python.exe\r\n\r\n    def test_tsfresh_classifier_on_unit_test_data():\r\n        \"\"\"Test of TSFreshClassifier on unit test data.\"\"\"\r\n        # load unit test data\r\n        X_train, y_train = load_unit_test(split=\"train\")\r\n        X_test, y_test = load_unit_test(split=\"test\")\r\n        indices = np.random.RandomState(0).choice(len(y_train), 10, replace=False)\r\n    \r\n        # train TSFresh classifier\r\n        tsfc = TSFreshClassifier(\r\n            random_state=0,\r\n            default_fc_parameters=\"minimal\",\r\n            relevant_feature_extractor=False,\r\n            estimator=RandomForestClassifier(n_estimators=10),\r\n        )\r\n        tsfc.fit(X_train, y_train)\r\n    \r\n        # assert probabilities are the same\r\n        probas = tsfc.predict_proba(X_test.iloc[indices])\r\n>       testing.assert_array_almost_equal(\r\n            probas, tsfresh_classifier_unit_test_probas, decimal=2\r\n        )\r\nE       AssertionError: \r\nE       Arrays are not almost equal to 2 decimals\r\nE       \r\nE       Mismatched elements: 10 / 20 (50%)\r\nE       Max absolute difference: 0.2\r\nE       Max relative difference: 2.\r\nE        x: array([[0.1, 0.9],\r\nE              [0.7, 0.3],\r\nE              [0. , 1. ],...\r\nE        y: array([[0. , 1. ],\r\nE              [0.9, 0.1],\r\nE              [0. , 1. ],...\r\n\r\nX_test     =                                                 dim_0\r\n0   0      501.0\r\n1      328.0\r\n2      195.0\r\n3      ...\r\n1   0     ...\r\n3      ...\r\n20  0       95.0\r\n1       63.0\r\n2       45.0\r\n3      ...\r\n21  0      193.0\r\n1      195.0\r\n2       90.0\r\n3      ...\r\nX_train    =                                                 dim_0\r\n0   0      573.0\r\n1      375.0\r\n2      301.0\r\n3      ...\r\n1   0     ...\r\n3      ...\r\n18  0       95.0\r\n1       63.0\r\n2       45.0\r\n3      ...\r\n19  0       82.0\r\n1       93.0\r\n2       51.0\r\n3      ...\r\nindices    = array([18,  1, 19,  8, 10, 17,  6, 13,  4,  2])\r\nprobas     = array([[0.1, 0.9],\r\n       [0.7, 0.3],\r\n       [0. , 1. ],\r\n       [0.9, 0.1],\r\n       [0.8, 0.2],\r\n       [1. , 0. ],\r\n       [0.6, 0.4],\r\n       [0.9, 0.1],\r\n       [1. , 0. ],\r\n       [0.9, 0.1]])\r\ntsfc       = TSFreshClassifier(chunksize=None, default_fc_parameters='minimal',\r\n                  estimator=RandomForestClassifier(...tart=False),\r\n                  n_jobs=1, random_state=0, relevant_feature_extractor=False,\r\n                  verbose=0)\r\ny_test     = array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2',\r\n       '2', '2', '2', '2', '2', '2', '2', '2', '2'], dtype='<U1')\r\ny_train    = array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2', '2', '2',\r\n       '2', '2', '2', '2', '2', '2', '2'], dtype='<U1')\r\n\r\nC:\\Miniconda\\envs\\test\\lib\\site-packages\\sktime\\classification\\feature_based\\tests\\test_tsfresh_classifier.py:29: AssertionError\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>test_tsfresh_classifier_on_basic_motions</summary>\r\n\r\n```python\r\n__________________ test_tsfresh_classifier_on_basic_motions ___________________\r\n[gw1] win32 -- Python 3.8.5 C:\\Miniconda\\envs\\test\\python.exe\r\n\r\n    def test_tsfresh_classifier_on_basic_motions():\r\n        \"\"\"Test of TSFreshClassifier on basic motions.\"\"\"\r\n        # load basic motions data\r\n        X_train, y_train = load_basic_motions(split=\"train\")\r\n        X_test, y_test = load_basic_motions(split=\"test\")\r\n        indices = np.random.RandomState(4).choice(len(y_train), 10, replace=False)\r\n    \r\n        # train TSFresh classifier\r\n        tsfc = TSFreshClassifier(\r\n            random_state=0,\r\n            default_fc_parameters=\"minimal\",\r\n            relevant_feature_extractor=False,\r\n            estimator=RandomForestClassifier(n_estimators=10),\r\n        )\r\n        tsfc.fit(X_train.iloc[indices], y_train[indices])\r\n    \r\n        # assert probabilities are the same\r\n        probas = tsfc.predict_proba(X_test.iloc[indices])\r\n>       testing.assert_array_almost_equal(\r\n            probas, tsfresh_classifier_basic_motions_probas, decimal=2\r\n        )\r\nE       AssertionError: \r\nE       Arrays are not almost equal to 2 decimals\r\nE       \r\nE       Mismatched elements: 14 / 40 (35%)\r\nE       Max absolute difference: 0.2\r\nE       Max relative difference: 1.\r\nE        x: array([[0. , 0. , 0.2, 0.8],\r\nE              [0.4, 0.3, 0. , 0.3],\r\nE              [0. , 0. , 0.8, 0.2],...\r\nE        y: array([[0. , 0. , 0.2, 0.8],\r\nE              [0.4, 0.2, 0.1, 0.3],\r\nE              [0. , 0. , 0.9, 0.1],...\r\n\r\nX_test     =                                                 dim_0  ...                                              dim_5\r\n0   0   ...901645\r\n1      0.901645\r\n2     -0.05469...  ...  0     0.245030\r\n1     0.245030\r\n2     0.005327\r\n3...\r\n\r\n[40 rows x 6 columns]\r\nX_train    =                                                 dim_0  ...                                              dim_5\r\n0   0   ...11973\r\n1     1.211973\r\n2    -0.605948\r\n3...  ...  0    -0.042614\r\n1    -0.042614\r\n2    -0.095881\r\n3...\r\n\r\n[40 rows x 6 columns]\r\nindices    = array([28, 39,  4, 15, 26, 20, 31,  7, 16, 11])\r\nprobas     = array([[0. , 0. , 0.2, 0.8],\r\n       [0.4, 0.3, 0. , 0.3],\r\n       [0. , 0. , 0.8, 0.2],\r\n       [0. , 1. , 0. , 0. ],\r\n  ...],\r\n       [0.5, 0.3, 0. , 0.2],\r\n       [0. , 0. , 0.9, 0.1],\r\n       [0.1, 0.9, 0. , 0. ],\r\n       [0. , 1. , 0. , 0. ]])\r\ntsfc       = TSFreshClassifier(chunksize=None, default_fc_parameters='minimal',\r\n                  estimator=RandomForestClassifier(...tart=False),\r\n                  n_jobs=1, random_state=0, relevant_feature_extractor=False,\r\n                  verbose=0)\r\ny_test     = array(['standing', 'standing', 'standing', 'standing', 'standing',\r\n       'standing', 'standing', 'standing', 'standin...\r\n       'badminton', 'badminton', 'badminton', 'badminton', 'badminton',\r\n       'badminton', 'badminton'], dtype='<U9')\r\ny_train    = array(['standing', 'standing', 'standing', 'standing', 'standing',\r\n       'standing', 'standing', 'standing', 'standin...\r\n       'badminton', 'badminton', 'badminton', 'badminton', 'badminton',\r\n       'badminton', 'badminton'], dtype='<U9')\r\n\r\nC:\\Miniconda\\envs\\test\\lib\\site-packages\\sktime\\classification\\feature_based\\tests\\test_tsfresh_classifier.py:52: AssertionError\r\n```\r\n\r\n</details>\r\n\r\n**To Reproduce**\r\n\r\nIn order to reproduce you need to bump statsmodels to `>=0.13` or use sktime version from #1620 PR.\r\n\r\nTo recreate the env you can use:\r\n\r\n```bash\r\nconda install -c anaconda libpython\r\nconda install -c anaconda \"pystan==2.19.1.1\"\r\nconda install -c conda-forge \"fbprophet>=0.7.1\"\r\nconda install -c conda-forge scipy cython matplotlib\r\npython -m pip install .[all_extras,dev]\r\n```\r\n\r\nthen run the test with:\r\n\r\n```bash\r\npython -m pytest --showlocals --durations=10 --cov-report=xml -n 2 --cov=sktime -v --pyargs sktime\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nTest passes\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1791", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1791/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1791/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1791/events", "html_url": "https://github.com/sktime/sktime/issues/1791", "id": 1086458058, "node_id": "I_kwDOCVKAsc5AwgjK", "number": 1791, "title": "[BUG] Conversion of univariate series to Sktime format for shapelet  discovery", "user": {"login": "aron-alarik", "id": 86116123, "node_id": "MDQ6VXNlcjg2MTE2MTIz", "avatar_url": "https://avatars.githubusercontent.com/u/86116123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aron-alarik", "html_url": "https://github.com/aron-alarik", "followers_url": "https://api.github.com/users/aron-alarik/followers", "following_url": "https://api.github.com/users/aron-alarik/following{/other_user}", "gists_url": "https://api.github.com/users/aron-alarik/gists{/gist_id}", "starred_url": "https://api.github.com/users/aron-alarik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aron-alarik/subscriptions", "organizations_url": "https://api.github.com/users/aron-alarik/orgs", "repos_url": "https://api.github.com/users/aron-alarik/repos", "events_url": "https://api.github.com/users/aron-alarik/events{/privacy}", "received_events_url": "https://api.github.com/users/aron-alarik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-22T05:13:51Z", "updated_at": "2022-03-18T15:29:20Z", "closed_at": "2022-03-18T15:29:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nHi I am trying to use shapelet transforms with SkTime, I have a univariate series in a pandas format as in the screen shot, trying to convert it to Sktime format as per the documentation, keep getting errors, tried adding default columns such as caseID etc but got an error : duplicate entries, any help on how to convert this to SkTime format. Stuck on this for several days now. \r\n![Screenshot 2021-12-22 025042](https://user-images.githubusercontent.com/86116123/147039091-af6a0b95-6934-4249-98b8-cfad4a434b8f.png)\r\n![Screenshot 2021-12-22 025126](https://user-images.githubusercontent.com/86116123/147039095-78580bbe-1862-47ec-a326-fa2bea74254b.png)\r\nThanks! \r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nSystem:\r\n    python: 3.7.12 (default, Sep 10 2021, 00:21:48)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.144+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.1\r\n       sktime: 0.9.0\r\n  statsmodels: 0.13.1\r\n        numpy: 1.19.5\r\n        scipy: 1.4.1\r\n       Cython: 0.29.24\r\n       pandas: 1.1.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n![Screenshot 2021-12-22 104149](https://user-images.githubusercontent.com/86116123/147039268-e0ea7249-6eed-4627-8183-546881bec9ff.png)\r\n\r\n-->\r\nHi I am trying to use shapelet transforms with SkTime, I have a univariate series in a pandas format as in the screen shot, trying to convert it to Sktime format as per the documentation, keep getting errors, tried adding default columns such as caseID etc but got an error : duplicate entries, any help on how to convert this to SkTime format. Stuck on this for several days now. \r\n![Screenshot 2021-12-22 025042](https://user-images.githubusercontent.com/86116123/147039091-af6a0b95-6934-4249-98b8-cfad4a434b8f.png)\r\n![Screenshot 2021-12-22 025126](https://user-images.githubusercontent.com/86116123/147039095-78580bbe-1862-47ec-a326-fa2bea74254b.png)\r\nThanks! \r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1791/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1789", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1789/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1789/events", "html_url": "https://github.com/sktime/sktime/pull/1789", "id": 1086253169, "node_id": "PR_kwDOCVKAsc4wJ6yn", "number": 1789, "title": "[BUG] `check_is_mtype` to return scitype", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-21T21:43:51Z", "updated_at": "2021-12-22T22:56:25Z", "closed_at": "2021-12-22T22:56:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1789", "html_url": "https://github.com/sktime/sktime/pull/1789", "diff_url": "https://github.com/sktime/sktime/pull/1789.diff", "patch_url": "https://github.com/sktime/sktime/pull/1789.patch", "merged_at": "2021-12-22T22:56:24Z"}, "body": "In discrepancy to the docstring, by mistake, `check_is_mtype` did not actually return the scitype in its metadata dict.\r\n\r\nThis has been added.\r\n\r\nIn the future I'll probably refactor `check_is_mtype` and `check_is_scitype` to use the same internal logic and be semi-aliases, and introduce some tests - the scope of this PR is to only fix the bug (vs specification).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1789/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1788", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1788/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1788/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1788/events", "html_url": "https://github.com/sktime/sktime/issues/1788", "id": 1086156442, "node_id": "I_kwDOCVKAsc5AvW6a", "number": 1788, "title": "[BUG] \"update_params=False\" for statsmodels adapter should call apply", "user": {"login": "raphaccf", "id": 56556788, "node_id": "MDQ6VXNlcjU2NTU2Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/56556788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raphaccf", "html_url": "https://github.com/raphaccf", "followers_url": "https://api.github.com/users/raphaccf/followers", "following_url": "https://api.github.com/users/raphaccf/following{/other_user}", "gists_url": "https://api.github.com/users/raphaccf/gists{/gist_id}", "starred_url": "https://api.github.com/users/raphaccf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raphaccf/subscriptions", "organizations_url": "https://api.github.com/users/raphaccf/orgs", "repos_url": "https://api.github.com/users/raphaccf/repos", "events_url": "https://api.github.com/users/raphaccf/events{/privacy}", "received_events_url": "https://api.github.com/users/raphaccf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "chillerobscuro", "id": 5232872, "node_id": "MDQ6VXNlcjUyMzI4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5232872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chillerobscuro", "html_url": "https://github.com/chillerobscuro", "followers_url": "https://api.github.com/users/chillerobscuro/followers", "following_url": "https://api.github.com/users/chillerobscuro/following{/other_user}", "gists_url": "https://api.github.com/users/chillerobscuro/gists{/gist_id}", "starred_url": "https://api.github.com/users/chillerobscuro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chillerobscuro/subscriptions", "organizations_url": "https://api.github.com/users/chillerobscuro/orgs", "repos_url": "https://api.github.com/users/chillerobscuro/repos", "events_url": "https://api.github.com/users/chillerobscuro/events{/privacy}", "received_events_url": "https://api.github.com/users/chillerobscuro/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chillerobscuro", "id": 5232872, "node_id": "MDQ6VXNlcjUyMzI4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5232872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chillerobscuro", "html_url": "https://github.com/chillerobscuro", "followers_url": "https://api.github.com/users/chillerobscuro/followers", "following_url": "https://api.github.com/users/chillerobscuro/following{/other_user}", "gists_url": "https://api.github.com/users/chillerobscuro/gists{/gist_id}", "starred_url": "https://api.github.com/users/chillerobscuro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chillerobscuro/subscriptions", "organizations_url": "https://api.github.com/users/chillerobscuro/orgs", "repos_url": "https://api.github.com/users/chillerobscuro/repos", "events_url": "https://api.github.com/users/chillerobscuro/events{/privacy}", "received_events_url": "https://api.github.com/users/chillerobscuro/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 28, "created_at": "2021-12-21T19:21:24Z", "updated_at": "2022-10-23T17:33:43Z", "closed_at": "2022-10-23T17:33:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current logic of  `update(update_params=False)` in the `statsmodels` interfaces is not correct, the model simply produces predictions it would have made before the update, instead of applying the fitted model to new data.\r\n\r\nInstead, the `apply` interface from `statsmodels` should be used appropriately, see the discussion below. Previously, this was available only for a few models, but seems to be a general interface point now.\r\n\r\n---\r\n**Describe the bug**\r\n\r\nAfter estimated a model, I would like to make forecast after my test set, but without updating parameters (changing the model parameters). This is specially important for comparison, moreover to forecast with new data without changing the model.\r\nI have tried to set `update_params=False` in \"update()\"  and in \"update_predict_single()\", but it seems that is not working. Dates (timestamp) are updated, but forecast is the same for the previous period. I do not know If I am doing something wrong, or it is a bug. I have an example with auto.arima (code bellow and pdf attached).\r\n\r\nKind regards\r\n\r\n**To Reproduce**\r\n\r\n```\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime import show_versions \r\nshow_versions()\r\n```\r\n```\r\n## data split\r\ny=load_airline() ## total observations\r\ny1 = y.head(y.shape[0]-6)  #train observations\r\ny2 = y.tail(6) # test observations\r\n```\r\n```\r\nforecaster = AutoARIMA(sp=12, suppress_warnings=True,random_state=123)\r\nz=forecaster.fit(y1)\r\nAutoARIMA(...)\r\ny_pred = forecaster.predict(fh=[1,2,3,4,5,6])\r\n### model configuration and parameters for train\r\nz.summary()\r\n```\r\n```\r\ny_pred_semfit = forecaster.predict(fh=[1,2,3,4,5,6]) ## o cutoff 1960-06\r\ny_pred_semfit\r\n```\r\n```\r\n## using a function from stkime for not update_params, but to forecast using the test portion of the data set (to append to train y1)\r\ny_pred = forecaster.update_predict_single(y_new=y2, update_params=False)\r\ny_pred\r\n### dates changed, but forecasted values are the same as above\r\n```\r\n\r\n```\r\n### just changing the input of the function\r\ny_pred = forecaster.update_predict_single(y=y, update_params=False)\r\ny_pred\r\n```\r\n\r\n```\r\n### another function from stkime, without update/retrain model parameters using update_params=False\r\nupdated_model =  forecaster.update(y=y, update_params=False)\r\nupdated_model.predict()\r\n```\r\n```\r\n### however, if we set \"update_params=True\", time for command excution increase and forecasted values change\r\nupdated_model =  forecaster.update(y=y2, update_params=True)\r\nupdated_model.predict()\r\n```\r\n\r\n```\r\n## but model parameters/configuration are different\r\nupdated_model.summary()\r\n```\r\n\r\n```\r\n### using another function from Sktime, .fit_predict, the same results as above\r\ny_pred = forecaster.fit_predict(y,fh=[1,2,3,4,5,6])\r\ny_pred\r\n```\r\n[Sktime_update_model.pdf](https://github.com/alan-turing-institute/sktime/files/7757528/Sktime_update_model.pdf)\r\n\r\n`forecaster.summary()`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1788/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1783", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1783/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1783/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1783/events", "html_url": "https://github.com/sktime/sktime/issues/1783", "id": 1084182372, "node_id": "I_kwDOCVKAsc5An09k", "number": 1783, "title": "[BUG] catch22.ipynb notebooks throws  'Catch22' object has no attribute '_transform_single_feature'", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-19T20:17:41Z", "updated_at": "2021-12-23T16:02:07Z", "closed_at": "2021-12-23T16:02:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nWhen running the `examples/catch22.ipynb` with `jupyter nbconvert --to notebook --inplace --execute --ExecutePreprocessor.timeout=600 examples/catch22.ipynb` the following error pops up:\r\n\r\n```\r\nnbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:\r\n------------------\r\ntransformed_feature_uv = c22_uv._transform_single_feature(IPD_X_train, \"CO_f1ecac\")\r\nprint(transformed_feature_uv)\r\n------------------\r\n\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n/tmp/ipykernel_2209/4126608039.py in <module>\r\n----> 1 transformed_feature_uv = c22_uv._transform_single_feature(IPD_X_train, \"CO_f1ecac\")\r\n      2 print(transformed_feature_uv)\r\n\r\nAttributeError: 'Catch22' object has no attribute '_transform_single_feature'\r\nAttributeError: 'Catch22' object has no attribute '_transform_single_feature'\r\n```\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\nThis is taken form CI, which means ubuntu-20.04 and python 3.7.\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\nNotebook executes without errors.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1783/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1768", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1768/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1768/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1768/events", "html_url": "https://github.com/sktime/sktime/pull/1768", "id": 1083423970, "node_id": "PR_kwDOCVKAsc4wAxzs", "number": 1768, "title": "[BUG] incorrect docstrings and resolving confusion unequal length/spaced in panel metadata inference", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-17T16:28:23Z", "updated_at": "2021-12-18T13:02:49Z", "closed_at": "2021-12-18T13:02:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1768", "html_url": "https://github.com/sktime/sktime/pull/1768", "diff_url": "https://github.com/sktime/sktime/pull/1768.diff", "patch_url": "https://github.com/sktime/sktime/pull/1768.patch", "merged_at": "2021-12-18T13:02:49Z"}, "body": "This PR fixes two issues with the `datatypes` metadata inference:\r\n\r\n* there was a confusion/conflation of unequal *length* panels, and unequally *spaced* panels. This has been resolved - there are now two metadata fields for this. The checks have been checking one or the other internally, that has also been fixed and added where easily possible (everywhere except unequal *spaced* for `nested_univ` which is currently skipped).\r\n* the docstrings of the `check_is` methods were incomplete, it was not easy to look up what metadata fields were returned. This has now been added, so any of the docstrings now explains all the metadata tags inferred.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1768/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1762", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1762/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1762/events", "html_url": "https://github.com/sktime/sktime/issues/1762", "id": 1080897703, "node_id": "I_kwDOCVKAsc5AbTCn", "number": 1762, "title": "[BUG] Invalid FutureWarning for load_from_tsfile_to_dataframe? ", "user": {"login": "ltsaprounis", "id": 64217214, "node_id": "MDQ6VXNlcjY0MjE3MjE0", "avatar_url": "https://avatars.githubusercontent.com/u/64217214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltsaprounis", "html_url": "https://github.com/ltsaprounis", "followers_url": "https://api.github.com/users/ltsaprounis/followers", "following_url": "https://api.github.com/users/ltsaprounis/following{/other_user}", "gists_url": "https://api.github.com/users/ltsaprounis/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltsaprounis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltsaprounis/subscriptions", "organizations_url": "https://api.github.com/users/ltsaprounis/orgs", "repos_url": "https://api.github.com/users/ltsaprounis/repos", "events_url": "https://api.github.com/users/ltsaprounis/events{/privacy}", "received_events_url": "https://api.github.com/users/ltsaprounis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-15T11:02:24Z", "updated_at": "2021-12-21T14:29:13Z", "closed_at": "2021-12-21T14:29:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n`sktime.utils.data_io.load_from_tsfile_to_dataframe` throws a `FutureWarning` that it has been moved to `sktime.datasets._data_io` and will be deprecated in version 0.10. However it looks like it's not moved there and instead it's imported and is a dependency for a few other functions.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.utils.data_io import load_from_tsfile_to_dataframe\r\ndf = load_from_tsfile_to_dataframe(\"dummy_path\")\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1760", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1760/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1760/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1760/events", "html_url": "https://github.com/sktime/sktime/issues/1760", "id": 1080202793, "node_id": "I_kwDOCVKAsc5AYpYp", "number": 1760, "title": "[BUG] Error when predicting from (T)BATS when the forecasting horizon is longer than the time series used in training", "user": {"login": "Garrus990", "id": 31692791, "node_id": "MDQ6VXNlcjMxNjkyNzkx", "avatar_url": "https://avatars.githubusercontent.com/u/31692791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garrus990", "html_url": "https://github.com/Garrus990", "followers_url": "https://api.github.com/users/Garrus990/followers", "following_url": "https://api.github.com/users/Garrus990/following{/other_user}", "gists_url": "https://api.github.com/users/Garrus990/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garrus990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garrus990/subscriptions", "organizations_url": "https://api.github.com/users/Garrus990/orgs", "repos_url": "https://api.github.com/users/Garrus990/repos", "events_url": "https://api.github.com/users/Garrus990/events{/privacy}", "received_events_url": "https://api.github.com/users/Garrus990/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-14T20:40:19Z", "updated_at": "2022-02-16T12:26:39Z", "closed_at": "2022-02-16T12:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIn sktime 0.9.0 there is an error, when `predict` function is called on a fitted (T)BATS model in case when forecast horizon is longer than the time series used for training. This is purely sktime-related, since the forecasts from `_forecaster` are still possible.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasting.tbats import TBATS\r\nfrom sktime.forecasting.bats import BATS\r\nfrom statsmodels.tsa.arima_process import arma_generate_sample\r\n\r\n# dummy time series for predictions - length 50\r\ny = pd.Series(arma_generate_sample([2], [2], (50, 1)).flatten())\r\ntbats_model = TBATS()  # the same for BATS\r\ntbats_model.fit(y=y)\r\n\r\ntbats_model.predict(np.arange(1, 10))  #OK\r\ntbats_model.predict(np.arange(1, 25))  #OK\r\ntbats_model.predict(np.arange(1, 50))  #OK\r\ntbats_model.predict(np.arange(1, 51))  #OK\r\ntbats_model.predict(np.arange(1, 52))  #ERROR (forecast horizon of 51 steps)\r\ntbats_model._forecaster.forecast(52) #OK\r\n```\r\n\r\n**Expected behavior**\r\nWell, no error I guess.\r\n\r\n**Additional context**\r\nError message:\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\4/ipykernel_24092/2542756290.py in <module>\r\n----> 1 tbats_model.predict(np.arange(1, 52))\r\n\r\nc:\\<hidden>\\.venv\\lib\\site-packages\\sktime\\forecasting\\base\\_base.py in predict(self, fh, X, return_pred_int, alpha, keep_old_return_type)\r\n    195         # this is how it is supposed to be after the refactor is complete and effective\r\n    196         if not return_pred_int:\r\n--> 197             y_pred = self._predict(\r\n    198                 self.fh,\r\n    199                 X=X_inner,\r\n\r\nc:\\<hidden>\\.venv\\lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_tbats.py in _predict(self, fh, X, return_pred_int, alpha)\r\n    125             lower = pd.Series(out[\"lower_bound\"])\r\n    126             upper = pd.Series(out[\"upper_bound\"])\r\n--> 127             pred_int = self._get_pred_int(lower=lower, upper=upper)\r\n    128 \r\n    129         else:\r\n\r\nc:\\<hidden>\\.venv\\lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_tbats.py in _get_pred_int(self, lower, upper)\r\n    186             pred_int[\"idx\"].isin(fh_out.to_indexer(self.cutoff).values)\r\n    187         ]\r\n--> 188         pred_int.index = fh_out.to_absolute(self.cutoff)\r\n    189         pred_int = pred_int.drop(columns=[\"idx\"])\r\n    190         return pred_int\r\n\r\nc:\\<hidden>\\.venv\\lib\\site-packages\\pandas\\core\\generic.py in __setattr__(self, name, value)\r\n   5476         try:\r\n   5477             object.__getattribute__(self, name)\r\n-> 5478             return object.__setattr__(self, name, value)\r\n   5479         except AttributeError:\r\n   5480             pass\r\n\r\npandas\\_libs\\properties.pyx in pandas._libs.properties.AxisProperty.__set__()\r\n\r\nc:\\<hidden>\\.venv\\lib\\site-packages\\pandas\\core\\generic.py in _set_axis(self, axis, labels)\r\n    668     def _set_axis(self, axis: int, labels: Index) -> None:\r\n    669         labels = ensure_index(labels)\r\n--> 670         self._mgr.set_axis(axis, labels)\r\n    671         self._clear_item_cache()\r\n    672 \r\n\r\nc:\\<hidden>\\.venv\\lib\\site-packages\\pandas\\core\\internals\\managers.py in set_axis(self, axis, new_labels)\r\n    218 \r\n    219         if new_len != old_len:\r\n--> 220             raise ValueError(\r\n    221                 f\"Length mismatch: Expected axis has {old_len} elements, new \"\r\n    222                 f\"values have {new_len} elements\"\r\n\r\nValueError: Length mismatch: Expected axis has 1 elements, new values have 51 elements\r\n```\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.9.5 (tags/v3.9.5:0a7dcbd, May  3 2021, 17:27:52) [MSC v.1928 64 bit (AMD64)]\r\nexecutable: c:\\<hidden>\\.venv\\scripts\\python.exe\r\n   machine: Windows-10-10.0.18363-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.3.1\r\n   setuptools: 56.0.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.9.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.7.3\r\n       Cython: 0.29.25\r\n       pandas: 1.2.5\r\n   matplotlib: 3.5.1\r\n       joblib: 1.0.1\r\n        numba: 0.54.1\r\n     pmdarima: 1.8.2\r\n      tsfresh: None\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1756", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1756/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1756/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1756/events", "html_url": "https://github.com/sktime/sktime/issues/1756", "id": 1079417334, "node_id": "I_kwDOCVKAsc5AVpn2", "number": 1756, "title": "[BUG] KNeighborsTimeSeriesClassifier fails on Japanese Vowels data", "user": {"login": "zhangxjohn", "id": 80235074, "node_id": "MDQ6VXNlcjgwMjM1MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/80235074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangxjohn", "html_url": "https://github.com/zhangxjohn", "followers_url": "https://api.github.com/users/zhangxjohn/followers", "following_url": "https://api.github.com/users/zhangxjohn/following{/other_user}", "gists_url": "https://api.github.com/users/zhangxjohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangxjohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangxjohn/subscriptions", "organizations_url": "https://api.github.com/users/zhangxjohn/orgs", "repos_url": "https://api.github.com/users/zhangxjohn/repos", "events_url": "https://api.github.com/users/zhangxjohn/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangxjohn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-12-14T07:44:44Z", "updated_at": "2022-01-08T16:31:54Z", "closed_at": "2022-01-08T16:31:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nValueError                                Traceback (most recent call last)\r\n/mnt/nfsroot/zhangxj/Data_Cache/workflows/ipykernel_91785/972100154.py in <module>\r\n      2 \r\n      3 clf = KNeighborsTimeSeriesClassifier()\r\n----> 4 clf.fit(df_X, df_y)\r\n\r\n~/anaconda3/lib/python3.8/site-packages/sktime/classification/distance_based/_time_series_neighbors.py in fit(self, X, y)\r\n    196             Target values of shape = [n_samples]\r\n    197         \"\"\"\r\n--> 198         X, y = check_X_y(\r\n    199             X,\r\n    200             y,\r\n\r\n~/anaconda3/lib/python3.8/site-packages/sktime/utils/validation/panel.py in check_X_y(X, y, enforce_univariate, enforce_min_instances, enforce_min_columns, coerce_to_numpy, coerce_to_pandas)\r\n    186     check_consistent_length(X, y)\r\n    187 \r\n--> 188     X = check_X(\r\n    189         X,\r\n    190         enforce_univariate=enforce_univariate,\r\n\r\n~/anaconda3/lib/python3.8/site-packages/sktime/utils/validation/panel.py in check_X(X, enforce_univariate, enforce_min_instances, enforce_min_columns, coerce_to_numpy, coerce_to_pandas)\r\n    107         # convert pd.DataFrame\r\n    108         if coerce_to_numpy:\r\n--> 109             X = from_nested_to_3d_numpy(X)\r\n    110 \r\n    111     return X\r\n\r\n~/anaconda3/lib/python3.8/site-packages/sktime/datatypes/_panel/_convert.py in from_nested_to_3d_numpy(X)\r\n    912     # If all the columns are nested in structure\r\n    913     if nested_col_mask.count(True) == len(nested_col_mask):\r\n--> 914         X_3d = np.stack(\r\n    915             X.applymap(_convert_series_cell_to_numpy)\r\n    916             .apply(lambda row: np.stack(row), axis=1)\r\n\r\n<__array_function__ internals> in stack(*args, **kwargs)\r\n\r\n~/anaconda3/lib/python3.8/site-packages/numpy/core/shape_base.py in stack(arrays, axis, out)\r\n    425     shapes = {arr.shape for arr in arrays}\r\n    426     if len(shapes) != 1:\r\n--> 427         raise ValueError('all input arrays must have the same shape')\r\n    428 \r\n    429     result_ndim = arrays[0].ndim + 1\r\n\r\nValueError: all input arrays must have the same shape\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.datasets import load_japanese_vowels\r\nfrom sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\ndf_X, df_y = load_japanese_vowels(split='train', return_X_y=True)\r\nclf = KNeighborsTimeSeriesClassifier()\r\nclf.fit(df_X, df_y)\r\n```\r\n\r\nQ: I found 'Japanese Vowels' dataset different different length for per instance, but  from_nested_to_3d_numpy() function can not convert nested DataFrame to 3d numpy, so fails to KNeighborsTimeSeriesClassifier().  What should I do?\r\n ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1753", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1753/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1753/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1753/events", "html_url": "https://github.com/sktime/sktime/issues/1753", "id": 1078621676, "node_id": "I_kwDOCVKAsc5ASnXs", "number": 1753, "title": "[BUG] GunPoint data format", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-12-13T14:49:14Z", "updated_at": "2021-12-23T16:02:31Z", "closed_at": "2021-12-23T16:02:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "GunPoint is still in the 6 dp format, updating it to 8dp makes catch22 tests fail, so will put off fixing and raise this issue to remind myself. ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1751", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1751/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1751/events", "html_url": "https://github.com/sktime/sktime/issues/1751", "id": 1077981449, "node_id": "I_kwDOCVKAsc5AQLEJ", "number": 1751, "title": "[BUG] MAPE/sMAPE flag inconsistency", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-13T01:21:27Z", "updated_at": "2022-03-25T01:14:48Z", "closed_at": "2022-03-25T01:14:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From this discussion thread https://github.com/alan-turing-institute/sktime/discussions/1508\r\nby @k7e7n7t.\r\n\r\n\"\r\nI ran mean_absolute_percentage_error in cell 41 of 01-forecasting.ipynb and got 0.145427686270316.\r\nI then ran MeanAbsolutePercentageError class with the default symmetric = False (which make it asymmetric just like MAPE I assume) but I get 0.13189432350948402 which I would expect from sMAPE, but not with the flag set to False. If I set symmetric = True it does match. This seems backwards to me. What am I missing?\r\n\"\r\n\r\n@RNKuhns is offboarding and won't answer this, so we now need to treat this as an unverified bug report and try to check/reproduce.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1747", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1747/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1747/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1747/events", "html_url": "https://github.com/sktime/sktime/issues/1747", "id": 1077888204, "node_id": "I_kwDOCVKAsc5AP0TM", "number": 1747, "title": "[BUG] FAILED forecasting/tests/test_ets.py::test_airline_allow_multiplicative_trend on linux and py39", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-12T19:30:03Z", "updated_at": "2023-02-04T20:00:07Z", "closed_at": "2023-02-04T20:00:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nTest is failing:\r\n\r\n```\r\n[gw0] linux -- Python 3.9.9 /opt/hostedtoolcache/Python/3.9.9/x64/bin/python\r\n\r\n    def test_airline_allow_multiplicative_trend():\r\n        fit_result_R = [\"mul\", \"mul\", \"mul\"]\r\n    \r\n        forecaster = AutoETS(auto=True, sp=12, n_jobs=-1, allow_multiplicative_trend=True)\r\n        forecaster.fit(y)\r\n        fitted_forecaster = forecaster._fitted_forecaster\r\n        fit_result = [\r\n            fitted_forecaster.error,\r\n            fitted_forecaster.trend,\r\n            fitted_forecaster.seasonal,\r\n        ]\r\n    \r\n>       assert_array_equal(fit_result_R, fit_result)\r\nE       AssertionError: \r\nE       Arrays are not equal\r\nE       \r\nE       Mismatched elements: 1 / 3 (33.3%)\r\nE        x: array(['mul', 'mul', 'mul'], dtype='<U3')\r\nE        y: array(['mul', 'add', 'mul'], dtype='<U3')\r\n\r\nfit_result = ['mul', 'add', 'mul']\r\nfit_result_R = ['mul', 'mul', 'mul']\r\nfitted_forecaster = <statsmodels.tsa.exponential_smoothing.ets.ETSResultsWrapper object at 0x7fb404124040>\r\nforecaster = AutoETS(additive_only=False, allow_multiplicative_trend=True, auto=True,\r\n        bounds=None, callback=None, damped_tr...ing='none', n_jobs=-1, restrict=True, return_params=False,\r\n        seasonal=None, sp=12, start_params=None, trend=None)\r\n\r\n/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/sktime/forecasting/tests/test_ets.py:62: AssertionError\r\n```\r\n\r\n**To Reproduce**\r\n\r\nRun the test on linux with python 3.9, see https://github.com/lmmentel/sktime/runs/4498946774?check_suite_focus=true\r\n\r\n\r\n**Expected behavior**\r\n\r\nTest passes.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n\r\nOS: linux ubuntu 20.04\r\npython: 3.9.9\r\n\r\n```\r\nRun python -m pip list\r\nPackage                           Version\r\n--------------------------------- ---------\r\nattrs                             21.2.0\r\nbackports.entry-points-selectable 1.1.1\r\ncertifi                           2021.10.8\r\ncfgv                              3.3.1\r\ncharset-normalizer                2.0.9\r\nclick                             8.0.3\r\ncloudpickle                       2.0.0\r\ncmdstanpy                         0.9.5\r\nconvertdate                       2.3.2\r\ncoverage                          6.2\r\ncycler                            0.11.0\r\nCython                            0.29.25\r\ndask                              2021.12.0\r\nDeprecated                        1.2.13\r\ndistlib                           0.3.4\r\ndistributed                       2021.12.0\r\ndtw-python                        1.1.10\r\nephem                             4.1.2\r\nesig                              0.9.7\r\nexecnet                           1.9.0\r\nfbprophet                         0.7.1\r\nfilelock                          3.4.0\r\nfonttools                         4.28.3\r\nfsspec                            2021.11.1\r\nhcrystalball                      0.1.10\r\nHeapDict                          1.0.1\r\nhijri-converter                   2.2.2\r\nholidays                          0.11.3.1\r\nidentify                          2.4.0\r\nidna                              3.3\r\niniconfig                         1.1.1\r\nJinja2                            3.0.3\r\njoblib                            1.1.0\r\nkiwisolver                        1.3.2\r\nkorean-lunar-calendar             0.2.1\r\nllvmlite                          0.37.0\r\nlocket                            0.2.1\r\nLunarCalendar                     0.0.9\r\nlunardate                         0.2.0\r\nMarkupSafe                        2.0.1\r\nmatplotlib                        3.5.1\r\nmatrixprofile                     1.1.10\r\nmsgpack                           1.0.3\r\nnodeenv                           1.6.0\r\nnumba                             0.54.1\r\nnumpy                             1.19.3\r\npackaging                         21.3\r\npandas                            1.3.5\r\npartd                             1.2.0\r\npatsy                             0.5.2\r\nPillow                            8.4.0\r\npip                               21.3.1\r\nplatformdirs                      2.4.0\r\npluggy                            1.0.0\r\npmdarima                          1.8.4\r\npre-commit                        2.16.0\r\nprotobuf                          3.11.2\r\npsutil                            5.8.0\r\npy                                1.11.0\r\npyluach                           1.3.0\r\nPyMeeus                           0.5.11\r\npyod                              0.9.5\r\npyparsing                         3.0.6\r\npystan                            2.19.1.1\r\npytest                            6.2.5\r\npytest-cov                        3.0.0\r\npytest-forked                     1.4.0\r\npytest-xdist                      2.5.0\r\npython-dateutil                   2.8.2\r\npytz                              2021.3\r\nPyYAML                            6.0\r\nrequests                          2.26.0\r\nscikit-learn                      1.0.1\r\nscikit-posthocs                   0.6.7\r\nscipy                             1.7.3\r\nseaborn                           0.11.2\r\nsetuptools                        58.1.0\r\nsetuptools-git                    1.2\r\nsix                               1.16.0\r\nsktime                            0.8.1\r\nsortedcontainers                  2.4.0\r\nstatsmodels                       0.12.1\r\nstumpy                            1.10.0\r\ntbats                             1.1.0\r\ntblib                             1.7.0\r\nthreadpoolctl                     3.0.0\r\ntoml                              0.10.2\r\ntomli                             1.2.2\r\ntoolz                             0.11.2\r\ntornado                           6.1\r\ntqdm                              4.62.3\r\ntsfresh                           0.18.0\r\nurllib3                           1.26.7\r\nvirtualenv                        20.10.0\r\nwheel                             0.37.0\r\nworkalendar                       16.2.0\r\nwrapt                             1.13.3\r\nzict                              2.0.0\r\n```\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1736", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1736/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1736/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1736/events", "html_url": "https://github.com/sktime/sktime/issues/1736", "id": 1075793366, "node_id": "I_kwDOCVKAsc5AH03W", "number": 1736, "title": "[BUG] download badges are broken, remove?", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-09T16:55:53Z", "updated_at": "2022-01-05T20:04:29Z", "closed_at": "2022-01-05T20:04:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It seems the download number badges on the README are broken - weekly downloads are at 0 etc, quite implausible since I've just downloaded sktime, and it's also used in periodic CI/CD workflows all over the world...\r\n\r\nIf you look on pypi stats, similar pictures emerge for more widely used packages.\r\nSomething seems broken, but I'm not quite sure what or when/whether a fix is coming.\r\n\r\nShould we remove the badges?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1735", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1735/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1735/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1735/events", "html_url": "https://github.com/sktime/sktime/issues/1735", "id": 1075426139, "node_id": "I_kwDOCVKAsc5AGbNb", "number": 1735, "title": "[BUG] mismatch in classification datasets", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-12-09T10:47:45Z", "updated_at": "2022-01-08T16:24:56Z", "closed_at": "2022-01-08T16:23:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "some of ts files the classification datasets in datasets module have old style headers. These need updating, a list made of which ones are shipped and a test function written to check the format", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1731", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1731/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1731/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1731/events", "html_url": "https://github.com/sktime/sktime/issues/1731", "id": 1074906792, "node_id": "I_kwDOCVKAsc5AEcao", "number": 1731, "title": "[BUG] series-to-series transformer no longer work with `ForecastingPipeline`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-08T22:40:17Z", "updated_at": "2021-12-09T21:25:46Z", "closed_at": "2021-12-09T21:25:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I think the transformers refactor introduced a bug:\r\nin series-to-series transformers, the order of arguments was not changed, but the names were.\r\nSo args calls are fine since downwards compatible, but kwargs calls may break.\r\n\r\nOne reference in the `ForecastingPipeline` was kwargs, which makes pipelines with any transformers that are not yet refactored break.\r\n\r\nPR #1730 fixes the issue, by replacing the kwargs reference with an args reference.\r\n\r\nI've also searched the repository, there are no other kwargs references to the sub-set of transformers that had `Z` previously as the first argument.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1725", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1725/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1725/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1725/events", "html_url": "https://github.com/sktime/sktime/issues/1725", "id": 1074675195, "node_id": "I_kwDOCVKAsc5ADj37", "number": 1725, "title": "[BUG] BoxCoxTransformer does not ignore y, possible also other SeriesToSeriesTransformers affected?", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-12-08T17:59:50Z", "updated_at": "2021-12-08T22:21:15Z", "closed_at": "2021-12-08T22:00:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nBoxCoxTransformer does not ignore X, possible also other SeriesToSeriesTransformers affected?\r\n\r\nError:\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-4-d6890121a38e> in <module>\r\n     24 \r\n     25 box = BoxCoxTransformer()\r\n---> 26 box.fit(y_train, X_train)\r\n\r\n~.\\sktime\\transformations\\base.py in fit(self, X, y, Z)\r\n    252             y,\r\n    253             to_type=y_inner_mtype,\r\n--> 254             as_scitype=y_input_scitype,\r\n    255         )\r\n    256 \r\n\r\n~.\\sktime\\datatypes\\_convert.py in convert_to(obj, to_type, as_scitype, store)\r\n    185         to_type=to_type,\r\n    186         as_scitype=as_scitype,\r\n--> 187         store=store,\r\n    188     )\r\n    189 \r\n\r\n~.\\sktime\\datatypes\\_convert.py in convert(obj, from_type, to_type, as_scitype, store)\r\n    122         )\r\n    123 \r\n--> 124     converted_obj = convert_dict[key](obj, store=store)\r\n    125 \r\n    126     return converted_obj\r\n\r\n~.\\sktime\\datatypes\\_series\\_convert.py in convert_MvS_to_UvS_as_Series(obj, store)\r\n     78 \r\n     79     if len(obj.columns) != 1:\r\n---> 80         raise ValueError(\"input must be univariate pd.DataFrame, with one column\")\r\n     81 \r\n     82     if isinstance(store, dict):\r\n\r\nValueError: input must be univariate pd.DataFrame, with one column\r\n```\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.transformations.series.boxcox import BoxCoxTransformer\r\nfrom sktime.datasets import load_longley\r\n\r\ny, X = load_longley()\r\ny_train, y_test, X_train, X_test = temporal_train_test_split(y, X, test_size=4)\r\n\r\nbox = BoxCoxTransformer()\r\nbox.fit(y_train, X_train)\r\n```\r\nIts madatory that `X` is ignored, as pipelining is also broken now:\r\n```python\r\npipe = TransformedTargetForecaster(steps=[\r\n    (\"box\", BoxCoxTransformer()),\r\n    (\"forecaster\", NaiveForecaster())\r\n])\r\npipe.fit(y_train, X_train)\r\ny_pred = pipe.predict(fh=fh, X=X_test)\r\n```\r\n\r\n**Expected behavior**\r\nNo exception\r\n\r\n**Additional context**\r\nPipelining\r\n\r\n**Versions**\r\nmain branch\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n@fkiraly fyi", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1725/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1724", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1724/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1724/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1724/events", "html_url": "https://github.com/sktime/sktime/pull/1724", "id": 1074673735, "node_id": "PR_kwDOCVKAsc4vkW2b", "number": 1724, "title": "[BUG] hotfix for bug when passing multivariate `y` to boxcox transformer", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-08T17:58:00Z", "updated_at": "2021-12-08T22:00:32Z", "closed_at": "2021-12-08T22:00:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1724", "html_url": "https://github.com/sktime/sktime/pull/1724", "diff_url": "https://github.com/sktime/sktime/pull/1724.diff", "patch_url": "https://github.com/sktime/sktime/pull/1724.patch", "merged_at": "2021-12-08T22:00:31Z"}, "body": "Currently, passing multivariate `y` to the `BoxCoxTransformer` (refactored recently) will cause an error, since series-to-series transformers like it assume a univariate `y` by default, and a conversion is attempted to univariate `pd.Series` (which is impossible). This is unexpected, since the transformer ignores `y`.\r\n\r\nThis can be problematic in a `TransformedTargetPipeline` since there the forecaster's `X` - typically multivariate - is passed to the `y` of the transformers. (slightly surprising to me, but that's the status quo).\r\n\r\nThis implements a quick workaround, where the inner mtype for the `BoxCoxtransformer` is set to multivariate, that doesn't cause an error if a multivariate one is passed.\r\n\r\nNo other transformers are impacted currently, since `BoxCoxTransformer` is the only one refactored so far.\r\n\r\nHowever, we need to think about how to fix this in the future. Options:\r\n* assume multivariate `y` by default, this will do a silent input conversion (which may be superfluous but won't cause an error)\r\n* introduce a tag on whether `y` is used internally, and in that case do not do a conversion at all (seems cleaner but introduces a new tag)", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1724/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1709", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1709/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1709/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1709/events", "html_url": "https://github.com/sktime/sktime/pull/1709", "id": 1072234014, "node_id": "PR_kwDOCVKAsc4vcU67", "number": 1709, "title": "[BUG] CIF Bugfix", "user": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-12-06T14:44:10Z", "updated_at": "2021-12-13T09:23:35Z", "closed_at": "2021-12-13T09:23:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1709", "html_url": "https://github.com/sktime/sktime/pull/1709", "diff_url": "https://github.com/sktime/sktime/pull/1709.diff", "patch_url": "https://github.com/sktime/sktime/pull/1709.patch", "merged_at": "2021-12-13T09:23:34Z"}, "body": "Fixes #1690 and adds a test to prevent similar issues.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1709/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1697", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1697/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1697/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1697/events", "html_url": "https://github.com/sktime/sktime/issues/1697", "id": 1071236809, "node_id": "I_kwDOCVKAsc4_2cbJ", "number": 1697, "title": "[BUG] transformer multi-column pd.DataFrame output conversion fails", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-04T15:49:35Z", "updated_at": "2021-12-07T11:09:32Z", "closed_at": "2021-12-07T11:09:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIt seem like series-to-series transformers cannot return multiple columns when passing a pd.Series as input. \r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.transformations.base import BaseTransformer\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nclass MyTransformer(BaseTransformer):\r\n    _tags = {\r\n        \"scitype:transform-input\": \"Series\",\r\n        \"scitype:transform-output\": \"Series\",\r\n        \"scitype:transform-labels\": \"None\",\r\n        \"scitype:instancewise\": True,\r\n        \"univariate-only\": False,\r\n        \"handles-missing-data\": True,\r\n        \"X_inner_mtype\": \"pd.DataFrame\",\r\n        \"y_inner_mtype\": \"None\",\r\n        \"X-y-must-have-same-index\": True,\r\n        \"enforce_index_type\": None,\r\n        \"fit-in-transform\": False,\r\n        \"transform-returns-same-time-index\": True,\r\n        \"skip-inverse-transform\": True,\r\n    }\r\n\r\n    def _fit(self, X, y=None):\r\n        return self\r\n    \r\n    def _transform(self, X, y=None):\r\n        return pd.concat([X, X], axis=1)\r\n    \r\ntransformer = MyTransformer()\r\ntransformer.fit_transform(pd.DataFrame(np.random.normal(size=(10,)))) # works\r\ntransformer.fit_transform(pd.Series(np.random.normal(size=(10,))))  # fails\r\n```\r\n> ValueError: input must be univariate pd.DataFrame, with one column\r\n\r\n**Additional context**\r\nThis is relevant for \"featurizers\" as in #1693.\r\n\r\n**Version**\r\nmain at commit 8ca23bd85e60d", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1690", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1690/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1690/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1690/events", "html_url": "https://github.com/sktime/sktime/issues/1690", "id": 1071082458, "node_id": "I_kwDOCVKAsc4_12va", "number": 1690, "title": "[BUG] CanonicalIntervalForest breaks with CIT tree", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-12-04T01:18:45Z", "updated_at": "2021-12-13T09:23:34Z", "closed_at": "2021-12-13T09:23:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen running the below code snippet, I get: \r\n\r\n> `AttributeError: '_TreeNode' object has no attribute '_predict_proba_cif'`\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.pipeline import Pipeline\r\n\r\nfrom sktime.classification.compose import ColumnEnsembleClassifier\r\nfrom sktime.classification.interval_based import CanonicalIntervalForest\r\nfrom sktime.datasets import load_basic_motions\r\nfrom sktime.transformations.panel.compose import ColumnConcatenator\r\n\r\nX, y = load_basic_motions(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, random_state=42)\r\n\r\nsteps = [\r\n    (\"concatenate\", ColumnConcatenator()),\r\n    (\"classify\", CanonicalIntervalForest(n_estimators=100, base_estimator=\"CIT\")),\r\n]\r\nclf = Pipeline(steps)\r\nclf.fit(X_train, y_train)\r\nclf.score(X_test, y_test)```\r\n```\r\n\r\n**Additional context**\r\nThere's a [question on TSF on StackOverflow](https://stackoverflow.com/questions/70212188/how-to-know-from-which-interval-of-the-input-the-features-used-in-sktimes-times) in which I wanted to show CIF as an alternative but got the above error.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1677", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1677/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1677/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1677/events", "html_url": "https://github.com/sktime/sktime/pull/1677", "id": 1069415277, "node_id": "PR_kwDOCVKAsc4vTQ63", "number": 1677, "title": "Added trend_ and resid_ attributes to STLTransformer. Bugfix.", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 40, "created_at": "2021-12-02T11:04:24Z", "updated_at": "2021-12-23T20:42:05Z", "closed_at": "2021-12-23T20:41:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1677", "html_url": "https://github.com/sktime/sktime/pull/1677", "diff_url": "https://github.com/sktime/sktime/pull/1677.diff", "patch_url": "https://github.com/sktime/sktime/pull/1677.patch", "merged_at": "2021-12-23T20:41:42Z"}, "body": "#### What does this implement/fix? Explain your changes.\r\nAdded trend_ and resid_ attributes to STLTransformer . Refactor.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1677/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1673", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1673/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1673/events", "html_url": "https://github.com/sktime/sktime/issues/1673", "id": 1068618676, "node_id": "I_kwDOCVKAsc4_sdO0", "number": 1673, "title": "[BUG] Prophet wrapper internally changing argument X (exogenous data)", "user": {"login": "IlyasMoutawwakil", "id": 57442720, "node_id": "MDQ6VXNlcjU3NDQyNzIw", "avatar_url": "https://avatars.githubusercontent.com/u/57442720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IlyasMoutawwakil", "html_url": "https://github.com/IlyasMoutawwakil", "followers_url": "https://api.github.com/users/IlyasMoutawwakil/followers", "following_url": "https://api.github.com/users/IlyasMoutawwakil/following{/other_user}", "gists_url": "https://api.github.com/users/IlyasMoutawwakil/gists{/gist_id}", "starred_url": "https://api.github.com/users/IlyasMoutawwakil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IlyasMoutawwakil/subscriptions", "organizations_url": "https://api.github.com/users/IlyasMoutawwakil/orgs", "repos_url": "https://api.github.com/users/IlyasMoutawwakil/repos", "events_url": "https://api.github.com/users/IlyasMoutawwakil/events{/privacy}", "received_events_url": "https://api.github.com/users/IlyasMoutawwakil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 10, "created_at": "2021-12-01T16:31:20Z", "updated_at": "2021-12-07T11:08:13Z", "closed_at": "2021-12-07T11:08:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "> **Describe the bug**\r\n\r\nWhen fitting prophet with exogenous data, the wrapper changes the argument `X` resulting in some issues; you can't use the same variable X as argument twice since it'll contain the column name `ds` after the first run, so you need to create copies at each occurence. \r\nIt gets worse when you do a `fit_predict` since the X changes internally (because of `fit`), when `fit_predict` calls `predict`, it raises an error that you can't work around with copies.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\ny_train = pd.Series(np.arange(1,21), index=pd.date_range(start='1/1/2021', end='20/1/2021'))\r\nX_train = pd.DataFrame(data=np.arange(1,21), columns=['something'], index=pd.date_range(start='1/1/2021', end='20/1/2021'))\r\n\r\narima_forecaster = Prophet()\r\narima_forecaster.fit_predict(fh=y_train.index, y=y_train, X=X_train)\r\nprint(X_train)\r\n```\r\n\r\n> **Traceback**\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-4-30650cb58dc7> in <module>()\r\n      7 \r\n      8 arima_forecaster = Prophet()\r\n----> 9 arima_forecaster.fit_predict(fh=y_train.index, y=y_train, X=X_train)\r\n     10 print(X_train)\r\n\r\n3 frames\r\n/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/adapters/_fbprophet.py in _merge_X(df, X)\r\n    197     X.columns = X.columns.astype(str)\r\n    198     if \"ds\" in X.columns:\r\n--> 199         raise ValueError(\"Column name 'ds' is reserved in fbprophet\")\r\n    200     X.loc[:, \"ds\"] = X.index\r\n    201     # df = df.merge(X, how=\"inner\", on=\"ds\", copy=False)\r\n\r\nValueError: Column name 'ds' is reserved in fbprophet\r\n```\r\n\r\n> **Expected behavior**\r\n\r\nto fit and predict without changing arguments so that it can fit_predict without error\r\n\r\n> **Versions**\r\n\r\n<details>\r\nSystem:\r\n    python: 3.7.12 (default, Sep 10 2021, 00:21:48)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.104+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 1.0.1\r\n       sktime: 0.8.1\r\n  statsmodels: 0.10.2\r\n        numpy: 1.19.5\r\n        scipy: 1.4.1\r\n       Cython: 0.29.24\r\n       pandas: 1.1.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1673/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1663", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1663/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1663/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1663/events", "html_url": "https://github.com/sktime/sktime/pull/1663", "id": 1065448222, "node_id": "PR_kwDOCVKAsc4vGThv", "number": 1663, "title": "transformers refactor: summarizer and base class", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 2, "created_at": "2021-11-28T22:03:28Z", "updated_at": "2021-12-07T17:31:32Z", "closed_at": "2021-12-07T17:31:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1663", "html_url": "https://github.com/sktime/sktime/pull/1663", "diff_url": "https://github.com/sktime/sktime/pull/1663.diff", "patch_url": "https://github.com/sktime/sktime/pull/1663.patch", "merged_at": "2021-12-07T17:31:31Z"}, "body": "This refactors the `SummaryTransformer` to use the new transformer template.\r\nSome minor changes there - `transform` was still present and overwrote `_transform`, and the \"inner type\" tags were set incorrectly.\r\n\r\nIn addition, this fixes two bugs:\r\n* in the base template, appears when a `Panel` is passed to a `Series`-wise transform that outputs `Primitives` - in this case, thet different rows were not concatenated properly (some index issues).\r\n* the base class now enforces that `fit` is called before `transform`, even if the `fit-in-transform` flag as True (which means `fit` is empty and can be skipped, but `fit` still needs to be called). As a shorthand for \"transform right away\", `fit_transform` should be called, not `transform`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1663/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1662", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1662/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1662/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1662/events", "html_url": "https://github.com/sktime/sktime/issues/1662", "id": 1065409237, "node_id": "I_kwDOCVKAsc4_gNrV", "number": 1662, "title": "[BUG]  `test_fit_does_not_overwrite_hyper_params[FeatureUnion]` failing", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2021-11-28T19:01:25Z", "updated_at": "2022-03-25T01:19:03Z", "closed_at": "2022-03-25T01:19:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Update: the failure has been silenced in the tests to enable refactor work on CI/CD, but the bug is still there.\r\nTo reproduce, the test should be run manually, or with the silencing disabled (`tests._config.EXCLUDED_TESTS`)\r\n\r\n---\r\n\r\n**Describe the bug**\r\n\r\nIn the refactored CI pipeline based on github actions #1620, and is blocking the PR.\r\n\r\nThe test `test_fit_does_not_overwrite_hyper_params[FeatureUnion]` from `tests/test_all_estimators.py` fails on linux with python3.6-3.9 and macos 3.6-3.9 with the error below.\r\n\r\nCuriously the test are passing in CI pipelines currently on `main` branch.\r\n\r\n```\r\n____________ test_fit_does_not_overwrite_hyper_params[FeatureUnion] ____________\r\n[gw0] darwin -- Python 3.7.12 /Users/runner/hostedtoolcache/Python/3.7.12/x64/bin/python\r\n\r\nestimator_instance = FeatureUnion(n_jobs=None, preserve_dataframe=True,\r\n             transformer_list=[('transformer1',\r\n                   ...                                                              with_std=True)))],\r\n             transformer_weights=None)\r\n\r\n    def test_fit_does_not_overwrite_hyper_params(estimator_instance):\r\n        \"\"\"Check that we do not overwrite hyper-parameters in fit.\"\"\"\r\n        estimator = estimator_instance\r\n        set_random_state(estimator)\r\n    \r\n        # Make a physical copy of the original estimator parameters before fitting.\r\n        params = estimator.get_params()\r\n        original_params = deepcopy(params)\r\n    \r\n        # Fit the model\r\n        fit_args = _make_args(estimator, \"fit\")\r\n        estimator.fit(*fit_args)\r\n    \r\n        # Compare the state of the model parameters with the original parameters\r\n        new_params = estimator.get_params()\r\n        for param_name, original_value in original_params.items():\r\n            new_value = new_params[param_name]\r\n    \r\n            # We should never change or mutate the internal state of input\r\n            # parameters by default. To check this we use the joblib.hash function\r\n            # that introspects recursively any subobjects to compute a checksum.\r\n            # The only exception to this rule of immutable constructor parameters\r\n            # is possible RandomState instance but in this check we explicitly\r\n            # fixed the random_state params recursively to be integer seeds.\r\n>           assert joblib.hash(new_value) == joblib.hash(original_value), (\r\n                \"Estimator %s should not change or mutate \"\r\n                \" the parameter %s from %s to %s during fit.\"\r\n                % (estimator.__class__.__name__, param_name, original_value, new_value)\r\n            )\r\nE           AssertionError: Estimator FeatureUnion should not change or mutate  the parameter transformer_list from [('transformer1', SeriesToSeriesRowTransformer(check_transformer=False,\r\nE                                          transformer=StandardScaler(copy=True,\r\nE                                                                     with_mean=True,\r\nE                                                                     with_std=True))), ('transformer2', SeriesToSeriesRowTransformer(check_transformer=False,\r\nE                                          transformer=StandardScaler(copy=True,\r\nE                                                                     with_mean=True,\r\nE                                                                     with_std=True)))] to [('transformer1', SeriesToSeriesRowTransformer(check_transformer=False,\r\nE                                          transformer=StandardScaler(copy=True,\r\nE                                                                     with_mean=True,\r\nE                                                                     with_std=True))), ('transformer2', SeriesToSeriesRowTransformer(check_transformer=False,\r\nE                                          transformer=StandardScaler(copy=True,\r\nE                                                                     with_mean=True,\r\nE                                                                     with_std=True)))] during fit.\r\nE           assert '7f94d1fc7e1f...888be251ce7b2' == 'b03f493febd2...c60681b4af6e4'\r\nE             - b03f493febd2f1d6da1c60681b4af6e4\r\nE             + 7f94d1fc7e1f285e1e5888be251ce7b2\r\n\r\nestimator  = FeatureUnion(n_jobs=None, preserve_dataframe=True,\r\n             transformer_list=[('transformer1',\r\n                   ...                                                              with_std=True)))],\r\n             transformer_weights=None)\r\nestimator_instance = FeatureUnion(n_jobs=None, preserve_dataframe=True,\r\n             transformer_list=[('transformer1',\r\n                   ...                                                              with_std=True)))],\r\n             transformer_weights=None)\r\nfit_args   = (                                                var_0\r\n0   0    -0.116020\r\n1     0.343339\r\n2    -0.464066\r\n3...\r\n1   0    ...0\r\n7     1\r\n8     0\r\n9     0\r\n10    0\r\n11    0\r\n12    1\r\n13    1\r\n14    1\r\n15    1\r\n16    0\r\n17    0\r\n18    1\r\n19    1\r\ndtype: int64)\r\nnew_params = {'n_jobs': None, 'preserve_dataframe': True, 'transformer1': SeriesToSeriesRowTransformer(check_transformer=False,\r\n   ...                                                        with_std=True)), 'transformer1__check_transformer': False, ...}\r\nnew_value  = [('transformer1', SeriesToSeriesRowTransformer(check_transformer=False,\r\n                             transformer=Stand...                              with_mean=True,\r\n                                                        with_std=True)))]\r\noriginal_params = {'n_jobs': None, 'preserve_dataframe': True, 'transformer1': SeriesToSeriesRowTransformer(check_transformer=False,\r\n   ...                                                        with_std=True)), 'transformer1__check_transformer': False, ...}\r\noriginal_value = [('transformer1', SeriesToSeriesRowTransformer(check_transformer=False,\r\n                             transformer=Stand...                              with_mean=True,\r\n                                                        with_std=True)))]\r\nparam_name = 'transformer_list'\r\nparams     = {'n_jobs': None, 'preserve_dataframe': True, 'transformer1': SeriesToSeriesRowTransformer(check_transformer=False,\r\n   ...                                                        with_std=True)), 'transformer1__check_transformer': False, ...}\r\n```\r\n\r\n**To Reproduce**\r\n\r\nRun the test with:\r\n\r\n```bash\r\npytest sktime/tests/test_all_estimators.py\r\n```\r\n\r\n**Expected behavior**\r\n\r\nTest passes\r\n\r\n**Additional context**\r\n\r\n**Versions**\r\n\r\nSee github actions under #1620 \r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1661", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1661/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1661/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1661/events", "html_url": "https://github.com/sktime/sktime/pull/1661", "id": 1065383288, "node_id": "PR_kwDOCVKAsc4vGIJC", "number": 1661, "title": "[BUG] Bugfix alignment tests", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3570070987, "node_id": "LA_kwDOCVKAsc7UyvXL", "url": "https://api.github.com/repos/sktime/sktime/labels/module:alignment", "name": "module:alignment", "color": "7DB001", "default": false, "description": "alignment module: time series alignment, sequence alignment"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 7, "created_at": "2021-11-28T17:01:23Z", "updated_at": "2021-12-04T16:29:44Z", "closed_at": "2021-12-04T16:29:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1661", "html_url": "https://github.com/sktime/sktime/pull/1661", "diff_url": "https://github.com/sktime/sktime/pull/1661.diff", "patch_url": "https://github.com/sktime/sktime/pull/1661.patch", "merged_at": "2021-12-04T16:29:44Z"}, "body": "This comes indirectly from @lmmentel's work on PR #1620.\r\n\r\nFour tests related to the `Alignment` scitype were failing for him in the `datatypes` module.\r\n\r\nThe reason for that was that no fixtures for alignments were defined, so the tests for mtype checks and conversions related to alignments (data containers of the `Alignment` mtype) were failing.\r\n\r\nThe error messages were informative, so it was clear what to do:\r\n* add the missing fixtures\r\n* escape the tests assuming mtypes to be unique for alignments\r\n\r\nWhat is, however, very troubling that:\r\n* the remote CI did *not* detect this failure\r\n* I not detect this failure when locally testing the alignment module. I do not understand why I didn't.\r\n\r\nCurrently - in a newly set up environment - the tests *are* failing locally.\r\n\r\nHence, there may be additional issues about our CI which this might uncover.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1661/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1657", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1657/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1657/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1657/events", "html_url": "https://github.com/sktime/sktime/issues/1657", "id": 1065085749, "node_id": "I_kwDOCVKAsc4_e-s1", "number": 1657, "title": "[BUG] Notebook example `02_classification_univariate.ipynb` fails on python 3.8", "user": {"login": "lmmentel", "id": 8989838, "node_id": "MDQ6VXNlcjg5ODk4Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8989838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmmentel", "html_url": "https://github.com/lmmentel", "followers_url": "https://api.github.com/users/lmmentel/followers", "following_url": "https://api.github.com/users/lmmentel/following{/other_user}", "gists_url": "https://api.github.com/users/lmmentel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmmentel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmmentel/subscriptions", "organizations_url": "https://api.github.com/users/lmmentel/orgs", "repos_url": "https://api.github.com/users/lmmentel/repos", "events_url": "https://api.github.com/users/lmmentel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmmentel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "Aparna-Sakshi", "id": 44149689, "node_id": "MDQ6VXNlcjQ0MTQ5Njg5", "avatar_url": "https://avatars.githubusercontent.com/u/44149689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aparna-Sakshi", "html_url": "https://github.com/Aparna-Sakshi", "followers_url": "https://api.github.com/users/Aparna-Sakshi/followers", "following_url": "https://api.github.com/users/Aparna-Sakshi/following{/other_user}", "gists_url": "https://api.github.com/users/Aparna-Sakshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aparna-Sakshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aparna-Sakshi/subscriptions", "organizations_url": "https://api.github.com/users/Aparna-Sakshi/orgs", "repos_url": "https://api.github.com/users/Aparna-Sakshi/repos", "events_url": "https://api.github.com/users/Aparna-Sakshi/events{/privacy}", "received_events_url": "https://api.github.com/users/Aparna-Sakshi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Aparna-Sakshi", "id": 44149689, "node_id": "MDQ6VXNlcjQ0MTQ5Njg5", "avatar_url": "https://avatars.githubusercontent.com/u/44149689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aparna-Sakshi", "html_url": "https://github.com/Aparna-Sakshi", "followers_url": "https://api.github.com/users/Aparna-Sakshi/followers", "following_url": "https://api.github.com/users/Aparna-Sakshi/following{/other_user}", "gists_url": "https://api.github.com/users/Aparna-Sakshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aparna-Sakshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aparna-Sakshi/subscriptions", "organizations_url": "https://api.github.com/users/Aparna-Sakshi/orgs", "repos_url": "https://api.github.com/users/Aparna-Sakshi/repos", "events_url": "https://api.github.com/users/Aparna-Sakshi/events{/privacy}", "received_events_url": "https://api.github.com/users/Aparna-Sakshi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/10", "html_url": "https://github.com/sktime/sktime/milestone/10", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/10/labels", "id": 7141526, "node_id": "MI_kwDOCVKAsc4AbPiW", "number": 10, "title": "v0.10.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2021-09-10T15:00:00Z", "updated_at": "2022-08-22T21:42:46Z", "due_on": "2022-02-01T08:00:00Z", "closed_at": "2022-02-18T00:06:28Z"}, "comments": 7, "created_at": "2021-11-27T16:59:04Z", "updated_at": "2022-03-27T15:22:25Z", "closed_at": "2022-03-27T15:22:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nRunning the notebook `examples/02_classification_univariate.ipynb` fail with `nbclient.exceptions.DeadKernelError: Kernel died` error on python 3.8\r\n\r\n**To Reproduce**\r\nRun\r\n\r\n```bash\r\njupyter nbconvert --to notebook --inplace --execute --debug --ExecutePreprocessor.timeout=600 examples/02_classification_univariate.ipynb\r\n```\r\n\r\n**Expected behavior**\r\nCommand is succesfull.\r\n\r\n**Additional context**\r\n\r\nIn CI python 3.7 is used to run the notebook and the command executes successfully.\r\n\r\nI added a `--debug` flag and managed to narrow down the the cell that fail and it's\r\n\r\n```python\r\nfrom sktime.transformations.panel.tsfresh import TSFreshFeatureExtractor\r\n\r\ntransformer = TSFreshFeatureExtractor(default_fc_parameters=\"minimal\")\r\nextracted_features = transformer.fit_transform(X_train)\r\nextracted_features.head() \r\n```\r\n\r\nMore specifically it is the call to `transform` method from `TSFreshFeatureExtractor` that kills the kernel.\r\n\r\n**Versions**\r\n\r\nOS: linux mint\r\nPython: 3.8.10\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1651", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1651/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1651/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1651/events", "html_url": "https://github.com/sktime/sktime/issues/1651", "id": 1064433637, "node_id": "I_kwDOCVKAsc4_cffl", "number": 1651, "title": "[BUG] benchmarking.tests.test_evaluator.test_wilcoxon passes/fails with different versions of pandas", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-26T12:42:23Z", "updated_at": "2021-11-26T21:26:38Z", "closed_at": "2021-11-26T21:26:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nthanks to @immentel for identifying this issue previously identified here \r\nhttps://github.com/alan-turing-institute/sktime/pull/1198\r\n\r\nthe problem is caused by changes in pandas between versions 1.1.5 (used for the automatic repo tests) and versions >=1.2.0 (specifically tested with 1.3.4) that results in inconsistency in the ordering of the underlying data structure when directly converted to numpy. Related to https://github.com/alan-turing-institute/sktime/pull/1644 and https://github.com/alan-turing-institute/sktime/pull/1646.\r\n\r\n```python\r\ndef test_wilcoxon():\r\n    evaluator, metrics_by_strategy = evaluator_setup(score_function=accuracy_score)\r\n    results = evaluator.wilcoxon_test().iloc[:, 2:].values\r\n    # Fails pandas 1.3.4 passes 1.1.5\r\n    expected = np.array([[0.5, 0], [0.5, 0], [0.5, 0]])\r\n    # Works pandas 1.3.4 fails 1.1.5\r\n    expected = np.array([[0, 0.5], [0, 0.5], [0, 0.5]])\r\n    assert np.array_equal(results, expected)\r\n```\r\n\r\n*To Reproduce**\r\npip install pandas==1.1.5\r\nset\r\nexpected = np.array([[0, 0.5], [0, 0.5], [0, 0.5]])\r\nor \r\npip install pandas==1.3.4\r\nset\r\nexpected = np.array([[0.5, 0], [0.5, 0], [0.5, 0]])\r\n\r\n**Expected behavior**\r\nthe ordering of the expected values need to be consistent. Based on conversations with @fkiraly, says \r\n\r\nthe actual function still fulfills its contract, since the column names are correctly attributing the things that are compared, it's just that the data frame that is returned has permuted columns (with permuted correct index!) between versions. But if you convert to values, the information about the column index is removed, which results in a change in the numpy array, so as data frame, the two would be equal (if column names would be kept), but after converting to numpy  they no longer are. It's my suspicion\"\r\n\r\nI think he is correct, but have not tested it. @fkiraly suggests two possible solutions\r\n\r\nresults_df = evaluator.wilcoxon_test()\r\nresults_df_cols = evaluator.wilcoxon_test().columns\r\nresults = results_df[sort(results_df_cols)][:, 2:].values\r\n\r\nor\r\n\r\nresults_df = evaluator.wilcoxon_test()\r\nexpected = pd.DataFrame(put the right thing here)\r\nassert results_df.equals(expected)\r\n\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1649", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1649/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1649/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1649/events", "html_url": "https://github.com/sktime/sktime/issues/1649", "id": 1064193337, "node_id": "I_kwDOCVKAsc4_bk05", "number": 1649, "title": "[BUG] forecaster fit/predict interface", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-26T07:58:02Z", "updated_at": "2021-12-05T10:32:53Z", "closed_at": "2021-12-05T10:32:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI think the current behaviour of the forecasting API isn't very consistent. My preferred specification is described here: https://github.com/sktime/community-org/blob/main/meetups/previous_meetings/20210909-meetup.md\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\nfrom sktime.utils.plotting import plot_series\r\n\r\n# fails with: TypeError: No valid mtype could be identified\r\ny = np.random.normal(size=20)\r\nforecaster = ExponentialSmoothing()\r\nforecaster.fit(y)\r\n\r\n# works but predict returns np.ndarray\r\ny = np.random.normal(size=(20, 1))\r\nforecaster = NaiveForecaster()\r\nforecaster.fit(y)\r\ny_pred = forecaster.predict(fh=1)\r\ntype(y_pred)\r\n#\u00a0numpy.ndarray\r\n\r\n# but then other functionality breaks\r\n# fails with TypeError\r\nplot_series(y_pred)\r\n\r\n# fails with TypeError: No valid mtype could be identified\r\ny = np.random.normal(size=20)\r\nforecaster = NaiveForecaster()\r\nforecaster.fit(y)\r\n\r\n# fails with ValueError: Data must be 1-dimensional\r\ny = np.random.normal(size=(20, 1))\r\nforecaster = ExponentialSmoothing()\r\nforecaster.fit(y)\r\n\r\n# fails with ValueError: Index data must be 1-dimensional\r\ny = np.random.normal(size=(20, 1))\r\nforecaster = NaiveForecaster()\r\ncv = SlidingWindowSplitter(fh=1)\r\nevaluate(forecaster, cv, y)\r\n```\r\n\r\n**Expected behavior**\r\nConsistent handling of numpy arrays. User-friendly error messages. Preferably also consistent output types. ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1649/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1648", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1648/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1648/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1648/events", "html_url": "https://github.com/sktime/sktime/pull/1648", "id": 1063885400, "node_id": "PR_kwDOCVKAsc4vCHB5", "number": 1648, "title": "[BUG] Fixes to registry look-up, test suite for registry look-up", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3137622230, "node_id": "MDU6TGFiZWwzMTM3NjIyMjMw", "url": "https://api.github.com/repos/sktime/sktime/labels/module:tests", "name": "module:tests", "color": "43421D", "default": false, "description": "test framework functionality - only framework, excl specific tests"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 0, "created_at": "2021-11-25T19:42:24Z", "updated_at": "2021-12-04T14:47:54Z", "closed_at": "2021-12-04T14:47:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1648", "html_url": "https://github.com/sktime/sktime/pull/1648", "diff_url": "https://github.com/sktime/sktime/pull/1648.diff", "patch_url": "https://github.com/sktime/sktime/pull/1648.patch", "merged_at": "2021-12-04T14:47:53Z"}, "body": "This PR fixes #1647 and introduces tests for `all_estimators` and `all_tags`.\r\n\r\nIt further fixes the following, additional bugs discovered in the process:\r\n* the `symmetric` tag had a non-existent scitype in it\r\n* `_check_estimator_types` had side effects on its argument if it was a list\r\n\r\nThis PR also introduces tests for `all_estimators`, `all_tags`:\r\n* return object being of correct types\r\n* at least one element being returned in the list, when subsetting by scitypes", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1648/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1647", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1647/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1647/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1647/events", "html_url": "https://github.com/sktime/sktime/issues/1647", "id": 1063836723, "node_id": "I_kwDOCVKAsc4_aNwz", "number": 1647, "title": "[BUG] all_tags returns empty list with estimator type", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 1, "created_at": "2021-11-25T17:59:40Z", "updated_at": "2021-12-04T14:47:53Z", "closed_at": "2021-12-04T14:47:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`all_tags` returns empty list when passing estimator type. I suspect it was just copied over from `all_estimators` and can just be removed for now. Otherwise the docstring needs to be updated too. \r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.registry import all_tags\r\nall_tags(estimator_types=\"forecaster\")\r\n```\r\n\r\n**Expected behavior**\r\nGet list of tags applicable for given estimator type.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1645", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1645/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1645/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1645/events", "html_url": "https://github.com/sktime/sktime/issues/1645", "id": 1063748978, "node_id": "I_kwDOCVKAsc4_Z4Vy", "number": 1645, "title": "[BUG] difference in testing because of different pandas versions", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-25T15:58:25Z", "updated_at": "2021-11-25T19:02:49Z", "closed_at": "2021-11-25T19:02:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\ntests on build-and-test fail/pass when using pandas 1.1.5 but pass/fail when using 1.2.0 or later\r\n\r\nhttps://github.com/alan-turing-institute/sktime/pull/1594\r\n\r\nhttps://github.com/alan-turing-institute/sktime/issues/1642 \r\n\r\n**To Reproduce**\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1643", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1643/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1643/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1643/events", "html_url": "https://github.com/sktime/sktime/issues/1643", "id": 1063568298, "node_id": "I_kwDOCVKAsc4_ZMOq", "number": 1643, "title": "[BUG] evaluate fails with Imputer", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 4, "created_at": "2021-11-25T13:07:49Z", "updated_at": "2021-12-04T15:53:37Z", "closed_at": "2021-12-04T15:53:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nCalling `evaluate` with a pipeline and imputer fails.  \r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom sktime.transformations.series.impute import Imputer\r\nfrom sktime.forecasting.compose import ForecastingPipeline\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.forecasting.model_selection import SlidingWindowSplitter\r\n\r\ny = pd.Series(np.random.normal(size=100))\r\nX = pd.DataFrame(np.random.normal(size=(100, 2)))\r\nX.iloc[3, 1] = np.nan\r\n\r\ncv = SlidingWindowSplitter(fh=[1, 2, 3])\r\n\r\nforecaster = ForecastingPipeline([\r\n    (\"impute\", Imputer()),\r\n    (\"forecast\", NaiveForecaster())\r\n])\r\n\r\nevaluate(forecaster, cv=cv, y=y, X=X)\r\n```\r\n\r\n**Expected behavior**\r\nNo error. \r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.8 | packaged by conda-forge | (default, Jul 31 2020, 02:37:09)  [Clang 10.0.1 ]\r\nexecutable: /Users/mloning/.conda/envs/sktime-dev/bin/python\r\n   machine: Darwin-19.6.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 49.6.0.post20210108\r\n      sklearn: 0.24.2\r\n       sktime: 0.8.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.6.0\r\n       Cython: 0.29.21\r\n       pandas: 1.2.3\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: 1.8.2\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1642", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1642/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1642/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1642/events", "html_url": "https://github.com/sktime/sktime/issues/1642", "id": 1063317252, "node_id": "I_kwDOCVKAsc4_YO8E", "number": 1642, "title": "[BUG] NaNs returned by transformations.series.difference.Differencer", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": {"login": "RNKuhns", "id": 26907244, "node_id": "MDQ6VXNlcjI2OTA3MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/26907244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RNKuhns", "html_url": "https://github.com/RNKuhns", "followers_url": "https://api.github.com/users/RNKuhns/followers", "following_url": "https://api.github.com/users/RNKuhns/following{/other_user}", "gists_url": "https://api.github.com/users/RNKuhns/gists{/gist_id}", "starred_url": "https://api.github.com/users/RNKuhns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RNKuhns/subscriptions", "organizations_url": "https://api.github.com/users/RNKuhns/orgs", "repos_url": "https://api.github.com/users/RNKuhns/repos", "events_url": "https://api.github.com/users/RNKuhns/events{/privacy}", "received_events_url": "https://api.github.com/users/RNKuhns/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RNKuhns", "id": 26907244, "node_id": "MDQ6VXNlcjI2OTA3MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/26907244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RNKuhns", "html_url": "https://github.com/RNKuhns", "followers_url": "https://api.github.com/users/RNKuhns/followers", "following_url": "https://api.github.com/users/RNKuhns/following{/other_user}", "gists_url": "https://api.github.com/users/RNKuhns/gists{/gist_id}", "starred_url": "https://api.github.com/users/RNKuhns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RNKuhns/subscriptions", "organizations_url": "https://api.github.com/users/RNKuhns/orgs", "repos_url": "https://api.github.com/users/RNKuhns/repos", "events_url": "https://api.github.com/users/RNKuhns/events{/privacy}", "received_events_url": "https://api.github.com/users/RNKuhns/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-11-25T09:00:04Z", "updated_at": "2021-11-26T10:00:07Z", "closed_at": "2021-11-26T10:00:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nthis was spotted by Lukasz Mentel (@lmmentel) thanks for this. The anomaly arises when running transformations testing locally. Strangely, this is not picked up with the repo tests. Differencer in transformations.series.difference return the same size data frame as input, which means for first order difference it returns nans in the first row\r\n \r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.transformations.series.difference import Differencer\r\ndf = pd.DataFrame({'a': [1, 2, 3, 4, 5, 6],\r\n                   'b': [1, 1, 2, 3, 5, 8],\r\n                   'c': [1, 4, 9, 16, 25, 36]})\r\ndiff = Differencer()\r\nprint(df.diff())\r\n```\r\noutputs \r\n![image](https://user-images.githubusercontent.com/9594042/143411260-750b4921-f771-4737-aaa7-56d7c7a9be7c.png)\r\n Is it meant to have nans? If so, the tests need changing. If you run the test function in transformations/tests/test_all_transformers locally you get this output\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/143410700-efd6949b-0831-47d1-938d-1c167642d46c.png)\r\n\r\n\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n![image](https://user-images.githubusercontent.com/9594042/143410994-9761746e-11e2-4164-83c0-30097f975a3a.png)\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n![image](https://user-images.githubusercontent.com/9594042/143410994-9761746e-11e2-4164-83c0-30097f975a3a.png)\r\n\r\n\r\n-->\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1625", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1625/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1625/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1625/events", "html_url": "https://github.com/sktime/sktime/issues/1625", "id": 1058056889, "node_id": "I_kwDOCVKAsc4_EKq5", "number": 1625, "title": "[BUG] BATS/TBATS In-sample error", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-19T02:20:48Z", "updated_at": "2022-01-21T00:02:47Z", "closed_at": "2022-01-21T00:02:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nGet reference error when insample predictions are done for BATS and TBATS.\r\n\r\n**To Reproduce**\r\nSee [code gist here](https://gist.github.com/ngupta23/32856ac7116179fbfe95cea3c1e9ad25)\r\n\r\n```python\r\n\r\n\r\n/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py:220: FutureWarning: return_pred_int in predict() will be deprecated;please use predict_interval() instead to generate prediction intervals.\r\n  FutureWarning,\r\n\r\n---------------------------------------------------------------------------\r\nUnboundLocalError                         Traceback (most recent call last)\r\n<ipython-input-12-0d389f978f91> in <module>()\r\n      1 import numpy as np\r\n----> 2 forecaster.predict(fh=-np.arange(0, len(y)), return_pred_int=True)\r\n\r\n/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py in predict(self, fh, X, return_pred_int, alpha, keep_old_return_type)\r\n    227                     X=X_inner,\r\n    228                     return_pred_int=return_pred_int,\r\n--> 229                     alpha=alpha,\r\n    230                 )\r\n    231 \r\n\r\n/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/adapters/_tbats.py in _predict(self, fh, X, return_pred_int, alpha)\r\n    136 \r\n    137         if return_pred_int:\r\n--> 138             return y_pred, pred_int\r\n    139         else:\r\n    140             return y_pred\r\n\r\nUnboundLocalError: local variable 'pred_int' referenced before assignment\r\n\r\n\r\n```\r\n\r\n**Expected behavior**\r\nOut of sample works ok. Only insample seems to be an issue.\r\n\r\n**Versions**\r\n\r\nsktime = 0.8.1\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1603", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1603/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1603/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1603/events", "html_url": "https://github.com/sktime/sktime/issues/1603", "id": 1049994678, "node_id": "I_kwDOCVKAsc4-laW2", "number": 1603, "title": "[BUG] problem with strings input for target variable", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-11-10T15:40:49Z", "updated_at": "2021-11-12T13:42:41Z", "closed_at": "2021-11-12T13:42:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nusing the sklearn train test split breaks HC2, because the numba code expects np.str not Series strings.\r\n \r\n**To Reproduce**\r\n    # breaks\r\n    X, y = load_UCR_UEA_dataset(\"ItalyPowerDemand\", return_X_y=True)\r\n    X_train, X_test, y_train, y_test = train_test_split(X, y)\r\n    hc2 = HIVECOTEV2()\r\n    hc2.fit(X_train, y_train)\r\n\r\n**Expected behaviour**\r\n\r\nit should work with train_test_split. The simplest fix for this is to test for Series strings in the base classifier and always convert to numpy.str. I'll work this into https://github.com/alan-turing-institute/sktime/pull/1594\r\n \r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1603/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1593", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1593/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1593/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1593/events", "html_url": "https://github.com/sktime/sktime/issues/1593", "id": 1048014597, "node_id": "I_kwDOCVKAsc4-d28F", "number": 1593, "title": "[BUG] evaluate raises KeyError for AutoETS and CutoffSplitter / SlidingWindowSplitter - issue with BaseForecaster._update_y_X", "user": {"login": "ltsaprounis", "id": 64217214, "node_id": "MDQ6VXNlcjY0MjE3MjE0", "avatar_url": "https://avatars.githubusercontent.com/u/64217214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltsaprounis", "html_url": "https://github.com/ltsaprounis", "followers_url": "https://api.github.com/users/ltsaprounis/followers", "following_url": "https://api.github.com/users/ltsaprounis/following{/other_user}", "gists_url": "https://api.github.com/users/ltsaprounis/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltsaprounis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltsaprounis/subscriptions", "organizations_url": "https://api.github.com/users/ltsaprounis/orgs", "repos_url": "https://api.github.com/users/ltsaprounis/repos", "events_url": "https://api.github.com/users/ltsaprounis/events{/privacy}", "received_events_url": "https://api.github.com/users/ltsaprounis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-08T23:13:29Z", "updated_at": "2021-11-25T16:53:33Z", "closed_at": "2021-11-25T16:53:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nevaluate function raises an invalid error for the CutoffSplitter and SlidingWindowSplitter. \r\nExpandingWindowSplitter works fine.\r\n\r\nThe error initially appears to be in the _predict method of ets.\r\nBut, a few debug prints later I managed to pinpoint the issue in the [_update_y_X](https://github.com/alan-turing-institute/sktime/blob/922cd71d0d82d849025a080be826cf1c3c4777e5/sktime/forecasting/base/_base.py#L804) method of the BaseForecaster class.\r\n\r\nIf the forecaster was fitted before and is now refitted, forecaster._y is not changed based on the new y_train and this causes a difference in the absolute horizon of y and the prediction output. This explains why we don't get the error in the ExpandingWindowSplitter as in that case forecaster._y[0] is the same for all splits.\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.ets import AutoETS\r\nfrom sktime.forecasting.model_selection import CutoffSplitter\r\nfrom sktime.forecasting.model_evaluation import evaluate\r\nfrom sktime.performance_metrics.forecasting import MeanSquaredScaledError\r\n\r\nsynthetic_data = pd.Series(\r\n    10 + np.random.lognormal(5, 1, 365),\r\n    index = pd.PeriodIndex(pd.date_range(start=\"2020-01-01\", freq=\"D\", periods=365), freq=\"D\"), \r\n)\r\n\r\ncustom_cutoffs = np.array([\r\n    len(synthetic_data[synthetic_data.index < date]) \r\n    for date in \r\n    [\r\n        \"2020-07-01\",\r\n        \"2020-08-01\", \r\n        \"2020-09-01\", \r\n        \"2020-10-01\", \r\n        \"2020-11-01\", \r\n        \"2020-12-01\",\r\n    ]\r\n])\r\n\r\n#\u00a0create the CV object\r\nCV = CutoffSplitter(\r\n    #\u00a0custom cuttoffs\r\n    cutoffs=custom_cutoffs, \r\n    #\u00a03 step ahead forecast\r\n    fh=np.arange(3)+1,\r\n    #\u00a05 years of training data\r\n    window_length=6*30,\r\n)\r\n\r\nevaluate(\r\n    forecaster=AutoETS(),\r\n    y=synthetic_data,\r\n    cv=CV,\r\n    strategy=\"refit\",\r\n    return_data=True,\r\n    scoring=MeanSquaredScaledError(square_root=True),\r\n)\r\n\r\n>>>  KeyError: \"None of [PeriodIndex(['2020-08-02', '2020-08-03', '2020-08-04'], dtype='period[D]')] are in the [index]\"\r\n```\r\n\r\n**Expected behavior**\r\nevaluate should run smoothly for all cv strategies.\r\nBaseForecaster._y should be updated based on the latest training data. \r\nI suggest we remove the combine_first logic from  [_update_y_X](https://github.com/alan-turing-institute/sktime/blob/922cd71d0d82d849025a080be826cf1c3c4777e5/sktime/forecasting/base/_base.py#L804), but I'm not sure if it serves a different purpose elsewhere.\r\n\r\nOtherwise a deepcopy(forecaster) in evaluate will solve the problem too.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1593/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1589", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1589/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1589/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1589/events", "html_url": "https://github.com/sktime/sktime/issues/1589", "id": 1046096669, "node_id": "I_kwDOCVKAsc4-Wisd", "number": 1589, "title": "[BUG] using hasattr on RandomIntervalSpectralForest to test for feature_importances_ causes the program to crash.", "user": {"login": "paulsbrookes", "id": 15247443, "node_id": "MDQ6VXNlcjE1MjQ3NDQz", "avatar_url": "https://avatars.githubusercontent.com/u/15247443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulsbrookes", "html_url": "https://github.com/paulsbrookes", "followers_url": "https://api.github.com/users/paulsbrookes/followers", "following_url": "https://api.github.com/users/paulsbrookes/following{/other_user}", "gists_url": "https://api.github.com/users/paulsbrookes/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulsbrookes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulsbrookes/subscriptions", "organizations_url": "https://api.github.com/users/paulsbrookes/orgs", "repos_url": "https://api.github.com/users/paulsbrookes/repos", "events_url": "https://api.github.com/users/paulsbrookes/events{/privacy}", "received_events_url": "https://api.github.com/users/paulsbrookes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-11-05T17:49:39Z", "updated_at": "2022-01-08T22:13:35Z", "closed_at": "2022-01-08T22:13:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I use ```hasattr``` to ask ```RandomIntervalSpectralForest``` if it has the feature_importances_ attribute it causes my code to crash with the following error:\r\n```NotImplementedError: The impurity-based feature importances of RandomIntervalSpectralForest is currently not supported.```\r\n<!--\r\nWhen I use \r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.classification.interval_based import RandomIntervalSpectralForest\r\ntest = RandomIntervalSpectralForest()\r\nhasattr(test, 'feature_importances_')\r\n```\r\n\r\n**Expected behavior**\r\nI expected ```hasattr(test, 'feature_importances_')``` to return ```False```.\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Possible fix**\r\nI think it would be better to remove this method unless it is implemented.\r\n<!--\r\nAdd any other context about the problem here.\r\n-->", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1587", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1587/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1587/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1587/events", "html_url": "https://github.com/sktime/sktime/issues/1587", "id": 1044725008, "node_id": "I_kwDOCVKAsc4-RT0Q", "number": 1587, "title": "[BUG] docs/readthedocs.org:sktime \u2014 Read the Docs build failed!", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-04T12:45:09Z", "updated_at": "2021-11-08T15:40:56Z", "closed_at": "2021-11-08T15:40:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nthe readthedocs tests are failing on multiple, unrelated PRs with the file\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/140315278-9cb76e53-72e4-4e88-afd1-6b679fddae2e.png)\r\n\r\n\r\n**To Reproduce**\r\n\r\nto reproduce, create a PR into main. Dee, for example\r\n\r\nhttps://github.com/alan-turing-institute/sktime/pull/1584\r\nhttps://github.com/alan-turing-institute/sktime/pull/1583\r\n\r\n**Expected behavior**\r\nthe test should pass since nothing has changed in the PRs that could feasibly and independently generate it\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1580", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1580/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1580/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1580/events", "html_url": "https://github.com/sktime/sktime/issues/1580", "id": 1043650255, "node_id": "I_kwDOCVKAsc4-NNbP", "number": 1580, "title": "[BUG] model_selection/split does not support y being an index since 0.8.1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-03T14:11:19Z", "updated_at": "2021-11-14T18:08:43Z", "closed_at": "2021-11-14T18:08:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n#1456 introduced a bug. If y is an Index, the code leads to an unassigned local variable\r\n```\r\nUnboundLocalError: local variable 'y_index' referenced before assignment\r\n```\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasting.model_selection import SingleWindowSplitter\r\nimport pandas as pd\r\nnext(SingleWindowSplitter(fh=1).split(pd.PeriodIndex(year=[2000, 2002], quarter=[1, 3])))\r\n```\r\n\r\n**Expected behavior**\r\nsplit function should accept an Index as argument\r\n\r\n**Versions**\r\n0.8.1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1563", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1563/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1563/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1563/events", "html_url": "https://github.com/sktime/sktime/issues/1563", "id": 1039531764, "node_id": "I_kwDOCVKAsc499f70", "number": 1563, "title": "[BUG] Numba needs NumPy 1.20 or less, but `sktime` installation does not ensure this on all operating systems", "user": {"login": "srinuti", "id": 58987196, "node_id": "MDQ6VXNlcjU4OTg3MTk2", "avatar_url": "https://avatars.githubusercontent.com/u/58987196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srinuti", "html_url": "https://github.com/srinuti", "followers_url": "https://api.github.com/users/srinuti/followers", "following_url": "https://api.github.com/users/srinuti/following{/other_user}", "gists_url": "https://api.github.com/users/srinuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/srinuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srinuti/subscriptions", "organizations_url": "https://api.github.com/users/srinuti/orgs", "repos_url": "https://api.github.com/users/srinuti/repos", "events_url": "https://api.github.com/users/srinuti/events{/privacy}", "received_events_url": "https://api.github.com/users/srinuti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, {"login": "jasonlines", "id": 38794632, "node_id": "MDQ6VXNlcjM4Nzk0NjMy", "avatar_url": "https://avatars.githubusercontent.com/u/38794632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonlines", "html_url": "https://github.com/jasonlines", "followers_url": "https://api.github.com/users/jasonlines/followers", "following_url": "https://api.github.com/users/jasonlines/following{/other_user}", "gists_url": "https://api.github.com/users/jasonlines/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonlines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonlines/subscriptions", "organizations_url": "https://api.github.com/users/jasonlines/orgs", "repos_url": "https://api.github.com/users/jasonlines/repos", "events_url": "https://api.github.com/users/jasonlines/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonlines/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-10-29T12:47:38Z", "updated_at": "2021-11-21T09:49:22Z", "closed_at": "2021-11-20T16:20:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nNumba needs NumPy 1.20 or less\r\n\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\n2_forecasting tutorial that was used in Pydata global 2021. \r\nright after the command \r\nfrom sktime.registry import all_estimators\r\nall_estimators(\"forecaster\", as_dataframe=True)\r\n\r\nwhen I run all_estimators command line I get error. \r\n\r\n-->\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-63-9c74fc495c79> in <module>\r\n----> 1 all_estimators(\"forecaster\", as_dataframe=True)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\site-packages\\sktime\\registry\\_lookup.py in all_estimators(estimator_types, filter_tags, exclude_estimators, return_names, as_dataframe)\r\n    140 \r\n    141             try:\r\n--> 142                 module = import_module(module_name)\r\n    143                 classes = inspect.getmembers(module, inspect.isclass)\r\n    144 \r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\__init__.py in import_module(name, package)\r\n    125                 break\r\n    126             level += 1\r\n--> 127     return _bootstrap._gcd_import(name[level:], package, level)\r\n    128 \r\n    129 \r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\_bootstrap.py in _gcd_import(name, package, level)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\_bootstrap.py in _find_and_load(name, import_)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\_bootstrap.py in _find_and_load_unlocked(name, import_)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\_bootstrap.py in _load_unlocked(spec)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\_bootstrap_external.py in exec_module(self, module)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\importlib\\_bootstrap.py in _call_with_frames_removed(f, *args, **kwds)\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\site-packages\\sktime\\annotation\\clasp.py in <module>\r\n     25 import pandas as pd\r\n     26 \r\n---> 27 from sktime.transformations.series.clasp import ClaSPTransformer\r\n     28 from sktime.utils.validation.series import check_series\r\n     29 \r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\site-packages\\sktime\\transformations\\series\\clasp.py in <module>\r\n     22 # import numpy.fft as fft\r\n     23 import pandas as pd\r\n---> 24 from numba import njit\r\n     25 \r\n     26 from sktime.transformations.base import _SeriesToSeriesTransformer\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\site-packages\\numba\\__init__.py in <module>\r\n    196 \r\n    197 _ensure_llvm()\r\n--> 198 _ensure_critical_deps()\r\n    199 \r\n    200 # we know llvmlite is working as the above tests passed, import it now as SVML\r\n\r\nC:\\ProgramData\\Anaconda3\\envs\\tensorflow_env\\lib\\site-packages\\numba\\__init__.py in _ensure_critical_deps()\r\n    136         raise ImportError(\"Numba needs NumPy 1.17 or greater\")\r\n    137     elif numpy_version > (1, 20):\r\n--> 138         raise ImportError(\"Numba needs NumPy 1.20 or less\")\r\n    139 \r\n    140     try:\r\n\r\nImportError: Numba needs NumPy 1.20 or less\r\n\r\n_______________________________\r\nI had pip installed sktime\r\n\r\nPackage                  Version\r\n------------------------ -----------\r\n-                        ywidgets\r\n-dm                      4.42.1\r\n-loudpickle              1.1.1\r\n-pywidgets               7.5.1\r\n-qdm                     4.42.1\r\n-umpy                    1.18.1\r\nabsl-py                  0.9.0\r\nappdirs                  1.4.4\r\nasn1crypto               1.3.0\r\nastor                    0.8.0\r\natomicwrites             1.4.0\r\nattrs                    19.3.0\r\nbackcall                 0.1.0\r\nbeautifulsoup4           4.9.1\r\nbleach                   3.1.1\r\nblinker                  1.4\r\nblis                     0.7.4\r\nbokeh                    2.1.1\r\ncachetools               3.1.1\r\ncatalogue                1.0.0\r\ncertifi                  2020.12.5\r\ncffi                     1.14.0\r\ncfgv                     3.2.0\r\nchardet                  3.0.4\r\nClick                    7.0\r\nclick-plugins            1.1.1\r\ncligj                    0.5.0\r\ncloudpickle              1.3.0\r\ncmdstanpy                0.9.68\r\ncolorama                 0.4.3\r\ncolorcet                 2.0.6\r\nconvertdate              2.3.2\r\ncryptography             2.8\r\ncycler                   0.10.0\r\ncymem                    2.0.5\r\nCython                   0.29.17\r\ndabl                     0.1.8\r\ndecorator                4.4.2\r\ndefusedxml               0.6.0\r\ndescartes                1.1.0\r\ndill                     0.3.1.1\r\ndistlib                  0.3.1\r\neasyAI                   1.0.0.4\r\nen-core-web-sm           2.3.1\r\nentrypoints              0.3\r\nephem                    3.7.7.1\r\nfilelock                 3.0.12\r\nFiona                    1.8.4\r\nfuture                   0.18.2\r\ngast                     0.2.2\r\nGDAL                     2.3.3\r\ngeographiclib            1.50\r\ngeopandas                0.6.1\r\ngeopy                    2.0.0\r\ngoogle-auth              1.11.2\r\ngoogle-auth-oauthlib     0.4.1\r\ngoogle-pasta             0.1.8\r\ngoogleapis-common-protos 1.51.0\r\ngoogletrans              3.0.0\r\ngrpcio                   1.27.2\r\ngym                      0.17.2\r\nh11                      0.9.0\r\nh2                       3.2.0\r\nh5py                     2.10.0\r\nhijri-converter          2.1.1\r\nholidays                 0.11.1\r\nholoviews                1.14.5\r\nhpack                    3.0.0\r\nhstspreload              2020.12.22\r\nhttpcore                 0.9.1\r\nhttpx                    0.13.3\r\nhvplot                   0.7.3\r\nhyperframe               5.2.0\r\nidentify                 2.2.2\r\nidna                     2.8\r\nimbalanced-learn         0.7.0\r\nimblearn                 0.0\r\nimportlib-metadata       1.5.0\r\niniconfig                1.1.1\r\nipykernel                5.1.4\r\nipympl                   0.6.3\r\nipython                  7.13.0\r\nipython-genutils         0.2.0\r\nipywidgets               7.6.3\r\njedi                     0.16.0\r\nJinja2                   2.11.1\r\njoblib                   0.13.2\r\njsonschema               3.0.2\r\njupyter                  1.0.0\r\njupyter-client           6.0.0\r\njupyter-console          6.1.0\r\njupyter-core             4.6.3\r\njupyterlab-widgets       1.0.0\r\nKeras                    2.3.1\r\nKeras-Applications       1.0.8\r\nKeras-Preprocessing      1.1.0\r\nkeras-tuner              1.0.1\r\nkiwisolver               1.1.0\r\nkorean-lunar-calendar    0.2.1\r\nlangdetect               1.0.7\r\nlibpysal                 4.3.0\r\nllvmlite                 0.37.0\r\nloguru                   0.5.3\r\nLunarCalendar            0.0.9\r\nlxml                     4.5.2\r\nMarkdown                 3.1.1\r\nMarkupSafe               1.1.1\r\nmatplotlib               3.1.3\r\nmistune                  0.8.4\r\nmkl-fft                  1.0.15\r\nmkl-random               1.1.0\r\nmkl-service              2.3.0\r\nmomepy                   0.2.1\r\nmpmath                   1.1.0\r\nmunch                    2.5.0\r\nmurmurhash               1.0.5\r\nn2w                      0.1.3\r\nnbconvert                5.6.1\r\nnbformat                 5.0.4\r\nnetworkx                 2.4\r\nnltk                     3.5\r\nnodeenv                  1.5.0\r\nnotebook                 6.0.3\r\nnumba                    0.54.1\r\nnumpy                    1.21.3\r\noauthlib                 3.1.0\r\nopt-einsum               3.1.0\r\npackaging                20.4\r\npandas                   1.2.3\r\npandocfilters            1.4.2\r\npanel                    0.12.1\r\nparam                    1.11.1\r\nparso                    0.6.2\r\npatsy                    0.5.2\r\npickleshare              0.7.5\r\nPillow                   7.1.2\r\npip                      20.2\r\nplac                     1.1.0\r\nplotly                   4.9.0\r\nplotly-geo               1.0.0\r\npluggy                   0.13.1\r\npmdarima                 1.8.0\r\npre-commit               2.11.1\r\npreshed                  3.0.2\r\nprometheus-client        0.7.1\r\npromise                  2.2.1\r\nprompt-toolkit           3.0.4\r\nprophet                  1.0.1\r\nprotobuf                 3.11.4\r\npsutil                   5.7.0\r\npy                       1.10.0\r\npyasn1                   0.4.8\r\npyasn1-modules           0.2.7\r\npycparser                2.19\r\npyct                     0.4.8\r\nPyExecJS                 1.5.1\r\npyglet                   1.5.0\r\nPygments                 2.6.1\r\nPyJWT                    1.7.1\r\nPyMeeus                  0.5.11\r\npyOpenSSL                19.1.0\r\npyparsing                2.4.6\r\npyproj                   1.9.6\r\npyreadline               2.1\r\npyrsistent               0.15.7\r\npyshopee                 1.3.9\r\nPySocks                  1.7.1\r\npystan                   2.19.1.1\r\npytest                   6.2.2\r\npython-dateutil          2.8.1\r\npytz                     2019.3\r\npyviz-comms              2.1.0\r\npywin32                  227\r\npywinpty                 0.5.7\r\nPyYAML                   5.3\r\npyzmq                    19.0.0\r\nqtconsole                4.7.1\r\nQtPy                     1.9.0\r\nregex                    2020.11.13\r\nrequests                 2.23.0\r\nrequests-oauthlib        1.3.0\r\nretrying                 1.3.3\r\nrfc3986                  1.4.0\r\nrsa                      4.0\r\nRtree                    0.9.4\r\nscikit-learn             1.0.1\r\nscikit-plot              0.3.7\r\nscipy                    1.4.1\r\nseaborn                  0.10.0\r\nSend2Trash               1.5.0\r\nsetuptools               56.0.0\r\nsetuptools-git           1.2\r\nShapely                  1.6.4.post1\r\nsix                      1.14.0\r\nsktime                   0.8.1\r\nsniffio                  1.2.0\r\nsoupsieve                2.0.1\r\nspacy                    2.3.5\r\nspacy-langdetect         0.1.2\r\nsrsly                    1.0.5\r\nstatsmodels              0.13.0\r\nsympy                    1.6.2\r\ntabulate                 0.8.7\r\ntensorboard              2.1.0\r\ntensorflow               2.1.0\r\ntensorflow-datasets      1.2.0\r\ntensorflow-estimator     2.1.0\r\ntensorflow-hub           0.7.0\r\ntensorflow-metadata      0.14.0\r\ntensorflow-probability   0.8.0rc0\r\ntermcolor                1.1.0\r\nterminado                0.8.3\r\nterminaltables           3.1.0\r\ntestpath                 0.4.4\r\nthinc                    7.4.5\r\nthreadpoolctl            2.1.0\r\ntoml                     0.10.2\r\ntorch                    1.3.1\r\ntornado                  6.0.4\r\ntox                      3.23.0\r\ntqdm                     4.62.1\r\ntraitlets                4.3.3\r\ntranslate                3.5.0\r\ntranslate-api            4.7.15\r\ntyping-extensions        3.7.4.2\r\nujson                    4.0.2\r\nurllib3                  1.25.8\r\nvirtualenv               20.4.3\r\nwasabi                   0.8.2\r\nwcwidth                  0.1.8\r\nwebencodings             0.5.1\r\nWerkzeug                 0.16.1\r\nwheel                    0.34.2\r\nwidgetsnbextension       3.5.1\r\nwin-inet-pton            1.1.0\r\nwin32-setctime           1.0.3\r\nwincertstore             0.2\r\nwordcloud                1.8.1\r\nwrapt                    1.11.2\r\nxarray                   0.15.1\r\nxgboost                  1.2.1\r\nxlrd                     1.2.0\r\nzipcodes                 1.1.2\r\nzipp                     3.1.0\r\nWARNING: You are using pip version 20.2; however, version 21.3.1 is available.\r\nYou should consider upgrading via the 'c:\\programdata\\anaconda3\\envs\\tensorflow_env\\python.exe -m pip install --upgrade pip' command.\r\n______________________\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1546", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1546/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1546/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1546/events", "html_url": "https://github.com/sktime/sktime/issues/1546", "id": 1031606576, "node_id": "I_kwDOCVKAsc49fREw", "number": 1546, "title": "[BUG] TypeError when instantiating ComposableTimeSeriesForestClassifier", "user": {"login": "OliverMatthews", "id": 31141490, "node_id": "MDQ6VXNlcjMxMTQxNDkw", "avatar_url": "https://avatars.githubusercontent.com/u/31141490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OliverMatthews", "html_url": "https://github.com/OliverMatthews", "followers_url": "https://api.github.com/users/OliverMatthews/followers", "following_url": "https://api.github.com/users/OliverMatthews/following{/other_user}", "gists_url": "https://api.github.com/users/OliverMatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/OliverMatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OliverMatthews/subscriptions", "organizations_url": "https://api.github.com/users/OliverMatthews/orgs", "repos_url": "https://api.github.com/users/OliverMatthews/repos", "events_url": "https://api.github.com/users/OliverMatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/OliverMatthews/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-20T16:28:58Z", "updated_at": "2021-10-20T16:35:48Z", "closed_at": "2021-10-20T16:35:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nFollowing the tutorials for univariate time series classification, encountered a TypeError bug when running the code found in the section on [time series forests](https://www.sktime.org/en/latest/examples/02_classification_univariate.html#Time-series-forest).\r\n\r\nTypeError is thrown when instantiating the ComposableTimeSeriesForestClassifier class as per the example code.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.transformations.panel.summarize import RandomIntervalFeatureExtractor\r\n\r\nsteps = [\r\n    (\r\n        \"extract\",\r\n        RandomIntervalFeatureExtractor(n_intervals=\"sqrt\", features=[np.mean, np.std, _slope])\r\n    ),\r\n    (\"clf\", DecisionTreeClassifier())\r\n]\r\n\r\ntime_series_tree = Pipeline(steps)\r\n\r\n# Fit and evaluate single time series tree\r\ntime_series_tree.fit(x_train, y_train)\r\ntime_series_tree.score(x_test, `y_test)`\r\n\r\ntsf = ComposableTimeSeriesForestClassifier( # This is where the TypeError is thrown\r\n    estimator=time_series_tree,\r\n    n_estimators=100,\r\n    criterion=\"entropy\",\r\n    bootstrap=True,\r\n    oob_score=True,\r\n    random_state=1,\r\n    n_jobs=-1\r\n)\r\n\r\n# Fit and obtain oob score\r\ntsf.fit(x_train, y_train)\r\n\r\nif tsf.oob_score:\r\n    print(tsf.oob_score_)\r\n```\r\n\r\n**Expected behavior**\r\nComposableTimeSeriesForestClassifier should be instantiable\r\nOR \r\nTutorial should be changed to show correct methodology for using time series forests.\r\n\r\n**Additional context**\r\nI believe the issue might be related to __init__ being marked as an abstract method [here.](1ec596b9d5464d21ffb0236730afded23/sktime/series_as_features/base/estimators/_ensemble.py#L88)\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:37:02) [MSC v.1924 64 bit (AMD64)]\r\nexecutable: c:\\users\\olive\\onedrive - university of east anglia\\year 3\\computing project (cmp-6013y)\\datasets\\venv\\scripts\\python.exe\r\n   machine: Windows-10-10.0.22000-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.1.2\r\n   setuptools: 57.0.0\r\n      sklearn: 1.0\r\n       sktime: 0.8.0\r\n  statsmodels: 0.13.0\r\n        numpy: 1.19.5\r\n        scipy: 1.7.1\r\n       Cython: 0.29.24\r\n       pandas: 1.3.4\r\n   matplotlib: 3.4.3\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: 1.8.3\r\n      tsfresh: 0.18.0\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1546/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1539", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1539/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1539/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1539/events", "html_url": "https://github.com/sktime/sktime/issues/1539", "id": 1029395247, "node_id": "I_kwDOCVKAsc49W1Mv", "number": 1539, "title": "[BUG] failing appveyor/windows builds", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-18T17:23:33Z", "updated_at": "2021-10-20T11:37:24Z", "closed_at": "2021-10-20T10:24:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since a while, our Windows builds on appveyor are failing.\r\nWe don't precisely know yet what is causing this - the builds are failing before any `sktime` specific code is run.\r\n@mloning has looked into this but it seems to be a time intensive issue to diagnose.\r\n\r\nA possible solution is this PR https://github.com/alan-turing-institute/sktime/pull/1319 which moves the windows builds to GitHub actions, but this fails with the C compiler issues, and it's unclear how to fix (except by random googling and seeing what works).\r\n\r\nHelp and pointers are very much appreciated - does not look straightforward.\r\n\r\nPerhaps @freddyaboulton or @corvusrabus have an idea, given earlier help with CI/CD?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1536", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1536/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1536/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1536/events", "html_url": "https://github.com/sktime/sktime/issues/1536", "id": 1028420189, "node_id": "I_kwDOCVKAsc49THJd", "number": 1536, "title": "[BUG] TypeError for ComposableTimeSeriesForestClassifier", "user": {"login": "leejiayi098", "id": 51938633, "node_id": "MDQ6VXNlcjUxOTM4NjMz", "avatar_url": "https://avatars.githubusercontent.com/u/51938633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leejiayi098", "html_url": "https://github.com/leejiayi098", "followers_url": "https://api.github.com/users/leejiayi098/followers", "following_url": "https://api.github.com/users/leejiayi098/following{/other_user}", "gists_url": "https://api.github.com/users/leejiayi098/gists{/gist_id}", "starred_url": "https://api.github.com/users/leejiayi098/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leejiayi098/subscriptions", "organizations_url": "https://api.github.com/users/leejiayi098/orgs", "repos_url": "https://api.github.com/users/leejiayi098/repos", "events_url": "https://api.github.com/users/leejiayi098/events{/privacy}", "received_events_url": "https://api.github.com/users/leejiayi098/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "OliverMatthews", "id": 31141490, "node_id": "MDQ6VXNlcjMxMTQxNDkw", "avatar_url": "https://avatars.githubusercontent.com/u/31141490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OliverMatthews", "html_url": "https://github.com/OliverMatthews", "followers_url": "https://api.github.com/users/OliverMatthews/followers", "following_url": "https://api.github.com/users/OliverMatthews/following{/other_user}", "gists_url": "https://api.github.com/users/OliverMatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/OliverMatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OliverMatthews/subscriptions", "organizations_url": "https://api.github.com/users/OliverMatthews/orgs", "repos_url": "https://api.github.com/users/OliverMatthews/repos", "events_url": "https://api.github.com/users/OliverMatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/OliverMatthews/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "OliverMatthews", "id": 31141490, "node_id": "MDQ6VXNlcjMxMTQxNDkw", "avatar_url": "https://avatars.githubusercontent.com/u/31141490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OliverMatthews", "html_url": "https://github.com/OliverMatthews", "followers_url": "https://api.github.com/users/OliverMatthews/followers", "following_url": "https://api.github.com/users/OliverMatthews/following{/other_user}", "gists_url": "https://api.github.com/users/OliverMatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/OliverMatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OliverMatthews/subscriptions", "organizations_url": "https://api.github.com/users/OliverMatthews/orgs", "repos_url": "https://api.github.com/users/OliverMatthews/repos", "events_url": "https://api.github.com/users/OliverMatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/OliverMatthews/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2021-10-17T19:47:06Z", "updated_at": "2022-03-01T13:50:41Z", "closed_at": "2022-03-01T13:50:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to follow the tutorial for \"Univariate time series classification with sktime\" but ran into an error with the time series forest classifier `ComposableTimeSeriesForestClassifier`. Copied the code exactly, everything was fine for a single time series tree. \r\n\r\nCode: \r\n```\r\ntsf = ComposableTimeSeriesForestClassifier(\r\n    estimator=time_series_tree,\r\n    n_estimators=100,\r\n    criterion=\"entropy\",\r\n    bootstrap=True,\r\n    oob_score=True,\r\n    random_state=1,\r\n    n_jobs=-1,\r\n)\r\n```\r\n\r\nError: \r\n```\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-25-a9421957ffb2> in <module>()\r\n      7     oob_score=True,\r\n      8     random_state=1,\r\n----> 9     n_jobs=-1,\r\n     10 )\r\n\r\nTypeError: Can't instantiate abstract class ComposableTimeSeriesForestClassifier with abstract methods _set_oob_score_and_attributes\r\n```\r\n\r\n(Google Colab, no GPU/TPU)\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1523", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1523/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1523/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1523/events", "html_url": "https://github.com/sktime/sktime/issues/1523", "id": 1027356696, "node_id": "I_kwDOCVKAsc49PDgY", "number": 1523, "title": "[BUG] `ForecastingHorizon.to_absolute` conversion for `W-XXX` frequencies", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "amrith-shell", "id": 83223497, "node_id": "MDQ6VXNlcjgzMjIzNDk3", "avatar_url": "https://avatars.githubusercontent.com/u/83223497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amrith-shell", "html_url": "https://github.com/amrith-shell", "followers_url": "https://api.github.com/users/amrith-shell/followers", "following_url": "https://api.github.com/users/amrith-shell/following{/other_user}", "gists_url": "https://api.github.com/users/amrith-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/amrith-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amrith-shell/subscriptions", "organizations_url": "https://api.github.com/users/amrith-shell/orgs", "repos_url": "https://api.github.com/users/amrith-shell/repos", "events_url": "https://api.github.com/users/amrith-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/amrith-shell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amrith-shell", "id": 83223497, "node_id": "MDQ6VXNlcjgzMjIzNDk3", "avatar_url": "https://avatars.githubusercontent.com/u/83223497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amrith-shell", "html_url": "https://github.com/amrith-shell", "followers_url": "https://api.github.com/users/amrith-shell/followers", "following_url": "https://api.github.com/users/amrith-shell/following{/other_user}", "gists_url": "https://api.github.com/users/amrith-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/amrith-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amrith-shell/subscriptions", "organizations_url": "https://api.github.com/users/amrith-shell/orgs", "repos_url": "https://api.github.com/users/amrith-shell/repos", "events_url": "https://api.github.com/users/amrith-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/amrith-shell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-10-15T11:37:51Z", "updated_at": "2022-01-17T10:35:31Z", "closed_at": "2022-01-13T17:31:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`ForecastingHorizon.to_absolute` can produce the wrong day of the week in `to_absolute` conversions.\r\n\r\nThis seems to occur only for the `W-XXX` frequency, leading to the error in #1405.\r\n\r\nMinimally reproducing code:\r\n\r\n```python\r\ntrain = pd.Series(1, index=pd.date_range(\"2021-10-06\", freq=\"W-WED\", periods=3))\r\nfh = ForecastingHorizon([1, 2, 3])\r\nfh.to_absolute(train.index[-1])\r\n```\r\n\r\nresults in `ForecastingHorizon(['2021-10-31', '2021-11-07', '2021-11-14'], dtype='datetime64[ns]', freq='W-SUN', is_relative=False)`.\r\n\r\nExpected result is `ForecastingHorizon(['2021-10-27', '2021-11-03', '2021-11-10'], dtype='datetime64[ns]', freq='W-WED', is_relative=False)`.\r\n\r\nFurther unintuitive behaviour happens if the `fh` has length 2 or 1, in that case the resulting frequency is `None` but should be `'W-WED'` too... I think?\r\n\r\nWe should:\r\n\r\n- [x] fix this\r\n- [x] introduce tests for this specific frequency", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1512", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1512/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1512/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1512/events", "html_url": "https://github.com/sktime/sktime/issues/1512", "id": 1024262666, "node_id": "I_kwDOCVKAsc49DQIK", "number": 1512, "title": "[BUG] TypeError: predict() got an unexpected keyword argument 'X'", "user": {"login": "sevstafiev", "id": 55179749, "node_id": "MDQ6VXNlcjU1MTc5NzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/55179749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sevstafiev", "html_url": "https://github.com/sevstafiev", "followers_url": "https://api.github.com/users/sevstafiev/followers", "following_url": "https://api.github.com/users/sevstafiev/following{/other_user}", "gists_url": "https://api.github.com/users/sevstafiev/gists{/gist_id}", "starred_url": "https://api.github.com/users/sevstafiev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sevstafiev/subscriptions", "organizations_url": "https://api.github.com/users/sevstafiev/orgs", "repos_url": "https://api.github.com/users/sevstafiev/repos", "events_url": "https://api.github.com/users/sevstafiev/events{/privacy}", "received_events_url": "https://api.github.com/users/sevstafiev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-12T19:53:38Z", "updated_at": "2021-10-12T21:35:52Z", "closed_at": "2021-10-12T20:19:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "same as https://github.com/alan-turing-institute/sktime/issues/938#issue-916546082\r\n\r\n**Describe the bug**\r\nTypeError: predict() got an unexpected keyword argument 'X'\r\n\r\n\r\n**To Reproduce**\r\n ```python\r\n from sktime.datasets import load_airline\r\n from sktime.forecasting.arima import AutoARIMA\r\n air_y = load_airline()\r\n forecaster = AutoARIMA(sp=12, d=0, max_p=2, max_q=2, suppress_warnings=True)\r\n forecaster.fit(air_y)\r\n y_pred = forecaster.predict(fh=[1,2,3])\r\n ```\r\n\r\n\r\n**Expected behavior**\r\nGetting predicts\r\n\r\n\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.6.9 (default, Jan 26 2021, 15:33:00)  [GCC 8.4.0]\r\nexecutable: /usr/bin/python3.6\r\n   machine: Linux-4.15.0-55-generic-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.2\r\n   setuptools: 51.0.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.8.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.5.0\r\n       Cython: 0.29.17\r\n       pandas: 1.1.0\r\n   matplotlib: 3.2.2\r\n       joblib: 0.17.0\r\n        numba: 0.53.1\r\n     pmdarima: 1.6.1\r\n      tsfresh: None\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1512/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1503", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1503/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1503/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1503/events", "html_url": "https://github.com/sktime/sktime/issues/1503", "id": 1021421688, "node_id": "I_kwDOCVKAsc484ah4", "number": 1503, "title": "[BUG] AutoARIMA fit breaks with sktime 0.8.0, sklearn 1.0, pmdarima 1.8.2", "user": {"login": "asksteph", "id": 31328623, "node_id": "MDQ6VXNlcjMxMzI4NjIz", "avatar_url": "https://avatars.githubusercontent.com/u/31328623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asksteph", "html_url": "https://github.com/asksteph", "followers_url": "https://api.github.com/users/asksteph/followers", "following_url": "https://api.github.com/users/asksteph/following{/other_user}", "gists_url": "https://api.github.com/users/asksteph/gists{/gist_id}", "starred_url": "https://api.github.com/users/asksteph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asksteph/subscriptions", "organizations_url": "https://api.github.com/users/asksteph/orgs", "repos_url": "https://api.github.com/users/asksteph/repos", "events_url": "https://api.github.com/users/asksteph/events{/privacy}", "received_events_url": "https://api.github.com/users/asksteph/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-10-08T19:59:16Z", "updated_at": "2022-07-03T20:40:52Z", "closed_at": "2022-07-03T20:40:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nimport statsmodels.api as sm\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.arima import AutoARIMA\r\n\r\ndf = sm.datasets.macrodata.load_pandas()['data']\r\ndf['q_date'] = df.apply(lambda x: str(int(x['year'])) + '-Q' + str(int(x['quarter'])), axis=1)\r\ndf['date'] = pd.PeriodIndex(df['q_date'], freq='Q').to_timestamp()\r\ndf = df.set_index('date').to_period(\"Q\")\r\n\r\ny = df['realgdp']\r\ny_train, y_test = temporal_train_test_split(y, test_size=30)\r\nforecaster = AutoARIMA(sp=4)\r\nforecaster.fit(y_train)\r\n```\r\n\r\nError:\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp/ipykernel_22920/2308042316.py in <module>\r\n     13 y_train, y_test = temporal_train_test_split(y, test_size=30)\r\n     14 forecaster = AutoARIMA(sp=4)\r\n---> 15 forecaster.fit(y_train)\r\n\r\n~\\AppData\\Roaming\\Python\\Python38\\site-packages\\sktime\\forecasting\\base\\_base.py in fit(self, y, X, fh)\r\n    178         #####################################################\r\n    179 \r\n--> 180         self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    181 \r\n    182         # this should happen last\r\n\r\n~\\AppData\\Roaming\\Python\\Python38\\site-packages\\sktime\\forecasting\\base\\adapters\\_pmdarima.py in _fit(self, y, X, fh, **fit_params)\r\n     47         \"\"\"\r\n     48         self._forecaster = self._instantiate_model()\r\n---> 49         self._forecaster.fit(y, X=X, **fit_params)\r\n     50         return self\r\n     51 \r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\pmdarima\\arima\\auto.py in fit(self, y, X, **fit_args)\r\n    175         # Temporary shim until we remove `exogenous` support completely\r\n    176         X, fit_kwargs = pm_compat.get_X(X, **fit_args)\r\n--> 177         self.model_ = auto_arima(\r\n    178             y,\r\n    179             X=X,\r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\pmdarima\\arima\\auto.py in auto_arima(y, X, start_p, d, start_q, max_p, max_d, max_q, start_P, D, start_Q, max_P, max_D, max_Q, max_order, m, seasonal, stationary, information_criterion, alpha, test, seasonal_test, stepwise, n_jobs, start_params, trend, method, maxiter, offset_test_args, seasonal_test_args, suppress_warnings, error_action, trace, random, random_state, n_fits, return_valid_fits, out_of_sample_size, scoring, scoring_args, with_intercept, sarimax_kwargs, **fit_args)\r\n    715         )\r\n    716 \r\n--> 717     sorted_res = search.solve()\r\n    718     return _return_wrapper(sorted_res, return_valid_fits, start, trace)\r\n    719 \r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\pmdarima\\arima\\_auto_solvers.py in solve(self)\r\n    284 \r\n    285         # fit a baseline p, d, q model\r\n--> 286         self._do_fit((p, d, q), (P, D, Q, m))\r\n    287 \r\n    288         # null model with possible constant\r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\pmdarima\\arima\\_auto_solvers.py in _do_fit(self, order, seasonal_order, constant)\r\n    231             self.k += 1\r\n    232 \r\n--> 233             fit, fit_time, new_ic = self._fit_arima(\r\n    234                 order=order,\r\n    235                 seasonal_order=seasonal_order,\r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\pmdarima\\arima\\_auto_solvers.py in _fit_candidate_model(y, X, order, seasonal_order, start_params, trend, method, maxiter, fit_params, suppress_warnings, trace, error_action, out_of_sample_size, scoring, scoring_args, with_intercept, information_criterion, **kwargs)\r\n    528         # check the roots of the new model, and set IC to inf if the\r\n    529         # roots are near non-invertible\r\n--> 530         ic = _root_test(fit, ic, trace)\r\n    531 \r\n    532     # log the model fit\r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\pmdarima\\arima\\_auto_solvers.py in _root_test(model, ic, trace)\r\n     36 \r\n     37     if p + P > 0:\r\n---> 38         max_invroot = max(0, *np.abs(1 / model.arroots()))\r\n     39     if q + Q > 0 and np.isfinite(ic):\r\n     40         max_invroot = max(0, *np.abs(1 / model.maroots()))\r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\sklearn\\utils\\metaestimators.py in __get__(self, obj, owner)\r\n    107             # delegate only on instances, not the classes.\r\n    108             # this is to allow access to the docstrings.\r\n--> 109             if not self.check(obj):\r\n    110                 raise attr_err\r\n    111 \r\n\r\n~\\anaconda3\\envs\\skt080\\lib\\site-packages\\sklearn\\utils\\metaestimators.py in _check(self, obj)\r\n    195             return False\r\n    196         # raise original AttributeError\r\n--> 197         return getattr(delegate, self.attribute_name) or True\r\n    198 \r\n    199 \r\n\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThis code works in version 0.7.0 and would return the fitted ARIMA model.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.11 (default, Aug  6 2021, 09:57:55) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\szipk\\anaconda3\\envs\\skt080\\python.exe\r\n   machine: Windows-10-10.0.19042-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 58.0.4\r\n      sklearn: 1.0\r\n       sktime: 0.8.0\r\n  statsmodels: 0.13.0\r\n        numpy: 1.19.5\r\n        scipy: 1.5.4\r\n       Cython: 0.29.14\r\n       pandas: 1.3.3\r\n   matplotlib: 3.4.3\r\n       joblib: 1.1.0\r\n        numba: 0.54.1\r\n     pmdarima: 1.8.2\r\n      tsfresh: 0.18.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1478", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1478/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1478/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1478/events", "html_url": "https://github.com/sktime/sktime/issues/1478", "id": 1014109041, "node_id": "I_kwDOCVKAsc48chNx", "number": 1478, "title": "[BUG] dependency bug in tsfresh causing tests to fail", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2021-10-02T17:01:45Z", "updated_at": "2022-11-14T15:53:16Z", "closed_at": "2022-11-14T15:53:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Suggested fix:\r\n\r\n- [x] set an upper bound on the last `statsmodels` version that still worked in `setup.py`, see #1478\r\n- [x] same for the binder/build requirements\r\n- [ ] wait for `tsfresh` to resolve the issue\r\n- [ ] remove the version bound on `statsmodels` and test whether things run again\r\n\r\n---\r\n\r\nThe CI tests are breaking, due to a `tsfresh` import now fails, which is required for `TSfreshClassifier`.\r\n\r\nError as below.\r\n\r\nLooks like this is coming from an interface change in `statsmodels`, as a `tsfresh` dependency?\r\nWhere `tsfresh` is calling `stattools.acf` which no longer has an `unbiased` argument in 0.13.0, but used to have?\r\n\r\nNot sure how to best fix this, it seems it needs to be fixed in `tsfresh`? Can someone check whether the diagnosis is correct?\r\n\r\n```\r\n070     >>> from sktime.classification.feature_based import TSFreshClassifier\r\n071     >>> from sktime.datasets import load_italy_power_demand\r\n072     >>> X_train, y_train = load_italy_power_demand(split=\"train\", return_X_y=True)\r\n073     >>> X_test, y_test = load_italy_power_demand(split=\"test\", return_X_y=True)\r\n074     >>> clf = TSFreshClassifier()\r\n075     >>> clf.fit(X_train, y_train)\r\nUNEXPECTED EXCEPTION: TypeError(\"acf() got an unexpected keyword argument 'unbiased'\")\r\nmultiprocessing.pool.RemoteTraceback: \r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/opt/_internal/cpython-3.7.12/lib/python3.7/multiprocessing/pool.py\", line 121, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"/opt/_internal/cpython-3.7.12/lib/python3.7/site-packages/tsfresh/utilities/distribution.py\", line 43, in _function_with_partly_reduce\r\n    results = list(itertools.chain.from_iterable(results))\r\n  File \"/opt/_internal/cpython-3.7.12/lib/python3.7/site-packages/tsfresh/utilities/distribution.py\", line 42, in <genexpr>\r\n    results = (map_function(chunk, **kwargs) for chunk in chunk_list)\r\n  File \"/opt/_internal/cpython-3.7.12/lib/python3.7/site-packages/tsfresh/feature_extraction/extraction.py\", line 337, in _do_extraction_on_chunk\r\n    return list(_f())\r\n  File \"/opt/_internal/cpython-3.7.12/lib/python3.7/site-packages/tsfresh/feature_extraction/extraction.py\", line 317, in _f\r\n    result = func(x, param=parameter_list)\r\n  File \"/opt/_internal/cpython-3.7.12/lib/python3.7/site-packages/tsfresh/feature_extraction/feature_calculators.py\", line 404, in agg_autocorrelation\r\n    a = acf(x, unbiased=True, fft=n > THRESHOLD_TO_USE_FFT, nlags=max_maxlag)[1:]\r\nTypeError: acf() got an unexpected keyword argument 'unbiased'\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1478/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1469", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1469/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1469/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1469/events", "html_url": "https://github.com/sktime/sktime/issues/1469", "id": 1013403900, "node_id": "I_kwDOCVKAsc48Z1D8", "number": 1469, "title": "[BUG] ValueError when fitting Prophet and X.index.name=='ds' ", "user": {"login": "boukepostma", "id": 33422940, "node_id": "MDQ6VXNlcjMzNDIyOTQw", "avatar_url": "https://avatars.githubusercontent.com/u/33422940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boukepostma", "html_url": "https://github.com/boukepostma", "followers_url": "https://api.github.com/users/boukepostma/followers", "following_url": "https://api.github.com/users/boukepostma/following{/other_user}", "gists_url": "https://api.github.com/users/boukepostma/gists{/gist_id}", "starred_url": "https://api.github.com/users/boukepostma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boukepostma/subscriptions", "organizations_url": "https://api.github.com/users/boukepostma/orgs", "repos_url": "https://api.github.com/users/boukepostma/repos", "events_url": "https://api.github.com/users/boukepostma/events{/privacy}", "received_events_url": "https://api.github.com/users/boukepostma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-10-01T14:15:41Z", "updated_at": "2021-10-08T11:10:17Z", "closed_at": "2021-10-08T11:10:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe following error is raised when trying to fit Prophet using X where the name of X's DateTimeIndex is named \"ds\":\r\nValueError: 'ds' is both an index level and a column label, which is ambiguous.\r\n\r\nIt happens in the _merge_X method in the _ProphetAdapter, line 193, because after running line 191, X contains a column and an index called \"ds\".\r\n\r\nA suggested solution would be to add this oneliner before line 189 of .forecasting.base.adapters._fbprophet.py:\r\n```python\r\nX.index.name = \"index\"\r\n```\r\nNote: This assumes that X never has a MultiIndex. Not sure if that ever happens though..\r\n\r\nThis way, the user is still allowed to call X's index \"ds\". Since \"ds\" is the standard name that Prophet users use for their DateTime column, this is the most intuitive and least restrictive solution.\r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sktime.forecasting.model_selection import ForecastingGridSearchCV\r\nfrom sktime.forecasting.model_selection import ExpandingWindowSplitter\r\n\r\ny_train = load_airline().to_timestamp(freq='M')\r\n\r\n# Commenting out the following line makes everything run smoothly\r\ny_train.index.name = 'ds'\r\n\r\nX_train = pd.DataFrame({'x1':y_train+200, 'x2':y_train+100})\r\n\r\nforecaster = Prophet(yearly_seasonality=False, weekly_seasonality=False, daily_seasonality=False)\r\nforecaster.fit(y_train, X_train)\r\n```\r\n\r\n**Expected behavior**\r\nNo error\r\n\r\n**Additional context**\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.9.7 | packaged by conda-forge | (default, Sep 23 2021, 07:24:41) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\............\\env\\python.exe\r\n   machine: Windows-10-10.0.19043-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 58.1.0\r\n      sklearn: 1.0\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.21.2\r\n        scipy: 1.7.1\r\n       Cython: 0.29.24\r\n       pandas: 1.3.3\r\n   matplotlib: 3.4.3\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: 1.8.3\r\n      tsfresh: None\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1466", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1466/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1466/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1466/events", "html_url": "https://github.com/sktime/sktime/issues/1466", "id": 1012763196, "node_id": "I_kwDOCVKAsc48XYo8", "number": 1466, "title": "[BUG] Automatic downloader for sktime.datasets.load_UCR_UEA_dataset does not work for custom extract_path", "user": {"login": "mingu6", "id": 25823392, "node_id": "MDQ6VXNlcjI1ODIzMzky", "avatar_url": "https://avatars.githubusercontent.com/u/25823392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mingu6", "html_url": "https://github.com/mingu6", "followers_url": "https://api.github.com/users/mingu6/followers", "following_url": "https://api.github.com/users/mingu6/following{/other_user}", "gists_url": "https://api.github.com/users/mingu6/gists{/gist_id}", "starred_url": "https://api.github.com/users/mingu6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mingu6/subscriptions", "organizations_url": "https://api.github.com/users/mingu6/orgs", "repos_url": "https://api.github.com/users/mingu6/repos", "events_url": "https://api.github.com/users/mingu6/events{/privacy}", "received_events_url": "https://api.github.com/users/mingu6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-01T00:58:03Z", "updated_at": "2021-10-03T09:43:22Z", "closed_at": "2021-10-03T09:43:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Even given a custom extract_path, UCR_UEA datasets are downloaded to the default sktime package directory. The bug is easily fixed by adding the custom extract_path to the _download_and_extract function call.\r\n\r\nLine 175 in sktime/sktime/datasets/_data_io.py in function load_UCR_UEA_dataset:\r\n\r\n```python\r\ntry:\r\n     _download_and_extract(\r\n                url,\r\n      )\r\n```\r\n\r\nshould be instead\r\n\r\n```python\r\ntry:\r\n     _download_and_extract(\r\n                url,\r\n                extract_path=extract_path\r\n      )\r\n```\r\n\r\nExpected behaviour:\r\n\r\nDataset gets downloaded to the correct path after bug fix.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1466/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1452", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1452/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1452/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1452/events", "html_url": "https://github.com/sktime/sktime/issues/1452", "id": 1006866445, "node_id": "I_kwDOCVKAsc48A5AN", "number": 1452, "title": "[BUG] sktime.datatypes._panel._examples raises pandas.core.common.SettingWithCopyError", "user": {"login": "bobbys-dev", "id": 44246074, "node_id": "MDQ6VXNlcjQ0MjQ2MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/44246074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobbys-dev", "html_url": "https://github.com/bobbys-dev", "followers_url": "https://api.github.com/users/bobbys-dev/followers", "following_url": "https://api.github.com/users/bobbys-dev/following{/other_user}", "gists_url": "https://api.github.com/users/bobbys-dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobbys-dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobbys-dev/subscriptions", "organizations_url": "https://api.github.com/users/bobbys-dev/orgs", "repos_url": "https://api.github.com/users/bobbys-dev/repos", "events_url": "https://api.github.com/users/bobbys-dev/events{/privacy}", "received_events_url": "https://api.github.com/users/bobbys-dev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-09-24T22:28:29Z", "updated_at": "2021-09-26T20:02:30Z", "closed_at": "2021-09-26T10:54:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nAttempting to install [tsai](https://pypi.org/project/tsai/) as an upstream package also installs this package, but the install raises an error that traces to line 67 in \"/opt/conda/lib/python3.8/site-packages/sktime/datatypes/_panel/_examples.py\"\r\n```\r\n    X.iloc[0][0] = pd.Series([1, 2, 3])\r\n```\r\n\r\n**To Reproduce**\r\nImporting any code that executes the code starting at line 67 of /sktime/datatypes/_panel/_examples.py can raise a Pandas error, depending on Pandas version that may be installed\r\n\r\n**Expected behavior**\r\nNo error should be raised on install or import of sktime as a dependency. \r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.9.1 (default, Sep 16 2021, 11:42:30)  [Clang 12.0.5 (clang-1205.0.22.11)]\r\nexecutable: /.../.pyenv/versions/3.9.1/bin/python\r\n   machine: macOS-11.6-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.2.4\r\n   setuptools: 49.2.1\r\n      sklearn: 1.0\r\n       sktime: 0.8.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.3\r\n        scipy: 1.7.1\r\n       Cython: None\r\n       pandas: 1.3.3\r\n   matplotlib: 3.4.3\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: None\r\n      tsfresh: 0.18.0", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1441", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1441/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1441/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1441/events", "html_url": "https://github.com/sktime/sktime/issues/1441", "id": 1002533572, "node_id": "I_kwDOCVKAsc47wXLE", "number": 1441, "title": "[BUG] forecasting in sample and out of sample with prediction intervals in ARIMA/AutoARIMA", "user": {"login": "IlyasMoutawwakil", "id": 57442720, "node_id": "MDQ6VXNlcjU3NDQyNzIw", "avatar_url": "https://avatars.githubusercontent.com/u/57442720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IlyasMoutawwakil", "html_url": "https://github.com/IlyasMoutawwakil", "followers_url": "https://api.github.com/users/IlyasMoutawwakil/followers", "following_url": "https://api.github.com/users/IlyasMoutawwakil/following{/other_user}", "gists_url": "https://api.github.com/users/IlyasMoutawwakil/gists{/gist_id}", "starred_url": "https://api.github.com/users/IlyasMoutawwakil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IlyasMoutawwakil/subscriptions", "organizations_url": "https://api.github.com/users/IlyasMoutawwakil/orgs", "repos_url": "https://api.github.com/users/IlyasMoutawwakil/repos", "events_url": "https://api.github.com/users/IlyasMoutawwakil/events{/privacy}", "received_events_url": "https://api.github.com/users/IlyasMoutawwakil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-21T13:53:10Z", "updated_at": "2021-10-01T19:22:50Z", "closed_at": "2021-10-01T19:22:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "> **Describe the bug**\r\n\r\nThere's a small problem with ARIMA/AutoARIMA when forecasting in sample and out of sample with prediction intervals. In the _pmdarima adapter, when `return_pred_int` is False, `_predict_in_sample` returns a pd.Series but when it's True, it returns a tuple (pd.Series, pd.DataFrame) which raises the append error.\r\n\r\n> **To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.arima import ARIMA\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\ny_train = pd.Series(np.arange(1,21), index=pd.date_range(start='1/1/2021', end='20/1/2021'))\r\n\r\narima_forecaster = ARIMA(order=(1, 1, 1), suppress_warnings=True)\r\narima_forecaster.fit(y_train)\r\narima_forecaster.predict(np.array([-18, -14, -10, 5]), return_pred_int=True)\r\n```\r\n\r\n> **Expected behavior**\r\n\r\nTo return predictions with prediction intervals\r\n\r\n> **Additional context**\r\n\r\nTraceback :\r\n```\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-10-d49673c473fc> in <module>()\r\n----> 1 arima_forecaster.predict(np.array([-18, -14, -10, 5]), return_pred_int=True)\r\n\r\n1 frames\r\n/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/_base.py in predict(self, fh, X, return_pred_int, alpha)\r\n    240             X=X_inner,\r\n    241             return_pred_int=return_pred_int,\r\n--> 242             alpha=alpha,\r\n    243         )\r\n    244 \r\n\r\n/usr/local/lib/python3.7/dist-packages/sktime/forecasting/base/adapters/_pmdarima.py in _predict(self, fh, X, return_pred_int, alpha)\r\n     69             y_ins = self._predict_in_sample(fh_ins, **kwargs)\r\n     70             y_oos = self._predict_fixed_cutoff(fh_oos, **kwargs)\r\n---> 71             return y_ins.append(y_oos)\r\n     72 \r\n     73     def _predict_in_sample(\r\n\r\nAttributeError: 'tuple' object has no attribute 'append'\r\n```\r\n\r\n> **Versions**\r\n\r\n<details>\r\n\r\nI've run this one on a clean colab notebook after a `!pip install sktime[all_extras]`\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1438", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1438/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1438/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1438/events", "html_url": "https://github.com/sktime/sktime/issues/1438", "id": 1000685836, "node_id": "I_kwDOCVKAsc47pUEM", "number": 1438, "title": "[DOC] Broken links on 'Estimator Overview' page", "user": {"login": "FutureTribute", "id": 25502260, "node_id": "MDQ6VXNlcjI1NTAyMjYw", "avatar_url": "https://avatars.githubusercontent.com/u/25502260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FutureTribute", "html_url": "https://github.com/FutureTribute", "followers_url": "https://api.github.com/users/FutureTribute/followers", "following_url": "https://api.github.com/users/FutureTribute/following{/other_user}", "gists_url": "https://api.github.com/users/FutureTribute/gists{/gist_id}", "starred_url": "https://api.github.com/users/FutureTribute/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FutureTribute/subscriptions", "organizations_url": "https://api.github.com/users/FutureTribute/orgs", "repos_url": "https://api.github.com/users/FutureTribute/repos", "events_url": "https://api.github.com/users/FutureTribute/events{/privacy}", "received_events_url": "https://api.github.com/users/FutureTribute/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-09-20T08:10:13Z", "updated_at": "2021-09-24T10:58:11Z", "closed_at": "2021-09-24T10:58:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the issue linked to the documentation\r\n\r\nThere was a new doc page added in recent update called 'Estimator Overview'.\r\n`https://www.sktime.org/en/latest/estimator_overview.html`\r\n![image](https://user-images.githubusercontent.com/25502260/133971754-d492f54a-9a80-4ee9-a59a-598b985860fe.png)\r\n\r\nWhile it is very useful, there's an issue with it: all links to pages of estimators are broken.\r\nProblem is that all links contain additional `/modules` path in it, where an actual link to a page doesn't have such part.\r\nSee below:\r\n`n = \"https://www.sktime.org/en/latest/api_reference/modules/auto_generated/sktime.forecasting.arima.ARIMA.html\"`\r\n`m = \"https://www.sktime.org/en/latest/api_reference/auto_generated/sktime.forecasting.arima.ARIMA.html\"`\r\nwhere `n` - link from 'estimator overview' page, `m` - actual link.\r\n\r\n#### Suggest a potential alternative/fix\r\n\r\nPotential fix would be to remove `/modules` from the path.\r\nBut I see that this page is auto-updating so I don't know if there's an actual way to fix this or how it's done at all.\r\n\r\n\r\nUPD: I tried to look through codebase and doc auto-generator files but found nothing. I guess without any experience w/ Sphinx it's impossible to find the root of the issue.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1438/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1435", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1435/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1435/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1435/events", "html_url": "https://github.com/sktime/sktime/issues/1435", "id": 1000175469, "node_id": "I_kwDOCVKAsc47nXdt", "number": 1435, "title": "[BUG] ForecastingHorizon does not work for periods of N time units, N>1, e.g., 30min `PeriodIndex`", "user": {"login": "manujosephv", "id": 10508493, "node_id": "MDQ6VXNlcjEwNTA4NDkz", "avatar_url": "https://avatars.githubusercontent.com/u/10508493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manujosephv", "html_url": "https://github.com/manujosephv", "followers_url": "https://api.github.com/users/manujosephv/followers", "following_url": "https://api.github.com/users/manujosephv/following{/other_user}", "gists_url": "https://api.github.com/users/manujosephv/gists{/gist_id}", "starred_url": "https://api.github.com/users/manujosephv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manujosephv/subscriptions", "organizations_url": "https://api.github.com/users/manujosephv/orgs", "repos_url": "https://api.github.com/users/manujosephv/repos", "events_url": "https://api.github.com/users/manujosephv/events{/privacy}", "received_events_url": "https://api.github.com/users/manujosephv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-19T01:19:17Z", "updated_at": "2022-02-09T14:27:54Z", "closed_at": "2022-02-09T14:27:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAlthough the example in the documentation works, AutoETS and ExponentialSmoothing errors out when we use a sub-daily frequency of data\r\n\r\nError Message:\r\n```\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-49-df19e8e04e62> in <module>()\r\n      1 forecaster = AutoETS(sp=12, auto=True,n_jobs=-1)\r\n      2 forecaster.fit(y)\r\n----> 3 y_pred = forecaster.predict(fh=[1,2,3])\r\n\r\n6 frames\r\n/usr/local/lib/python3.7/dist-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing)\r\n   1296             if missing == len(indexer):\r\n   1297                 axis_name = self.obj._get_axis_name(axis)\r\n-> 1298                 raise KeyError(f\"None of [{key}] are in the [{axis_name}]\")\r\n   1299 \r\n   1300             # We (temporarily) allow for some missing keys with .loc, except in\r\n\r\nKeyError: \"None of [PeriodIndex(['2021-09-20 01:00', '2021-09-20 01:30', '2021-09-20 02:00'], dtype='period[30T]', freq='30T')] are in the [index]\"\r\n```\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.ets import AutoETS\r\n\r\nfreq = \"30T\"\r\n_y = np.arange(50) + np.random.rand(50) + np.sin(np.arange(50)/4)*10\r\nt = pd.date_range(\"2021-09-19\", periods=50, freq=freq)\r\ny = pd.Series(_y, index=t)\r\ny.index = y.index.to_period(freq=freq)\r\nforecaster = AutoETS(sp=12, auto=True,n_jobs=-1)\r\nforecaster.fit(y)\r\ny_pred = forecaster.predict(fh=[1,2,3])\r\n```\r\n\r\n**Expected behavior**\r\n\r\nForecast for the future without an error\r\n\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.7.12 (default, Sep 10 2021, 00:21:48)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.104+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 21.1.3\r\n   setuptools: 57.4.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.8.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.7.1\r\n       Cython: 0.29.24\r\n       pandas: 1.1.5\r\n   matplotlib: 3.4.3\r\n       joblib: 1.0.1\r\n        numba: 0.54.0\r\n     pmdarima: 1.8.2\r\n      tsfresh: 0.18.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1427", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1427/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1427/events", "html_url": "https://github.com/sktime/sktime/issues/1427", "id": 999443917, "node_id": "I_kwDOCVKAsc47kk3N", "number": 1427, "title": "[BUG] link in `contributing.md` is dead", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-17T14:53:08Z", "updated_at": "2021-09-17T17:52:49Z", "closed_at": "2021-09-17T16:00:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The link in our `contributing.md` (in root folder) 404s, this needs to be fixed.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1426", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1426/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1426/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1426/events", "html_url": "https://github.com/sktime/sktime/issues/1426", "id": 999332150, "node_id": "I_kwDOCVKAsc47kJk2", "number": 1426, "title": "[BUG] BATS/TBATS multiprocessing crashing when n_jobs!=1", "user": {"login": "IlyasMoutawwakil", "id": 57442720, "node_id": "MDQ6VXNlcjU3NDQyNzIw", "avatar_url": "https://avatars.githubusercontent.com/u/57442720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IlyasMoutawwakil", "html_url": "https://github.com/IlyasMoutawwakil", "followers_url": "https://api.github.com/users/IlyasMoutawwakil/followers", "following_url": "https://api.github.com/users/IlyasMoutawwakil/following{/other_user}", "gists_url": "https://api.github.com/users/IlyasMoutawwakil/gists{/gist_id}", "starred_url": "https://api.github.com/users/IlyasMoutawwakil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IlyasMoutawwakil/subscriptions", "organizations_url": "https://api.github.com/users/IlyasMoutawwakil/orgs", "repos_url": "https://api.github.com/users/IlyasMoutawwakil/repos", "events_url": "https://api.github.com/users/IlyasMoutawwakil/events{/privacy}", "received_events_url": "https://api.github.com/users/IlyasMoutawwakil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-17T13:04:13Z", "updated_at": "2021-09-21T13:28:10Z", "closed_at": "2021-09-21T13:23:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "> **Describe the bug**\r\n\r\nThe problem started when I put a BATS forecaster in an AutoEnsembleForecaster and ended up with an infinite loop of errors.\r\nBut apparently it comes from BATS/TBATS when given n_jobs other than None (default) or 1.\r\n\r\n> **To Reproduce**`\r\n\r\n```python\r\nimport numpy as np\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.bats import BATS\r\n\r\ny = load_airline()\r\nfh = np.arange(1, 10)\r\n\r\nbats_forecaster = BATS(sp=[12],\r\n                  use_trend=None,\r\n                  n_jobs=2,\r\n                  use_box_cox=None,\r\n                  use_arma_errors=True,\r\n                  use_damped_trend=None,\r\n                  show_warnings=False)\r\n\r\nbats_forecaster.fit(y)\r\nprint(bats_forecaster.predict(fh))\r\n```\r\nYou should get this long error that keeps on repeating itself infinitely:\r\n\r\n```\r\n  Traceback (most recent call last):\r\n    File \"<string>\", line 1, in <module>\r\n    File \"<string>\", line 1, in <module>\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 116, in spawn_main\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 116, in spawn_main\r\n      exitcode = _main(fd, parent_sentinel)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 125, in _main\r\n      exitcode = _main(fd, parent_sentinel)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 125, in _main\r\n      prepare(preparation_data)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 236, in prepare\r\n      prepare(preparation_data)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 236, in prepare\r\n      _fixup_main_from_path(data['init_main_from_path'])\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 287, in _fixup_main_from_path\r\n      _fixup_main_from_path(data['init_main_from_path'])\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 287, in _fixup_main_from_path\r\n      main_content = runpy.run_path(main_path,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\runpy.py\", line 265, in run_path\r\n      main_content = runpy.run_path(main_path,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\runpy.py\", line 265, in run_path\r\n      return _run_module_code(code, init_globals, run_name,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\runpy.py\", line 97, in _run_module_code\r\n      return _run_module_code(code, init_globals, run_name,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\runpy.py\", line 97, in _run_module_code\r\n      _run_code(code, mod_globals, init_globals,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\runpy.py\", line 87, in _run_code\r\n      _run_code(code, mod_globals, init_globals,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\runpy.py\", line 87, in _run_code\r\n      exec(code, run_globals)\r\n    File \"c:\\Users\\IlyasMoutawwakil\\Documents\\test.py\", line 23, in <module>\r\n      exec(code, run_globals)\r\n    File \"c:\\Users\\IlyasMoutawwakil\\Documents\\test.py\", line 23, in <module>\r\n      bats_forecaster.fit(y)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 178, in fit\r\n      bats_forecaster.fit(y)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 178, in fit\r\n      self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_tbats.py\", line 91, in _fit\r\n      self._fit(y=y_inner, X=X_inner, fh=fh)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\sktime\\forecasting\\base\\adapters\\_tbats.py\", line 91, in _fit\r\n      self._forecaster = self._forecaster.fit(y)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\tbats\\abstract\\Estimator.py\", line 98, in fit\r\n      self._forecaster = self._forecaster.fit(y)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\tbats\\abstract\\Estimator.py\", line 98, in fit\r\n      best_model = self._do_fit(y)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\tbats\\bats\\BATS.py\", line 75, in _do_fit\r\n      best_model = self._do_fit(y)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\tbats\\bats\\BATS.py\", line 75, in _do_fit\r\n      return self._choose_model_from_possible_component_settings(y, components_grid)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\tbats\\abstract\\Estimator.py\", line 143, in _choose_model_from_possible_component_settings\r\n      return self._choose_model_from_possible_component_settings(y, components_grid)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\site-packages\\tbats\\abstract\\Estimator.py\", line 143, in _choose_model_from_possible_component_settings\r\n      with self.context.multiprocessing().Pool(processes=self.n_jobs) as pool:\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\context.py\", line 119, in Pool\r\n      with self.context.multiprocessing().Pool(processes=self.n_jobs) as pool:\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\context.py\", line 119, in Pool\r\n      return Pool(processes, initializer, initargs, maxtasksperchild,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\pool.py\", line 212, in __init__\r\n      return Pool(processes, initializer, initargs, maxtasksperchild,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\pool.py\", line 212, in __init__\r\n      self._repopulate_pool()\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\pool.py\", line 303, in _repopulate_pool\r\n      self._repopulate_pool()\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\pool.py\", line 303, in _repopulate_pool\r\n      return self._repopulate_pool_static(self._ctx, self.Process,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\pool.py\", line 326, in _repopulate_pool_static\r\n      return self._repopulate_pool_static(self._ctx, self.Process,\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\pool.py\", line 326, in _repopulate_pool_static\r\n      w.start()\r\n      w.start()\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\process.py\", line 121, in start\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\process.py\", line 121, in start\r\n      self._popen = self._Popen(self)\r\n      self._popen = self._Popen(self)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\context.py\", line 327, in _Popen\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\context.py\", line 327, in _Popen\r\n      return Popen(process_obj)\r\n      return Popen(process_obj)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 45, in __init__\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 45, in __init__\r\n      prep_data = spawn.get_preparation_data(process_obj._name)\r\n      prep_data = spawn.get_preparation_data(process_obj._name)\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 154, in get_preparation_data\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 154, in get_preparation_data\r\n      _check_not_importing_main()\r\n      _check_not_importing_main()\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 134, in _check_not_importing_main\r\n    File \"C:\\Users\\IlyasMoutawwakil\\anaconda3\\lib\\multiprocessing\\spawn.py\", line 134, in _check_not_importing_main\r\n      raise RuntimeError('''\r\n      raise RuntimeError('''\r\n  RuntimeError:\r\n          An attempt has been made to start a new process before the\r\n          current process has finished its bootstrapping phase.\r\n  \r\n          This probably means that you are not using fork to start your\r\n          in the main module:\r\n  \r\n              if __name__ == '__main__':\r\n                  freeze_support()\r\n                  ...\r\n  \r\n          The \"freeze_support()\" line can be omitted if the program\r\n          is not going to be frozen to produce an executable.RuntimeError:\r\n          An attempt has been made to start a new process before the\r\n          current process has finished its bootstrapping phase.\r\n  \r\n          This probably means that you are not using fork to start your\r\n          child processes and you have forgotten to use the proper idiom\r\n          in the main module:\r\n  \r\n              if __name__ == '__main__':\r\n                  freeze_support()\r\n                  ...\r\n  \r\n          The \"freeze_support()\" line can be omitted if the program\r\n          is not going to be frozen to produce an executable.\r\n```\r\n\r\n\r\n> **Expected behavior**\r\n\r\n\r\nRunning the forecaster on multiple processes for faster convergence.\r\n\r\n> **Additional context**\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.11 (default, Aug  3 2021, 06:49:12) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\sysnav\\anaconda3\\python.exe\r\n   machine: Windows-10-10.0.19042-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.2.2\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.3\r\n        scipy: 1.7.1\r\n       Cython: 0.29.24\r\n       pandas: 1.2.4\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.54.0\r\n     pmdarima: 1.8.2\r\n      tsfresh: None\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1422", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1422/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1422/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1422/events", "html_url": "https://github.com/sktime/sktime/issues/1422", "id": 997805080, "node_id": "I_kwDOCVKAsc47eUwY", "number": 1422, "title": "[BUG] make_forecasting_error is not working", "user": {"login": "eyalshafran", "id": 16999574, "node_id": "MDQ6VXNlcjE2OTk5NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/16999574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eyalshafran", "html_url": "https://github.com/eyalshafran", "followers_url": "https://api.github.com/users/eyalshafran/followers", "following_url": "https://api.github.com/users/eyalshafran/following{/other_user}", "gists_url": "https://api.github.com/users/eyalshafran/gists{/gist_id}", "starred_url": "https://api.github.com/users/eyalshafran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eyalshafran/subscriptions", "organizations_url": "https://api.github.com/users/eyalshafran/orgs", "repos_url": "https://api.github.com/users/eyalshafran/repos", "events_url": "https://api.github.com/users/eyalshafran/events{/privacy}", "received_events_url": "https://api.github.com/users/eyalshafran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-09-16T05:57:22Z", "updated_at": "2021-11-02T14:40:20Z", "closed_at": "2021-11-02T14:40:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen calling make_forecasting_error I get - AttributeError: '_BaseForecastingScoreMetric' object has no attribute 'func'\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.performance_metrics.forecasting import mean_absolute_error, make_forecasting_scorer\r\nmake_forecasting_scorer(func=mean_absolute_error, name='mae')\r\n```\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.8.5 (default, Sep  4 2020, 02:22:02)  [Clang 10.0.0 ]\r\nexecutable: /opt/anaconda3/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 50.3.1.post20201107\r\n      sklearn: 0.24.2\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.2\r\n        scipy: 1.4.1\r\n       Cython: 0.29.21\r\n       pandas: 1.3.1\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.8.2\r\n      tsfresh: None", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1422/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1415", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1415/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1415/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1415/events", "html_url": "https://github.com/sktime/sktime/issues/1415", "id": 995374193, "node_id": "MDU6SXNzdWU5OTUzNzQxOTM=", "number": 1415, "title": "[BUG] \"no hosted parallelism granted\" in azure DevOps", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-09-13T21:53:05Z", "updated_at": "2021-09-15T09:17:15Z", "closed_at": "2021-09-15T09:17:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Just an issue to track the resolution of \"no hosted parallelism granted\" error message when trying to run ADO pipelines since today.\r\n\r\n@mloning believes that this may be due to `sktime` reaching high usage of free ADO pipelines time, and Microsoft switching them off.\r\n@mloning has written to Microsoft for authorization, which is expected to take 2-3 days or more", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1411", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1411/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1411/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1411/events", "html_url": "https://github.com/sktime/sktime/issues/1411", "id": 994138488, "node_id": "MDU6SXNzdWU5OTQxMzg0ODg=", "number": 1411, "title": "[BUG] incorrect cutoff logic for `np.ndarray` in `update`?", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-12T11:53:32Z", "updated_at": "2022-03-25T01:30:38Z", "closed_at": "2022-03-25T01:30:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I just looked at the base class, and `_set_cutoff_from_y`, ir `y` is a `np.ndarray`, does `self._cutoff = len(y)`.\r\n\r\nNow, this is fine in `fit` where `y` is first seen, but should it not be incremeted, instead of being set, in `update`?\r\n\r\nThat is, `self._cutoff += len(y)`? Also, first time round, should it not be `len(y)-1`, because python starts counting at zero?\r\n\r\nAn elegant resolution woudl be to change to `self._cutoff += len(y)` and initialize it by `-1` in the init - if it's not an `np.ndarray` it will be overwritten anyway by an index element.\r\n\r\nThoughts, @mloning, @aiwalter?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1405", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1405/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1405/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1405/events", "html_url": "https://github.com/sktime/sktime/issues/1405", "id": 993675902, "node_id": "MDU6SXNzdWU5OTM2NzU5MDI=", "number": 1405, "title": "[BUG] pandas frequency W-WED in `ForecastingHorizon` causes failure in `AutoETS.predict`", "user": {"login": "asksteph", "id": 31328623, "node_id": "MDQ6VXNlcjMxMzI4NjIz", "avatar_url": "https://avatars.githubusercontent.com/u/31328623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asksteph", "html_url": "https://github.com/asksteph", "followers_url": "https://api.github.com/users/asksteph/followers", "following_url": "https://api.github.com/users/asksteph/following{/other_user}", "gists_url": "https://api.github.com/users/asksteph/gists{/gist_id}", "starred_url": "https://api.github.com/users/asksteph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asksteph/subscriptions", "organizations_url": "https://api.github.com/users/asksteph/orgs", "repos_url": "https://api.github.com/users/asksteph/repos", "events_url": "https://api.github.com/users/asksteph/events{/privacy}", "received_events_url": "https://api.github.com/users/asksteph/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "amrith-shell", "id": 83223497, "node_id": "MDQ6VXNlcjgzMjIzNDk3", "avatar_url": "https://avatars.githubusercontent.com/u/83223497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amrith-shell", "html_url": "https://github.com/amrith-shell", "followers_url": "https://api.github.com/users/amrith-shell/followers", "following_url": "https://api.github.com/users/amrith-shell/following{/other_user}", "gists_url": "https://api.github.com/users/amrith-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/amrith-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amrith-shell/subscriptions", "organizations_url": "https://api.github.com/users/amrith-shell/orgs", "repos_url": "https://api.github.com/users/amrith-shell/repos", "events_url": "https://api.github.com/users/amrith-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/amrith-shell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amrith-shell", "id": 83223497, "node_id": "MDQ6VXNlcjgzMjIzNDk3", "avatar_url": "https://avatars.githubusercontent.com/u/83223497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amrith-shell", "html_url": "https://github.com/amrith-shell", "followers_url": "https://api.github.com/users/amrith-shell/followers", "following_url": "https://api.github.com/users/amrith-shell/following{/other_user}", "gists_url": "https://api.github.com/users/amrith-shell/gists{/gist_id}", "starred_url": "https://api.github.com/users/amrith-shell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amrith-shell/subscriptions", "organizations_url": "https://api.github.com/users/amrith-shell/orgs", "repos_url": "https://api.github.com/users/amrith-shell/repos", "events_url": "https://api.github.com/users/amrith-shell/events{/privacy}", "received_events_url": "https://api.github.com/users/amrith-shell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 31, "created_at": "2021-09-10T23:31:49Z", "updated_at": "2022-01-13T17:34:11Z", "closed_at": "2022-01-13T17:34:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n\r\n--> I have a weekly dataset with W-WED frequency that I want to train an AutoETS model on. The predict step throws an error when it does not understand this datetime frequency.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\n# play example: 2 years of weekly data\r\ntrain = pd.Series(np.random.uniform(low=2000, high=7000, size=(104,)), index=pd.date_range(\"2019-01-02\", freq=\"W-WED\", periods=104))\r\n\r\n# setup AutoETS model\r\nfrom sktime.forecasting.ets import AutoETS\r\nforecaster = AutoETS(auto=True, sp=52, n_jobs=-1, restrict=True)\r\nforecaster.fit(train)\r\npred = forecaster.predict(np.arange(1, 27)) # <---- this step throws the error\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\n\r\n--> I expect the model to be trained on the weekly data and to return predictions for the requested forecast horizon.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n--> If I set my datetime index to None, it will complain there is no freq supplied. But it does not understand the weekly index, so I am stuck.\r\n\r\n**Versions**\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\nSystem:\r\n    python: 3.7.11 (default, Jul 27 2021, 09:42:29) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\szipk\\anaconda3\\envs\\py37\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 49.6.0.post20200925\r\n      sklearn: 0.24.2\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.2\r\n        scipy: 1.6.2\r\n       Cython: 0.29.24\r\n       pandas: 1.3.2\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: 1.8.2\r\n      tsfresh: 0.18.0\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1384", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1384/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1384/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1384/events", "html_url": "https://github.com/sktime/sktime/issues/1384", "id": 988098731, "node_id": "MDU6SXNzdWU5ODgwOTg3MzE=", "number": 1384, "title": "[BUG] sporadic bug with contracted TDE not meeting accuracy", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-09-03T21:04:05Z", "updated_at": "2021-09-07T14:49:25Z", "closed_at": "2021-09-07T14:49:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "#1301 had this sporadic bug with a failure of `test_contracted_tde_on_unit_test_data`, when TDE is tested.\r\n\r\nThis seems to be an instance where it does not reach a certain accuracy. Is it really a good idea to test for performance, in a case where it is inherently stochastic and no random seed is set?\r\n\r\n@TonyBagnall \r\n\r\n```\r\n=================================== FAILURES ===================================\r\n____________________ test_contracted_tde_on_unit_test_data _____________________\r\n\r\n    def test_contracted_tde_on_unit_test_data():\r\n        \"\"\"Test of contracted TDE on unit test data.\"\"\"\r\n        # load unit test data\r\n        X_train, y_train = load_unit_test(split=\"train\", return_X_y=True)\r\n        X_test, y_test = load_unit_test(split=\"test\", return_X_y=True)\r\n    \r\n        # train contracted TDE\r\n        tde = TemporalDictionaryEnsemble(\r\n            time_limit_in_minutes=0.025,\r\n            max_ensemble_size=5,\r\n            randomly_selected_params=5,\r\n            random_state=0,\r\n        )\r\n        tde.fit(X_train, y_train)\r\n    \r\n        assert len(tde.estimators_) > 1\r\n>       assert accuracy_score(y_test, tde.predict(X_test)) >= 0.8\r\nE       AssertionError: assert 0.7727272727272727 >= 0.8\r\nE        +  where 0.7727272727272727 = accuracy_score(array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2',\\n       '2', '2', '2', '2', '2', '2', '2', '2', '2'], dtype='<U1'), array(['2', '2', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2',\\n       '2', '1', '2', '2', '1', '2', '2', '2', '1'], dtype='<U1'))\r\nE        +    where array(['2', '2', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2',\\n       '2', '1', '2', '2', '1', '2', '2', '2', '1'], dtype='<U1') = <bound method BaseClassifier.predict of TemporalDictionaryEnsemble(bigrams=None, dim_threshold=0.85, max_dims=20,\\n    ...ms=5,\\n                           save_train_predictions=False,\\n                           time_limit_in_minutes=0.025)>(                                                dim_0\\n0   0      501.0\\n1      328.0\\n2      195.0\\n3      ...\\n1   0     ...\\n3      ...\\n20  0       95.0\\n1       63.0\\n2       45.0\\n3      ...\\n21  0      193.0\\n1      195.0\\n2       90.0\\n3      ...)\r\nE        +      where <bound method BaseClassifier.predict of TemporalDictionaryEnsemble(bigrams=None, dim_threshold=0.85, max_dims=20,\\n    ...ms=5,\\n                           save_train_predictions=False,\\n                           time_limit_in_minutes=0.025)> = TemporalDictionaryEnsemble(bigrams=None, dim_threshold=0.85, max_dims=20,\\n                           max_ensemble_size...ams=5,\\n                           save_train_predictions=False,\\n                           time_limit_in_minutes=0.025).predict\r\n\r\nX_test     =                                                 dim_0\r\n0   0      501.0\r\n1      328.0\r\n2      195.0\r\n3      ...\r\n1   0     ...\r\n3      ...\r\n20  0       95.0\r\n1       63.0\r\n2       45.0\r\n3      ...\r\n21  0      193.0\r\n1      195.0\r\n2       90.0\r\n3      ...\r\nX_train    =                                                 dim_0\r\n0   0      573.0\r\n1      375.0\r\n2      301.0\r\n3      ...\r\n1   0     ...\r\n3      ...\r\n18  0       95.0\r\n1       63.0\r\n2       45.0\r\n3      ...\r\n19  0       82.0\r\n1       93.0\r\n2       51.0\r\n3      ...\r\ntde        = TemporalDictionaryEnsemble(bigrams=None, dim_threshold=0.85, max_dims=20,\r\n                           max_ensemble_size...ams=5,\r\n                           save_train_predictions=False,\r\n                           time_limit_in_minutes=0.025)\r\ny_test     = array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2',\r\n       '2', '2', '2', '2', '2', '2', '2', '2', '2'], dtype='<U1')\r\ny_train    = array(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '2', '2', '2',\r\n       '2', '2', '2', '2', '2', '2', '2'], dtype='<U1')\r\n\r\n../../../../hostedtoolcache/Python/3.9.6/x64/lib/python3.9/site-packages/sktime/classification/dictionary_based/tests/test_tde.py:58: AssertionError\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1381", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1381/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1381/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1381/events", "html_url": "https://github.com/sktime/sktime/issues/1381", "id": 987870776, "node_id": "MDU6SXNzdWU5ODc4NzA3NzY=", "number": 1381, "title": "[BUG] Updating in forecasting pipeline needs to transform data ", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-03T15:09:00Z", "updated_at": "2022-03-25T01:34:13Z", "closed_at": "2022-03-25T01:34:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nCurrently, when calling `update` of a forecasting pipeline, the raw data is used for updating of all components. Instead, only the first transformer should be updated with the raw data. The subsequent components should receive the transformed data from the previous component. \r\n\r\n**Possible solutions**\r\n* add a call to the transformer's `transform` method \r\n* additionally, introduce an `update_transform` shorthand in the base class which defaults to `self.update(...).transform(...)` similar to `fit_transform`\r\n\r\nFYI @GuzalBulatova", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1381/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1373", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1373/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1373/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1373/events", "html_url": "https://github.com/sktime/sktime/issues/1373", "id": 985837470, "node_id": "MDU6SXNzdWU5ODU4Mzc0NzA=", "number": 1373, "title": "[BUG] esig is missing from \"all extras\" installs", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-01T23:38:35Z", "updated_at": "2022-03-25T01:35:10Z", "closed_at": "2022-03-25T01:35:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`esig` seems to be missing from the \"all extras\" installs, which causes test errors in the development version, for instance.\r\n\r\nShould it be not part of the `setup.py`?\r\n\r\n@jambo6, @mloning, @aiwalter, @freddyaboulton, @corvusrabus, FYI\r\n\r\nOf course, we should first fix issues with the signature methods, see here #1369.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1370", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1370/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1370/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1370/events", "html_url": "https://github.com/sktime/sktime/pull/1370", "id": 984410528, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzODQ3OTY5", "number": 1370, "title": "bugfix - incorrect/missing weighted geometric mean in forecasting ensemble", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/9", "html_url": "https://github.com/sktime/sktime/milestone/9", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/9/labels", "id": 7141498, "node_id": "MI_kwDOCVKAsc4AbPh6", "number": 9, "title": "v0.9.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2021-09-10T14:57:09Z", "updated_at": "2022-01-17T23:27:51Z", "due_on": "2021-12-01T08:00:00Z", "closed_at": "2022-01-17T23:27:51Z"}, "comments": 6, "created_at": "2021-08-31T23:07:19Z", "updated_at": "2021-10-16T22:02:19Z", "closed_at": "2021-10-16T22:02:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1370", "html_url": "https://github.com/sktime/sktime/pull/1370", "diff_url": "https://github.com/sktime/sktime/pull/1370.diff", "patch_url": "https://github.com/sktime/sktime/pull/1370.patch", "merged_at": "2021-10-16T22:02:18Z"}, "body": "There was a bug in the ensemble forecasters `AutoEnsembleForecaster` and `EnsembleForecaster` where the weighted version of geometric mean was not properly interfaced, instead an unweighted version was provided which would break.\r\n\r\nSince `scipy.stats.mstats.gmean` does not seem to allow weights in scipy version 1.6, only in 1.7, I've replaced it with a custom version.\r\n\r\nOtherwise we ought to have a `scipy` minimum version 1.7 in the requirements, no?\r\n\r\nFurther complication is that vanilla `conda` does not have version 1.7 yet.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1370/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1369", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1369/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1369/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1369/events", "html_url": "https://github.com/sktime/sktime/issues/1369", "id": 984279573, "node_id": "MDU6SXNzdWU5ODQyNzk1NzM=", "number": 1369, "title": "[BUG] Signature transformers are not compliant with transform template", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-31T20:19:28Z", "updated_at": "2021-12-03T14:22:33Z", "closed_at": "2021-12-03T14:22:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm just refactoring the transformers module, and I'm surprised to fine the signature transformers incompliant with the basic interface template.\r\n\r\nHow did we end up with `transform(data, labels)` instead of the usual `transform(X, y)`??\r\nHow did the tests not pick this up?\r\n\r\nI think this needs to be fixed both in the transformer and in the tests, which also need to check that the arguments are correctly named.\r\n\r\n@jambo6, perhaps you could shed light on this?\r\n\r\nI see I approved it as interface compliant, and so did @mloning, but perhaps we just looked at the classifier and not the transformer?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1368", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1368/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1368/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1368/events", "html_url": "https://github.com/sktime/sktime/pull/1368", "id": 984136611, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzNjA2MTQz", "number": 1368, "title": "bugfix: remove incorrect exogeneous and return_pred_int errors", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/7", "html_url": "https://github.com/sktime/sktime/milestone/7", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/7/labels", "id": 7119752, "node_id": "MI_kwDOCVKAsc4AbKOI", "number": 7, "title": "v0.8.0", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2021-09-03T12:48:05Z", "updated_at": "2021-09-17T19:56:36Z", "due_on": "2021-09-17T07:00:00Z", "closed_at": "2021-09-17T19:56:36Z"}, "comments": 0, "created_at": "2021-08-31T17:58:11Z", "updated_at": "2021-09-09T07:41:07Z", "closed_at": "2021-09-09T07:41:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1368", "html_url": "https://github.com/sktime/sktime/pull/1368", "diff_url": "https://github.com/sktime/sktime/pull/1368.diff", "patch_url": "https://github.com/sktime/sktime/pull/1368.patch", "merged_at": "2021-09-09T07:41:07Z"}, "body": "Handling of the `X` argument and `return_pred_int` argument was incorrect in three forecasters: the two trend forecasters, and hcrystalball.\r\n\r\nI removed the errors raised there. I've left `return_pred_int` in forecasters that are composites, since the tags are not yet correctly set there.\r\n\r\nGenerally, `X` being passed should not raise an error, it should just be ignored if the class does not make use of it.\r\nAlso, the error related to `return_pred_int` is already handled in the base class.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1368/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1366", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1366/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1366/events", "html_url": "https://github.com/sktime/sktime/issues/1366", "id": 983305014, "node_id": "MDU6SXNzdWU5ODMzMDUwMTQ=", "number": 1366, "title": "Potential license issue with code in elastic distances and contributed time series distances", "user": {"login": "hyandell", "id": 477715, "node_id": "MDQ6VXNlcjQ3NzcxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/477715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyandell", "html_url": "https://github.com/hyandell", "followers_url": "https://api.github.com/users/hyandell/followers", "following_url": "https://api.github.com/users/hyandell/following{/other_user}", "gists_url": "https://api.github.com/users/hyandell/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyandell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyandell/subscriptions", "organizations_url": "https://api.github.com/users/hyandell/orgs", "repos_url": "https://api.github.com/users/hyandell/repos", "events_url": "https://api.github.com/users/hyandell/events{/privacy}", "received_events_url": "https://api.github.com/users/hyandell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-08-30T23:59:38Z", "updated_at": "2022-02-06T15:22:56Z", "closed_at": "2022-02-06T15:22:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nNot a bug per se, but an oddity on the software licensing.\r\n\r\nAs a whole sktime is BSD-3-Clause licensed, but there are three files that contain AGPL-3.0:\r\n\r\n*  sktime/distances/elastic.py\r\n*  sktime/contrib/distance_based/ts_distance_measures.py \r\n*  sktime/distances/elastic_cython.pyx \r\n\r\nDoes this cause problems for your overall licensing model?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1342", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1342/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1342/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1342/events", "html_url": "https://github.com/sktime/sktime/issues/1342", "id": 976099221, "node_id": "MDU6SXNzdWU5NzYwOTkyMjE=", "number": 1342, "title": "[BUG] test_examples checks are failing, binder is also failing", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-21T09:58:05Z", "updated_at": "2021-08-21T14:48:11Z", "closed_at": "2021-08-21T14:48:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I noticed the `test_examples` checks are failing with\r\n\r\n`module compiled against API version 0xe but this version of numpy is 0xd`\r\n\r\nThis looks like a `numpy` compatibility issue - it's mysterious since I thought the changes in the last week's PR merges were largely documentation related and did not touch CI/CD.\r\n\r\n@freddyaboulton, @corvusrabus, @mloning, @aiwalter, any idea what is going on there?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1327", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1327/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1327/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1327/events", "html_url": "https://github.com/sktime/sktime/issues/1327", "id": 972894479, "node_id": "MDU6SXNzdWU5NzI4OTQ0Nzk=", "number": 1327, "title": "[BUG] failed building wheel for fbprophet", "user": {"login": "Lovkush-A", "id": 25344832, "node_id": "MDQ6VXNlcjI1MzQ0ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/25344832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lovkush-A", "html_url": "https://github.com/Lovkush-A", "followers_url": "https://api.github.com/users/Lovkush-A/followers", "following_url": "https://api.github.com/users/Lovkush-A/following{/other_user}", "gists_url": "https://api.github.com/users/Lovkush-A/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lovkush-A/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lovkush-A/subscriptions", "organizations_url": "https://api.github.com/users/Lovkush-A/orgs", "repos_url": "https://api.github.com/users/Lovkush-A/repos", "events_url": "https://api.github.com/users/Lovkush-A/events{/privacy}", "received_events_url": "https://api.github.com/users/Lovkush-A/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-17T17:04:01Z", "updated_at": "2021-08-18T08:29:44Z", "closed_at": "2021-08-18T08:29:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen doing `pip install -r build_tools/requirements.txt`, I got error message:\r\n\r\n```\r\n  ModuleNotFoundError: No module named 'convertdate'\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for fbprophet\r\n```\r\n\r\nThis did *NOT* break the installation, but it will break the installation at some point. `pip` produced this warning at the end of the installation process:\r\n\r\n```\r\n DEPRECATION: fbprophet was installed using the legacy 'setup.py install' method, because a wheel could not be built for it. A possible replacement is to fix the wheel build issue reported above. You can find discussion regarding this at https://github.com/pypa/pip/issues/8368.\r\n```\r\n\r\n\r\n**To Reproduce**\r\nI am using MacOS. The steps I had taken in the environment were:\r\n* create and activate new conda environment\r\n* `conda install python=3.8`\r\n* do the steps for mac involving `libomp` and adding things to environment file.\r\n* `pip install cython`\r\n* `pip install -e .`\r\n* install precommit\r\n* `pip install -r build_tools/requirements.txt`\r\n\r\n**Expected behavior**\r\nno error messages while (correctly) following installation instructions\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1303", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1303/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1303/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1303/events", "html_url": "https://github.com/sktime/sktime/issues/1303", "id": 971675176, "node_id": "MDU6SXNzdWU5NzE2NzUxNzY=", "number": 1303, "title": "[BUG] Tests and checks failing for Multivariate Forecasters that cannot take univariate series", "user": {"login": "thayeylolu", "id": 13348874, "node_id": "MDQ6VXNlcjEzMzQ4ODc0", "avatar_url": "https://avatars.githubusercontent.com/u/13348874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thayeylolu", "html_url": "https://github.com/thayeylolu", "followers_url": "https://api.github.com/users/thayeylolu/followers", "following_url": "https://api.github.com/users/thayeylolu/following{/other_user}", "gists_url": "https://api.github.com/users/thayeylolu/gists{/gist_id}", "starred_url": "https://api.github.com/users/thayeylolu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thayeylolu/subscriptions", "organizations_url": "https://api.github.com/users/thayeylolu/orgs", "repos_url": "https://api.github.com/users/thayeylolu/repos", "events_url": "https://api.github.com/users/thayeylolu/events{/privacy}", "received_events_url": "https://api.github.com/users/thayeylolu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-16T12:12:55Z", "updated_at": "2021-10-16T23:05:50Z", "closed_at": "2021-10-16T23:05:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nTests and checks failing for Multivariate Forecasters  Using Vector Regression as an Example.\r\n\r\nThe following are the test failing for VAR model which is a multivariate forecasters. I have created PRs for some\r\n **NOTE** \r\nThe individual branches in section A have been merged into one branch `test_score` #1301 \r\n\r\n### SECTION A\r\nfilename: `test_all_forecasters.py`\r\n- test_update_predict_single #1302\r\n- test_score #1301\r\n- test_predict_pred_interval #1298\r\n- test_X_invalid_type_raises_error #1286\r\n- test_predict_time_index_with_X #1288\r\n- test_get_fitted_params #1216\r\n- test_predict_time_index #1287 \r\n- test_update_predict_predicted_index #1307\r\n- test_update_predict_predicted_index_update_params #1307\r\n \r\n### SECTION B\r\nfilename: `test_sktimeforecasters.py`\r\n- test_oh_setting #1306\r\n- test_no_fh_opt #1306\r\n- test_fh_in_fit_opt #1306\r\n- test_fh_in_predict_opt #1306\r\n- test_same_fh_in_fit_and_predict_opt #1306\r\n\r\n**Expected behavior**\r\n\r\nIt is expected that all forecasters including multivariate forecasters should not fail tests present in the `test_all_forecasters.py`. \r\n\r\n\r\n**Additional context**\r\n\r\nNOTE: this is only for VAR model. Not all the tests are in `all_forecasters.py`\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1290", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1290/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1290/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1290/events", "html_url": "https://github.com/sktime/sktime/issues/1290", "id": 970405313, "node_id": "MDU6SXNzdWU5NzA0MDUzMTM=", "number": 1290, "title": "[BUG] sktime time series classification panel data have duplicate instance indices", "user": {"login": "Lovkush-A", "id": 25344832, "node_id": "MDQ6VXNlcjI1MzQ0ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/25344832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lovkush-A", "html_url": "https://github.com/Lovkush-A", "followers_url": "https://api.github.com/users/Lovkush-A/followers", "following_url": "https://api.github.com/users/Lovkush-A/following{/other_user}", "gists_url": "https://api.github.com/users/Lovkush-A/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lovkush-A/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lovkush-A/subscriptions", "organizations_url": "https://api.github.com/users/Lovkush-A/orgs", "repos_url": "https://api.github.com/users/Lovkush-A/repos", "events_url": "https://api.github.com/users/Lovkush-A/events{/privacy}", "received_events_url": "https://api.github.com/users/Lovkush-A/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-13T13:33:19Z", "updated_at": "2022-07-23T17:24:47Z", "closed_at": "2022-07-23T17:24:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf you load arrow_head data with default split settings, the resulting dataframe has indices that repeat. this is because there is a concatenation of train and test data\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.datasets import load_arrow_head\r\nX, y = load_arrow_head(return_X_y=True)\r\nX.index.values\r\n```\r\n\r\nOutput:\r\n```\r\narray([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,\r\n        13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,\r\n        26,  27,  28,  29,  30,  31,  32,  33,  34,  35,   0,   1,   2,\r\n         3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,\r\n        16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,\r\n        29,  30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,\r\n        42,  43,  44,  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,\r\n        55,  56,  57,  58,  59,  60,  61,  62,  63,  64,  65,  66,  67,\r\n        68,  69,  70,  71,  72,  73,  74,  75,  76,  77,  78,  79,  80,\r\n        81,  82,  83,  84,  85,  86,  87,  88,  89,  90,  91,  92,  93,\r\n        94,  95,  96,  97,  98,  99, 100, 101, 102, 103, 104, 105, 106,\r\n       107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,\r\n       120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132,\r\n       133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145,\r\n       146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158,\r\n       159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\r\n       172, 173, 174])\r\n```\r\n\r\n\r\n**Expected behavior**\r\nNo repetition of indices\r\n\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.9 (default, Aug 31 2020, 07:22:35)  [Clang 10.0.0 ]\r\nexecutable: /usr/local/Caskroom/miniconda/base/envs/sktime/bin/python\r\n   machine: Darwin-20.5.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 51.0.0.post20201207\r\n      sklearn: 0.23.0\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1290/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1289", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1289/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1289/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1289/events", "html_url": "https://github.com/sktime/sktime/issues/1289", "id": 970245365, "node_id": "MDU6SXNzdWU5NzAyNDUzNjU=", "number": 1289, "title": "[BUG] TSFreshFeatureExtractor RuntimeError outside of main", "user": {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-13T09:50:49Z", "updated_at": "2022-11-14T15:30:28Z", "closed_at": "2022-11-14T15:30:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen using the TSFreshFeatureExtractor transformer, the following error is continuously output to the terminal. After noticing this wasn't an issue with the tests or functions used to generate test results, I found that this does not occur when the code is run inside main. `if __name__ == \"__main__\":`.\r\n\r\nIt is totally possible this is just me being Python illiterate, and its common sense that it should be run this way with a main, but will create an issue just in case :).\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\spawn.py\", line 116, in spawn_main\r\n    exitcode = _main(fd, parent_sentinel)\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\spawn.py\", line 125, in _main\r\n    prepare(preparation_data)\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\spawn.py\", line 236, in prepare\r\n    _fixup_main_from_path(data['init_main_from_path'])\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\spawn.py\", line 287, in _fixup_main_from_path\r\n    main_content = runpy.run_path(main_path,\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\runpy.py\", line 268, in run_path\r\n    return _run_module_code(code, init_globals, run_name,\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\runpy.py\", line 97, in _run_module_code\r\n    _run_code(code, mod_globals, init_globals,\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\CMP Machine Learning\\sktime-workshop-boss\\sktime\\contrib\\local_code.py\", line 12, in <module>\r\n    tsfresh.fit_transform(X_train, y_train)\r\n  File \"D:\\CMP Machine Learning\\sktime-workshop-boss\\sktime\\transformations\\base.py\", line 91, in fit_transform\r\n    return self.fit(Z, X).transform(Z)\r\n  File \"D:\\CMP Machine Learning\\sktime-workshop-boss\\sktime\\transformations\\panel\\tsfresh.py\", line 176, in transform\r\n    Xt = extract_features(\r\n  File \"D:\\CMP Machine Learning\\sktime-workshop-boss\\venv\\lib\\site-packages\\tsfresh\\feature_extraction\\extraction.py\", line 152, in extract_features\r\n    result = _do_extraction(df=timeseries_container,\r\n  File \"D:\\CMP Machine Learning\\sktime-workshop-boss\\venv\\lib\\site-packages\\tsfresh\\feature_extraction\\extraction.py\", line 240, in _do_extraction\r\n    distributor = MultiprocessingDistributor(n_workers=n_jobs,\r\n  File \"D:\\CMP Machine Learning\\sktime-workshop-boss\\venv\\lib\\site-packages\\tsfresh\\utilities\\distribution.py\", line 420, in __init__\r\n    self.pool = Pool(processes=n_workers, initializer=initialize_warnings_in_workers, initargs=(show_warnings,))\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\context.py\", line 119, in Pool\r\n    return Pool(processes, initializer, initargs, maxtasksperchild,\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\pool.py\", line 212, in __init__\r\n    self._repopulate_pool()\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\pool.py\", line 303, in _repopulate_pool\r\n    return self._repopulate_pool_static(self._ctx, self.Process,\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\pool.py\", line 326, in _repopulate_pool_static\r\n    w.start()\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\process.py\", line 121, in start\r\n    self._popen = self._Popen(self)\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\context.py\", line 327, in _Popen\r\n    return Popen(process_obj)\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\popen_spawn_win32.py\", line 45, in __init__\r\n    prep_data = spawn.get_preparation_data(process_obj._name)\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\spawn.py\", line 154, in get_preparation_data\r\n    _check_not_importing_main()\r\n  File \"C:\\Users\\Matthew Middlehurst\\AppData\\Local\\Programs\\Python\\Python39\\lib\\multiprocessing\\spawn.py\", line 134, in _check_not_importing_main\r\n    raise RuntimeError('''\r\nRuntimeError: \r\n        An attempt has been made to start a new process before the\r\n        current process has finished its bootstrapping phase.\r\n        This probably means that you are not using fork to start your\r\n        child processes and you have forgotten to use the proper idiom\r\n        in the main module:\r\n            if __name__ == '__main__':\r\n                freeze_support()\r\n                ...\r\n        The \"freeze_support()\" line can be omitted if the program\r\n        is not going to be frozen to produce an executable.\r\n```\r\n\r\nTransformed data will eventually be output however.\r\n\r\n```\r\n    dim_0__variance_larger_than_standard_deviation  ...  dim_0__matrix_profile__feature_\"75\"__threshold_0.98\r\n0                                              0.0  ...                                           3.334879  \r\n1                                              0.0  ...                                           3.334879  \r\n2                                              0.0  ...                                           3.334879  \r\n3                                              0.0  ...                                           3.334879  \r\n4                                              0.0  ...                                           3.334879  \r\n..                                             ...  ...                                                ...  \r\n62                                             0.0  ...                                           3.334879  \r\n63                                             0.0  ...                                           3.334879  \r\n64                                             0.0  ...                                           3.334879  \r\n65                                             0.0  ...                                           3.334879  \r\n66                                             0.0  ...                                           3.334879  \r\n[67 rows x 787 columns]\r\n```\r\n\r\n\r\n**To Reproduce**\r\n\r\n```\r\nfrom sktime.datasets import load_italy_power_demand\r\nfrom sktime.transformations.panel.tsfresh import TSFreshFeatureExtractor\r\n\r\nX_train, y_train = load_italy_power_demand(split=\"train\", return_X_y=True)\r\n\r\ntsfresh = TSFreshFeatureExtractor(\r\n    default_fc_parameters=\"comprehensive\",\r\n    show_warnings=False,\r\n    disable_progressbar=True,\r\n)\r\n\r\nt = tsfresh.fit_transform(X_train, y_train)\r\nprint(t)\r\n```\r\n\r\n**Versions**\r\n\r\nThis occurs on both my machines running Windows 10, one using Python 3.8 and the other 3.9.\r\n\r\n```\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: E:\\_ProgramFiles\\Anaconda3\\envs\\sktime-workshop-boss\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 50.3.0.post20201006\r\n      sklearn: 0.24.2\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.3\r\n       Cython: 0.29.21\r\n       pandas: 1.1.4\r\n   matplotlib: 3.4.2\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: None\r\n      tsfresh: 0.18.0\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1257", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1257/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1257/events", "html_url": "https://github.com/sktime/sktime/issues/1257", "id": 961995759, "node_id": "MDU6SXNzdWU5NjE5OTU3NTk=", "number": 1257, "title": "[BUG] failure in test `test_load_UCR_UEA_dataset_download`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-08-05T16:27:15Z", "updated_at": "2022-01-08T16:21:41Z", "closed_at": "2022-01-08T16:21:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`test_load_UCR_UEA_dataset_download` fails for me and @GuzalBulatova on my local computer, with the following `FileNotFoundError` error, since #1248 was merged earlier today.\r\n\r\nIt does not fail for others though, like @SveaMeyer13 or @tensorflow-as-tf, or in the CI/CD testing pipeline. Has something changed recently?\r\n\r\nA suspicion we have is that something in the `pytest` path reference is not correct - @GuzalBulatova says the file is being downloaded into the `sktime` package inside her local environment (!).\r\n\r\nFor me, the folder `\\tmpcrst7s46` exists but contains nothing. Instead, the files also appear in my local repository (!), in the folder `datasets/data/ArrowHead`.\r\n\r\n```\r\n================================== FAILURES ===================================\r\n_____________________ test_load_UCR_UEA_dataset_download ______________________\r\n\r\ntmpdir = local('C:\\\\Users\\\\Franz Kiraly\\\\AppData\\\\Local\\\\Temp\\\\pytest-of-Franz Kiraly\\\\pytest-35\\\\test_load_UCR_UEA_dataset_down0')\r\n\r\n    def test_load_UCR_UEA_dataset_download(tmpdir):\r\n        # tmpdir is a pytest fixture\r\n        extract_path = tmpdir.mkdtemp()\r\n        name = \"ArrowHead\"\r\n        actual_X, actual_y = load_UCR_UEA_dataset(\r\n>           name, return_X_y=True, extract_path=extract_path\r\n        )\r\n\r\nsktime\\datasets\\tests\\test_data_loaders.py:83: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\nsktime\\datasets\\_data_io.py:149: in load_UCR_UEA_dataset\r\n    return _load_dataset(name, split, return_X_y, extract_path)\r\nsktime\\datasets\\_data_io.py:193: in _load_dataset\r\n    result = load_from_tsfile_to_dataframe(abspath)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nfull_file_path_and_name = 'C:\\\\Users\\\\FRANZK~1\\\\AppData\\\\Local\\\\Temp\\\\tmpcrst7s46\\\\ArrowHead\\\\ArrowHead_TRAIN.ts'\r\nreturn_separate_X_and_y = True, replace_missing_vals_with = 'NaN'\r\n\r\n    def load_from_tsfile_to_dataframe(\r\n        full_file_path_and_name,\r\n        return_separate_X_and_y=True,\r\n        replace_missing_vals_with=\"NaN\",\r\n    ):\r\n        \"\"\"Load data from a .ts file into a Pandas DataFrame.\r\n    \r\n        Parameters\r\n        ----------\r\n        full_file_path_and_name: str\r\n            The full pathname of the .ts file to read.\r\n        return_separate_X_and_y: bool\r\n            true if X and Y values should be returned as separate Data Frames (\r\n            X) and a numpy array (y), false otherwise.\r\n            This is only relevant for data that\r\n        replace_missing_vals_with: str\r\n           The value that missing values in the text file should be replaced\r\n           with prior to parsing.\r\n    \r\n        Returns\r\n        -------\r\n        DataFrame, ndarray\r\n            If return_separate_X_and_y then a tuple containing a DataFrame and a\r\n            numpy array containing the relevant time-series and corresponding\r\n            class values.\r\n        DataFrame\r\n            If not return_separate_X_and_y then a single DataFrame containing\r\n            all time-series and (if relevant) a column \"class_vals\" the\r\n            associated class values.\r\n        \"\"\"\r\n        # Initialize flags and variables used when parsing the file\r\n        metadata_started = False\r\n        data_started = False\r\n    \r\n        has_problem_name_tag = False\r\n        has_timestamps_tag = False\r\n        has_univariate_tag = False\r\n        has_class_labels_tag = False\r\n        has_data_tag = False\r\n    \r\n        previous_timestamp_was_int = None\r\n        prev_timestamp_was_timestamp = None\r\n        num_dimensions = None\r\n        is_first_case = True\r\n        instance_list = []\r\n        class_val_list = []\r\n        line_num = 0\r\n    \r\n        # Parse the file\r\n        # print(full_file_path_and_name)\r\n>       with open(full_file_path_and_name, \"r\", encoding=\"utf-8\") as file:\r\nE       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\FRANZK~1\\\\AppData\\\\Local\\\\Temp\\\\tmpcrst7s46\\\\ArrowHead\\\\ArrowHead_TRAIN.ts'\r\n\r\nsktime\\utils\\data_io.py:75: FileNotFoundError\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1257/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1252", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1252/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1252/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1252/events", "html_url": "https://github.com/sktime/sktime/issues/1252", "id": 960341530, "node_id": "MDU6SXNzdWU5NjAzNDE1MzA=", "number": 1252, "title": "[BUG] python/miniconda 3.8 fails CI", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-08-04T12:06:43Z", "updated_at": "2021-08-04T16:04:39Z", "closed_at": "2021-08-04T16:04:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since recently, it would appear that the python/miniconda 3.8 builds fail, consistently across PR.\r\nIt's always the same traceback:\r\n\r\n```\r\npython setup.py build_ext --compiler=msvc\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 339, in <module>\r\n    setup_package()\r\n  File \"setup.py\", line 329, in setup_package\r\n    check_package_status(package, version)\r\n  File \"setup.py\", line 245, in check_package_status\r\n    module = importlib.import_module(package)\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 843, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\site-packages\\sklearn\\__init__.py\", line 82, in <module>\r\n    from .base import clone\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\site-packages\\sklearn\\base.py\", line 17, in <module>\r\n    from .utils import _IS_32BIT\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\site-packages\\sklearn\\utils\\__init__.py\", line 20, in <module>\r\n    from scipy.sparse import issparse\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\site-packages\\scipy\\__init__.py\", line 136, in <module>\r\n    from . import _distributor_init\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\site-packages\\scipy\\_distributor_init.py\", line 59, in <module>\r\n    WinDLL(os.path.abspath(filename))\r\n  File \"C:\\Miniconda38-x64\\envs\\testenv\\lib\\ctypes\\__init__.py\", line 373, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\nFileNotFoundError: Could not find module 'C:\\Miniconda38-x64\\envs\\testenv\\lib\\site-packages\\scipy\\.libs\\libbanded5x.X7D476RWJKO3TRH4FXIEB4YEAKNOYBT4.gfortran-win_amd64.dll' (or one of its dependencies). Try using the full path with constructor syntax.\r\n```\r\n\r\nWhat is this? 3.6 and 3.7 are just fine.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1247", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1247/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1247/events", "html_url": "https://github.com/sktime/sktime/issues/1247", "id": 958746185, "node_id": "MDU6SXNzdWU5NTg3NDYxODU=", "number": 1247, "title": "[BUG] cannot import name '_take_along_axis' from 'sklearn.utils.fixes'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-03T05:40:35Z", "updated_at": "2021-10-16T23:05:11Z", "closed_at": "2021-10-16T23:05:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am getting this error when running an example from your documentation. \r\n\r\n`ImportError: cannot import name '_take_along_axis' from 'sklearn.utils.fixes' (/Users/safishajjouz/opt/anaconda3/envs/Spyder_env/lib/python3.8/site-packages/sklearn/utils/fixes.py)`\r\n\r\n\r\n**To Reproduce**\r\n\r\nHere is a MWE\r\n\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.model_selection import (\r\n     ExpandingWindowSplitter,\r\n     ForecastingGridSearchCV,\r\n     ExpandingWindowSplitter)\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\ny = load_airline()\r\nfh = [1,2,3]\r\ncv = ExpandingWindowSplitter(\r\n     start_with_window=True,\r\n     fh=fh)\r\nforecaster = NaiveForecaster()\r\nparam_grid = {\"strategy\" : [\"last\", \"mean\", \"drift\"]}\r\ngscv = ForecastingGridSearchCV(\r\n     forecaster=forecaster,\r\n     param_grid=param_grid,\r\n     cv=cv)\r\ngscv.fit(y)\r\nForecastingGridSearchCV(...)\r\ny_pred = gscv.predict(fh)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe expected behaviour should be the same output as [here](https://www.sktime.org/en/latest/api_reference/modules/auto_generated/sktime.forecasting.model_selection.ForecastingGridSearchCV.html):\r\n\r\n**Versions**\r\n \r\n```\r\nSystem:\r\n    python: 3.8.8 (default, Apr 13 2021, 12:59:45)  [Clang 10.0.0 ]\r\nexecutable: /Users/safishajjouz/opt/anaconda3/envs/Spyder_env/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.5.4\r\n       Cython: 0.29.23\r\n       pandas: 1.2.4\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: None\r\n      tsfresh: 0.18.0\r\n```\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1228", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1228/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1228/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1228/events", "html_url": "https://github.com/sktime/sktime/issues/1228", "id": 956527618, "node_id": "MDU6SXNzdWU5NTY1Mjc2MTg=", "number": 1228, "title": "[BUG] sporadic bug in clustering example notebook", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102332684, "node_id": "MDU6TGFiZWwzMTAyMzMyNjg0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:clustering", "name": "module:clustering", "color": "8C1AAB", "default": false, "description": "clustering module: time series clustering"}], "state": "closed", "locked": false, "assignee": {"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chrisholder", "id": 4674372, "node_id": "MDQ6VXNlcjQ2NzQzNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4674372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisholder", "html_url": "https://github.com/chrisholder", "followers_url": "https://api.github.com/users/chrisholder/followers", "following_url": "https://api.github.com/users/chrisholder/following{/other_user}", "gists_url": "https://api.github.com/users/chrisholder/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisholder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisholder/subscriptions", "organizations_url": "https://api.github.com/users/chrisholder/orgs", "repos_url": "https://api.github.com/users/chrisholder/repos", "events_url": "https://api.github.com/users/chrisholder/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisholder/received_events", "type": "User", "site_admin": false}, {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-07-30T08:28:30Z", "updated_at": "2022-05-01T15:15:50Z", "closed_at": "2022-05-01T15:13:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When running the clustering notebook in PR #1209 completely unrelated to clustering, the test_examples check resulted in the following failure:\r\n\r\n```\r\n[NbConvertApp] Converting notebook examples/partition_based_clustering.ipynb to notebook\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/bin/jupyter-nbconvert\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/jupyter_core/application.py\", line 254, in launch_instance\r\n    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/traitlets/config/application.py\", line 845, in launch_instance\r\n    app.start()\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/nbconvertapp.py\", line 346, in start\r\n    self.convert_notebooks()\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/nbconvertapp.py\", line 518, in convert_notebooks\r\n    self.convert_single_notebook(notebook_filename)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/nbconvertapp.py\", line 483, in convert_single_notebook\r\n    output, resources = self.export_single_notebook(notebook_filename, resources, input_buffer=input_buffer)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/nbconvertapp.py\", line 412, in export_single_notebook\r\n    output, resources = self.exporter.from_filename(notebook_filename, resources=resources)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/exporters/exporter.py\", line 181, in from_filename\r\n    return self.from_file(f, resources=resources, **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/exporters/exporter.py\", line 199, in from_file\r\n    return self.from_notebook_node(nbformat.read(file_stream, as_version=4), resources=resources, **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/exporters/notebook.py\", line 32, in from_notebook_node\r\n    nb_copy, resources = super().from_notebook_node(nb, resources, **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/exporters/exporter.py\", line 143, in from_notebook_node\r\n    nb_copy, resources = self._preprocess(nb_copy, resources)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/exporters/exporter.py\", line 318, in _preprocess\r\n    nbc, resc = preprocessor(nbc, resc)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/preprocessors/base.py\", line 47, in __call__\r\n    return self.preprocess(nb, resources)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/preprocessors/execute.py\", line 84, in preprocess\r\n    self.preprocess_cell(cell, resources, index)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbconvert/preprocessors/execute.py\", line 105, in preprocess_cell\r\n    cell = self.execute_cell(cell, index, store_history=True)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbclient/util.py\", line 74, in wrapped\r\n    return just_run(coro(*args, **kwargs))\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbclient/util.py\", line 53, in just_run\r\n    return loop.run_until_complete(coro)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/asyncio/base_events.py\", line 587, in run_until_complete\r\n    return future.result()\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbclient/client.py\", line 857, in async_execute_cell\r\n    self._check_raise_for_error(cell, exec_reply)\r\n  File \"/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/nbclient/client.py\", line 760, in _check_raise_for_error\r\n    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)\r\nnbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:\r\n------------------\r\nk_medoids = TimeSeriesKMedoids(\r\n    n_clusters=5,  # Number of desired centers\r\n    init_algorithm=\"forgy\",  # Center initialisation technique\r\n    max_iter=200,  # Maximum number of iterations for refinement on training set\r\n    verbose=False,  # Verbose\r\n    metric=\"dtw\",  # Distance metric to use\r\n)\r\n\r\nk_medoids.fit(X_train)\r\nplot_cluster_algorithm(k_medoids, X_test, k_medoids.n_clusters)\r\n------------------\r\n\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n/tmp/ipykernel_3017/3264997074.py in <module>\r\n      7 )\r\n      8 \r\n----> 9 k_medoids.fit(X_train)\r\n     10 plot_cluster_algorithm(k_medoids, X_test, k_medoids.n_clusters)\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/_k_medoids.py in fit(self, X, y)\r\n     87         \"\"\"\r\n     88 \r\n---> 89         return super(TimeSeriesKMedoids, self).fit(X)\r\n     90 \r\n     91     def predict(self, X: NumpyOrDF) -> NumpyArray:\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/base/base.py in fit(self, X, y)\r\n     53 \r\n     54         self._check_params(X)\r\n---> 55         self._fit(X)\r\n     56 \r\n     57         self._is_fitted = True\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/partitioning/_lloyds_partitioning.py in _fit(self, X, y)\r\n    130 \r\n    131         for _ in range(self.max_iter):\r\n--> 132             self._update_centers(X)\r\n    133 \r\n    134     def _predict(self, X: NumpyArray) -> NumpyArray:\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/partitioning/_lloyds_partitioning.py in _update_centers(self, data)\r\n    217         new_centers = []\r\n    218         for cluster_series in cluster_values:\r\n--> 219             new_centers_i = self.calculate_new_centers(cluster_series)\r\n    220             new_centers.append(new_centers_i)\r\n    221 \r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/_k_medoids.py in calculate_new_centers(self, cluster_values)\r\n    127 \r\n    128         medoid = Medoids(cluster_values, self._metric)\r\n--> 129         medoid_index = medoid.approximate()\r\n    130         return cluster_values[medoid_index]\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/partitioning/_cluster_approximations.py in approximate(self)\r\n     36             Index position of the approximation in the series\r\n     37         \"\"\"\r\n---> 38         distance_matrix = compute_pairwise_distances(X=self.series, metric=self.metric)\r\n     39         return np.argmin(sum(distance_matrix))\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sktime/clustering/base/clustering_utils.py in compute_pairwise_distances(metric, X, Y, pairwise_func)\r\n     56         Y = X\r\n     57 \r\n---> 58     return pairwise_func(X=X, Y=Y, metric=dist_wrapper)\r\n     59 \r\n     60 \r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/utils/validation.py in inner_f(*args, **kwargs)\r\n     61             extra_args = len(args) - len(all_args)\r\n     62             if extra_args <= 0:\r\n---> 63                 return f(*args, **kwargs)\r\n     64 \r\n     65             # extra_args > 0\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/metrics/pairwise.py in pairwise_distances(X, Y, metric, n_jobs, force_all_finite, **kwds)\r\n   1788         func = partial(distance.cdist, metric=metric, **kwds)\r\n   1789 \r\n-> 1790     return _parallel_pairwise(X, Y, func, n_jobs, **kwds)\r\n   1791 \r\n   1792 \r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/metrics/pairwise.py in _parallel_pairwise(X, Y, func, n_jobs, **kwds)\r\n   1357 \r\n   1358     if effective_n_jobs(n_jobs) == 1:\r\n-> 1359         return func(X, Y, **kwds)\r\n   1360 \r\n   1361     # enforce a threading backend to prevent data communication overhead\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/metrics/pairwise.py in _pairwise_callable(X, Y, metric, force_all_finite, **kwds)\r\n   1377     \"\"\"Handle the callable case for pairwise_{distances,kernels}.\r\n   1378     \"\"\"\r\n-> 1379     X, Y = check_pairwise_arrays(X, Y, force_all_finite=force_all_finite)\r\n   1380 \r\n   1381     if X is Y:\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/utils/validation.py in inner_f(*args, **kwargs)\r\n     61             extra_args = len(args) - len(all_args)\r\n     62             if extra_args <= 0:\r\n---> 63                 return f(*args, **kwargs)\r\n     64 \r\n     65             # extra_args > 0\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/metrics/pairwise.py in check_pairwise_arrays(X, Y, precomputed, dtype, accept_sparse, force_all_finite, copy)\r\n    142         X = Y = check_array(X, accept_sparse=accept_sparse, dtype=dtype,\r\n    143                             copy=copy, force_all_finite=force_all_finite,\r\n--> 144                             estimator=estimator)\r\n    145     else:\r\n    146         X = check_array(X, accept_sparse=accept_sparse, dtype=dtype,\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/utils/validation.py in inner_f(*args, **kwargs)\r\n     61             extra_args = len(args) - len(all_args)\r\n     62             if extra_args <= 0:\r\n---> 63                 return f(*args, **kwargs)\r\n     64 \r\n     65             # extra_args > 0\r\n\r\n/opt/hostedtoolcache/Python/3.7.11/x64/lib/python3.7/site-packages/sklearn/utils/validation.py in check_array(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, estimator)\r\n    696                     \"Reshape your data either using array.reshape(-1, 1) if \"\r\n    697                     \"your data has a single feature or array.reshape(1, -1) \"\r\n--> 698                     \"if it contains a single sample.\".format(array))\r\n    699 \r\n    700         # make sure we actually converted to numeric:\r\n\r\nValueError: Expected 2D array, got 1D array instead:\r\narray=[].\r\nReshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.\r\nValueError: Expected 2D array, got 1D array instead:\r\narray=[].\r\nReshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.\r\n\r\nError: Process completed with exit code 1.\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1211", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1211/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1211/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1211/events", "html_url": "https://github.com/sktime/sktime/issues/1211", "id": 952932221, "node_id": "MDU6SXNzdWU5NTI5MzIyMjE=", "number": 1211, "title": "[BUG] test_get_fitted_params fails for Multivariate Forecasters", "user": {"login": "thayeylolu", "id": 13348874, "node_id": "MDQ6VXNlcjEzMzQ4ODc0", "avatar_url": "https://avatars.githubusercontent.com/u/13348874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thayeylolu", "html_url": "https://github.com/thayeylolu", "followers_url": "https://api.github.com/users/thayeylolu/followers", "following_url": "https://api.github.com/users/thayeylolu/following{/other_user}", "gists_url": "https://api.github.com/users/thayeylolu/gists{/gist_id}", "starred_url": "https://api.github.com/users/thayeylolu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thayeylolu/subscriptions", "organizations_url": "https://api.github.com/users/thayeylolu/orgs", "repos_url": "https://api.github.com/users/thayeylolu/repos", "events_url": "https://api.github.com/users/thayeylolu/events{/privacy}", "received_events_url": "https://api.github.com/users/thayeylolu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-26T13:55:51Z", "updated_at": "2021-10-16T23:04:28Z", "closed_at": "2021-10-16T23:04:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe test;  test_get_fitted_params fails for Multivariate Forecasters because the sample data is univariate\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n**Expected behavior**\r\n<!--\r\nIncluding a new sample dataset to consider multivariate forecasters.\r\n-->\r\n\r\n**Additional context**\r\n<img width=\"651\" alt=\"image\" src=\"https://user-images.githubusercontent.com/13348874/127000609-481c3721-8d04-4e90-9797-40eaf735f3cf.png\">\r\nTesting data in this called in `test_get_fitted_params` is a univariate data\r\n\r\n<details>\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1211/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1194", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1194/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1194/events", "html_url": "https://github.com/sktime/sktime/issues/1194", "id": 951814791, "node_id": "MDU6SXNzdWU5NTE4MTQ3OTE=", "number": 1194, "title": "[BUG] Fix timing bug in `test_evaluate_common_configs`", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "RNKuhns", "id": 26907244, "node_id": "MDQ6VXNlcjI2OTA3MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/26907244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RNKuhns", "html_url": "https://github.com/RNKuhns", "followers_url": "https://api.github.com/users/RNKuhns/followers", "following_url": "https://api.github.com/users/RNKuhns/following{/other_user}", "gists_url": "https://api.github.com/users/RNKuhns/gists{/gist_id}", "starred_url": "https://api.github.com/users/RNKuhns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RNKuhns/subscriptions", "organizations_url": "https://api.github.com/users/RNKuhns/orgs", "repos_url": "https://api.github.com/users/RNKuhns/repos", "events_url": "https://api.github.com/users/RNKuhns/events{/privacy}", "received_events_url": "https://api.github.com/users/RNKuhns/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RNKuhns", "id": 26907244, "node_id": "MDQ6VXNlcjI2OTA3MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/26907244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RNKuhns", "html_url": "https://github.com/RNKuhns", "followers_url": "https://api.github.com/users/RNKuhns/followers", "following_url": "https://api.github.com/users/RNKuhns/following{/other_user}", "gists_url": "https://api.github.com/users/RNKuhns/gists{/gist_id}", "starred_url": "https://api.github.com/users/RNKuhns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RNKuhns/subscriptions", "organizations_url": "https://api.github.com/users/RNKuhns/orgs", "repos_url": "https://api.github.com/users/RNKuhns/repos", "events_url": "https://api.github.com/users/RNKuhns/events{/privacy}", "received_events_url": "https://api.github.com/users/RNKuhns/received_events", "type": "User", "site_admin": false}, {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-07-23T18:38:46Z", "updated_at": "2021-12-04T23:02:46Z", "closed_at": "2021-12-04T23:02:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Strange fail in `test_evaluate_common_configs`, from #1191 but unrelated to the PR.\r\nOpening an issue for investigating it. I think this relates to code of @Aiwalter and @RNKuhns.\r\n\r\nSee details for error message:\r\n<details>\r\n```\r\n=================================== FAILURES ===================================\r\n__ test_evaluate_common_configs[scoring0-update-5-10-0-SlidingWindowSplitter] __\r\n\r\nCV = <class 'sktime.forecasting.model_selection._split.SlidingWindowSplitter'>\r\nfh = 0, window_length = 10, step_length = 5, strategy = 'update'\r\nscoring = MeanAbsolutePercentageError(multioutput='uniform_average', symmetric=True)\r\n\r\n    @pytest.mark.parametrize(\"CV\", [SlidingWindowSplitter, ExpandingWindowSplitter])\r\n    @pytest.mark.parametrize(\"fh\", TEST_FHS)\r\n    @pytest.mark.parametrize(\"window_length\", [7, 10])\r\n    @pytest.mark.parametrize(\"step_length\", TEST_STEP_LENGTHS)\r\n    @pytest.mark.parametrize(\"strategy\", [\"refit\", \"update\"])\r\n    @pytest.mark.parametrize(\r\n        \"scoring\",\r\n        [\r\n            MeanAbsolutePercentageError(symmetric=True),\r\n            MeanAbsoluteScaledError(),\r\n        ],\r\n    )\r\n    def test_evaluate_common_configs(CV, fh, window_length, step_length, strategy, scoring):\r\n        y = make_forecasting_problem(n_timepoints=30, index_type=\"int\")\r\n        forecaster = NaiveForecaster()\r\n        cv = CV(fh, window_length, step_length=step_length)\r\n    \r\n        out = evaluate(\r\n            forecaster=forecaster, y=y, cv=cv, strategy=strategy, scoring=scoring\r\n        )\r\n>       _check_evaluate_output(out, cv, y, scoring)\r\n\r\nCV         = <class 'sktime.forecasting.model_selection._split.SlidingWindowSplitter'>\r\ncv         = SlidingWindowSplitter(fh=0, step_length=5)\r\nfh         = 0\r\nforecaster = NaiveForecaster(sp=1, strategy='last', window_length=None)\r\nout        =    cutoff  fit_time  ...  pred_time  test_MeanAbsolutePercentageError\r\n0    12.0  0.000662  ...   0.010524             ...                   0.181488\r\n4    32.0  0.003227  ...   0.009938                          0.874410\r\n\r\n[5 rows x 5 columns]\r\nscoring    = MeanAbsolutePercentageError(multioutput='uniform_average', symmetric=True)\r\nstep_length = 5\r\nstrategy   = 'update'\r\nwindow_length = 10\r\ny          = 3     1.173194\r\n4     2.696492\r\n5     1.143635\r\n6     2.163111\r\n7     1.289422\r\n8     3.973296\r\n9     1.902029\r\n10    1.26309...26    2.226616\r\n27    1.856131\r\n28    2.628671\r\n29    1.621899\r\n30    2.767501\r\n31    2.553693\r\n32    1.000000\r\ndtype: float64\r\n\r\n../../../../hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/tests/test_evaluate.py:96: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nout =    cutoff  fit_time  ...  pred_time  test_MeanAbsolutePercentageError\r\n0    12.0  0.000662  ...   0.010524             ...                   0.181488\r\n4    32.0  0.003227  ...   0.009938                          0.874410\r\n\r\n[5 rows x 5 columns]\r\ncv = SlidingWindowSplitter(fh=0, step_length=5)\r\ny = 3     1.173194\r\n4     2.696492\r\n5     1.143635\r\n6     2.163111\r\n7     1.289422\r\n8     3.973296\r\n9     1.902029\r\n10    1.26309...26    2.226616\r\n27    1.856131\r\n28    2.628671\r\n29    1.621899\r\n30    2.767501\r\n31    2.553693\r\n32    1.000000\r\ndtype: float64\r\nscoring = MeanAbsolutePercentageError(multioutput='uniform_average', symmetric=True)\r\n\r\n    def _check_evaluate_output(out, cv, y, scoring):\r\n        assert isinstance(out, pd.DataFrame)\r\n    \r\n        # Check column names.\r\n        assert set(out.columns) == {\r\n            \"cutoff\",\r\n            \"fit_time\",\r\n            \"len_train_window\",\r\n            \"pred_time\",\r\n            f\"test_{scoring.name}\",\r\n        }\r\n    \r\n        # Check number of rows against number of splits.\r\n        n_splits = cv.get_n_splits(y)\r\n        assert out.shape[0] == n_splits\r\n    \r\n        # Check if all timings are positive.\r\n>       assert np.all(out.filter(like=\"_time\") >= 0)\r\nE       AssertionError: assert False\r\nE        +  where False = <function all at 0x119006280>(   fit_time  pred_time\\n0  0.000662   0.010524\\n1  0.003379   0.009592\\n2  0.002953   0.009244\\n3  0.003312  -0.037367\\n4  0.003227   0.009938 >= 0)\r\nE        +    where <function all at 0x119006280> = np.all\r\nE        +    and      fit_time  pred_time\\n0  0.000662   0.010524\\n1  0.003379   0.009592\\n2  0.002953   0.009244\\n3  0.003312  -0.037367\\n4  0.003227   0.009938 = <bound method NDFrame.filter of    cutoff  fit_time  ...  pred_time  test_MeanAbsolutePercentageError\\n0    12.0  0.000...                  0.181488\\n4    32.0  0.003227  ...   0.009938                          0.874410\\n\\n[5 rows x 5 columns]>(like='_time')\r\nE        +      where <bound method NDFrame.filter of    cutoff  fit_time  ...  pred_time  test_MeanAbsolutePercentageError\\n0    12.0  0.000...                  0.181488\\n4    32.0  0.003227  ...   0.009938                          0.874410\\n\\n[5 rows x 5 columns]> =    cutoff  fit_time  ...  pred_time  test_MeanAbsolutePercentageError\\n0    12.0  0.000662  ...   0.010524             ...                   0.181488\\n4    32.0  0.003227  ...   0.009938                          0.874410\\n\\n[5 rows x 5 columns].filter\r\n\r\ncv         = SlidingWindowSplitter(fh=0, step_length=5)\r\nn_splits   = 5\r\nout        =    cutoff  fit_time  ...  pred_time  test_MeanAbsolutePercentageError\r\n0    12.0  0.000662  ...   0.010524             ...                   0.181488\r\n4    32.0  0.003227  ...   0.009938                          0.874410\r\n\r\n[5 rows x 5 columns]\r\nscoring    = MeanAbsolutePercentageError(multioutput='uniform_average', symmetric=True)\r\ny          = 3     1.173194\r\n4     2.696492\r\n5     1.143635\r\n6     2.163111\r\n7     1.289422\r\n8     3.973296\r\n9     1.902029\r\n10    1.26309...26    2.226616\r\n27    1.856131\r\n28    2.628671\r\n29    1.621899\r\n30    2.767501\r\n31    2.553693\r\n32    1.000000\r\ndtype: float64\r\n\r\n../../../../hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/sktime/forecasting/model_evaluation/tests/test_evaluate.py:48: AssertionError\r\n=============================== warnings summary ===============================\r\nforecasting/fbprophet.py::sktime.forecasting.fbprophet.Prophet\r\n  /Users/runner/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/Cython/Build/Inline.py:4: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n    import imp\r\n\r\nforecasting/tests/test_all_forecasters.py: 47 warnings\r\nforecasting/tests/test_sktime_forecasters.py: 5 warnings\r\ntests/test_all_estimators.py: 2 warnings\r\n  /Users/runner/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/statsmodels/tsa/holtwinters/model.py:427: FutureWarning: After 0.13 initialization must be handled at model creation\r\n    warnings.warn(\r\n\r\nforecasting/tests/test_all_forecasters.py: 12 warnings\r\n  /Users/runner/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/statsmodels/tsa/base/tsa_model.py:380: DeprecationWarning: No supported index is available. In the next version, calling this method in a model without a supported index will result in an exception.\r\n    warnings.warn('No supported index is available. In the next'\r\n\r\nforecasting/tests/test_naive.py: 16 warnings\r\n  /Users/runner/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/sktime/forecasting/naive.py:203: RuntimeWarning: Mean of empty slice\r\n    y_pred = np.nanmean(last_window, axis=0)\r\n\r\ntransformations/tests/test_all_transformers.py::test_all_transformers[HampelFilter]\r\n  /Users/runner/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/numpy/lib/nanfunctions.py:1113: RuntimeWarning: All-NaN slice encountered\r\n    r, k = function_base._ureduce(a, func=_nanmedian, axis=axis, out=out,\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n\r\n---------- coverage: platform darwin, python 3.8.11-final-0 ----------\r\nCoverage XML written to file coverage.xml\r\n```\r\n<details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1192", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1192/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1192/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1192/events", "html_url": "https://github.com/sktime/sktime/issues/1192", "id": 951596421, "node_id": "MDU6SXNzdWU5NTE1OTY0MjE=", "number": 1192, "title": "Resolve remaining bug-interactions of multivariate module with update/predict and pred_int interfaces", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-23T13:47:12Z", "updated_at": "2021-08-13T12:01:40Z", "closed_at": "2021-08-13T12:01:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Testing with concrete multivariate forecasters highlighted some interactions of the multivariate interface with update/predict and the prediction intervals interface:\r\n\r\n- [ ] `test_predict_pred_interval` - needs to be turned off if forecaster produces no predction intervals. There should probably be a tag for this rather than turning them off manually for individual estimators. Addressed in PR #1195 which introduces the tag, and tests for either error raised, or correct return of pred intervals, depending on tag value.\r\n- [ ] `test_update_predict_predicted index` - in `update_predict`, formatting of the multi-cutoff thing is not implemented for data frame returns (or numpy) and will break in that case\r\n- [ ] `check_update_predict_predicted_index` does not just check index, but also checks that data frames have 2 columns or more (which is off-topic), so this needs to be removed and possibly replaced by output tests. #1193\r\n- [ ] `_format_moving_cutoff_predictions` breaks if given a list of data frames, which happens for a multivariate forecaster #1213\r\n\r\nThis was found by testing @GuzalBulatova's new multivariate column forecaster with the new framework.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1181", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1181/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1181/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1181/events", "html_url": "https://github.com/sktime/sktime/issues/1181", "id": 949184964, "node_id": "MDU6SXNzdWU5NDkxODQ5NjQ=", "number": 1181, "title": "[BUG] Mismatch between stub files and autosummary toctrees", "user": {"login": "astrojuanlu", "id": 316517, "node_id": "MDQ6VXNlcjMxNjUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/316517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astrojuanlu", "html_url": "https://github.com/astrojuanlu", "followers_url": "https://api.github.com/users/astrojuanlu/followers", "following_url": "https://api.github.com/users/astrojuanlu/following{/other_user}", "gists_url": "https://api.github.com/users/astrojuanlu/gists{/gist_id}", "starred_url": "https://api.github.com/users/astrojuanlu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astrojuanlu/subscriptions", "organizations_url": "https://api.github.com/users/astrojuanlu/orgs", "repos_url": "https://api.github.com/users/astrojuanlu/repos", "events_url": "https://api.github.com/users/astrojuanlu/events{/privacy}", "received_events_url": "https://api.github.com/users/astrojuanlu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1203928605, "node_id": "MDU6TGFiZWwxMjAzOTI4NjA1", "url": "https://api.github.com/repos/sktime/sktime/labels/documentation", "name": "documentation", "color": "f4bdf9", "default": true, "description": "Documentation & tutorials"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/6", "html_url": "https://github.com/sktime/sktime/milestone/6", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/6/labels", "id": 6956457, "node_id": "MI_kwDOCVKAsc4AaiWp", "number": 6, "title": "The Great Documentation Overhaul", "description": "", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 6, "closed_issues": 24, "state": "open", "created_at": "2021-07-17T09:28:03Z", "updated_at": "2022-04-18T21:23:55Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2021-07-20T23:20:28Z", "updated_at": "2021-08-15T13:52:24Z", "closed_at": "2021-08-15T13:52:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhile investigating why https://github.com/alan-turing-institute/sktime/pull/1158 doesn't produce a proper gallery without executing the notebooks first (which, as per https://github.com/spatialaudio/nbsphinx/issues/586, should be possible), it was mentioned that reducing the number of warnings would simplify finding the root cause for the problem. Therefore, I executed `sphinx-build` with `-W` (\"turn warnings into errors\") and started with the first one:\r\n\r\n```\r\n$ python -m sphinx -v -W -T -E -b html -d _build/doctrees -D language=en source/ _build/html\r\n...\r\n    self.builder.build_update()                                                                                                                                                                                    (27/27 results) [2068/9792]\r\n  File \"/home/juanlu/Projects/RTD/tmp/sktime/.venv/lib/python3.7/site-packages/sphinx/builders/__init__.py\", line 299, in build_update\r\n    len(to_build))                                                                                                     \r\n  File \"/home/juanlu/Projects/RTD/tmp/sktime/.venv/lib/python3.7/site-packages/sphinx/builders/__init__.py\", line 311, in build\r\n    updated_docnames = set(self.read())                                                                                \r\n  File \"/usr/lib/python3.7/contextlib.py\", line 130, in __exit__                                                                                                                                                                              \r\n    self.gen.throw(type, value, traceback)                                                                                                                                                                                                    \r\n  File \"/home/juanlu/Projects/RTD/tmp/sktime/.venv/lib/python3.7/site-packages/sphinx/util/logging.py\", line 213, in pending_warnings\r\n    memhandler.flushTo(logger)                                                                                                                                                                                                                \r\n  File \"/home/juanlu/Projects/RTD/tmp/sktime/.venv/lib/python3.7/site-packages/sphinx/util/logging.py\", line 178, in flushTo                                                                                                           \r\n    logger.handle(record)                                                                                                                                                                                                                     \r\n  File \"/usr/lib/python3.7/logging/__init__.py\", line 1524, in handle                                                                                                                                                                         \r\n    self.callHandlers(record)                                                                                                                                                                                                                 \r\n  File \"/usr/lib/python3.7/logging/__init__.py\", line 1586, in callHandlers                                                                                                                                                                   \r\n    hdlr.handle(record)                                                                                                                                                                                                                       \r\n  File \"/usr/lib/python3.7/logging/__init__.py\", line 890, in handle                                                                                                                                                                          \r\n    rv = self.filter(record)                                                                                                                                                                                                                  \r\n  File \"/usr/lib/python3.7/logging/__init__.py\", line 751, in filter                                                                                                                                                                          \r\n    result = f.filter(record)                                                                                          \r\n  File \"/home/juanlu/Projects/RTD/tmp/sktime/.venv/lib/python3.7/site-packages/sphinx/util/logging.py\", line 421, in filter\r\n    raise exc                                              \r\nsphinx.errors.SphinxWarning: /home/juanlu/Projects/RTD/tmp/sktime/docs/source/source/api_reference/classification.rst.rst:16:autosummary: stub file not found 'sktime.classification.compose.ColumnEnsembleClassifier'. Check your autosummary\r\n_generate setting. \r\n```\r\n\r\nAfter some investigation, I realized that `sktime.classification.compose.ColumnEnsembleClassifier` stub is located in `api_reference/modules/auto_generated/`, however `api_reference/classification.rst` points to `modules/auto_generated/`:\r\n\r\nhttps://github.com/alan-turing-institute/sktime/blob/d149b2379aa213f24cc260d1b6a35bea15d829db/docs/source/api_reference/classification.rst#L17\r\n\r\nIt turns out that stub files are being generated in two directories: `api_reference/modules/auto_generated/` and `modules/auto_generated`, which might be the source of confusion. For this particular warning to go away, I made this one-line change:\r\n\r\n```diff\r\ndiff --git a/docs/source/api_reference/classification.rst b/docs/source/api_reference/classification.rst\r\nindex dfa882cb..b4e552d6 100644\r\n--- a/docs/source/api_reference/classification.rst\r\n+++ b/docs/source/api_reference/classification.rst\r\n@@ -14,7 +14,7 @@ Composition\r\n .. currentmodule:: sktime.classification.compose\r\n \r\n .. autosummary::\r\n-    :toctree: modules/auto_generated/\r\n+    :toctree: api_reference/modules/auto_generated/\r\n     :template: class.rst\r\n \r\n     ColumnEnsembleClassifier\r\n```\r\n\r\nHowever, there are a lot of these, so someone would have to go and amend those manually. In addition, it would be useful to clarify why these two directories hold stub files, and if this is the normal thing to do. I am not an expert in `sphinx.ext.autosummary` so I can't give much more guidance yet.\r\n\r\nI think this is a good first step towards reducing the number of warnings in the documentation, although there is still a long road ahead.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1171", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1171/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1171/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1171/events", "html_url": "https://github.com/sktime/sktime/issues/1171", "id": 948294338, "node_id": "MDU6SXNzdWU5NDgyOTQzMzg=", "number": 1171, "title": "[BUG] load_japanese_vowels() returns the same dataset for training and testing", "user": {"login": "off99555", "id": 15215732, "node_id": "MDQ6VXNlcjE1MjE1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/15215732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/off99555", "html_url": "https://github.com/off99555", "followers_url": "https://api.github.com/users/off99555/followers", "following_url": "https://api.github.com/users/off99555/following{/other_user}", "gists_url": "https://api.github.com/users/off99555/gists{/gist_id}", "starred_url": "https://api.github.com/users/off99555/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/off99555/subscriptions", "organizations_url": "https://api.github.com/users/off99555/orgs", "repos_url": "https://api.github.com/users/off99555/repos", "events_url": "https://api.github.com/users/off99555/events{/privacy}", "received_events_url": "https://api.github.com/users/off99555/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-07-20T06:00:41Z", "updated_at": "2021-08-31T11:38:21Z", "closed_at": "2021-08-31T11:38:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`load_japanese_vowels` function returns the same dataset when `split=\"train\"` and `split=\"test\"`.\r\nThis causes the test accuracy to be 1.0 in the [Rocket multivariate demo](https://www.sktime.org/en/latest/examples/rocket.html#3.5-Classify-the-Test-Data)\r\n\r\n**To Reproduce**\r\n\r\nJust run this code and if there's no assertion error then my point is valid:\r\n\r\n```python\r\nfrom sktime.datasets.base import load_japanese_vowels  # multivariate dataset\r\n\r\nX_train, y_train = load_japanese_vowels(split=\"train\", return_X_y=True)\r\nX_test, y_test = load_japanese_vowels(split=\"test\", return_X_y=True)\r\nfor i in range(len(X_train)):\r\n    for j in range(X_train.shape[1]):\r\n        assert np.all(X_train.iloc[i,j] == X_test.iloc[i,j])\r\n```\r\n\r\n**Expected behavior**\r\nAssertion fails because at least one of the series must not be equal. In fact, all the series must not be equal! So it needs to fail as early as in the first iteration.\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\off99\\anaconda3\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.1\r\n       sktime: 0.7.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.6.2\r\n       Cython: 0.29.23\r\n       pandas: 1.2.4\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.51.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1168", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1168/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1168/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1168/events", "html_url": "https://github.com/sktime/sktime/issues/1168", "id": 947955225, "node_id": "MDU6SXNzdWU5NDc5NTUyMjU=", "number": 1168, "title": "[BUG] ForecastingPipeline.update fails with ValueError on exogeneous data", "user": {"login": "jamontol", "id": 26893730, "node_id": "MDQ6VXNlcjI2ODkzNzMw", "avatar_url": "https://avatars.githubusercontent.com/u/26893730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamontol", "html_url": "https://github.com/jamontol", "followers_url": "https://api.github.com/users/jamontol/followers", "following_url": "https://api.github.com/users/jamontol/following{/other_user}", "gists_url": "https://api.github.com/users/jamontol/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamontol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamontol/subscriptions", "organizations_url": "https://api.github.com/users/jamontol/orgs", "repos_url": "https://api.github.com/users/jamontol/repos", "events_url": "https://api.github.com/users/jamontol/events{/privacy}", "received_events_url": "https://api.github.com/users/jamontol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-07-19T19:22:32Z", "updated_at": "2021-07-20T22:34:02Z", "closed_at": "2021-07-20T22:34:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nAfter fit and predict with the forecaster model correctly, an error is raised when trying to update forecaster model with new exogenous X data\r\n\r\n```\r\nException has occurred: ValueError       (note: full exception trace is shown but execution is paused at: _run_module_as_main)\r\nMust specify axis=0 or 1\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\pandas\\core\\generic.py\", line 8966, in _align_series\r\n    raise ValueError(\"Must specify axis=0 or 1\")\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\pandas\\core\\generic.py\", line 8834, in align\r\n    fill_axis=fill_axis,\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\pandas\\core\\frame.py\", line 4112, in align\r\n    broadcast_axis=broadcast_axis,\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\pandas\\core\\frame.py\", line 6331, in combine\r\n    this, other = self.align(other, copy=False)\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\pandas\\core\\frame.py\", line 6448, in combine_first\r\n    return self.combine(other, combiner, overwrite=False)\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 439, in _update_y_X\r\n    self._X = X.combine_first(self._X)\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 262, in update\r\n    self._update_y_X(y, X)\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\sktime\\forecasting\\compose\\_pipeline.py\", line 240, in _update\r\n    forecaster.update(y=y, X=X, update_params=update_params)\r\n  File \"C:\\Users\\jrml\\AppData\\Local\\Continuum\\anaconda3\\envs\\time-series\\Lib\\site-packages\\sktime\\forecasting\\base\\_base.py\", line 264, in update\r\n    self._update(y=y, X=X, update_params=update_params)\r\n  File \"C:\\Users\\jrml\\OneDrive - GFT Technologies SE\\Documents\\SPHINX\\zf-electricity-demand-forecast\\SPRINT_2\\API-SPHINX\\prediction-cloud-sktime\\app\\Forecasting\\forecaster.py\", line 187, in predict\r\n    forecaster_model.update(y=y, X=X, update_params=False)\r\n```\r\n\r\n**To Reproduce**\r\n\r\ny is a Series object with 1 row and X is a DataFrame object with 1 row and n columns (n=1 exogenous variable) with  DatetimeIndex index updated to a new period (15 min) after training\r\n\r\n```python\r\nstrategy='direct'\r\nwindow_length=4\r\nregressor = RandomForestRegressor(**params)\r\n\r\nforecaster_model = ForecastingPipeline(steps=[\r\n            (\"scaler_X\", TabularToSeriesAdaptor(MinMaxScaler())), # transform X exogenous\r\n            (\"forecaster\", TransformedTargetForecaster( # y\r\n                [\r\n                    (\"scaler\", OptionalPassthrough(TabularToSeriesAdaptor(MinMaxScaler()))),\r\n                    (\"forecast\", make_reduction(regressor, window_length=window_length, strategy=strategy))\r\n                ])\r\n            )\r\n            ])\r\n\r\nforecaster_model.fit(target, features, fh = self.fh)\r\ndf_y_pred = forecaster_model.predict(fh=self.fh, X=X)  # X is ignored here\r\nforecaster_model.update(y=y, X=X, update_params=False)\r\n\r\n```\r\nI've also  tried update_params=True but it raises the same error\r\n\r\n**Expected behavior**\r\n\r\nThe model should be updated with no errors\r\n\r\n\r\n**Additional context**\r\n\r\nThe error occurs when forecaster_model.update() invokes update() method in ```BaseForecaster``` parent class and this invokes self._update() method on ```ForecastingPipeline``` child class. Inside this method, update() in ```BaseForecaster``` parent class is invoked again from forecaster.update() \r\n\r\n\r\n**Versions**\r\nv0.7.0\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1150", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1150/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1150/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1150/events", "html_url": "https://github.com/sktime/sktime/issues/1150", "id": 946793193, "node_id": "MDU6SXNzdWU5NDY3OTMxOTM=", "number": 1150, "title": "[BUG] Build time dependency Cython not declared", "user": {"login": "astrojuanlu", "id": 316517, "node_id": "MDQ6VXNlcjMxNjUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/316517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astrojuanlu", "html_url": "https://github.com/astrojuanlu", "followers_url": "https://api.github.com/users/astrojuanlu/followers", "following_url": "https://api.github.com/users/astrojuanlu/following{/other_user}", "gists_url": "https://api.github.com/users/astrojuanlu/gists{/gist_id}", "starred_url": "https://api.github.com/users/astrojuanlu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astrojuanlu/subscriptions", "organizations_url": "https://api.github.com/users/astrojuanlu/orgs", "repos_url": "https://api.github.com/users/astrojuanlu/repos", "events_url": "https://api.github.com/users/astrojuanlu/events{/privacy}", "received_events_url": "https://api.github.com/users/astrojuanlu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-17T10:48:04Z", "updated_at": "2022-02-07T17:40:58Z", "closed_at": "2022-02-07T17:40:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe `setup.py` file uses `setup_requires` to declare `wheel` as a build-time dependency. However, it looks like Cython is also needed, because I got this eror on a fresh virtualenv with Python 3.7 on Linux Mint:\r\n\r\n```\r\n(.venv) juanlu@arion2:~/Projects/RTD/sktime$ pip install .\r\nProcessing /home/juanlu/Projects/RTD/sktime\r\nRequirement already satisfied: numpy>=1.19.0 in ./.venv/lib/python3.7/site-packages (from sktime==0.7.0) (1.21.0)\r\nRequirement already satisfied: pandas>=1.1.0 in ./.venv/lib/python3.7/site-packages (from sktime==0.7.0) (1.3.0)\r\nRequirement already satisfied: scikit-learn>=0.24.0 in ./.venv/lib/python3.7/site-packages (from sktime==0.7.0) (0.24.2)\r\nRequirement already satisfied: statsmodels>=0.12.1 in ./.venv/lib/python3.7/site-packages (from sktime==0.7.0) (0.12.2)\r\nRequirement already satisfied: numba>=0.50 in ./.venv/lib/python3.7/site-packages (from sktime==0.7.0) (0.53.1)\r\nRequirement already satisfied: wheel in ./.venv/lib/python3.7/site-packages (from sktime==0.7.0) (0.36.2)\r\nRequirement already satisfied: pytz>=2017.3 in ./.venv/lib/python3.7/site-packages (from pandas>=1.1.0->sktime==0.7.0) (2021.1)\r\nRequirement already satisfied: python-dateutil>=2.7.3 in ./.venv/lib/python3.7/site-packages (from pandas>=1.1.0->sktime==0.7.0) (2.8.2)\r\nRequirement already satisfied: joblib>=0.11 in ./.venv/lib/python3.7/site-packages (from scikit-learn>=0.24.0->sktime==0.7.0) (1.0.1)\r\nRequirement already satisfied: threadpoolctl>=2.0.0 in ./.venv/lib/python3.7/site-packages (from scikit-learn>=0.24.0->sktime==0.7.0) (2.2.0)\r\nRequirement already satisfied: scipy>=0.19.1 in ./.venv/lib/python3.7/site-packages (from scikit-learn>=0.24.0->sktime==0.7.0) (1.7.0)\r\nRequirement already satisfied: patsy>=0.5 in ./.venv/lib/python3.7/site-packages (from statsmodels>=0.12.1->sktime==0.7.0) (0.5.1)\r\nRequirement already satisfied: llvmlite<0.37,>=0.36.0rc1 in ./.venv/lib/python3.7/site-packages (from numba>=0.50->sktime==0.7.0) (0.36.0)\r\nRequirement already satisfied: setuptools in ./.venv/lib/python3.7/site-packages (from numba>=0.50->sktime==0.7.0) (47.1.0)\r\nRequirement already satisfied: six>=1.5 in ./.venv/lib/python3.7/site-packages (from python-dateutil>=2.7.3->pandas>=1.1.0->sktime==0.7.0) (1.16.0)\r\nBuilding wheels for collected packages: sktime\r\n  Building wheel for sktime (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /home/juanlu/Projects/RTD/sktime/.venv/bin/python3.7 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-req-build-7f5ynf47/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-req-build-7f5ynf47/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-setbtybz\r\n       cwd: /tmp/pip-req-build-7f5ynf47/\r\n  Complete output (27 lines):\r\n  C compiler: x86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fdebug-prefix-map=/build/python3.7-7jazGd/python3.7-3.7.11=. -fstack-protector-strong -Wformat -Werror=format-security -g -fdebug-prefix-map=/build/python3.7-7jazGd/python3.7-3.7.11=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC\r\n\r\n  compile options: '-c'\r\n  extra options: '-fopenmp'\r\n  x86_64-linux-gnu-gcc: test_openmp.c\r\n  x86_64-linux-gnu-gcc -pthread objects/test_openmp.o -o test_openmp -fopenmp\r\n  Traceback (most recent call last):\r\n    File \"<string>\", line 1, in <module>\r\n    File \"/tmp/pip-req-build-7f5ynf47/setup.py\", line 325, in <module>\r\n      setup_package()\r\n    File \"/tmp/pip-req-build-7f5ynf47/setup.py\", line 321, in setup_package\r\n      setup(**metadata)\r\n    File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/core.py\", line 135, in setup\r\n      config = configuration()\r\n    File \"/tmp/pip-req-build-7f5ynf47/setup.py\", line 216, in configuration\r\n      config.add_subpackage(\"sktime\")\r\n    File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/misc_util.py\", line 1018, in add_subpackage\r\n      caller_level = 2)\r\n    File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/misc_util.py\", line 987, in get_subpackage\r\n      caller_level = caller_level + 1)\r\n    File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/misc_util.py\", line 924, in _get_configuration_from_setup_py\r\n      config = setup_module.configuration(*args)\r\n    File \"sktime/setup.py\", line 28, in configuration\r\n      maybe_cythonize_extensions(top_path, config)\r\n    File \"/tmp/pip-req-build-7f5ynf47/sktime/_build_utils/__init__.py\", line 53, in maybe_cythonize_extensions\r\n      import Cython\r\n  ModuleNotFoundError: No module named 'Cython'\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for sktime\r\n  Running setup.py clean for sktime\r\nFailed to build sktime\r\nInstalling collected packages: sktime\r\n    Running setup.py install for sktime ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/juanlu/Projects/RTD/sktime/.venv/bin/python3.7 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-req-build-7f5ynf47/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-req-build-7f5ynf47/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-43rk2weh/install-record.txt --single-version-externally-managed --compile --install-headers /home/juanlu/Projects/RTD/sktime/.venv/include/site/python3.7/sktime\r\n         cwd: /tmp/pip-req-build-7f5ynf47/\r\n    Complete output (27 lines):\r\n    C compiler: x86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fdebug-prefix-map=/build/python3.7-7jazGd/python3.7-3.7.11=. -fstack-protector-strong -Wformat -Werror=format-security -g -fdebug-prefix-map=/build/python3.7-7jazGd/python3.7-3.7.11=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC\r\n\r\n    compile options: '-c'\r\n    extra options: '-fopenmp'\r\n    x86_64-linux-gnu-gcc: test_openmp.c\r\n    x86_64-linux-gnu-gcc -pthread objects/test_openmp.o -o test_openmp -fopenmp\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-req-build-7f5ynf47/setup.py\", line 325, in <module>\r\n        setup_package()\r\n      File \"/tmp/pip-req-build-7f5ynf47/setup.py\", line 321, in setup_package\r\n        setup(**metadata)\r\n      File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/core.py\", line 135, in setup\r\n        config = configuration()\r\n      File \"/tmp/pip-req-build-7f5ynf47/setup.py\", line 216, in configuration\r\n        config.add_subpackage(\"sktime\")\r\n      File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/misc_util.py\", line 1018, in add_subpackage\r\n        caller_level = 2)\r\n      File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/misc_util.py\", line 987, in get_subpackage\r\n        caller_level = caller_level + 1)\r\n      File \"/home/juanlu/Projects/RTD/sktime/.venv/lib/python3.7/site-packages/numpy/distutils/misc_util.py\", line 924, in _get_configuration_from_setup_py\r\n        config = setup_module.configuration(*args)\r\n      File \"sktime/setup.py\", line 28, in configuration\r\n        maybe_cythonize_extensions(top_path, config)\r\n      File \"/tmp/pip-req-build-7f5ynf47/sktime/_build_utils/__init__.py\", line 53, in maybe_cythonize_extensions\r\n        import Cython\r\n    ModuleNotFoundError: No module named 'Cython'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /home/juanlu/Projects/RTD/sktime/.venv/bin/python3.7 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-req-build-7f5ynf47/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-req-build-7f5ynf47/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-43rk2weh/install-record.txt --single-version-externally-managed --compile --install-headers /home/juanlu/Projects/RTD/sktime/.venv/include/site/python3.7/sktime Check the logs for full command output.\r\nWARNING: You are using pip version 20.1.1; however, version 21.1.3 is available.\r\nYou should consider upgrading via the '/home/juanlu/Projects/RTD/sktime/.venv/bin/python3.7 -m pip install --upgrade pip' command.\r\n```\r\n\r\n**Expected behavior**\r\n`pip` installs all required build-time dependencies.\r\n\r\n**Additional context**\r\nInstead of `setup_requires`, would the project be open to switching to PEP-518 `pyproject.toml` build-time dependencies instead? It would look something like this:\r\n\r\n```diff\r\ndiff --git a/pyproject.toml b/pyproject.toml\r\nnew file mode 100644\r\nindex 00000000..2bf5ec80\r\n--- /dev/null\r\n+++ b/pyproject.toml\r\n@@ -0,0 +1,3 @@\r\n+[build-system]\r\n+requires = [\"setuptools\", \"wheel\", \"Cython\"]\r\n+build-backend = \"setuptools.build_meta\"\r\ndiff --git a/setup.py b/setup.py\r\nindex 89ddbc96..5f35b06b 100644\r\n--- a/setup.py\r\n+++ b/setup.py\r\n@@ -101,8 +101,6 @@ CLASSIFIERS = [\r\n     \"Programming Language :: Python :: 3.8\",\r\n ]\r\n \r\n-SETUP_REQUIRES = [\"wheel\"]\r\n-\r\n # Optional setuptools features\r\n # For some commands, use setuptools\r\n SETUPTOOLS_COMMANDS = {\r\n@@ -278,7 +276,6 @@ def setup_package():\r\n         classifiers=CLASSIFIERS,\r\n         cmdclass=cmdclass,\r\n         python_requires=\">={}\".format(MIN_PYTHON_VERSION),\r\n-        setup_requires=SETUP_REQUIRES,\r\n         install_requires=INSTALL_REQUIRES,\r\n         extras_require=EXTRAS_REQUIRE,\r\n         **extra_setuptools_args\r\n\r\n```\r\n\r\nHowever, it didn't work because there is some extra logic in `setup.py`:\r\n\r\nhttps://github.com/alan-turing-institute/sktime/blob/9ca7587bedc861b039a3d9a822ed7ad03ba935ad/setup.py#L314-L315\r\n\r\nas well as `sktime/setup.py` (which fails while doing `from sktime._build_utils import maybe_cythonize_extensions`).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1131", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1131/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1131/events", "html_url": "https://github.com/sktime/sktime/issues/1131", "id": 943245344, "node_id": "MDU6SXNzdWU5NDMyNDUzNDQ=", "number": 1131, "title": "release 0.7.0 incomplete - investigate non-macos wheels", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-07-13T11:48:23Z", "updated_at": "2021-07-13T16:04:46Z", "closed_at": "2021-07-13T16:04:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "it would appear that only the macos wheels for the 0.7.0 release were uploaded to pypi (via GitHub actions).\r\n\r\nIt is currently not entirely clear why, this had worked seamlessly before for 0.6.1, we ought to investigate this.\r\n\r\nWe're looking into this, but @mloning and myself are a bit short on time this week due to `scipy` conf and day jobs, so any help with looking into this is appreciated.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1114", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1114/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1114/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1114/events", "html_url": "https://github.com/sktime/sktime/issues/1114", "id": 937327512, "node_id": "MDU6SXNzdWU5MzczMjc1MTI=", "number": 1114, "title": "[BUG] unexpected behaviour in Proximity Forest (unspecified)", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-07-05T19:40:39Z", "updated_at": "2022-01-08T16:22:32Z", "closed_at": "2022-01-08T16:19:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This is arising from #1026, TSC refactoring to the new `fit/_fit` model, which causes orchestration tests to break post-refactor, in `test_stat` in `test_orchestration.py`.\r\n\r\nThere is a `ProximityForest` used in the current orchestration test, which fails after the refactor. If it is switched out for basically any other time series classifier, the orchestration test passes. A medium-depth look at the tracebeek seems to suggest that it is some unexpected behaviour of `ProximityForest` rather than of the orchestration framework.\r\n\r\nTo reproduce the bug: clone #1026, but revert `test_orchestration.test_stat` to the pre-PR state.\r\nRun `test_orchestration.test_stat`.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1111", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1111/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1111/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1111/events", "html_url": "https://github.com/sktime/sktime/issues/1111", "id": 936644134, "node_id": "MDU6SXNzdWU5MzY2NDQxMzQ=", "number": 1111, "title": "[BUG] AutoARIMA, AutoETS, BATS, et al. can't be used in EnsembleForecaster", "user": {"login": "AngelPone", "id": 32930283, "node_id": "MDQ6VXNlcjMyOTMwMjgz", "avatar_url": "https://avatars.githubusercontent.com/u/32930283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AngelPone", "html_url": "https://github.com/AngelPone", "followers_url": "https://api.github.com/users/AngelPone/followers", "following_url": "https://api.github.com/users/AngelPone/following{/other_user}", "gists_url": "https://api.github.com/users/AngelPone/gists{/gist_id}", "starred_url": "https://api.github.com/users/AngelPone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AngelPone/subscriptions", "organizations_url": "https://api.github.com/users/AngelPone/orgs", "repos_url": "https://api.github.com/users/AngelPone/repos", "events_url": "https://api.github.com/users/AngelPone/events{/privacy}", "received_events_url": "https://api.github.com/users/AngelPone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-05T03:24:03Z", "updated_at": "2021-07-05T10:45:17Z", "closed_at": "2021-07-05T06:49:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI tried to use AutoARIMA and AutoETS in EnsembleForecaster, error raised\r\n\r\n```\r\nValueError: The estimator type should be a Forecaster.\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.forecasting.ets import AutoETS\r\nfrom sktime.forecasting.bats import BATS\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.compose import EnsembleForecaster\r\n\r\nensemble = EnsembleForecaster([(\"ARIMA\", AutoARIMA),\r\n                               (\"ETS\", AutoETS),\r\n                               (\"BATS\", BATS)])\r\ny = load_airline()\r\nensemble.fit(y)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThey can be used in EnsembleForecaster\r\n\r\n**Additional context**\r\n\r\n`EnsembleForecaster` checks the forecasters if are instance of `BaseForecaster` , but the models above inherit their adapters but not `BaseForecaster`, so the error raised\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1106", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1106/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1106/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1106/events", "html_url": "https://github.com/sktime/sktime/issues/1106", "id": 936455674, "node_id": "MDU6SXNzdWU5MzY0NTU2NzQ=", "number": 1106, "title": "error in _predict_in_sample of ARIMA models", "user": {"login": "AngelPone", "id": 32930283, "node_id": "MDQ6VXNlcjMyOTMwMjgz", "avatar_url": "https://avatars.githubusercontent.com/u/32930283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AngelPone", "html_url": "https://github.com/AngelPone", "followers_url": "https://api.github.com/users/AngelPone/followers", "following_url": "https://api.github.com/users/AngelPone/following{/other_user}", "gists_url": "https://api.github.com/users/AngelPone/gists{/gist_id}", "starred_url": "https://api.github.com/users/AngelPone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AngelPone/subscriptions", "organizations_url": "https://api.github.com/users/AngelPone/orgs", "repos_url": "https://api.github.com/users/AngelPone/repos", "events_url": "https://api.github.com/users/AngelPone/events{/privacy}", "received_events_url": "https://api.github.com/users/AngelPone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-04T13:15:17Z", "updated_at": "2021-07-08T04:54:57Z", "closed_at": "2021-07-08T04:54:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI try to get all in_sample forecasts of fitted models, but error raised.\r\n\r\n```python\r\nValueError: In-sample predictions undefined for start=0 when d=1\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.datasets import load_airline\r\n\r\ny = load_airline()\r\nmodel = AutoARIMA()\r\nmodel.fit(y)\r\nfh = ForecastingHorizon(y.index, is_relative=False)\r\nmodel.predict(fh=fh)\r\n```\r\n\r\n**Additional context**\r\n\r\nI checked out the source code, the error raised because `_pmdarima.py` use all absolute `fh`, e.g. `start=0, end=143` for the airplane series. But `ARIMA.predict_in_sample()` can't be `start=0` if there is difference `d`\r\n\r\n**Versions**\r\n\r\nsame as latest `main`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1104", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1104/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1104/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1104/events", "html_url": "https://github.com/sktime/sktime/issues/1104", "id": 936383508, "node_id": "MDU6SXNzdWU5MzYzODM1MDg=", "number": 1104, "title": "[BUG] load_UCR_UEA_dataset does not successfully import file", "user": {"login": "williamgilpin", "id": 8154246, "node_id": "MDQ6VXNlcjgxNTQyNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8154246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamgilpin", "html_url": "https://github.com/williamgilpin", "followers_url": "https://api.github.com/users/williamgilpin/followers", "following_url": "https://api.github.com/users/williamgilpin/following{/other_user}", "gists_url": "https://api.github.com/users/williamgilpin/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamgilpin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamgilpin/subscriptions", "organizations_url": "https://api.github.com/users/williamgilpin/orgs", "repos_url": "https://api.github.com/users/williamgilpin/repos", "events_url": "https://api.github.com/users/williamgilpin/events{/privacy}", "received_events_url": "https://api.github.com/users/williamgilpin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-04T05:47:26Z", "updated_at": "2021-07-04T06:13:14Z", "closed_at": "2021-07-04T06:13:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThank you very much for this amazing library! On my system, the `load_UCR_UEA_dataset` utility is unable to find the file after downloading it\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nX_train, y_train = sktime.datasets.load_UCR_UEA_dataset(\"AbnormalHeartbeat\", split=\"train\", return_X_y=True)\r\n```\r\n```\r\nFileNotFoundError: [Errno 2] No such file or directory: '/Users/williamgilpin/miniconda3/envs/dysts/lib/python3.8/site-packages/sktime/datasets/data/AbnormalHeartbeat/AbnormalHeartbeat_TRAIN.ts'\r\n```\r\n\r\n**Expected behavior**\r\nThis should import the data.\r\n\r\n**Additional context**\r\n\r\nThere appear to be two issues here. First, if the data has not been downloaded before, `sktime` downloads an `.arff` file. However, the data loader utility looks for a `.ts` file. I tried manually downloading the UCR archive in `.ts` format, and then passing the location via the `extract_path` kwarg, but the path joins do not appear to be working---for example, if I pass a directory named `resources`, sktime will look for the file in `resources/resources`. \r\n\r\nI very much recognize that this could be an issue with how I have things installed and how my Python path is set up---I did try a fresh virtual environment, but that didn't solve the issue for me. However, if others can't reproduce this bug, then it probably is a quirk on my system---in which case I apologize for any inconvenience. Thanks again for this amazing package.\r\n\r\n**Versions**\r\nsktime-0.6.1\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1080", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1080/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1080/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1080/events", "html_url": "https://github.com/sktime/sktime/issues/1080", "id": 933571510, "node_id": "MDU6SXNzdWU5MzM1NzE1MTA=", "number": 1080, "title": "[BUG] HampelFilter has side effects on arguments", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-06-30T11:01:38Z", "updated_at": "2021-07-01T10:50:00Z", "closed_at": "2021-07-01T10:50:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`HampelFilter` has side effects on its arguments - see #1078 and test logs.\r\n\r\nNo estimator should have side effects, so this needs fixing.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1080/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1079", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1079/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1079/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1079/events", "html_url": "https://github.com/sktime/sktime/issues/1079", "id": 933359370, "node_id": "MDU6SXNzdWU5MzMzNTkzNzA=", "number": 1079, "title": "[BUG] Prophet with logistic growth does not work", "user": {"login": "muzibai", "id": 49195511, "node_id": "MDQ6VXNlcjQ5MTk1NTEx", "avatar_url": "https://avatars.githubusercontent.com/u/49195511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzibai", "html_url": "https://github.com/muzibai", "followers_url": "https://api.github.com/users/muzibai/followers", "following_url": "https://api.github.com/users/muzibai/following{/other_user}", "gists_url": "https://api.github.com/users/muzibai/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzibai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzibai/subscriptions", "organizations_url": "https://api.github.com/users/muzibai/orgs", "repos_url": "https://api.github.com/users/muzibai/repos", "events_url": "https://api.github.com/users/muzibai/events{/privacy}", "received_events_url": "https://api.github.com/users/muzibai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-06-30T06:41:50Z", "updated_at": "2022-05-23T22:16:47Z", "closed_at": "2022-05-23T22:16:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIt is not compatible with the case that the growth parameter of prophet is equal to \u2018logistic\u2018\r\n\r\n**To Reproduce**\r\n```python\r\n\r\nfrom sktime.datasets import load_airline\r\ny = load_airline()\r\ny = y.to_timestamp(freq=\"M\")\r\ny_train, y_test = temporal_train_test_split(y, test_size=36)\r\n\r\ny_train_df = pd.DataFrame(y_train,index = y_train.index,columns=['y'])\r\ny_train_df[\"cap\"] = max(y_train_df[\"y\"])\r\ny_train_df['floor'] = 0\r\n\r\nforecaster = Prophet(\r\n    growth = 'logistic'\r\n)\r\n\r\nforecaster.fit(y_train_df)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\n-->\r\nThe growth parameter compatible with prophet is equal to \u2018logistic\u2018\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n -->\r\nfrom sktime import show_versions; show_versions()\r\n\r\nSystem:\r\n    python: 3.8.3 (default, Jul  2 2020, 11:26:31)  [Clang 10.0.0 ]\r\nexecutable: /Users/baixiaotiao/opt/anaconda3/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 20.1.1\r\n   setuptools: 49.2.0.post20200714\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.3\r\n        scipy: 1.5.0\r\n       Cython: 0.29.21\r\n       pandas: 1.2.5\r\n   matplotlib: 3.2.2\r\n       joblib: 0.16.0\r\n        numba: 0.50.1\r\n     pmdarima: 1.8.2\r\n      tsfresh: None\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1068", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1068/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1068/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1068/events", "html_url": "https://github.com/sktime/sktime/pull/1068", "id": 931014492, "node_id": "MDExOlB1bGxSZXF1ZXN0Njc4NTc3ODQ5", "number": 1068, "title": "Bugfix - forecasters should use internal interface _all_tags for self-inspection, not _has_tag", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1180366006, "node_id": "MDU6TGFiZWwxMTgwMzY2MDA2", "url": "https://api.github.com/repos/sktime/sktime/labels/implementing%20framework", "name": "implementing framework", "color": "61c7f9", "default": false, "description": "Implementing or improving framework for learning tasks, e.g., base class functionality"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-06-27T20:43:53Z", "updated_at": "2021-07-06T20:28:38Z", "closed_at": "2021-07-06T20:28:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/sktime/sktime/pulls/1068", "html_url": "https://github.com/sktime/sktime/pull/1068", "diff_url": "https://github.com/sktime/sktime/pull/1068.diff", "patch_url": "https://github.com/sktime/sktime/pull/1068.patch", "merged_at": "2021-07-06T20:28:37Z"}, "body": "Forecasters were, strangely, using the *external* interface point `_has_tags` to inspect their own tags, instead of the already existing internal interface point `_all_tags`.\r\n\r\nI believe this must be a mistake? Why should any class call an external function to inspect its own attributes?\r\n\r\nI have fixed this ins two places - the `_set_fh` in `BaseForecaster` and the `TransformedTargetForecaster`.\r\n\r\nFurthermore, is the \"key not found\" default in `TransformedTargetForecaster` for `\"skip-inverse-transform\"` correct? Should it be `True` not `False` perhaps?\r\n\r\nI believe this is also what must have been causing problems with #933?\r\n@thayeylolu, is this the same block of code that you removed to make it work?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1068/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1057", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1057/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1057/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1057/events", "html_url": "https://github.com/sktime/sktime/issues/1057", "id": 930323781, "node_id": "MDU6SXNzdWU5MzAzMjM3ODE=", "number": 1057, "title": "[BUG] Cross validation has no effect on KNeighborsTimeSeriesClassifier distance measure parameters", "user": {"login": "AidenRushbrooke", "id": 72034940, "node_id": "MDQ6VXNlcjcyMDM0OTQw", "avatar_url": "https://avatars.githubusercontent.com/u/72034940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AidenRushbrooke", "html_url": "https://github.com/AidenRushbrooke", "followers_url": "https://api.github.com/users/AidenRushbrooke/followers", "following_url": "https://api.github.com/users/AidenRushbrooke/following{/other_user}", "gists_url": "https://api.github.com/users/AidenRushbrooke/gists{/gist_id}", "starred_url": "https://api.github.com/users/AidenRushbrooke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AidenRushbrooke/subscriptions", "organizations_url": "https://api.github.com/users/AidenRushbrooke/orgs", "repos_url": "https://api.github.com/users/AidenRushbrooke/repos", "events_url": "https://api.github.com/users/AidenRushbrooke/events{/privacy}", "received_events_url": "https://api.github.com/users/AidenRushbrooke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-06-25T16:23:53Z", "updated_at": "2021-06-30T15:21:04Z", "closed_at": "2021-06-30T15:21:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nUsing scikit-learn cross validation functions on sktime's KNN classifier to set the distance measure hyperparameters always produces the same score.\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\nfrom sktime.datasets import load_basic_motions\r\n\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.model_selection import GridSearchCV\r\n\r\nimport pandas as pd\r\n\r\nX, y = load_basic_motions(return_X_y = True)\r\nx_train, x_test, y_train, y_test = train_test_split(X.iloc[:, [0]], y)\r\n\r\nparam_matrix = {\r\n                \"distance_params\": [{\"w\": x / 100} for x in range(0, 100)]\r\n            }\r\ngrid = GridSearchCV(\r\n                estimator=KNeighborsTimeSeriesClassifier(\r\n                    distance=\"dtw\", n_neighbors=1\r\n                ),\r\n                param_grid=param_matrix,\r\n                cv=10,\r\n                scoring=\"accuracy\",\r\n            )\r\n\r\ngrid.fit(x_train, y_train)\r\n\r\nprint(pd.DataFrame(grid.cv_results_))\r\n\r\n    mean_fit_time  std_fit_time  mean_score_time  std_score_time param_distance_params  ... split8_test_score  split9_test_score  mean_test_score  std_test_score  rank_test_score\r\n0        0.003862      0.000397         0.033888        0.001333            {'w': 0.0}  ...               1.0                1.0              1.0             0.0                1\r\n1        0.003609      0.000302         0.033037        0.000653           {'w': 0.01}  ...               1.0                1.0              1.0             0.0                1\r\n2        0.003663      0.000329         0.033945        0.002118           {'w': 0.02}  ...               1.0                1.0              1.0             0.0                1\r\n3        0.003961      0.000472         0.034648        0.001769           {'w': 0.03}  ...               1.0                1.0              1.0             0.0                1\r\n4        0.003810      0.000332         0.033339        0.000514           {'w': 0.04}  ...               1.0                1.0              1.0             0.0                1\r\n..            ...           ...              ...             ...                   ...  ...               ...                ...              ...             ...              ...\r\n95       0.003410      0.000301         0.033238        0.001309           {'w': 0.95}  ...               1.0                1.0              1.0             0.0                1\r\n96       0.003910      0.000375         0.033840        0.001541           {'w': 0.96}  ...               1.0                1.0              1.0             0.0                1\r\n97       0.003459      0.000270         0.032236        0.000451           {'w': 0.97}  ...               1.0                1.0              1.0             0.0                1\r\n98       0.003660      0.000230         0.032135        0.000351           {'w': 0.98}  ...               1.0                1.0              1.0             0.0                1\r\n99       0.003659      0.000230         0.032436        0.000898           {'w': 0.99}  ...               1.0                1.0              1.0             0.0                1\r\n\r\n[100 rows x 19 columns]\r\n```\r\n\r\n**Expected behavior**\r\n\r\nUsing different parameters should produce different scores.\r\n\r\n\r\n**Additional context**\r\n\r\nI've tested this bug using multiple different datasets and distance measures, and all produced the same issue. I believe this issue is caused by the use of both \"distance_params\" and \"metric_params\" to store the distance measure parameters. Only the value in metric_params is actually passed to the distance measures, but when using cross validation, this is never set as the constuctor is not called, but rather the inital classifier is cloned, so the default value is always used. \r\n\r\nThis could be fixed by removing \"distance_params\" entirely and replacing with \"metric_params\", which does lead to different scores for different hyperparameters, as shown in the results below.\r\n```python\r\n    mean_fit_time  std_fit_time  mean_score_time  std_score_time param_metric_params  ... split8_test_score  split9_test_score  mean_test_score  std_test_score  rank_test_score\r\n0        0.003861      0.000395         0.017496        0.000875          {'w': 0.0}  ...          0.333333           0.833333         0.600000        0.213437              100\r\n1        0.004018      0.000502         0.018389        0.000853         {'w': 0.01}  ...          1.000000           0.833333         0.933333        0.110554               99\r\n2        0.003804      0.000402         0.018915        0.000394         {'w': 0.02}  ...          1.000000           0.833333         0.950000        0.076376               98\r\n3        0.004018      0.000325         0.021227        0.003138         {'w': 0.03}  ...          1.000000           0.833333         0.966667        0.066667               97\r\n4        0.004812      0.001080         0.022917        0.002269         {'w': 0.04}  ...          1.000000           0.833333         0.983333        0.050000               94\r\n..            ...           ...              ...             ...                 ...  ...               ...                ...              ...             ...              ...\r\n95       0.003760      0.000336         0.033539        0.000612         {'w': 0.95}  ...          1.000000           1.000000         1.000000        0.000000                1\r\n96       0.003957      0.000815         0.035548        0.002654         {'w': 0.96}  ...          1.000000           1.000000         1.000000        0.000000                1\r\n97       0.003910      0.000301         0.033188        0.000201         {'w': 0.97}  ...          1.000000           1.000000         1.000000        0.000000                1\r\n98       0.003609      0.000201         0.033138        0.000351         {'w': 0.98}  ...          1.000000           1.000000         1.000000        0.000000                1\r\n99       0.003762      0.000248         0.033348        0.000860         {'w': 0.99}  ...          1.000000           1.000000         1.000000        0.000000                1\r\n\r\n[100 rows x 19 columns]\r\n```\r\n\r\nI am raising this as an issue as there may be better solutions whilst keeping the variable names clear.\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\nSystem:\r\n    python: 3.7.9 (tags/v3.7.9:13c94747c7, Aug 17 2020, 18:58:18) [MSC v.1900 64 bit (AMD64)]\r\nexecutable: C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.exe\r\n   machine: Windows-10-10.0.16299-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.3\r\n   setuptools: 56.2.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.3\r\n        scipy: 1.5.3\r\n       Cython: 0.29.14\r\n       pandas: 1.1.3\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.52.0rc3\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1028", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1028/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1028/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1028/events", "html_url": "https://github.com/sktime/sktime/issues/1028", "id": 928325601, "node_id": "MDU6SXNzdWU5MjgzMjU2MDE=", "number": 1028, "title": "[BUG] sporadic bug in time series forest? manylinux builds sporadically failing", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, {"login": "MatthewMiddlehurst", "id": 25731235, "node_id": "MDQ6VXNlcjI1NzMxMjM1", "avatar_url": "https://avatars.githubusercontent.com/u/25731235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewMiddlehurst", "html_url": "https://github.com/MatthewMiddlehurst", "followers_url": "https://api.github.com/users/MatthewMiddlehurst/followers", "following_url": "https://api.github.com/users/MatthewMiddlehurst/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewMiddlehurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewMiddlehurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewMiddlehurst/subscriptions", "organizations_url": "https://api.github.com/users/MatthewMiddlehurst/orgs", "repos_url": "https://api.github.com/users/MatthewMiddlehurst/repos", "events_url": "https://api.github.com/users/MatthewMiddlehurst/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewMiddlehurst/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-06-23T14:31:59Z", "updated_at": "2021-07-22T18:59:28Z", "closed_at": "2021-07-22T18:59:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The `manylinux` builds are sporadically failing with a `numpy` casting error (dimension 1 vs 2) in `SupervisedTimeSeriesForest`.\r\n\r\nI suspect this is a sporadic bug due to randomization and incomplete seed-setting in the classifier, e.g., a partition becomes size 1 or 0 or similar.\r\n\r\nI haven't made a screenshot of the error because the build restarted, but we should watch out for it appearing again.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1028/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/1014", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/1014/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/1014/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/1014/events", "html_url": "https://github.com/sktime/sktime/issues/1014", "id": 926649601, "node_id": "MDU6SXNzdWU5MjY2NDk2MDE=", "number": 1014, "title": "[bug?] PolynomialTrendForecaster should not raise error if X is passed", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163266, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY2", "url": "https://api.github.com/repos/sktime/sktime/labels/good%20first%20issue", "name": "good first issue", "color": "9eff91", "default": true, "description": "Good for newcomers"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-21T22:11:20Z", "updated_at": "2021-06-24T23:24:10Z", "closed_at": "2021-06-24T23:24:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, `PolynomialTrendForecaster` raises an error if exogeneous variables `X` are passed.\r\n\r\nThis is unnecessary - probably based on the assumption that \"all forecasters must do sth with `X`\".\r\n\r\nBut `X` can just be completely ignored, and it is fine. Throwing the error just introduces break potential whenever the trend forecaster is used.\r\n\r\nThe forecaster should be changed (in my opinion) by removing the error. The forecaster should accept `X` and simply ignore it when passed.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/1014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/1014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/963", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/963/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/963/events", "html_url": "https://github.com/sktime/sktime/issues/963", "id": 921292024, "node_id": "MDU6SXNzdWU5MjEyOTIwMjQ=", "number": 963, "title": "AttributeError: module 'sktime.utils' has no attribute 'data_processing' for version 0.6.1", "user": {"login": "orko19", "id": 28626773, "node_id": "MDQ6VXNlcjI4NjI2Nzcz", "avatar_url": "https://avatars.githubusercontent.com/u/28626773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orko19", "html_url": "https://github.com/orko19", "followers_url": "https://api.github.com/users/orko19/followers", "following_url": "https://api.github.com/users/orko19/following{/other_user}", "gists_url": "https://api.github.com/users/orko19/gists{/gist_id}", "starred_url": "https://api.github.com/users/orko19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orko19/subscriptions", "organizations_url": "https://api.github.com/users/orko19/orgs", "repos_url": "https://api.github.com/users/orko19/repos", "events_url": "https://api.github.com/users/orko19/events{/privacy}", "received_events_url": "https://api.github.com/users/orko19/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-15T11:23:26Z", "updated_at": "2021-10-16T22:59:39Z", "closed_at": "2021-10-16T22:59:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a sktime version 0.6.1 but I get the \r\n```\r\ndts = sktime.utils.data_processing.from_2d_array_to_nested(df)\r\nAttributeError: module 'sktime.utils' has no attribute 'data_processing'\r\n```\r\nfrom the API doc I see that it should work.\r\nAny idea?\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/963/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/946", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/946/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/946/events", "html_url": "https://github.com/sktime/sktime/issues/946", "id": 919442766, "node_id": "MDU6SXNzdWU5MTk0NDI3NjY=", "number": 946, "title": "[BUG] ModuleNotFoundError, no module named 'sktime.classification.kernel_based' ", "user": {"login": "tabhishek432", "id": 55629809, "node_id": "MDQ6VXNlcjU1NjI5ODA5", "avatar_url": "https://avatars.githubusercontent.com/u/55629809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tabhishek432", "html_url": "https://github.com/tabhishek432", "followers_url": "https://api.github.com/users/tabhishek432/followers", "following_url": "https://api.github.com/users/tabhishek432/following{/other_user}", "gists_url": "https://api.github.com/users/tabhishek432/gists{/gist_id}", "starred_url": "https://api.github.com/users/tabhishek432/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tabhishek432/subscriptions", "organizations_url": "https://api.github.com/users/tabhishek432/orgs", "repos_url": "https://api.github.com/users/tabhishek432/repos", "events_url": "https://api.github.com/users/tabhishek432/events{/privacy}", "received_events_url": "https://api.github.com/users/tabhishek432/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-12T05:16:51Z", "updated_at": "2022-12-06T09:45:22Z", "closed_at": "2021-07-06T16:34:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->There is an error while importing kernel_based classifiers, the error shown: ModuleNotFoundError: no module named 'sktime.classification.kernel_based' \r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n--> Wrote an example on my own\r\n\r\n```python\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sktime.classification.kernel_based import ROCKETClassifier\r\nfrom sktime.datasets import load_basic_motions\r\nX, y = load_basic_motions(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\nclf = ROCKETClassifier(\r\n\t\tnum_kernels=2000,\r\n        n_jobs=1,\r\n        random_state=42)\r\nclf.fit(X_train, y_train)\r\nclf.score(X_test, y_test)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->It should work\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->sktime: 0.6.1\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/943", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/943/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/943/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/943/events", "html_url": "https://github.com/sktime/sktime/issues/943", "id": 917898294, "node_id": "MDU6SXNzdWU5MTc4OTgyOTQ=", "number": 943, "title": "failed to run predict on a saved ResNetClassifier modle .hdf5 ", "user": {"login": "utkarshnyu", "id": 16886244, "node_id": "MDQ6VXNlcjE2ODg2MjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/16886244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshnyu", "html_url": "https://github.com/utkarshnyu", "followers_url": "https://api.github.com/users/utkarshnyu/followers", "following_url": "https://api.github.com/users/utkarshnyu/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshnyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshnyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshnyu/subscriptions", "organizations_url": "https://api.github.com/users/utkarshnyu/orgs", "repos_url": "https://api.github.com/users/utkarshnyu/repos", "events_url": "https://api.github.com/users/utkarshnyu/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshnyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-10T20:45:22Z", "updated_at": "2021-06-10T21:16:55Z", "closed_at": "2021-06-10T21:16:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n\r\n-->\r\n\r\nI trained a model ResNetClassifier and saved it as .hdf5 \r\nWhen i load the model using keras.models.load_model and run predict on the model i get:\r\nValueError: Failed to convert a NumPy array to a Tensor (Unsupported object type Series).\r\n\r\nI am basically running predict on X_test which was used to score the model \r\n\r\n**To Reproduce**\r\n<!--\r\n\r\n\r\n-->\r\n\r\n```python\r\npath = '/Users/utkarsh.gupta/Desktop/fresh_models/ResNet'\r\nnetwork = ResNetClassifier(nb_epochs=5, verbose=True, model_save_directory = path)\r\nnetwork.fit(X_train, y_train)\r\nnetwork.score(X_test, y_test)\r\n\r\nfrom keras.models import load_model\r\npath = '/Users/utkarsh.gupta/Desktop/fresh_models/ResNet/resnet.hdf5'\r\nmdl = load_model(path)\r\nmdl.predict(X_test)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n<img width=\"1100\" alt=\"Screen Shot 2021-06-10 at 1 47 07 PM\" src=\"https://user-images.githubusercontent.com/16886244/121594771-5cbb9d00-c9f2-11eb-96c2-bb5b5bf3b91f.png\">\r\n\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/939", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/939/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/939/events", "html_url": "https://github.com/sktime/sktime/issues/939", "id": 916562683, "node_id": "MDU6SXNzdWU5MTY1NjI2ODM=", "number": 939, "title": "[BUG]", "user": {"login": "Vaderv", "id": 11556903, "node_id": "MDQ6VXNlcjExNTU2OTAz", "avatar_url": "https://avatars.githubusercontent.com/u/11556903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vaderv", "html_url": "https://github.com/Vaderv", "followers_url": "https://api.github.com/users/Vaderv/followers", "following_url": "https://api.github.com/users/Vaderv/following{/other_user}", "gists_url": "https://api.github.com/users/Vaderv/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vaderv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vaderv/subscriptions", "organizations_url": "https://api.github.com/users/Vaderv/orgs", "repos_url": "https://api.github.com/users/Vaderv/repos", "events_url": "https://api.github.com/users/Vaderv/events{/privacy}", "received_events_url": "https://api.github.com/users/Vaderv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-06-09T18:55:47Z", "updated_at": "2021-06-20T21:08:01Z", "closed_at": "2021-06-20T21:08:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting Error when running example from document AutoArima library \r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nair_y = load_airline()\r\nforecaster = AutoARIMA(sp=12, d=0, max_p=2, max_q=2, suppress_warnings=True)\r\nforecaster.fit(air_y)\r\ny_pred = forecaster.predict(fh=[1,2,3])\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nair_y = load_airline()\r\nforecaster = AutoARIMA(sp=12, d=0, max_p=2, max_q=2, suppress_warnings=True)\r\nforecaster.fit(air_y)\r\nAutoARIMA(...)\r\ny_pred = forecaster.predict(fh=[1,2,3])\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nProvide forecasts \r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n0.6.1\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\nader\\anaconda3\\envs\\cln3\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.0\r\n        scipy: 1.5.0\r\n       Cython: 0.29.14\r\n       pandas: 1.2.1\r\n   matplotlib: 3.2.2\r\n       joblib: 1.0.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.6.1\r\n      tsfresh: None\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/939/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/938", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/938/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/938/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/938/events", "html_url": "https://github.com/sktime/sktime/issues/938", "id": 916546082, "node_id": "MDU6SXNzdWU5MTY1NDYwODI=", "number": 938, "title": " TypeError: predict() got an unexpected keyword argument 'X'", "user": {"login": "Vaderv", "id": 11556903, "node_id": "MDQ6VXNlcjExNTU2OTAz", "avatar_url": "https://avatars.githubusercontent.com/u/11556903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vaderv", "html_url": "https://github.com/Vaderv", "followers_url": "https://api.github.com/users/Vaderv/followers", "following_url": "https://api.github.com/users/Vaderv/following{/other_user}", "gists_url": "https://api.github.com/users/Vaderv/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vaderv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vaderv/subscriptions", "organizations_url": "https://api.github.com/users/Vaderv/orgs", "repos_url": "https://api.github.com/users/Vaderv/repos", "events_url": "https://api.github.com/users/Vaderv/events{/privacy}", "received_events_url": "https://api.github.com/users/Vaderv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-06-09T18:43:32Z", "updated_at": "2021-10-12T19:49:59Z", "closed_at": "2021-06-09T18:50:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using AutoArima example for load_air() data set \r\n<!--\r\nGetting Error: \r\nTypeError: predict() got an unexpected keyword argument 'X'\r\nwhen trying to .predict()\r\n-->\r\n\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nair_y = load_airline()\r\nforecaster = AutoARIMA(sp=12, d=0, max_p=2, max_q=2, suppress_warnings=True)\r\nforecaster.fit(air_y)\r\ny_pred = forecaster.predict(fh=[1,2,3])\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nair_y = load_airline()\r\nforecaster = AutoARIMA(sp=12, d=0, max_p=2, max_q=2, suppress_warnings=True)\r\nforecaster.fit(air_y)\r\ny_pred = forecaster.predict(fh=[1,2,3])\r\n```\r\n\r\ngive a forecast \r\n<!--\r\n-->\r\n\r\nTrying to run example from documents\r\n<!--\r\n-->\r\n\r\nVersion: 0.6.1\r\n<details>\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\nader\\anaconda3\\envs\\cln3\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.0\r\n        scipy: 1.5.0\r\n       Cython: 0.29.14\r\n       pandas: 1.2.1\r\n   matplotlib: 3.2.2\r\n       joblib: 1.0.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.6.1\r\n      tsfresh: None\r\n-->\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/918", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/918/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/918/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/918/events", "html_url": "https://github.com/sktime/sktime/issues/918", "id": 908083538, "node_id": "MDU6SXNzdWU5MDgwODM1Mzg=", "number": 918, "title": "[BUG] Naive model with last strategy is sensitive to trailing NaN values", "user": {"login": "Flix6x", "id": 30658763, "node_id": "MDQ6VXNlcjMwNjU4NzYz", "avatar_url": "https://avatars.githubusercontent.com/u/30658763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flix6x", "html_url": "https://github.com/Flix6x", "followers_url": "https://api.github.com/users/Flix6x/followers", "following_url": "https://api.github.com/users/Flix6x/following{/other_user}", "gists_url": "https://api.github.com/users/Flix6x/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flix6x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flix6x/subscriptions", "organizations_url": "https://api.github.com/users/Flix6x/orgs", "repos_url": "https://api.github.com/users/Flix6x/repos", "events_url": "https://api.github.com/users/Flix6x/events{/privacy}", "received_events_url": "https://api.github.com/users/Flix6x/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-01T09:13:11Z", "updated_at": "2021-09-09T18:54:55Z", "closed_at": "2021-09-09T18:54:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nThe naive model with \"last\" strategy really picks the last value, even if that's a NaN value. Can we make this more robust, similar to how the \"mean\" strategy actually does a `nanmean` under the hood? I could offer a PR to make it pick the last non-NaN value, taking into account the requested seasonal periodicity.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\ndata = pd.Series(\r\n    index=pd.date_range(\r\n        \"2021-06-01 00:00\", periods=12, freq=\"1h\", closed=\"left\"\r\n    ),\r\n    data=[1, 2, 3, 1, 2, 3, np.nan, 2, 3, 1, 2, 3]\r\n)\r\ntrain_data = data[:7]\r\ntest_data = data[7:]\r\n\r\nprint(train_data)\r\n# 2021-06-01 00:00:00    1.0\r\n# 2021-06-01 01:00:00    2.0\r\n# 2021-06-01 02:00:00    3.0\r\n# 2021-06-01 03:00:00    1.0\r\n# 2021-06-01 04:00:00    2.0\r\n# 2021-06-01 05:00:00    3.0\r\n# 2021-06-01 06:00:00    NaN\r\n# Freq: H, dtype: float64\r\n\r\nfh = ForecastingHorizon(test_data.index, is_relative=False)\r\nmodel = NaiveForecaster(strategy=\"last\", sp=3)\r\nmodel.fit(train_data)\r\nforecast_data = model.predict(fh)\r\n\r\nprint(forecast_data)\r\n# 2021-06-01 07:00:00    2.0\r\n# 2021-06-01 08:00:00    3.0\r\n# 2021-06-01 09:00:00    NaN  # Let's make this a 1\r\n# 2021-06-01 10:00:00    2.0\r\n# 2021-06-01 11:00:00    3.0\r\n# dtype: float64\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/918/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/918/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/916", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/916/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/916/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/916/events", "html_url": "https://github.com/sktime/sktime/issues/916", "id": 907840907, "node_id": "MDU6SXNzdWU5MDc4NDA5MDc=", "number": 916, "title": "[BUG] error_score not working in ForecastingGridSearchCV ", "user": {"login": "asernat", "id": 7769122, "node_id": "MDQ6VXNlcjc3NjkxMjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7769122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asernat", "html_url": "https://github.com/asernat", "followers_url": "https://api.github.com/users/asernat/followers", "following_url": "https://api.github.com/users/asernat/following{/other_user}", "gists_url": "https://api.github.com/users/asernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/asernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asernat/subscriptions", "organizations_url": "https://api.github.com/users/asernat/orgs", "repos_url": "https://api.github.com/users/asernat/repos", "events_url": "https://api.github.com/users/asernat/events{/privacy}", "received_events_url": "https://api.github.com/users/asernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-01T03:46:17Z", "updated_at": "2022-03-08T10:11:47Z", "closed_at": "2022-03-08T10:11:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nerror_score not working in ForecastingGridSearchCV \r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/913", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/913/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/913/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/913/events", "html_url": "https://github.com/sktime/sktime/issues/913", "id": 906822488, "node_id": "MDU6SXNzdWU5MDY4MjI0ODg=", "number": 913, "title": "Installation fails because of missing include for limits.h", "user": {"login": "tombh", "id": 160835, "node_id": "MDQ6VXNlcjE2MDgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/160835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tombh", "html_url": "https://github.com/tombh", "followers_url": "https://api.github.com/users/tombh/followers", "following_url": "https://api.github.com/users/tombh/following{/other_user}", "gists_url": "https://api.github.com/users/tombh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tombh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tombh/subscriptions", "organizations_url": "https://api.github.com/users/tombh/orgs", "repos_url": "https://api.github.com/users/tombh/repos", "events_url": "https://api.github.com/users/tombh/events{/privacy}", "received_events_url": "https://api.github.com/users/tombh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-30T17:16:32Z", "updated_at": "2021-06-01T17:54:13Z", "closed_at": "2021-06-01T17:54:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen installing with `pip install sktime`, I get:\r\n```\r\n   sktime/classification/shapelet_based/mrseql/SNode.cpp:89:39: error: \u2018numeric_limits\u2019 is not a member of \u2018std\u2019\r\n       89 |             totalWildcardLimit = std::numeric_limits<int>::max();\r\n          |                                       ^~~~~~~~~~~~~~\r\n    sktime/classification/shapelet_based/mrseql/SNode.cpp:89:54: error: expected primary-expression before \u2018int\u2019\r\n       89 |             totalWildcardLimit = std::numeric_limits<int>::max();\r\n          |                                                      ^~~\r\n\r\n```\r\n\r\n**To Reproduce**\r\nI have a standard, up to date, Arch Linux system\r\n\r\n**Additional context**\r\nThis fixes the problem:\r\n`CPLUS_INCLUDE_PATH=/usr/lib/gcc/x86_64-pc-linux-gnu/11.1.0/include-fixed/limits.h pip install sktime`\r\n\r\n**Versions**\r\npython: 3.9.5\r\ngcc: 11.1.0\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/913/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/910", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/910/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/910/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/910/events", "html_url": "https://github.com/sktime/sktime/issues/910", "id": 906557380, "node_id": "MDU6SXNzdWU5MDY1NTczODA=", "number": 910, "title": "[BUG] Prophet adapter fails to clone after setting parameters", "user": {"login": "Yard1", "id": 10364161, "node_id": "MDQ6VXNlcjEwMzY0MTYx", "avatar_url": "https://avatars.githubusercontent.com/u/10364161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yard1", "html_url": "https://github.com/Yard1", "followers_url": "https://api.github.com/users/Yard1/followers", "following_url": "https://api.github.com/users/Yard1/following{/other_user}", "gists_url": "https://api.github.com/users/Yard1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yard1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yard1/subscriptions", "organizations_url": "https://api.github.com/users/Yard1/orgs", "repos_url": "https://api.github.com/users/Yard1/repos", "events_url": "https://api.github.com/users/Yard1/events{/privacy}", "received_events_url": "https://api.github.com/users/Yard1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-29T20:52:36Z", "updated_at": "2021-06-07T07:40:19Z", "closed_at": "2021-06-07T07:40:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\nUsing sklearn's `clone` on `Prophet` after either `seasonality_prior_scale`, `changepoint_prior_scale` or `holidays_prior_scale` were set with a non-float value through `set_params` will raise a `RuntimeError` during cloning. This is due to the `float` conversion happening in `__init__`, which is against what sklearn expects during cloning - it expects that all of the values passed as arguments to `__init__` will not be modified in any way when being set as object attributes.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.forecasting.fbprophet import Prophet\r\nfrom sklearn.base import clone\r\nmodel = Prophet()\r\nmodel.set_params(changepoint_prior_scale=1)\r\nclone(model)\r\n```\r\n\r\nThis will raise a sklearn `RuntimeError`.\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\nNo exception is raised.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n```\r\nSystem:\r\n    python: 3.8.5 (default, Sep  4 2020, 07:30:14)  [GCC 7.3.0]\r\nexecutable: /home/baum/anaconda3/bin/python\r\n   machine: Linux-5.11.0-7614-generic-x86_64-with-glibc2.10\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 50.3.1.post20201107\r\n      sklearn: 0.23.2\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.1\r\n        scipy: 1.6.1\r\n       Cython: 0.29.17\r\n       pandas: 1.2.3\r\n   matplotlib: 3.4.1\r\n       joblib: 1.0.1\r\n        numba: 0.51.2\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n```\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/907", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/907/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/907/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/907/events", "html_url": "https://github.com/sktime/sktime/issues/907", "id": 903908156, "node_id": "MDU6SXNzdWU5MDM5MDgxNTY=", "number": 907, "title": "[BUG] Seasonal periodicity seems to work incorrectly (at least for naive forecasts with mean strategy)", "user": {"login": "Flix6x", "id": 30658763, "node_id": "MDQ6VXNlcjMwNjU4NzYz", "avatar_url": "https://avatars.githubusercontent.com/u/30658763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flix6x", "html_url": "https://github.com/Flix6x", "followers_url": "https://api.github.com/users/Flix6x/followers", "following_url": "https://api.github.com/users/Flix6x/following{/other_user}", "gists_url": "https://api.github.com/users/Flix6x/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flix6x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flix6x/subscriptions", "organizations_url": "https://api.github.com/users/Flix6x/orgs", "repos_url": "https://api.github.com/users/Flix6x/repos", "events_url": "https://api.github.com/users/Flix6x/events{/privacy}", "received_events_url": "https://api.github.com/users/Flix6x/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-27T15:24:16Z", "updated_at": "2021-07-09T16:01:32Z", "closed_at": "2021-07-09T16:01:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nThe interpretation of seasonal periodicity seems to be off by a number of steps in some cases, resulting in shifted forecasts.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\n\r\n# given 4 hours of data with a seasonal periodicity of 3 hours\r\nsp = 3\r\ntrain_period = pd.date_range(\"2021-06-01 00:00\", \"2021-06-1 04:00\", freq=\"1h\", closed=\"left\")\r\ntrain_data = pd.Series(\r\n    index=train_period,\r\n    data=(list(range(1, sp + 1))*len(train_period))[:len(train_period)],\r\n)\r\nprint(train_data)\r\n\r\n# 2021-06-01 00:00:00    1\r\n# 2021-06-01 01:00:00    2\r\n# 2021-06-01 02:00:00    3\r\n# 2021-06-01 03:00:00    1\r\n# Freq: H, dtype: int64\r\n\r\n# let's forecast the next 5 hours with a periodicity of 3 hours\r\ntest_period = pd.date_range(\"2021-06-01 04:00\", \"2021-06-1 09:00\", freq=\"1h\", closed=\"left\")\r\nfh = ForecastingHorizon(test_period, is_relative=False)\r\nmodel = NaiveForecaster(strategy=\"mean\", sp=sp)\r\nmodel.fit(train_data)\r\ntest_data = model.predict(fh)\r\nprint(test_data)\r\n\r\n# 2021-06-01 04:00:00    1.0\r\n# 2021-06-01 05:00:00    2.0\r\n# 2021-06-01 06:00:00    3.0\r\n# 2021-06-01 07:00:00    1.0\r\n# 2021-06-01 08:00:00    2.0\r\n# dtype: float64\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n```python\r\n# the result I expected is\r\n\r\n# 2021-06-01 04:00:00    2.0  # (value of 3 hours earlier)\r\n# 2021-06-01 05:00:00    3.0  # (value of 3 hours earlier)\r\n# 2021-06-01 06:00:00    1.0  # (mean value of 3 and 6 hours earlier)\r\n# 2021-06-01 07:00:00    2.0  # (value of 6 hours earlier)\r\n# 2021-06-01 08:00:00    3.0  # (value of 6 hours earlier)\r\n# dtype: float64\r\n```\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nIn the above, `sp=3` gives forecasts shifted by 1 step. Changing `sp=3` to `sp=1`, `sp=2` or `sp=4` all yield results as expected. With a training dataset of 5 hours and a seasonality of 3 hours, the forecasts are shifted by 2 steps. It this somehow caused by the training set not being divisible by the periodicity?\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.6 (default, Jan 27 2021, 15:42:20)  [GCC 10.2.0]\r\nexecutable: /home/felix/PycharmProjects/sktime/venv/bin/python\r\n   machine: Linux-5.11.0-7614-generic-x86_64-with-glibc2.32\r\n\r\nPython dependencies:\r\n          pip: 21.1.2\r\n   setuptools: 57.0.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.3\r\n        scipy: 1.6.3\r\n       Cython: 0.29.23\r\n       pandas: 1.2.4\r\n   matplotlib: None\r\n       joblib: 1.0.1\r\n        numba: 0.53.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/907/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/903", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/903/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/903/events", "html_url": "https://github.com/sktime/sktime/issues/903", "id": 901758441, "node_id": "MDU6SXNzdWU5MDE3NTg0NDE=", "number": 903, "title": "[BUG]", "user": {"login": "prasadovhal", "id": 31876352, "node_id": "MDQ6VXNlcjMxODc2MzUy", "avatar_url": "https://avatars.githubusercontent.com/u/31876352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prasadovhal", "html_url": "https://github.com/prasadovhal", "followers_url": "https://api.github.com/users/prasadovhal/followers", "following_url": "https://api.github.com/users/prasadovhal/following{/other_user}", "gists_url": "https://api.github.com/users/prasadovhal/gists{/gist_id}", "starred_url": "https://api.github.com/users/prasadovhal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prasadovhal/subscriptions", "organizations_url": "https://api.github.com/users/prasadovhal/orgs", "repos_url": "https://api.github.com/users/prasadovhal/repos", "events_url": "https://api.github.com/users/prasadovhal/events{/privacy}", "received_events_url": "https://api.github.com/users/prasadovhal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-26T04:46:53Z", "updated_at": "2021-06-20T21:09:47Z", "closed_at": "2021-06-20T21:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "** TypeError: predict() got an unexpected keyword argument 'X'**\r\n<!-- \r\n\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.performance_metrics.forecasting import mean_absolute_percentage_error\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y, test_size=36)\r\n\r\nforecaster = AutoARIMA(sp=12, suppress_warnings=True)\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\nmean_absolute_percentage_error(y_pred, y_test)\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n--> I followed tutorials given in documentation and followed exact steps mentioned, documentation shows code running fine but I got error mentioned above\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/895", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/895/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/895/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/895/events", "html_url": "https://github.com/sktime/sktime/issues/895", "id": 897690294, "node_id": "MDU6SXNzdWU4OTc2OTAyOTQ=", "number": 895, "title": "[BUG] HIVE-COTE having issue with RISE implementation", "user": {"login": "gulstein86", "id": 21325864, "node_id": "MDQ6VXNlcjIxMzI1ODY0", "avatar_url": "https://avatars.githubusercontent.com/u/21325864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gulstein86", "html_url": "https://github.com/gulstein86", "followers_url": "https://api.github.com/users/gulstein86/followers", "following_url": "https://api.github.com/users/gulstein86/following{/other_user}", "gists_url": "https://api.github.com/users/gulstein86/gists{/gist_id}", "starred_url": "https://api.github.com/users/gulstein86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gulstein86/subscriptions", "organizations_url": "https://api.github.com/users/gulstein86/orgs", "repos_url": "https://api.github.com/users/gulstein86/repos", "events_url": "https://api.github.com/users/gulstein86/events{/privacy}", "received_events_url": "https://api.github.com/users/gulstein86/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-05-21T05:27:19Z", "updated_at": "2021-06-09T08:58:59Z", "closed_at": "2021-06-09T08:58:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nThis is my first time writing an issue in github for other project. I've been trying to run HIVE-COTE with stable sktime from the pypi. So far the model running fine start with STC and TSF however it have a problem with RISE. Already change multiple parameter in `rise_params={'min_interval':1}` but still having the same issue. The data loaded directly from the package itself `from sktime.datasets import load_italy_power_demand`. Trying to google in github, stackoverflow but nothing help. \r\n\r\nSo far running and fit the package individually works well.\r\n\r\n```python\r\nfrom sktime.classification.shapelet_based import ShapeletTransformClassifier\r\nfrom sktime.classification.interval_based._tsf import TimeSeriesForestClassifier\r\nfrom sktime.classification.interval_based import RandomIntervalSpectralForest\r\nfrom sktime.classification.dictionary_based import ContractableBOSS\r\n```\r\n\r\nI believe @TonyBagnall @MatthewMiddlehurst are currently busy with other things (tsml etc). So no worry, on the timeline.\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\nRunning below code after `pip install sktime`\r\n```python\r\nfrom sktime.classification.hybrid import HIVECOTEV1\r\nfrom sktime.datasets import load_italy_power_demand\r\nfrom sklearn.pipeline import Pipeline\r\nfrom sktime.transformations.panel.compose import ColumnConcatenator\r\n\r\nIPD_X_train, IPD_y_train = load_italy_power_demand(split=\"train\", return_X_y=True)\r\n\r\n#univariate\r\nhivecote = HIVECOTEV1(verbose=1, n_jobs=1, rise_params={'min_interval':1}, stc_params={'time_contract_in_mins':1},cboss_params={'time_limit':1} )\r\nhivecote.fit(IPD_X_train, IPD_y_train)\r\n```\r\nIt show below log with `ValueError: Input contains NaN, infinity or a value too large for dtype('float32')` error\r\n```log\r\nSTC  04:35:01 21/05/2021\r\nSTC train estimate  04:45:26 21/05/2021\r\nSTC weight = 0.8325698605055272\r\nTSF  04:45:26 21/05/2021\r\nTSF train estimate  04:45:31 21/05/2021\r\nTSF weight = 0.7332761289061784\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py:352: RuntimeWarning: invalid value encountered in double_scalars\r\n  s1 = s1 / (length - lag)\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py:353: RuntimeWarning: invalid value encountered in double_scalars\r\n  s2 = s2 / (length - lag)\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py:355: RuntimeWarning: invalid value encountered in double_scalars\r\n  y[lag - 1] = y[lag - 1] / (length - lag)\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py:356: RuntimeWarning: invalid value encountered in double_scalars\r\n  v1 = ss1 / (length - lag) - s1 * s1\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py:357: RuntimeWarning: invalid value encountered in double_scalars\r\n  v2 = ss2 / (length - lag) - s2 * s2\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-6-84d7db33a99a> in <module>()\r\n      1 #univariate\r\n      2 hivecote = HIVECOTEV1(verbose=1, n_jobs=1, rise_params={'min_interval':1}, stc_params={'time_contract_in_mins':1},cboss_params={'time_limit':1} )\r\n----> 3 hivecote.fit(IPD_X_train, IPD_y_train)\r\n\r\n15 frames\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/hybrid/_hivecote_v1.py in fit(self, X, y)\r\n    182             n_jobs=self.n_jobs,\r\n    183         )\r\n--> 184         self.rise.fit(X, y)\r\n    185 \r\n    186         if self.verbose > 0:\r\n\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py in fit(self, X, y)\r\n    240                 self.acf_min_values,\r\n    241             )\r\n--> 242             for i, tree in enumerate(trees)\r\n    243         )\r\n    244 \r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/parallel.py in __call__(self, iterable)\r\n   1042                 self._iterating = self._original_iterator is not None\r\n   1043 \r\n-> 1044             while self.dispatch_one_batch(iterator):\r\n   1045                 pass\r\n   1046 \r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/parallel.py in dispatch_one_batch(self, iterator)\r\n    857                 return False\r\n    858             else:\r\n--> 859                 self._dispatch(tasks)\r\n    860                 return True\r\n    861 \r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/parallel.py in _dispatch(self, batch)\r\n    775         with self._lock:\r\n    776             job_idx = len(self._jobs)\r\n--> 777             job = self._backend.apply_async(batch, callback=cb)\r\n    778             # A job can complete so quickly than its callback is\r\n    779             # called before we get here, causing self._jobs to\r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/_parallel_backends.py in apply_async(self, func, callback)\r\n    206     def apply_async(self, func, callback=None):\r\n    207         \"\"\"Schedule a func to be run\"\"\"\r\n--> 208         result = ImmediateResult(func)\r\n    209         if callback:\r\n    210             callback(result)\r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/_parallel_backends.py in __init__(self, batch)\r\n    570         # Don't delay the application, to avoid keeping the input\r\n    571         # arguments in memory\r\n--> 572         self.results = batch()\r\n    573 \r\n    574     def get(self):\r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/parallel.py in __call__(self)\r\n    261         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    262             return [func(*args, **kwargs)\r\n--> 263                     for func, args, kwargs in self.items]\r\n    264 \r\n    265     def __reduce__(self):\r\n\r\n/usr/local/lib/python3.7/dist-packages/joblib/parallel.py in <listcomp>(.0)\r\n    261         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    262             return [func(*args, **kwargs)\r\n--> 263                     for func, args, kwargs in self.items]\r\n    264 \r\n    265     def __reduce__(self):\r\n\r\n/usr/local/lib/python3.7/dist-packages/sktime/classification/interval_based/_rise.py in _parallel_build_trees(X, y, tree, interval, lag, acf_min_values)\r\n     52     transformed_x = _transform(X, interval, temp_lag)\r\n     53 \r\n---> 54     tree.fit(transformed_x, y)\r\n     55 \r\n     56     return temp_lag, tree\r\n\r\n/usr/local/lib/python3.7/dist-packages/sklearn/tree/_classes.py in fit(self, X, y, sample_weight, check_input, X_idx_sorted)\r\n    905             sample_weight=sample_weight,\r\n    906             check_input=check_input,\r\n--> 907             X_idx_sorted=X_idx_sorted)\r\n    908         return self\r\n    909 \r\n\r\n/usr/local/lib/python3.7/dist-packages/sklearn/tree/_classes.py in fit(self, X, y, sample_weight, check_input, X_idx_sorted)\r\n    157             X, y = self._validate_data(X, y,\r\n    158                                        validate_separately=(check_X_params,\r\n--> 159                                                             check_y_params))\r\n    160             if issparse(X):\r\n    161                 X.sort_indices()\r\n\r\n/usr/local/lib/python3.7/dist-packages/sklearn/base.py in _validate_data(self, X, y, reset, validate_separately, **check_params)\r\n    428                 # :(\r\n    429                 check_X_params, check_y_params = validate_separately\r\n--> 430                 X = check_array(X, **check_X_params)\r\n    431                 y = check_array(y, **check_y_params)\r\n    432             else:\r\n\r\n/usr/local/lib/python3.7/dist-packages/sklearn/utils/validation.py in inner_f(*args, **kwargs)\r\n     61             extra_args = len(args) - len(all_args)\r\n     62             if extra_args <= 0:\r\n---> 63                 return f(*args, **kwargs)\r\n     64 \r\n     65             # extra_args > 0\r\n\r\n/usr/local/lib/python3.7/dist-packages/sklearn/utils/validation.py in check_array(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, estimator)\r\n    719         if force_all_finite:\r\n    720             _assert_all_finite(array,\r\n--> 721                                allow_nan=force_all_finite == 'allow-nan')\r\n    722 \r\n    723     if ensure_min_samples > 0:\r\n\r\n/usr/local/lib/python3.7/dist-packages/sklearn/utils/validation.py in _assert_all_finite(X, allow_nan, msg_dtype)\r\n    104                     msg_err.format\r\n    105                     (type_err,\r\n--> 106                      msg_dtype if msg_dtype is not None else X.dtype)\r\n    107             )\r\n    108     # for object dtype data, we only check for NaNs (GH-13254)\r\n\r\nValueError: Input contains NaN, infinity or a value too large for dtype('float32').\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nRISE and cBOSS will running afterwards without error. Then the CAWPE should be able to be calculated and fit into the model\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nI'm using this [google colab ](https://colab.research.google.com/drive/15omM5umHYWSQJoEp7hf3wAL0aBLNQdSv?usp=sharing) with below cpu power\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n```from sktime import show_versions; show_versions()\r\nSystem:\r\n    python: 3.7.10 (default, May  3 2021, 02:48:31)  [GCC 7.5.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-5.4.109+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 19.3.1\r\n   setuptools: 56.1.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.1\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.4.1\r\n       Cython: 0.29.23\r\n       pandas: 1.1.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.0.1\r\n        numba: 0.51.2\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n```shell\r\n!cat /proc/cpuinfo\r\nprocessor\t: 0\r\nvendor_id\t: GenuineIntel\r\ncpu family\t: 6\r\nmodel\t\t: 63\r\nmodel name\t: Intel(R) Xeon(R) CPU @ 2.30GHz\r\nstepping\t: 0\r\nmicrocode\t: 0x1\r\ncpu MHz\t\t: 2299.998\r\ncache size\t: 46080 KB\r\nphysical id\t: 0\r\nsiblings\t: 2\r\ncore id\t\t: 0\r\ncpu cores\t: 1\r\napicid\t\t: 0\r\ninitial apicid\t: 0\r\nfpu\t\t: yes\r\nfpu_exception\t: yes\r\ncpuid level\t: 13\r\nwp\t\t: yes\r\nflags\t\t: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm abm invpcid_single ssbd ibrs ibpb stibp fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt arat md_clear arch_capabilities\r\nbugs\t\t: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs\r\nbogomips\t: 4599.99\r\nclflush size\t: 64\r\ncache_alignment\t: 64\r\naddress sizes\t: 46 bits physical, 48 bits virtual\r\npower management:\r\n\r\nprocessor\t: 1\r\nvendor_id\t: GenuineIntel\r\ncpu family\t: 6\r\nmodel\t\t: 63\r\nmodel name\t: Intel(R) Xeon(R) CPU @ 2.30GHz\r\nstepping\t: 0\r\nmicrocode\t: 0x1\r\ncpu MHz\t\t: 2299.998\r\ncache size\t: 46080 KB\r\nphysical id\t: 0\r\nsiblings\t: 2\r\ncore id\t\t: 0\r\ncpu cores\t: 1\r\napicid\t\t: 1\r\ninitial apicid\t: 1\r\nfpu\t\t: yes\r\nfpu_exception\t: yes\r\ncpuid level\t: 13\r\nwp\t\t: yes\r\nflags\t\t: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm abm invpcid_single ssbd ibrs ibpb stibp fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt arat md_clear arch_capabilities\r\nbugs\t\t: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs\r\nbogomips\t: 4599.99\r\nclflush size\t: 64\r\ncache_alignment\t: 64\r\naddress sizes\t: 46 bits physical, 48 bits virtual\r\npower management:\r\n\r\n```\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/895/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/895/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/869", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/869/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/869/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/869/events", "html_url": "https://github.com/sktime/sktime/issues/869", "id": 891433577, "node_id": "MDU6SXNzdWU4OTE0MzM1Nzc=", "number": 869, "title": "[BUG] can't import performance metrics", "user": {"login": "eyalshafran", "id": 16999574, "node_id": "MDQ6VXNlcjE2OTk5NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/16999574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eyalshafran", "html_url": "https://github.com/eyalshafran", "followers_url": "https://api.github.com/users/eyalshafran/followers", "following_url": "https://api.github.com/users/eyalshafran/following{/other_user}", "gists_url": "https://api.github.com/users/eyalshafran/gists{/gist_id}", "starred_url": "https://api.github.com/users/eyalshafran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eyalshafran/subscriptions", "organizations_url": "https://api.github.com/users/eyalshafran/orgs", "repos_url": "https://api.github.com/users/eyalshafran/repos", "events_url": "https://api.github.com/users/eyalshafran/events{/privacy}", "received_events_url": "https://api.github.com/users/eyalshafran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-13T22:27:51Z", "updated_at": "2021-05-14T08:41:44Z", "closed_at": "2021-05-14T08:41:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "sktime 0.6.0\r\n\r\nfor example:\r\n`from sktime.performance_metrics.forecasting import MeanAbsolutePercentageError`\r\n\r\ngives the following error:\r\n\r\nImportError: cannot import name 'MeanAbsolutePercentageError' from 'sktime.performance_metrics.forecasting' (/opt/anaconda3/lib/python3.8/site-packages/sktime/performance_metrics/forecasting/__init__.py)", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/869/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/868", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/868/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/868/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/868/events", "html_url": "https://github.com/sktime/sktime/issues/868", "id": 891409419, "node_id": "MDU6SXNzdWU4OTE0MDk0MTk=", "number": 868, "title": "[BUG] KeyError when forecasting using non-unit frequencies", "user": {"login": "ckastner", "id": 15859947, "node_id": "MDQ6VXNlcjE1ODU5OTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/15859947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ckastner", "html_url": "https://github.com/ckastner", "followers_url": "https://api.github.com/users/ckastner/followers", "following_url": "https://api.github.com/users/ckastner/following{/other_user}", "gists_url": "https://api.github.com/users/ckastner/gists{/gist_id}", "starred_url": "https://api.github.com/users/ckastner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ckastner/subscriptions", "organizations_url": "https://api.github.com/users/ckastner/orgs", "repos_url": "https://api.github.com/users/ckastner/repos", "events_url": "https://api.github.com/users/ckastner/events{/privacy}", "received_events_url": "https://api.github.com/users/ckastner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-13T21:47:46Z", "updated_at": "2021-05-17T18:32:43Z", "closed_at": "2021-05-17T18:32:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI happen to have a time series with a frequency of 30 minutes. Attempting to use this during forecasting triggers a `KeyError` in pandas.\r\n\r\nThis is because the datetime module assumes that the frequency is always 1 of some unit, ie `(1, freq)`:\r\n\r\nhttps://github.com/alan-turing-institute/sktime/blob/4be4866ac50f0c6ce422716d529e95bfbf25411d/sktime/utils/datetime.py#L41-L44\r\n\r\nHowever, the frequency in my case in `30T`, which is called as `pd.Timedelta(1, \"30T\")`, which triggers the `KeyError`. Instead, The expected call is `pd.Timedelta(30, \"T\")`.\r\n\r\nThe `freqstr` returned by pandas seems to be parsed into a compact one-letter representation. At least, when I manually specified a frequency of `30mins`, reading the frequency returned `30T`. If this is generally true, then a `freqstr` of length > 1 implies that `freqstr[:-1]` hold the number of actual units.\r\n\r\nHowever, a cleaner solution might be to fix this in `_get_freq`:\r\nhttps://github.com/alan-turing-institute/sktime/blob/4be4866ac50f0c6ce422716d529e95bfbf25411d/sktime/utils/datetime.py#L53-L58\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.ets import AutoETS\r\n\r\ns = pd.Series(\r\n    np.random.rand(100),\r\n    index=pd.date_range('20130101 09:00:00', freq='30T', periods=100)\r\n)\r\n\r\ny_train = s[:80]\r\ny_test = s[80:]\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\nforecaster = AutoETS(auto=True, sp=5, n_jobs=-1)\r\nforecaster.fit(y_train)\r\n\r\n# KeyError\r\ny_pred = forecaster.predict(fh)\r\n```\r\n\r\n**Versions**\r\n\r\n```\r\nSystem:\r\n    python: 3.7.3 (default, Jan 22 2021, 20:04:44)  [GCC 8.3.0]\r\nexecutable: /home/christian/TUWien/Energy-efficient Distributed Systems/venv/bin/python3\r\n   machine: Linux-5.10.0-0.bpo.5-amd64-x86_64-with-debian-10.9\r\n\r\nPython dependencies:\r\n          pip: 18.1\r\n   setuptools: 40.8.0\r\n      sklearn: 0.24.2\r\n       sktime: 0.6.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.6.3\r\n       Cython: 0.29.23\r\n       pandas: 1.2.4\r\n   matplotlib: 3.4.2\r\n       joblib: 1.0.1\r\n        numba: None\r\n     pmdarima: 1.8.2\r\n      tsfresh: None\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/868/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/866", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/866/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/866/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/866/events", "html_url": "https://github.com/sktime/sktime/issues/866", "id": 884864518, "node_id": "MDU6SXNzdWU4ODQ4NjQ1MTg=", "number": 866, "title": "ExponentialSmoothing results in error for a series with w-sun freq", "user": {"login": "eyalshafran", "id": 16999574, "node_id": "MDQ6VXNlcjE2OTk5NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/16999574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eyalshafran", "html_url": "https://github.com/eyalshafran", "followers_url": "https://api.github.com/users/eyalshafran/followers", "following_url": "https://api.github.com/users/eyalshafran/following{/other_user}", "gists_url": "https://api.github.com/users/eyalshafran/gists{/gist_id}", "starred_url": "https://api.github.com/users/eyalshafran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eyalshafran/subscriptions", "organizations_url": "https://api.github.com/users/eyalshafran/orgs", "repos_url": "https://api.github.com/users/eyalshafran/repos", "events_url": "https://api.github.com/users/eyalshafran/events{/privacy}", "received_events_url": "https://api.github.com/users/eyalshafran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-10T18:49:13Z", "updated_at": "2022-02-23T22:40:15Z", "closed_at": "2022-02-23T22:40:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using sktime 0.6.0\r\n\r\nIf I use the following code:\r\n\r\n```\r\nforecaster = ExponentialSmoothing()\r\ndate = pd.date_range(start='01/07/2018',end='05/09/2021',freq='W')\r\nvalue = np.random.normal(size=175)\r\nts = pd.Series(value, index=date)\r\nforecaster.fit(ts)\r\nforecaster.predict(fh=np.arange(1,10))\r\n```\r\n\r\nI get the error below. If I replace the forecaster with something else (e.g. NaiveForecaster) I do not get an error.\r\n\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\npandas/_libs/tslibs/timedeltas.pyx in pandas._libs.tslibs.timedeltas.parse_timedelta_unit()\r\n\r\nKeyError: 'w-sun'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n/opt/anaconda3/lib/python3.8/site-packages/sktime/utils/datetime.py in _coerce_duration_to_int(duration, freq)\r\n     43             if isinstance(duration, pd.TimedeltaIndex):\r\n---> 44                 return (duration / pd.Timedelta(1, freq)).astype(np.int)\r\n     45         except ValueError:\r\n\r\npandas/_libs/tslibs/timedeltas.pyx in pandas._libs.tslibs.timedeltas.Timedelta.__new__()\r\n\r\npandas/_libs/tslibs/timedeltas.pyx in pandas._libs.tslibs.timedeltas.parse_timedelta_unit()\r\n\r\nValueError: invalid unit abbreviation: W-SUN\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-594-c72ddc4c380b> in <module>\r\n      4 ts = pd.Series(value,index=date)\r\n      5 forecaster.fit(ts)\r\n----> 6 forecaster.predict(fh=np.arange(1,10))\r\n\r\n/opt/anaconda3/lib/python3.8/site-packages/sktime/forecasting/base/_sktime.py in predict(self, fh, X, return_pred_int, alpha)\r\n    226         self.check_is_fitted()\r\n    227         self._set_fh(fh)\r\n--> 228         return self._predict(self.fh, X, return_pred_int=return_pred_int, alpha=alpha)\r\n    229 \r\n    230     def compute_pred_int(self, y_pred, alpha=DEFAULT_ALPHA):\r\n\r\n/opt/anaconda3/lib/python3.8/site-packages/sktime/forecasting/base/adapters/_statsmodels.py in _predict(self, fh, X, return_pred_int, alpha)\r\n     78         # statsmodels requires zero-based indexing starting at the\r\n     79         # beginning of the training series when passing integers\r\n---> 80         start, end = fh.to_absolute_int(self._y.index[0], self.cutoff)[[0, -1]]\r\n     81         y_pred = self._fitted_forecaster.predict(start, end)\r\n     82 \r\n\r\n/opt/anaconda3/lib/python3.8/site-packages/sktime/forecasting/base/_fh.py in to_absolute_int(self, start, cutoff)\r\n    322 \r\n    323         if isinstance(absolute, (pd.PeriodIndex, pd.DatetimeIndex)):\r\n--> 324             integers = _coerce_duration_to_int(integers, freq=_get_freq(cutoff))\r\n    325 \r\n    326         return self._new(integers, is_relative=False)\r\n\r\n/opt/anaconda3/lib/python3.8/site-packages/sktime/utils/datetime.py in _coerce_duration_to_int(duration, freq)\r\n     44                 return (duration / pd.Timedelta(1, freq)).astype(np.int)\r\n     45         except ValueError:\r\n---> 46             raise ValueError(\r\n     47                 \"Index type not supported. Please consider using pd.PeriodIndex.\"\r\n     48             )\r\n\r\nValueError: Index type not supported. Please consider using pd.PeriodIndex.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/865", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/865/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/865/events", "html_url": "https://github.com/sktime/sktime/issues/865", "id": 881851028, "node_id": "MDU6SXNzdWU4ODE4NTEwMjg=", "number": 865, "title": "[BUG] cannot import name 'mean_absolute_percentage_error' from 'sktime.performance_metrics.forecasting'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-09T06:04:21Z", "updated_at": "2021-05-09T08:13:57Z", "closed_at": "2021-05-09T08:13:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n> cannot import name 'mean_absolute_percentage_error' from 'sktime.performance_metrics.forecasting' (/home/doe/miniconda3/envs/sktime_env/lib/python3.7/site-packages/sktime/performance_metrics/forecasting/__init__.py)\r\n\r\n**To Reproduce**\r\n```\r\nfrom sktime.performance_metrics.forecasting import mean_absolute_percentage_error\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nsktime: 0.6.0\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/862", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/862/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/862/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/862/events", "html_url": "https://github.com/sktime/sktime/issues/862", "id": 877200041, "node_id": "MDU6SXNzdWU4NzcyMDAwNDE=", "number": 862, "title": "[BUG] ImportError: cannot import name 'MeanAbsolutePercentageError'", "user": {"login": "jiryang", "id": 8348014, "node_id": "MDQ6VXNlcjgzNDgwMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8348014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiryang", "html_url": "https://github.com/jiryang", "followers_url": "https://api.github.com/users/jiryang/followers", "following_url": "https://api.github.com/users/jiryang/following{/other_user}", "gists_url": "https://api.github.com/users/jiryang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiryang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiryang/subscriptions", "organizations_url": "https://api.github.com/users/jiryang/orgs", "repos_url": "https://api.github.com/users/jiryang/repos", "events_url": "https://api.github.com/users/jiryang/events{/privacy}", "received_events_url": "https://api.github.com/users/jiryang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-05-06T08:00:45Z", "updated_at": "2022-04-26T22:03:57Z", "closed_at": "2022-04-26T22:03:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\n\r\nFollowing your forecasting tutorial (https://github.com/alan-turing-institute/sktime/blob/main/examples/01_forecasting.ipynb) gives me the import error. Could you please help?\r\n\r\nPython: 3.6.9\r\nsktime: 0.6.0", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/862/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/860", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/860/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/860/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/860/events", "html_url": "https://github.com/sktime/sktime/issues/860", "id": 876742263, "node_id": "MDU6SXNzdWU4NzY3NDIyNjM=", "number": 860, "title": "[BUG] Unable to install pmdarima via Conda", "user": {"login": "ParthivNaresh", "id": 29577911, "node_id": "MDQ6VXNlcjI5NTc3OTEx", "avatar_url": "https://avatars.githubusercontent.com/u/29577911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ParthivNaresh", "html_url": "https://github.com/ParthivNaresh", "followers_url": "https://api.github.com/users/ParthivNaresh/followers", "following_url": "https://api.github.com/users/ParthivNaresh/following{/other_user}", "gists_url": "https://api.github.com/users/ParthivNaresh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ParthivNaresh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ParthivNaresh/subscriptions", "organizations_url": "https://api.github.com/users/ParthivNaresh/orgs", "repos_url": "https://api.github.com/users/ParthivNaresh/repos", "events_url": "https://api.github.com/users/ParthivNaresh/events{/privacy}", "received_events_url": "https://api.github.com/users/ParthivNaresh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-05-05T18:52:40Z", "updated_at": "2021-05-14T22:13:57Z", "closed_at": "2021-05-14T22:13:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAs `pmdarima` is a soft dependency, and is necessary for `AutoARIMA`, I am currently trying to install `pmdarima` via the conda route alongside `sktime`. Unfortunately, I'm unable to install `pmdarima` AND `sktime` via conda channels for a feedstock as it results in package conflicts.\r\n\r\n**To Reproduce**\r\n`conda install pmdarima`\r\n`conda install sktime`\r\n\r\nEssentially trying to install both `pmdarima` and `sktime` via conda results in conflicts.\r\n\r\n**Expected behavior**\r\nThere shouldn't be any conflicts or the appropriate packages should be installed/upgraded/downgraded.\r\n\r\n**Versions**\r\n`numpy >= 1.19.1`\r\n`pandas >= 1.1.0`\r\n`scikit-learn >= 0.23.1`\r\n\r\nSystem:\r\npython: 3.8.0 | packaged by conda-forge | (default, Nov 22 2019, 19:11:19)  [Clang 9.0.0 (tags/RELEASE_900/final)]\r\nexecutable: /Users/parthiv.naresh/miniconda3/envs/main/bin/python\r\nmachine: macOS-10.15.7-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\npip: 21.1.1\r\nsetuptools: 49.6.0.post20210108\r\nsklearn: 0.24.2\r\nsktime: 0.6.0\r\nstatsmodels: 0.12.2\r\nnumpy: 1.19.5\r\nscipy: 1.6.3\r\nCython: 0.29.17\r\npandas: 1.2.4\r\nmatplotlib: 3.4.1\r\njoblib: 1.0.1\r\nnumba: 0.52.0\r\npmdarima: 1.8.0\r\ntsfresh: None", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/860/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/826", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/826/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/826/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/826/events", "html_url": "https://github.com/sktime/sktime/issues/826", "id": 860933583, "node_id": "MDU6SXNzdWU4NjA5MzM1ODM=", "number": 826, "title": "[BUG] Custom scorer gives you an error when fitting a ForecastingGridSearchCV object ", "user": {"login": "angelmoti24", "id": 30987036, "node_id": "MDQ6VXNlcjMwOTg3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/30987036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angelmoti24", "html_url": "https://github.com/angelmoti24", "followers_url": "https://api.github.com/users/angelmoti24/followers", "following_url": "https://api.github.com/users/angelmoti24/following{/other_user}", "gists_url": "https://api.github.com/users/angelmoti24/gists{/gist_id}", "starred_url": "https://api.github.com/users/angelmoti24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angelmoti24/subscriptions", "organizations_url": "https://api.github.com/users/angelmoti24/orgs", "repos_url": "https://api.github.com/users/angelmoti24/repos", "events_url": "https://api.github.com/users/angelmoti24/events{/privacy}", "received_events_url": "https://api.github.com/users/angelmoti24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-04-19T06:07:49Z", "updated_at": "2021-04-20T08:12:24Z", "closed_at": "2021-04-19T14:37:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nWhen running a ForecastingGridSearchCV with exogenous variables with a scoring created with MetricFunctionWrapper, gives you an error.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.performance_metrics.forecasting import mase_loss,sMAPE\r\nfrom sktime.performance_metrics.forecasting._classes import MetricFunctionWrapper\r\nmetric = MetricFunctionWrapper(sMAPE)\r\ncv = SlidingWindowSplitter(initial_window=int(len(yt) * 0.5))\r\ngscv = ForecastingGridSearchCV(forecaster, cv=cv, param_grid=regressor_param_grid,scoring=metric)\r\ngscv.fit(y=yt,X=xt)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThe forecaster should be scored with the custom metric but instead it gives you an error.\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->The error that gives you is the following:\r\nTypeError: __init__() takes 1 positional argument but 3 were given\r\n\r\n**Versions**\r\n0.6.0\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\nSystem:\r\n    python: 3.8.2 (default, Dec 21 2020, 15:06:04)  [Clang 12.0.0 (clang-1200.0.32.29)]\r\nexecutable: /Library/Developer/CommandLineTools/usr/bin/python3\r\n   machine: macOS-11.2.3-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 41.2.0\r\n      sklearn: 0.24.1\r\n       sktime: 0.6.0\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.6.1\r\n       Cython: 0.29.17\r\n       pandas: 1.2.3\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.53.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/809", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/809/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/809/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/809/events", "html_url": "https://github.com/sktime/sktime/issues/809", "id": 857630183, "node_id": "MDU6SXNzdWU4NTc2MzAxODM=", "number": 809, "title": "[BUG] problematic language statistics shown in the homepage", "user": {"login": "xuyxu", "id": 22359569, "node_id": "MDQ6VXNlcjIyMzU5NTY5", "avatar_url": "https://avatars.githubusercontent.com/u/22359569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuyxu", "html_url": "https://github.com/xuyxu", "followers_url": "https://api.github.com/users/xuyxu/followers", "following_url": "https://api.github.com/users/xuyxu/following{/other_user}", "gists_url": "https://api.github.com/users/xuyxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuyxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuyxu/subscriptions", "organizations_url": "https://api.github.com/users/xuyxu/orgs", "repos_url": "https://api.github.com/users/xuyxu/repos", "events_url": "https://api.github.com/users/xuyxu/events{/privacy}", "received_events_url": "https://api.github.com/users/xuyxu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-14T07:57:11Z", "updated_at": "2021-04-14T13:17:25Z", "closed_at": "2021-04-14T13:17:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I have noticed that `.ts` files in the folder `datasets` are tracked by Github Linguist, which is not the case in the past.\r\n\r\nAs a result, the language statistics shown in the homepage are somehow mis-leading. Maybe we should add `jquery.js -linguist-vendored` as a new line in `.gitattributes`, according to this [markdown file](https://github.com/github/linguist/blob/master/docs/overrides.md#vendored-code).", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/809/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/809/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/807", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/807/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/807/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/807/events", "html_url": "https://github.com/sktime/sktime/issues/807", "id": 857029776, "node_id": "MDU6SXNzdWU4NTcwMjk3NzY=", "number": 807, "title": "[BUG] binder notebook environment build breaks over scikit-posthocs unable to load pyqt5 in setup.py", "user": {"login": "fkiraly", "id": 7985502, "node_id": "MDQ6VXNlcjc5ODU1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7985502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fkiraly", "html_url": "https://github.com/fkiraly", "followers_url": "https://api.github.com/users/fkiraly/followers", "following_url": "https://api.github.com/users/fkiraly/following{/other_user}", "gists_url": "https://api.github.com/users/fkiraly/gists{/gist_id}", "starred_url": "https://api.github.com/users/fkiraly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fkiraly/subscriptions", "organizations_url": "https://api.github.com/users/fkiraly/orgs", "repos_url": "https://api.github.com/users/fkiraly/repos", "events_url": "https://api.github.com/users/fkiraly/events{/privacy}", "received_events_url": "https://api.github.com/users/fkiraly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-13T14:39:03Z", "updated_at": "2021-08-12T08:34:37Z", "closed_at": "2021-08-12T08:34:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen running the sktime binder, the environment setup breaks over scikit-posthocs unable to load pyqt5 in setup.py.\r\nThis is reproducible using multiple browsers and computers (all running Windows).\r\n\r\nHave not investigated what causes the issue, but it\u00b4s possibly an incomplete requirements file somewhere in the dependency graph.\r\n\r\nSee printout here.\r\n\r\n![image](https://user-images.githubusercontent.com/7985502/114570341-a8a9ca00-9c6d-11eb-88bc-c417a2e6e027.png)\r\n\r\n![image](https://user-images.githubusercontent.com/7985502/114570453-beb78a80-9c6d-11eb-96f4-c0c057da1ea3.png)\r\n\r\n\r\n**To Reproduce**\r\n\r\n1. Go to sktime binder\r\n2. watch the \"starting prompt\"\r\n\r\n**Expected behavior**\r\n\r\nno error occurs, binder loads as expected\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/805", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/805/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/805/events", "html_url": "https://github.com/sktime/sktime/issues/805", "id": 856333823, "node_id": "MDU6SXNzdWU4NTYzMzM4MjM=", "number": 805, "title": "[BUG] _PmdArimaAdapter setting the wrong relative forecasts for frequency 10T", "user": {"login": "ParthivNaresh", "id": 29577911, "node_id": "MDQ6VXNlcjI5NTc3OTEx", "avatar_url": "https://avatars.githubusercontent.com/u/29577911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ParthivNaresh", "html_url": "https://github.com/ParthivNaresh", "followers_url": "https://api.github.com/users/ParthivNaresh/followers", "following_url": "https://api.github.com/users/ParthivNaresh/following{/other_user}", "gists_url": "https://api.github.com/users/ParthivNaresh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ParthivNaresh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ParthivNaresh/subscriptions", "organizations_url": "https://api.github.com/users/ParthivNaresh/orgs", "repos_url": "https://api.github.com/users/ParthivNaresh/repos", "events_url": "https://api.github.com/users/ParthivNaresh/events{/privacy}", "received_events_url": "https://api.github.com/users/ParthivNaresh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-04-12T20:26:17Z", "updated_at": "2022-02-09T14:27:42Z", "closed_at": "2022-02-09T14:27:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently while using a dataset that has a datetime index with a frequency of 10T (separated by 10 minutes), the ForecastingHorizon is setting the relative values to increments of 100. This leads to `n_periods` being set as 100 times the actual length `X.shape[0]` of the exogenous variable used in `predict`. This causes a `ValueError` to be raised by the Arima package `X array dims (n_rows) != n_periods`.\r\n\r\nTo reproduce:\r\n1. Download the dataset `energy_data.csv` from [here](https://archive.ics.uci.edu/ml/machine-learning-databases/00374/).\r\n2. Set the index as `date`.\r\n3. Separate X and y.\r\n4. Set `dates` as the index of `X` convert as a `datetime`.\r\n5. Convert `dates` to PeriodIndex with the appropriate frequency.\r\n6. Initialize `ForecastingHorizon`, followed by fitting and predicting with `AutoArima`.\r\n\r\n```\r\ndata = pd.read_csv(\"../energydata_complete.csv\")\r\ndata = data[:200]\r\ndata.set_index(\"date\", drop=True, inplace=True)\r\nX = data.copy()\r\ny = X.pop(\"Appliances\")\r\n\r\ndates = pd.to_datetime(X.index)\r\nfreq = pd.infer_freq(dates)\r\ndates = dates.to_period(freq=freq)\r\n\r\nX.index = dates\r\ny.index = dates\r\n\r\nfh_ = ForecastingHorizon(y.index[150:200], is_relative=False)\r\n\r\na_clf = sktime_arima.AutoARIMA(start_p=2, start_q=2, max_p=5, max_q=5)\r\nclf = a_clf.fit(X=X[:150], y=y[:150])\r\ny_pred_sk = clf.predict(fh=fh_, X=X[150:200])\r\n```\r\n\r\nThe expectation is that `n_periods = int(fh.to_relative(self.cutoff)[-1])` would set `n_periods` to 50 as there are 50 increments of datetime instances separated by 10 minutes being passed to `predict`. However `fh.to_relative(self.cutoff)` ends up producing this:\r\n\r\n`Int64Index([ 100,  200,  300,  400,  500,  600,  700,  800,  900, 1000, 1100,\r\n            1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200,\r\n            2300, 2400, 2500, 2600, 2700, 2800, 2900, 3000, 3100, 3200, 3300,\r\n            3400, 3500, 3600, 3700, 3800, 3900, 4000, 4100, 4200, 4300, 4400,\r\n            4500, 4600, 4700, 4800, 4900, 5000],\r\n           dtype='int64')`\r\n\r\nThis however is the `ForecastingHorizon` that is used to product that relative index with a cutoff of `2016-01-12 17:50`:\r\n\r\n`ForecastingHorizon(['2016-01-12 18:00', '2016-01-12 18:10', '2016-01-12 18:20',\r\n             '2016-01-12 18:30', '2016-01-12 18:40', '2016-01-12 18:50',\r\n             '2016-01-12 19:00', '2016-01-12 19:10', '2016-01-12 19:20',\r\n             '2016-01-12 19:30', '2016-01-12 19:40', '2016-01-12 19:50',\r\n             '2016-01-12 20:00', '2016-01-12 20:10', '2016-01-12 20:20',\r\n             '2016-01-12 20:30', '2016-01-12 20:40', '2016-01-12 20:50',\r\n             '2016-01-12 21:00', '2016-01-12 21:10', '2016-01-12 21:20',\r\n             '2016-01-12 21:30', '2016-01-12 21:40', '2016-01-12 21:50',\r\n             '2016-01-12 22:00', '2016-01-12 22:10', '2016-01-12 22:20',\r\n             '2016-01-12 22:30', '2016-01-12 22:40', '2016-01-12 22:50',\r\n             '2016-01-12 23:00', '2016-01-12 23:10', '2016-01-12 23:20',\r\n             '2016-01-12 23:30', '2016-01-12 23:40', '2016-01-12 23:50',\r\n             '2016-01-13 00:00', '2016-01-13 00:10', '2016-01-13 00:20',\r\n             '2016-01-13 00:30', '2016-01-13 00:40', '2016-01-13 00:50',\r\n             '2016-01-13 01:00', '2016-01-13 01:10', '2016-01-13 01:20',\r\n             '2016-01-13 01:30', '2016-01-13 01:40', '2016-01-13 01:50',\r\n             '2016-01-13 02:00', '2016-01-13 02:10'],\r\n            dtype='period[10T]', name='date', freq='10T', is_relative=False)`\r\n\r\nVersions\r\n- Python (3.8.0)\r\n- Sktime (0.5.3)\r\n- pmdarima (1.8.0)\r\n\r\nSystem:\r\n    python: 3.8.0 | packaged by conda-forge | (default, Nov 22 2019, 19:11:19)  [Clang 9.0.0 (tags/RELEASE_900/final)]\r\nexecutable: /Users/parthiv.naresh/miniconda3/envs/initial_env/bin/python\r\n   machine: macOS-10.15.7-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n```\r\npip: 21.0.1\r\nsetuptools: 49.6.0.post20201009\r\nsklearn: 0.24.0\r\nsktime: 0.5.3\r\nstatsmodels: 0.12.2\r\nnumpy: 1.19.5\r\nscipy: 1.5.3\r\nCython: 0.29.17\r\npandas: 1.1.5\r\nmatplotlib: 3.3.3\r\njoblib: 1.0.0\r\nnumba: 0.52.0\r\npmdarima: 1.8.0\r\ntsfresh: None\r\n```", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/790", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/790/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/790/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/790/events", "html_url": "https://github.com/sktime/sktime/issues/790", "id": 853662605, "node_id": "MDU6SXNzdWU4NTM2NjI2MDU=", "number": 790, "title": "[BUG] Forecasting notebook in examples is buggy", "user": {"login": "Lovkush-A", "id": 25344832, "node_id": "MDQ6VXNlcjI1MzQ0ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/25344832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lovkush-A", "html_url": "https://github.com/Lovkush-A", "followers_url": "https://api.github.com/users/Lovkush-A/followers", "following_url": "https://api.github.com/users/Lovkush-A/following{/other_user}", "gists_url": "https://api.github.com/users/Lovkush-A/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lovkush-A/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lovkush-A/subscriptions", "organizations_url": "https://api.github.com/users/Lovkush-A/orgs", "repos_url": "https://api.github.com/users/Lovkush-A/repos", "events_url": "https://api.github.com/users/Lovkush-A/events{/privacy}", "received_events_url": "https://api.github.com/users/Lovkush-A/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1631667223, "node_id": "MDU6TGFiZWwxNjMxNjY3MjIz", "url": "https://api.github.com/repos/sktime/sktime/labels/maintenance", "name": "maintenance", "color": "ea761e", "default": false, "description": "Continuous integration, unit testing & package distribution"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-08T16:49:43Z", "updated_at": "2021-04-09T16:58:14Z", "closed_at": "2021-04-09T16:58:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "* Needs to be updated with latest changes from #757, e.g. changing of `scitype`s\r\n* Adjustment of `window_length`s in gridsearch, as they are currently too small. I think it is as simple as replacing `initial_window` with `window_length` in SlidingWindowSplitter.\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\n**To Reproduce**\r\nTry running the forecasting notebook for yourself\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/789", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/789/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/789/events", "html_url": "https://github.com/sktime/sktime/issues/789", "id": 853481561, "node_id": "MDU6SXNzdWU4NTM0ODE1NjE=", "number": 789, "title": "[BUG] ImportError: cannot import name 'ReducedRegressionForecaster' from 'sktime.forecasting.compose'", "user": {"login": "krinkere", "id": 1323717, "node_id": "MDQ6VXNlcjEzMjM3MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1323717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krinkere", "html_url": "https://github.com/krinkere", "followers_url": "https://api.github.com/users/krinkere/followers", "following_url": "https://api.github.com/users/krinkere/following{/other_user}", "gists_url": "https://api.github.com/users/krinkere/gists{/gist_id}", "starred_url": "https://api.github.com/users/krinkere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krinkere/subscriptions", "organizations_url": "https://api.github.com/users/krinkere/orgs", "repos_url": "https://api.github.com/users/krinkere/repos", "events_url": "https://api.github.com/users/krinkere/events{/privacy}", "received_events_url": "https://api.github.com/users/krinkere/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-08T13:35:41Z", "updated_at": "2021-04-08T14:02:40Z", "closed_at": "2021-04-08T14:01:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFollowing example from https://github.com/alan-turing-institute/sktime/blob/v0.5.3/examples/01_forecasting.ipynb\r\n\r\nGetting this error\r\n```python\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-1-64cd8edf30ed> in <module>\r\n      7 from sktime.forecasting.arima import ARIMA, AutoARIMA\r\n      8 from sktime.forecasting.base import ForecastingHorizon\r\n----> 9 from sktime.forecasting.compose import (\r\n     10     EnsembleForecaster,\r\n     11     ReducedRegressionForecaster,\r\n\r\nImportError: cannot import name 'ReducedRegressionForecaster' from 'sktime.forecasting.compose' (/data/work_envs/Forecasting22/lib/python3.7/site-packages/sktime/forecasting/compose/__init__.py)\r\n```\r\n\r\n```python\r\n#!/usr/bin/env python3 -u\r\n# -*- coding: utf-8 -*-\r\n# copyright: sktime developers, BSD-3-Clause License (see LICENSE file)\r\n\r\n__author__ = [\"Markus L\u00f6ning\"]\r\n\r\n__all__ = [\r\n    \"EnsembleForecaster\",\r\n    \"TransformedTargetForecaster\",\r\n    \"DirectRegressionForecaster\",\r\n    \"DirectTimeSeriesRegressionForecaster\",\r\n    \"RecursiveRegressionForecaster\",\r\n    \"RecursiveTimeSeriesRegressionForecaster\",\r\n    \"ReducedForecaster\",\r\n    \"StackingForecaster\",\r\n]\r\n\r\nfrom sktime.forecasting.compose._ensemble import EnsembleForecaster\r\nfrom sktime.forecasting.compose._pipeline import TransformedTargetForecaster\r\nfrom sktime.forecasting.compose._reduce import DirectRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import DirectTimeSeriesRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import RecursiveRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import RecursiveTimeSeriesRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import ReducedForecaster\r\nfrom sktime.forecasting.compose._stack import StackingForecaster\r\n```\r\n\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.10 (default, Feb 26 2021, 18:47:35)  [GCC 7.3.0]\r\nexecutable: /bin/python\r\n   machine: Linux-3.10.0-1160.15.2.el7.x86_64-x86_64-with-redhat-7.9-Maipo\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.1\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.2\r\n        scipy: 1.6.2\r\n       Cython: 0.29.17\r\n       pandas: 1.2.3\r\n   matplotlib: 3.4.1\r\n       joblib: 1.0.1\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/786", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/786/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/786/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/786/events", "html_url": "https://github.com/sktime/sktime/issues/786", "id": 853013838, "node_id": "MDU6SXNzdWU4NTMwMTM4Mzg=", "number": 786, "title": "[BUG] cannot import name 'MultiplexForecaster' from 'sktime.forecasting.compose'", "user": {"login": "krinkere", "id": 1323717, "node_id": "MDQ6VXNlcjEzMjM3MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1323717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krinkere", "html_url": "https://github.com/krinkere", "followers_url": "https://api.github.com/users/krinkere/followers", "following_url": "https://api.github.com/users/krinkere/following{/other_user}", "gists_url": "https://api.github.com/users/krinkere/gists{/gist_id}", "starred_url": "https://api.github.com/users/krinkere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krinkere/subscriptions", "organizations_url": "https://api.github.com/users/krinkere/orgs", "repos_url": "https://api.github.com/users/krinkere/repos", "events_url": "https://api.github.com/users/krinkere/events{/privacy}", "received_events_url": "https://api.github.com/users/krinkere/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-08T03:10:21Z", "updated_at": "2021-04-08T09:04:10Z", "closed_at": "2021-04-08T09:04:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhile trying to run example notebook that uses MultiplexForecaster given an error message that it is not present in forecasting/compose/__init__.py\r\n\r\n**To Reproduce**\r\nInstall via pip (pip install sktime) or conda (conda install -c conda-forge sktime)\r\nRun imports from example notebooks\r\nhttps://github.com/alan-turing-institute/sktime/blob/main/examples/01_forecasting.ipynb\r\n\r\nGiven error\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-1-8864e845d085> in <module>\r\n      7 from sktime.forecasting.arima import ARIMA, AutoARIMA\r\n      8 from sktime.forecasting.base import ForecastingHorizon\r\n----> 9 from sktime.forecasting.compose import (\r\n     10     EnsembleForecaster,\r\n     11     MultiplexForecaster,\r\n\r\nImportError: cannot import name 'MultiplexForecaster' from 'sktime.forecasting.compose' (/lib/python3.7/site-packages/sktime/forecasting/compose/__init__.py)\r\n\r\n\r\nContents of the file\r\n```python\r\n#!/usr/bin/env python3 -u\r\n# -*- coding: utf-8 -*-\r\n# copyright: sktime developers, BSD-3-Clause License (see LICENSE file)\r\n\r\n__author__ = [\"Markus L\u00f6ning\"]\r\n\r\n__all__ = [\r\n    \"EnsembleForecaster\",\r\n    \"TransformedTargetForecaster\",\r\n    \"DirectRegressionForecaster\",\r\n    \"DirectTimeSeriesRegressionForecaster\",\r\n    \"RecursiveRegressionForecaster\",\r\n    \"RecursiveTimeSeriesRegressionForecaster\",\r\n    \"ReducedForecaster\",\r\n    \"StackingForecaster\",\r\n]\r\n\r\nfrom sktime.forecasting.compose._ensemble import EnsembleForecaster\r\nfrom sktime.forecasting.compose._pipeline import TransformedTargetForecaster\r\nfrom sktime.forecasting.compose._reduce import DirectRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import DirectTimeSeriesRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import RecursiveRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import RecursiveTimeSeriesRegressionForecaster\r\nfrom sktime.forecasting.compose._reduce import ReducedForecaster\r\nfrom sktime.forecasting.compose._stack import StackingForecaster\r\n```\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.10 (default, Feb 26 2021, 18:47:35)  [GCC 7.3.0]\r\nexecutable: /bin/python\r\n   machine: Linux-3.10.0-1160.15.2.el7.x86_64-x86_64-with-redhat-7.9-Maipo\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.24.1\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.2\r\n        scipy: 1.6.2\r\n       Cython: 0.29.17\r\n       pandas: 1.2.3\r\n   matplotlib: None\r\n       joblib: 1.0.1\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/764", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/764/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/764/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/764/events", "html_url": "https://github.com/sktime/sktime/issues/764", "id": 845722899, "node_id": "MDU6SXNzdWU4NDU3MjI4OTk=", "number": 764, "title": "[BUG] expected dtype object, got 'numpy.dtype[float32]' when running minirocket notebook", "user": {"login": "turmeric-blend", "id": 62788745, "node_id": "MDQ6VXNlcjYyNzg4NzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/62788745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/turmeric-blend", "html_url": "https://github.com/turmeric-blend", "followers_url": "https://api.github.com/users/turmeric-blend/followers", "following_url": "https://api.github.com/users/turmeric-blend/following{/other_user}", "gists_url": "https://api.github.com/users/turmeric-blend/gists{/gist_id}", "starred_url": "https://api.github.com/users/turmeric-blend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/turmeric-blend/subscriptions", "organizations_url": "https://api.github.com/users/turmeric-blend/orgs", "repos_url": "https://api.github.com/users/turmeric-blend/repos", "events_url": "https://api.github.com/users/turmeric-blend/events{/privacy}", "received_events_url": "https://api.github.com/users/turmeric-blend/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-31T02:58:50Z", "updated_at": "2022-03-16T08:45:45Z", "closed_at": "2021-03-31T08:58:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm running this [notebook](https://github.com/alan-turing-institute/sktime/blob/main/examples/minirocket.ipynb) and ran into this error \r\n\r\n> expected dtype object, got 'numpy.dtype[float32]'\r\n\r\nat `minirocket.fit(X_train)`\r\n\r\n**To Reproduce**\r\nrun https://github.com/alan-turing-institute/sktime/blob/main/examples/minirocket.ipynb\r\n\r\n**Expected behavior**\r\nno error\r\n\r\n**Versions**\r\n```\r\npython: 3.7.10\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 52.0.0.post20210125\r\n      sklearn: 0.23.1\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.2\r\n        scipy: 1.6.2\r\n       Cython: None\r\n       pandas: 1.2.3\r\n   matplotlib: None\r\n       joblib: 1.0.1\r\n        numba: 0.50.1\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n```\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/758", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/758/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/758/events", "html_url": "https://github.com/sktime/sktime/issues/758", "id": 842699077, "node_id": "MDU6SXNzdWU4NDI2OTkwNzc=", "number": 758, "title": "[BUG] Installation fails:  Soft dependencies and Jupyter Notebook", "user": {"login": "ngallo1", "id": 59870144, "node_id": "MDQ6VXNlcjU5ODcwMTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/59870144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngallo1", "html_url": "https://github.com/ngallo1", "followers_url": "https://api.github.com/users/ngallo1/followers", "following_url": "https://api.github.com/users/ngallo1/following{/other_user}", "gists_url": "https://api.github.com/users/ngallo1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngallo1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngallo1/subscriptions", "organizations_url": "https://api.github.com/users/ngallo1/orgs", "repos_url": "https://api.github.com/users/ngallo1/repos", "events_url": "https://api.github.com/users/ngallo1/events{/privacy}", "received_events_url": "https://api.github.com/users/ngallo1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-28T09:27:26Z", "updated_at": "2021-03-29T11:02:43Z", "closed_at": "2021-03-29T11:02:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed sktime and tried to run the 'Forecasting' code segment from the Welcome page (https://www.sktime.org/en/latest/).\r\nWhen I put the code in a `test.py` file and run it from the terminal (`python test.py`) it outputs the correct value.  However, when I run the same code from a Jupyter notebook I get a \"ModuleNotFoundError: No module named 'pmdarima'. 'pmdarima' is a soft dependency and not included in the sktime installation. Please run: `pip install pmdarima`. To install all soft dependencies, run: `pip install sktime[all_extras]\"\r\n\r\nI ran both `pip install pmdarima`  and `conda install -c conda-forge pmdarima`  (I had to use conda install to install sktime initially).  Neither worked.  I keep getting the same error.  I restarted my computer and tried again.  That didn't work either.\r\n(I am using Windows 10 if that matters.)\r\n_________________________________________________________________________\r\n\r\n\u2022 Code I ran:\r\n```\r\nfrom sktime.forecasting.all import *\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\nforecaster = ThetaForecaster(sp=12)  # monthly seasonal periodicity\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\nsmape_loss(y_test, y_pred)\r\n```\r\n\r\n\u2022 Error message from Jupyter notebook:\r\n---------------------------------------------------------------------------\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n~\\anaconda3\\lib\\site-packages\\sktime\\utils\\validation\\_dependencies.py in _check_soft_dependencies(*packages)\r\n     22         try:\r\n---> 23             import_module(package)\r\n     24         except ModuleNotFoundError as e:\r\n\r\n~\\anaconda3\\lib\\importlib\\__init__.py in import_module(name, package)\r\n    126             level += 1\r\n--> 127     return _bootstrap._gcd_import(name[level:], package, level)\r\n    128 \r\n\r\n~\\anaconda3\\lib\\importlib\\_bootstrap.py in _gcd_import(name, package, level)\r\n\r\n~\\anaconda3\\lib\\importlib\\_bootstrap.py in _find_and_load(name, import_)\r\n\r\n~\\anaconda3\\lib\\importlib\\_bootstrap.py in _find_and_load_unlocked(name, import_)\r\n\r\nModuleNotFoundError: No module named 'pmdarima'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n<ipython-input-6-cd3271f835dd> in <module>\r\n----> 1 from sktime.forecasting.all import *\r\n      2 \r\n      3 y = load_airline()\r\n      4 y_train, y_test = temporal_train_test_split(y)\r\n      5 fh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\n~\\anaconda3\\lib\\site-packages\\sktime\\forecasting\\all\\__init__.py in <module>\r\n     44 from sktime.datasets import load_lynx\r\n     45 from sktime.datasets import load_shampoo_sales\r\n---> 46 from sktime.forecasting.arima import AutoARIMA\r\n     47 from sktime.forecasting.base import ForecastingHorizon\r\n     48 from sktime.forecasting.compose import EnsembleForecaster\r\n\r\n~\\anaconda3\\lib\\site-packages\\sktime\\forecasting\\arima.py in <module>\r\n      9 from sktime.utils.validation._dependencies import _check_soft_dependencies\r\n     10 \r\n---> 11 _check_soft_dependencies(\"pmdarima\")\r\n     12 \r\n     13 \r\n\r\n~\\anaconda3\\lib\\site-packages\\sktime\\utils\\validation\\_dependencies.py in _check_soft_dependencies(*packages)\r\n     29                 f\"sktime[all_extras]`\"\r\n     30             )\r\n---> 31             raise ModuleNotFoundError(msg) from e\r\n\r\nModuleNotFoundError: No module named 'pmdarima'. 'pmdarima' is a soft dependency and not included in the sktime installation. Please run: `pip install pmdarima`. To install all soft dependencies, run: `pip install sktime[all_extras]`", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/755", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/755/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/755/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/755/events", "html_url": "https://github.com/sktime/sktime/issues/755", "id": 842481836, "node_id": "MDU6SXNzdWU4NDI0ODE4MzY=", "number": 755, "title": "[BUG] import MUSE error", "user": {"login": "jachane99", "id": 43421733, "node_id": "MDQ6VXNlcjQzNDIxNzMz", "avatar_url": "https://avatars.githubusercontent.com/u/43421733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jachane99", "html_url": "https://github.com/jachane99", "followers_url": "https://api.github.com/users/jachane99/followers", "following_url": "https://api.github.com/users/jachane99/following{/other_user}", "gists_url": "https://api.github.com/users/jachane99/gists{/gist_id}", "starred_url": "https://api.github.com/users/jachane99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jachane99/subscriptions", "organizations_url": "https://api.github.com/users/jachane99/orgs", "repos_url": "https://api.github.com/users/jachane99/repos", "events_url": "https://api.github.com/users/jachane99/events{/privacy}", "received_events_url": "https://api.github.com/users/jachane99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-27T11:15:53Z", "updated_at": "2021-03-27T18:37:10Z", "closed_at": "2021-03-27T18:37:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nImport issue for MUSE package\r\n\r\n**To Reproduce**\r\n`from sktime.classification.dictionary_based import MUSE`\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThis import shouldn't cause any issue\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n   from sktime.classification.dictionary_based import MUSE\r\nImportError: cannot import name 'MUSE' from 'sktime.classification.dictionary_based' (C:\\UserPath\\site-packages\\sktime\\classification\\dictionary_based\\__init__.py)\r\n\r\n**Versions**\r\nsktime version sktime==0.4.2\r\n\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/755/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/743", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/743/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/743/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/743/events", "html_url": "https://github.com/sktime/sktime/issues/743", "id": 839638189, "node_id": "MDU6SXNzdWU4Mzk2MzgxODk=", "number": 743, "title": "Using sklearn transformers inside TransformedTargetForecaster", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163264, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY0", "url": "https://api.github.com/repos/sktime/sktime/labels/feature%20request", "name": "feature request", "color": "38d191", "default": false, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-24T11:43:58Z", "updated_at": "2021-03-24T19:04:37Z", "closed_at": "2021-03-24T16:51:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nNot sure if this is a bug or feature request, maybe both :)\r\nI would like to use `sklearn` transformers together with `sktime` tranformers inside \r\n```python\r\npipe = TransformedTargetForecaster(steps=[\r\n    (\"deseasonalise\", Deseasonalizer()),\r\n    (\"minmax\", MinMaxScaler()),\r\n    (\"model\", TBATS()),\r\n    ]\r\n)\r\n```\r\nErrors comes here:\r\n```python\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-6-81216c862c66> in <module>\r\n     22     ]\r\n     23 )\r\n---> 24 pipe.fit(y_train)\r\n\r\n~\\sktime\\forecasting\\compose\\_pipeline.py in fit(self, y, X, fh)\r\n    101         self : returns an instance of self.\r\n    102         \"\"\"\r\n--> 103         self.steps_ = self._check_steps()\r\n    104         self._set_y_X(y, X)\r\n    105         self._set_fh(fh)\r\n\r\n~\\sktime\\forecasting\\compose\\_pipeline.py in _check_steps(self)\r\n     48             if not isinstance(transformer, valid_transformer_type):\r\n     49                 raise TypeError(\r\n---> 50                     f\"All intermediate steps should be \"\r\n     51                     f\"instances of {valid_transformer_type}, \"\r\n     52                     f\"but transformer: {transformer} is not.\"\r\n\r\nTypeError: All intermediate steps should be instances of <class 'sktime.transformations.base._SeriesToSeriesTransformer'>, but transformer: MinMaxScaler() is not.\r\n```\r\n**Describe the solution you'd like**\r\nIt seems the `sklearn` transformers use `numpy` input and output whereas `sktime` uses `pandas`, so the data would need to be wrapped.\r\n___\r\nMartin Walter <martin_friedrich.walter@daimler.com>, Mercedes-Benz AG on behalf of Daimler TSS GmbH.\r\nhttps://github.com/Daimler/daimler-foss/blob/master/LEGAL_IMPRINT.md", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/716", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/716/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/716/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/716/events", "html_url": "https://github.com/sktime/sktime/issues/716", "id": 819959431, "node_id": "MDU6SXNzdWU4MTk5NTk0MzE=", "number": 716, "title": "[BUG] ValueError when using exogenous data in a ForecastingGridSearchCV", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-02T12:11:38Z", "updated_at": "2021-03-31T07:20:16Z", "closed_at": "2021-03-31T07:20:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nHi together, just found a possible bug with `ValueError` on master branch and `sktime==0.5.3` when using exogenous data `X` in a `ForecastingGridSearchCV` during `fit()`. Error might come from recent changes on the `update()` function, however not sure if this is already on PyPI?\r\n\r\nError message:\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-7-30ce10c703b7> in <module>\r\n      8 cv = ExpandingWindowSplitter(initial_window=60, window_length=12, start_with_window=True, step_length=12)\r\n      9 gscv = ForecastingGridSearchCV(forecaster, cv=cv, param_grid=param_grid)\r\n---> 10 gscv.fit(y=y_train, X=X_train)\r\n     11 #,\r\n     12 # y_pred = gscv.predict(fh=[x + 1 for x in range(len(y_test))], X=X_test)\r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\model_selection\\_tune.py in fit(self, y, X, fh, **fit_params)\r\n    466             return results\r\n    467 \r\n--> 468         self._run_search(evaluate_candidates)\r\n    469 \r\n    470         self.best_index_ = results[\"rank_test_%s\" % refit_metric].argmin()\r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\model_selection\\_tune.py in _run_search(self, evaluate_candidates)\r\n    576     def _run_search(self, evaluate_candidates):\r\n    577         \"\"\"Search all candidates in param_grid\"\"\"\r\n--> 578         evaluate_candidates(ParameterGrid(self.param_grid))\r\n    579 \r\n    580 \r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\model_selection\\_tune.py in evaluate_candidates(candidate_params)\r\n    446                     X,\r\n    447                     parameters=parameters,\r\n--> 448                     **fit_and_score_kwargs\r\n    449                 )\r\n    450                 out.append(r)\r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\model_selection\\_tune.py in _fit_and_score(forecaster, cv, y, X, scorer, verbose, parameters, fit_params, return_parameters, return_times, return_train_score, return_forecaster, error_score)\r\n    153     else:\r\n    154         fit_time = time.time() - start_time\r\n--> 155         test_scores = _update_score(forecaster, cv, y_val, X_val, scorer)\r\n    156         score_time = time.time() - start_time - fit_time\r\n    157 \r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\model_selection\\_tune.py in _update_score(forecaster, cv, y, X, scorer)\r\n     73 def _update_score(forecaster, cv, y, X, scorer):\r\n     74     \"\"\"Make, update and evaluate forecasts\"\"\"\r\n---> 75     y_pred = forecaster.update_predict(y, cv=cv, X=X)\r\n     76     return _score(y, y_pred, scorer)\r\n     77 \r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\base\\_sktime.py in update_predict(self, y, cv, X, update_params, return_pred_int, alpha)\r\n    422             update_params=update_params,\r\n    423             return_pred_int=return_pred_int,\r\n--> 424             alpha=alpha,\r\n    425         )\r\n    426 \r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\base\\_sktime.py in _predict_moving_cutoff(self, y, cv, X, update_params, return_pred_int, alpha)\r\n    473                     update_params=update_params,\r\n    474                     return_pred_int=return_pred_int,\r\n--> 475                     alpha=alpha,\r\n    476                 )\r\n    477                 y_preds.append(y_pred)\r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\base\\_sktime.py in _update_predict_single(self, y, fh, X, update_params, return_pred_int, alpha)\r\n    346         to implement more efficient updating algorithms when available.\r\n    347         \"\"\"\r\n--> 348         self.update(y, X, update_params=update_params)\r\n    349         return self.predict(fh, X, return_pred_int=return_pred_int, alpha=alpha)\r\n    350 \r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\base\\_sktime.py in update(self, y, X, update_params)\r\n    371         \"\"\"\r\n    372         self.check_is_fitted()\r\n--> 373         self._update_y_X(y, X)\r\n    374         if update_params:\r\n    375             # default to re-fitting if update is not implemented\r\n\r\n~\\bla\\bla\\bla\\sktime\\forecasting\\base\\_sktime.py in _update_y_X(self, y, X, enforce_index_type)\r\n     73         \"\"\"\r\n     74         # update only for non-empty data\r\n---> 75         y, X = check_y_X(y, X, allow_empty=True, enforce_index_type=enforce_index_type)\r\n     76 \r\n     77         if len(y) > 0:\r\n\r\n~\\bla\\bla\\bla\\sktime\\utils\\validation\\forecasting.py in check_y_X(y, X, allow_empty, allow_constant, enforce_index_type)\r\n     58         # checking for index equality here\r\n     59         X = check_X(X)\r\n---> 60         check_equal_time_index(y, X)\r\n     61 \r\n     62     return y, X\r\n\r\n~\\bla\\bla\\bla\\sktime\\utils\\validation\\series.py in check_equal_time_index(*ys)\r\n    150 \r\n    151         if not first_index.equals(y.index):\r\n--> 152             raise ValueError(\"Some (time) indices are not the same.\")\r\n\r\nValueError: Some (time) indices are not the same.\r\n```\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.model_selection import (\r\n    ForecastingGridSearchCV,\r\n    SlidingWindowSplitter)\r\nfrom sktime.forecasting.arima import ARIMA, AutoARIMA\r\nfrom sktime.datasets import load_airline\r\n\r\ny = load_airline()\r\nX = pd.DataFrame({\"y_1\": y * 2, \"y_2\": y * 0.5})\r\nX_train, X_test = temporal_train_test_split(X, test_size = 10)\r\ny_train, y_test = temporal_train_test_split(y, test_size = 10)\r\n\r\nforecaster = AutoARIMA()\r\nparam_grid = {\"sp\": [6, 12], \"suppress_warnings\":[True]}\r\ncv = SlidingWindowSplitter(initial_window=60, window_length=12, start_with_window=True, step_length=12)\r\ngscv = ForecastingGridSearchCV(forecaster, cv=cv, param_grid=param_grid)\r\ngscv.fit(y=y_train,X=X_train)\r\n```\r\n\r\n**Expected behavior**\r\nNo exception.\r\n\r\n**Additional context**\r\nError happens also with `ExpandingWindowSplitter`.\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.10 (default, Feb 26 2021, 13:06:18) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\bla\\Python\\Miniconda3\\envs\\sktime37\\python.exe\r\n   machine: Windows-10-10.0.17763-SP0\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 47.3.1\r\n      sklearn: 0.23.2\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.0\r\n        scipy: 1.6.1\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n#### Author and Legal Imprint:\r\nMartin Walter <martin_friedrich.walter@daimler.com>, Mercedes-Benz AG on behalf of Daimler TSS GmbH.\r\nhttps://github.com/Daimler/daimler-foss/blob/master/LEGAL_IMPRINT.md", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/696", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/696/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/696/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/696/events", "html_url": "https://github.com/sktime/sktime/issues/696", "id": 812346326, "node_id": "MDU6SXNzdWU4MTIzNDYzMjY=", "number": 696, "title": "SettingWithCopyWarning in Prophet with exogenous data", "user": {"login": "muhlbach", "id": 31421850, "node_id": "MDQ6VXNlcjMxNDIxODUw", "avatar_url": "https://avatars.githubusercontent.com/u/31421850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muhlbach", "html_url": "https://github.com/muhlbach", "followers_url": "https://api.github.com/users/muhlbach/followers", "following_url": "https://api.github.com/users/muhlbach/following{/other_user}", "gists_url": "https://api.github.com/users/muhlbach/gists{/gist_id}", "starred_url": "https://api.github.com/users/muhlbach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muhlbach/subscriptions", "organizations_url": "https://api.github.com/users/muhlbach/orgs", "repos_url": "https://api.github.com/users/muhlbach/repos", "events_url": "https://api.github.com/users/muhlbach/events{/privacy}", "received_events_url": "https://api.github.com/users/muhlbach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-19T21:03:00Z", "updated_at": "2021-03-22T22:08:35Z", "closed_at": "2021-03-22T22:08:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nRunning `Prophet` with `X` different from `None` throws the following warning\r\n\r\n```python\r\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\r\n  X[\"ds\"] = X.index\r\n/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/sktime/forecasting/base/adapters/_fbprophet.py:190: SettingWithCopyWarning: \r\nA value is trying to be set on a copy of a slice from a DataFrame.\r\nTry using .loc[row_indexer,col_indexer] = value instead\r\n```\r\n\r\nWill you please change line 190 in _fbprophet.py to\r\n```python\r\nX.loc[:,\"ds\"]=X.index\r\n```\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/696/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/694", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/694/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/694/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/694/events", "html_url": "https://github.com/sktime/sktime/issues/694", "id": 812103444, "node_id": "MDU6SXNzdWU4MTIxMDM0NDQ=", "number": 694, "title": "[BUG] ElasticEnsemble with revised TS-KNN", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-02-19T15:13:47Z", "updated_at": "2021-02-20T20:28:58Z", "closed_at": "2021-02-20T20:28:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "the transpose change in KNN has effected the ElasticEnsemble. We are now effectively transposing twice. The quickest solution is for EE to transform the pandas into [n][d][m] numpy instead of [n][m][d] numpy, and to remove the coercion to pandas. Assigned to Aiden", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/692", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/692/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/692/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/692/events", "html_url": "https://github.com/sktime/sktime/issues/692", "id": 811469343, "node_id": "MDU6SXNzdWU4MTE0NjkzNDM=", "number": 692, "title": "ThetaForecaster does not work with \"initial_level\" different from None", "user": {"login": "muhlbach", "id": 31421850, "node_id": "MDQ6VXNlcjMxNDIxODUw", "avatar_url": "https://avatars.githubusercontent.com/u/31421850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muhlbach", "html_url": "https://github.com/muhlbach", "followers_url": "https://api.github.com/users/muhlbach/followers", "following_url": "https://api.github.com/users/muhlbach/following{/other_user}", "gists_url": "https://api.github.com/users/muhlbach/gists{/gist_id}", "starred_url": "https://api.github.com/users/muhlbach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muhlbach/subscriptions", "organizations_url": "https://api.github.com/users/muhlbach/orgs", "repos_url": "https://api.github.com/users/muhlbach/repos", "events_url": "https://api.github.com/users/muhlbach/events{/privacy}", "received_events_url": "https://api.github.com/users/muhlbach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-18T21:22:18Z", "updated_at": "2021-05-06T16:45:12Z", "closed_at": "2021-05-06T16:45:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen calling\r\n`forecaster = ThetaForecaster(initial_level=0.5, deseasonalize=True, sp=1)` then fitting via `forecaster.fit(y_train)` leads to the following error:\r\n\r\n```python\r\n`Traceback (most recent call last):\r\n\r\n  File \"<ipython-input-362-6ef348c52370>\", line 1, in <module>\r\n    forecaster.fit(y_train)\r\n\r\n  File \"/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/sktime/forecasting/theta.py\", line 131, in fit\r\n    super(ThetaForecaster, self).fit(y, fh=fh)\r\n\r\n  File \"/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/sktime/forecasting/base/adapters/_statsmodels.py\", line 47, in fit\r\n    self._fit_forecaster(y, X)\r\n\r\n  File \"/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/sktime/forecasting/exp_smoothing.py\", line 79, in _fit_forecaster\r\n    self._forecaster = _ExponentialSmoothing(\r\n\r\n  File \"/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/pandas/util/_decorators.py\", line 199, in wrapper\r\n    return func(*args, **kwargs)\r\n\r\n  File \"/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/statsmodels/tsa/holtwinters/model.py\", line 291, in __init__\r\n    self._initialize()\r\n\r\n  File \"/Users/muhlbach/opt/anaconda3/envs/experimental/lib/python3.8/site-packages/statsmodels/tsa/holtwinters/model.py\", line 439, in _initialize\r\n    raise ValueError(msg.format(\"level\"))\r\n\r\nValueError: initialization method is estimated but initial_level has been set.`\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.datasets import load_airline\r\ny = load_airline()\r\nforecaster = ThetaForecaster(initial_level=0.5).fit(y)\r\n```\r\n\r\n**Expected behavior**\r\nIt should estimate Theta with initial smoothing level.\r\n\r\n**Additional context**\r\nI think the problem relates to the class ExponentialSmoothing and the fact that users cannot provide the `initialization_method` argument. See https://github.com/alan-turing-institute/sktime/blob/060af89907d135e41491d61f0966e285289a805b/sktime/forecasting/exp_smoothing.py#L10 \r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/692/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/677", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/677/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/677/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/677/events", "html_url": "https://github.com/sktime/sktime/issues/677", "id": 807427733, "node_id": "MDU6SXNzdWU4MDc0Mjc3MzM=", "number": 677, "title": "[BUG] sktime Installation fails on Windows 10 due to OpenMP error", "user": {"login": "luiszugasti", "id": 11198457, "node_id": "MDQ6VXNlcjExMTk4NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/11198457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luiszugasti", "html_url": "https://github.com/luiszugasti", "followers_url": "https://api.github.com/users/luiszugasti/followers", "following_url": "https://api.github.com/users/luiszugasti/following{/other_user}", "gists_url": "https://api.github.com/users/luiszugasti/gists{/gist_id}", "starred_url": "https://api.github.com/users/luiszugasti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luiszugasti/subscriptions", "organizations_url": "https://api.github.com/users/luiszugasti/orgs", "repos_url": "https://api.github.com/users/luiszugasti/repos", "events_url": "https://api.github.com/users/luiszugasti/events{/privacy}", "received_events_url": "https://api.github.com/users/luiszugasti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-12T17:41:13Z", "updated_at": "2021-04-14T14:13:54Z", "closed_at": "2021-04-14T14:13:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen following the steps from https://www.sktime.org/en/latest/installation.html#windows, the installer complains that the folder /openmp is not accessible and quits.\r\n\r\nCurrently, I have \r\n\r\n**To Reproduce**\r\n\r\n1. Follow steps one thru six of the attached documentation link.\r\n2. Before running pip install --verbose, run `conda install fbprophet`. If  I don't do this, I get weird errors related to sklearn not being installed, although it is\r\n3. Face the issue.\r\n\r\n\r\n**Expected behavior**\r\nInstallation of sktime and allowing to run the tests. This works fine using WSL2 on the same machine.\r\n\r\n**Additional context**\r\nDisabling usage of openmp with the SKTIME_NO_OPENMP flag does allow the installation to take place, but when running tests, a whole slew of issues arise with numpy during test case collection.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.6 | packaged by conda-forge | (default, Jan 25 2021, 22:54:47) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Luis\\anaconda3\\envs\\sktime2\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 49.6.0.post20210108\r\n      sklearn: 0.23.2\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.1\r\n        scipy: 1.6.0\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/675", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/675/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/675/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/675/events", "html_url": "https://github.com/sktime/sktime/issues/675", "id": 807366533, "node_id": "MDU6SXNzdWU4MDczNjY1MzM=", "number": 675, "title": "[BUG] Cannot make docs on Windows 10", "user": {"login": "luiszugasti", "id": 11198457, "node_id": "MDQ6VXNlcjExMTk4NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/11198457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luiszugasti", "html_url": "https://github.com/luiszugasti", "followers_url": "https://api.github.com/users/luiszugasti/followers", "following_url": "https://api.github.com/users/luiszugasti/following{/other_user}", "gists_url": "https://api.github.com/users/luiszugasti/gists{/gist_id}", "starred_url": "https://api.github.com/users/luiszugasti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luiszugasti/subscriptions", "organizations_url": "https://api.github.com/users/luiszugasti/orgs", "repos_url": "https://api.github.com/users/luiszugasti/repos", "events_url": "https://api.github.com/users/luiszugasti/events{/privacy}", "received_events_url": "https://api.github.com/users/luiszugasti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-12T16:24:58Z", "updated_at": "2021-04-14T14:15:22Z", "closed_at": "2021-04-14T14:15:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen attempting to build the documentation for `sktime`, `make` complains that it cannot find the ./symlink_examples.sh file.\r\nHence, Sphynx cannot create the docs on Windows 10.\r\n\r\n**To Reproduce**\r\n1. Navigate to the root directory of the project and instantiate a conda environment (`conda activate sktime`).\r\n2. Enter in the command line: `make docs`.\r\n3. View the [error](https://gist.github.com/luiszugasti/dfe5dab78c637255465bb22dd68f6b5f)\r\n\r\n\r\n**Expected behavior**\r\nCreation of the docs. I will add that this works fine in WSL2.\r\n\r\n**Additional context**\r\nChecked the contents of the \"docs\" folder and the `symlink_examples.sh` document is there. (This is from a fresh clone of the repository)\r\nUnfortunately, I am unsure how Sphinx begins its search through the files.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.6 | packaged by conda-forge | (default, Jan 25 2021, 22:54:47) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Luis\\anaconda3\\envs\\sktime\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 49.6.0.post20210108\r\n      sklearn: 0.23.2\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.1\r\n        scipy: 1.6.0\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/675/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/674", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/674/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/674/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/674/events", "html_url": "https://github.com/sktime/sktime/issues/674", "id": 807237570, "node_id": "MDU6SXNzdWU4MDcyMzc1NzA=", "number": 674, "title": "[BUG] HiveCote output", "user": {"login": "MJimitater", "id": 26901261, "node_id": "MDQ6VXNlcjI2OTAxMjYx", "avatar_url": "https://avatars.githubusercontent.com/u/26901261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MJimitater", "html_url": "https://github.com/MJimitater", "followers_url": "https://api.github.com/users/MJimitater/followers", "following_url": "https://api.github.com/users/MJimitater/following{/other_user}", "gists_url": "https://api.github.com/users/MJimitater/gists{/gist_id}", "starred_url": "https://api.github.com/users/MJimitater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MJimitater/subscriptions", "organizations_url": "https://api.github.com/users/MJimitater/orgs", "repos_url": "https://api.github.com/users/MJimitater/repos", "events_url": "https://api.github.com/users/MJimitater/events{/privacy}", "received_events_url": "https://api.github.com/users/MJimitater/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-12T13:32:13Z", "updated_at": "2021-02-17T07:14:17Z", "closed_at": "2021-02-17T07:14:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFitting hive-cote model gives unrecognizable number outputs and doesn't finish executing, even on a small dataset.\r\n\r\n**To Reproduce**\r\nRun fit with a small dataset (mine is 500x10), I interrupted after 30 hours on this small dataset.\r\n\r\n```python\r\n>from sktime.classification.hybrid import HIVECOTEV1\r\n\r\n>hive = HIVECOTEV1()\r\n>hive.fit(X_train_small, y_train_small)\r\n\r\n1.4102227687835693\r\n1.4351227283477783\r\n1.4401609897613525\r\n1.455118179321289\r\n1.4720587730407715\r\n1.4735655784606934\r\n1.5098981857299805\r\n1.5518741607666016\r\n1.5618183612823486\r\n1.6083710193634033\r\n1.6144781112670898\r\n1.656531572341919\r\n1.694200038909912\r\n1.8179378509521484\r\n1.1604790687561035\r\n1.2566297054290771\r\n1.267608404159546\r\n1.2775826454162598\r\n1.2984962463378906\r\n1.6186723709106445\r\n1.684495449066162\r\n1.1329700946807861\r\n1.162933588027954\r\n1.1708612442016602\r\n1.1918137073516846\r\n1.2217142581939697\r\n1.2486572265625\r\n1.2994804382324219\r\n1.3000919818878174\r\n1.3204693794250488\r\n1.3333721160888672\r\n1.424189805984497\r\n1.4730608463287354\r\n1.5324997901916504\r\n1.6767830848693848\r\n2.2469911575317383\r\n1.10504150390625\r\n1.1977901458740234\r\n1.2267138957977295\r\n1.2467164993286133\r\n1.250666618347168\r\n1.3663420677185059\r\n1.3813018798828125\r\n1.1080362796783447\r\n1.119640827178955\r\n1.2005653381347656\r\n1.2197377681732178\r\n1.2207260131835938\r\n1.2436511516571045\r\n1.2863152027130127\r\n1.1598975658416748\r\n1.173907995223999\r\n1.182831048965454\r\n1.223266363143921\r\n1.2944936752319336\r\n1.3483796119689941\r\n1.3493454456329346\r\n1.225809097290039\r\n1.2561888694763184\r\n1.2595922946929932\r\n1.2845253944396973\r\n1.3055100440979004\r\n1.306506633758545\r\n1.3862872123718262\r\n1.4042775630950928\r\n1.4251701831817627\r\n1.8021807670593262\r\n1.153918981552124\r\n1.1748120784759521\r\n1.1948018074035645\r\n1.2117547988891602\r\n1.2277166843414307\r\n1.2336978912353516\r\n1.2676081657409668\r\n1.267608880996704\r\n1.271592140197754\r\n1.146115779876709\r\n1.2246768474578857\r\n1.2275745868682861\r\n1.2276766300201416\r\n1.2586297988891602\r\n1.2646138668060303\r\n1.312474250793457\r\n1.1439476013183594\r\n1.2127492427825928\r\n1.2346980571746826\r\n1.2396836280822754\r\n1.2486522197723389\r\n1.248659372329712\r\n1.2735872268676758\r\n1.2815752029418945\r\n1.0818612575531006\r\n1.2257189750671387\r\n1.2336993217468262\r\n1.2556405067443848\r\n1.2866203784942627\r\n1.2915489673614502\r\n1.3842966556549072\r\n1.4561092853546143\r\n4.397695541381836\r\n4.439384460449219\r\n4.521897077560425\r\n1.4102232456207275\r\n1.4172465801239014\r\n1.4710273742675781\r\n1.5079617500305176\r\n1.5219314098358154\r\n1.5228848457336426\r\n1.5463685989379883\r\n1.5488560199737549\r\n1.5538420677185059\r\n1.5658457279205322\r\n1.5777888298034668\r\n1.0661485195159912\r\n1.0791501998901367\r\n1.1140198707580566\r\n1.1509478092193604\r\n1.1888630390167236\r\n1.1957767009735107\r\n1.2287139892578125\r\n1.2297098636627197\r\n1.2337005138397217\r\n1.2407174110412598\r\n1.27756667137146\r\n1.2776179313659668\r\n1.2795777320861816\r\n1.2805571556091309\r\n1.1738529205322266\r\n1.207770824432373\r\n1.2187480926513672\r\n1.2227346897125244\r\n1.2317297458648682\r\n1.2686076164245605\r\n1.2725942134857178\r\n1.283567190170288\r\n1.288553237915039\r\n1.2236785888671875\r\n1.250654935836792\r\n1.2656142711639404\r\n1.2686102390289307\r\n1.2745912075042725\r\n1.2925684452056885\r\n1.3703694343566895\r\n1.141946792602539\r\n1.1509218215942383\r\n1.1798830032348633\r\n1.217745065689087\r\n1.2371776103973389\r\n1.2376549243927002\r\n1.2377171516418457\r\n1.2726309299468994\r\n1.295534610748291\r\n1.298499345779419\r\n1.205770492553711\r\n1.2506554126739502\r\n1.2636210918426514\r\n1.2875206470489502\r\n1.297529935836792\r\n1.1938278675079346\r\n1.1987836360931396\r\n1.2456707954406738\r\n1.246654748916626\r\n1.260629653930664\r\n1.2665889263153076\r\n1.2766263484954834\r\n1.2795774936676025\r\n1.2795794010162354\r\n1.1908149719238281\r\n1.191812515258789\r\n1.2007882595062256\r\n1.2057664394378662\r\n1.2562260627746582\r\n1.2586488723754883\r\n1.259627103805542\r\n1.2735936641693115\r\n1.2835674285888672\r\n1.1528823375701904\r\n1.16489577293396\r\n1.2047667503356934\r\n1.2137830257415771\r\n1.2206969261169434\r\n1.2227301597595215\r\n1.276543378829956\r\n1.3703701496124268\r\n1.154890537261963\r\n1.1579084396362305\r\n1.169846773147583\r\n1.2337028980255127\r\n1.2346899509429932\r\n1.23968505859375\r\n1.2566413879394531\r\n1.2586708068847656\r\n1.1200060844421387\r\n1.1329705715179443\r\n1.1868271827697754\r\n1.2107627391815186\r\n1.2247257232666016\r\n1.2307095527648926\r\n1.2386882305145264\r\n1.2456769943237305\r\n1.7991812229156494\r\n1.8540723323822021\r\n2.4433372020721436\r\n1.5897419452667236\r\n1.642646312713623\r\n1.7273809909820557\r\n2.219067096710205\r\n1.108036756515503\r\n1.1898179054260254\r\n1.1987824440002441\r\n1.206784963607788\r\n1.2157487869262695\r\n1.2247209548950195\r\n1.2386524677276611\r\n1.2634143829345703\r\n1.3773200511932373\r\n1.3872885704040527\r\n1.3922829627990723\r\n1.164886713027954\r\n1.254988193511963\r\n1.2556400299072266\r\n1.2715990543365479\r\n1.3055362701416016\r\n1.3185110092163086\r\n1.3523328304290771\r\n1.3623898029327393\r\n1.0801029205322266\r\n1.1274166107177734\r\n1.191850185394287\r\n1.2496368885040283\r\n1.265561580657959\r\n1.3234786987304688\r\n1.3713512420654297\r\n1.3812839984893799\r\n1.3863086700439453\r\n1.3932538032531738\r\n1.4052231311798096\r\n1.13299560546875\r\n1.2047674655914307\r\n1.2396745681762695\r\n1.2576580047607422\r\n1.3164677619934082\r\n1.36539888381958\r\n1.453104019165039\r\n1.4697601795196533\r\n1.680494785308838\r\n1.1129837036132812\r\n1.1220283508300781\r\n1.1429426670074463\r\n1.18086576461792\r\n1.190821886062622\r\n1.1928248405456543\r\n1.201784610748291\r\n1.2247192859649658\r\n1.2257499694824219\r\n1.2277185916900635\r\n1.3833296298980713\r\n1.458068609237671\r\n1.5454039573669434\r\n2.000641107559204\r\n1.1140172481536865\r\n1.231666088104248\r\n1.3254904747009277\r\n1.360323190689087\r\n1.4071955680847168\r\n1.5943021774291992\r\n1.6433846950531006\r\n1.928835391998291\r\n---------------------------------------------------------------------------\r\nKeyboardInterrupt                         Traceback (most recent call last)\r\n<timed exec> in <module>\r\n```\r\n\r\n**Expected behavior**\r\nAn understandable output and a sense of progress, e.g. passing a ```verbose=True``` argument.\r\n\r\n\r\n**Further details**:\r\nI checked the code of the class too, but I don't understand where the outputs come from, since its simply fitting 4 different algos (Shapelettransform, TimeSeriesForest, RISE, cBOSS) and saving the weights. I can't see when the code terminates.\r\n\r\n\r\n**Versions**\r\nsklearn: 0.23.1\r\n\r\n```\r\nfrom sktime import show_versions; show_versions()\r\n\r\nSystem:\r\n    python: 3.8.5 \r\nexecutable: C:\\Users\\\r\n   machine: Windows-10\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 50.3.0.post20201006\r\n      sklearn: 0.23.1\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.19.5\r\n        scipy: 1.4.1\r\n       Cython: 0.29.21\r\n       pandas: 1.0.5\r\n   matplotlib: 3.2.2\r\n       joblib: 0.17.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: None\r\n```\r\n\r\n**Thanks for the great repo!**\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/670", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/670/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/670/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/670/events", "html_url": "https://github.com/sktime/sktime/issues/670", "id": 806266268, "node_id": "MDU6SXNzdWU4MDYyNjYyNjg=", "number": 670, "title": "[BUG] Wrong Forecast calculation on freq values not 1", "user": {"login": "mpindado", "id": 19164478, "node_id": "MDQ6VXNlcjE5MTY0NDc4", "avatar_url": "https://avatars.githubusercontent.com/u/19164478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpindado", "html_url": "https://github.com/mpindado", "followers_url": "https://api.github.com/users/mpindado/followers", "following_url": "https://api.github.com/users/mpindado/following{/other_user}", "gists_url": "https://api.github.com/users/mpindado/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpindado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpindado/subscriptions", "organizations_url": "https://api.github.com/users/mpindado/orgs", "repos_url": "https://api.github.com/users/mpindado/repos", "events_url": "https://api.github.com/users/mpindado/events{/privacy}", "received_events_url": "https://api.github.com/users/mpindado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-02-11T10:38:14Z", "updated_at": "2022-02-23T22:42:33Z", "closed_at": "2022-02-23T22:42:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nHi! I have just come upon sktime and performing a quick test on ExponentialSmoothing with 15 minute data (freq=\"15T\") the prediction raises an exception, however, when using 1-frequencies (1T, 1H) etc the program seems to work.\r\n\r\nI think this is somehow related to issue #534.\r\n\r\n**To Reproduce**\r\n```python\r\nidx = pd.period_range(\"2021-01-01\", \"2021-01-02\", freq=\"15T\")\r\nvalues = np.random.randint(1, 10, len(idx))\r\nts = pd.Series(values, index=idx)\r\ny_train, y_test = temporal_train_test_split(ts, test_size=1/3)\r\nfh = np.arange(len(y_test)) + 1\r\nforecaster = ExponentialSmoothing(trend=\"add\")\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\n\r\nKeyError: \"None of [PeriodIndex(['2021-01-01 16:00', '2021-01-01 16:15', '2021-01-01 16:30',\\n             '2021-01-01 16:45', '2021-01-01 17:00', '2021-01-01 17:15',\\n             '2021-01-01 17:30', '2021-01-01 17:45', '2021-01-01 18:00',\\n             '2021-01-01 18:15', '2021-01-01 18:30', '2021-01-01 18:45',\\n             '2021-01-01 19:00', '2021-01-01 19:15', '2021-01-01 19:30',\\n             '2021-01-01 19:45', '2021-01-01 20:00', '2021-01-01 20:15',\\n             '2021-01-01 20:30', '2021-01-01 20:45', '2021-01-01 21:00',\\n             '2021-01-01 21:15', '2021-01-01 21:30', '2021-01-01 21:45',\\n             '2021-01-01 22:00', '2021-01-01 22:15', '2021-01-01 22:30',\\n             '2021-01-01 22:45', '2021-01-01 23:00', '2021-01-01 23:15',\\n             '2021-01-01 23:30', '2021-01-01 23:45', '2021-01-02 00:00'],\\n            dtype='period[15T]', freq='15T')] are in the [index]\"\r\n\r\n```\r\n\r\n**Expected behavior**\r\nPrediction should work.\r\n\r\n**Additional context**\r\nSo debugging, the problem seems to be over here in _fh.py\r\n\r\n```python\r\n        # Note: We should here also coerce to periods for more reliable arithmetic\r\n        # operations as in `to_relative` but currently doesn't work with\r\n        # `update_predict` and incomplete time indices where the `freq` information\r\n        # is lost, see comment on issue #534\r\n        integers = absolute - start\r\n\r\n        if isinstance(absolute, (pd.PeriodIndex, pd.DatetimeIndex)):\r\n            integers = _coerce_duration_to_int(integers, freq=_get_freq(cutoff))\r\n```\r\nThe function coerce_duration_to_int does not take into account the cutoff frequency on a PeriodIndex, as it does with TimeDeltas:\r\n```python\r\n    elif isinstance(duration, pd.Index) and isinstance(\r\n        duration[0], pd.tseries.offsets.BaseOffset\r\n    ):\r\n        return pd.Int64Index([d.n for d in duration])\r\n    elif isinstance(duration, (pd.Timedelta, pd.TimedeltaIndex)):\r\n        if freq is None:\r\n            raise ValueError(\"`unit` missing\")\r\n```\r\nAs a result, ``integers`` value is multiplied by 15 (in the example, for freq ```15T```), and PeriodIndex \"indexes\" generated are far bigger and so the exception.\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.5 (tags/v3.7.5:5c02a39a0b, Oct 15 2019, 00:11:34) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\nPython dependencies:\r\n          pip: 20.1.1\r\n   setuptools: 41.2.0\r\n      sklearn: 0.24.1\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.1\r\n        scipy: 1.3.3\r\n       Cython: 0.29.17\r\n       pandas: 1.2.2\r\n   matplotlib: 3.1.3\r\n       joblib: 0.14.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/668", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/668/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/668/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/668/events", "html_url": "https://github.com/sktime/sktime/issues/668", "id": 804770704, "node_id": "MDU6SXNzdWU4MDQ3NzA3MDQ=", "number": 668, "title": "[BUG] ImportError: cannot import name 'ReducedRegressionForecaster' from 'sktime.forecasting.compose' ", "user": {"login": "jjaakko", "id": 2248434, "node_id": "MDQ6VXNlcjIyNDg0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2248434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjaakko", "html_url": "https://github.com/jjaakko", "followers_url": "https://api.github.com/users/jjaakko/followers", "following_url": "https://api.github.com/users/jjaakko/following{/other_user}", "gists_url": "https://api.github.com/users/jjaakko/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjaakko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjaakko/subscriptions", "organizations_url": "https://api.github.com/users/jjaakko/orgs", "repos_url": "https://api.github.com/users/jjaakko/repos", "events_url": "https://api.github.com/users/jjaakko/events{/privacy}", "received_events_url": "https://api.github.com/users/jjaakko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-02-09T17:45:27Z", "updated_at": "2021-03-23T09:45:40Z", "closed_at": "2021-03-23T09:45:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nTrying to run the first code cell of https://github.com/alan-turing-institute/sktime/blob/master/examples/01_forecasting.ipynb in jupyter lab results in error.\r\n\r\n```\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-1-64cd8edf30ed> in <module>\r\n      7 from sktime.forecasting.arima import ARIMA, AutoARIMA\r\n      8 from sktime.forecasting.base import ForecastingHorizon\r\n----> 9 from sktime.forecasting.compose import (\r\n     10     EnsembleForecaster,\r\n     11     ReducedRegressionForecaster,\r\n\r\nImportError: cannot import name 'ReducedRegressionForecaster' from 'sktime.forecasting.compose' (.../env/lib/python3.8/site-packages/sktime/forecasting/compose/__init__.py)\r\n```\r\n\r\n**To Reproduce**\r\n- pip install sktime matplotlib jupyterlab pmdarima\r\n- jupyter lab\r\n- run the first cell\r\n\r\n**Expected behavior**\r\nThe code cell runs without errors.\r\n\r\n**Versions**\r\npython 3.8.6\r\n\r\nSystem:\r\n    python: 3.8.6 (default, Dec 25 2020, 15:27:37)  [Clang 11.0.0 (clang-1100.0.33.17)]\r\nexecutable: .../env/bin/python\r\n   machine: macOS-10.15.7-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 21.0.1\r\n   setuptools: 49.2.1\r\n      sklearn: 0.24.1\r\n       sktime: 0.5.3\r\n  statsmodels: 0.12.2\r\n        numpy: 1.20.1\r\n        scipy: 1.6.0\r\n       Cython: 0.29.17\r\n       pandas: 1.2.2\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.1\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/668/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/666", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/666/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/666/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/666/events", "html_url": "https://github.com/sktime/sktime/issues/666", "id": 803391991, "node_id": "MDU6SXNzdWU4MDMzOTE5OTE=", "number": 666, "title": "[BUG] fbprophet installation error on Windows", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-02-08T09:51:45Z", "updated_at": "2021-04-21T17:12:03Z", "closed_at": "2021-04-21T17:12:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I reinstalled on a windows machine and had trouble with fbprophet when installing the soft dependencies\r\n\r\n![image](https://user-images.githubusercontent.com/9594042/107203282-23970000-69f3-11eb-9661-33479c7a9423.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/666/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/663", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/663/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/663/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/663/events", "html_url": "https://github.com/sktime/sktime/issues/663", "id": 802832866, "node_id": "MDU6SXNzdWU4MDI4MzI4NjY=", "number": 663, "title": "[BUG] Proximity Forest always using 2 processors", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-07T01:46:51Z", "updated_at": "2021-02-20T20:39:27Z", "closed_at": "2021-02-20T20:39:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know PF performance was discussed before in #155 , but PF seems to be very slow and always uses only 2 Processors during the training and predicting processes.\r\n\r\nNo matter what value is passed to the n_jobs parameter. it is always the same performance on my side.\r\n\r\nAm I missing something here ??", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/655", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/655/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/655/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/655/events", "html_url": "https://github.com/sktime/sktime/issues/655", "id": 801221723, "node_id": "MDU6SXNzdWU4MDEyMjE3MjM=", "number": 655, "title": "[BUG] ERP in cython produces an error", "user": {"login": "goastler", "id": 7059456, "node_id": "MDQ6VXNlcjcwNTk0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7059456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goastler", "html_url": "https://github.com/goastler", "followers_url": "https://api.github.com/users/goastler/followers", "following_url": "https://api.github.com/users/goastler/following{/other_user}", "gists_url": "https://api.github.com/users/goastler/gists{/gist_id}", "starred_url": "https://api.github.com/users/goastler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goastler/subscriptions", "organizations_url": "https://api.github.com/users/goastler/orgs", "repos_url": "https://api.github.com/users/goastler/repos", "events_url": "https://api.github.com/users/goastler/events{/privacy}", "received_events_url": "https://api.github.com/users/goastler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-04T12:04:13Z", "updated_at": "2021-12-03T22:58:34Z", "closed_at": "2021-12-03T22:58:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nERP produces an error on the cython version, complaining about the `ll` variable. Likely a problem with multiple dimensions.\r\n\r\n**To Reproduce**\r\nerp_distance(np.array([[1, 2, 3], [4, 5, 6]]), np.array([[7, 8, 9], [10, 11, 12]]))\r\n\r\n(make sure to import the cython version! The python version is fine!)\r\n\r\n**Expected behavior**\r\nNo error.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/655/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/654", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/654/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/654/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/654/events", "html_url": "https://github.com/sktime/sktime/issues/654", "id": 801201831, "node_id": "MDU6SXNzdWU4MDEyMDE4MzE=", "number": 654, "title": "[BUG] Derivative based distance measures error out", "user": {"login": "goastler", "id": 7059456, "node_id": "MDQ6VXNlcjcwNTk0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7059456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goastler", "html_url": "https://github.com/goastler", "followers_url": "https://api.github.com/users/goastler/followers", "following_url": "https://api.github.com/users/goastler/following{/other_user}", "gists_url": "https://api.github.com/users/goastler/gists{/gist_id}", "starred_url": "https://api.github.com/users/goastler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goastler/subscriptions", "organizations_url": "https://api.github.com/users/goastler/orgs", "repos_url": "https://api.github.com/users/goastler/repos", "events_url": "https://api.github.com/users/goastler/events{/privacy}", "received_events_url": "https://api.github.com/users/goastler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-04T11:37:43Z", "updated_at": "2021-02-20T20:40:34Z", "closed_at": "2021-02-20T20:40:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWDDTW and DDTW both error out due to improper usage of numpy's diff operation. Note this only affects the python implementations of these distances - the cython versions do not have this error.\r\n\r\n**To Reproduce**\r\nRun either WDDTW or DDTW with two numpy multidimensional time series arrays (i.e. two 3d arrays).\r\n\r\n`derivative_dtw_distance(np.array([[1,2,3],[4,5,6]]), np.array([[7,8,9],[10,11,12]]))`\r\n\r\n**Expected behavior**\r\nNo error.\r\n\r\n**Additional context**\r\nThe diff usage (iirc) is incorrect for computing the derivative anyway. We should change this to compute the derivative properly.\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/654/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/645", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/645/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/645/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/645/events", "html_url": "https://github.com/sktime/sktime/issues/645", "id": 799322074, "node_id": "MDU6SXNzdWU3OTkzMjIwNzQ=", "number": 645, "title": "[BUG] Variable length time series throw an error in DTW in elastic.py", "user": {"login": "goastler", "id": 7059456, "node_id": "MDQ6VXNlcjcwNTk0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7059456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goastler", "html_url": "https://github.com/goastler", "followers_url": "https://api.github.com/users/goastler/followers", "following_url": "https://api.github.com/users/goastler/following{/other_user}", "gists_url": "https://api.github.com/users/goastler/gists{/gist_id}", "starred_url": "https://api.github.com/users/goastler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goastler/subscriptions", "organizations_url": "https://api.github.com/users/goastler/orgs", "repos_url": "https://api.github.com/users/goastler/repos", "events_url": "https://api.github.com/users/goastler/events{/privacy}", "received_events_url": "https://api.github.com/users/goastler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-02T14:17:32Z", "updated_at": "2021-02-20T20:43:21Z", "closed_at": "2021-02-20T20:43:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIn elastic.py, the vanilla python implementation of DTW apparently doesn't handle variable length time series properly. I believe it assumes the cost matrix is square, which it will not be for time series of different lengths. https://github.com/alan-turing-institute/sktime/blob/74c14cbdf01f5acb55294f69738e03facf09c80f/sktime/distances/elastic.py#L54\r\n\r\n**Expected behavior**\r\nThe cost matrix is sized corresponding to each of the input time series allowing for variable length time series.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/640", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/640/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/640/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/640/events", "html_url": "https://github.com/sktime/sktime/issues/640", "id": 797756243, "node_id": "MDU6SXNzdWU3OTc3NTYyNDM=", "number": 640, "title": "[BUG] Fitting errors using WEASEL", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-31T16:52:41Z", "updated_at": "2021-02-04T12:24:52Z", "closed_at": "2021-02-04T12:24:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am trying to train `WEASEL` on different datasets, but I seem to get errors on many of them. Below is a table with the names of datasets that failed and their corresponding errors.\r\n\r\nThere seems to be 2 main errors\r\n * NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\r\n * Input contains NaN, infinity or a value too large for dtype('float64')\r\n\r\nFor the second error I checked the `PLAID` dataset and it does contain missing values. As per my understanding, I thought since the `data_io` utils have a `replace_missing_vals_with='NaN'` option that algorithms will be able to learn on data with missing values. **Am I correct ?** or do I have I handle missing values myself ?\r\n\r\n```python\r\ndataset                   error\r\nRefrigerationDevices\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\nScreenType\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\nElectricDevices\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\nComputers\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\nLargeKitchenAppliances\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\nSmallKitchenAppliances\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\nPLAID\t\"Input contains NaN, infinity or a value too large for dtype('float64')\"\r\nACSF1\t\"NO matching definition for argument type(s) readonly array(float64, 1d, C), int64, int64, array(float64, 1d, C)\"\r\n```\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.classification.dictionary_based import WEASEL\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sktime.utils.data_io import load_from_arff_to_dataframe as load_arff\r\n\r\n## I import the desired dataset\r\nX_train, y_train = load_arff(f'{dataset}_TRAIN.arff')\r\nX_test, y_test = load_arff(f'{dataset}_TEST.arff')\r\n\r\nclassifier = WEASEL(p_threshold=0.05, n_jobs=-1)\r\nclassifier.fit(X_train, y_train)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Ismail\\.virtualenvs\\Code-h9r8g-fJ\\Scripts\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 51.3.3\r\n      sklearn: 0.24.1\r\n       sktime: 0.5.2\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.5\r\n        scipy: 1.6.0\r\n       Cython: 0.29.21\r\n       pandas: 1.2.1\r\n   matplotlib: 3.3.4\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/632", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/632/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/632/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/632/events", "html_url": "https://github.com/sktime/sktime/issues/632", "id": 794182147, "node_id": "MDU6SXNzdWU3OTQxODIxNDc=", "number": 632, "title": "[BUG] Number of folds reported in ForecastingGridSearchCV seems to be incorrect", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-26T12:10:57Z", "updated_at": "2021-03-23T10:09:30Z", "closed_at": "2021-03-23T10:09:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIt seems that the number of splits calculation ignores the `initial_window`. In `ForecastingGridSearchCV` since the window data gets appended to the `initial_window`, the number of splits should be far less than the one reported in the example below\r\n\r\n**To Reproduce**\r\n```python\r\ny = load_airline()\r\n\r\nfh = np.arange(1, 13)\r\ny_train, y_test = temporal_train_test_split(y, test_size=len(fh))\r\nprint(y.shape, y_train.shape[0], y_test.shape[0])\r\n\r\ncv = SlidingWindowSplitter(initial_window=int(len(y_train) * 0.5), start_with_window=True)\r\n\r\nregressor = RandomForestRegressor(random_state=42)\r\nforecaster = ReducedRegressionForecaster(regressor=regressor, strategy=\"recursive\")\r\n\r\nparam_grid = {\"regressor__n_estimators\": [200, 300]}\r\n\r\ngscv = ForecastingGridSearchCV(forecaster=forecaster, cv=cv, param_grid=param_grid, verbose=1)\r\ngscv.fit(y_train)\r\n```\r\n\r\n```python\r\n(144,) 132 12\r\nFitting 122 folds for each of 2 candidates, totalling 244 fits\r\n```\r\n\r\n**Expected behavior**\r\n\r\nWith an internal window length of 10 being used, I would have expected the following\r\n\r\n**Number of folds** \r\n  = len(validation data) - window_length\r\n  = len(y_train) - initial_window - window_length\r\n  = 132 - 66 - 10\r\n  = **56 folds (expected)** but output shows 122 folds.\r\n\r\nBelow image is for illustration only (does not match the exact number of points in this example)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/105842028-39d8a100-5f9b-11eb-840d-1ace9c50d801.png)\r\n\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.6.12 |Anaconda, Inc.| (default, Sep  9 2020, 00:29:25) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\sktime_dev\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 51.0.0.post20201207\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/628", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/628/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/628/events", "html_url": "https://github.com/sktime/sktime/issues/628", "id": 789918209, "node_id": "MDU6SXNzdWU3ODk5MTgyMDk=", "number": 628, "title": "[BUG] Overlap of training and test window in SlidingWindowSplitter", "user": {"login": "koralturkk", "id": 18037789, "node_id": "MDQ6VXNlcjE4MDM3Nzg5", "avatar_url": "https://avatars.githubusercontent.com/u/18037789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koralturkk", "html_url": "https://github.com/koralturkk", "followers_url": "https://api.github.com/users/koralturkk/followers", "following_url": "https://api.github.com/users/koralturkk/following{/other_user}", "gists_url": "https://api.github.com/users/koralturkk/gists{/gist_id}", "starred_url": "https://api.github.com/users/koralturkk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koralturkk/subscriptions", "organizations_url": "https://api.github.com/users/koralturkk/orgs", "repos_url": "https://api.github.com/users/koralturkk/repos", "events_url": "https://api.github.com/users/koralturkk/events{/privacy}", "received_events_url": "https://api.github.com/users/koralturkk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-20T12:02:48Z", "updated_at": "2021-01-29T15:13:42Z", "closed_at": "2021-01-29T15:13:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\n`sktime/sktime/forecasting/model_selection/_split.py\r\n`\r\n`Line 217 in 36f3cb1 test_window = split_point + fh - 1 \r\n`\r\nThe last element of training window and first element of test window overlaps when SlidingWindowSplitter's _split_windows function is called. \r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.model_selection import (\r\n    ForecastingGridSearchCV,\r\n    SlidingWindowSplitter,\r\n    temporal_train_test_split,\r\n)\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y, test_size=36)\r\n\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\ncv = SlidingWindowSplitter(step_length= 3, fh = list(range(3)), window_length= 20)\r\n\r\nwindows = cv._split_windows(y_train)\r\nfor i in list(windows)[:10]:\r\n    print(i)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n(array([-20, -19, -18, -17, -16, -15, -14, -13, -12, -11, -10, -9, -8,\r\n-7, -6, -5, -4, -3, -2]), array([-1, 0, 1]))\r\n(array([-17, -16, -15, -14, -13, -12, -11, -10, -9, -8, -7, -6, -5,\r\n-4, -3, -2, -1, 0, 1]), array([2, 3, 4]))\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n\r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\nSystem:\r\n    python: 3.6.9 (default, Oct  8 2020, 12:12:24)  [GCC 8.4.0]\r\nexecutable: /usr/bin/python3\r\n   machine: Linux-4.19.112+-x86_64-with-Ubuntu-18.04-bionic\r\n\r\nPython dependencies:\r\n          pip: 19.3.1\r\n   setuptools: 51.1.2\r\n      sklearn: 0.24.1\r\n       sktime: 0.5.2\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.5\r\n        scipy: 1.4.1\r\n       Cython: 0.29.21\r\n       pandas: 1.1.5\r\n   matplotlib: 3.2.2\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: None\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/623", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/623/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/623/events", "html_url": "https://github.com/sktime/sktime/issues/623", "id": 787061220, "node_id": "MDU6SXNzdWU3ODcwNjEyMjA=", "number": 623, "title": "[BUG] Hourly data series fails to pass np.isnan checks", "user": {"login": "abendinelli", "id": 1815615, "node_id": "MDQ6VXNlcjE4MTU2MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1815615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abendinelli", "html_url": "https://github.com/abendinelli", "followers_url": "https://api.github.com/users/abendinelli/followers", "following_url": "https://api.github.com/users/abendinelli/following{/other_user}", "gists_url": "https://api.github.com/users/abendinelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/abendinelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abendinelli/subscriptions", "organizations_url": "https://api.github.com/users/abendinelli/orgs", "repos_url": "https://api.github.com/users/abendinelli/repos", "events_url": "https://api.github.com/users/abendinelli/events{/privacy}", "received_events_url": "https://api.github.com/users/abendinelli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-15T17:24:40Z", "updated_at": "2021-04-14T14:12:11Z", "closed_at": "2021-04-14T14:12:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "When following the tutorial and attempting to use an hourly data series, the ForecastingHorizon is passing a numpy.ndarray with type \"object\" instead of \"float64\". This causes the last window checks to fail because np.isnan() does not work on \"object\" type ndarrays.\r\n\r\nMy code:\r\n\r\n```\r\ndf = pd.DataFrame(rows, columns=cols)\r\n\r\ndf['dtime'] = pd.to_datetime(df['DATE_DAY'].astype('str') + ' ' + df['HOUR'].astype('str') + ':00:00')\r\ndf = df.set_index('dtime')\r\n\r\nzoom = df[\"2020-05-01\":\"2020-11-01\"]['SESSION_MINUTES']\r\nzoom.index = zoom.index.to_period('H')\r\nzoom_series = pd.Series(zoom)\r\n\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\ny_train, y_test = temporal_train_test_split(zoom_series, test_size=720)\r\nplot_series(y_train, y_test, labels=[\"y_train\", \"y_test\"])\r\n\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\nfrom sklearn.neighbors import KNeighborsRegressor\r\n\r\nregressor = KNeighborsRegressor(n_neighbors=1)\r\nforecaster = ReducedRegressionForecaster(\r\n    regressor=regressor, window_length=12, strategy=\"recursive\"\r\n)\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\nplot_series(y_test, y_pred, labels=[\"y_test\", \"y_pred\"])\r\n```\r\n\r\nThe fix I had to implement in sktime/forecasting/compose/_reduce.py on line 330:\r\n\r\n```\r\n    def _predict_last_window(\r\n        self, fh, X=None, return_pred_int=False, alpha=DEFAULT_ALPHA\r\n    ):\r\n        \"\"\"Predict\"\"\"\r\n        # compute prediction\r\n        # prepare recursive predictions\r\n        fh_max = fh.to_relative(self.cutoff)[-1]\r\n        y_pred = np.zeros(fh_max)\r\n\r\n        # get last window from observation horizon\r\n        last_window, _ = self._get_last_window()\r\n        last_window = last_window.astype('float64')      # This is the fix\r\n        if not self._is_predictable(last_window):\r\n            return self._predict_nan(fh)\r\n\r\n        # recursively predict iterating over forecasting horizon\r\n        for i in range(fh_max):\r\n            X_last = self._format_windows(\r\n                [last_window]\r\n            )  # convert data into required input format\r\n            y_pred[i] = self.regressor_.predict(\r\n                X_last\r\n            )  # make forecast using fitted regressor\r\n\r\n            # update last window with previous prediction\r\n            last_window = np.append(last_window, y_pred[i])[-self.window_length_ :]\r\n\r\n        fh_idx = fh.to_indexer(self.cutoff)\r\n        return y_pred[fh_idx]\r\n```\r\n\r\nThere are other places where the np.isnan() check is failing due to the \"object\" type of the array. \r\n\r\nSystem:\r\n    python: 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)]\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 49.2.1\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.2\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.5.4\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 0.17.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: None\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/621", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/621/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/621/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/621/events", "html_url": "https://github.com/sktime/sktime/issues/621", "id": 785967789, "node_id": "MDU6SXNzdWU3ODU5Njc3ODk=", "number": 621, "title": "[BUG] update_predict in `ReducedRegressionForecaster` does not update the parameter values based on data in sliding/expanding windows", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-14T12:57:58Z", "updated_at": "2021-03-23T09:51:00Z", "closed_at": "2021-03-23T09:50:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen performing `update_predict()` on `ReducedRegressionForecaster`, the parameter values are not updated using the latest data. \r\n\r\n**To Reproduce**\r\n\r\nI will add some code later if needed, but here is the code stack:\r\n\r\n[`update_predict`](https://github.com/alan-turing-institute/sktime/blob/v0.5.2/sktime/forecasting/base/_sktime.py#L580)  --> [`_predict_moving_cutoff`](https://github.com/alan-turing-institute/sktime/blob/v0.5.2/sktime/forecasting/base/_sktime.py#L610)  --> [`_update_predict_single`](https://github.com/alan-turing-institute/sktime/blob/36f3cb1b96421bb08e041d16949d3d8a9be6f7d8/sktime/forecasting/base/_sktime.py#L456) --> This does a `self.update()`, but it simply updates the data values using `_update_y_X()` and does not refit the model with this data to update the parameters.\r\n\r\n**Expected behavior**\r\nAfter each update of the data, one would expect that the model parameters also be updated using the latest data. \r\n\r\n**Additional context**\r\nSimilar issue can be found in https://github.com/alan-turing-institute/sktime/issues/431\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\n```python\r\nSystem:\r\n    python: 3.6.12 |Anaconda, Inc.| (default, Sep  9 2020, 00:29:25) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\sktime_dev\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 51.0.0.post20201207\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n```\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/619", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/619/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/619/events", "html_url": "https://github.com/sktime/sktime/issues/619", "id": 785365261, "node_id": "MDU6SXNzdWU3ODUzNjUyNjE=", "number": 619, "title": "[Question] Time Series Bag of Features (TSBF) is it possible to implement using SKTime ?", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-13T19:06:16Z", "updated_at": "2021-01-13T21:28:19Z", "closed_at": "2021-01-13T21:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**This is not really a bug, but rather a question**\r\n\r\nI read about `Time Series Bag of Features (TSBF)` in the **The great time series classification bake off** review paper and it seemed to perform as good as `Time Series Forest (TSF)`\r\nSo I was wondering if it could be implemented using the utilities that we have in SKTime right now, maybe using a `pipeline` or something.\r\n\r\n@TonyBagnall , Do you have any suggestions regarding the feasibility of doing so ? ", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/619/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/616", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/616/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/616/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/616/events", "html_url": "https://github.com/sktime/sktime/issues/616", "id": 784352967, "node_id": "MDU6SXNzdWU3ODQzNTI5Njc=", "number": 616, "title": "[BUG] Upgrade of sktime crashed my KNeighborsTimeSeriesClassifier code", "user": {"login": "thomastkok", "id": 9884301, "node_id": "MDQ6VXNlcjk4ODQzMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/9884301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomastkok", "html_url": "https://github.com/thomastkok", "followers_url": "https://api.github.com/users/thomastkok/followers", "following_url": "https://api.github.com/users/thomastkok/following{/other_user}", "gists_url": "https://api.github.com/users/thomastkok/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomastkok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomastkok/subscriptions", "organizations_url": "https://api.github.com/users/thomastkok/orgs", "repos_url": "https://api.github.com/users/thomastkok/repos", "events_url": "https://api.github.com/users/thomastkok/events{/privacy}", "received_events_url": "https://api.github.com/users/thomastkok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2021-01-12T15:42:36Z", "updated_at": "2021-02-17T22:09:03Z", "closed_at": "2021-02-17T22:09:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nUpgrade of sktime crashed my existing project which uses the KNeighborsTimeSeriesClassifier. It seems to me that there was no backwards compatibility in one of the recent upgrades for the project. (Or of course I am doing something wrong myself).\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nknn_model = KNeighborsTimeSeriesClassifier(n_neighbors=5, metric=\"dtw\")\r\n```\r\n\r\n**Expected behavior**\r\nI got the following error:\r\n~/Documents/time_series_analysis/venv/lib/python3.8/site-packages/sktime/classification/distance_based/_time_series_neighbors.py in __init__(self, n_neighbors, weights, algorithm, metric, metric_params, **kwargs)\r\n    167                 )\r\n    168 \r\n--> 169         super(KNeighborsTimeSeriesClassifier, self).__init__(\r\n    170             n_neighbors=n_neighbors,\r\n    171             algorithm=algorithm,\r\n\r\nTypeError: super(type, obj): obj must be an instance or subtype of type\r\n\r\n\r\n**Additional context**\r\nThis happened with the most recent upgrade I did.\r\n\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.8.5 (default, Jul 28 2020, 12:59:40)  [GCC 9.3.0]\r\nexecutable: /home/thomas/Documents/time_series_analysis/venv/bin/python\r\n   machine: Linux-5.8.0-36-generic-x86_64-with-glibc2.29\r\n\r\nPython dependencies:\r\n          pip: 20.0.2\r\n   setuptools: 44.0.0\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: None\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 0.17.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: None", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/611", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/611/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/611/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/611/events", "html_url": "https://github.com/sktime/sktime/issues/611", "id": 783962036, "node_id": "MDU6SXNzdWU3ODM5NjIwMzY=", "number": 611, "title": "[BUG] ModuleNotFoundError because of change of scikit_learn upgrade", "user": {"login": "Hephaest", "id": 37981444, "node_id": "MDQ6VXNlcjM3OTgxNDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/37981444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hephaest", "html_url": "https://github.com/Hephaest", "followers_url": "https://api.github.com/users/Hephaest/followers", "following_url": "https://api.github.com/users/Hephaest/following{/other_user}", "gists_url": "https://api.github.com/users/Hephaest/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hephaest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hephaest/subscriptions", "organizations_url": "https://api.github.com/users/Hephaest/orgs", "repos_url": "https://api.github.com/users/Hephaest/repos", "events_url": "https://api.github.com/users/Hephaest/events{/privacy}", "received_events_url": "https://api.github.com/users/Hephaest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-12T06:45:27Z", "updated_at": "2021-01-12T16:45:17Z", "closed_at": "2021-01-12T16:45:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n```Python\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n<ipython-input-10-f1e54e367177> in <module>\r\n      1 import time\r\n      2 \r\n----> 3 from sklearn.ensemble.forest import RandomForestClassifier\r\n      4 from sklearn.pipeline import Pipeline\r\n      5 \r\n\r\nModuleNotFoundError: No module named 'sklearn.ensemble.forest'\r\n```\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nimport time\r\n\r\nfrom sklearn.ensemble.forest import RandomForestClassifier\r\nfrom sklearn.pipeline import Pipeline\r\n\r\nfrom sktime.datasets import load_osuleaf\r\n\r\ntrain_x, train_y = load_osuleaf(split=\"train\", return_X_y=True)\r\ntest_x, test_y = load_osuleaf(split=\"test\", return_X_y=True)\r\n\r\n# example pipeline with 1 minute time limit\r\npipeline = Pipeline(\r\n    [\r\n        (\r\n            \"st\",\r\n            ContractedShapeletTransform(\r\n                time_contract_in_mins=time_contract_in_mins,\r\n                num_candidates_to_sample_per_case=10,\r\n                verbose=False,\r\n            ),\r\n        ),\r\n        (\"rf\", RandomForestClassifier(n_estimators=100)),\r\n    ]\r\n)\r\n\r\nstart = time.time()\r\npipeline.fit(train_x, train_y)\r\nend_build = time.time()\r\npreds = pipeline.predict(test_x)\r\nend_test = time.time()\r\n\r\nprint(\"Results:\")\r\nprint(\"Correct:\")\r\ncorrect = sum(preds == test_y)\r\nprint(\"\\t\" + str(correct) + \"/\" + str(len(test_y)))\r\nprint(\"\\t\" + str(correct / len(test_y)))\r\nprint(\"\\nTiming:\")\r\nprint(\"\\tTo build:   \" + str(end_build - start) + \" secs\")\r\nprint(\"\\tTo predict: \" + str(end_test - end_build) + \" secs\")\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n```Python\r\n1.1210031509399414\r\n2.162216901779175\r\n2.449451446533203\r\n2.5960922241210938\r\nResults:\r\nCorrect:\r\n\t121/242\r\n\t0.5\r\n\r\nTiming:\r\n\tTo build:   68.00058245658875 secs\r\n\tTo predict: 8.72866439819336 secs\r\n```\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nI upgrade `scikit_learn` from `0.23.1` to `0.24.0` and unfortunately failed in this cell.\r\nThe reason is that `scikit_learn` community changed the sub-module name from `forest` to `_forest`.\r\n\r\nI wonder instead of such fine-grained import, we can avoid such issue by a little more coarse-grained import. For this case:\r\n```Python\r\nfrom sklearn.ensemble import RandomForestClassifier\r\n```\r\nWe already know there cannot be another `RandomForestClassifier` class and the libs from `sklearn.ensemble` are not big. Therefore, this seems to a balanced solution for both `0.23.x` to `0.24.x` version of `scikit_learn`.\r\n\r\nWhat do you think? If you also agree with this suggestion then I will pull a request to fix that. If you don't like that, I am also willing to hear your explanation.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 49.2.1\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.4.1\r\n       Cython: 0.29.17\r\n       pandas: 1.1.2\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/608", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/608/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/608/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/608/events", "html_url": "https://github.com/sktime/sktime/issues/608", "id": 783238722, "node_id": "MDU6SXNzdWU3ODMyMzg3MjI=", "number": 608, "title": "[BUG] TypeError from KNeighborsTimeSeriesClassifier", "user": {"login": "Hephaest", "id": 37981444, "node_id": "MDQ6VXNlcjM3OTgxNDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/37981444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hephaest", "html_url": "https://github.com/Hephaest", "followers_url": "https://api.github.com/users/Hephaest/followers", "following_url": "https://api.github.com/users/Hephaest/following{/other_user}", "gists_url": "https://api.github.com/users/Hephaest/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hephaest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hephaest/subscriptions", "organizations_url": "https://api.github.com/users/Hephaest/orgs", "repos_url": "https://api.github.com/users/Hephaest/repos", "events_url": "https://api.github.com/users/Hephaest/events{/privacy}", "received_events_url": "https://api.github.com/users/Hephaest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-11T10:13:10Z", "updated_at": "2021-01-12T10:25:57Z", "closed_at": "2021-01-12T10:25:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n```Python\r\n\r\n---------------------------------------------------------------------------\r\n\r\nTypeError                                 Traceback (most recent call last)\r\n\r\n<ipython-input-25-a54f834dd466> in <module>\r\n      2 \r\n      3 knn = KNeighborsTimeSeriesClassifier(n_neighbors=1, metric=\"dtw\")\r\n----> 4 knn.fit(X_train, y_train)\r\n      5 knn.score(X_test, y_test)\r\n      6 \r\n\r\n~\\Desktop\\sktime\\sktime\\classification\\distance_based\\_time_series_neighbors.py in fit(self, X, y)\r\n    250             check_array.__code__ = _check_array_ts.__code__\r\n    251 \r\n--> 252         fx = self._fit(X, self._y)\r\n    253 \r\n    254         if hasattr(check_array, \"__wrapped__\"):\r\n\r\nTypeError: _fit() takes 2 positional arguments but 3 were given\r\n```\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n\r\nfrom sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\n\r\nknn = KNeighborsTimeSeriesClassifier(n_neighbors=1, metric=\"dtw\")\r\nknn.fit(X_train, y_train)\r\nknn.score(X_test, y_test)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nGenerate the result: `0.55`\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nThis problem occurs because that `NeighborsBase._fit()` only accept 1 positional argument (only X).\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)]\r\nexecutable: c:\\users\\hephaest\\appdata\\local\\programs\\python\\python38\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 49.2.1\r\n      sklearn: 0.23.2\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.4.1\r\n       Cython: 0.29.21\r\n       pandas: 1.1.2\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n</details>\r\n<!-- Thanks for contributing! -->", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/608/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/605", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/605/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/605/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/605/events", "html_url": "https://github.com/sktime/sktime/issues/605", "id": 783125986, "node_id": "MDU6SXNzdWU3ODMxMjU5ODY=", "number": 605, "title": "[BUG] ModuleNotFoundError: No module named 'sktime.classification.frequency_based'", "user": {"login": "Hephaest", "id": 37981444, "node_id": "MDQ6VXNlcjM3OTgxNDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/37981444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hephaest", "html_url": "https://github.com/Hephaest", "followers_url": "https://api.github.com/users/Hephaest/followers", "following_url": "https://api.github.com/users/Hephaest/following{/other_user}", "gists_url": "https://api.github.com/users/Hephaest/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hephaest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hephaest/subscriptions", "organizations_url": "https://api.github.com/users/Hephaest/orgs", "repos_url": "https://api.github.com/users/Hephaest/repos", "events_url": "https://api.github.com/users/Hephaest/events{/privacy}", "received_events_url": "https://api.github.com/users/Hephaest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-11T07:08:08Z", "updated_at": "2021-01-11T10:36:38Z", "closed_at": "2021-01-11T10:36:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nModuleNotFoundError: No module named 'sktime.classification.frequency_based'\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.classification.frequency_based import RandomIntervalSpectralForest\r\n\r\nrise = RandomIntervalSpectralForest(n_estimators=10)\r\nrise.fit(X_train, y_train)\r\nrise.score(X_test, y_test)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nGenerate the result: `0.8301886792452831`\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\nthe code from `examples/02_classification_univariate.ipynb`\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)]\r\nexecutable: c:\\users\\hephaest\\appdata\\local\\programs\\python\\python38\\python.exe\r\n   machine: Windows-10-10.0.19041-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 49.2.1\r\n      sklearn: 0.23.2\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.3\r\n        scipy: 1.4.1\r\n       Cython: 0.29.21\r\n       pandas: 1.1.2\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n</details>\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/600", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/600/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/600/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/600/events", "html_url": "https://github.com/sktime/sktime/issues/600", "id": 782655103, "node_id": "MDU6SXNzdWU3ODI2NTUxMDM=", "number": 600, "title": "[BUG] Cannot dump proximity forest model using joblib or pickle", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-09T17:54:00Z", "updated_at": "2021-02-20T20:44:33Z", "closed_at": "2021-02-20T20:44:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nCannot export trained proximity forest model locally, to be used later on with other datasets.\r\nI tried doing so using picke and joblib but both failed.\r\n\r\n**To Reproduce**\r\n```python\r\nimport joblib\r\nimport pickle\r\nfrom sktime.classification.distance_based import ProximityForest\r\n\r\nclf = ProximityForest(get_distance_measure= None, verbosity= 0)\r\nclf.fit(X_train, y_train)\r\n\r\n#### Using Pickle ####\r\n######################\r\npkl_filename = \"pickle_model.pkl\"\r\nwith open(pkl_filename, 'wb') as file:\r\n    pickle.dump(clf, file)\r\n\r\nAttributeError                            Traceback (most recent call last)\r\n~\\Code\\run.py in <module>\r\n      1 pkl_filename = \"pickle_model.pkl\"\r\n      2 with open(pkl_filename, 'wb') as file:\r\n----> 3     pickle.dump(models['pforest'].clf, file)\r\n      4\r\n\r\nAttributeError: Can't pickle local object 'setup_all_distance_measure_getter.<locals>.pick_rand_distance_measure'\r\n\r\n\r\n#### Using Joblib####\r\n#####################\r\njoblib_file = \"joblib_model.pkl\"\r\njoblib.dump(clf, joblib_file)\r\n\r\nCan't pickle <function setup_all_distance_measure_getter.<locals>.pick_rand_distance_measure at 0x000001AC07AC3EE8>: it's not found as sktime.classification.distance_based._proximity_forest.setup_all_distance_measure_getter.<locals>.pick_rand_distance_measure\r\nTraceback (most recent call last):\r\n  File \"run.py\", line 269, in <module>\r\n    export_model(models, args)\r\n  File \"run.py\", line 221, in export_model\r\n    m.export_model(exp)\r\n  File \"~\\Code\\models.py\", line 178, in export_model\r\n    joblib.dump(self.clf, fname)\r\n  File \"~\\.virtualenvs\\Code-h9r8g-fJ\\lib\\site-packages\\joblib\\numpy_pickle.py\", line 480, in dump\r\n    NumpyPickler(f, protocol=protocol).dump(value)\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 437, in dump\r\n    self.save(obj)\r\n  File \"~\\.virtualenvs\\Code-h9r8g-fJ\\lib\\site-packages\\joblib\\numpy_pickle.py\", line 282, in save\r\n    return Pickler.save(self, obj)\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 549, in save\r\n    self.save_reduce(obj=obj, *rv)\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 662, in save_reduce\r\n    save(state)\r\n  File \"~\\.virtualenvs\\Code-h9r8g-fJ\\lib\\site-packages\\joblib\\numpy_pickle.py\", line 282, in save\r\n    return Pickler.save(self, obj)\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 504, in save\r\n    f(self, obj) # Call unbound method with explicit self\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 859, in save_dict\r\n    self._batch_setitems(obj.items())\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 885, in _batch_setitems\r\n    save(v)\r\n  File \"~\\.virtualenvs\\Code-h9r8g-fJ\\lib\\site-packages\\joblib\\numpy_pickle.py\", line 282, in save\r\n    return Pickler.save(self, obj)\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 504, in save\r\n    f(self, obj) # Call unbound method with explicit self\r\n  File \"~\\Python37\\Lib\\pickle.py\", line 960, in save_global\r\n    (obj, module_name, name)) from None\r\n_pickle.PicklingError: Can't pickle <function setup_all_distance_measure_getter.<locals>.pick_rand_distance_measure at 0x000001AC07AC3EE8>: it's not found as sktime.classification.distance_based._proximity_forest.setup_all_distance_measure_getter.<locals>.pick_rand_distance_measure\r\n```\r\n\r\n**Expected behavior**\r\nTo be able to dump Proximity Forest models.\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\npython: 3.7.4 (tags/v3.7.4:e09359112e, Jul 8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nexecutable:~.virtualenvs\\Code-h9r8g-fJ\\Scripts\\python.exe\r\nmachine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\npip: 20.3.3\r\nsetuptools: 51.1.1\r\nsklearn: 0.24.0\r\nsktime: 0.5.0\r\nstatsmodels: 0.12.1\r\nnumpy: 1.19.4\r\nscipy: 1.5.4\r\nCython: 0.29.21\r\npandas: 1.2.0\r\nmatplotlib: 3.3.3\r\njoblib: 1.0.0\r\nnumba: 0.52.0\r\npmdarima: None\r\ntsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/598", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/598/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/598/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/598/events", "html_url": "https://github.com/sktime/sktime/issues/598", "id": 781761392, "node_id": "MDU6SXNzdWU3ODE3NjEzOTI=", "number": 598, "title": "[BUG] AttributeError: 'ProximityStump' object has no attribute 'get_exemplars'", "user": {"login": "CaioUeno", "id": 30421734, "node_id": "MDQ6VXNlcjMwNDIxNzM0", "avatar_url": "https://avatars.githubusercontent.com/u/30421734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CaioUeno", "html_url": "https://github.com/CaioUeno", "followers_url": "https://api.github.com/users/CaioUeno/followers", "following_url": "https://api.github.com/users/CaioUeno/following{/other_user}", "gists_url": "https://api.github.com/users/CaioUeno/gists{/gist_id}", "starred_url": "https://api.github.com/users/CaioUeno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CaioUeno/subscriptions", "organizations_url": "https://api.github.com/users/CaioUeno/orgs", "repos_url": "https://api.github.com/users/CaioUeno/repos", "events_url": "https://api.github.com/users/CaioUeno/events{/privacy}", "received_events_url": "https://api.github.com/users/CaioUeno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-08T00:55:05Z", "updated_at": "2021-07-14T12:14:15Z", "closed_at": "2021-07-14T12:14:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nI'm trying to run a cross validation using ProximityStump classifier, but I get this error.\r\nI was looking at the code and I guess that the problem is at this line:\r\nhttps://github.com/alan-turing-institute/sktime/blob/3f132219e5217ba3dba4b0237f15ea847a84d5f5/sktime/classification/distance_based/_proximity_forest.py#L814\r\nThe \"name\" get_exemplars is replaced to pick_exemplars. Should it be changed? \r\nLooking at ProximityTree it stays as it is:\r\nhttps://github.com/alan-turing-institute/sktime/blob/3f132219e5217ba3dba4b0237f15ea847a84d5f5/sktime/classification/distance_based/_proximity_forest.py#L1061\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sklearn.model_selection import cross_val_predict\r\n\r\ncross_val_predict(base_model, X, y, cv=..., ...)\r\n```\r\nI am using ProximityStump as \"base_model\". X and y are from Chinatown dataset.\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nIt should work as fine as other sktime classifiers - ProximityForest and ProximityTree work great!\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n--> \r\nI am working alongside Prof. Diego Furtado Silva in a project about Meta-Learning.\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\npip: 20.0.2\r\n   setuptools: 44.0.0\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.1\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.6.0\r\n       Cython: None\r\n       pandas: 1.2.0\r\n   matplotlib: None\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/598/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/596", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/596/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/596/events", "html_url": "https://github.com/sktime/sktime/issues/596", "id": 780630858, "node_id": "MDU6SXNzdWU3ODA2MzA4NTg=", "number": 596, "title": "[BUG] Distance functions and distance based classifiers bugs and features", "user": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}, {"id": 3129824911, "node_id": "MDU6TGFiZWwzMTI5ODI0OTEx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:distances&kernels", "name": "module:distances&kernels", "color": "FD4F8F", "default": false, "description": "dists_kernels and distances modules: time series distances, kernels, pairwise transforms"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2021-01-06T15:21:13Z", "updated_at": "2021-12-07T11:12:35Z", "closed_at": "2021-12-07T11:12:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The distance based classifiers are not working properly, and there are several issues related to them. I am going to collate them here and comment on progress fixing them.\r\n\r\n1. KNN with msm distance give exact same scores with different hyper-parameters\r\nhttps://github.com/alan-turing-institute/sktime/issues/589\r\n\r\n2. ColumnEnsembleClassifier fails fitting KNN classifiers\r\nhttps://github.com/alan-turing-institute/sktime/issues/578\r\n\r\n3. Cannot dump proximity forest model using joblib or pickle\r\nhttps://github.com/alan-turing-institute/sktime/issues/600\r\n\r\n4. AttributeError: 'ProximityStump' object has no attribute 'get_exemplars\r\nhttps://github.com/alan-turing-institute/sktime/issues/598\r\n\r\nMore issues rolled into this one for clarity\r\n5. Proximity Forest always using 2 processors #663\r\nhttps://github.com/alan-turing-institute/sktime/issues/663\r\n\r\n6. Derivative distance measures out\r\nhttps://github.com/alan-turing-institute/sktime/issues/654\r\n\r\n7. Distance measure unit testing\r\nhttps://github.com/alan-turing-institute/sktime/issues/646\r\n\r\n8. Variable length distance throws an error\r\nhttps://github.com/alan-turing-institute/sktime/issues/645\r\n\r\n9. Cross validation bug \r\nhttps://github.com/alan-turing-institute/sktime/issues/1057\r\n\r\n10. Strange PF bug in orchestration\r\nhttps://github.com/alan-turing-institute/sktime/issues/1114\r\n\r\nThere are several related issues which I am investigating, this is a work in progress. \r\n\r\n1. the sktime knn classifier has changed, and no longer has a _fit(X) method, so we use fir(X,y)\r\n2. the DTW window sizes are, we think, not set correctly\r\n3. there may be an issue with data transposition\r\n\r\nactions are:\r\n1. get the classifiers working\r\n2. black box correctness vs tsml toolkit\r\n3. write unit tests for distance functions and classifiers\r\n4. make sure all tuning works correctly\r\n5. fix the above issues\r\n\r\nfixed \r\n\r\nKNeighboursTimeSeriesClassifier throws errors with multivariate time series data when algorithm is set to either 'kd_tree' or 'ball_tree\r\nhttps://github.com/alan-turing-institute/sktime/issues/328\r\nEuclidean distance for KNN\r\nhttps://github.com/alan-turing-institute/sktime/issues/551\r\n\r\nBug with KNN\r\nhttps://github.com/alan-turing-institute/sktime/issues/413\r\n\r\nTypeError from KNeighborsTimeSeriesClassifier\r\nhttps://github.com/alan-turing-institute/sktime/issues/608\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/596/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/591", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/591/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/591/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/591/events", "html_url": "https://github.com/sktime/sktime/issues/591", "id": 777982361, "node_id": "MDU6SXNzdWU3Nzc5ODIzNjE=", "number": 591, "title": "[BUG] Use of unsupported opcode (IS_OP) found on Python 3.9.1", "user": {"login": "alpozcan", "id": 9840837, "node_id": "MDQ6VXNlcjk4NDA4Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/9840837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alpozcan", "html_url": "https://github.com/alpozcan", "followers_url": "https://api.github.com/users/alpozcan/followers", "following_url": "https://api.github.com/users/alpozcan/following{/other_user}", "gists_url": "https://api.github.com/users/alpozcan/gists{/gist_id}", "starred_url": "https://api.github.com/users/alpozcan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alpozcan/subscriptions", "organizations_url": "https://api.github.com/users/alpozcan/orgs", "repos_url": "https://api.github.com/users/alpozcan/repos", "events_url": "https://api.github.com/users/alpozcan/events{/privacy}", "received_events_url": "https://api.github.com/users/alpozcan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-04T10:12:27Z", "updated_at": "2021-01-05T12:27:11Z", "closed_at": "2021-01-04T10:47:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhile running the unmodified code of [the second example in the README](https://github.com/alan-turing-institute/sktime#time-series-classification), the following error is encountered:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nUnsupportedError                          Traceback (most recent call last)\r\n<ipython-input-2-c43f88b2feab> in <module>\r\n----> 1 from sktime.classification.all import *\r\n      2 from sklearn.model_selection import train_test_split\r\n      3 from sklearn.metrics import accuracy_score\r\n      4 \r\n      5 X, y = load_arrow_head(return_X_y=True)\r\n\r\n~/python3/lib/python3.9/site-packages/sktime/classification/all/__init__.py in <module>\r\n     31 from sktime.classification.compose import ColumnEnsembleClassifier\r\n     32 from sktime.classification.compose import TimeSeriesForestClassifier\r\n---> 33 from sktime.classification.dictionary_based import BOSSEnsemble\r\n     34 from sktime.classification.dictionary_based import BOSSIndividual\r\n     35 from sktime.classification.dictionary_based import TemporalDictionaryEnsemble\r\n\r\n~/python3/lib/python3.9/site-packages/sktime/classification/dictionary_based/__init__.py in <module>\r\n      9 ]\r\n     10 \r\n---> 11 from sktime.classification.dictionary_based._boss import BOSSEnsemble\r\n     12 from sktime.classification.dictionary_based._boss import BOSSIndividual\r\n     13 from sktime.classification.dictionary_based._weasel import WEASEL\r\n\r\n~/python3/lib/python3.9/site-packages/sktime/classification/dictionary_based/_boss.py in <module>\r\n     18 \r\n     19 from sktime.classification.base import BaseClassifier\r\n---> 20 from sktime.transformers.series_as_features.dictionary_based import SFA\r\n     21 from sktime.utils.validation.series_as_features import check_X\r\n     22 from sktime.utils.validation.series_as_features import check_X_y\r\n\r\n~/python3/lib/python3.9/site-packages/sktime/transformers/series_as_features/dictionary_based/__init__.py in <module>\r\n      7 from sktime.transformers.series_as_features.dictionary_based._paa import PAA\r\n      8 from sktime.transformers.series_as_features.dictionary_based._sax import SAX\r\n----> 9 from sktime.transformers.series_as_features.dictionary_based._sfa import SFA\r\n\r\n~/python3/lib/python3.9/site-packages/sktime/transformers/series_as_features/dictionary_based/_sfa.py in <module>\r\n     24 \r\n     25 \r\n---> 26 class SFA(BaseSeriesAsFeaturesTransformer):\r\n     27     \"\"\"SFA (Symbolic Fourier Approximation) Transformer, as described in\r\n     28 \r\n\r\n~/python3/lib/python3.9/site-packages/sktime/transformers/series_as_features/dictionary_based/_sfa.py in SFA()\r\n    585     @staticmethod\r\n    586     @njit(\"float64[:](float64[:],int32,int32,float64[:])\", fastmath=True, cache=True)\r\n--> 587     def _calc_incremental_mean_std(series, end, window_size, stds=None):\r\n    588         # means = np.zeros(end)\r\n    589 \r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/decorators.py in wrapper(func)\r\n    216             with typeinfer.register_dispatcher(disp):\r\n    217                 for sig in sigs:\r\n--> 218                     disp.compile(sig)\r\n    219                 disp.disable_compile()\r\n    220         return disp\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n     30         def _acquire_compile_lock(*args, **kwargs):\r\n     31             with self:\r\n---> 32                 return func(*args, **kwargs)\r\n     33         return _acquire_compile_lock\r\n     34 \r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/dispatcher.py in compile(self, sig)\r\n    817             self._cache_misses[sig] += 1\r\n    818             try:\r\n--> 819                 cres = self._compiler.compile(args, return_type)\r\n    820             except errors.ForceLiteralArg as e:\r\n    821                 def folded(args, kws):\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/dispatcher.py in compile(self, args, return_type)\r\n     76 \r\n     77     def compile(self, args, return_type):\r\n---> 78         status, retval = self._compile_cached(args, return_type)\r\n     79         if status:\r\n     80             return retval\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/dispatcher.py in _compile_cached(self, args, return_type)\r\n     90 \r\n     91         try:\r\n---> 92             retval = self._compile_core(args, return_type)\r\n     93         except errors.TypingError as e:\r\n     94             self._failed_cache[key] = e\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/dispatcher.py in _compile_core(self, args, return_type)\r\n    103 \r\n    104         impl = self._get_implementation(args, {})\r\n--> 105         cres = compiler.compile_extra(self.targetdescr.typing_context,\r\n    106                                       self.targetdescr.target_context,\r\n    107                                       impl,\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler.py in compile_extra(typingctx, targetctx, func, args, return_type, flags, locals, library, pipeline_class)\r\n    625     pipeline = pipeline_class(typingctx, targetctx, library,\r\n    626                               args, return_type, flags, locals)\r\n--> 627     return pipeline.compile_extra(func)\r\n    628 \r\n    629 \r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler.py in compile_extra(self, func)\r\n    361         self.state.lifted = ()\r\n    362         self.state.lifted_from = None\r\n--> 363         return self._compile_bytecode()\r\n    364 \r\n    365     def compile_ir(self, func_ir, lifted=(), lifted_from=None):\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler.py in _compile_bytecode(self)\r\n    423         \"\"\"\r\n    424         assert self.state.func_ir is None\r\n--> 425         return self._compile_core()\r\n    426 \r\n    427     def _compile_ir(self):\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler.py in _compile_core(self)\r\n    403                 self.state.status.fail_reason = e\r\n    404                 if is_final_pipeline:\r\n--> 405                     raise e\r\n    406         else:\r\n    407             raise CompilerError(\"All available pipelines exhausted\")\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler.py in _compile_core(self)\r\n    394             res = None\r\n    395             try:\r\n--> 396                 pm.run(self.state)\r\n    397                 if self.state.cr is not None:\r\n    398                     break\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler_machinery.py in run(self, state)\r\n    339                     (self.pipeline_name, pass_desc)\r\n    340                 patched_exception = self._patch_error(msg, e)\r\n--> 341                 raise patched_exception\r\n    342 \r\n    343     def dependency_analysis(self):\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler_machinery.py in run(self, state)\r\n    330                 pass_inst = _pass_registry.get(pss).pass_inst\r\n    331                 if isinstance(pass_inst, CompilerPass):\r\n--> 332                     self._runPass(idx, pass_inst, state)\r\n    333                 else:\r\n    334                     raise BaseException(\"Legacy pass in use\")\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n     30         def _acquire_compile_lock(*args, **kwargs):\r\n     31             with self:\r\n---> 32                 return func(*args, **kwargs)\r\n     33         return _acquire_compile_lock\r\n     34 \r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler_machinery.py in _runPass(self, index, pss, internal_state)\r\n    289             mutated |= check(pss.run_initialization, internal_state)\r\n    290         with SimpleTimer() as pass_time:\r\n--> 291             mutated |= check(pss.run_pass, internal_state)\r\n    292         with SimpleTimer() as finalize_time:\r\n    293             mutated |= check(pss.run_finalizer, internal_state)\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/compiler_machinery.py in check(func, compiler_state)\r\n    262 \r\n    263         def check(func, compiler_state):\r\n--> 264             mangled = func(compiler_state)\r\n    265             if mangled not in (True, False):\r\n    266                 msg = (\"CompilerPass implementations should return True/False. \"\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/untyped_passes.py in run_pass(self, state)\r\n     84         bc = state['bc']\r\n     85         interp = interpreter.Interpreter(func_id)\r\n---> 86         func_ir = interp.interpret(bc)\r\n     87         state[\"func_ir\"] = func_ir\r\n     88         return True\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/interpreter.py in interpret(self, bytecode)\r\n    123         else:\r\n    124             flow = Flow(bytecode)\r\n--> 125             flow.run()\r\n    126             self.dfa = AdaptDFA(flow)\r\n    127             self.cfa = AdaptCFA(flow)\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/byteflow.py in run(self)\r\n    105                 # Loop over the state until it is terminated.\r\n    106                 while True:\r\n--> 107                     runner.dispatch(state)\r\n    108                     # Terminated?\r\n    109                     if state.has_terminated():\r\n\r\n~/python3/lib/python3.9/site-packages/numba/core/byteflow.py in dispatch(self, state)\r\n    267         else:\r\n    268             msg = \"Use of unsupported opcode (%s) found\" % inst.opname\r\n--> 269             raise UnsupportedError(msg, loc=self.get_debug_loc(inst.lineno))\r\n    270 \r\n    271     def op_NOP(self, state, inst):\r\n\r\nUnsupportedError: Failed in nopython mode pipeline (step: analyzing bytecode)\r\nUse of unsupported opcode (IS_OP) found\r\n\r\nFile \"../../python3/lib/python3.9/site-packages/sktime/transformers/series_as_features/dictionary_based/_sfa.py\", line 590:\r\n    def _calc_incremental_mean_std(series, end, window_size, stds=None):\r\n        <source elided>\r\n\r\n        if stds is None or len(stds) != end:\r\n        ^\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.classification.all import *\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.metrics import accuracy_score\r\n\r\nX, y = load_arrow_head(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\nclassifier = TimeSeriesForest()\r\nclassifier.fit(X_train, y_train)\r\ny_pred = classifier.predict(X_test)\r\naccuracy_score(y_test, y_pred)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe sample should run without any error.\r\n\r\n**Versions**\r\n\r\nDebian 10 OS, Python 3.9.1 compiled from source with `CFLAGS=-march=native -O2 -fomit-frame-pointer -pipe`.\r\nllvmlite Python package version 0.34.0 compiled against LLVM 10.0.1 installed from the official .deb repository.\r\n```\r\nSystem:\r\n    python: 3.9.1 (default, Dec 26 2020, 12:05:43)  [GCC 8.3.0]\r\nexecutable: /home/a/python3/bin/python\r\n   machine: Linux-4.19.0-13-amd64-x86_64-with-glibc2.28\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 49.2.1\r\n      sklearn: 0.24.0\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.17\r\n       pandas: 1.2.0\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n\r\n```\r\n\r\n</details>\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/589", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/589/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/589/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/589/events", "html_url": "https://github.com/sktime/sktime/issues/589", "id": 777530492, "node_id": "MDU6SXNzdWU3Nzc1MzA0OTI=", "number": 589, "title": "[BUG] KNN with msm distance give exact same scores with different hyper-parameters", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-02T21:49:06Z", "updated_at": "2021-01-06T15:22:41Z", "closed_at": "2021-01-06T15:22:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am running a cross validation using KNN with msm distance on the GunPoint dataset.\r\n\r\nI added the `c` hyper-parameter (a metric specific hyper-parameter) hoping that it might help attain better results. But I get identical results for all the cross validation runs on all split runs.\r\n\r\n**To Reproduce**\r\nRun \r\n\r\n```python\r\nfrom sklearn.model_selection import RandomizedSearchCV\r\nfrom sktime.classification.distance_based._time_series_neighbors import KNeighborsTimeSeriesClassifier\r\nimport pandas as pd\r\n\r\nclf = KNeighborsTimeSeriesClassifier(n_neighbors=1, metric='msm')\r\nhyper_param = {\r\n        'algorithm': ['brute'],\r\n        'weights': ['uniform', 'distance'],\r\n        'metric_params': [{'c': 0.01},{'c': 0.1},{'c': 1},{'c': 10},{'c': 100}]\r\n    }\r\n\r\nsearch = RandomizedSearchCV(\r\n            estimator=clf,\r\n            param_distributions= hyper_param,\r\n            n_iter= 50,\r\n            scoring='balanced_accuracy',\r\n            n_jobs=-1,\r\n            random_state=0,\r\n            verbose=0,\r\n            cv=5\r\n        )\r\n\r\nsearch.fit(X_train, y_train)\r\nprint(pd.DataFrame(search.cv_results_))\r\n\r\n  mean_fit_time  std_fit_time  mean_score_time  std_score_time param_weights param_metric_params  ... split2_test_score split3_test_score  split4_test_score  mean_test_score  std_test_score  \r\n0       0.012613      0.006310         0.018742        0.006238       uniform         {'c': 0.01}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n1       0.021862      0.007658         0.015628        0.009887      distance         {'c': 0.01}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n2       0.009365      0.007647         0.021869        0.012500       uniform          {'c': 0.1}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n3       0.015631      0.009879         0.006250        0.007655      distance          {'c': 0.1}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n4       0.006544      0.008027         0.012788        0.006418       uniform            {'c': 1}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n5       0.007685      0.006995         0.007687        0.006998      distance            {'c': 1}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n6       0.003130      0.006259         0.009377        0.007657       uniform           {'c': 10}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n7       0.006248      0.007652         0.003125        0.006250      distance           {'c': 10}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n8       0.006246      0.007650         0.012500        0.006250       uniform          {'c': 100}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n9       0.003124      0.006248         0.009379        0.007658      distance          {'c': 100}  ...               0.6               0.5                0.4         0.468333         0.10651\r\n\r\n[10 rows x 15 columns]\r\n```\r\n\r\n**Expected behavior**\r\nResults of training process should not be identical\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nexecutable:~\\.virtualenvs\\Code-h9r8g-fJ\\Scripts\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 51.1.1\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.21\r\n       pandas: 1.2.0\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/580", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/580/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/580/events", "html_url": "https://github.com/sktime/sktime/issues/580", "id": 775175690, "node_id": "MDU6SXNzdWU3NzUxNzU2OTA=", "number": 580, "title": "[BUG] ModuleNotFoundError: No module named 'sktime.forecasting.fbprophet'", "user": {"login": "mikelty", "id": 22357652, "node_id": "MDQ6VXNlcjIyMzU3NjUy", "avatar_url": "https://avatars.githubusercontent.com/u/22357652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikelty", "html_url": "https://github.com/mikelty", "followers_url": "https://api.github.com/users/mikelty/followers", "following_url": "https://api.github.com/users/mikelty/following{/other_user}", "gists_url": "https://api.github.com/users/mikelty/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikelty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikelty/subscriptions", "organizations_url": "https://api.github.com/users/mikelty/orgs", "repos_url": "https://api.github.com/users/mikelty/repos", "events_url": "https://api.github.com/users/mikelty/events{/privacy}", "received_events_url": "https://api.github.com/users/mikelty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-28T03:55:22Z", "updated_at": "2020-12-28T15:29:08Z", "closed_at": "2020-12-28T15:29:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to run the first notebook(https://github.com/alan-turing-institute/sktime/blob/master/examples/01_forecasting.ipynb). \r\nI tried running this on my local ubuntu 18.04 machine and google colab. On google colab, it yields an error at cell 91 of the origiinal notebook (btw it doesn't open on colab either so i have to copy / paste everything.) Here's what I did and what the error is:\r\n`pip install sktime pmdarima sklearn `\r\n```\r\nfrom warnings import simplefilter\r\n\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.compose import (\r\n    EnsembleForecaster,\r\n    ReducedRegressionForecaster,\r\n    TransformedTargetForecaster,\r\n)\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.forecasting.model_selection import (\r\n    ForecastingGridSearchCV,\r\n    SlidingWindowSplitter,\r\n    temporal_train_test_split,\r\n)\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster\r\nfrom sktime.performance_metrics.forecasting import sMAPE, smape_loss\r\nfrom sktime.transformations.series.detrend import Deseasonalizer, Detrender\r\nfrom sktime.utils.plotting import plot_series\r\n\r\nsimplefilter(\"ignore\", FutureWarning)\r\n%matplotlib inline\r\n`from sktime.forecasting.fbprophet import Prophet`\r\n---------------------------------------------------------------------------\r\n\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n\r\n<ipython-input-25-dbe222e3db2a> in <module>()\r\n----> 1 from sktime.forecasting.fbprophet import Prophet\r\n      2 \r\n      3 forecaster = Prophet(\r\n      4     seasonality_mode=\"multiplicative\",\r\n      5     n_changepoints=int(len(y_train) / 12),\r\n\r\nModuleNotFoundError: No module named 'sktime.forecasting.fbprophet'\r\n```\r\nI try to look into this but it seems fbprophet subpackage does not exist:\r\n`from sktime import forecasting \r\nl=vars(forecasting).keys()\r\nlist(l)\r\n['__name__',\r\n '__doc__',\r\n '__package__',\r\n '__loader__',\r\n '__spec__',\r\n '__path__',\r\n '__file__',\r\n '__cached__',\r\n '__builtins__',\r\n 'base',\r\n 'model_selection',\r\n 'arima',\r\n 'compose',\r\n 'exp_smoothing',\r\n 'naive',\r\n 'theta',\r\n 'trend',\r\n 'ets']`\r\nCould this be a build issue in the latest version? I cloned the package a couple hours ago and found fbprophet.py inside sktime/forecasting.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/578", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/578/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/578/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/578/events", "html_url": "https://github.com/sktime/sktime/issues/578", "id": 774867656, "node_id": "MDU6SXNzdWU3NzQ4Njc2NTY=", "number": 578, "title": "[BUG] ColumnEnsembleClassifier fails fitting KNN classifiers", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-26T12:27:42Z", "updated_at": "2021-01-05T23:14:02Z", "closed_at": "2021-01-05T23:14:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am trying to classify a multivariate dataset using a ColumnEnsembleClassifier. I use the same classifier for all dimensions.\r\nIt fails to fit the dataset when I use KNN classifiers, but works when I use TimeSeriesForestClassifier.\r\n\r\nI tried KNN with different metrics ('msm, 'dtw' 'euclidean' -> imported from scipy'), all of them fail\r\nI tried it with AtrialFibrillation and BasicMotions datasets, it fails for both.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.utils.data_io import load_from_arff_to_dataframe as load_arff\r\nX_train, y_train = load_arff(path_to_dataset_TRAIN.arff')\r\n\r\nfrom sktime.classification.compose import ColumnEnsembleClassifier\r\nfrom sktime.classification.distance_based._time_series_neighbors import KNeighborsTimeSeriesClassifier\r\nfrom sktime.classification.compose import TimeSeriesForestClassifier\r\n\r\n########## This one works fine ##########\r\nclf= ColumnEnsembleClassifier(estimators=[\r\n                                       ('TSF_0',TimeSeriesForestClassifier(verbose=0,n_jobs=-1),[0]),\r\n                                       ('TSF_1',TimeSeriesForestClassifier(verbose=0,n_jobs=-1),[1])\r\n                                     ])\r\nclf.fit(X_train, y_train)\r\nColumnEnsembleClassifier(estimators=[\r\n                                       ('TSF_0',TimeSeriesForestClassifier(n_jobs=-1),[0]),\r\n                                       ('TSF_1',TimeSeriesForestClassifier(n_jobs=-1),[1])\r\n                                     ])\r\n\r\n\r\n########## This one fails ########## \r\nclf= ColumnEnsembleClassifier(estimators=[\r\n                                       ('1NN-MSM_0', KNeighborsTimeSeriesClassifier(metric='msm'), [0]),\r\n                                       ('1NN-MSM_1', KNeighborsTimeSeriesClassifier(metric='msm'), [1])\r\n                                     ])\r\nclf.fit(X_train, y_train)\r\n\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n~\\Desktop\\OVGU\\DKE Subjects\\Master Thesis\\Code\\run.py in <module>\r\n----> 1 clf.fit(X_train, y_train)\r\n\r\n~\\.virtualenvs\\Code-OH4xsw-D\\lib\\site-packages\\sktime\\classification\\compose\\_column_ensemble.py in fit(self, X, y)\r\n    157         for name, estimator, column in self._iter(replace_strings=True):\r\n    158             estimator = clone(estimator)\r\n--> 159             estimator.fit(_get_column(X, column), transformed_y)\r\n    160             estimators_.append((name, estimator, column))\r\n    161\r\n\r\n~\\.virtualenvs\\Code-OH4xsw-D\\lib\\site-packages\\sktime\\classification\\distance_based\\_time_series_neighbors.py in fit(self, X, y)\r\n    243             check_array.__code__ = _check_array_ts.__code__\r\n    244\r\n--> 245         fx = self._fit(X)\r\n    246\r\n    247         if hasattr(check_array, \"__wrapped__\"):\r\n\r\n~\\.virtualenvs\\Code-OH4xsw-D\\lib\\site-packages\\sklearn\\neighbors\\_base.py in _fit(self, X, y)\r\n    362             if not isinstance(X, (KDTree, BallTree, NeighborsBase)):\r\n    363                 X, y = self._validate_data(X, y, accept_sparse=\"csr\",\r\n--> 364                                            multi_output=True)\r\n    365\r\n    366             if is_classifier(self):\r\n\r\n~\\.virtualenvs\\Code-OH4xsw-D\\lib\\site-packages\\sklearn\\base.py in _validate_data(self, X, y, reset, validate_separately, **check_params)\r\n    413             if self._get_tags()['requires_y']:\r\n    414                 raise ValueError(\r\n--> 415                     f\"This {self.__class__.__name__} estimator \"\r\n    416                     f\"requires y to be passed, but the target y is None.\"\r\n    417                 )\r\n\r\nValueError: This KNeighborsTimeSeriesClassifier estimator requires y to be passed, but the target y is None.\r\n```\r\n\r\n**Expected behavior**\r\nColumnEnsembleClassifier should fit the training data\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C: ...\\\\....\\\\.virtualenvs\\Code-OH4xsw-D\\Scripts\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.1\r\n   setuptools: 50.3.2\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.21\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/578/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/561", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/561/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/561/events", "html_url": "https://github.com/sktime/sktime/issues/561", "id": 774185807, "node_id": "MDU6SXNzdWU3NzQxODU4MDc=", "number": 561, "title": "[BUG] Issue of the class ForecastingHorizon and related functions causing downstream issues with Prophet Ensemble", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-12-24T05:11:35Z", "updated_at": "2020-12-28T15:29:53Z", "closed_at": "2020-12-28T15:29:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nSince Prophet needs the index to be in `pd.DatetimeIndex` format, it does not work in ensemble mode with other models.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y, test_size=36)\r\nfh = ForecastingHorizon(y_test.index, is_relative=False)\r\n\r\nforecaster = EnsembleForecaster([\r\n    (\"autoARIMA\", AutoARIMA(sp=12, suppress_warnings=True)),\r\n    (\"autoETS\", AutoETS(auto=True, sp=12, n_jobs=-1)),\r\n    (\"fbprophet\", Prophet(seasonality_mode=\"multiplicative\", add_country_holidays={\"country_name\": \"US\"}))\r\n])\r\n%time forecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\n```\r\n\r\nError message is as follows\r\n```terminal\r\nNotImplementedError: <class 'pandas.core.indexes.period.PeriodIndex'> is not supported. Please use type: <class 'pandas.core.indexes.datetimes.DatetimeIndex'> instead.\r\n```\r\n\r\n**Expected behavior**\r\nIt would be ok to provide a working example of this use case. If it means I have to change data index to `pd.DatetimeIndex` for other models, I am ok doing that but I tried it and it gave an error as well\r\n\r\n```python\r\n# Convert index to pd.DatetimeIndex\r\nz = y.copy()\r\nz.index = y.index.to_timestamp()\r\nz_train, z_test = temporal_train_test_split(z, test_size=36)\r\n\r\nforecaster = EnsembleForecaster([\r\n    (\"autoARIMA\", AutoARIMA(sp=12, suppress_warnings=True)),\r\n    (\"autoETS\", AutoETS(auto=True, sp=12, n_jobs=-1)),\r\n    (\"fbprophet\", Prophet( seasonality_mode=\"multiplicative\", add_country_holidays={\"country_name\": \"US\"}))\r\n])\r\n%time forecaster.fit(z_train)\r\ny_pred = forecaster.predict(fh)\r\n```\r\n\r\nError Message is as follows\r\n\r\n```terminal\r\nsktime\\forecasting\\base\\_fh.py in _check_cutoff(self, cutoff)\r\n    388 \r\n    389         if isinstance(index, pd.PeriodIndex):\r\n--> 390             assert isinstance(cutoff, pd.Period)\r\n    391         if isinstance(index, pd.DatetimeIndex):\r\n    392             assert isinstance(cutoff, pd.Timestamp)\r\n```\r\n\r\nI tried another variant of the above (changes the arg to the pred function) but got a different error\r\n\r\n```python\r\nforecaster = EnsembleForecaster([\r\n    (\"autoARIMA\", AutoARIMA(sp=12, suppress_warnings=True)),\r\n    (\"autoETS\", AutoETS(auto=True, sp=12, n_jobs=-1)),\r\n    (\"fbprophet\", Prophet( seasonality_mode=\"multiplicative\", add_country_holidays={\"country_name\": \"US\"}))\r\n])\r\n%time forecaster.fit(z_train)\r\ny_pred = forecaster.predict(fh.to_relative(cutoff=y_train.index[-1]))\r\n```\r\n\r\n```\r\nsktime\\forecasting\\base\\_fh.py in _check_values(values)\r\n    108     # check values does not contain duplicates\r\n    109     if len(values) != values.nunique():\r\n--> 110         raise ValueError(\"`values` must not contain duplicates.\")\r\n    111 \r\n    112     # return sorted values\r\n\r\nValueError: `values` must not contain duplicates.\r\n```\r\n\r\n\r\n\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.6.12 |Anaconda, Inc.| (default, Sep  9 2020, 00:29:25) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\Nikhil\\.conda\\envs\\sktime_dev\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3.3\r\n   setuptools: 51.0.0.post20201207\r\n      sklearn: 0.24.0\r\n       sktime: 0.5.0\r\n  statsmodels: 0.12.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.17\r\n       pandas: 1.1.5\r\n   matplotlib: 3.3.3\r\n       joblib: 1.0.0\r\n        numba: 0.52.0\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/558", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/558/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/558/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/558/events", "html_url": "https://github.com/sktime/sktime/issues/558", "id": 773102900, "node_id": "MDU6SXNzdWU3NzMxMDI5MDA=", "number": 558, "title": "[BUG] load_data.py is no longer found in the main source tree after recent change", "user": {"login": "geoHeil", "id": 1694964, "node_id": "MDQ6VXNlcjE2OTQ5NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1694964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoHeil", "html_url": "https://github.com/geoHeil", "followers_url": "https://api.github.com/users/geoHeil/followers", "following_url": "https://api.github.com/users/geoHeil/following{/other_user}", "gists_url": "https://api.github.com/users/geoHeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoHeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoHeil/subscriptions", "organizations_url": "https://api.github.com/users/geoHeil/orgs", "repos_url": "https://api.github.com/users/geoHeil/repos", "events_url": "https://api.github.com/users/geoHeil/events{/privacy}", "received_events_url": "https://api.github.com/users/geoHeil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-22T17:02:37Z", "updated_at": "2020-12-22T21:04:25Z", "closed_at": "2020-12-22T18:01:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "After https://github.com/alan-turing-institute/sktime/pull/496/files (even though it is not deleting but enhancing the file) the load_data.py file is no longer found in the main source tree: https://github.com/alan-turing-institute/sktime/tree/master/sktime/utils\r\n\r\nam I overlooking something? Wass it removed by accident? If yes, why doesn`t the merge request show a delete?", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/551", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/551/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/551/events", "html_url": "https://github.com/sktime/sktime/issues/551", "id": 771654318, "node_id": "MDU6SXNzdWU3NzE2NTQzMTg=", "number": 551, "title": "Euclidean Distance for KNN", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-20T18:14:46Z", "updated_at": "2021-01-06T15:23:47Z", "closed_at": "2021-01-06T15:23:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI cannot seem to find euclidean distance as a metric for KNN\r\n\r\nI checked the example file \"02_classification_univariate.ipynb\"\r\n* I found the cell containing euclidean distance disabled\r\n![Screenshot 2020-12-20 190056](https://user-images.githubusercontent.com/45247141/102720849-19139080-42f7-11eb-9873-a4ada5b02e8b.jpg)\r\n\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.classification.distance_based._time_series_neighbors import KNeighborsTimeSeriesClassifier\r\nknn = KNeighborsTimeSeriesClassifier(n_neighbors=1, metric=\"euclidean\")\r\n\r\nValueError: Unrecognised distance measure: euclidean. Allowed values are names from [dtw,ddtw,wdtw,wddtw,lcss,erp,msm] or please pass a callable distance measure into the constuctor directly.\r\n```\r\n\r\n**Expected behavior**\r\nEuclidean distance should be implemented\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\npip: 20.3.1\r\nsetuptools: 50.3.2\r\nsklearn: 0.23.2\r\nnumpy: 1.19.4\r\nscipy: 1.5.4\r\nCython: 0.29.21\r\npandas: 1.1.5\r\nmatplotlib: 3.3.3\r\njoblib: 1.0.0\r\nnumba: 0.52.0\r\npmdarima: None\r\ntsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/550", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/550/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/550/events", "html_url": "https://github.com/sktime/sktime/issues/550", "id": 771463096, "node_id": "MDU6SXNzdWU3NzE0NjMwOTY=", "number": 550, "title": "[BUG] Prediction with DatetimeIndex as ForecastingHorizon values", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-19T21:57:26Z", "updated_at": "2020-12-19T23:32:43Z", "closed_at": "2020-12-19T23:00:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThere is an issue with `DatetimeIndex` in `ForecastingHorizon` when doing prediction. Seems this came up by recent commits?\r\n\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-5-0c038f527191> in <module>\r\n      9 forecaster = NaiveForecaster(strategy=\"last\", sp=12)\r\n     10 forecaster.fit(y_train)\r\n---> 11 y_pred = forecaster.predict(fh)\r\n     12 y_pred\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_sktime.py in predict(self, fh, X, return_pred_int, alpha)\r\n    216         self.check_is_fitted()\r\n    217         self._set_fh(fh)\r\n--> 218         return self._predict(self.fh, X, return_pred_int=return_pred_int, alpha=alpha)\r\n    219 \r\n    220     def compute_pred_int(self, y_pred, alpha=DEFAULT_ALPHA):\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_sktime.py in _predict(self, fh, X, return_pred_int, alpha)\r\n    616 \r\n    617         # all values are out-of-sample\r\n--> 618         if fh.is_all_out_of_sample(self.cutoff):\r\n    619             return self._predict_fixed_cutoff(\r\n    620                 fh.to_out_of_sample(self.cutoff), **kwargs\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in is_all_out_of_sample(self, cutoff)\r\n    346             cutoff.\r\n    347         \"\"\"\r\n--> 348         return sum(self._is_out_of_sample(cutoff)) == len(self)\r\n    349 \r\n    350     def to_indexer(self, cutoff=None, from_cutoff=True):\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in _is_out_of_sample(self, cutoff)\r\n    328         \"\"\"Get index location of out-of-sample values\"\"\"\r\n    329         # return ~self._in_sample_idx(cutoff)\r\n--> 330         return self.to_relative(cutoff).to_pandas() > 0\r\n    331 \r\n    332     def is_all_out_of_sample(self, cutoff=None):\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in to_relative(self, cutoff)\r\n    223                 values = _coerce_duration_to_int(values, unit=_get_unit(cutoff))\r\n    224 \r\n--> 225             return self._new(values, is_relative=True)\r\n    226 \r\n    227     @lru_cache(typed=True)\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in _new(self, values, is_relative)\r\n    160         if is_relative is None:\r\n    161             is_relative = self.is_relative\r\n--> 162         return type(self)(values, is_relative)\r\n    163 \r\n    164     @property\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in __init__(self, values, is_relative)\r\n    137         if not isinstance(is_relative, bool):\r\n    138             raise TypeError(\"`is_relative` must be a boolean\")\r\n--> 139         values = _check_values(values)\r\n    140 \r\n    141         # check types, note that isinstance() does not work here because index\r\n\r\n~\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in _check_values(values)\r\n    105     # check values does not contain duplicates\r\n    106     if len(values) != values.nunique():\r\n--> 107         raise ValueError(\"`values` must not contain duplicates.\")\r\n    108 \r\n    109     # return sorted values\r\n\r\nValueError: `values` must not contain duplicates.\r\n```\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasting.all import *\r\n\r\ny = load_airline()\r\ny.index = y.index.to_timestamp()\r\ny_train, y_test = temporal_train_test_split(y, test_size=44)\r\n\r\nfh = ForecastingHorizon(y_test.index[0:5], is_relative=False)\r\n\r\nforecaster = NaiveForecaster(strategy=\"last\", sp=12)\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\ny_pred\r\n```\r\n\r\n**Versions**\r\nCurrent master\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/540", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/540/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/540/events", "html_url": "https://github.com/sktime/sktime/issues/540", "id": 767173067, "node_id": "MDU6SXNzdWU3NjcxNzMwNjc=", "number": 540, "title": "[BUG] AutoArima fit with X_train generates a ValueError: \"Multiple values provided for both X and exogenous\"", "user": {"login": "PierreOreistein", "id": 19366571, "node_id": "MDQ6VXNlcjE5MzY2NTcx", "avatar_url": "https://avatars.githubusercontent.com/u/19366571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PierreOreistein", "html_url": "https://github.com/PierreOreistein", "followers_url": "https://api.github.com/users/PierreOreistein/followers", "following_url": "https://api.github.com/users/PierreOreistein/following{/other_user}", "gists_url": "https://api.github.com/users/PierreOreistein/gists{/gist_id}", "starred_url": "https://api.github.com/users/PierreOreistein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PierreOreistein/subscriptions", "organizations_url": "https://api.github.com/users/PierreOreistein/orgs", "repos_url": "https://api.github.com/users/PierreOreistein/repos", "events_url": "https://api.github.com/users/PierreOreistein/events{/privacy}", "received_events_url": "https://api.github.com/users/PierreOreistein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-12-15T04:49:30Z", "updated_at": "2021-08-23T11:36:51Z", "closed_at": "2020-12-19T08:25:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description:\r\nI am trying to use the model **AutoARIMA** from _sktime.forecasting.arima_ with exogenous variables.\r\nIn particular, I am trying to pass a Dataframe to the argument _X_train_ in the method _fit_ of the model **AutoARIMA**. When I do so, I obtain a _ValueError_. Below an example\r\n\r\n\r\n```python\r\nMODEL_Auto_ARIMA = AutoARIMA(\r\n)\r\n\r\ny_df = pd.DataFrame(\r\n    np.random.randint(0, 10, 31),\r\n    columns=[\"y\"],\r\n    index=pd.period_range(\r\n        start=\"2020-01-01\",\r\n        periods=31,\r\n        freq=\"D\"\r\n))\r\n\r\nX_df = pd.DataFrame(\r\n    np.random.randint(0, 10, len(y_df)),\r\n    columns=[\"X\"],\r\n    index=y_df.index\r\n)\r\n\r\nMODEL_Auto_ARIMA.fit(\r\n    y_train=y_df[\"y\"],\r\n    X_train=X_df\r\n)\r\n```\r\n\r\nWhen I run the above code, I obtain the following error:\r\n\r\n```python\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-4a75cca05732> in <module>\r\n     16 MODEL_Auto_ARIMA.fit(\r\n     17     y_train=y_df[\"y\"],\r\n---> 18     X_train=X_df\r\n     19 )\r\n\r\n~/miniconda3/envs/RATP37/lib/python3.7/site-packages/sktime/forecasting/arima.py in fit(self, y_train, fh, X_train, **fit_args)\r\n    363         self._set_y_X(y_train, X_train)\r\n    364         self._set_fh(fh)\r\n--> 365         self._forecaster.fit(y_train, exogenous=X_train, **fit_args)\r\n    366         self._is_fitted = True\r\n    367         return self\r\n\r\n~/miniconda3/envs/RATP37/lib/python3.7/site-packages/pmdarima/arima/auto.py in fit(self, y, X, **fit_args)\r\n    218             with_intercept=self.with_intercept,\r\n    219             sarimax_kwargs=sarimax_kwargs,\r\n--> 220             **fit_args)\r\n    221 \r\n    222         return self\r\n\r\n~/miniconda3/envs/RATP37/lib/python3.7/site-packages/pmdarima/arima/auto.py in auto_arima(y, X, start_p, d, start_q, max_p, max_d, max_q, start_P, D, start_Q, max_P, max_D, max_Q, max_order, m, seasonal, stationary, information_criterion, alpha, test, seasonal_test, stepwise, n_jobs, start_params, trend, method, maxiter, offset_test_args, seasonal_test_args, suppress_warnings, error_action, trace, random, random_state, n_fits, return_valid_fits, out_of_sample_size, scoring, scoring_args, with_intercept, sarimax_kwargs, **fit_args)\r\n    390 \r\n    391     # Temporary shim until we remove `exogenous` support completely\r\n--> 392     X, fit_args = pm_compat.get_X(X, **fit_args)\r\n    393 \r\n    394     # pop out the deprecated kwargs\r\n\r\n~/miniconda3/envs/RATP37/lib/python3.7/site-packages/pmdarima/compat/pmdarima.py in get_X(X, **kwargs)\r\n     12     exog = kwargs.pop(\"exogenous\", None)\r\n     13     if X is not None and exog is not None:\r\n---> 14         raise ValueError(\"Multiple values provided for both X and exogenous\")\r\n     15 \r\n     16     if exog is not None:\r\n\r\nValueError: Multiple values provided for both X and exogenous\r\n```\r\n\r\n### Additional Context\r\nI am using python 3.7 on a conda virtual environment on WSL2.\r\n\r\n### Versions\r\n<details>\r\nSystem:\r\n    python: 3.7.9 (default, Aug 31 2020, 12:42:55)  [GCC 7.3.0]\r\nexecutable: /home/poreistein/miniconda3/envs/RATP37/bin/python3.7\r\n   machine: Linux-4.4.0-18362-Microsoft-x86_64-with-debian-buster-sid\r\n\r\nPython dependencies:\r\n          pip: 20.3.1\r\n   setuptools: 51.0.0.post20201207\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.4\r\n        scipy: 1.5.3\r\n       Cython: 0.29.17\r\n       pandas: 1.1.0\r\n   matplotlib: 3.3.3\r\n       joblib: 0.17.0\r\n        numba: 0.49.1\r\n     pmdarima: 1.8.0\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\nFeel free if you have any questions for the reproductability", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/534", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/534/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/534/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/534/events", "html_url": "https://github.com/sktime/sktime/issues/534", "id": 763066247, "node_id": "MDU6SXNzdWU3NjMwNjYyNDc=", "number": 534, "title": "[BUG] Absolute to relative ForecastingHorizon", "user": {"login": "aiwalter", "id": 29627036, "node_id": "MDQ6VXNlcjI5NjI3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/29627036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aiwalter", "html_url": "https://github.com/aiwalter", "followers_url": "https://api.github.com/users/aiwalter/followers", "following_url": "https://api.github.com/users/aiwalter/following{/other_user}", "gists_url": "https://api.github.com/users/aiwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/aiwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aiwalter/subscriptions", "organizations_url": "https://api.github.com/users/aiwalter/orgs", "repos_url": "https://api.github.com/users/aiwalter/repos", "events_url": "https://api.github.com/users/aiwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/aiwalter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3105906374, "node_id": "MDU6TGFiZWwzMTA1OTA2Mzc0", "url": "https://api.github.com/repos/sktime/sktime/labels/module:forecasting", "name": "module:forecasting", "color": "35FCCE", "default": false, "description": "forecasting module: forecasting, incl probabilistic and hierarchical forecasting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-12-11T23:49:45Z", "updated_at": "2021-12-03T23:12:20Z", "closed_at": "2021-12-03T23:05:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n```python\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-5-40dcb829593a> in <module>\r\n      4 y_train, y_test = temporal_train_test_split(y, test_size=120)\r\n      5 fh = ForecastingHorizon(y_test.index[0:5], is_relative=False)\r\n----> 6 fh.to_relative(cutoff=y_train.index[-1])\r\n\r\nc:\\Users\\Martin\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in to_relative(self, cutoff)\r\n    223                 values = _coerce_duration_to_int(values, unit=_get_unit(cutoff))\r\n    224 \r\n--> 225             return self._new(values, is_relative=True)\r\n    226 \r\n    227     @lru_cache(typed=True)\r\n\r\nc:\\Users\\Martin\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in _new(self, values, is_relative)\r\n    160         if is_relative is None:\r\n    161             is_relative = self.is_relative\r\n--> 162         return type(self)(values, is_relative)\r\n    163 \r\n    164     @property\r\n\r\nc:\\Users\\Martin\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in __init__(self, values, is_relative)\r\n    137         if not isinstance(is_relative, bool):\r\n    138             raise TypeError(\"`is_relative` must be a boolean\")\r\n--> 139         values = _check_values(values)\r\n    140 \r\n    141         # check types, note that isinstance() does not work here because index\r\n\r\nc:\\Users\\Martin\\Desktop\\sktime\\sktime\\sktime\\forecasting\\base\\_fh.py in _check_values(values)\r\n    105     # check values does not contain duplicates\r\n    106     if len(values) != values.nunique():\r\n--> 107         raise ValueError(\"`values` must not contain duplicates.\")\r\n    108 \r\n    109     # return sorted values\r\n\r\nValueError: `values` must not contain duplicates.\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.all import *\r\ny = load_airline()\r\ny.index = y.index.to_timestamp()\r\ny_train, y_test = temporal_train_test_split(y, test_size=120)\r\nfh = ForecastingHorizon(y_test.index[0:5], is_relative=False)\r\nfh.to_relative(cutoff=y_train.index[-1])\r\n```\r\n\r\n**Expected behavior**\r\nNo exception\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nCurrent GitHub master\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/531", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/531/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/531/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/531/events", "html_url": "https://github.com/sktime/sktime/issues/531", "id": 760659404, "node_id": "MDU6SXNzdWU3NjA2NTk0MDQ=", "number": 531, "title": "y_pred = forecaster.predict(fh)  is giving a nan value [BUG]", "user": {"login": "Conet1502", "id": 25015389, "node_id": "MDQ6VXNlcjI1MDE1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/25015389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Conet1502", "html_url": "https://github.com/Conet1502", "followers_url": "https://api.github.com/users/Conet1502/followers", "following_url": "https://api.github.com/users/Conet1502/following{/other_user}", "gists_url": "https://api.github.com/users/Conet1502/gists{/gist_id}", "starred_url": "https://api.github.com/users/Conet1502/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Conet1502/subscriptions", "organizations_url": "https://api.github.com/users/Conet1502/orgs", "repos_url": "https://api.github.com/users/Conet1502/repos", "events_url": "https://api.github.com/users/Conet1502/events{/privacy}", "received_events_url": "https://api.github.com/users/Conet1502/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-09T20:47:18Z", "updated_at": "2020-12-11T16:44:48Z", "closed_at": "2020-12-11T16:44:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\nI am trying to follow the example forecasting problem with a slightly different data set and I get to the ReducedRegressionForecaster section my forecast.fit is outputting a nan value. I have attached the data set and jupyter notebook.\r\n\r\nThanks for your help.\r\n\r\n[Example (2).zip](https://github.com/alan-turing-institute/sktime/files/5668493/Example.2.zip)\r\n\r\n```python\r\nfrom sklearn.neighbors import KNeighborsRegressor\r\nfrom sklearn.svm import SVR\r\n#regressor = SVR(kernel = 'rbf',gamma='scale') \r\nregressor = KNeighborsRegressor(n_neighbors=1)\r\nforecaster = ReducedRegressionForecaster(regressor=regressor, window_length=12, strategy=\"recursive\")\r\nm = forecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\nplot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"]);\r\nsmape_loss(y_test, y_pred)\r\n```\r\n\r\n\r\n**Expected behavior**\r\nSomething other than nan from y_pred = forecaster.predict(fh) ( last block of code)", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/531/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/530", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/530/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/530/events", "html_url": "https://github.com/sktime/sktime/issues/530", "id": 760282098, "node_id": "MDU6SXNzdWU3NjAyODIwOTg=", "number": 530, "title": "[BUG] Import error: ColumnConcatenator", "user": {"login": "Pratyush1991", "id": 28738918, "node_id": "MDQ6VXNlcjI4NzM4OTE4", "avatar_url": "https://avatars.githubusercontent.com/u/28738918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pratyush1991", "html_url": "https://github.com/Pratyush1991", "followers_url": "https://api.github.com/users/Pratyush1991/followers", "following_url": "https://api.github.com/users/Pratyush1991/following{/other_user}", "gists_url": "https://api.github.com/users/Pratyush1991/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pratyush1991/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pratyush1991/subscriptions", "organizations_url": "https://api.github.com/users/Pratyush1991/orgs", "repos_url": "https://api.github.com/users/Pratyush1991/repos", "events_url": "https://api.github.com/users/Pratyush1991/events{/privacy}", "received_events_url": "https://api.github.com/users/Pratyush1991/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-09T12:20:09Z", "updated_at": "2020-12-09T20:26:41Z", "closed_at": "2020-12-09T20:26:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nUnable to import the ColumnConcatenator while trying to implement the multivariate classification example. The error shows as \"no module named sktime.transformers.panel\"\r\n\r\n**To Reproduce**\r\n![image](https://user-images.githubusercontent.com/28738918/101628890-17261380-3a53-11eb-8a19-eb27220914ee.png)\r\n\r\n\r\n```python\r\nfrom sktime.transformers.panel.compose import ColumnConcatenator\r\n```\r\n\r\n**Expected behavior**\r\n\r\nSuccessful import of  the module\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nSystem:\r\n    python: 3.7.4 (default, Aug  9 2019, 18:34:13) [MSC v.1915 64 bit (AMD64)]\r\nexecutable: C:\\ProgramData\\Anaconda3\\python.exe\r\n   machine: Windows-10-10.0.20270-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.1.1\r\n   setuptools: 49.6.0.post20201009\r\n      sklearn: 0.23.1\r\n        numpy: 1.19.4\r\n        scipy: 1.5.3\r\n       Cython: None\r\n       pandas: 1.1.3\r\n   matplotlib: 3.2.2\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/530/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/528", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/528/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/528/events", "html_url": "https://github.com/sktime/sktime/issues/528", "id": 758319647, "node_id": "MDU6SXNzdWU3NTgzMTk2NDc=", "number": 528, "title": "ModuleNotFoundError: No module named 'sktime.transformers.panel'", "user": {"login": "orko19", "id": 28626773, "node_id": "MDQ6VXNlcjI4NjI2Nzcz", "avatar_url": "https://avatars.githubusercontent.com/u/28626773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orko19", "html_url": "https://github.com/orko19", "followers_url": "https://api.github.com/users/orko19/followers", "following_url": "https://api.github.com/users/orko19/following{/other_user}", "gists_url": "https://api.github.com/users/orko19/gists{/gist_id}", "starred_url": "https://api.github.com/users/orko19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orko19/subscriptions", "organizations_url": "https://api.github.com/users/orko19/orgs", "repos_url": "https://api.github.com/users/orko19/repos", "events_url": "https://api.github.com/users/orko19/events{/privacy}", "received_events_url": "https://api.github.com/users/orko19/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-12-07T09:09:00Z", "updated_at": "2021-03-24T16:48:10Z", "closed_at": "2020-12-07T09:36:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the error:\r\n`ModuleNotFoundError: No module named 'sktime.transformers.panel'\r\n`\r\nFor \r\n`from sktime.transformers.panel.reduce import Tabularizer\r\n`\r\n(taken from: `https://www.sktime.org/en/latest/examples/02_classification_univariate.html?highlight=tabulizer`)\r\nI use version `0.43`\r\n\r\nWhy can't I import it?\r\nThanks", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/528/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/526", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/526/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/526/events", "html_url": "https://github.com/sktime/sktime/issues/526", "id": 757698274, "node_id": "MDU6SXNzdWU3NTc2OTgyNzQ=", "number": 526, "title": "ModuleNotFoundError: No module named 'sktime.transformers.series'", "user": {"login": "Conet1502", "id": 25015389, "node_id": "MDQ6VXNlcjI1MDE1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/25015389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Conet1502", "html_url": "https://github.com/Conet1502", "followers_url": "https://api.github.com/users/Conet1502/followers", "following_url": "https://api.github.com/users/Conet1502/following{/other_user}", "gists_url": "https://api.github.com/users/Conet1502/gists{/gist_id}", "starred_url": "https://api.github.com/users/Conet1502/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Conet1502/subscriptions", "organizations_url": "https://api.github.com/users/Conet1502/orgs", "repos_url": "https://api.github.com/users/Conet1502/repos", "events_url": "https://api.github.com/users/Conet1502/events{/privacy}", "received_events_url": "https://api.github.com/users/Conet1502/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-05T14:58:51Z", "updated_at": "2020-12-07T09:36:19Z", "closed_at": "2020-12-07T09:36:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI created a new Anaconda environment to test SKTime.\r\nI ran the 'pip install sktime' to install SKTime.\r\nWhen I try to follow the \"Forecasting  with sktime\"(https://github.com/alan-turing-institute/sktime/blob/master/examples/01_forecasting.ipynb)  Time series forest example I get this error:\r\n\r\nWhat other dependencies am I supposed to install? Is the example notebook not up to date?\r\n**To Reproduce**\r\nModuleNotFoundError: No module named 'sktime.transformers.series'\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/525", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/525/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/525/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/525/events", "html_url": "https://github.com/sktime/sktime/issues/525", "id": 757697122, "node_id": "MDU6SXNzdWU3NTc2OTcxMjI=", "number": 525, "title": "ModuleNotFoundError: No module named 'sktime.transformers.series", "user": {"login": "Conet1502", "id": 25015389, "node_id": "MDQ6VXNlcjI1MDE1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/25015389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Conet1502", "html_url": "https://github.com/Conet1502", "followers_url": "https://api.github.com/users/Conet1502/followers", "following_url": "https://api.github.com/users/Conet1502/following{/other_user}", "gists_url": "https://api.github.com/users/Conet1502/gists{/gist_id}", "starred_url": "https://api.github.com/users/Conet1502/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Conet1502/subscriptions", "organizations_url": "https://api.github.com/users/Conet1502/orgs", "repos_url": "https://api.github.com/users/Conet1502/repos", "events_url": "https://api.github.com/users/Conet1502/events{/privacy}", "received_events_url": "https://api.github.com/users/Conet1502/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-05T14:52:40Z", "updated_at": "2020-12-05T15:00:26Z", "closed_at": "2020-12-05T15:00:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nI created a new Anaconda environment to test SKTime.\r\nI ran the 'pip install sktime' to install SKTime. When I try to follow the \"Forecasting with sktime\" (https://github.com/alan-turing-institute/sktime/blob/master/examples/01_forecasting.ipynb) example I get this error:\r\n\r\nModuleNotFoundError: No module named 'sktime.transformers.series'\r\n\r\nI am copying the example into a jupyter notebook.\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nimport numpy as np\r\nimport pandas as pd\r\nimport sktime as sktime\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.arima import AutoARIMA\r\nfrom sktime.forecasting.base import ForecastingHorizon\r\nfrom sktime.forecasting.compose import (\r\n    EnsembleForecaster,\r\n    ReducedRegressionForecaster,\r\n    TransformedTargetForecaster,\r\n)\r\nfrom sktime.forecasting.exp_smoothing import ExponentialSmoothing\r\nfrom sktime.forecasting.model_selection import (\r\n    ForecastingGridSearchCV,\r\n    SlidingWindowSplitter,\r\n    temporal_train_test_split,\r\n)\r\nfrom sktime.forecasting.naive import NaiveForecaster\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nfrom sktime.forecasting.trend import PolynomialTrendForecaster\r\nfrom sktime.performance_metrics.forecasting import sMAPE, smape_loss\r\nfrom sktime.transformers.series.detrend import Deseasonalizer, Detrender\r\nfrom sktime.utils.plotting import plot_series\r\n\r\nsimplefilter(\"ignore\", FutureWarning)\r\n%matplotlib inline\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/522", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/522/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/522/events", "html_url": "https://github.com/sktime/sktime/issues/522", "id": 755695854, "node_id": "MDU6SXNzdWU3NTU2OTU4NTQ=", "number": 522, "title": "[BUG] AutoARIMA not working with Temporal Cross Validation", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-02T23:48:15Z", "updated_at": "2020-12-14T13:39:04Z", "closed_at": "2020-12-14T13:39:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWould like the statistical models like ARIMA, ETS, etc to work with the Temporal Cross Validation Flow. I am not able to reproduce the same results as the standalone ARIMA when using the Temporal Cross Validation Flow.\r\n\r\n**To Reproduce**\r\n\r\n## Setup\r\n\r\n```python\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y, test_size=36)\r\n\r\nfh = ForecastingHorizon(np.arange(len(y_test)) + 1, is_relative=True)\r\n```\r\n\r\n## Regular AutoARIMA (Baseline for test)\r\n\r\n```python\r\nforecaster = AutoARIMA(sp=12, suppress_warnings=True)\r\nforecaster.fit(y_train)\r\ny_pred = forecaster.predict(fh)\r\nplot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"]);\r\nsmape_loss(y_test, y_pred)\r\n```\r\n\r\n> 0.04117062370076287\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/100943934-d2830100-34c3-11eb-9449-389a67ebcaf0.png)\r\n\r\n## Using Temporal Cross Validation \r\n\r\n### Version 1:  'sp' in `forecaster_param_grid` (does not work)\r\n\r\n```python\r\nforecaster_param_grid = {'sp': [12]}\r\nforecaster = AutoARIMA(suppress_warnings=True)\r\n\r\ncv = SlidingWindowSplitter(initial_window=int(len(y_train) * 0.90), start_with_window=True)\r\ngscv = ForecastingGridSearchCV(forecaster, cv=cv, param_grid=forecaster_param_grid, verbose=True)\r\n\r\ngscv.fit(y_train)\r\ny_pred = gscv.predict(fh)\r\nplot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"]);\r\nsmape_loss(y_test, y_pred)\r\n```\r\n\r\n> 0.11346208431398466\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/100944054-0a8a4400-34c4-11eb-93a6-fb40bcbd2012.png)\r\n\r\n### Version 2:  'sp' in `forecaster` (works but defeats the purpose of Grid Search)\r\n\r\n```python\r\nforecaster_param_grid = {}\r\nforecaster = AutoARIMA(sp=12, suppress_warnings=True)\r\n\r\ncv = SlidingWindowSplitter(initial_window=int(len(y_train) * 0.90), start_with_window=True)\r\ngscv = ForecastingGridSearchCV(forecaster, cv=cv, param_grid=forecaster_param_grid, verbose=True)\r\n\r\ngscv.fit(y_train)\r\ny_pred = gscv.predict(fh)\r\nplot_series(y_train, y_test, y_pred, labels=[\"y_train\", \"y_test\", \"y_pred\"]);\r\nsmape_loss(y_test, y_pred)\r\n```\r\n\r\n> 0.04117062370076287  (matches standalone AutoARIMA without GridSearch above)\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/100944698-64d7d480-34c5-11eb-9054-cd16156f5958.png)\r\n\r\n\r\n**Expected behavior**\r\nIt does not look like the best_estimator is taking the seasonality value of 12 when 'sp' is just passed through the `forecaster_param_grid `. It only works if it is set natively in the forecaster initialization. \r\n\r\n**Additional context**\r\nBasically, I would like to create a unified flow around sktime to build and compare multiple models (ARIMA, ETS, Random Forest, SVM, etc), including hyper parameter parameter for the statistical models. I see from the examples folder how this can be done for native scikit models but wanted to recreate the same for the statistical models\r\n\r\n\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.6.12 |Anaconda, Inc.| (default, Sep  9 2020, 00:29:25) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\xxxx\\AppData\\Local\\Continuum\\anaconda3\\envs\\sktime\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3\r\n   setuptools: 49.6.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.2\r\n        scipy: 1.5.2\r\n       Cython: 0.29.17\r\n       pandas: 1.1.3\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: None\r\n     pmdarima: 1.7.1\r\n      tsfresh: None\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/519", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/519/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/519/events", "html_url": "https://github.com/sktime/sktime/issues/519", "id": 755184256, "node_id": "MDU6SXNzdWU3NTUxODQyNTY=", "number": 519, "title": "[BUG] plot_series inconsistent date/time index ", "user": {"login": "ngupta23", "id": 33585645, "node_id": "MDQ6VXNlcjMzNTg1NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33585645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngupta23", "html_url": "https://github.com/ngupta23", "followers_url": "https://api.github.com/users/ngupta23/followers", "following_url": "https://api.github.com/users/ngupta23/following{/other_user}", "gists_url": "https://api.github.com/users/ngupta23/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngupta23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngupta23/subscriptions", "organizations_url": "https://api.github.com/users/ngupta23/orgs", "repos_url": "https://api.github.com/users/ngupta23/repos", "events_url": "https://api.github.com/users/ngupta23/events{/privacy}", "received_events_url": "https://api.github.com/users/ngupta23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-12-02T11:19:26Z", "updated_at": "2021-03-23T10:02:08Z", "closed_at": "2021-03-23T10:02:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\n\r\n**To Reproduce**\r\n\r\n```python\r\ny = load_airline()\r\ny = y[:48]\r\nfh=np.arange(1, 13)\r\n\r\ny_train, y_test = temporal_train_test_split(y, test_size=len(fh))\r\nplot_series(y_train, y_test, labels=[\"y_train\", \"y_test\"]);\r\nprint(y.shape, y_train.shape[0], y_test.shape[0])\r\nprint(y.index)\r\n```\r\n\r\n> (48,) 36 12\r\n> PeriodIndex(['1949-01', '1949-02', '1949-03', '1949-04', '1949-05', '1949-06',\r\n>              '1949-07', '1949-08', '1949-09', '1949-10', '1949-11', '1949-12',\r\n>              '1950-01', '1950-02', '1950-03', '1950-04', '1950-05', '1950-06',\r\n>              '1950-07', '1950-08', '1950-09', '1950-10', '1950-11', '1950-12',\r\n>              '1951-01', '1951-02', '1951-03', '1951-04', '1951-05', '1951-06',\r\n>              '1951-07', '1951-08', '1951-09', '1951-10', '1951-11', '1951-12',\r\n>              '1952-01', '1952-02', '1952-03', '1952-04', '1952-05', '1952-06',\r\n>              '1952-07', '1952-08', '1952-09', '1952-10', '1952-11', '1952-12'],\r\n>             dtype='period[M]', name='Period', freq='M')\r\n> \r\n\r\n**Expected behavior**\r\nThe X-axis should go till end of 1952. The X-axis on the plot does not reflect the indices correctly. It should go till 1952, but shows values only till 1949\r\n\r\n![image](https://user-images.githubusercontent.com/33585645/100865855-800ef980-345d-11eb-9980-476454e8de68.png)\r\n\r\n**Versions**\r\nSystem:\r\n    python: 3.6.12 |Anaconda, Inc.| (default, Sep  9 2020, 00:29:25) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\xxxx\\AppData\\Local\\Continuum\\anaconda3\\envs\\sktime\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.3\r\n   setuptools: 49.6.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.2\r\n        scipy: 1.5.2\r\n       Cython: 0.29.17\r\n       pandas: 1.1.3\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: None\r\n     pmdarima: 1.7.1\r\n      tsfresh: None\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/514", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/514/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/514/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/514/events", "html_url": "https://github.com/sktime/sktime/issues/514", "id": 754546458, "node_id": "MDU6SXNzdWU3NTQ1NDY0NTg=", "number": 514, "title": "ModuleNotFoundError: No module named 'sktime.transformers.series'", "user": {"login": "satya-pattnaik", "id": 22102468, "node_id": "MDQ6VXNlcjIyMTAyNDY4", "avatar_url": "https://avatars.githubusercontent.com/u/22102468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satya-pattnaik", "html_url": "https://github.com/satya-pattnaik", "followers_url": "https://api.github.com/users/satya-pattnaik/followers", "following_url": "https://api.github.com/users/satya-pattnaik/following{/other_user}", "gists_url": "https://api.github.com/users/satya-pattnaik/gists{/gist_id}", "starred_url": "https://api.github.com/users/satya-pattnaik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satya-pattnaik/subscriptions", "organizations_url": "https://api.github.com/users/satya-pattnaik/orgs", "repos_url": "https://api.github.com/users/satya-pattnaik/repos", "events_url": "https://api.github.com/users/satya-pattnaik/events{/privacy}", "received_events_url": "https://api.github.com/users/satya-pattnaik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-01T16:34:05Z", "updated_at": "2020-12-03T15:57:14Z", "closed_at": "2020-12-03T15:57:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am following the example notebooks provided in the Repo. While importing sktime Detrender, I need to import it as \"from sktime.transformers.series.detrend import Detrender\". However I get an error \"ModuleNotFoundError: No module named 'sktime.transformers.series'\". \r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.transformers.series.detrend import Deseasonalizer, Detrender\r\n```\r\n\r\n**Expected behavior**\r\nI was expecting the import to work totally fine. But it seems there is no module \"series\" inside \"transformers\"\r\n\r\n**Versions**\r\n<details>\r\nsktime-0.4.3\r\n\r\nSystem:\r\n    python: 3.7.6 | packaged by conda-forge | (default, Mar 23 2020, 23:03:20)  [GCC 7.3.0]\r\nexecutable: /opt/conda/bin/python3.7\r\n   machine: Linux-5.4.49+-x86_64-with-debian-buster-sid\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 46.1.3.post20200325\r\n      sklearn: 0.23.2\r\n        numpy: 1.18.5\r\n        scipy: 1.4.1\r\n       Cython: 0.29.21\r\n       pandas: 1.1.4\r\n   matplotlib: 3.2.1\r\n       joblib: 0.14.1\r\n        numba: 0.48.0\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/512", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/512/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/512/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/512/events", "html_url": "https://github.com/sktime/sktime/issues/512", "id": 753427521, "node_id": "MDU6SXNzdWU3NTM0Mjc1MjE=", "number": 512, "title": "[BUG] Incompatible package versions when installing sktime[all_extras]", "user": {"login": "denismaciel", "id": 14054804, "node_id": "MDQ6VXNlcjE0MDU0ODA0", "avatar_url": "https://avatars.githubusercontent.com/u/14054804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denismaciel", "html_url": "https://github.com/denismaciel", "followers_url": "https://api.github.com/users/denismaciel/followers", "following_url": "https://api.github.com/users/denismaciel/following{/other_user}", "gists_url": "https://api.github.com/users/denismaciel/gists{/gist_id}", "starred_url": "https://api.github.com/users/denismaciel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denismaciel/subscriptions", "organizations_url": "https://api.github.com/users/denismaciel/orgs", "repos_url": "https://api.github.com/users/denismaciel/repos", "events_url": "https://api.github.com/users/denismaciel/events{/privacy}", "received_events_url": "https://api.github.com/users/denismaciel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-30T12:13:45Z", "updated_at": "2020-11-30T16:11:33Z", "closed_at": "2020-11-30T16:11:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe dependency resolution of the packages installed by `sktime[all_extras]` fails.\r\n\r\n**To Reproduce**\r\n\r\nI am using `pip-tools` to manage the dependencies in a project.\r\n\r\nInstall `pip-tools` and run the dependency resolution on `sktime[all_extras]`.\r\n\r\n```\r\npip install pip-tools\r\necho \"sktime[all_extras]\" > requirements.in\r\npip-compile\r\n```\r\n\r\nIt fails with the following message:\r\n\r\n```\r\nCould not find a version that matches statsmodels<0.12,>=0.11,>=0.12.0,>=0.9.0 (from sktime[all_extras]==0.4.3->-r requirements.in (line 1))\r\nTried: 0.4.0, 0.4.0, 0.4.1, 0.4.1, 0.4.3, 0.4.3, 0.5.0, 0.5.0, 0.6.0, 0.6.0, 0.6.1, 0.6.1, 0.8.0, 0.9.0, 0.10.0, 0.10.1, 0.10.2, 0.10.2, 0.11.0, 0.11.0, 0.11.1, 0.11.1, 0.12.0, 0.12.0, 0.12.1, 0.12.1\r\nSkipped pre-versions: 0.5.0rc1, 0.5.0rc1, 0.6.0rc1, 0.6.0rc1, 0.6.0rc2, 0.6.0rc2, 0.8.0rc1, 0.8.0rc1, 0.9.0rc1, 0.10.0rc2, 0.11.0rc1, 0.11.0rc1, 0.11.0rc2, 0.11.0rc2, 0.12.0rc0, 0.12.0rc0\r\nThere are incompatible versions in the resolved dependencies:\r\n  statsmodels<0.12,>=0.11 (from pmdarima==1.7.1->sktime[all_extras]==0.4.3->-r requirements.in (line 1))\r\n  statsmodels>=0.9.0 (from tsfresh==0.17.0->sktime[all_extras]==0.4.3->-r requirements.in (line 1))\r\n  statsmodels>=0.12.0 (from sktime[all_extras]==0.4.3->-r requirements.in (line 1))\r\n  statsmodels (from scikit-posthocs==0.6.6->sktime[all_extras]==0.4.3->-r requirements.in (line 1))\r\n```\r\n\r\nP.S.: Thanks for the project! The unified interface to dealing with time-series data is truly amazing!", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/512/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/508", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/508/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/508/events", "html_url": "https://github.com/sktime/sktime/issues/508", "id": 752195914, "node_id": "MDU6SXNzdWU3NTIxOTU5MTQ=", "number": 508, "title": "ModuleNotFoundError: No module named 'sktime.transformers.series'", "user": {"login": "robomotic", "id": 315964, "node_id": "MDQ6VXNlcjMxNTk2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/315964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robomotic", "html_url": "https://github.com/robomotic", "followers_url": "https://api.github.com/users/robomotic/followers", "following_url": "https://api.github.com/users/robomotic/following{/other_user}", "gists_url": "https://api.github.com/users/robomotic/gists{/gist_id}", "starred_url": "https://api.github.com/users/robomotic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robomotic/subscriptions", "organizations_url": "https://api.github.com/users/robomotic/orgs", "repos_url": "https://api.github.com/users/robomotic/repos", "events_url": "https://api.github.com/users/robomotic/events{/privacy}", "received_events_url": "https://api.github.com/users/robomotic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-11-27T11:48:07Z", "updated_at": "2020-12-07T17:54:21Z", "closed_at": "2020-12-07T17:54:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am running the 01_forecasting.ipynb notebook.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.transformers.series.detrend import Deseasonalizer, Detrender\r\n```\r\n\r\n**Expected behavior**\r\n\r\nImport should succeed \r\n\r\n**Additional context**\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n<ipython-input-1-79c87a42ec01> in <module>\r\n     22 from sktime.forecasting.trend import PolynomialTrendForecaster\r\n     23 from sktime.performance_metrics.forecasting import sMAPE, smape_loss\r\n---> 24 from sktime.transformers.series.detrend import Deseasonalizer, Detrender\r\n     25 from sktime.utils.plotting import plot_series\r\n     26 \r\n\r\nModuleNotFoundError: No module named 'sktime.transformers.series'\r\n```\r\n**Versions**\r\n\r\nName: sktime\r\nVersion: 0.4.3\r\n\r\nSource: python3-defaults\r\nVersion: 3.8.2-0ubuntu2\r\nSystem:\r\n    python: 3.8.6 | packaged by conda-forge | (default, Oct  7 2020, 19:08:05)  [GCC 7.5.0]\r\nexecutable: /opt/conda/bin/python\r\n   machine: Linux-5.4.0-54-generic-x86_64-with-glibc2.10\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 49.6.0.post20201009\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.4\r\n        scipy: 1.5.4\r\n       Cython: 0.29.21\r\n       pandas: 1.1.4\r\n   matplotlib: 3.3.3\r\n       joblib: 0.17.0\r\n        numba: 0.49.1\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/498", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/498/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/498/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/498/events", "html_url": "https://github.com/sktime/sktime/issues/498", "id": 746984890, "node_id": "MDU6SXNzdWU3NDY5ODQ4OTA=", "number": 498, "title": "[BUG] ImportError: DLL load failed while importing mrseql: The specified module could not be found", "user": {"login": "adelphi207831197", "id": 7128519, "node_id": "MDQ6VXNlcjcxMjg1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7128519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adelphi207831197", "html_url": "https://github.com/adelphi207831197", "followers_url": "https://api.github.com/users/adelphi207831197/followers", "following_url": "https://api.github.com/users/adelphi207831197/following{/other_user}", "gists_url": "https://api.github.com/users/adelphi207831197/gists{/gist_id}", "starred_url": "https://api.github.com/users/adelphi207831197/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adelphi207831197/subscriptions", "organizations_url": "https://api.github.com/users/adelphi207831197/orgs", "repos_url": "https://api.github.com/users/adelphi207831197/repos", "events_url": "https://api.github.com/users/adelphi207831197/events{/privacy}", "received_events_url": "https://api.github.com/users/adelphi207831197/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-19T22:46:42Z", "updated_at": "2020-11-24T17:30:15Z", "closed_at": "2020-11-24T17:30:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nHello.\r\nI installed SKTime version 0.4.3 on my local Anaconda environment.\r\nWhen I try to follow 03_classification_multivariate (version 0.4.3) example there is an error from the line:\r\n\"from sktime.classification.shapelet_based import MrSEQLClassifier\"\r\nThank you.\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\nFollowing the example from \r\nsktime.org/en/v0.4.3/examples/03_classification_multivariate.html\r\n```python\r\n\r\nfrom sktime.classification.shapelet_based import MrSEQLClassifier\r\n\r\nTraceback (most recent call last):\r\n  File \"ex_multiivariateTSClassification1.py\", line 22, in <module>\r\n    from sktime.classification.shapelet_based import MrSEQLClassifier\r\n  File \"C:\\Users\\mee\\AppData\\Local\\Continuum\\anaconda3\\envs\\Python38-TimeSeries\\lib\\site-packages\\sktime\\classification\\shapelet_based\\__init__.py\", line 6, in <module>\r\n    from sktime.classification.shapelet_based.mrseql.mrseql import \\\r\nImportError: DLL load failed while importing mrseql: The specified module could not be found.\r\n\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\mee\\AppData\\Local\\Continuum\\anaconda3\\envs\\Python38-TimeSeries\\python.exe\r\n   machine: Windows-8.1-6.3.9600-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 49.6.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.4\r\n        scipy: 1.5.3\r\n       Cython: 0.29.17\r\n       pandas: 1.1.4\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/493", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/493/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/493/events", "html_url": "https://github.com/sktime/sktime/issues/493", "id": 744046375, "node_id": "MDU6SXNzdWU3NDQwNDYzNzU=", "number": 493, "title": "Cannot access feature_importances_ attribute for RISE estimator ", "user": {"login": "keithSchumacher", "id": 18370515, "node_id": "MDQ6VXNlcjE4MzcwNTE1", "avatar_url": "https://avatars.githubusercontent.com/u/18370515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keithSchumacher", "html_url": "https://github.com/keithSchumacher", "followers_url": "https://api.github.com/users/keithSchumacher/followers", "following_url": "https://api.github.com/users/keithSchumacher/following{/other_user}", "gists_url": "https://api.github.com/users/keithSchumacher/gists{/gist_id}", "starred_url": "https://api.github.com/users/keithSchumacher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keithSchumacher/subscriptions", "organizations_url": "https://api.github.com/users/keithSchumacher/orgs", "repos_url": "https://api.github.com/users/keithSchumacher/repos", "events_url": "https://api.github.com/users/keithSchumacher/events{/privacy}", "received_events_url": "https://api.github.com/users/keithSchumacher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-16T18:02:26Z", "updated_at": "2020-11-19T20:47:34Z", "closed_at": "2020-11-19T20:47:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n-->\r\nCannot access feature_importances_ attribute for RISE estimator without error.\r\n\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sktime.datasets import load_arrow_head\r\nfrom sktime.classification.frequency_based import RandomIntervalSpectralForest\r\n\r\nX, y = load_arrow_head(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nrise = RandomIntervalSpectralForest(n_estimators=10)\r\nrise.fit(X_train, y_train)\r\nrise.score(X_test, y_test)\r\nrise.feature_importances_\r\n\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\nTypeError: only size-1 arrays can be converted to Python scalars\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-26-4a0a11fa4729> in <module>\r\n      5 rise.score(X_test, y_test)\r\n      6 \r\n----> 7 rise.feature_importances_\r\n\r\n~/.local/lib/python3.6/site-packages/sklearn/ensemble/_forest.py in feature_importances_(self)\r\n    453 \r\n    454         all_importances = np.mean(all_importances,\r\n--> 455                                   axis=0, dtype=np.float64)\r\n    456         return all_importances / np.sum(all_importances)\r\n    457 \r\n\r\n<__array_function__ internals> in mean(*args, **kwargs)\r\n\r\n~/.local/lib/python3.6/site-packages/numpy/core/fromnumeric.py in mean(a, axis, dtype, out, keepdims)\r\n   3371 \r\n   3372     return _methods._mean(a, axis=axis, dtype=dtype,\r\n-> 3373                           out=out, **kwargs)\r\n   3374 \r\n   3375 \r\n\r\n~/.local/lib/python3.6/site-packages/numpy/core/_methods.py in _mean(a, axis, dtype, out, keepdims)\r\n    158             is_float16_result = True\r\n    159 \r\n--> 160     ret = umr_sum(arr, axis, dtype, out, keepdims)\r\n    161     if isinstance(ret, mu.ndarray):\r\n    162         ret = um.true_divide(\r\n\r\nValueError: setting an array element with a sequence.\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\n-->\r\nrise.feature_importances_ should be a pandas dataframe. \r\n\r\n\r\n**Additional context**\r\n<!--\r\n\"Add any other context about the problem here.\"\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/491", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/491/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/491/events", "html_url": "https://github.com/sktime/sktime/issues/491", "id": 743263383, "node_id": "MDU6SXNzdWU3NDMyNjMzODM=", "number": 491, "title": "[BUG] Transformers and its subdirectories __init__.py files are blank", "user": {"login": "Zain-K", "id": 74497341, "node_id": "MDQ6VXNlcjc0NDk3MzQx", "avatar_url": "https://avatars.githubusercontent.com/u/74497341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zain-K", "html_url": "https://github.com/Zain-K", "followers_url": "https://api.github.com/users/Zain-K/followers", "following_url": "https://api.github.com/users/Zain-K/following{/other_user}", "gists_url": "https://api.github.com/users/Zain-K/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zain-K/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zain-K/subscriptions", "organizations_url": "https://api.github.com/users/Zain-K/orgs", "repos_url": "https://api.github.com/users/Zain-K/repos", "events_url": "https://api.github.com/users/Zain-K/events{/privacy}", "received_events_url": "https://api.github.com/users/Zain-K/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-15T14:01:53Z", "updated_at": "2020-11-24T17:30:01Z", "closed_at": "2020-11-24T17:30:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n\r\n-->\r\n Under Transformers and its subdirectories the __init__.py files are blank\r\n\r\n**To Reproduce**\r\n<!--\r\n-->\r\nRun the following code.\r\n\r\n```python\r\nfrom sktime.transformers.base import _SeriesToSeriesTransformer\r\nfrom sktime.transformers.panel.tsfresh import TSFreshFeatureExtractor\r\nfrom sktime.transformers.panel.reduce import Tabularizer\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\n-->\r\nThis causes \"Module not found\" errors in Jupyter Notebook.\r\n\r\n**Additional context**\r\n<!--\r\n-->\r\nI checked on the github repository manually to confirm and the said files are blank. Please assist with resolving. Thank you.\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\npython: 3.7.2 (default, Dec 29 2018, 06:19:36)  [GCC 7.3.0]\r\nexecutable: ~/anaconda3/bin/python\r\nmachine: Linux-4.15.0-54-generic-x86_64-with-debian-buster-sid\r\n\r\nPython dependencies:\r\n          pip: 19.0.3\r\n   setuptools: 40.6.3\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.4\r\n        scipy: 1.2.1\r\n       Cython: 0.29.2\r\n       pandas: 1.1.4\r\n   matplotlib: 3.3.3\r\n       joblib: 0.17.0\r\n        numba: 0.43.0\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/481", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/481/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/481/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/481/events", "html_url": "https://github.com/sktime/sktime/issues/481", "id": 742010850, "node_id": "MDU6SXNzdWU3NDIwMTA4NTA=", "number": 481, "title": "ModuleNotFoundError: No module named 'sktime.transformers.panel'", "user": {"login": "adelphi207831197", "id": 7128519, "node_id": "MDQ6VXNlcjcxMjg1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7128519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adelphi207831197", "html_url": "https://github.com/adelphi207831197", "followers_url": "https://api.github.com/users/adelphi207831197/followers", "following_url": "https://api.github.com/users/adelphi207831197/following{/other_user}", "gists_url": "https://api.github.com/users/adelphi207831197/gists{/gist_id}", "starred_url": "https://api.github.com/users/adelphi207831197/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adelphi207831197/subscriptions", "organizations_url": "https://api.github.com/users/adelphi207831197/orgs", "repos_url": "https://api.github.com/users/adelphi207831197/repos", "events_url": "https://api.github.com/users/adelphi207831197/events{/privacy}", "received_events_url": "https://api.github.com/users/adelphi207831197/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-11-12T23:44:44Z", "updated_at": "2020-12-20T08:56:42Z", "closed_at": "2020-11-13T16:01:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nI'm new to this. Please excuse me for asking a simple question.\r\nI created a new Anaconda environment to test SKTime.\r\nI ran the 'pip install sktime' to install SKTime, along with tsfresh and matplotlib to follow the examples.\r\nWhen I try to follow the \"Univariate time series classification with sktime\" Time series forest example I get this error:\r\n\r\n\"ModuleNotFoundError: No module named 'sktime.transformers.panel'\"\r\n\r\nWhat other dependencies am I supposed to install?\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n\r\n```python\r\n\r\nfrom sktime.transformers.panel.summarize import RandomIntervalFeatureExtractor\r\n\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\npython ex_univariateTSClassification1.py\r\nTraceback (most recent call last):\r\n  File \"ex_univariateTSClassification1.py\", line 22, in <module>\r\n    from sktime.transformers.panel.summarize import RandomIntervalFeatureExtractor\r\nModuleNotFoundError: No module named 'sktime.transformers.panel'\r\n\r\n**Versions**\r\nSKTime version 0.4.3 was installed when I ran 'pip install sktime'\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\nSystem:\r\n    python: 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\mee\\AppData\\Local\\Continuum\\anaconda3\\envs\\Python38-TimeSeries\\python.exe\r\n   machine: Windows-8.1-6.3.9600-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 49.6.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.4\r\n        scipy: 1.5.3\r\n       Cython: 0.29.17\r\n       pandas: 1.1.4\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: None\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/481/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/474", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/474/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/474/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/474/events", "html_url": "https://github.com/sktime/sktime/issues/474", "id": 738445224, "node_id": "MDU6SXNzdWU3Mzg0NDUyMjQ=", "number": 474, "title": "load_from_arff_to_dataframe fails when importing 'ECG200' dataset [BUG]", "user": {"login": "isma3ilsamir", "id": 45247141, "node_id": "MDQ6VXNlcjQ1MjQ3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/45247141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isma3ilsamir", "html_url": "https://github.com/isma3ilsamir", "followers_url": "https://api.github.com/users/isma3ilsamir/followers", "following_url": "https://api.github.com/users/isma3ilsamir/following{/other_user}", "gists_url": "https://api.github.com/users/isma3ilsamir/gists{/gist_id}", "starred_url": "https://api.github.com/users/isma3ilsamir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isma3ilsamir/subscriptions", "organizations_url": "https://api.github.com/users/isma3ilsamir/orgs", "repos_url": "https://api.github.com/users/isma3ilsamir/repos", "events_url": "https://api.github.com/users/isma3ilsamir/events{/privacy}", "received_events_url": "https://api.github.com/users/isma3ilsamir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-08T11:29:39Z", "updated_at": "2021-10-15T20:09:55Z", "closed_at": "2021-10-15T20:09:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI downloaded the 'ECG200' dataset files on my local machine and was trying to import it using 'load_data'\r\nIt works fine if I use 'load_from_tsfile_to_dataframe' utility but fails when I use 'load_from_arff_to_dataframe'\r\n\r\nThis is how the dataset is downloaded\r\nc:\\myfolder\\ECG200\r\n- c:\\myfolder\\ECG200\\ECG200_TEST.arff\r\n- c:\\myfolder\\ECG200\\ECG200_TEST.ts\r\n- c:\\myfolder\\ECG200\\ECG200_TEST.txt\r\n- c:\\myfolder\\ECG200\\ECG200_TRAIN.arff\r\n- c:\\myfolder\\ECG200\\ECG200_TRAIN.ts\r\n- c:\\myfolder\\ECG200\\ECG200_TRAIN.txt\r\n- c:\\myfolder\\ECG200\\ECG200.txt\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.utils.load_data import load_from_arff_to_dataframe as load_arff\r\nfrom sktime.utils.load_data import load_from_tsfile_to_dataframe as load_tsf\r\n\r\nX_train, y_train= load_tsf('c:\\\\myfolder\\\\ECG200\\\\ECG200_TRAIN.ts')\r\nX_train, y_train= load_arff('c:\\\\myfolder\\\\ECG200\\\\ECG200_TRAIN.arff')\r\n```\r\n\r\nError:\r\n```python\r\n~\\.virtualenvs\\Code-OH4xsw-D\\lib\\site-packages\\sktime\\utils\\load_data.py in load_from_arff_to_dataframe(full_file_path_and_name, has_class_labels, return_separate_X_and_y, replace_missing_vals_with)\r\n    698 \r\n    699     with open(full_file_path_and_name, 'r') as f:\r\n--> 700         for line in f:\r\n    701 \r\n    702             if line.strip():\r\n\r\n~\\.virtualenvs\\Code-OH4xsw-D\\lib\\encodings\\cp1252.py in decode(self, input, final)\r\n     21 class IncrementalDecoder(codecs.IncrementalDecoder):\r\n     22     def decode(self, input, final=False):\r\n---> 23         return codecs.charmap_decode(input,self.errors,decoding_table)[0]\r\n     24 \r\n     25 class StreamWriter(Codec,codecs.StreamWriter):\r\n\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x9d in position 159: character maps to <undefined>\r\n```\r\n\r\n**Expected behavior**\r\nTraining data is returned\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.3\r\n   setuptools: 50.3.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.2\r\n        scipy: 1.5.3\r\n       Cython: 0.29.21\r\n       pandas: 1.1.3\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/466", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/466/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/466/events", "html_url": "https://github.com/sktime/sktime/issues/466", "id": 736323043, "node_id": "MDU6SXNzdWU3MzYzMjMwNDM=", "number": 466, "title": "[BUG] API broken on 0.4.3 - plot_ys is missing", "user": {"login": "itpmngt", "id": 1333070, "node_id": "MDQ6VXNlcjEzMzMwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1333070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itpmngt", "html_url": "https://github.com/itpmngt", "followers_url": "https://api.github.com/users/itpmngt/followers", "following_url": "https://api.github.com/users/itpmngt/following{/other_user}", "gists_url": "https://api.github.com/users/itpmngt/gists{/gist_id}", "starred_url": "https://api.github.com/users/itpmngt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itpmngt/subscriptions", "organizations_url": "https://api.github.com/users/itpmngt/orgs", "repos_url": "https://api.github.com/users/itpmngt/repos", "events_url": "https://api.github.com/users/itpmngt/events{/privacy}", "received_events_url": "https://api.github.com/users/itpmngt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-11-04T18:12:36Z", "updated_at": "2020-11-08T12:52:38Z", "closed_at": "2020-11-08T12:49:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nfile `forecasting.py` in `sktime.utils.plotting` is missing - it breaks the API and all online tutorials (including PyData 2020)) are broken\r\n\r\nit happened between version 0.4.2 and 0.4.3\r\n\r\n(assuming that was unintentional - otherwise, the advice is DO NOT break the API within minor versions, and never without pre-warnings of deprecating features, etcetera, etcetera...)\r\n\r\nattempted to submit a PR but not-allowed\r\n\r\nBest,\r\n\r\nJoe Rosa", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/466/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/460", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/460/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/460/events", "html_url": "https://github.com/sktime/sktime/issues/460", "id": 732589597, "node_id": "MDU6SXNzdWU3MzI1ODk1OTc=", "number": 460, "title": "[BUG] TimeSeriesForestClassifier not working with multiple outputs.", "user": {"login": "Stevellen", "id": 23360414, "node_id": "MDQ6VXNlcjIzMzYwNDE0", "avatar_url": "https://avatars.githubusercontent.com/u/23360414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stevellen", "html_url": "https://github.com/Stevellen", "followers_url": "https://api.github.com/users/Stevellen/followers", "following_url": "https://api.github.com/users/Stevellen/following{/other_user}", "gists_url": "https://api.github.com/users/Stevellen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stevellen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stevellen/subscriptions", "organizations_url": "https://api.github.com/users/Stevellen/orgs", "repos_url": "https://api.github.com/users/Stevellen/repos", "events_url": "https://api.github.com/users/Stevellen/events{/privacy}", "received_events_url": "https://api.github.com/users/Stevellen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3102418261, "node_id": "MDU6TGFiZWwzMTAyNDE4MjYx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:classification", "name": "module:classification", "color": "BEB114", "default": false, "description": "classification module: time series classification"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-10-29T19:21:36Z", "updated_at": "2022-02-16T09:54:16Z", "closed_at": "2022-02-16T09:54:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe TimeSeriesForestClassifier (TSFC) documentation suggests that the model should work with a multilabel/multioutput problem. When I try to run it this way, however, the training process seems to complete fine, but at inference time I get a ValueError from numpy saying that it cannot broadcast size (N,1) to (N,). For example, when I try to predict on a set with 8 possible classes (with the classes for each sample represented as a multi-hot vector) I get an error.\r\n\r\n\r\n**To Reproduce**\r\n```python\r\n\r\n# these sets have shapes (22317, 4)  (7440, 4) (22317, 8)  (7440, 8)\r\nX_tr, X_ts, y_tr, y_ts = train_test_split(data, labels)\r\n\r\npipe = Pipeline([\r\n    ('concat', ColumnConcatenator()),\r\n    ('classify', TimeSeriesForestClassifier(n_estimators=100, n_jobs=n_jobs))\r\n    ])\r\npipe.fit(X_tr, y_tr.values)\r\nresult = pipe.score(X_ts, y_ts.values) # this line is the problem\r\n```\r\n\r\n**Expected behavior**\r\nThe model to output a score in this case, or a set of probability vectors when ```python predict_proba() ``` is called.\r\n\r\n**Additional context**\r\nUltimately I am trying to solve a multitask problem here. Any help is very much appreciated.\r\n\r\n**Versions**\r\n<details>\r\nSystem:\r\n    python: 3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: c:\\users\\steven.belcher\\dev\\redberry\\snorkel_env\\scripts\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.4\r\n   setuptools: 41.2.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.18.5\r\n        scipy: 1.5.3\r\n       Cython: 0.29.21\r\n       pandas: 1.1.3\r\n   matplotlib: 3.3.2\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: None\r\n      tsfresh: 0.17.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/460/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/451", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/451/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/451/events", "html_url": "https://github.com/sktime/sktime/issues/451", "id": 730674272, "node_id": "MDU6SXNzdWU3MzA2NzQyNzI=", "number": 451, "title": "pandas dataframe conversion into sktime dataframe[BUG]", "user": {"login": "SaddamHussain84", "id": 64782359, "node_id": "MDQ6VXNlcjY0NzgyMzU5", "avatar_url": "https://avatars.githubusercontent.com/u/64782359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SaddamHussain84", "html_url": "https://github.com/SaddamHussain84", "followers_url": "https://api.github.com/users/SaddamHussain84/followers", "following_url": "https://api.github.com/users/SaddamHussain84/following{/other_user}", "gists_url": "https://api.github.com/users/SaddamHussain84/gists{/gist_id}", "starred_url": "https://api.github.com/users/SaddamHussain84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SaddamHussain84/subscriptions", "organizations_url": "https://api.github.com/users/SaddamHussain84/orgs", "repos_url": "https://api.github.com/users/SaddamHussain84/repos", "events_url": "https://api.github.com/users/SaddamHussain84/events{/privacy}", "received_events_url": "https://api.github.com/users/SaddamHussain84/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-27T17:40:54Z", "updated_at": "2020-10-28T16:24:04Z", "closed_at": "2020-10-28T16:24:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--I have attached the data format, it is CSV file , first column is id column and then from jan-16 to Dec-16, it is monthly electricity consumption of Con_1 to Con-11(11 different consumers) in the end their is target which describe  either customer is healthy or theft.\r\n![sampledataimage](https://user-images.githubusercontent.com/64782359/97338031-f0a18400-18bb-11eb-8edb-3a7140417bff.PNG)\r\n\r\nProblem: Is this when i am trying to fit this file through sktime tabularize function it is through error, can you tell me how to convert standard csv file format into sktime readable format\r\nA clear and concise description of what the bug is.\r\n-->\r\nI have attached the data format, it is CSV file , first column is id column and then from jan-16 to Dec-16, it is monthly electricity consumption of Con_1 to Con-11(11 different consumers) in the end their is target which describe  either customer is healthy or theft.\r\ndf = pd.read_csv(\"data_file.csv\")\r\ndf.head()\r\n![sampledataimage](https://user-images.githubusercontent.com/64782359/97338031-f0a18400-18bb-11eb-8edb-3a7140417bff.PNG)\r\nI want to represent my data into this file format, can you help me.\r\nI am trying to resolve this from past seven days please help me\r\n![sktime](https://user-images.githubusercontent.com/64782359/97339420-87227500-18bd-11eb-8dd6-39c86aca0c28.PNG)\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/451/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/441", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/441/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/441/events", "html_url": "https://github.com/sktime/sktime/issues/441", "id": 727237947, "node_id": "MDU6SXNzdWU3MjcyMzc5NDc=", "number": 441, "title": "[BUG] ValueError: `unit` missing when fitting pandas dataframe", "user": {"login": "t-donat", "id": 66569750, "node_id": "MDQ6VXNlcjY2NTY5NzUw", "avatar_url": "https://avatars.githubusercontent.com/u/66569750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-donat", "html_url": "https://github.com/t-donat", "followers_url": "https://api.github.com/users/t-donat/followers", "following_url": "https://api.github.com/users/t-donat/following{/other_user}", "gists_url": "https://api.github.com/users/t-donat/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-donat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-donat/subscriptions", "organizations_url": "https://api.github.com/users/t-donat/orgs", "repos_url": "https://api.github.com/users/t-donat/repos", "events_url": "https://api.github.com/users/t-donat/events{/privacy}", "received_events_url": "https://api.github.com/users/t-donat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-22T09:57:55Z", "updated_at": "2020-10-22T13:57:33Z", "closed_at": "2020-10-22T13:57:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nHaving followed your tutorial .ipynb, I wanted to try this with a dataset I had worked with before. The code can be seen below, it was written in Jupyter Notebook. When running the code cell of the ThetaForecaster, it would throw the following ValueError:\r\n\r\n**Stack Trace**\r\n\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-240-52dff7f6a368> in <module>\r\n      1 forecaster = ThetaForecaster(sp=7)\r\n----> 2 forecaster.fit(train_series)\r\n      3 alpha = 0.05\r\n      4 pred_series, pred_ints = forecaster.predict(fh, return_pred_ints=True, alpha=alpha)\r\n      5 smape_loss(test_series, pred_series)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\sktime\\forecasting\\theta.py in fit(self, y_train, fh, X_train)\r\n    123         if self.deseasonalise:\r\n    124             self.deseasonaliser_ = Deseasonalizer(sp=self.sp, model=\"multiplicative\")\r\n--> 125             y_train = self.deseasonaliser_.fit_transform(y_train)\r\n    126 \r\n    127         # fit exponential smoothing forecaster\r\n\r\n~\\Anaconda3\\lib\\site-packages\\sktime\\transformers\\single_series\\base.py in fit_transform(self, y_train, **fit_params)\r\n     43             Transformed time series.\r\n     44         \"\"\"\r\n---> 45         return self.fit(y_train, **fit_params).transform(y_train)\r\n     46 \r\n     47     def transform(self, y, **transform_params):\r\n\r\n~\\Anaconda3\\lib\\site-packages\\sktime\\transformers\\single_series\\detrend\\_deseasonalise.py in transform(self, y, **transform_params)\r\n    119         self.check_is_fitted()\r\n    120         y = check_y(y)\r\n--> 121         seasonal = self._align_seasonal(y)\r\n    122         return self._transform(y, seasonal)\r\n    123 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\sktime\\transformers\\single_series\\detrend\\_deseasonalise.py in _align_seasonal(self, y)\r\n     56                 self._y_index[0],\r\n     57                 coerce_to_int=True,\r\n---> 58                 unit=_get_unit(self._y_index),\r\n     59             )\r\n     60             % self.sp\r\n\r\n~\\Anaconda3\\lib\\site-packages\\sktime\\utils\\datetime.py in _get_duration(x, y, coerce_to_int, unit)\r\n    115             # try to get the unit from the data if not given\r\n    116             unit = _get_unit(x)\r\n--> 117         duration = _coerce_duration_to_int(duration, unit=unit)\r\n    118     return duration\r\n\r\n~\\Anaconda3\\lib\\site-packages\\sktime\\utils\\datetime.py in _coerce_duration_to_int(duration, unit)\r\n     32     elif isinstance(duration, (pd.Timedelta, pd.TimedeltaIndex)):\r\n     33         if unit is None:\r\n---> 34             raise ValueError(\"`unit` missing\")\r\n     35         # integer conversion only works reliably with non-ambiguous units (\r\n     36         # e.g. days, seconds but not months, years)\r\n\r\nValueError: `unit` missing\r\n\r\n```\r\n\r\n\r\n**To Reproduce**\r\n\r\n```\r\n\r\nimport pandas as pd\r\nfrom sktime.forecasting.all import *\r\n\r\n# Loading and preparting the dataset (Johns Hopkins COVID data repo)\r\nurl = \"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv\"\r\ntotal_cases = pd.read_csv(url)\r\n\r\ntotal_cases.drop([\"Lat\", \"Long\"], axis=1, inplace=True)\r\ntotal_cases = total_cases.groupby(\"Country/Region\").sum()\r\n\r\n# changing the columns to a datetime format (also since sktime requires it)\r\ntotal_cases.columns = pd.to_datetime(total_cases.columns)\r\n\r\ntotal_cases.rename(index={\"US\": \"United States\", \"Taiwan*\": \"Taiwan\", \"Korea, South\": \"South Korea\"},\r\n                            inplace=True)\r\n\r\n# can be easily changed this way\r\ncountry = \"Austria\"\r\n\r\n\r\ntest_indices = total_cases.columns[-14:]\r\nfh = ForecastingHorizon(test_indices, is_relative=False)\r\n\r\ndaily_cases = total_cases.loc[country].diff().fillna(value=0)\r\ntrain_series = daily_cases.iloc[-130:-14]\r\ntest_series = daily_cases.iloc[-14:]\r\n\r\nforecaster = ThetaForecaster(sp=7)\r\nforecaster.fit(train_series)\r\nalpha = 0.05\r\npred_series, pred_ints = forecaster.predict(fh, return_pred_ints=True, alpha=alpha)\r\nsmape_loss(test_series, pred_series)\r\n```\r\n\r\n**Expected behavior**\r\nI was expecting the ThetaForecaster to fit to the train_series data.\r\n\r\n**Additional context**\r\n(By the way, this is my first bug report so if I make any formal mistakes, I'd be grateful for feedback!)\r\n\r\n**Versions**\r\n\r\nSystem:\r\n    python: 3.7.9 (default, Aug 31 2020, 17:10:11) [MSC v.1916 64 bit (AMD64)]\r\nexecutable: C:\\Users\\tobia\\Anaconda3\\python.exe\r\n   machine: Windows-10-10.0.18362-SP0\r\n\r\nPython dependencies:\r\n          pip: 20.2.3\r\n   setuptools: 49.6.0\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.1\r\n        scipy: 1.5.2\r\n       Cython: 0.29.17\r\n       pandas: 1.1.3\r\n   matplotlib: 3.3.1\r\n       joblib: 0.17.0\r\n        numba: 0.51.2\r\n     pmdarima: 1.7.1\r\n      tsfresh: None\r\n\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/435", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/435/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/435/events", "html_url": "https://github.com/sktime/sktime/issues/435", "id": 724077726, "node_id": "MDU6SXNzdWU3MjQwNzc3MjY=", "number": 435, "title": "[BUG] Automatic fitting with AutoETS fails", "user": {"login": "discdiver", "id": 7703961, "node_id": "MDQ6VXNlcjc3MDM5NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/7703961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/discdiver", "html_url": "https://github.com/discdiver", "followers_url": "https://api.github.com/users/discdiver/followers", "following_url": "https://api.github.com/users/discdiver/following{/other_user}", "gists_url": "https://api.github.com/users/discdiver/gists{/gist_id}", "starred_url": "https://api.github.com/users/discdiver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/discdiver/subscriptions", "organizations_url": "https://api.github.com/users/discdiver/orgs", "repos_url": "https://api.github.com/users/discdiver/repos", "events_url": "https://api.github.com/users/discdiver/events{/privacy}", "received_events_url": "https://api.github.com/users/discdiver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-10-18T19:16:06Z", "updated_at": "2020-10-26T14:28:42Z", "closed_at": "2020-10-26T14:28:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAutomatic fitting with AutoETS errors. Works fine when manually setting params.\r\n\r\n\r\n**To Reproduce**\r\n\r\ninstantiate with auto=True and fit\r\n\r\n\r\n```python\r\nfrom sktime.datasets import load_airline\r\nfrom sktime.forecasting.model_selection import temporal_train_test_split\r\nfrom sktime.forecasting.ets import AutoETS\r\n\r\ny = load_airline()\r\ny_train, y_test = temporal_train_test_split(y, test_size=36)\r\n\r\n\r\nhw_auto_model = AutoETS(auto=True)\r\nhw_model.fit(y_train)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nA fit model with good params. \r\n\r\n\r\n**Stack trace**\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-80-03aaf6ca0732> in <module>\r\n----> 1 hw_auto_model.fit(y_train)\r\n\r\n~/miniconda3/lib/python3.7/site-packages/sktime/forecasting/base/_statsmodels.py in fit(self, y_train, fh, X_train)\r\n     39         self._set_y_X(y_train, X_train)\r\n     40         self._set_fh(fh)\r\n---> 41         self._fit_forecaster(y_train, X_train=X_train)\r\n     42         self._is_fitted = True\r\n     43         return self\r\n\r\n~/miniconda3/lib/python3.7/site-packages/sktime/forecasting/ets.py in _fit_forecaster(self, y, X_train)\r\n    287                 delayed(_fit)(error, trend, seasonal, damped)\r\n    288                 for error, trend, seasonal, damped in _iter(\r\n--> 289                     error_range, trend_range, seasonal_range, damped_range\r\n    290                 )\r\n    291             )\r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/parallel.py in __call__(self, iterable)\r\n   1027             # remaining jobs.\r\n   1028             self._iterating = False\r\n-> 1029             if self.dispatch_one_batch(iterator):\r\n   1030                 self._iterating = self._original_iterator is not None\r\n   1031 \r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/parallel.py in dispatch_one_batch(self, iterator)\r\n    845                 return False\r\n    846             else:\r\n--> 847                 self._dispatch(tasks)\r\n    848                 return True\r\n    849 \r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/parallel.py in _dispatch(self, batch)\r\n    763         with self._lock:\r\n    764             job_idx = len(self._jobs)\r\n--> 765             job = self._backend.apply_async(batch, callback=cb)\r\n    766             # A job can complete so quickly than its callback is\r\n    767             # called before we get here, causing self._jobs to\r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/_parallel_backends.py in apply_async(self, func, callback)\r\n    206     def apply_async(self, func, callback=None):\r\n    207         \"\"\"Schedule a func to be run\"\"\"\r\n--> 208         result = ImmediateResult(func)\r\n    209         if callback:\r\n    210             callback(result)\r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/_parallel_backends.py in __init__(self, batch)\r\n    570         # Don't delay the application, to avoid keeping the input\r\n    571         # arguments in memory\r\n--> 572         self.results = batch()\r\n    573 \r\n    574     def get(self):\r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/parallel.py in __call__(self)\r\n    251         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    252             return [func(*args, **kwargs)\r\n--> 253                     for func, args, kwargs in self.items]\r\n    254 \r\n    255     def __reduce__(self):\r\n\r\n~/miniconda3/lib/python3.7/site-packages/joblib/parallel.py in <listcomp>(.0)\r\n    251         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    252             return [func(*args, **kwargs)\r\n--> 253                     for func, args, kwargs in self.items]\r\n    254 \r\n    255     def __reduce__(self):\r\n\r\n~/miniconda3/lib/python3.7/site-packages/sktime/forecasting/ets.py in _fit(error, trend, seasonal, damped)\r\n    271                     dates=self.dates,\r\n    272                     freq=self.freq,\r\n--> 273                     missing=self.missing,\r\n    274                 )\r\n    275                 _fitted_forecaster = _forecaster.fit(\r\n\r\n~/miniconda3/lib/python3.7/site-packages/statsmodels/tsa/exponential_smoothing/ets.py in __init__(self, endog, error, trend, damped_trend, seasonal, seasonal_periods, initialization_method, initial_level, initial_trend, initial_seasonal, bounds, dates, freq, missing)\r\n    454             )\r\n    455             if seasonal_periods is None:\r\n--> 456                 self.seasonal_periods = freq_to_period(self._index_freq)\r\n    457             if self.seasonal_periods <= 1:\r\n    458                 raise ValueError(\"seasonal_periods must be larger than 1.\")\r\n\r\n~/miniconda3/lib/python3.7/site-packages/statsmodels/tsa/tsatools.py in freq_to_period(freq)\r\n    810     if not isinstance(freq, offsets.DateOffset):\r\n    811         freq = to_offset(freq)  # go ahead and standardize\r\n--> 812     freq = freq.rule_code.upper()\r\n    813 \r\n    814     if freq == 'A' or freq.startswith(('A-', 'AS-')):\r\n\r\nAttributeError: 'NoneType' object has no attribute 'rule_code'\r\n```\r\n\r\n**Versions**\r\n0.4.2\r\n\r\n\r\nSystem:\r\n    python: 3.7.6 (default, Jan  8 2020, 13:42:34)  [Clang 4.0.1 (tags/RELEASE_401/final)]\r\nexecutable: /Users/jeffhale/miniconda3/bin/python\r\n   machine: Darwin-18.7.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 20.2.2\r\n   setuptools: 49.6.0.post20200814\r\n      sklearn: 0.23.2\r\n        numpy: 1.18.1\r\n        scipy: 1.4.1\r\n       Cython: 0.29.17\r\n       pandas: 1.1.1\r\n   matplotlib: 3.2.2\r\n       joblib: 0.16.0\r\n        numba: 0.50.0\r\n     pmdarima: 1.7.1\r\n      tsfresh: 0.17.0\r\n\r\nWhen installing the latest sktime I got: \r\n\r\n\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/431", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/431/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/431/events", "html_url": "https://github.com/sktime/sktime/issues/431", "id": 722941329, "node_id": "MDU6SXNzdWU3MjI5NDEzMjk=", "number": 431, "title": "[BUG] Dynamic forecast using ExponentialSmoothing doesn't refit the forecaster", "user": {"login": "pradithya", "id": 4023015, "node_id": "MDQ6VXNlcjQwMjMwMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4023015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pradithya", "html_url": "https://github.com/pradithya", "followers_url": "https://api.github.com/users/pradithya/followers", "following_url": "https://api.github.com/users/pradithya/following{/other_user}", "gists_url": "https://api.github.com/users/pradithya/gists{/gist_id}", "starred_url": "https://api.github.com/users/pradithya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pradithya/subscriptions", "organizations_url": "https://api.github.com/users/pradithya/orgs", "repos_url": "https://api.github.com/users/pradithya/repos", "events_url": "https://api.github.com/users/pradithya/events{/privacy}", "received_events_url": "https://api.github.com/users/pradithya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-10-16T06:23:10Z", "updated_at": "2021-04-14T14:08:06Z", "closed_at": "2021-04-14T14:08:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nI am following [dynamic forecast example](https://www.sktime.org/en/latest/examples/01_forecasting.html#Dynamic-forecasts) but using  ExponentialSmoothing instead of NaiveForecaster.\r\nI noticed that the forecaster is not retrained in every step, thus instead of generating  36 1-step forecast it is creating 36-step forecast.\r\n\r\nI.e.\r\n```\r\ny_pred = forecaster.update_predict(y_test, cv)\r\n```\r\n\r\nbehaves like\r\n```\r\ny_pred = forecaster.predict(fh=[i for i in range(36)])\r\n```\r\n\r\n**To Reproduce**\r\n<!--\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nforecaster = ExponentialSmoothing(trend=\"add\", seasonal=\"multiplicative\", sp=12)\r\nforecaster.fit(y_train)\r\ncv = SlidingWindowSplitter(fh=1)\r\ny_pred = forecaster.update_predict(y_test, cv)\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nforecaster is refitted every time step\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nv0.4.2\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n\r\nSystem:\r\n    python: 3.7.3 (default, Mar 27 2019, 16:54:48)  [Clang 4.0.1 (tags/RELEASE_401/final)]\r\nexecutable: /Users/aria/anaconda3/bin/python\r\n   machine: Darwin-19.4.0-x86_64-i386-64bit\r\n\r\nPython dependencies:\r\n          pip: 19.3.1\r\n   setuptools: 41.6.0.post20191030\r\n      sklearn: 0.23.2\r\n        numpy: 1.19.0\r\n        scipy: 1.5.2\r\n       Cython: 0.29.21\r\n       pandas: 1.1.2\r\n   matplotlib: 3.3.0\r\n       joblib: 0.16.0\r\n        numba: None\r\n     pmdarima: None\r\n      tsfresh: None\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/431/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/427", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/427/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/427/events", "html_url": "https://github.com/sktime/sktime/issues/427", "id": 719296688, "node_id": "MDU6SXNzdWU3MTkyOTY2ODg=", "number": 427, "title": "ModuleNotFoundError: No module named 'sktime.forecasting.all", "user": {"login": "yunusrf", "id": 1234047, "node_id": "MDQ6VXNlcjEyMzQwNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1234047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunusrf", "html_url": "https://github.com/yunusrf", "followers_url": "https://api.github.com/users/yunusrf/followers", "following_url": "https://api.github.com/users/yunusrf/following{/other_user}", "gists_url": "https://api.github.com/users/yunusrf/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunusrf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunusrf/subscriptions", "organizations_url": "https://api.github.com/users/yunusrf/orgs", "repos_url": "https://api.github.com/users/yunusrf/repos", "events_url": "https://api.github.com/users/yunusrf/events{/privacy}", "received_events_url": "https://api.github.com/users/yunusrf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-10-12T11:17:27Z", "updated_at": "2022-02-15T12:58:16Z", "closed_at": "2020-10-19T08:42:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nRunning the latest example code, 01_forecasting.ipynb,  from jupitor notebook through Binder  gives the error : 01_forecasting.ipynb\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n\r\nRun the Binder from sktime gitbub repository and select the notebook example - 01_forecasting.ipynb\r\n```python\r\n<Paste your code here>\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nv0.4.2\r\n<details>\r\nv0.4.2\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/413", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/413/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/413/events", "html_url": "https://github.com/sktime/sktime/issues/413", "id": 713973966, "node_id": "MDU6SXNzdWU3MTM5NzM5NjY=", "number": 413, "title": "[BUG] KNN with DTW", "user": {"login": "manu-torres", "id": 56218303, "node_id": "MDQ6VXNlcjU2MjE4MzAz", "avatar_url": "https://avatars.githubusercontent.com/u/56218303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manu-torres", "html_url": "https://github.com/manu-torres", "followers_url": "https://api.github.com/users/manu-torres/followers", "following_url": "https://api.github.com/users/manu-torres/following{/other_user}", "gists_url": "https://api.github.com/users/manu-torres/gists{/gist_id}", "starred_url": "https://api.github.com/users/manu-torres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manu-torres/subscriptions", "organizations_url": "https://api.github.com/users/manu-torres/orgs", "repos_url": "https://api.github.com/users/manu-torres/repos", "events_url": "https://api.github.com/users/manu-torres/events{/privacy}", "received_events_url": "https://api.github.com/users/manu-torres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-10-03T01:11:22Z", "updated_at": "2021-01-06T15:24:10Z", "closed_at": "2021-01-06T15:24:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nKNeighborsClassifier(n_neighbors = 1, metric = \"euclidean\")) always gives exactly the same result than KNeighborsTimeSeriesClassifier(n_neighbors = 1, metric = \"dtw\")\r\n\r\n**To Reproduce**\r\n\r\nGo to the example jupyter notebook 02_classification_univariate, section \"K-nearest-neighbours classifier for time series\". \r\n\r\nThe last two code cells before the \"Other clasiffiers\" section show the difference between using regular euclidean distance and dynamic time warping for a K Neighbors Classifier. When executing those two cells both models always give the same score. The results only change when repeating the train test split, but both models still have the same score with the same samples.\r\n\r\n```python\r\nimport numpy as np\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.metrics import classification_report\r\nfrom sktime.datasets import load_basic_motions\r\nfrom sklearn.pipeline import make_pipeline\r\nfrom sktime.transformers.series_as_features.reduce import Tabularizer\r\nX, y = load_basic_motions(return_X_y = True)\r\nx_train, x_test, y_train, y_test = train_test_split(X.iloc[:, [0]], y)\r\n\r\n#sklearn version\r\nfrom sklearn.neighbors import KNeighborsClassifier\r\n\r\nknn = make_pipeline(\r\n        Tabularizer(),\r\n        KNeighborsClassifier(n_neighbors = 1,\r\n                             metric = \"euclidean\"))\r\n\r\nknn.fit(x_train, y_train)\r\nprint(\"sklearn model performance (euclidean distance): \" + str(knn.score(x_test, y_test)))\r\nprint(classification_report(y_test, knn.predict(x_test)))\r\n\r\n#sktime adaptation (with the metric changed)\r\nfrom sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\n\r\nknn = KNeighborsTimeSeriesClassifier(n_neighbors = 1,\r\n                           metric = \"dtw\")\r\n\r\nknn.fit(x_train, y_train)\r\nprint(\"sktime model performance (with dynamic time warping): \" + str(knn.score(x_test, y_test)))\r\nprint(classification_report(y_test, knn.predict(x_test)))\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe sktime version with dwt should have better performance, or at least not exactly the same.\r\n\r\n\r\n**Additional context**\r\n\r\nI was following the tutorial at PyData Amsterdam 2020 and all the output from my local installation mirrored the one in the video. However, those two cells of code had a strange behaviour. In the video it seemed that the sklearn classifier had a score of 0.65 while the sktime implementation had a 1. Of course different results are to be expected when running the code since there is randomness involved, but it is still odd.\r\n\r\nI thought I just made a mistake somewhere while copying the code, or maybe there was a problem with my installation (version 0.4.1), so I went to the notebook hosted on Binder and saw the same behaviour there.\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nLocal installation version of sktime: 0.4.1\r\n\r\nAlso experienced the issue on the Binder notebook, with version 0.4.2\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/406", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/406/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/406/events", "html_url": "https://github.com/sktime/sktime/issues/406", "id": 711954570, "node_id": "MDU6SXNzdWU3MTE5NTQ1NzA=", "number": 406, "title": "[BUG] build_tools.requirements.txt contains incompatible packages", "user": {"login": "SilvestrePerret", "id": 32543165, "node_id": "MDQ6VXNlcjMyNTQzMTY1", "avatar_url": "https://avatars.githubusercontent.com/u/32543165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SilvestrePerret", "html_url": "https://github.com/SilvestrePerret", "followers_url": "https://api.github.com/users/SilvestrePerret/followers", "following_url": "https://api.github.com/users/SilvestrePerret/following{/other_user}", "gists_url": "https://api.github.com/users/SilvestrePerret/gists{/gist_id}", "starred_url": "https://api.github.com/users/SilvestrePerret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SilvestrePerret/subscriptions", "organizations_url": "https://api.github.com/users/SilvestrePerret/orgs", "repos_url": "https://api.github.com/users/SilvestrePerret/repos", "events_url": "https://api.github.com/users/SilvestrePerret/events{/privacy}", "received_events_url": "https://api.github.com/users/SilvestrePerret/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-30T13:37:34Z", "updated_at": "2020-12-20T08:51:52Z", "closed_at": "2020-12-20T08:51:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nDuring the installation of build_tools, `pip` returns a warning/error message :\r\n```\r\nERROR: After October 2020 you may experience errors when installing or updating packages. This is because pip will change the way that it resolves dependency conflicts.\r\n\r\nWe recommend you use --use-feature=2020-resolver to test your packages with the new resolver before it becomes the default.\r\n\r\npmdarima 1.7.1 requires Cython<0.29.18,>=0.29, but you'll have cython 0.29.21 which is incompatible.\r\npmdarima 1.7.1 requires statsmodels<0.12,>=0.11, but you'll have statsmodels 0.12.0 which is incompatible.\r\n```\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. https://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link it in the issue: https://gist.github.com\r\n-->\r\n- clone the repository\r\n- set up an virtual environment and open a shell in it\r\n- `$ pip install --upgrade pip`\r\n- `$ pip install -r build_tools/requirements.txt`\r\n\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nExpect no error message.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n<details>First time trying to contribute here. Hope I didn't miss something obvious</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/401", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/401/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/401/events", "html_url": "https://github.com/sktime/sktime/issues/401", "id": 708052766, "node_id": "MDU6SXNzdWU3MDgwNTI3NjY=", "number": 401, "title": "[BUG]Unable to Compile Sktime", "user": {"login": "jattenberg", "id": 924185, "node_id": "MDQ6VXNlcjkyNDE4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/924185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jattenberg", "html_url": "https://github.com/jattenberg", "followers_url": "https://api.github.com/users/jattenberg/followers", "following_url": "https://api.github.com/users/jattenberg/following{/other_user}", "gists_url": "https://api.github.com/users/jattenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jattenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jattenberg/subscriptions", "organizations_url": "https://api.github.com/users/jattenberg/orgs", "repos_url": "https://api.github.com/users/jattenberg/repos", "events_url": "https://api.github.com/users/jattenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jattenberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-24T10:30:05Z", "updated_at": "2020-09-24T11:02:37Z", "closed_at": "2020-09-24T11:00:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI've been trying to compile sktime both on my apple laptop and on a fresh aws ubuntu server. Ultimately I end up with a g++ 127 failure code (used virtualenv, `pip install -e .`)\r\n\r\n```    creating build/temp.linux-x86_64-3.8/sktime/classification\r\n    creating build/temp.linux-x86_64-3.8/sktime/classification/shapelet_based\r\n    creating build/temp.linux-x86_64-3.8/sktime/classification/shapelet_based/mrseql\r\n    compile options: '-Isktime/classification/shapelet_based/mrseql -I/home/ubuntu/sktime/sktime-virtualenv/lib/python3.8/site-packages/numpy/core/include -I/home/ubuntu/anaconda3/include/python3.8 -I/home/ubuntu/anaconda3/include/python3.8 -c'\r\n    extra options: '-std=c++11 -fopenmp'\r\n    g++: sktime/classification/shapelet_based/mrseql/mrseql.cpp\r\n    g++: sktime/classification/shapelet_based/mrseql/SNode.cpp\r\n    g++: sktime/classification/shapelet_based/mrseql/seql_learn.cpp\r\n    error: Command \"g++ -pthread -B /home/ubuntu/anaconda3/compiler_compat -Wl,--sysroot=/ -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -Isktime/classification/shapelet_based/mrseql -I/home/ubuntu/sktime/sktime-virtualenv/lib/python3.8/site-packages/numpy/core/include -I/home/ubuntu/anaconda3/include/python3.8 -I/home/ubuntu/anaconda3/include/python3.8 -c sktime/classification/shapelet_based/mrseql/mrseql.cpp -o build/temp.linux-x86_64-3.8/sktime/classification/shapelet_based/mrseql/mrseql.o -MMD -MF build/temp.linux-x86_64-3.8/sktime/classification/shapelet_based/mrseql/mrseql.o.d -std=c++11 -fopenmp\" failed with exit status 127\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /home/ubuntu/sktime/sktime-virtualenv/bin/python3.8 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/home/ubuntu/sktime/setup.py'\"'\"'; __file__='\"'\"'/home/ubuntu/sktime/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps Check the logs for full command output.\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following code snippet and paste the output here:\r\n \r\nfrom sktime import show_versions; show_versions()\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/397", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/397/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/397/events", "html_url": "https://github.com/sktime/sktime/issues/397", "id": 703995023, "node_id": "MDU6SXNzdWU3MDM5OTUwMjM=", "number": 397, "title": "[BUG] TSFreshFeatureExtractor does not handle unequal length data", "user": {"login": "artdgn", "id": 29574203, "node_id": "MDQ6VXNlcjI5NTc0MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/29574203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artdgn", "html_url": "https://github.com/artdgn", "followers_url": "https://api.github.com/users/artdgn/followers", "following_url": "https://api.github.com/users/artdgn/following{/other_user}", "gists_url": "https://api.github.com/users/artdgn/gists{/gist_id}", "starred_url": "https://api.github.com/users/artdgn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artdgn/subscriptions", "organizations_url": "https://api.github.com/users/artdgn/orgs", "repos_url": "https://api.github.com/users/artdgn/repos", "events_url": "https://api.github.com/users/artdgn/events{/privacy}", "received_events_url": "https://api.github.com/users/artdgn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1118163264, "node_id": "MDU6TGFiZWwxMTE4MTYzMjY0", "url": "https://api.github.com/repos/sktime/sktime/labels/feature%20request", "name": "feature request", "color": "38d191", "default": false, "description": "New feature or request"}, {"id": 3105907331, "node_id": "MDU6TGFiZWwzMTA1OTA3MzMx", "url": "https://api.github.com/repos/sktime/sktime/labels/module:transformations", "name": "module:transformations", "color": "0865AF", "default": false, "description": "transformations module: time series transformatio, feature extraction, pre-/post-processing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-09-18T00:33:03Z", "updated_at": "2022-11-05T15:14:57Z", "closed_at": "2022-11-05T15:14:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nNot sure if this is a bug or documentation issue but I can't figure out what's the correct format for using this library.\r\n\r\n**To Reproduce**\r\nThe tutorial with `load_arrow_head` examples work, but I can't figure out how to get my own data into the right format.\r\n\r\nI'm trying to work with an already existing dataframe, in which I already have series vectors. \r\n\r\n### 1st attempt, numpy arrays:\r\n```py\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\nfrom sktime.transformers.series_as_features.summarize import TSFreshFeatureExtractor\r\n\r\ntransformer = TSFreshFeatureExtractor(default_fc_parameters=\"minimal\")\r\n\r\n# most natural, arrays?\r\ndf_arrs = pd.DataFrame({'id': ['a', 'b'],\r\n                        'values': [np.array([1, 2]), np.array([3, 4, 5])]})\r\n\"\"\"\r\n>>> df_arrs\r\n  id     values\r\n0  a     [1, 2]\r\n1  b  [3, 4, 5]\r\n\r\n>>> type(df_arrs.iloc[0, 1])\r\n <class 'numpy.ndarray'>\r\n\"\"\"\r\n\r\ntransformer.fit_transform(df_arrs[['values']])\r\n\"\"\"\r\n...\r\n    f\"Length mismatch: Expected axis has {old_len} elements, new \"\r\nValueError: Length mismatch: Expected axis has 1 elements, new values have 2 elements\r\n\"\"\"\r\n```\r\n### 2nd attempt, maybe vectors need to be Series like in tutorials?:\r\n```py\r\n# maybe series?\r\ndf_sers = pd.DataFrame({'id': ['a', 'b'],\r\n                        'values': [pd.Series([1, 2]), pd.Series([3, 4, 5])]})\r\n\"\"\"\r\n>>> df_sers.iloc[0, 1]\r\n0    1\r\n1    2\r\ndtype: int64\r\n\r\n>>> type(df_sers.iloc[0, 1])\r\n<class 'pandas.core.series.Series'>\r\n\"\"\"\r\n\r\ntransformer.fit_transform(df_sers[['values']])\r\n\"\"\"\r\n    f\"Length mismatch: Expected axis has {old_len} elements, new \"\r\nValueError: Length mismatch: Expected axis has 1 elements, new values have 2 elements\r\n\"\"\"\r\n\r\n```\r\n### 3rd attempt, maybe dataframes?:\r\n```py\r\n# maybe dataframes?\r\ndf_dfs = pd.DataFrame({'id': ['a', 'b'],\r\n                       'values': [pd.DataFrame([1, 2]), pd.DataFrame([3, 4, 5])]})\r\n\"\"\"\r\n>>> df_dfs.iloc[0, 1]\r\n   0\r\n0  1\r\n1  2\r\n\r\n>>> type(df_dfs.iloc[0, 1])\r\n<class 'pandas.core.frame.DataFrame'>\r\n\"\"\"\r\n\r\nextracted_features = transformer.fit_transform(df_dfs[['values']])\r\n\"\"\"\r\n    f\"Length mismatch: Expected axis has {old_len} elements, new \"\r\nValueError: Length mismatch: Expected axis has 1 elements, new values have 2 elements\r\n\"\"\"\r\n\r\n```\r\n\r\nIn the existing examples I've only found the `from_long_to_nested` function and example. But it seems a convoluted and specific format, and would require exploding the vectors and adding the additional specific tripple-index columns manually.\r\n\r\n**Versions**\r\n\r\n`sktime` version is 0.4.1 and there seems to be no `show_versions` in this version.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/396", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/396/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/396/events", "html_url": "https://github.com/sktime/sktime/issues/396", "id": 702820771, "node_id": "MDU6SXNzdWU3MDI4MjA3NzE=", "number": 396, "title": "[BUG] ThetaForecaster-Deseasonalizer returns numpy.array", "user": {"login": "arainboldt", "id": 54881218, "node_id": "MDQ6VXNlcjU0ODgxMjE4", "avatar_url": "https://avatars.githubusercontent.com/u/54881218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arainboldt", "html_url": "https://github.com/arainboldt", "followers_url": "https://api.github.com/users/arainboldt/followers", "following_url": "https://api.github.com/users/arainboldt/following{/other_user}", "gists_url": "https://api.github.com/users/arainboldt/gists{/gist_id}", "starred_url": "https://api.github.com/users/arainboldt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arainboldt/subscriptions", "organizations_url": "https://api.github.com/users/arainboldt/orgs", "repos_url": "https://api.github.com/users/arainboldt/repos", "events_url": "https://api.github.com/users/arainboldt/events{/privacy}", "received_events_url": "https://api.github.com/users/arainboldt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-16T14:35:47Z", "updated_at": "2020-09-18T09:41:17Z", "closed_at": "2020-09-18T09:41:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nUsing the ThetaForecaster. Feeding a pandas.Series as input and keep getting the below error. \r\n\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-25-64202d8e96f5> in <module>\r\n      1 model = ReducedRegressionForecaster(regressor=ThetaForecaster(smoothing_level=.2,sp=1), window_length=3, strategy=\"recursive\")\r\n----> 2 model.fit(series)\r\n      3 model.predict(list(np.arange(3) + series.index[-1]))\r\n      4 \r\n      5 \r\n\r\n~/virtualenvs/mtl/lib/python3.7/site-packages/sktime/forecasting/compose/_reduce.py in fit(self, y_train, fh, X_train)\r\n    305         # fit base regressor\r\n    306         regressor = clone(self.regressor)\r\n--> 307         regressor.fit(X_train_tab, y_train_tab.ravel())\r\n    308         self.regressor_ = regressor\r\n    309 \r\n\r\n~/virtualenvs/mtl/lib/python3.7/site-packages/sktime/forecasting/theta.py in fit(self, y_train, fh, X_train)\r\n    124             self.deseasonaliser_ = Deseasonalizer(sp=self.sp,\r\n    125                                                   model=\"multiplicative\")\r\n--> 126             y_train = self.deseasonaliser_.fit_transform(y_train)\r\n    127 \r\n    128         # fit exponential smoothing forecaster\r\n\r\n~/virtualenvs/mtl/lib/python3.7/site-packages/sktime/transformers/single_series/base.py in fit_transform(self, y_train, **fit_params)\r\n     43             Transformed time series.\r\n     44         \"\"\"\r\n---> 45         return self.fit(y_train, **fit_params).transform(y_train)\r\n     46 \r\n     47     def transform(self, y, **transform_params):\r\n\r\n~/virtualenvs/mtl/lib/python3.7/site-packages/sktime/transformers/single_series/detrend/_deseasonalise.py in fit(self, y, **fit_params)\r\n     65         \"\"\"\r\n     66 \r\n---> 67         y = check_y(y)\r\n     68         self._set_oh_index(y)\r\n     69         sp = check_sp(self.sp)\r\n\r\n~/virtualenvs/mtl/lib/python3.7/site-packages/sktime/utils/validation/forecasting.py in check_y(y, allow_empty, allow_constant)\r\n     65     if not isinstance(y, pd.Series):\r\n     66         raise TypeError(\r\n---> 67             f\"`y` must be a pandas Series, but found type: {type(y)}\")\r\n     68 \r\n     69     # check that series is not empty\r\n\r\nTypeError: `y` must be a pandas Series, but found type: <class 'numpy.ndarray'>\r\n```\r\n-->\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.forecasting.compose import ReducedRegressionForecaster\r\nfrom sktime.forecasting.theta import ThetaForecaster\r\nimport pandas as pd\r\nimport numpy as np\r\ny = pd.Series(\"34 34 39 46 47 50 53 58 61 58 57 59 64 67 72 74\".split(' ',-1)).astype(float)\r\nmodel = ReducedRegressionForecaster(regressor=ThetaForecaster(smoothing_level=.2,sp=1), window_length=3, strategy=\"recursive\")\r\nmodel.fit(y)\r\nmodel.predict(pd.Series(list(np.arange(3) + y.index[-1])))\r\n\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nShould receive input as pandas.Series, but it is being transformed to numpy.array by the Deseasonalizer\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\n\r\n\r\nVersion = 0.4.1 from pypi\r\n \r\nfrom sktime import show_versions; show_versions()\r\n\r\n```\r\n[---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-27-fda5f3835245> in <module>\r\n----> 1 from sktime import show_versions\r\n      2 show_versions()\r\n\r\nImportError: cannot import name 'show_versions' from 'sktime' (/Users/arainboldt/virtualenvs/mtl/lib/python3.7/site-packages/sktime/__init__.py)\r\n](url)\r\n```\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/366", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/366/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/366/events", "html_url": "https://github.com/sktime/sktime/issues/366", "id": 676319226, "node_id": "MDU6SXNzdWU2NzYzMTkyMjY=", "number": 366, "title": "Inverse_transform not working in RowTransform(StandardScaler())", "user": {"login": "jmrichardson", "id": 6565528, "node_id": "MDQ6VXNlcjY1NjU1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/6565528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmrichardson", "html_url": "https://github.com/jmrichardson", "followers_url": "https://api.github.com/users/jmrichardson/followers", "following_url": "https://api.github.com/users/jmrichardson/following{/other_user}", "gists_url": "https://api.github.com/users/jmrichardson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmrichardson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmrichardson/subscriptions", "organizations_url": "https://api.github.com/users/jmrichardson/orgs", "repos_url": "https://api.github.com/users/jmrichardson/repos", "events_url": "https://api.github.com/users/jmrichardson/events{/privacy}", "received_events_url": "https://api.github.com/users/jmrichardson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-10T18:07:48Z", "updated_at": "2020-10-26T07:43:18Z", "closed_at": "2020-10-26T07:43:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n```python\r\nscaler = RowTransformer(StandardScaler())\r\nXtrain = scaler.fit_transform(self.X_train)\r\nXtrain_inv = scaler.inverse_transform(Xtrain)\r\n```\r\nInverse_transform does not work when applying RowTransformer(StandardScaler()).  Apparently, sktime does not store the fitted standard scaler for each series.  See [issue](https://github.com/sktime/sktime-dl/issues/62)\r\n\r\n\r\n**Expected behavior**\r\n<details>\r\nI would have thought that the above code self.X_train and Xtrain_inv would be identical but they differ significantly.  \r\n</details>\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\n\r\nWindows-10-10.0.18362-SP0\r\nPython 3.7.8 | packaged by conda-forge | (default, Jul 31 2020, 01:53:57) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.18.5\r\nSciPy 1.4.1\r\nsktime 0.4.1\r\n\r\n\r\n</details>\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/366/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/346", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/346/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/346/events", "html_url": "https://github.com/sktime/sktime/issues/346", "id": 659964895, "node_id": "MDU6SXNzdWU2NTk5NjQ4OTU=", "number": 346, "title": "When the index of the data is a timestamp, it leads to \"TypeError: Addition/subtraction of integers and integer-arrays with Timestamp is no longer supported.  Instead of adding/subtracting `n`, use `n * obj.freq`\"", "user": {"login": "shruthibalaji2307", "id": 48148271, "node_id": "MDQ6VXNlcjQ4MTQ4Mjcx", "avatar_url": "https://avatars.githubusercontent.com/u/48148271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shruthibalaji2307", "html_url": "https://github.com/shruthibalaji2307", "followers_url": "https://api.github.com/users/shruthibalaji2307/followers", "following_url": "https://api.github.com/users/shruthibalaji2307/following{/other_user}", "gists_url": "https://api.github.com/users/shruthibalaji2307/gists{/gist_id}", "starred_url": "https://api.github.com/users/shruthibalaji2307/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shruthibalaji2307/subscriptions", "organizations_url": "https://api.github.com/users/shruthibalaji2307/orgs", "repos_url": "https://api.github.com/users/shruthibalaji2307/repos", "events_url": "https://api.github.com/users/shruthibalaji2307/events{/privacy}", "received_events_url": "https://api.github.com/users/shruthibalaji2307/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-18T07:05:04Z", "updated_at": "2020-10-07T22:51:37Z", "closed_at": "2020-10-07T22:51:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I use a Series which has TimeStamp as the index, I get the following error in various steps:\r\n\r\n**TypeError**: _Addition/subtraction of integers and integer-arrays with Timestamp is no longer supported.  Instead of adding/subtracting `n`, use `n * obj.freq`_\r\n\r\nThis error occurs when I try a plot (plot_ys) and when I try to predict (y_pred = forecaster.predict(fh)).\r\n\r\nFor fixing the plot, I modified the file \"sktime/utils/plotting/forecasting.py\" in the line:\r\n\r\n_-continuous_index = np.arange(y.index.min(), y.index.max() + 1)\r\n+continuous_index = np.arange(1, len(y) + 1)\r\n\r\n>> After the above change, I got a plot with the timestamp as the index.\r\n\r\n![image](https://user-images.githubusercontent.com/48148271/87846860-b9046280-c8f0-11ea-9c48-56096e428773.png)\r\n\r\nSimilarly, for predict, the following file needs fixing : sktime/forecasting/base/_fh.py in line:\r\n\r\n-values = self + cutoff \r\n+values = (self * cutoff.freq) + cutoff\r\n\r\nBecause, here direct addition is not possible due to the TimeStamp index. \r\n\r\n**To Reproduce**\r\nhttps://gist.github.com/shruthibalaji2307/e10dcae314773e75f6a03d4c43246f71\r\n\r\n**Input Data**\r\n[nation_level_daily.zip](https://github.com/alan-turing-institute/sktime/files/4941236/nation_level_daily.zip)\r\n\r\n\r\n**Expected behavior**\r\nI expected plot_ys to plot my data without cribbing about the TimeStamp index. It only works when I use a simple numerical index.\r\n\r\n**Versions**\r\nLinux-5.4.0-40-generic-x86_64-with-glibc2.29\r\nPython 3.8.2 (default, Apr 27 2020, 15:53:34) \r\n[GCC 9.3.0]\r\nNumPy 1.19.0\r\nSciPy 1.5.1\r\nPandas 1.0.5\r\nsktime 0.4.1\r\n\r\n**Code Changes required**\r\n1) \"sktime/utils/plotting/forecasting.py\" :\r\n\r\n_-continuous_index = np.arange(y.index.min(), y.index.max() + 1)\r\n+continuous_index = np.arange(1, len(y) + 1)\r\n\r\n2) sktime/forecasting/base/_fh.py in line:\r\n\r\n-values = self + cutoff \r\n+values = (self * cutoff.freq) + cutoff\r\n\r\n3) Wherever addition/subtraction is done on the index of the data.\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/346/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/339", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/339/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/339/events", "html_url": "https://github.com/sktime/sktime/issues/339", "id": 655657394, "node_id": "MDU6SXNzdWU2NTU2NTczOTQ=", "number": 339, "title": "[BUG]ModuleNotFoundError: No module named 'sktiem'", "user": {"login": "xtibau", "id": 17152105, "node_id": "MDQ6VXNlcjE3MTUyMTA1", "avatar_url": "https://avatars.githubusercontent.com/u/17152105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xtibau", "html_url": "https://github.com/xtibau", "followers_url": "https://api.github.com/users/xtibau/followers", "following_url": "https://api.github.com/users/xtibau/following{/other_user}", "gists_url": "https://api.github.com/users/xtibau/gists{/gist_id}", "starred_url": "https://api.github.com/users/xtibau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xtibau/subscriptions", "organizations_url": "https://api.github.com/users/xtibau/orgs", "repos_url": "https://api.github.com/users/xtibau/repos", "events_url": "https://api.github.com/users/xtibau/events{/privacy}", "received_events_url": "https://api.github.com/users/xtibau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-13T08:37:47Z", "updated_at": "2020-07-13T09:18:09Z", "closed_at": "2020-07-13T08:55:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "After creating a new environment with anaconda, and running `pip install sktime` I got the following error (I've also tried to install it as a developer).\r\n\r\nPython 3.8.3 (default, Jul  2 2020, 16:21:59) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import sktime\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/tiba_xa/Documents/Personal/UB/firearms/codi/sktime.py\", line 2, in <module>\r\n    from sktime.datasets import load_airline\r\nModuleNotFoundError: No module named 'sktime.datasets'; 'sktime' is not a package\r\n\r\n**Versions**\r\n>>> import platform; print(platform.platform())\r\nLinux-5.3.0-51-generic-x86_64-with-glibc2.10\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.8.3 (default, Jul  2 2020, 16:21:59) \r\n[GCC 7.3.0]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.19.0\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.5.1\r\n>>> import scipy; print(\"Pandas\", pandas.__version__)\r\nPandas 1.0.5\r\n>>> import sktime; print(\"sktime\", sktime.__version__)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/tiba_xa/Documents/Personal/UB/firearms/codi/sktime.py\", line 2, in <module>\r\n    from sktime.datasets import load_airline\r\nModuleNotFoundError: No module named 'sktime.datasets'; 'sktime' is not a package\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/328", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/328/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/328/events", "html_url": "https://github.com/sktime/sktime/issues/328", "id": 649827584, "node_id": "MDU6SXNzdWU2NDk4Mjc1ODQ=", "number": 328, "title": "[BUG] KNeighboursTimeSeriesClassifier throws errors with multivariate time series data when algorithm is set to either 'kd_tree' or 'ball_tree'", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-02T10:39:49Z", "updated_at": "2021-01-11T23:39:54Z", "closed_at": "2021-01-06T15:24:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using ShapeDTW with KNeighborsTimeSeriesClassifier, as ShapeDTW produces a multivariate time series from a univariate one, when its converted to an array it produces a 3D array. When I set the algorithm flag in KNeighborsTimeSeriesClassifier to 'brute' it works absolutely fine. However, when I set the algorithm flag to 'ball_tree' or 'kd_tree' I get errors. For ShapeDTW, the 3D output is absolutely necessary so I guess it would be good if 'ball_tree' and 'kd_tree' work with a 3D input.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nX = multivariateTimeSeriesData()\r\ny = classLabels()\r\nknn = KNeighborsTimeSeriesClassifier(algorithm='brute')\r\nknn.fit(X)\r\nknn.predict(X,y) # Works fine.\r\nknn = KNeighborsTimeSeriesClassifier(algorithm='kd_tree') \r\nknn.fit(X)\r\nknn.predict(X,y) # Throws - ValueError: kd_tree does not support callable metric '<built-in function dtw_distance>'Function call overhead will resultin very poor performance..\r\nknn = KNeighborsTimeSeriesClassifier(algorithm='ball_tree') \r\nknn.fit(X)\r\nknn.predict(X,y) # Throws - ValueError: Buffer has wrong number of dimensions (expected 2, got 3)\r\n```\r\n\r\n**Expected behavior**\r\nKNeighboursTimeSeriesClassifier supports 3D time series data. \r\n\r\n**Additional context**\r\nTo get ShapeDTW working properly, I inserted at lines 184 and 272 - X = nested_to_3d_numpy(X). This was necessary so that\r\nit converted the data into the correct form for ShapeDTW. 'brute' works even with this line, but 'kd_tree' and 'ball_tree' do not.\r\n\r\n**Versions**\r\n<details>\r\nWindows-10-10.0.18362-SP0\r\n\r\nPython 3.7.6 (default, Jan  8 2020, 20:23:39) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nPandas 1.0.3\r\nsktime 0.4.0\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/322", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/322/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/322/events", "html_url": "https://github.com/sktime/sktime/issues/322", "id": 647923799, "node_id": "MDU6SXNzdWU2NDc5MjM3OTk=", "number": 322, "title": "[BUG]ModuleNotFoundError: No module named 'pmdarima'", "user": {"login": "Abhilash-Kar0", "id": 48282478, "node_id": "MDQ6VXNlcjQ4MjgyNDc4", "avatar_url": "https://avatars.githubusercontent.com/u/48282478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Abhilash-Kar0", "html_url": "https://github.com/Abhilash-Kar0", "followers_url": "https://api.github.com/users/Abhilash-Kar0/followers", "following_url": "https://api.github.com/users/Abhilash-Kar0/following{/other_user}", "gists_url": "https://api.github.com/users/Abhilash-Kar0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Abhilash-Kar0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Abhilash-Kar0/subscriptions", "organizations_url": "https://api.github.com/users/Abhilash-Kar0/orgs", "repos_url": "https://api.github.com/users/Abhilash-Kar0/repos", "events_url": "https://api.github.com/users/Abhilash-Kar0/events{/privacy}", "received_events_url": "https://api.github.com/users/Abhilash-Kar0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-06-30T07:06:55Z", "updated_at": "2021-03-19T15:41:53Z", "closed_at": "2020-07-01T06:52:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\n\r\n-->\r\nIn sktime.forecaster AutoARIMA,---   from pmdarima.arima import AutoARIMA as _AutoARIMA , pmdarima not installed. Please add a check in installation requirements. \r\n**To Reproduce**\r\n<!--\r\n\r\n-->\r\n\r\ninstall sktime through pip and import AutoARIMA from sktime.forecasting.arima \r\n\r\n\r\n\r\n\r\n```python\r\n[Past your code here.]\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following snippet and paste the output here.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport scipy; print(\"Pandas\", pandas.__version__)\r\nimport sktime; print(\"sktime\", sktime.__version__)\r\n-->\r\nLinux-4.9.0-12-amd64-x86_64-with-debian-buster-sid\r\nPython 3.7.6 | packaged by conda-forge | (default, Mar 23 2020, 23:03:20) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nPandas 1.0.3\r\nsktime 0.4.0\r\n</details>\r\n\r\nMY first issue please ignore any shortcomings\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/321", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/321/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/321/events", "html_url": "https://github.com/sktime/sktime/issues/321", "id": 647481130, "node_id": "MDU6SXNzdWU2NDc0ODExMzA=", "number": 321, "title": "[BUG] ShapeletTransformClassifier doesn't work with y as pd.Series", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TonyBagnall", "id": 9594042, "node_id": "MDQ6VXNlcjk1OTQwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9594042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyBagnall", "html_url": "https://github.com/TonyBagnall", "followers_url": "https://api.github.com/users/TonyBagnall/followers", "following_url": "https://api.github.com/users/TonyBagnall/following{/other_user}", "gists_url": "https://api.github.com/users/TonyBagnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyBagnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyBagnall/subscriptions", "organizations_url": "https://api.github.com/users/TonyBagnall/orgs", "repos_url": "https://api.github.com/users/TonyBagnall/repos", "events_url": "https://api.github.com/users/TonyBagnall/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyBagnall/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/sktime/sktime/milestones/4", "html_url": "https://github.com/sktime/sktime/milestone/4", "labels_url": "https://api.github.com/repos/sktime/sktime/milestones/4/labels", "id": 5509787, "node_id": "MDk6TWlsZXN0b25lNTUwOTc4Nw==", "number": 4, "title": "v0.4.1", "description": "Further consolidation of interface, add support for 3d np.arrays", "creator": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-06-05T19:28:47Z", "updated_at": "2020-09-09T08:53:00Z", "due_on": null, "closed_at": "2020-09-09T08:53:00Z"}, "comments": 5, "created_at": "2020-06-29T15:43:54Z", "updated_at": "2020-07-15T10:54:02Z", "closed_at": "2020-07-15T10:54:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n ShapeletTransformClassifier doesn't work with y as pd.Series\r\n\r\n**To Reproduce**\r\nThis breaks: \r\n```python\r\nfrom sktime.classification.shapelet_based import ShapeletTransformClassifier\r\nfrom sktime.datasets import load_arrow_head\r\nfrom sklearn.model_selection import train_test_split\r\n\r\nX, y = load_arrow_head(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nc = ShapeletTransformClassifier()\r\nc.fit(X_train, y_train)\r\n```\r\n\r\n**Expected behavior**\r\nWorks with pd.Series or np.array\r\n\r\n**Additional context**\r\nThis works: \r\n\r\n```python\r\nfrom sktime.classification.shapelet_based import ShapeletTransformClassifier\r\nfrom sktime.datasets import load_arrow_head\r\nfrom sklearn.model_selection import train_test_split\r\n\r\nX, y = load_arrow_head(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nc = ShapeletTransformClassifier()\r\nc.fit(X_train, y_train.to_numpy())\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/289", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/289/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/289/events", "html_url": "https://github.com/sktime/sktime/issues/289", "id": 640266001, "node_id": "MDU6SXNzdWU2NDAyNjYwMDE=", "number": 289, "title": "KNN Classifier: 'function' object has no attribute '__wrapped__'", "user": {"login": "Quaterion", "id": 23200273, "node_id": "MDQ6VXNlcjIzMjAwMjcz", "avatar_url": "https://avatars.githubusercontent.com/u/23200273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Quaterion", "html_url": "https://github.com/Quaterion", "followers_url": "https://api.github.com/users/Quaterion/followers", "following_url": "https://api.github.com/users/Quaterion/following{/other_user}", "gists_url": "https://api.github.com/users/Quaterion/gists{/gist_id}", "starred_url": "https://api.github.com/users/Quaterion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Quaterion/subscriptions", "organizations_url": "https://api.github.com/users/Quaterion/orgs", "repos_url": "https://api.github.com/users/Quaterion/repos", "events_url": "https://api.github.com/users/Quaterion/events{/privacy}", "received_events_url": "https://api.github.com/users/Quaterion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-06-17T08:55:34Z", "updated_at": "2020-06-24T16:09:06Z", "closed_at": "2020-06-24T16:09:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am using the following the demo for [univariate time series classification](https://github.com/alan-turing-institute/sktime/blob/master/examples/02_classification_univariate.ipynb)\r\nCalling the first example KNeighborsTimeSeriesClassifier gives the error:  'function' object has no attribute '__wrapped__'\r\n\r\n\r\n**To Reproduce**\r\n\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.pipeline import Pipeline\r\nfrom sklearn.preprocessing import FunctionTransformer\r\nfrom sklearn.tree import DecisionTreeClassifier\r\nfrom sktime.classification.compose import TimeSeriesForestClassifier\r\nfrom sktime.classification.distance_based import KNeighborsTimeSeriesClassifier\r\nfrom sktime.datasets import load_gunpoint\r\nfrom sktime.series_as_features.compose import FeatureUnion\r\nfrom sktime.transformers.series_as_features.compose import RowTransformer\r\nfrom sktime.transformers.series_as_features.reduce import Tabularizer\r\nfrom sktime.transformers.series_as_features.segment import \\\r\n    RandomIntervalSegmenter\r\nfrom sktime.utils.time_series import time_series_slope\r\nfrom statsmodels.tsa.ar_model import AutoReg\r\nfrom statsmodels.tsa.stattools import acf\r\n\r\nX, y = load_gunpoint(return_X_y=True)\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nknn = KNeighborsTimeSeriesClassifier(metric='dtw')\r\nknn.fit(X_train, y_train)\r\n\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-40-5eb9acd6a688> in <module>\r\n      1 knn = KNeighborsTimeSeriesClassifier(metric='dtw')\r\n----> 2 knn.fit(X_train, y_train)\r\n\r\n~/anaconda3/lib/python3.7/site-packages/sktime/classification/distance_based/_time_series_neighbors.py in fit(self, X, y)\r\n    221             self._y = self._y.ravel()\r\n    222 \r\n--> 223         temp = check_array.__wrapped__.__code__\r\n    224         check_array.__wrapped__.__code__ = _check_array_ts.__code__\r\n    225         fx = self._fit(X)\r\n\r\nAttributeError: 'function' object has no attribute '__wrapped__'\r\n\r\n```\r\n\r\n**Expected behavior**\r\nI expect the code to run :-)\r\n\r\n\r\n\r\n\r\n**Versions**\r\n\r\n\r\nLinux-4.9.0-12-amd64-x86_64-with-debian-9.12\r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nPandas 0.25.3\r\nsktime 0.4.0\r\n\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/248", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/248/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/248/events", "html_url": "https://github.com/sktime/sktime/issues/248", "id": 607574984, "node_id": "MDU6SXNzdWU2MDc1NzQ5ODQ=", "number": 248, "title": "[BUG] MrSEQLClassifier missing module on windows install", "user": {"login": "MJFlynn", "id": 46817933, "node_id": "MDQ6VXNlcjQ2ODE3OTMz", "avatar_url": "https://avatars.githubusercontent.com/u/46817933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MJFlynn", "html_url": "https://github.com/MJFlynn", "followers_url": "https://api.github.com/users/MJFlynn/followers", "following_url": "https://api.github.com/users/MJFlynn/following{/other_user}", "gists_url": "https://api.github.com/users/MJFlynn/gists{/gist_id}", "starred_url": "https://api.github.com/users/MJFlynn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MJFlynn/subscriptions", "organizations_url": "https://api.github.com/users/MJFlynn/orgs", "repos_url": "https://api.github.com/users/MJFlynn/repos", "events_url": "https://api.github.com/users/MJFlynn/events{/privacy}", "received_events_url": "https://api.github.com/users/MJFlynn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-27T14:00:28Z", "updated_at": "2020-04-29T09:11:30Z", "closed_at": "2020-04-29T09:11:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nTraceback (most recent call last):\r\n  File \"C:/Repositories/sktime/sktime/contrib/experiments.py\", line 61, in <module>\r\n    import sktime.classifiers.shapelet_based.stc as st\r\n  File \"C:\\Repositories\\sktime\\sktime\\classifiers\\shapelet_based\\__init__.py\", line 2, in <module>\r\n    from sktime.classifiers.shapelet_based.mrseql.mrseql import MrSEQLClassifier\r\n  File \"C:\\Repositories\\sktime\\sktime\\classifiers\\shapelet_based\\mrseql\\__init__.py\", line 1, in <module>\r\n    from sktime.classifiers.shapelet_based.mrseql.mrseql import MrSEQLClassifier\r\nModuleNotFoundError: No module named 'sktime.classifiers.shapelet_based.mrseql.mrseql'\r\n\r\n**To Reproduce**\r\nFresh install of sktime on windows.\r\nRun contrib.experiments.py\r\n\r\n**Versions**\r\n<details>\r\nWindows-10-10.0.15063-SP0\r\nPython 3.7.0 (v3.7.0:1bf9cc5093, Jun 27 2018, 04:59:51) [MSC v.1914 64 bit (AMD64)]\r\nNumPy 1.17.5\r\nSciPy 1.4.1\r\nsktime 0.3.1\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/247", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/247/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/247/events", "html_url": "https://github.com/sktime/sktime/issues/247", "id": 607570906, "node_id": "MDU6SXNzdWU2MDc1NzA5MDY=", "number": 247, "title": "[BUG] MrSEQLClassifier module missing on windows install", "user": {"login": "MJFlynn", "id": 46817933, "node_id": "MDQ6VXNlcjQ2ODE3OTMz", "avatar_url": "https://avatars.githubusercontent.com/u/46817933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MJFlynn", "html_url": "https://github.com/MJFlynn", "followers_url": "https://api.github.com/users/MJFlynn/followers", "following_url": "https://api.github.com/users/MJFlynn/following{/other_user}", "gists_url": "https://api.github.com/users/MJFlynn/gists{/gist_id}", "starred_url": "https://api.github.com/users/MJFlynn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MJFlynn/subscriptions", "organizations_url": "https://api.github.com/users/MJFlynn/orgs", "repos_url": "https://api.github.com/users/MJFlynn/repos", "events_url": "https://api.github.com/users/MJFlynn/events{/privacy}", "received_events_url": "https://api.github.com/users/MJFlynn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-27T13:54:55Z", "updated_at": "2020-04-27T13:57:20Z", "closed_at": "2020-04-27T13:57:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nTraceback (most recent call last):\r\n  File \"C:/Repositories/sktime/sktime/contrib/experiments.py\", line 61, in <module>\r\n    import sktime.classifiers.shapelet_based.stc as st\r\n  File \"C:\\Repositories\\sktime\\sktime\\classifiers\\shapelet_based\\__init__.py\", line 2, in <module>\r\n    from sktime.classifiers.shapelet_based.mrseql.mrseql import MrSEQLClassifier\r\n  File \"C:\\Repositories\\sktime\\sktime\\classifiers\\shapelet_based\\mrseql\\__init__.py\", line 1, in <module>\r\n    from sktime.classifiers.shapelet_based.mrseql.mrseql import MrSEQLClassifier\r\nModuleNotFoundError: No module named 'sktime.classifiers.shapelet_based.mrseql.mrseql'\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nFresh install of Sktime\r\nThen run python sktime.contrib.experiments.py\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nWindows-10-10.0.15063-SP0\r\nPython 3.7.0 (v3.7.0:1bf9cc5093, Jun 27 2018, 04:59:51) [MSC v.1914 64 bit (AMD64)]\r\nNumPy 1.17.5\r\nSciPy 1.4.1\r\nsktime 0.3.1\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/234", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/234/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/234/events", "html_url": "https://github.com/sktime/sktime/issues/234", "id": 585537706, "node_id": "MDU6SXNzdWU1ODU1Mzc3MDY=", "number": 234, "title": "TSF fit process error", "user": {"login": "MrNobodyCali", "id": 38969235, "node_id": "MDQ6VXNlcjM4OTY5MjM1", "avatar_url": "https://avatars.githubusercontent.com/u/38969235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrNobodyCali", "html_url": "https://github.com/MrNobodyCali", "followers_url": "https://api.github.com/users/MrNobodyCali/followers", "following_url": "https://api.github.com/users/MrNobodyCali/following{/other_user}", "gists_url": "https://api.github.com/users/MrNobodyCali/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrNobodyCali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrNobodyCali/subscriptions", "organizations_url": "https://api.github.com/users/MrNobodyCali/orgs", "repos_url": "https://api.github.com/users/MrNobodyCali/repos", "events_url": "https://api.github.com/users/MrNobodyCali/events{/privacy}", "received_events_url": "https://api.github.com/users/MrNobodyCali/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-21T17:00:27Z", "updated_at": "2020-03-26T17:44:43Z", "closed_at": "2020-03-26T17:44:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run the example file `univariate_time_series_classification.ipynb`, I meet a typeError at the code `tsf.fit(X_train, y_train)`. The error is:\r\n> TypeError: _generate_sample_indices() missing 1 required positional argument: 'n_samples_bootstrap'\r\n\r\nI have no idea how this happens because I didn't change any codes.", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/221", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/221/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/221/events", "html_url": "https://github.com/sktime/sktime/issues/221", "id": 556749509, "node_id": "MDU6SXNzdWU1NTY3NDk1MDk=", "number": 221, "title": "[BUG] rise.fit fails with \"x contains a constant. Adding a constant with trend='c' is not allowed.\"", "user": {"login": "tohinai", "id": 34362780, "node_id": "MDQ6VXNlcjM0MzYyNzgw", "avatar_url": "https://avatars.githubusercontent.com/u/34362780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tohinai", "html_url": "https://github.com/tohinai", "followers_url": "https://api.github.com/users/tohinai/followers", "following_url": "https://api.github.com/users/tohinai/following{/other_user}", "gists_url": "https://api.github.com/users/tohinai/gists{/gist_id}", "starred_url": "https://api.github.com/users/tohinai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tohinai/subscriptions", "organizations_url": "https://api.github.com/users/tohinai/orgs", "repos_url": "https://api.github.com/users/tohinai/repos", "events_url": "https://api.github.com/users/tohinai/events{/privacy}", "received_events_url": "https://api.github.com/users/tohinai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-29T09:50:34Z", "updated_at": "2020-01-30T13:23:50Z", "closed_at": "2020-01-30T13:23:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nrise.fit fails with error.\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. \r\nhttps://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\nfrom sktime.transformers.compose import RowwiseTransformer\r\nfrom sktime.transformers.compose import Tabulariser\r\nfrom sktime.transformers.segment import RandomIntervalSegmenter\r\nfrom sktime.pipeline import Pipeline\r\nfrom sktime.pipeline import FeatureUnion\r\nfrom sktime.classifiers.compose import TimeSeriesForestClassifier\r\nfrom sktime.datasets import load_gunpoint\r\nfrom statsmodels.tsa.stattools import acf\r\nfrom statsmodels.tsa.ar_model import AR\r\nfrom sklearn.preprocessing import FunctionTransformer\r\nfrom sklearn.tree import DecisionTreeClassifier\r\nimport numpy as np\r\n\r\nX_train, y_train = load_gunpoint(split='TRAIN', return_X_y=True)\r\nX_test, y_test = load_gunpoint(split='TEST', return_X_y=True)\r\n\r\ndef ar_coefs(x, maxlag=100):\r\n    x = np.asarray(x).ravel()\r\n    nlags = np.minimum(len(x) - 1, maxlag)\r\n    model = AR(endog=x) \r\n    return model.fit(maxlag=nlags).params.ravel()\r\n\r\ndef acf_coefs(x, maxlag=100):\r\n    x = np.asarray(x).ravel() \r\n    nlags = np.minimum(len(x) - 1, maxlag)\r\n    return acf(x, nlags=nlags).ravel()\r\n\r\ndef powerspectrum(x, **kwargs):\r\n    x = np.asarray(x).ravel()\r\n    fft = np.fft.fft(x)\r\n    ps = fft.real * fft.real + fft.imag * fft.imag\r\n    return ps[:ps.shape[0] // 2].ravel()\r\n\r\nsteps = [\r\n    ('segment', RandomIntervalSegmenter(n_intervals=1, min_length=5)),\r\n    ('transform', FeatureUnion([\r\n        ('ar', RowwiseTransformer(FunctionTransformer(func=ar_coefs, validate=False))),\r\n        ('acf', RowwiseTransformer(FunctionTransformer(func=acf_coefs, validate=False))),\r\n        ('ps', RowwiseTransformer(FunctionTransformer(func=powerspectrum, validate=False)))\r\n    ])),\r\n    ('tabularise', Tabulariser()),\r\n    ('clf', DecisionTreeClassifier())\r\n]\r\nbase_estimator = Pipeline(steps)\r\n\r\nrise = TimeSeriesForestClassifier(base_estimator=base_estimator,\r\n                                  n_estimators=50, \r\n                                  bootstrap=True,\r\n                                  oob_score=True)\r\n\r\nrise.fit(X_train, y_train)\r\nif rise.oob_score:\r\n    print(rise.oob_score_)\r\n\r\n# ---------------------------------------------------------------------------\r\n# ValueError                                Traceback (most recent call last)\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/transformers/compose.py in _apply_rowwise(self, func, X, y)\r\n#     235             Xt = pd.concat([pd.Series(col.apply(func))\r\n# --> 236                             for _, col in X.items()], axis=1)\r\n#     237 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/transformers/compose.py in <listcomp>(.0)\r\n#     235             Xt = pd.concat([pd.Series(col.apply(func))\r\n# --> 236                             for _, col in X.items()], axis=1)\r\n#     237 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/pandas/core/series.py in apply(self, func, convert_dtype, args, **kwds)\r\n#    4044                 values = self.astype(object).values\r\n# -> 4045                 mapped = lib.map_infer(values, f, convert=convert_dtype)\r\n#    4046 \r\n\r\n# pandas/_libs/lib.pyx in pandas._libs.lib.map_infer()\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/base.py in fit_transform(self, X, y, **fit_params)\r\n#     552             # fit method of arity 1 (unsupervised transformation)\r\n# --> 553             return self.fit(X, **fit_params).transform(X)\r\n#     554         else:\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/preprocessing/_function_transformer.py in transform(self, X)\r\n#     152         \"\"\"\r\n# --> 153         return self._transform(X, func=self.func, kw_args=self.kw_args)\r\n#     154 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/preprocessing/_function_transformer.py in _transform(self, X, func, kw_args)\r\n#     178 \r\n# --> 179         return func(X, **(kw_args if kw_args else {}))\r\n#     180 \r\n\r\n# <ipython-input-5-9af4e0007a3b> in ar_coefs(x, maxlag)\r\n#      20     model = AR(endog=x)\r\n# ---> 21     return model.fit(maxlag=nlags).params.ravel()\r\n#      22 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/statsmodels/tsa/ar_model.py in fit(self, maxlag, method, ic, trend, transparams, start_params, solver, maxiter, full_output, disp, callback, **kwargs)\r\n#     546         # make lagged RHS\r\n# --> 547         X = self._stackX(k_ar, trend)  # sets self.k_trend\r\n#     548         k_trend = self.k_trend\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/statsmodels/tsa/ar_model.py in _stackX(self, k_ar, trend)\r\n#     390         if k_trend:\r\n# --> 391             X = add_trend(X, prepend=True, trend=trend, has_constant=\"raise\")\r\n#     392         self.k_trend = k_trend\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/statsmodels/tsa/tsatools.py in add_trend(x, trend, prepend, has_constant)\r\n#     107                       \"trend='{0}' is not allowed.\".format(trend)\r\n# --> 108                 raise ValueError(msg)\r\n#     109             elif has_constant == 'skip':\r\n\r\n# ValueError: x contains a constant. Adding a constant with trend='c' is not allowed.\r\n\r\n# During handling of the above exception, another exception occurred:\r\n\r\n# ValueError                                Traceback (most recent call last)\r\n# <ipython-input-5-9af4e0007a3b> in <module>\r\n#      49                                   oob_score=True)\r\n#      50 \r\n# ---> 51 rise.fit(X_train, y_train)\r\n#      52 if rise.oob_score:\r\n#      53     print(rise.oob_score_)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/classifiers/compose/ensemble.py in fit(self, X, y, sample_weight)\r\n#     354                     t, self, X, y, sample_weight, i, len(trees),\r\n#     355                     verbose=self.verbose, class_weight=self.class_weight)\r\n# --> 356                 for i, t in enumerate(trees))\r\n#     357 \r\n#     358             # Collect newly grown trees\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in __call__(self, iterable)\r\n#    1002             # remaining jobs.\r\n#    1003             self._iterating = False\r\n# -> 1004             if self.dispatch_one_batch(iterator):\r\n#    1005                 self._iterating = self._original_iterator is not None\r\n#    1006 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in dispatch_one_batch(self, iterator)\r\n#     833                 return False\r\n#     834             else:\r\n# --> 835                 self._dispatch(tasks)\r\n#     836                 return True\r\n#     837 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in _dispatch(self, batch)\r\n#     752         with self._lock:\r\n#     753             job_idx = len(self._jobs)\r\n# --> 754             job = self._backend.apply_async(batch, callback=cb)\r\n#     755             # A job can complete so quickly than its callback is\r\n#     756             # called before we get here, causing self._jobs to\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/_parallel_backends.py in apply_async(self, func, callback)\r\n#     207     def apply_async(self, func, callback=None):\r\n#     208         \"\"\"Schedule a func to be run\"\"\"\r\n# --> 209         result = ImmediateResult(func)\r\n#     210         if callback:\r\n#     211             callback(result)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/_parallel_backends.py in __init__(self, batch)\r\n#     588         # Don't delay the application, to avoid keeping the input\r\n#     589         # arguments in memory\r\n# --> 590         self.results = batch()\r\n#     591 \r\n#     592     def get(self):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in __call__(self)\r\n#     254         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n#     255             return [func(*args, **kwargs)\r\n# --> 256                     for func, args, kwargs in self.items]\r\n#     257 \r\n#     258     def __len__(self):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in <listcomp>(.0)\r\n#     254         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n#     255             return [func(*args, **kwargs)\r\n# --> 256                     for func, args, kwargs in self.items]\r\n#     257 \r\n#     258     def __len__(self):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/classifiers/compose/ensemble.py in _parallel_build_trees(tree, forest, X, y, sample_weight, tree_idx, n_trees, verbose, class_weight)\r\n#     494         fit_params = {f'{estimator}__sample_weight': curr_sample_weight,\r\n#     495                       f'{estimator}__check_input': True}\r\n# --> 496         tree.fit(X, y, **fit_params)\r\n#     497 \r\n#     498     else:\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/pipeline.py in fit(self, X, y, **fit_params)\r\n#     350             This estimator\r\n#     351         \"\"\"\r\n# --> 352         Xt, fit_params = self._fit(X, y, **fit_params)\r\n#     353         with _print_elapsed_time('Pipeline',\r\n#     354                                  self._log_message(len(self.steps) - 1)):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/pipeline.py in _fit(self, X, y, **fit_params)\r\n#     315                 message_clsname='Pipeline',\r\n#     316                 message=self._log_message(step_idx),\r\n# --> 317                 **fit_params_steps[name])\r\n#     318             # Replace the transformer of the step with the fitted\r\n#     319             # transformer. This is necessary when loading the transformer\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/memory.py in __call__(self, *args, **kwargs)\r\n#     353 \r\n#     354     def __call__(self, *args, **kwargs):\r\n# --> 355         return self.func(*args, **kwargs)\r\n#     356 \r\n#     357     def call_and_shelve(self, *args, **kwargs):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/pipeline.py in _fit_transform_one(transformer, X, y, weight, message_clsname, message, **fit_params)\r\n#     714     with _print_elapsed_time(message_clsname, message):\r\n#     715         if hasattr(transformer, 'fit_transform'):\r\n# --> 716             res = transformer.fit_transform(X, y, **fit_params)\r\n#     717         else:\r\n#     718             res = transformer.fit(X, y, **fit_params).transform(X)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/pipeline.py in fit_transform(self, X, y, **fit_params)\r\n#     182             delayed(_fit_transform_one)(trans, X, y, weight,\r\n#     183                                         **fit_params)\r\n# --> 184             for name, trans, weight in self._iter())\r\n#     185 \r\n#     186         if not result:\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in __call__(self, iterable)\r\n#    1002             # remaining jobs.\r\n#    1003             self._iterating = False\r\n# -> 1004             if self.dispatch_one_batch(iterator):\r\n#    1005                 self._iterating = self._original_iterator is not None\r\n#    1006 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in dispatch_one_batch(self, iterator)\r\n#     833                 return False\r\n#     834             else:\r\n# --> 835                 self._dispatch(tasks)\r\n#     836                 return True\r\n#     837 \r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in _dispatch(self, batch)\r\n#     752         with self._lock:\r\n#     753             job_idx = len(self._jobs)\r\n# --> 754             job = self._backend.apply_async(batch, callback=cb)\r\n#     755             # A job can complete so quickly than its callback is\r\n#     756             # called before we get here, causing self._jobs to\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/_parallel_backends.py in apply_async(self, func, callback)\r\n#     207     def apply_async(self, func, callback=None):\r\n#     208         \"\"\"Schedule a func to be run\"\"\"\r\n# --> 209         result = ImmediateResult(func)\r\n#     210         if callback:\r\n#     211             callback(result)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/_parallel_backends.py in __init__(self, batch)\r\n#     588         # Don't delay the application, to avoid keeping the input\r\n#     589         # arguments in memory\r\n# --> 590         self.results = batch()\r\n#     591 \r\n#     592     def get(self):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in __call__(self)\r\n#     254         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n#     255             return [func(*args, **kwargs)\r\n# --> 256                     for func, args, kwargs in self.items]\r\n#     257 \r\n#     258     def __len__(self):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/joblib/parallel.py in <listcomp>(.0)\r\n#     254         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n#     255             return [func(*args, **kwargs)\r\n# --> 256                     for func, args, kwargs in self.items]\r\n#     257 \r\n#     258     def __len__(self):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/pipeline.py in _fit_transform_one(transformer, X, y, weight, message_clsname, message, **fit_params)\r\n#     714     with _print_elapsed_time(message_clsname, message):\r\n#     715         if hasattr(transformer, 'fit_transform'):\r\n# --> 716             res = transformer.fit_transform(X, y, **fit_params)\r\n#     717         else:\r\n#     718             res = transformer.fit(X, y, **fit_params).transform(X)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/transformers/base.py in fit_transform(self, X, y, **fit_params)\r\n#      40             return self.fit(X, **fit_params).transform(X)\r\n#      41         # fit method of arity 2 (supervised transformation)\r\n# ---> 42         return self.fit(X, y, **fit_params).transform(X)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/transformers/compose.py in transform(self, X, y)\r\n#     201         \"\"\"\r\n#     202         func = self.transformer.fit_transform\r\n# --> 203         return self._apply_rowwise(func, X, y)\r\n#     204 \r\n#     205     def inverse_transform(self, X, y=None):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sktime/transformers/compose.py in _apply_rowwise(self, func, X, y)\r\n#     244                 for row in col:  # loop over rows in each column\r\n#     245                     row_2d = pd.DataFrame(row)  # convert into 2d dataframe\r\n# --> 246                     row_t = func(row_2d).ravel()  # apply transform\r\n#     247                     rows_t.append(row_t)  # append transformed rows\r\n#     248                 cols_t.append(rows_t)  # append transformed columns\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/base.py in fit_transform(self, X, y, **fit_params)\r\n#     551         if y is None:\r\n#     552             # fit method of arity 1 (unsupervised transformation)\r\n# --> 553             return self.fit(X, **fit_params).transform(X)\r\n#     554         else:\r\n#     555             # fit method of arity 2 (supervised transformation)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/preprocessing/_function_transformer.py in transform(self, X)\r\n#     151             Transformed input.\r\n#     152         \"\"\"\r\n# --> 153         return self._transform(X, func=self.func, kw_args=self.kw_args)\r\n#     154 \r\n#     155     def inverse_transform(self, X):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/sklearn/preprocessing/_function_transformer.py in _transform(self, X, func, kw_args)\r\n#     177             func = _identity\r\n#     178 \r\n# --> 179         return func(X, **(kw_args if kw_args else {}))\r\n#     180 \r\n#     181     def _more_tags(self):\r\n\r\n# <ipython-input-5-9af4e0007a3b> in ar_coefs(x, maxlag)\r\n#      19     nlags = np.minimum(len(x) - 1, maxlag)\r\n#      20     model = AR(endog=x)\r\n# ---> 21     return model.fit(maxlag=nlags).params.ravel()\r\n#      22 \r\n#      23 def acf_coefs(x, maxlag=100):\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/statsmodels/tsa/ar_model.py in fit(self, maxlag, method, ic, trend, transparams, start_params, solver, maxiter, full_output, disp, callback, **kwargs)\r\n#     545         Y = endog[k_ar:, :]\r\n#     546         # make lagged RHS\r\n# --> 547         X = self._stackX(k_ar, trend)  # sets self.k_trend\r\n#     548         k_trend = self.k_trend\r\n#     549         self.exog_names = util.make_lag_names(self.endog_names, k_ar, k_trend)\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/statsmodels/tsa/ar_model.py in _stackX(self, k_ar, trend)\r\n#     389         k_trend = util.get_trendorder(trend)\r\n#     390         if k_trend:\r\n# --> 391             X = add_trend(X, prepend=True, trend=trend, has_constant=\"raise\")\r\n#     392         self.k_trend = k_trend\r\n#     393         return X\r\n\r\n# ~/anaconda3/envs/sktime/lib/python3.7/site-packages/statsmodels/tsa/tsatools.py in add_trend(x, trend, prepend, has_constant)\r\n#     106                 msg = \"x contains a constant. Adding a constant with \" \\\r\n#     107                       \"trend='{0}' is not allowed.\".format(trend)\r\n# --> 108                 raise ValueError(msg)\r\n#     109             elif has_constant == 'skip':\r\n#     110                 columns = columns[1:]\r\n\r\n# ValueError: x contains a constant. Adding a constant with trend='c' is not allowed.\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nrun without error\r\n\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\nLinux-5.3.0-26-generic-x86_64-with-debian-buster-sid\r\nPython 3.7.6 (default, Jan  8 2020, 19:59:22) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.3.2\r\nsktime 0.3.1\r\n\r\n<!--\r\nPlease run the following snippet and paste the output here.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sktime; print(\"sktime\", sktime.__version__)\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/195", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/195/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/195/events", "html_url": "https://github.com/sktime/sktime/issues/195", "id": 520338474, "node_id": "MDU6SXNzdWU1MjAzMzg0NzQ=", "number": 195, "title": "Save results function in Shapelet Transform", "user": {"login": "i3evelyn", "id": 16744577, "node_id": "MDQ6VXNlcjE2NzQ0NTc3", "avatar_url": "https://avatars.githubusercontent.com/u/16744577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/i3evelyn", "html_url": "https://github.com/i3evelyn", "followers_url": "https://api.github.com/users/i3evelyn/followers", "following_url": "https://api.github.com/users/i3evelyn/following{/other_user}", "gists_url": "https://api.github.com/users/i3evelyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/i3evelyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/i3evelyn/subscriptions", "organizations_url": "https://api.github.com/users/i3evelyn/orgs", "repos_url": "https://api.github.com/users/i3evelyn/repos", "events_url": "https://api.github.com/users/i3evelyn/events{/privacy}", "received_events_url": "https://api.github.com/users/i3evelyn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T05:38:42Z", "updated_at": "2021-01-08T20:07:56Z", "closed_at": "2021-01-08T20:07:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nIn the shapelet transform code: https://github.com/alan-turing-institute/sktime/blob/master/sktime/transformers/shapelets.py.\r\nTwo functions report errors: write_shapelets_to_csv, write_transformed_data_to_arff\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. \r\nhttps://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n[Past your code here.]\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following snippet and paste the output here.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sktime; print(\"sktime\", sktime.__version__)\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/194", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/194/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/194/events", "html_url": "https://github.com/sktime/sktime/issues/194", "id": 519898229, "node_id": "MDU6SXNzdWU1MTk4OTgyMjk=", "number": 194, "title": "Fitting ShapeletTransform fails with y = pandas.Series and non-default index [BUG]", "user": {"login": "prockenschaub", "id": 15381732, "node_id": "MDQ6VXNlcjE1MzgxNzMy", "avatar_url": "https://avatars.githubusercontent.com/u/15381732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prockenschaub", "html_url": "https://github.com/prockenschaub", "followers_url": "https://api.github.com/users/prockenschaub/followers", "following_url": "https://api.github.com/users/prockenschaub/following{/other_user}", "gists_url": "https://api.github.com/users/prockenschaub/gists{/gist_id}", "starred_url": "https://api.github.com/users/prockenschaub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prockenschaub/subscriptions", "organizations_url": "https://api.github.com/users/prockenschaub/orgs", "repos_url": "https://api.github.com/users/prockenschaub/repos", "events_url": "https://api.github.com/users/prockenschaub/events{/privacy}", "received_events_url": "https://api.github.com/users/prockenschaub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-08T09:13:30Z", "updated_at": "2020-06-01T12:26:52Z", "closed_at": "2020-06-01T12:26:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`ShapeletTransform` (and `ContractedShapeletTransform`) throws an error if it is passed `y` as a `pandas.Series` with an index that is not a simple range (i.e. 0, 1, 2, 3, ...),\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.datasets import load_gunpoint\r\nfrom sktime.transformers.shapelets import ShapeletTransform\r\nfrom sklearn.ensemble.forest import RandomForestClassifier\r\nfrom sklearn.pipeline import Pipeline\r\n\r\nX, y = load_gunpoint(split='TRAIN', return_X_y=True)\r\n\r\npipeline = Pipeline([\r\n    ('st', ShapeletTransform(verbose=2)),\r\n    ('rf', RandomForestClassifier(n_estimators=10)),\r\n])\r\n\r\ny = pd.Series(y)\r\ny.index = pd.Int64Index([i + 1 for i in range(len(y))])\r\npipeline.fit(X, y)\r\n# Key Error: 0\r\n```\r\n\r\n**Expected behavior**\r\nI would expect that `y` is converted to a consistent representation within fit (e.g. `np.array`) that then does not rely on a pandas index.\r\n\r\n\r\n**Versions**\r\n<details>\r\n\r\nWindows-10-10.0.17763-SP0\r\nPython 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.17.2\r\nSciPy 1.2.2\r\nsktime 0.3.1\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/191", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/191/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/191/events", "html_url": "https://github.com/sktime/sktime/issues/191", "id": 519413330, "node_id": "MDU6SXNzdWU1MTk0MTMzMzA=", "number": 191, "title": "Error when using ContractedShapeletTransform with sklearn's cross_val_score", "user": {"login": "prockenschaub", "id": 15381732, "node_id": "MDQ6VXNlcjE1MzgxNzMy", "avatar_url": "https://avatars.githubusercontent.com/u/15381732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prockenschaub", "html_url": "https://github.com/prockenschaub", "followers_url": "https://api.github.com/users/prockenschaub/followers", "following_url": "https://api.github.com/users/prockenschaub/following{/other_user}", "gists_url": "https://api.github.com/users/prockenschaub/gists{/gist_id}", "starred_url": "https://api.github.com/users/prockenschaub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prockenschaub/subscriptions", "organizations_url": "https://api.github.com/users/prockenschaub/orgs", "repos_url": "https://api.github.com/users/prockenschaub/repos", "events_url": "https://api.github.com/users/prockenschaub/events{/privacy}", "received_events_url": "https://api.github.com/users/prockenschaub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-07T17:38:07Z", "updated_at": "2019-11-08T13:59:14Z", "closed_at": "2019-11-08T13:59:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nA pipeline containing a ContractedShapeletTransform fails when used as an estimator in sklearn's cross_val_score. This is because it's constructor violates scikit-learn API convention that an estimator should only set attributes to the values the user passes as arguments. `time_limit_in_mins * 60` is assigned to `self.time_limit`, which later on causes `clone` to fail.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\n\r\nfrom sktime.datasets import load_gunpoint\r\nfrom sktime.transformers.shapelets import ContractedShapeletTransform\r\nfrom sklearn.ensemble.forest import RandomForestClassifier\r\nfrom sklearn.pipeline import Pipeline\r\nfrom sklearn.model_selection import cross_val_score\r\n\r\nX, y = load_gunpoint(split='TRAIN', return_X_y=True)\r\n\r\npipeline = Pipeline([\r\n    ('st', ContractedShapeletTransform(time_limit_in_mins=0.1,\r\n                                       num_candidates_to_sample_per_case=10,\r\n                                       verbose=2)),\r\n    ('rf', RandomForestClassifier(n_estimators=100)),\r\n])\r\n\r\npipeline.fit(X, y)\r\nscores = cross_val_score(pipeline, X, y, cv = 2)\r\n\r\n# ...\r\n#   File \"C:\\Users\\rocke\\Documents\\python\\venvs\\sktime\\lib\\site-packages\\sklearn\\base.py\", line 52, in <listcomp>\r\n#     return estimator_type([clone(e, safe=safe) for e in estimator])\r\n#   File \"C:\\Users\\rocke\\Documents\\python\\venvs\\sktime\\lib\\site-packages\\sklearn\\base.py\", line 65, in clone\r\n#     new_object = klass(**new_object_params)\r\n#   File \"c:\\users\\rocke\\google drive\\universitaet\\data science\\sktime\\sktime\\transformers\\shapelets.py\", line 683, in __init__\r\n#     self.time_limit = time_limit_in_mins*60\r\n# TypeError: unsupported operand type(s) for *: 'NoneType' and 'int'\r\n```\r\n\r\n**Expected behavior**\r\nRun cross validation without error.\r\n\r\n**Versions**\r\n<details>\r\n\r\nWindows-10-10.0.17763-SP0\r\nPython 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.17.2\r\nSciPy 1.2.2\r\nsktime 0.3.1\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/173", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/173/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/173/events", "html_url": "https://github.com/sktime/sktime/issues/173", "id": 509835781, "node_id": "MDU6SXNzdWU1MDk4MzU3ODE=", "number": 173, "title": "[BUG] EnsembleForecaster keeps adding estimators when called multiple times", "user": {"login": "prockenschaub", "id": 15381732, "node_id": "MDQ6VXNlcjE1MzgxNzMy", "avatar_url": "https://avatars.githubusercontent.com/u/15381732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prockenschaub", "html_url": "https://github.com/prockenschaub", "followers_url": "https://api.github.com/users/prockenschaub/followers", "following_url": "https://api.github.com/users/prockenschaub/following{/other_user}", "gists_url": "https://api.github.com/users/prockenschaub/gists{/gist_id}", "starred_url": "https://api.github.com/users/prockenschaub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prockenschaub/subscriptions", "organizations_url": "https://api.github.com/users/prockenschaub/orgs", "repos_url": "https://api.github.com/users/prockenschaub/repos", "events_url": "https://api.github.com/users/prockenschaub/events{/privacy}", "received_events_url": "https://api.github.com/users/prockenschaub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-21T09:16:41Z", "updated_at": "2019-10-24T09:27:29Z", "closed_at": "2019-10-24T09:27:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe fitting function in `EnsembleForecaster` keeps adding estimators each time it is called without removing any prior fits. This does not change behaviour for if the estimators are deterministic but might do so if they include a stochastic element and might blow up the object if called multiple times. \r\n\r\n**To Reproduce**\r\n\r\n\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasters import ExpSmoothingForecaster\r\nfrom sktime.forecasters import EnsembleForecaster\r\nfrom sktime.datasets import load_shampoo_sales\r\n\r\nshampoo = load_shampoo_sales()\r\ntrain = pd.Series([shampoo.iloc[0].iloc[:30]])\r\n\r\nestimator = [('ses', ExpSmoothingForecaster())]\r\nm = EnsembleForecaster(estimators=estimator)\r\n\r\nm.fit(train, fh=1)\r\nprint(len(m.fitted_estimators_)) # Result: 1\r\nm.fit(train, fh=1)\r\nprint(len(m.fitted_estimators_)) # Result: 2\r\n```\r\n\r\n**Expected behavior**\r\nClear previous fits whenever the fit method is called.\r\n\r\n**Versions**\r\n<details>\r\n\r\nWindows-10-10.0.17763-SP0\r\nPython 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nsktime 0.3.0\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/172", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/172/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/172/events", "html_url": "https://github.com/sktime/sktime/issues/172", "id": 509831413, "node_id": "MDU6SXNzdWU1MDk4MzE0MTM=", "number": 172, "title": "[BUG] Forecasting horizon in EnsembleForecaster fit and predict", "user": {"login": "prockenschaub", "id": 15381732, "node_id": "MDQ6VXNlcjE1MzgxNzMy", "avatar_url": "https://avatars.githubusercontent.com/u/15381732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prockenschaub", "html_url": "https://github.com/prockenschaub", "followers_url": "https://api.github.com/users/prockenschaub/followers", "following_url": "https://api.github.com/users/prockenschaub/following{/other_user}", "gists_url": "https://api.github.com/users/prockenschaub/gists{/gist_id}", "starred_url": "https://api.github.com/users/prockenschaub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prockenschaub/subscriptions", "organizations_url": "https://api.github.com/users/prockenschaub/orgs", "repos_url": "https://api.github.com/users/prockenschaub/repos", "events_url": "https://api.github.com/users/prockenschaub/events{/privacy}", "received_events_url": "https://api.github.com/users/prockenschaub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-21T09:08:42Z", "updated_at": "2019-10-24T09:27:12Z", "closed_at": "2019-10-24T09:27:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nClosely related to #126, but the fix in `BaseForecaster` has not carried over to `EnsembleForecaster` as it overrides the fit and predict methods.\r\n\r\n**To Reproduce**\r\n```python\r\nimport pandas as pd\r\nfrom sktime.forecasters import EnsembleForecaster\r\nfrom sktime.forecasters import ExpSmoothingForecaster\r\nfrom sktime.datasets import load_shampoo_sales\r\n\r\nshampoo = load_shampoo_sales()\r\ntrain = pd.Series([shampoo.iloc[0].iloc[:30]])\r\n\r\nestimators = [\r\n    ('ses', ExpSmoothingForecaster()),\r\n    ('holt', ExpSmoothingForecaster(trend='additive'))\r\n]\r\nm = EnsembleForecaster(estimators=estimators)\r\n\r\n# Error in fit\r\nm.fit(train)\r\n\r\n# Error in predict\r\nm.fit(train, fh = 1)\r\nm.predict(train)\r\n```\r\n\r\n**Expected behavior**\r\nHave default forecasting horizon in line with `BaseForecaster`\r\n\r\n**Versions**\r\n<details>\r\n\r\nWindows-10-10.0.17763-SP0\r\nPython 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nsktime 0.3.0\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/167", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/167/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/167/events", "html_url": "https://github.com/sktime/sktime/issues/167", "id": 506133583, "node_id": "MDU6SXNzdWU1MDYxMzM1ODM=", "number": 167, "title": "[BUG] Forecasting horizon in score method", "user": {"login": "abdkg", "id": 16908010, "node_id": "MDQ6VXNlcjE2OTA4MDEw", "avatar_url": "https://avatars.githubusercontent.com/u/16908010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abdkg", "html_url": "https://github.com/abdkg", "followers_url": "https://api.github.com/users/abdkg/followers", "following_url": "https://api.github.com/users/abdkg/following{/other_user}", "gists_url": "https://api.github.com/users/abdkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/abdkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abdkg/subscriptions", "organizations_url": "https://api.github.com/users/abdkg/orgs", "repos_url": "https://api.github.com/users/abdkg/repos", "events_url": "https://api.github.com/users/abdkg/events{/privacy}", "received_events_url": "https://api.github.com/users/abdkg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-12T05:09:36Z", "updated_at": "2019-10-24T09:28:04Z", "closed_at": "2019-10-24T09:28:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe following code fails when no forecasting horizon is provided to compute score.\r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasters import ExpSmoothingForecaster\r\nfrom sktime.datasets import load_shampoo_sales\r\n\r\nimport pandas as pd\r\n\r\n\r\nshampoo = load_shampoo_sales()\r\n\r\n# split data into train, update and test\r\ntrain = pd.Series([shampoo.iloc[0].iloc[:30]])\r\ntest = pd.Series([shampoo.iloc[0].iloc[30:]])\r\n\r\n# simple exponential smoothing\r\nm = ExpSmoothingForecaster()\r\nm.fit(train)\r\nm.score(test)\r\n```\r\n\r\n**Expected behavior**\r\nCode should return a score\r\n\r\n**Additional context**\r\nRemove `None` as default fh\r\n\r\n**Versions**\r\n<details>\r\n\r\nDarwin-18.6.0-x86_64-i386-64bit\r\nPython 3.7.4 (default, Aug  5 2019, 21:56:28) \r\n[Clang 10.0.1 (clang-1001.0.46.4)]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nsktime 0.3.0\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/166", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/166/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/166/events", "html_url": "https://github.com/sktime/sktime/issues/166", "id": 505449278, "node_id": "MDU6SXNzdWU1MDU0NDkyNzg=", "number": 166, "title": "[BUG] mentioned in paper link to data is broken", "user": {"login": "Sandy4321", "id": 11426119, "node_id": "MDQ6VXNlcjExNDI2MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11426119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sandy4321", "html_url": "https://github.com/Sandy4321", "followers_url": "https://api.github.com/users/Sandy4321/followers", "following_url": "https://api.github.com/users/Sandy4321/following{/other_user}", "gists_url": "https://api.github.com/users/Sandy4321/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sandy4321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sandy4321/subscriptions", "organizations_url": "https://api.github.com/users/Sandy4321/orgs", "repos_url": "https://api.github.com/users/Sandy4321/repos", "events_url": "https://api.github.com/users/Sandy4321/events{/privacy}", "received_events_url": "https://api.github.com/users/Sandy4321/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-10T18:53:13Z", "updated_at": "2019-10-12T09:50:48Z", "closed_at": "2019-10-12T09:50:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nmentioned in paper link\r\nhttp://www.cs.ucr.edu/~eamonn/time series data\r\nis broken\r\n5. Y. Chen, E. Keogh, B. Hu, N. Begum, A. Bagnall, A. Mueen,\r\nand G. Batista. The UEA-UCR time series classification archive.\r\nhttp://www.cs.ucr.edu/~eamonn/time series data/, 2015.\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. \r\nhttps://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n[Past your code here.]\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following snippet and paste the output here.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sktime; print(\"sktime\", sktime.__version__)\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/165", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/165/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/165/events", "html_url": "https://github.com/sktime/sktime/issues/165", "id": 505446303, "node_id": "MDU6SXNzdWU1MDU0NDYzMDM=", "number": 165, "title": "[BUG] what you mean under Supervised/panel forecasting?", "user": {"login": "Sandy4321", "id": 11426119, "node_id": "MDQ6VXNlcjExNDI2MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11426119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sandy4321", "html_url": "https://github.com/Sandy4321", "followers_url": "https://api.github.com/users/Sandy4321/followers", "following_url": "https://api.github.com/users/Sandy4321/following{/other_user}", "gists_url": "https://api.github.com/users/Sandy4321/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sandy4321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sandy4321/subscriptions", "organizations_url": "https://api.github.com/users/Sandy4321/orgs", "repos_url": "https://api.github.com/users/Sandy4321/repos", "events_url": "https://api.github.com/users/Sandy4321/events{/privacy}", "received_events_url": "https://api.github.com/users/Sandy4321/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-10T18:47:09Z", "updated_at": "2019-10-12T09:50:34Z", "closed_at": "2019-10-12T09:50:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<!--\r\nwhat you mean under Supervised/panel forecasting\r\n-->\r\n\r\n**To Reproduce**\r\n<!--\r\nAdd a Minimal, Complete, and Verifiable example (for more details, see e.g. \r\nhttps://stackoverflow.com/help/mcve\r\n\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n```python\r\n[Past your code here.]\r\n```\r\n\r\n**Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\n<details>\r\n\r\n<!--\r\nPlease run the following snippet and paste the output here.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sktime; print(\"sktime\", sktime.__version__)\r\n-->\r\n\r\n</details>\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/161", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/161/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/161/events", "html_url": "https://github.com/sktime/sktime/issues/161", "id": 502004350, "node_id": "MDU6SXNzdWU1MDIwMDQzNTA=", "number": 161, "title": "[BUG]", "user": {"login": "lfereman", "id": 9213984, "node_id": "MDQ6VXNlcjkyMTM5ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9213984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lfereman", "html_url": "https://github.com/lfereman", "followers_url": "https://api.github.com/users/lfereman/followers", "following_url": "https://api.github.com/users/lfereman/following{/other_user}", "gists_url": "https://api.github.com/users/lfereman/gists{/gist_id}", "starred_url": "https://api.github.com/users/lfereman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lfereman/subscriptions", "organizations_url": "https://api.github.com/users/lfereman/orgs", "repos_url": "https://api.github.com/users/lfereman/repos", "events_url": "https://api.github.com/users/lfereman/events{/privacy}", "received_events_url": "https://api.github.com/users/lfereman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-03T11:19:06Z", "updated_at": "2019-10-07T20:25:32Z", "closed_at": "2019-10-07T20:25:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSAX module not working\r\n\r\n**To Reproduce**\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nimport sktime\r\nfrom sktime.datasets import load_gunpoint\r\n\r\nX_train, y_train = load_gunpoint(split='TRAIN', return_X_y=True)\r\nX_test, y_test = load_gunpoint(split='TEST', return_X_y=True)\r\nfrom sktime.transformers.dictionary_based import SAX\r\n\r\nprint(\"iloc[0]: {}\".format(X_train.iloc[0].to_numpy()))\r\nsax = SAX.SAX(window_size=10, word_length=5, alphabet_size=4)\r\nD_X_train = sax.transform(X_train)\r\nprint(\"sax(iloc[0]): {}\".format(D_X_train[0].to_numpy()))\r\n```\r\n\r\n**Expected behavior**\r\nRuns with compile/runtime errors\r\n\r\n**Additional context**\r\nError is in line 112 in SAX.py, where you refer to:\r\nshapelets.RandomShapeletTransform.zscore(split, axis=None)  # move to utils or create new method?\r\n\r\nwhich should be:\r\nsplit = shapelets.ShapeletTransform.zscore(split, axis=None) \r\n\r\nI would suggest you make simple unit tests, where somethine, like the SAX transform module, is run on some fixed array and checked if the output is still valid.\r\n\r\n**Versions**\r\n<details>\r\nDarwin-18.7.0-x86_64-i386-64bit\r\nPython 3.7.4 (default, Sep  7 2019, 18:27:02) \r\n[Clang 10.0.1 (clang-1001.0.46.4)]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nsktime 0.3.0\r\n\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/160", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/160/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/160/events", "html_url": "https://github.com/sktime/sktime/issues/160", "id": 501814343, "node_id": "MDU6SXNzdWU1MDE4MTQzNDM=", "number": 160, "title": "Error when running TimeSeriesForestClassifier() function", "user": {"login": "i3evelyn", "id": 16744577, "node_id": "MDQ6VXNlcjE2NzQ0NTc3", "avatar_url": "https://avatars.githubusercontent.com/u/16744577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/i3evelyn", "html_url": "https://github.com/i3evelyn", "followers_url": "https://api.github.com/users/i3evelyn/followers", "following_url": "https://api.github.com/users/i3evelyn/following{/other_user}", "gists_url": "https://api.github.com/users/i3evelyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/i3evelyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/i3evelyn/subscriptions", "organizations_url": "https://api.github.com/users/i3evelyn/orgs", "repos_url": "https://api.github.com/users/i3evelyn/repos", "events_url": "https://api.github.com/users/i3evelyn/events{/privacy}", "received_events_url": "https://api.github.com/users/i3evelyn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-10-03T02:15:13Z", "updated_at": "2020-01-21T15:10:54Z", "closed_at": "2020-01-21T15:10:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nEncounter an error when running the code in the example. Specifically, TimeSeriesForestClassifier() function.\r\nPicklingError: Can't pickle <function Pipeline.predict_proba at 0x7fab65da6158>: it's not the same object as sklearn.pipeline.Pipeline.predict_proba\r\n\r\n**To Reproduce**\r\ntsf = TimeSeriesForestClassifier(base_estimator=base_estimator, \r\n                                 n_estimators=100,\r\n                                 criterion='entropy',\r\n                                 bootstrap=True, \r\n                                 oob_score=True, \r\n                                 random_state=1)\r\ntsf.fit(X_train, y_train)\r\ntsf.score(X_test, y_test)\r\n\r\n**Expected behavior**\r\nGet a score.\r\n\r\n**Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n-->\r\n\r\n**Versions**\r\nLinux-3.10.0-693.17.1.el7.x86_64-x86_64-with-centos-7.4.1708-Core\r\nPython 3.6.3 |Intel Corporation| (default, Feb 12 2018, 06:37:09) \r\n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nsktime 0.3.0\r\n\r\n<!-- Thanks for contributing! -->\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/160/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/151", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/151/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/151/events", "html_url": "https://github.com/sktime/sktime/issues/151", "id": 495494172, "node_id": "MDU6SXNzdWU0OTU0OTQxNzI=", "number": 151, "title": "[BUG] Call to ShapeletTransformClassifier that fails to generate shapelets produces unhelpful error message", "user": {"login": "BlaiseRideout", "id": 548923, "node_id": "MDQ6VXNlcjU0ODkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/548923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlaiseRideout", "html_url": "https://github.com/BlaiseRideout", "followers_url": "https://api.github.com/users/BlaiseRideout/followers", "following_url": "https://api.github.com/users/BlaiseRideout/following{/other_user}", "gists_url": "https://api.github.com/users/BlaiseRideout/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlaiseRideout/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlaiseRideout/subscriptions", "organizations_url": "https://api.github.com/users/BlaiseRideout/orgs", "repos_url": "https://api.github.com/users/BlaiseRideout/repos", "events_url": "https://api.github.com/users/BlaiseRideout/events{/privacy}", "received_events_url": "https://api.github.com/users/BlaiseRideout/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-18T23:02:58Z", "updated_at": "2019-09-19T12:27:18Z", "closed_at": "2019-09-19T12:27:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf ShapletTransformClassifier is unable to generate any shapelets, a ValueError is produced in validation rather than a message saying no shapelets were generated.\r\n\r\n**To Reproduce**\r\nI'm unable to share any of the datasets that resulted in this error and unfortunately wasn't able to reproduce with a trivial example, but the error happened on the call to fit() in the following code:\r\n```\r\n    clf = ShapeletTransformClassifier(time_contract_in_mins=0.5)\r\n    clf.fit(XDataTrain, YDataTrain)\r\n```\r\n\r\n**Expected behavior**\r\n\"Fit not called yet or no shapelets were generated\" exception\r\n\r\n**Additional context**\r\nhttps://github.com/alan-turing-institute/sktime/blob/master/sktime/transformers/shapelets.py#L427\r\nLine 427 should be \"if shapelets is None or len(shapelets) == 0\"\r\n\r\n**Versions**\r\n<details>\r\n```\r\n$ python3\r\nPython 3.6.3 (v3.6.3:2c5fed8, Oct  3 2017, 18:11:49) [MSC v.1900 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import platform; print(platform.platform())\r\nWindows-10-10.0.17763-SP0\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.6.3 (v3.6.3:2c5fed8, Oct  3 2017, 18:11:49) [MSC v.1900 64 bit (AMD64)]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.17.1\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.3.1\r\n>>> import sktime; print(\"sktime\", sktime.__version__)\r\nsktime 0.3.0\r\n```\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/150", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/150/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/150/events", "html_url": "https://github.com/sktime/sktime/issues/150", "id": 495330287, "node_id": "MDU6SXNzdWU0OTUzMzAyODc=", "number": 150, "title": "ShapeletTransformClassifier: TypeError: object of type 'numpy.float64' has no len()", "user": {"login": "xaviervasques", "id": 18941775, "node_id": "MDQ6VXNlcjE4OTQxNzc1", "avatar_url": "https://avatars.githubusercontent.com/u/18941775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xaviervasques", "html_url": "https://github.com/xaviervasques", "followers_url": "https://api.github.com/users/xaviervasques/followers", "following_url": "https://api.github.com/users/xaviervasques/following{/other_user}", "gists_url": "https://api.github.com/users/xaviervasques/gists{/gist_id}", "starred_url": "https://api.github.com/users/xaviervasques/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xaviervasques/subscriptions", "organizations_url": "https://api.github.com/users/xaviervasques/orgs", "repos_url": "https://api.github.com/users/xaviervasques/repos", "events_url": "https://api.github.com/users/xaviervasques/events{/privacy}", "received_events_url": "https://api.github.com/users/xaviervasques/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "jasonlines", "id": 38794632, "node_id": "MDQ6VXNlcjM4Nzk0NjMy", "avatar_url": "https://avatars.githubusercontent.com/u/38794632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonlines", "html_url": "https://github.com/jasonlines", "followers_url": "https://api.github.com/users/jasonlines/followers", "following_url": "https://api.github.com/users/jasonlines/following{/other_user}", "gists_url": "https://api.github.com/users/jasonlines/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonlines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonlines/subscriptions", "organizations_url": "https://api.github.com/users/jasonlines/orgs", "repos_url": "https://api.github.com/users/jasonlines/repos", "events_url": "https://api.github.com/users/jasonlines/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonlines/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jasonlines", "id": 38794632, "node_id": "MDQ6VXNlcjM4Nzk0NjMy", "avatar_url": "https://avatars.githubusercontent.com/u/38794632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonlines", "html_url": "https://github.com/jasonlines", "followers_url": "https://api.github.com/users/jasonlines/followers", "following_url": "https://api.github.com/users/jasonlines/following{/other_user}", "gists_url": "https://api.github.com/users/jasonlines/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonlines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonlines/subscriptions", "organizations_url": "https://api.github.com/users/jasonlines/orgs", "repos_url": "https://api.github.com/users/jasonlines/repos", "events_url": "https://api.github.com/users/jasonlines/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonlines/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-09-18T16:24:48Z", "updated_at": "2019-09-18T20:02:00Z", "closed_at": "2019-09-18T20:02:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI am trying to classify data coming from EEG. The data looks like this : \r\n\r\n`# Letter   Cz/theta   Cz/alpha   Cz/betaL   Cz/betaH   Cz/gamma   Fz/theta   Fz/alpha  ...   F8/betaL   F8/betaH   F8/gamma   Fp2/theta   Fp2/alpha   Fp2/betaL   Fp2/betaH   Fp2/gamma\r\n0         0.0      0.304      0.215      0.223      2.709      0.310      0.817      1.239  ...      2.737      6.337      4.653       1.755       1.203       0.615      10.735       3.322\r\n1         0.0      0.365      0.207      0.182      2.641      0.332      0.558      1.118  ...      2.638      5.258      4.675       1.158       1.311       0.992       7.299       3.871\r\n2         0.0      0.389      0.302      0.227      2.679      0.527      0.731      0.794  ...      2.752      4.930      4.665       1.185       1.086       2.369       4.568       4.456\r\n3         0.0      0.460      0.464      0.396      2.694      0.893      1.653      0.532  ...      2.695      4.707      4.938       2.575       0.969       3.684       3.040       4.813\r\n4         0.0      0.499      0.514      0.629      2.705      1.104      2.927      0.707  ...      2.255      4.432      5.269       4.750       1.216       4.327       2.690       4.821`\r\n\r\n\r\nThe \"Letter\" variable is my target variable (0 or 1)\r\n\r\nWhen loading the data and using sktime to classify:\r\n`y_train = frame['# Letter'].values`\r\n`X_train = frame.loc[:, df.columns != '# Letter']`\r\n`clf = ShapeletTransformClassifier(time_contract_in_mins=5)`\r\n`clf.fit(X_train, y_train)`\r\n\r\nI have the following error: \r\n\r\n> Traceback (most recent call last):\r\n  File \"lda_v2.py\", line 76, in <module>\r\n    lda()\r\n  File \"lda_v2.py\", line 72, in lda\r\n    clf.fit(X_train, y_train)\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sktime/classifiers/shapelet_based/stc.py\", line 76, in fit\r\n    self.classifier.fit(X, y)\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sklearn/pipeline.py\", line 352, in fit\r\n    Xt, fit_params = self._fit(X, y, **fit_params)\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sklearn/pipeline.py\", line 317, in _fit\r\n    **fit_params_steps[name])\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/joblib/memory.py\", line 355, in __call__\r\n    return self.func(*args, **kwargs)\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sklearn/pipeline.py\", line 716, in _fit_transform_one\r\n    res = transformer.fit_transform(X, y, **fit_params)\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sktime/transformers/shapelets.py\", line 470, in fit_transform\r\n    self.fit(X, y)\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sktime/transformers/shapelets.py\", line 105, in fit\r\n    X_lens = np.array([len(X.iloc[r,0]) for r in range(len(X))]) # note, assumes all dimensions of a case are the same length. A shapelet would not be well defined if indices do not match!\r\n  File \"/Users/xav/Desktop/EPOC_Flex/juju/lib/python3.7/site-packages/sktime/transformers/shapelets.py\", line 105, in <listcomp>\r\n    X_lens = np.array([len(X.iloc[r,0]) for r in range(len(X))]) # note, assumes all dimensions of a case are the same length. A shapelet would not be well defined if indices do not match!\r\nTypeError: object of type 'numpy.float64' has no len()\r\n\r\nDo you have any idea on what is happening ?\r\n\r\n> Darwin-18.7.0-x86_64-i386-64bit\r\nPython 3.7.4 (default, Jul  9 2019, 18:13:23) \r\n[Clang 10.0.1 (clang-1001.0.46.4)]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nsktime 0.3.0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/121", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/121/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/121/events", "html_url": "https://github.com/sktime/sktime/issues/121", "id": 477584816, "node_id": "MDU6SXNzdWU0Nzc1ODQ4MTY=", "number": 121, "title": "[BUG] forecasting horizon ", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-08-06T20:42:58Z", "updated_at": "2019-08-15T14:30:00Z", "closed_at": "2019-08-15T14:30:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe following code returns a single value even though the forecasting horizon is `np.arange(1, 5)`. \r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.forecasters import DummyForecaster\r\nfrom sktime.datasets import load_shampoo_sales\r\nimport numpy as np\r\n\r\ny = load_shampoo_sales()\r\n\r\nfh = np.arange(1, 5)\r\nm = DummyForecaster(strategy='last')\r\nm.fit(y)\r\nm.predict(fh=fh)\r\n>>> 36    646.9\r\n>>> dtype: float64\r\n```\r\n\r\n**Additional context**\r\n* remove `None` as default `fh`\r\n* extend unit tests \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/91", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/91/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/91/events", "html_url": "https://github.com/sktime/sktime/issues/91", "id": 462420320, "node_id": "MDU6SXNzdWU0NjI0MjAzMjA=", "number": 91, "title": "[BUG] RowwiseTransformer transform raises error", "user": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-30T16:02:46Z", "updated_at": "2019-07-24T09:20:13Z", "closed_at": "2019-07-24T09:20:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nRowwiseTransformer raise error, strange because it works in RISE pipeline. \r\n\r\n**To Reproduce**\r\n```python\r\nfrom sktime.datasets import load_gunpoint\r\nfrom sktime.transformers.compose import RowwiseTransformer\r\nfrom sklearn.preprocessing import FunctionTransformer\r\nimport numpy as np\r\n\r\nX, y = load_gunpoint(return_X_y=True)\r\nt = RowwiseTransformer(FunctionTransformer(func=np.mean, validate=False))\r\nt.fit(X)\r\nt.transform(X)  # raises error\r\n```\r\n\r\n**Expected behavior**\r\nRow-wise transform, i.e. row-wise mean of time series. \r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/91/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/86", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/86/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/86/events", "html_url": "https://github.com/sktime/sktime/issues/86", "id": 459464698, "node_id": "MDU6SXNzdWU0NTk0NjQ2OTg=", "number": 86, "title": "[BUG] TimeSeriesForestClassifier.predict_proba() returns 1-dim array upon single instance input", "user": {"login": "LoadingByte", "id": 2351649, "node_id": "MDQ6VXNlcjIzNTE2NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2351649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LoadingByte", "html_url": "https://github.com/LoadingByte", "followers_url": "https://api.github.com/users/LoadingByte/followers", "following_url": "https://api.github.com/users/LoadingByte/following{/other_user}", "gists_url": "https://api.github.com/users/LoadingByte/gists{/gist_id}", "starred_url": "https://api.github.com/users/LoadingByte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LoadingByte/subscriptions", "organizations_url": "https://api.github.com/users/LoadingByte/orgs", "repos_url": "https://api.github.com/users/LoadingByte/repos", "events_url": "https://api.github.com/users/LoadingByte/events{/privacy}", "received_events_url": "https://api.github.com/users/LoadingByte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mloning", "id": 21020482, "node_id": "MDQ6VXNlcjIxMDIwNDgy", "avatar_url": "https://avatars.githubusercontent.com/u/21020482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloning", "html_url": "https://github.com/mloning", "followers_url": "https://api.github.com/users/mloning/followers", "following_url": "https://api.github.com/users/mloning/following{/other_user}", "gists_url": "https://api.github.com/users/mloning/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloning/subscriptions", "organizations_url": "https://api.github.com/users/mloning/orgs", "repos_url": "https://api.github.com/users/mloning/repos", "events_url": "https://api.github.com/users/mloning/events{/privacy}", "received_events_url": "https://api.github.com/users/mloning/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-22T11:24:52Z", "updated_at": "2019-06-24T16:30:58Z", "closed_at": "2019-06-24T16:21:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen you feed a single instance into `TimeSeriesForestClassifier.predict_proba()`, i.e., a DataFrame with the following structure:\r\n\r\n&nbsp; | dim_0\r\n-|-\r\n**0** | x1, x2, x3, x4, ...\r\n\r\n...a 1-dimensional array is returned, i.e., an array with the following structure:\r\n\r\n`[p1, p2, p3, ...]`\r\n\r\nEvery other sklearn classifier that I'm aware of, as well as the elastic ensemble classifier from sktime, would return a 2-dimensional array in this case, thus matching the array structure of multi-instance predictions:\r\n\r\n`[[p1, p2, p3, ...]]`\r\n\r\nTherefore, TimeSeriesForestClassifier presents unexpected behavior, which also contradicts the documentation of `predict_proba()`:\r\n\r\n>Returns\r\n>p : array of shape = [n_samples, n_classes] [...]\r\n\r\nThe unexpected behavior is most likely caused by a seemingly deliberate conversion statement at the end of `predict_proba()`:\r\n\r\n```python\r\nif len(all_proba) == 1:\r\n    return all_proba[0]\r\nelse:\r\n    return all_proba\r\n```\r\n\r\nNote that this unexpected behavior presumably also confuses `TimeSeriesForestClassifier.predict()` when inputting single instances, since that leads to an exception hinting at `predict()` tripping over the unusual 1-dimensional return format:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nAxisError                                 Traceback (most recent call last)\r\n<ipython-input-56-a8b067ca3dcd> in <module>\r\n----> 1 clf.predict(X_test.iloc[0:1, :])\r\n\r\n~/.conda/envs/py3/lib/python3.7/site-packages/sklearn/utils/metaestimators.py in <lambda>(*args, **kwargs)\r\n    114 \r\n    115         # lambda, but not partial, allows help() to work with update_wrapper\r\n--> 116         out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)\r\n    117         # update the docstring of the returned function\r\n    118         update_wrapper(out, self.fn)\r\n\r\n~/.conda/envs/py3/lib/python3.7/site-packages/sklearn/pipeline.py in predict(self, X, **predict_params)\r\n    420         for _, name, transform in self._iter(with_final=False):\r\n    421             Xt = transform.transform(Xt)\r\n--> 422         return self.steps[-1][-1].predict(Xt, **predict_params)\r\n    423 \r\n    424     @if_delegate_has_method(delegate='_final_estimator')\r\n\r\n~/.conda/envs/py3/lib/python3.7/site-packages/sklearn/ensemble/forest.py in predict(self, X)\r\n    546 \r\n    547         if self.n_outputs_ == 1:\r\n--> 548             return self.classes_.take(np.argmax(proba, axis=1), axis=0)\r\n    549 \r\n    550         else:\r\n\r\n~/.conda/envs/py3/lib/python3.7/site-packages/numpy/core/fromnumeric.py in argmax(a, axis, out)\r\n   1101 \r\n   1102     \"\"\"\r\n-> 1103     return _wrapfunc(a, 'argmax', axis=axis, out=out)\r\n   1104 \r\n   1105 \r\n\r\n~/.conda/envs/py3/lib/python3.7/site-packages/numpy/core/fromnumeric.py in _wrapfunc(obj, method, *args, **kwds)\r\n     54 def _wrapfunc(obj, method, *args, **kwds):\r\n     55     try:\r\n---> 56         return getattr(obj, method)(*args, **kwds)\r\n     57 \r\n     58     # An AttributeError occurs if the object does not have\r\n\r\nAxisError: axis 1 is out of bounds for array of dimension 1\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.utils.load_data import load_from_ucr_tsv_to_dataframe\r\nfrom sktime.classifiers.ensemble import TimeSeriesForestClassifier\r\n\r\nX_train, y_train = load_from_ucr_tsv_to_dataframe(\"GunPoint_TRAIN.tsv\")\r\n\r\nclf = TimeSeriesForestClassifier()\r\nclf.fit(X_train, y_train)\r\n\r\nprint(clf.predict_proba(X_train.iloc[[0], :]))  # leads to unusual return format\r\nprint(clf.predict(X_train.iloc[[0], :]))        # leads to exception\r\n```\r\n\r\n**Expected behavior**\r\n\r\n`TimeSeriesForestClassifier.predict_proba()` should **always** return a 2-dimensional array, even on single-instance inputs, just as the documentation states. Moreover, `TimeSeriesForestClassifier.predict()` should not fail on single-instance inputs, which can likely be resolved by fixing the `predict_proba()` bug.\r\n\r\n**Versions**\r\n\r\n<details>\r\nLinux-4.19.49-1-MANJARO-x86_64-with-arch-Manjaro-Linux\r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17) \r\n[GCC 7.3.0]\r\nNumPy 1.16.4\r\nSciPy 1.2.1\r\nsktime 0.2.0\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/86/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/86/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/sktime/sktime/issues/74", "repository_url": "https://api.github.com/repos/sktime/sktime", "labels_url": "https://api.github.com/repos/sktime/sktime/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/sktime/sktime/issues/74/comments", "events_url": "https://api.github.com/repos/sktime/sktime/issues/74/events", "html_url": "https://github.com/sktime/sktime/issues/74", "id": 451109192, "node_id": "MDU6SXNzdWU0NTExMDkxOTI=", "number": 74, "title": "[BUG] load_from_ucr_tsv_to_dataframe yields pd.Series whose indices start at 1", "user": {"login": "LoadingByte", "id": 2351649, "node_id": "MDQ6VXNlcjIzNTE2NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2351649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LoadingByte", "html_url": "https://github.com/LoadingByte", "followers_url": "https://api.github.com/users/LoadingByte/followers", "following_url": "https://api.github.com/users/LoadingByte/following{/other_user}", "gists_url": "https://api.github.com/users/LoadingByte/gists{/gist_id}", "starred_url": "https://api.github.com/users/LoadingByte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LoadingByte/subscriptions", "organizations_url": "https://api.github.com/users/LoadingByte/orgs", "repos_url": "https://api.github.com/users/LoadingByte/repos", "events_url": "https://api.github.com/users/LoadingByte/events{/privacy}", "received_events_url": "https://api.github.com/users/LoadingByte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118163262, "node_id": "MDU6TGFiZWwxMTE4MTYzMjYy", "url": "https://api.github.com/repos/sktime/sktime/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-01T17:53:52Z", "updated_at": "2019-06-19T15:21:42Z", "closed_at": "2019-06-19T15:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen using `sktime.utils.load_data.load_from_ucr_tsv_to_dataframe` to load one of UCR's TSV files as a `DataFrame` whose cells contain `Series`, the indices of those `Series` start at 1, as opposed to 0, what one would expect.\r\n\r\nThis leads to problems when fitting the `sktime.classifiers.elastic_ensemble.ElasticEnsemble` on such a `DataFrame` since that estimator (as well as some utility components employed by the estimator) expect the `Series` indices to start at 0.\r\n\r\nI have no idea why `sktime.utils.load_data.load_from_ucr_tsv_to_dataframe` creates 1-indexed `Series`. For now, I'm working around the problem by manually resetting the indices of all loaded `Series` after import.\r\n\r\nI haven't checked whether other means of loading the data also behave this way.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom sktime.utils.load_data import load_from_ucr_tsv_to_dataframe\r\nfrom sktime.classifiers.elastic_ensemble import ElasticEnsemble\r\n\r\nX_train, y_train = load_from_ucr_tsv_to_dataframe(\"GunPoint_TRAIN.tsv\")\r\n\r\n# what follows is the workaround\r\n#X_train = X_train.applymap(lambda series: series.reset_index(drop=True))\r\n\r\nelastic_ensemble = ElasticEnsemble()\r\nelastic_ensemble.fit(X_train, y_train)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nTo reiterate, `load_from_ucr_tsv_to_dataframe` should yield a `DataFrame` containing `Series` whose indices always start at 0.\r\n\r\n**Versions**\r\n\r\n<details>\r\nLinux-4.19.45-1-MANJARO-x86_64-with-arch-Manjaro-Linux\r\n\r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17)\r\n[GCC 7.3.0]\r\nNumPy 1.16.4\r\nSciPy 1.2.1\r\nsktime 0.2.0\r\n</details>", "reactions": {"url": "https://api.github.com/repos/sktime/sktime/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/sktime/sktime/issues/74/timeline", "performed_via_github_app": null, "state_reason": "completed"}]