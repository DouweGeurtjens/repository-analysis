[{"url": "https://api.github.com/repos/vyperlang/vyper/issues/3066", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/3066/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/3066/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/3066/events", "html_url": "https://github.com/vyperlang/vyper/issues/3066", "id": 1338014485, "node_id": "I_kwDOBGDvrM5PwHsV", "number": 3066, "title": "In ERC721 token standard EIP, onERC721Received isn't annotated as view type", "user": {"login": "rmurray2", "id": 5521035, "node_id": "MDQ6VXNlcjU1MjEwMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/5521035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmurray2", "html_url": "https://github.com/rmurray2", "followers_url": "https://api.github.com/users/rmurray2/followers", "following_url": "https://api.github.com/users/rmurray2/following{/other_user}", "gists_url": "https://api.github.com/users/rmurray2/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmurray2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmurray2/subscriptions", "organizations_url": "https://api.github.com/users/rmurray2/orgs", "repos_url": "https://api.github.com/users/rmurray2/repos", "events_url": "https://api.github.com/users/rmurray2/events{/privacy}", "received_events_url": "https://api.github.com/users/rmurray2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-13T17:27:25Z", "updated_at": "2022-11-04T10:39:23Z", "closed_at": "2022-11-04T10:39:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n* vyper Version (output of `vyper --version`): 0.3.4+commit.f31f0ec\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.3\r\n\r\nThe ERC721 example token standard in examples/tokens/ERC721.vy has an interface, `ERC721Receiver`, with a function, `onERC721Received`, that is annotated with `view`, but in the ERC721 token standard [EIP](https://eips.ethereum.org/EIPS/eip-721), `onERC721Received` is not annotated with `view`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/3066/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/3066/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2790", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2790/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2790/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2790/events", "html_url": "https://github.com/vyperlang/vyper/issues/2790", "id": 1204721614, "node_id": "I_kwDOBGDvrM5HzpfO", "number": 2790, "title": "Underscores in hexadecimal literals", "user": {"login": "hedgar2017", "id": 31586236, "node_id": "MDQ6VXNlcjMxNTg2MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedgar2017", "html_url": "https://github.com/hedgar2017", "followers_url": "https://api.github.com/users/hedgar2017/followers", "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}", "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions", "organizations_url": "https://api.github.com/users/hedgar2017/orgs", "repos_url": "https://api.github.com/users/hedgar2017/repos", "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}", "received_events_url": "https://api.github.com/users/hedgar2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-14T16:06:27Z", "updated_at": "2022-04-14T20:09:39Z", "closed_at": "2022-04-14T20:09:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.2\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.10.2\r\n\r\n### What's your issue about?\r\n\r\n```\r\nvyper.exceptions.SyntaxException: Hex notation requires an even number of digits\r\n  line 4:19 \r\n       3 def f() -> Bytes[100]:\r\n  ---> 4     return convert(0x12_34_5678_9A, Bytes[100])\r\n  --------------------------^\r\n       5\r\n\r\n[7681] Failed to execute script 'vyper_compile' due to unhandled exception!\r\n```\r\n\r\n```\r\nerror: vyper.exceptions.TypeMismatch: Can't convert bytes7 to Bytes[100]\r\n  contract \"tests/vyper/external/literals/hex_string_with_underscore.vy\", function \"f\", line 4:19 \r\n       3 def f() -> Bytes[100]:\r\n  ---> 4     return convert(0x12_34_56_78_9A, Bytes[100])\r\n  --------------------------^\r\n       5\r\n\r\n[5860] Failed to execute script 'vyper_compile' due to unhandled exception!\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2783", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2783/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2783/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2783/events", "html_url": "https://github.com/vyperlang/vyper/issues/2783", "id": 1203573217, "node_id": "I_kwDOBGDvrM5HvRHh", "number": 2783, "title": "conversion of bytes literals raises InvalidType", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-13T17:13:59Z", "updated_at": "2022-04-14T00:37:20Z", "closed_at": "2022-04-14T00:37:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 228b5bd920e9d56a8cb1a3262d7d60554cde265d\r\n* Python Version (output of `python --version`): 3.8.10\r\n\r\n### What's your issue about?\r\nThe following code looks like it should compile, but doesn't\r\n```vyper\r\n@external\r\ndef foo():\r\n    x: bytes3 = convert(b\"abc\", bytes3)\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2783/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2780", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2780/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2780/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2780/events", "html_url": "https://github.com/vyperlang/vyper/issues/2780", "id": 1203181802, "node_id": "I_kwDOBGDvrM5Htxjq", "number": 2780, "title": "bytes20 literals produce wrong bytecode", "user": {"login": "hedgar2017", "id": 31586236, "node_id": "MDQ6VXNlcjMxNTg2MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedgar2017", "html_url": "https://github.com/hedgar2017", "followers_url": "https://api.github.com/users/hedgar2017/followers", "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}", "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions", "organizations_url": "https://api.github.com/users/hedgar2017/orgs", "repos_url": "https://api.github.com/users/hedgar2017/repos", "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}", "received_events_url": "https://api.github.com/users/hedgar2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-13T11:39:55Z", "updated_at": "2022-04-14T20:09:39Z", "closed_at": "2022-04-14T20:09:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.2\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.10.2\r\n\r\n### What's your issue about?\r\n\r\n```\r\ne: public(bytes1)\r\nf: public(bytes20)\r\n\r\n@external\r\ndef __init__():\r\n    self.e = 0x7f\r\n    self.f = 0x6465616462656566313564656164000000000010\r\n\r\n# e() -> 0x7f00000000000000000000000000000000000000000000000000000000000000\r\n# f() -> 0x6465616462656566313564656164000000000010000000000000000000000000\r\n```\r\n\r\nThe `bytes20` is encoded in the lower bits, but in the same test `bytes1` is encoded in the higher bits.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2780/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2778", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2778/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2778/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2778/events", "html_url": "https://github.com/vyperlang/vyper/issues/2778", "id": 1202680282, "node_id": "I_kwDOBGDvrM5Hr3Ha", "number": 2778, "title": "Assignment bytestring to bytesN weird behavior", "user": {"login": "hedgar2017", "id": 31586236, "node_id": "MDQ6VXNlcjMxNTg2MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedgar2017", "html_url": "https://github.com/hedgar2017", "followers_url": "https://api.github.com/users/hedgar2017/followers", "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}", "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions", "organizations_url": "https://api.github.com/users/hedgar2017/orgs", "repos_url": "https://api.github.com/users/hedgar2017/repos", "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}", "received_events_url": "https://api.github.com/users/hedgar2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-13T02:48:21Z", "updated_at": "2022-04-13T20:18:08Z", "closed_at": "2022-04-13T20:18:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.2\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.10.2\r\n\r\n### What's your issue about?\r\n\r\n```\r\nname: public(bytes6)\r\n\r\n@external\r\ndef __init__():\r\n    self.name = b\"Celina\"\r\n```\r\n\r\nAfter this, `self.name == 6`, the Celina's length!", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2778/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2776", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2776/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2776/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2776/events", "html_url": "https://github.com/vyperlang/vyper/issues/2776", "id": 1202675904, "node_id": "I_kwDOBGDvrM5Hr2DA", "number": 2776, "title": "Unhandled exception (buffer provided to abi_encode not large enough)", "user": {"login": "hedgar2017", "id": 31586236, "node_id": "MDQ6VXNlcjMxNTg2MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedgar2017", "html_url": "https://github.com/hedgar2017", "followers_url": "https://api.github.com/users/hedgar2017/followers", "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}", "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions", "organizations_url": "https://api.github.com/users/hedgar2017/orgs", "repos_url": "https://api.github.com/users/hedgar2017/repos", "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}", "received_events_url": "https://api.github.com/users/hedgar2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-13T02:39:11Z", "updated_at": "2022-04-13T15:24:21Z", "closed_at": "2022-04-13T15:24:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.2\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.10.2\r\n\r\n### What's your issue about?\r\n\r\nThe code below produces the following error:\r\n```\r\nvyper.exceptions.CompilerPanic: buffer provided to abi_encode not large enough\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n[35560] Failed to execute script 'vyper_compile' due to unhandled exception!\r\n```\r\n\r\nI can't tell how abi_encode is involved here, so I'll paste the entire test.\r\n\r\n```\r\na: constant(Bytes[100]) = b\"\\x03\\x01\\x02\"\r\nc: constant(String[100]) = \"hello\"\r\nx: constant(uint256) = 56\r\nst: constant(bytes32) = b\"abc\\x00\\xff__\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"\r\n\r\n@external\r\ndef f() -> Bytes[100]:\r\n    return a\r\n    \r\n@external\r\ndef h() -> Bytes[100]:\r\n    return convert(c, Bytes[100])\r\n    \r\n@external\r\ndef i() -> (uint256, uint8, bytes32):\r\n    return (x, 1, st)\r\n\r\n# f() -> 0x20, 3, \"\\x03\\x01\\x02\"\r\n# h() -> 0x20, 5, \"hello\"\r\n# i() -> 0x38, 1, 0x61626300ff5f5f00000000000000000000000000000000000000000000000000\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2776/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2773", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2773/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2773/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2773/events", "html_url": "https://github.com/vyperlang/vyper/issues/2773", "id": 1202670036, "node_id": "I_kwDOBGDvrM5Hr0nU", "number": 2773, "title": "_abi_encode with empty string", "user": {"login": "hedgar2017", "id": 31586236, "node_id": "MDQ6VXNlcjMxNTg2MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedgar2017", "html_url": "https://github.com/hedgar2017", "followers_url": "https://api.github.com/users/hedgar2017/followers", "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}", "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions", "organizations_url": "https://api.github.com/users/hedgar2017/orgs", "repos_url": "https://api.github.com/users/hedgar2017/repos", "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}", "received_events_url": "https://api.github.com/users/hedgar2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-13T02:28:22Z", "updated_at": "2022-04-13T21:46:48Z", "closed_at": "2022-04-13T21:46:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.2\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.10.2\r\n\r\n### What's your issue about?\r\n\r\n```\r\n@external\r\ndef f1() -> Bytes[100]:\r\n    return _abi_encode(\"\")\r\n```\r\n\r\nExpected: `0x20, 0x40, 0x20, 0`\r\nFound: `0, 0x40, 0x20, 0`\r\n\r\nIt is another Solidity test and the similar `_abi_encode` problem.\r\nThe first value (I guess it is the offset) is always 0x20 if the string is not empty.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2752", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2752/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2752/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2752/events", "html_url": "https://github.com/vyperlang/vyper/issues/2752", "id": 1193913969, "node_id": "I_kwDOBGDvrM5HKa5x", "number": 2752, "title": "[CI] occasional test failure due to slow transaction", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-06T02:01:33Z", "updated_at": "2022-04-07T20:42:12Z", "closed_at": "2022-04-07T20:42:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "crowdfund example fails sometimes, e.g. ![Screenshot from 2022-04-05 21-56-53](https://user-images.githubusercontent.com/3867501/161880485-b6abe209-d4fd-4eae-951b-c883b1c5a223.png)\r\n\r\nhttps://github.com/vyperlang/vyper/runs/5842719555?check_suite_focus=true\r\n\r\n### What's your issue about?\r\n\r\nSeems like a spurious failure -- the first block is taking longer than one second to mine, causing `c.block_timestamp()` be offset by more than one from the contract creation block.\r\n\r\n### How can it be fixed?\r\n2 options: 1) measure the time the first block takes to mine, and then check that `c.deadline() - c.block_timestamp() == <elapsed_time>`, or 2) query the blockchain for the difference between the two timestamps?", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2747", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2747/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2747/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2747/events", "html_url": "https://github.com/vyperlang/vyper/issues/2747", "id": 1191069094, "node_id": "I_kwDOBGDvrM5G_kWm", "number": 2747, "title": "structs as function arguments are modifiable", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-03T22:45:04Z", "updated_at": "2022-04-04T04:32:44Z", "closed_at": "2022-04-04T04:32:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 6fdeb84f3a3ea2d0ea4fb8318ba1e7f7e9d34162\r\n* Python Version (output of `python --version`): 3.8.2\r\n\r\n### What's your issue about?\r\nthe following code compiles when it should throw an exception:\r\n```vyper\r\nstruct Foo:\r\n    x: uint256\r\n@internal\r\ndef foo(f: Foo):\r\n    f.x += 1\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\nvariable info needs to be passed down into the struct members during `get_type_from_annotation`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2718", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2718/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2718/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2718/events", "html_url": "https://github.com/vyperlang/vyper/issues/2718", "id": 1177283505, "node_id": "I_kwDOBGDvrM5GK-ux", "number": 2718, "title": "constructor signature can have return type", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-22T20:41:12Z", "updated_at": "2022-04-05T13:19:28Z", "closed_at": "2022-04-05T13:19:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 7bc5bfc4e65bace2184aa5eaebefda24bc60c638\r\n* OS: osx/linux/win\r\n* Python Version (output of `python --version`): 3.8.10\r\n\r\n### What's your issue about?\r\nthe following code should be rejected during function signature validation but is not:\r\n```vyper\r\n@external\r\ndef __init__() -> uint256:\r\n    return 1\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2711", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2711/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2711/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2711/events", "html_url": "https://github.com/vyperlang/vyper/issues/2711", "id": 1174152958, "node_id": "I_kwDOBGDvrM5F_Cb-", "number": 2711, "title": "Function as_wei_value() with type uint8 causes compilation error", "user": {"login": "onlymaresia", "id": 8520873, "node_id": "MDQ6VXNlcjg1MjA4NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/8520873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onlymaresia", "html_url": "https://github.com/onlymaresia", "followers_url": "https://api.github.com/users/onlymaresia/followers", "following_url": "https://api.github.com/users/onlymaresia/following{/other_user}", "gists_url": "https://api.github.com/users/onlymaresia/gists{/gist_id}", "starred_url": "https://api.github.com/users/onlymaresia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onlymaresia/subscriptions", "organizations_url": "https://api.github.com/users/onlymaresia/orgs", "repos_url": "https://api.github.com/users/onlymaresia/repos", "events_url": "https://api.github.com/users/onlymaresia/events{/privacy}", "received_events_url": "https://api.github.com/users/onlymaresia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-19T02:51:12Z", "updated_at": "2022-03-22T17:31:28Z", "closed_at": "2022-03-22T17:31:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.1\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.10\r\n\r\n### What's your issue about?\r\nUsing as_wei_value() function with type uint8 causes compilation error.\r\n\r\nCode:\r\n```vyper\r\n# @version ^0.3.1\r\n\r\n@external\r\ndef __init__():\r\n    pass\r\n\r\n@external\r\n@pure\r\ndef as_ether(in_ether: uint8) -> uint256:\r\n    return as_wei_value(in_ether, \"ether\")\r\n```\r\n\r\nOutput:\r\n```\r\nBrownie v1.18.1 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.1\r\nUnhandled exception in 'contracts/Registry.vy':\r\n  File \"brownie/_cli/__main__.py\", line 64, in main\r\n    importlib.import_module(f\"brownie._cli.{cmd}\").main()\r\n  File \"brownie/_cli/compile.py\", line 50, in main\r\n    proj = project.load()\r\n  File \"brownie/project/main.py\", line 768, in load\r\n    return Project(name, project_path)\r\n  File \"brownie/project/main.py\", line 188, in __init__\r\n    self.load()\r\n  File \"brownie/project/main.py\", line 245, in load\r\n    self._compile(changed, self._compiler_config, False)\r\n  File \"brownie/project/main.py\", line 100, in _compile\r\n    build_json = compiler.compile_and_format(\r\n  File \"brownie/project/compiler/__init__.py\", line 141, in compile_and_format\r\n    output_json = compile_from_input_json(input_json, silent, allow_paths)\r\n  File \"brownie/project/compiler/__init__.py\", line 252, in compile_from_input_json\r\n    return vyper.compile_from_input_json(input_json, silent, allow_paths)\r\n  File \"brownie/project/compiler/vyper.py\", line 235, in compile_from_input_json\r\n    return vyper_json.compile_json(input_json, root_path=allow_paths)\r\n  File \"vyper/cli/vyper_json.py\", line 396, in compile_json\r\n    compiler_data, warn_data = compile_from_input_dict(input_dict, exc_handler, root_path)\r\n  File \"vyper/cli/vyper_json.py\", line 328, in compile_from_input_dict\r\n    return exc_handler(contract_path, exc, \"compiler\"), {}\r\n  File \"vyper/cli/vyper_json.py\", line 102, in exc_handler_raises\r\n    raise exception\r\n  File \"vyper/cli/vyper_json.py\", line 319, in compile_from_input_dict\r\n    data = vyper.compile_codes(\r\n  File \"vyper/evm/opcodes.py\", line 220, in _wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"vyper/compiler/__init__.py\", line 107, in compile_codes\r\n    raise exc\r\n  File \"vyper/compiler/__init__.py\", line 102, in compile_codes\r\n    out[contract_name][output_format] = OUTPUT_FORMATS[output_format](compiler_data)\r\n  File \"vyper/compiler/output.py\", line 102, in build_abi_output\r\n    gas_estimates = build_gas_estimates(compiler_data.lll_nodes)\r\n  File \"vyper/compiler/phases.py\", line 114, in lll_nodes\r\n    self._gen_lll()\r\n  File \"vyper/compiler/phases.py\", line 109, in _gen_lll\r\n    self._lll_nodes, self._lll_runtime = generate_lll_nodes(self.global_ctx, self.no_optimize)\r\n  File \"vyper/compiler/phases.py\", line 243, in generate_lll_nodes\r\n    lll_nodes, lll_runtime = parser.parse_tree_to_lll(global_ctx)\r\n  File \"vyper/old_codegen/parser.py\", line 268, in parse_tree_to_lll\r\n    o, runtime = parse_regular_functions(\r\n  File \"vyper/old_codegen/parser.py\", line 119, in parse_regular_functions\r\n    func_lll, frame_start, frame_size = generate_lll_for_function(\r\n  File \"vyper/old_codegen/function_definitions/common.py\", line 92, in generate_lll_for_function\r\n    _, context = _run_pass(memory_allocator=None)\r\n  File \"vyper/old_codegen/function_definitions/common.py\", line 89, in _run_pass\r\n    o = generate_lll_for_external_function(code, sig, context, check_nonpayable)\r\n  File \"vyper/old_codegen/function_definitions/external_function.py\", line 185, in generate_lll_for_external_function\r\n    body = [parse_body(c, context) for c in code.body]\r\n  File \"vyper/old_codegen/function_definitions/external_function.py\", line 185, in <listcomp>\r\n    body = [parse_body(c, context) for c in code.body]\r\n  File \"vyper/old_codegen/stmt.py\", line 454, in parse_body\r\n    return parse_stmt(code, context)\r\n  File \"vyper/old_codegen/stmt.py\", line 448, in parse_stmt\r\n    return Stmt(stmt, context).lll_node\r\n  File \"vyper/old_codegen/stmt.py\", line 30, in __init__\r\n    self.lll_node = fn()\r\n  File \"vyper/old_codegen/stmt.py\", line 424, in parse_Return\r\n    lll_val = Expr(self.stmt.value, self.context).lll_node\r\n  File \"vyper/old_codegen/expr.py\", line 200, in __init__\r\n    self.lll_node = fn()\r\n  File \"vyper/old_codegen/expr.py\", line 1019, in parse_Call\r\n    return DISPATCH_TABLE[function_name].build_LLL(self.expr, self.context)\r\n  File \"vyper/builtin_functions/signatures.py\", line 195, in decorator_fn\r\n    return wrapped_fn(self, node, subs, kwsubs, context)\r\n  File \"vyper/builtin_functions/functions.py\", line 1017, in build_LLL\r\n    raise CompilerPanic(f\"Unexpected type: {value.typ.typ}\")\r\nCompilerPanic: Unexpected type: uint8\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n```\r\n\r\nCommand:\r\n```\r\nbrownie compile\r\n```\r\n\r\n### How can it be fixed?\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2711/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2711/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2704", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2704/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2704/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2704/events", "html_url": "https://github.com/vyperlang/vyper/issues/2704", "id": 1171178757, "node_id": "I_kwDOBGDvrM5FzsUF", "number": 2704, "title": "comparison with empty string results in compiler panic", "user": {"login": "mhorsley30896", "id": 63503907, "node_id": "MDQ6VXNlcjYzNTAzOTA3", "avatar_url": "https://avatars.githubusercontent.com/u/63503907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhorsley30896", "html_url": "https://github.com/mhorsley30896", "followers_url": "https://api.github.com/users/mhorsley30896/followers", "following_url": "https://api.github.com/users/mhorsley30896/following{/other_user}", "gists_url": "https://api.github.com/users/mhorsley30896/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhorsley30896/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhorsley30896/subscriptions", "organizations_url": "https://api.github.com/users/mhorsley30896/orgs", "repos_url": "https://api.github.com/users/mhorsley30896/repos", "events_url": "https://api.github.com/users/mhorsley30896/events{/privacy}", "received_events_url": "https://api.github.com/users/mhorsley30896/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-16T15:24:13Z", "updated_at": "2022-04-04T04:28:42Z", "closed_at": "2022-04-04T04:28:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version:0.3.2+commit.cfe26e1b\r\n* OS: linux\r\n* Python Version 3.9.7\r\n\r\nThe following code\r\n\r\n```vyper\r\n# @version ^0.3.0\r\n\r\nevent Here:\r\n\ti: String[8]\r\n\r\nmy_array: public(DynArray[String[8], 32])\r\nidx: uint256\r\n\r\n@external\r\ndef __init__(_str: String[8]):\r\n\tself.my_array = []\r\n\tself.my_array.append(_str)\r\n\tself.idx += 1\r\n\r\n@external\r\ndef some_method():\r\n\tfor i in self.my_array:\r\n\t\tif i == empty(String[8]):\r\n\t\t\tbreak\r\n\t\telse:\r\n\t\t\tlog Here(i)\r\n```\r\n\r\ncauses `CompilerPanic: unreachable None`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2676", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2676/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2676/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2676/events", "html_url": "https://github.com/vyperlang/vyper/issues/2676", "id": 1145764535, "node_id": "I_kwDOBGDvrM5ESvq3", "number": 2676, "title": "Vyper + Brownie (sqrt error)", "user": {"login": "SwapOperator", "id": 93691214, "node_id": "U_kgDOBZWdTg", "avatar_url": "https://avatars.githubusercontent.com/u/93691214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SwapOperator", "html_url": "https://github.com/SwapOperator", "followers_url": "https://api.github.com/users/SwapOperator/followers", "following_url": "https://api.github.com/users/SwapOperator/following{/other_user}", "gists_url": "https://api.github.com/users/SwapOperator/gists{/gist_id}", "starred_url": "https://api.github.com/users/SwapOperator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SwapOperator/subscriptions", "organizations_url": "https://api.github.com/users/SwapOperator/orgs", "repos_url": "https://api.github.com/users/SwapOperator/repos", "events_url": "https://api.github.com/users/SwapOperator/events{/privacy}", "received_events_url": "https://api.github.com/users/SwapOperator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-21T12:57:15Z", "updated_at": "2022-03-28T22:10:18Z", "closed_at": "2022-03-28T22:10:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.1\r\n* OS: osx\r\n* Python Version (output of `python --version`): 3.7\r\n\r\n### What's your issue about?\r\n\r\nI can't compile simple contract with Brownie.\r\n\r\nPlease include information like:\r\n\r\n```\r\n\r\n# @version 0.3.1\r\n\r\n@external\r\n@view\r\ndef get_price() -> uint256:\r\n    Y: decimal = 1.23\r\n    AMOUNT_OUT: decimal = sqrt(Y)\r\n\r\n    return convert(AMOUNT_OUT, uint256)\r\n\r\n```\r\n\r\nBrownie failed with sqrt(Y) operation.\r\n\r\n* full output of the error you received\r\n* what command you ran\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n* please try running your example with the --debug flag turned on\r\n```\r\n  File \"brownie/_cli/__main__.py\", line 64, in main\r\n    importlib.import_module(f\"brownie._cli.{cmd}\").main()\r\n  File \"brownie/_cli/compile.py\", line 50, in main\r\n    proj = project.load()\r\n  File \"brownie/project/main.py\", line 768, in load\r\n    return Project(name, project_path)\r\n  File \"brownie/project/main.py\", line 188, in __init__\r\n    self.load()\r\n  File \"brownie/project/main.py\", line 245, in load\r\n    self._compile(changed, self._compiler_config, False)\r\n  File \"brownie/project/main.py\", line 100, in _compile\r\n    build_json = compiler.compile_and_format(\r\n  File \"brownie/project/compiler/__init__.py\", line 142, in compile_and_format\r\n    build_json.update(generate_build_json(input_json, output_json, compiler_data, silent))\r\n  File \"brownie/project/compiler/__init__.py\", line 328, in generate_build_json\r\n    build_json[contract_alias] = vyper._get_unique_build_json(\r\n  File \"brownie/project/compiler/vyper.py\", line 255, in _get_unique_build_json\r\n    pc_map, statement_map, branch_map = _generate_coverage_data(\r\n  File \"brownie/project/compiler/vyper.py\", line 368, in _generate_coverage_data\r\n    node = _find_node_by_offset(ast_json, offset)\r\n  File \"brownie/project/compiler/vyper.py\", line 420, in _find_node_by_offset\r\n    node = next(i for i in ast_json if is_inside_offset(offset, _convert_src(i[\"src\"])))\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2676/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2642", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2642/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2642/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2642/events", "html_url": "https://github.com/vyperlang/vyper/issues/2642", "id": 1129017471, "node_id": "I_kwDOBGDvrM5DS3B_", "number": 2642, "title": "`in` comparator evaluates lhs multiple times", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-09T21:01:38Z", "updated_at": "2022-02-09T23:26:37Z", "closed_at": "2022-02-09T23:26:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.3.1\r\n\r\n### What's your issue about?\r\n```python\r\n_counter: uint256\r\n\r\n@internal\r\ndef counter() -> uint256:\r\n    self._counter += 1\r\n    return self._counter\r\n\r\n@external\r\ndef foo() -> bool:\r\n    return self.counter() in [4,4,4,4,4,4,4]\r\n```\r\n`self.counter()` will be evaluated once for every element of the loop\r\n\r\n### How can it be fixed?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2636", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2636/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2636/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2636/events", "html_url": "https://github.com/vyperlang/vyper/issues/2636", "id": 1127697082, "node_id": "I_kwDOBGDvrM5DN0q6", "number": 2636, "title": "docs need to be updated for msg.sender", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}, {"id": 895812894, "node_id": "MDU6TGFiZWw4OTU4MTI4OTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/documentation", "name": "documentation", "color": "fcbdea", "default": true, "description": "Documentation"}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-02-08T19:56:39Z", "updated_at": "2022-02-15T05:26:27Z", "closed_at": "2022-02-15T05:26:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "update docs to reflect https://github.com/vyperlang/vyper/pull/2632", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2636/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2626", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2626/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2626/events", "html_url": "https://github.com/vyperlang/vyper/issues/2626", "id": 1120795707, "node_id": "I_kwDOBGDvrM5Czfw7", "number": 2626, "title": "Immutable variables used in the constructor", "user": {"login": "romanagureev", "id": 44445133, "node_id": "MDQ6VXNlcjQ0NDQ1MTMz", "avatar_url": "https://avatars.githubusercontent.com/u/44445133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romanagureev", "html_url": "https://github.com/romanagureev", "followers_url": "https://api.github.com/users/romanagureev/followers", "following_url": "https://api.github.com/users/romanagureev/following{/other_user}", "gists_url": "https://api.github.com/users/romanagureev/gists{/gist_id}", "starred_url": "https://api.github.com/users/romanagureev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romanagureev/subscriptions", "organizations_url": "https://api.github.com/users/romanagureev/orgs", "repos_url": "https://api.github.com/users/romanagureev/repos", "events_url": "https://api.github.com/users/romanagureev/events{/privacy}", "received_events_url": "https://api.github.com/users/romanagureev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-02-01T14:59:53Z", "updated_at": "2022-02-03T02:08:39Z", "closed_at": "2022-02-03T02:08:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.1\r\n* OS: macOS\r\n* Python Version (output of `python --version`): 3.8.9\r\n\r\n### What's your issue about?\r\n\r\nIf you use immutable variables in the constructor the variable fills with garbage(in this simplified example it remains 0).\r\n\r\n```py\r\n# @version 0.3.1\r\n\r\n\r\nA: immutable(uint256)\r\na: public(uint256)\r\n\r\n\r\n@external\r\ndef __init__(_a: uint256):\r\n    A = _a\r\n    self.a = _a  # breaks with A\r\n\r\n\r\n@external\r\n@view\r\ndef a1() -> uint256:\r\n    return A\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\n1) Immutable variables usage in constructor could be restricted by the compiler or\r\n2) somehow set the right value.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2613", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2613/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2613/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2613/events", "html_url": "https://github.com/vyperlang/vyper/issues/2613", "id": 1111160258, "node_id": "I_kwDOBGDvrM5COvXC", "number": 2613, "title": "allow assignment of empty list to dynamic array", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-22T01:14:54Z", "updated_at": "2022-04-04T04:29:27Z", "closed_at": "2022-04-04T04:29:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Right now we can use `empty(DynArray[...])` which works but not empty list literals, which is unintuitive for Python programmers (and unergonomic to boot!). For instance,\r\n\r\n```\r\n$ vyper --version\r\n0.3.2+commit.0004e0c0.dirty\r\n```\r\n```python\r\n@external\r\ndef foo():\r\n    xs: DynArray[uint256, 5] = []\r\n```\r\nresults in\r\n```\r\nvyper.exceptions.InvalidLiteral: Cannot have an empty array\r\n  contract \"tmp/bar.vy\", function \"foo\", line 3:31 \r\n       2 def foo():\r\n  ---> 3     xs: DynArray[uint256, 5] = []\r\n  --------------------------------------^\r\n       4\r\n```\r\nIt's not trivial to fix since we would probably need a concept of wildcards in the type checker.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2592", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2592/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2592/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2592/events", "html_url": "https://github.com/vyperlang/vyper/issues/2592", "id": 1094881442, "node_id": "I_kwDOBGDvrM5BQpCi", "number": 2592, "title": "typechecker does not check constants", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-06T01:26:55Z", "updated_at": "2022-02-08T02:40:21Z", "closed_at": "2022-02-08T02:40:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.3.1\r\n\r\n### What's your issue about?\r\n\r\nDuring constant folding, the annotated types for constants do not get propagated. Instead they are translated into literals and the literal types are inferred at the use site. For example the following example compiles even though it shouldn't really:\r\n```python\r\nMY_CONSTANT: constant(uint256[3]) = [1,2,3]\r\n\r\n@external\r\ndef foo() -> uint8[3]:\r\n    return MY_CONSTANT\r\n```\r\n\r\nCompare the error generated for the following\r\n\r\n```python\r\n@external\r\ndef foo() -> uint8[3]:\r\n    xs: uint256[3] = [1,2,3]\r\n    return xs\r\n```\r\n```\r\nError compiling: tmp/foo.vy\r\nvyper.exceptions.TypeMismatch: Given reference has type uint256[3], expected uint8[3]\r\n  contract \"tmp/foo.vy\", function \"foo\", line 7:11 \r\n       6     xs: uint256[3] = [1,2,3]\r\n  ---> 7     return xs\r\n  ------------------^\r\n       8\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nPropagate type annotations during constant folding", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2585", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2585/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2585/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2585/events", "html_url": "https://github.com/vyperlang/vyper/issues/2585", "id": 1092440987, "node_id": "I_kwDOBGDvrM5BHVOb", "number": 2585, "title": "`uint8` cannot be used as array index", "user": {"login": "hedgar2017", "id": 31586236, "node_id": "MDQ6VXNlcjMxNTg2MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedgar2017", "html_url": "https://github.com/hedgar2017", "followers_url": "https://api.github.com/users/hedgar2017/followers", "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}", "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions", "organizations_url": "https://api.github.com/users/hedgar2017/orgs", "repos_url": "https://api.github.com/users/hedgar2017/repos", "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}", "received_events_url": "https://api.github.com/users/hedgar2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-01-03T11:42:39Z", "updated_at": "2022-01-19T17:58:12Z", "closed_at": "2022-01-19T17:58:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.1\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.10.1\r\n\r\n### What's your issue about?\r\n\r\nCommand:\r\n```\r\nvyper-0.3.1 tests/vyper/simple/array/store_load_constant_array_witness_index.vy\r\n```\r\n\r\nOutput:\r\n```\r\nError compiling: tests/vyper/simple/array/store_load_constant_array_witness_index.vy\r\nvyper.exceptions.TypeCheckFailure: get_element_ptr (256 <array>, [mload, 224 <index>]) did not return a value\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\n```\r\n\r\nExample:\r\n```python\r\nSIZE: constant(uint8) = 4\r\n\r\n@external\r\n@pure\r\ndef main(index: uint8) -> uint8:\r\n    array: uint8[SIZE] = [1, 2, 3, 4]\r\n    return array[index]\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2554", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2554/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2554/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2554/events", "html_url": "https://github.com/vyperlang/vyper/issues/2554", "id": 1070143939, "node_id": "I_kwDOBGDvrM4_yRnD", "number": 2554, "title": "Unhelpful error message on attempting to use immutable via `self`", "user": {"login": "haltman-at", "id": 35589221, "node_id": "MDQ6VXNlcjM1NTg5MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haltman-at", "html_url": "https://github.com/haltman-at", "followers_url": "https://api.github.com/users/haltman-at/followers", "following_url": "https://api.github.com/users/haltman-at/following{/other_user}", "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions", "organizations_url": "https://api.github.com/users/haltman-at/orgs", "repos_url": "https://api.github.com/users/haltman-at/repos", "events_url": "https://api.github.com/users/haltman-at/events{/privacy}", "received_events_url": "https://api.github.com/users/haltman-at/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-03T02:03:36Z", "updated_at": "2022-01-01T00:42:53Z", "closed_at": "2022-01-01T00:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.1\r\n* OS: Linux\r\n* Python Version (output of `python --version`): Python 3.8.10\r\n\r\n### What's your issue about?\r\n\r\nIf you refer to immutables via `self`, the error message you get is confusing and misleading.\r\n\r\nTry compiling the following:\r\n\r\n```vyper\r\nevent Num:\r\n    num: uint256\r\n\r\nimm: immutable(uint256)\r\n\r\n@external\r\ndef __init__(x: uint256):\r\n    self.imm = x\r\n\r\n@external\r\ndef report():\r\n    log Num(self.imm)\r\n```\r\n\r\nYou'll get the following error message: `Immutable definition requires an assignment in the constructor`.\r\n\r\nThis is unhelpful -- it looks to me like I *did* initialize the immutable in the constructor!  The real problem is that I used `self.imm` instead of `imm`.\r\n\r\nThe compiler should detect uses of `self.<immutableName>` and output an error message that indicates that immutables don't use the `self` prefix (much like there's currently an error message for if you try to reference a storage variable *without* the `self` prefix).\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2554/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2536", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2536/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2536/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2536/events", "html_url": "https://github.com/vyperlang/vyper/issues/2536", "id": 1052401438, "node_id": "I_kwDOBGDvrM4-ul8e", "number": 2536, "title": "Calling a mapping raises unhandled exception", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-12T20:55:30Z", "updated_at": "2021-12-31T23:36:08Z", "closed_at": "2021-12-31T23:36:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I made a mistake writing a contract with using a mapping:\r\n\r\n```python\r\nassert self.balanceOf(msg.sender) < 1  # instead of self.balanceOf[msg.sender]\r\n```\r\n\r\nraises the following error:\r\n```python\r\n  File \"vyper/cli/vyper_json.py\", line 395, in compile_json\r\n    compiler_data, warn_data = compile_from_input_dict(input_dict, exc_handler, root_path)\r\n  File \"vyper/cli/vyper_json.py\", line 327, in compile_from_input_dict\r\n    return exc_handler(contract_path, exc, \"compiler\"), {}\r\n  File \"vyper/cli/vyper_json.py\", line 103, in exc_handler_raises\r\n    raise exception\r\n  File \"vyper/cli/vyper_json.py\", line 319, in compile_from_input_dict\r\n    data = vyper.compile_codes(\r\n  File \"vyper/evm/opcodes.py\", line 223, in _wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"vyper/compiler/__init__.py\", line 112, in compile_codes\r\n    raise exc\r\n  File \"vyper/compiler/__init__.py\", line 107, in compile_codes\r\n    out[contract_name][output_format] = OUTPUT_FORMATS[output_format](compiler_data)\r\n  File \"vyper/compiler/output.py\", line 88, in build_abi_output\r\n    abi = compiler_data.vyper_module_folded._metadata[\"type\"].to_abi_dict()\r\n  File \"vyper/compiler/phases.py\", line 91, in vyper_module_folded\r\n    self._vyper_module_folded, self._storage_layout = generate_folded_ast(\r\n  File \"vyper/compiler/phases.py\", line 199, in generate_folded_ast\r\n    validate_semantics(vyper_module_folded, interface_codes)\r\n  File \"vyper/semantics/validation/__init__.py\", line 10, in validate_semantics\r\n    add_module_namespace(vyper_ast, interface_codes)\r\n  File \"vyper/semantics/validation/module.py\", line 39, in add_module_namespace\r\n    ModuleNodeVisitor(vy_module, interface_codes, namespace)\r\n  File \"vyper/semantics/validation/module.py\", line 118, in __init__\r\n    sequence = _find_cyclic_call([fn_name], self_members)\r\n  File \"vyper/semantics/validation/module.py\", line 49, in _find_cyclic_call\r\n    sequence = _find_cyclic_call(fn_names + [name], self_members)\r\n  File \"vyper/semantics/validation/module.py\", line 45, in _find_cyclic_call\r\n    internal_calls = self_members[fn_names[-1]].internal_calls\r\nAttributeError: 'MappingDefinition' object has no attribute 'internal_calls'\r\n```\r\n\r\nI solved this via:\r\n```python\r\nassert (self.balanceOf[msg.sender] < 1)\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2529", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2529/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2529/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2529/events", "html_url": "https://github.com/vyperlang/vyper/issues/2529", "id": 1047983253, "node_id": "I_kwDOBGDvrM4-dvSV", "number": 2529, "title": "Revert messages in `raise` or `assert` are not properly propagated when the exception is rethrown by the caller", "user": {"login": "haltman-at", "id": 35589221, "node_id": "MDQ6VXNlcjM1NTg5MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haltman-at", "html_url": "https://github.com/haltman-at", "followers_url": "https://api.github.com/users/haltman-at/followers", "following_url": "https://api.github.com/users/haltman-at/following{/other_user}", "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions", "organizations_url": "https://api.github.com/users/haltman-at/orgs", "repos_url": "https://api.github.com/users/haltman-at/repos", "events_url": "https://api.github.com/users/haltman-at/events{/privacy}", "received_events_url": "https://api.github.com/users/haltman-at/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-08T22:25:01Z", "updated_at": "2021-11-09T19:10:08Z", "closed_at": "2021-11-09T18:57:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.0+commit.8a23feb\r\n* OS: Release Linux Mint 20.2 Uma 64-bit\r\n* Python Version (output of `python --version`): Python 3.8.10\r\n\r\n### What's your issue about?\r\n\r\nWhen a contract `A` calls a contract `B`, and the second call reverts with a message, then the original call will revert as described in the documentation, but it will not propagate the revert message it got from `B`.\r\n\r\nExample:\r\n\r\nTraceTest.vy:\r\n```vyper\r\n@external\r\ndef run():\r\n    raise \"Mayday, mayday!\"\r\n```\r\n\r\nCaller.vy:\r\n```vyper\r\nimport TraceTest as Test\r\n\r\ntest: address\r\n\r\n@external\r\ndef run():\r\n    Test(self.test).run()\r\n\r\n@external\r\ndef __init__(test: address):\r\n    self.test = test\r\n```\r\n\r\nDeploy `TraceTest`, then deploy `Caller`, passing the address of `TraceTest` as an argument.  Then run `TraceTest.run()`.\r\n\r\nThe call will revert, but there will be no revert message.  The revert message ought to be, `\"Mayday, mayday!\"`.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2529/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2520", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2520/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2520/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2520/events", "html_url": "https://github.com/vyperlang/vyper/issues/2520", "id": 1044095858, "node_id": "I_kwDOBGDvrM4-O6Ny", "number": 2520, "title": "vyper.exceptions.TypeCheckFailure: pack_arguments did not return a value", "user": {"login": "Eniola4031", "id": 54287741, "node_id": "MDQ6VXNlcjU0Mjg3NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/54287741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eniola4031", "html_url": "https://github.com/Eniola4031", "followers_url": "https://api.github.com/users/Eniola4031/followers", "following_url": "https://api.github.com/users/Eniola4031/following{/other_user}", "gists_url": "https://api.github.com/users/Eniola4031/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eniola4031/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eniola4031/subscriptions", "organizations_url": "https://api.github.com/users/Eniola4031/orgs", "repos_url": "https://api.github.com/users/Eniola4031/repos", "events_url": "https://api.github.com/users/Eniola4031/events{/privacy}", "received_events_url": "https://api.github.com/users/Eniola4031/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-11-03T20:44:15Z", "updated_at": "2021-11-05T19:46:25Z", "closed_at": "2021-11-05T19:46:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.16\r\n* OS: osx\r\n* Python Version (output of `python --version`): python3\r\n\r\n### I tried to compile my codes using \"vyper file_name.vy\" and this is the error I get\r\n\r\nPlease include information like:\r\n\r\n*Error compiling: bounty.v\r\n![Screenshot 2021-11-03 at 9 42 39 PM](https://user-images.githubusercontent.com/54287741/140189733-b037b084-b805-4f25-aa85-eee83b0b1727.png)\r\ny\r\nvyper.exceptions.TypeCheckFailure: pack_arguments did not return a value\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\n* vyper\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n* please try running your example with the --debug flag turned on\r\n\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n![Screenshot 2021-11-03 at 9 42 39 PM](https://user-images.githubusercontent.com/54287741/140189784-eb38f9fd-2994-4537-8a4a-8a6cf5f96d30.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2502", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2502/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2502/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2502/events", "html_url": "https://github.com/vyperlang/vyper/issues/2502", "id": 1033130508, "node_id": "I_kwDOBGDvrM49lFIM", "number": 2502, "title": "Internal compiler error on attempting to iterate over list of string literals (and nonsense error on attempting to iterate over list of strings)", "user": {"login": "haltman-at", "id": 35589221, "node_id": "MDQ6VXNlcjM1NTg5MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haltman-at", "html_url": "https://github.com/haltman-at", "followers_url": "https://api.github.com/users/haltman-at/followers", "following_url": "https://api.github.com/users/haltman-at/following{/other_user}", "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions", "organizations_url": "https://api.github.com/users/haltman-at/orgs", "repos_url": "https://api.github.com/users/haltman-at/repos", "events_url": "https://api.github.com/users/haltman-at/events{/privacy}", "received_events_url": "https://api.github.com/users/haltman-at/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-22T03:05:19Z", "updated_at": "2022-03-22T17:32:13Z", "closed_at": "2022-03-22T17:32:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.0\r\n* OS: Linux Mint 20.2 Uma 64-bit\r\n* Python Version (output of `python --version`): 3.8.10\r\n\r\n### What's your issue about?\r\n\r\nAttempting to interate over a list of string literals produces an internal compiler error.  I tried to compile the following contract:\r\n\r\n```vyper\r\n@external\r\ndef doThings():\r\n    for str in [\"Hello\"]:\r\n        pass\r\n```\r\n\r\nAnd got the following error message:\r\n\r\n```\r\nStatement node did not produce LLL\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n```\r\n\r\nThis should either compile, or else produce a proper error message.\r\n\r\n**Edit**:\r\n\r\nIf we change the code to\r\n\r\n```vyper\r\n@external\r\ndef doThings():\r\n    text: String[64] = \"Hello\"\r\n    for str in [text]:\r\n        pass\r\n```\r\n\r\nthen we get the same error message.  If, however, we change it to\r\n\r\n```vyper\r\ntext: String[64]\r\n\r\n@external\r\ndef doThings():\r\n    self.text = \"Hello\"\r\n    for str in [self.text]:\r\n        pass\r\n```\r\n\r\nThen instead we get the error message:\r\n\r\n```\r\n'type'\r\n```\r\n\r\nwhich is still unhelpful.  This error message also should be fixed (or the code should compile).", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2499", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2499/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2499/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2499/events", "html_url": "https://github.com/vyperlang/vyper/issues/2499", "id": 1032412674, "node_id": "I_kwDOBGDvrM49iV4C", "number": 2499, "title": "Cannot add uint256s inside convert | Exception: Weird code element: l", "user": {"login": "reednaaxeelaa", "id": 58189177, "node_id": "MDQ6VXNlcjU4MTg5MTc3", "avatar_url": "https://avatars.githubusercontent.com/u/58189177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reednaaxeelaa", "html_url": "https://github.com/reednaaxeelaa", "followers_url": "https://api.github.com/users/reednaaxeelaa/followers", "following_url": "https://api.github.com/users/reednaaxeelaa/following{/other_user}", "gists_url": "https://api.github.com/users/reednaaxeelaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/reednaaxeelaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reednaaxeelaa/subscriptions", "organizations_url": "https://api.github.com/users/reednaaxeelaa/orgs", "repos_url": "https://api.github.com/users/reednaaxeelaa/repos", "events_url": "https://api.github.com/users/reednaaxeelaa/events{/privacy}", "received_events_url": "https://api.github.com/users/reednaaxeelaa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-10-21T12:05:49Z", "updated_at": "2021-10-22T03:00:46Z", "closed_at": "2021-10-22T03:00:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.16+commit.59e1bdd\r\n* OS: Mac OS\r\n* Python Version (output of `python --version`): Python 3.9.7\r\n\r\n### What's your issue about?\r\n\r\nWhen adding a number to a uint256 variable inside convert, Vyper refuses to compile the code and returns:\r\n```\r\nError compiling: contracts/demoContract.vy\r\nException: Weird code element: l\r\n```\r\n\r\n```Python\r\n# @version 0.2.16\r\n# demoContract.vy\r\n\r\n@external\r\ndef badFunc():\r\n    a : uint256 = 0\r\n    b: Bytes[1] = slice(convert(a+1, bytes32), 32-1, 1)\r\n```\r\nIt does not matter if the function is external or internal. \r\n\r\nThe following code snippet does compile:\r\n```Python\r\n# @version 0.2.16\r\n\r\n@external\r\ndef goodFunc():\r\n    a : uint256 = 0\r\n    c : bytes32 = convert(a+1, bytes32)\r\n    b: Bytes[1] = slice(c, 32-1, 1)\r\n```\r\n\r\n<details>\r\n  <summary>`vyper --debug demoContract.vy`</summary>\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"PathToPython/bin/vyper\", line 8, in <module>\r\n    sys.exit(_parse_cli_args())\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/cli/vyper_compile.py\", line 55, in _parse_cli_args\r\n    return _parse_args(sys.argv[1:])\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/cli/vyper_compile.py\", line 129, in _parse_args\r\n    compiled = compile_files(\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/cli/vyper_compile.py\", line 242, in compile_files\r\n    compiler_data = vyper.compile_codes(\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/evm/opcodes.py\", line 224, in _wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/compiler/__init__.py\", line 110, in compile_codes\r\n    exc_handler(contract_name, exc)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/cli/vyper_compile.py\", line 166, in exc_handler\r\n    raise exception\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/compiler/__init__.py\", line 107, in compile_codes\r\n    out[contract_name][output_format] = OUTPUT_FORMATS[output_format](compiler_data)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/compiler/output.py\", line 178, in build_bytecode_output\r\n    return f\"0x{compiler_data.bytecode.hex()}\"\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/compiler/phases.py\", line 146, in bytecode\r\n    self._bytecode = generate_bytecode(self.assembly)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/compiler/phases.py\", line 134, in assembly\r\n    self._assembly = generate_assembly(self.lll_nodes, self.use_ovm)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/compiler/phases.py\", line 277, in generate_assembly\r\n    assembly = compile_lll.compile_to_assembly(lll_nodes)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 111, in compile_to_assembly\r\n    res = _compile_to_assembly(code)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 307, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(arg, withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 134, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(c, withargs, existing_labels, break_dest, height + i))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 286, in _compile_to_assembly\r\n    lll = _compile_to_assembly(code.args[0], {}, existing_labels, None, 0)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 307, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(arg, withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 268, in _compile_to_assembly\r\n    _compile_to_assembly(code.args[2], withargs, existing_labels, break_dest, height + 1,)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 307, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(arg, withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 187, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(code.args[1], withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 307, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(arg, withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 264, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(code.args[1], withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 268, in _compile_to_assembly\r\n    _compile_to_assembly(code.args[2], withargs, existing_labels, break_dest, height + 1,)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 268, in _compile_to_assembly\r\n    _compile_to_assembly(code.args[2], withargs, existing_labels, break_dest, height + 1,)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 268, in _compile_to_assembly\r\n    _compile_to_assembly(code.args[2], withargs, existing_labels, break_dest, height + 1,)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 307, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(arg, withargs, existing_labels, break_dest, height))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 268, in _compile_to_assembly\r\n    _compile_to_assembly(code.args[2], withargs, existing_labels, break_dest, height + 1,)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 134, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(c, withargs, existing_labels, break_dest, height + i))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 134, in _compile_to_assembly\r\n    o.extend(_compile_to_assembly(c, withargs, existing_labels, break_dest, height + i))\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 99, in apply_line_no_wrapper\r\n    ret = func(*args, **kwargs)\r\n  File \"PathToPython/lib/python3.9/site-packages/vyper/lll/compile_lll.py\", line 518, in _compile_to_assembly\r\n    raise Exception(\"Weird code element: \" + repr(code))\r\nException: Weird code element: l\r\n```\r\n</details>\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2483", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2483/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2483/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2483/events", "html_url": "https://github.com/vyperlang/vyper/issues/2483", "id": 1021782247, "node_id": "I_kwDOBGDvrM485yjn", "number": 2483, "title": "Events that take structs have malformed ABI JSON", "user": {"login": "haltman-at", "id": 35589221, "node_id": "MDQ6VXNlcjM1NTg5MjIx", "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haltman-at", "html_url": "https://github.com/haltman-at", "followers_url": "https://api.github.com/users/haltman-at/followers", "following_url": "https://api.github.com/users/haltman-at/following{/other_user}", "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions", "organizations_url": "https://api.github.com/users/haltman-at/orgs", "repos_url": "https://api.github.com/users/haltman-at/repos", "events_url": "https://api.github.com/users/haltman-at/events{/privacy}", "received_events_url": "https://api.github.com/users/haltman-at/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-09T19:05:33Z", "updated_at": "2022-02-08T13:52:41Z", "closed_at": "2022-02-08T13:52:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.0+commit.8a23feb\r\n* OS: Release Linux Mint 20.2 Uma 64-bit\r\n* Python Version (output of `python --version`): Python 3.8.10\r\n\r\n### What's your issue about?\r\n\r\nIf you declare an event that takes a struct, the ABI JSON for it will be malformed.  Note that unlike the previous encoding bug, this bug is not specific to the case where the input is just a single struct alone; all structs used as event arguments appear to exhibit this bug.  Because of this, decoding libraries will fail to decode such events.\r\n\r\nAs an example, suppose I write a contract with the following declarations:\r\n\r\n```vyper\r\nstruct Pair:\r\n    x: uint256\r\n    y: uint256\r\n\r\nevent Stuff:\r\n    pair: Pair\r\n    z: uint256\r\n```\r\n\r\nThe ABI JSON I get for this event is:\r\n\r\n```json\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": false,\r\n          \"name\": \"pair\",\r\n          \"type\": \"(uint256,uint256)\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"name\": \"z\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Stuff\",\r\n      \"type\": \"event\"\r\n    },\r\n```\r\n\r\nAs you can see, this ABI item is malformed.  The first input, rather than having type `\"tuple\"` and an appropriate `components` field, instead has the malformed type `\"(uint256,uint256)\"`.  Decoding libraries are unable to handle this.\r\n\r\nThis bug does not apply to function inputs, function outputs, or constructor inputs; those have proper ABI JSON.\r\n\r\n### How can it be fixed?\r\n\r\nGiven that structs are handled properly in the ABI JSON for functions and constructors, both on input and on output, whatever code you use for handling those can presumably be applied to event inputs as well.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2483/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2483/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2470", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2470/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2470/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2470/events", "html_url": "https://github.com/vyperlang/vyper/issues/2470", "id": 1015554623, "node_id": "I_kwDOBGDvrM48iCI_", "number": 2470, "title": "test suite fails with latest py-evm 0.5.0", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-04T19:33:35Z", "updated_at": "2022-04-15T17:50:01Z", "closed_at": "2022-04-15T17:50:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): x.x.x\r\n* OS: osx/linux/win\r\n* Python Version (output of `python --version`):\r\n\r\n### What's your issue about?\r\n\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\n* what command you ran\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n* please try running your example with the --debug flag turned on\r\n\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2459", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2459/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2459/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2459/events", "html_url": "https://github.com/vyperlang/vyper/issues/2459", "id": 999493144, "node_id": "I_kwDOBGDvrM47kw4Y", "number": 2459, "title": "_abi_encode builtin evaluates argument multiple times the argument is a complex type", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-17T15:44:03Z", "updated_at": "2021-10-04T20:17:06Z", "closed_at": "2021-10-04T20:17:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.2.16\r\n\r\n### What's your issue about?\r\n\r\n```python\r\ninterface Foo:\r\n    def get_counter() -> (uint256, String[6]): payable\r\n\r\n@external\r\ndef foo() -> Bytes[128]:\r\n    return _abi_encode(Foo(msg.sender).get_counter(), method_id=method_id(\"foo()\"))\r\n```\r\n\r\nIn the generated code the following sequence appears twice\r\n`[assert, [call, gas, caller, 0, [seq, [mstore, 320, 3932606317], 348], 4, 416, 128]]`\r\n\r\n### How can it be fixed?\r\n\r\ncommit 8f6ca4dc163e4ca5c6e6106829a6a107f299f789 contains the fix:\r\n```diff\r\ndiff --git a/vyper/old_codegen/abi.py b/vyper/old_codegen/abi.py\r\nindex 04b39797..16ae1a27 100644\r\n--- a/vyper/old_codegen/abi.py\r\n+++ b/vyper/old_codegen/abi.py\r\n@@ -414,10 +414,18 @@ def abi_encode(dst, lll_node, pos=None, bufsz=None, returns_len=False):\r\n         return LLLnode.from_list(lll_ret, pos=pos, annotation=f\"abi_encode {lll_node.typ}\")\r\n \r\n     lll_ret = [\"seq\"]\r\n+\r\n+    # contains some computation, we need to only do it once.\r\n+    is_complex_lll = lll_node.value in (\"seq\", \"seq_unchecked\")\r\n+    if is_complex_lll:\r\n+        to_encode = LLLnode.from_list(\"to_encode\", typ=lll_node.typ, location=lll_node.location, encoding=lll_node.encoding)\r\n+    else:\r\n+        to_encode = lll_node\r\n+\r\n     dyn_ofst = \"dyn_ofst\"  # current offset in the dynamic section\r\n     dst_begin = \"dst\"  # pointer to beginning of buffer\r\n     dst_loc = \"dst_loc\"  # pointer to write location in static section\r\n-    os = o_list(lll_node, pos=pos)\r\n+    os = o_list(to_encode, pos=pos)\r\n \r\n     for i, o in enumerate(os):\r\n         abi_t = abi_type_of(o.typ)\r\n@@ -477,6 +485,9 @@ def abi_encode(dst, lll_node, pos=None, bufsz=None, returns_len=False):\r\n \r\n     lll_ret = [\"with\", dst_begin, dst, [\"with\", dst_loc, dst_begin, lll_ret]]\r\n \r\n+    if is_complex_lll:\r\n+        lll_ret = [\"with\", to_encode, lll_node, lll_ret]\r\n+\r\n     return LLLnode.from_list(lll_ret, pos=pos, annotation=f\"abi_encode {lll_node.typ}\")\r\n \r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2458", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2458/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2458/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2458/events", "html_url": "https://github.com/vyperlang/vyper/issues/2458", "id": 998565873, "node_id": "I_kwDOBGDvrM47hOfx", "number": 2458, "title": "abi length is too short for nested tuples", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-16T19:39:27Z", "updated_at": "2021-10-04T20:15:39Z", "closed_at": "2021-10-04T20:15:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.2.16\r\n\r\n### What's your issue about?\r\n\r\nThe size bound for nested tuples is too small. For example abi_encode of a `((Bytes[6],),)` should have a size bound of 128, but the following compiles with no issue:\r\n```\r\nstruct WrappedBytes: # equivalent to (Bytes[6],)\r\n    bs: Bytes[6]\r\n\r\n@internal\r\ndef foo():\r\n    x: WrappedBytes = WrappedBytes({bs: b\"hello\"})\r\n    y: Bytes[96] = _abi_encode(x, ensure_tuple=True)\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\nFix the size bound estimate in vyper/old_codegen/abi.py", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2456", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2456/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2456/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2456/events", "html_url": "https://github.com/vyperlang/vyper/issues/2456", "id": 996231332, "node_id": "I_kwDOBGDvrM47YUik", "number": 2456, "title": "broken clamps in initcode", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-14T16:53:27Z", "updated_at": "2021-10-04T20:14:48Z", "closed_at": "2021-10-04T20:14:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.2.16\r\n\r\n### What's your issue about?\r\nClampers for `__init__` bytestrings use calldata (which is always 0 for constructors). In other words, they always validate the constructor arguments even if they are borked.\r\n\r\nExample contract:\r\n```python\r\nfoo: Bytes[20]\r\n\r\n@external\r\ndef __init__(x: Bytes[20]):\r\n    self.foo = x\r\n```\r\n\r\nConstructor LLL:\r\n```\r\n  [codecopy, 320, ~codelen, 32],\r\n  [codecopy, 352, [add, ~codelen, [codeload, ~codelen]], 52],\r\n  [assert, [le, [calldataload, [add, 4, [codeload, ~codelen]]], 20]], # BYTESTRING CLAMP IS HERE - always returns true\r\n  # Line 6\r\n  [with,\r\n    _pos,\r\n    352 <x>,\r\n    /* copy byte slice src: _pos dst: 0 <self.foo> */ \r\n    [with,\r\n      _pos,\r\n      _pos,\r\n      [with,\r\n        _opos,\r\n        0 <self.foo>,\r\n        [with,\r\n          _actual_len,\r\n          [add, [mload, _pos], 32],\r\n          [repeat,\r\n            288,\r\n            0,\r\n            2,\r\n            [seq,\r\n              [if, [gt, [mul, 32, [mload, 288]], _actual_len], break],\r\n              [sstore,\r\n                [add, _opos, [mload, 288]],\r\n                [mload, [add, _pos, [mul, 32, [mload, 288]]]]]]]]]]],\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2455", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2455/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2455/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2455/events", "html_url": "https://github.com/vyperlang/vyper/issues/2455", "id": 992830789, "node_id": "MDU6SXNzdWU5OTI4MzA3ODk=", "number": 2455, "title": "default functions don't respect nonreentrancy keys", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-10T02:33:40Z", "updated_at": "2021-10-04T20:14:05Z", "closed_at": "2021-10-04T20:14:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.2.16\r\n\r\nnonreentrant keys are allowed on default functions, e.g.\r\n\r\n```python\r\n@external\r\n@payable\r\n@nonreentrant(\"default\")\r\ndef __default__():\r\n    pass\r\n```\r\nbut it doesn't do anything, here's the output:\r\n```\r\n      [seq,\r\n        [if, [lt, calldatasize, 4], [goto, fallback]],\r\n        [mstore, 28, [calldataload, 0]],\r\n        [with, _func_sig, [mload, 0], seq],\r\n        [seq_unchecked,\r\n          [label, fallback],\r\n          [seq,\r\n            pass,\r\n            # Line 5\r\n            pass,\r\n            pass,\r\n            # Line 4\r\n            stop]]],\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2454", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2454/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2454/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2454/events", "html_url": "https://github.com/vyperlang/vyper/issues/2454", "id": 991481401, "node_id": "MDU6SXNzdWU5OTE0ODE0MDE=", "number": 2454, "title": "returndata is not clamped", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-08T20:01:30Z", "updated_at": "2021-10-04T20:12:16Z", "closed_at": "2021-10-04T20:12:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.2.16\r\n\r\nrelated to https://github.com/vyperlang/vyper/issues/1840 but integer types are not clamped when they are part of returndata", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2449", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2449/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2449/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2449/events", "html_url": "https://github.com/vyperlang/vyper/issues/2449", "id": 987781151, "node_id": "MDU6SXNzdWU5ODc3ODExNTE=", "number": 2449, "title": "assert message strings", "user": {"login": "benjiqq", "id": 5390515, "node_id": "MDQ6VXNlcjUzOTA1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5390515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjiqq", "html_url": "https://github.com/benjiqq", "followers_url": "https://api.github.com/users/benjiqq/followers", "following_url": "https://api.github.com/users/benjiqq/following{/other_user}", "gists_url": "https://api.github.com/users/benjiqq/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjiqq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjiqq/subscriptions", "organizations_url": "https://api.github.com/users/benjiqq/orgs", "repos_url": "https://api.github.com/users/benjiqq/repos", "events_url": "https://api.github.com/users/benjiqq/events{/privacy}", "received_events_url": "https://api.github.com/users/benjiqq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-03T13:37:51Z", "updated_at": "2021-10-25T19:05:48Z", "closed_at": "2021-10-25T19:05:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\nlatest vyper\r\n\r\n### What's your issue about?\r\n\r\nwhen I do\r\n\r\n```assert 1==1, concat(\"a\",\"b\")```\r\n\r\nI get:\r\n`vyper.exceptions.InvalidType: Reason must UNREACHABLE or a string literal`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2449/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2410", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2410/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2410/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2410/events", "html_url": "https://github.com/vyperlang/vyper/issues/2410", "id": 963347087, "node_id": "MDU6SXNzdWU5NjMzNDcwODc=", "number": 2410, "title": "line comment in last line of a function", "user": {"login": "benjiqq", "id": 5390515, "node_id": "MDQ6VXNlcjUzOTA1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5390515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjiqq", "html_url": "https://github.com/benjiqq", "followers_url": "https://api.github.com/users/benjiqq/followers", "following_url": "https://api.github.com/users/benjiqq/following{/other_user}", "gists_url": "https://api.github.com/users/benjiqq/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjiqq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjiqq/subscriptions", "organizations_url": "https://api.github.com/users/benjiqq/orgs", "repos_url": "https://api.github.com/users/benjiqq/repos", "events_url": "https://api.github.com/users/benjiqq/events{/privacy}", "received_events_url": "https://api.github.com/users/benjiqq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-08T03:43:39Z", "updated_at": "2021-08-09T22:53:32Z", "closed_at": "2021-08-09T22:53:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`):0.2.14+commit.db2606d\r\n* OS: osx\r\n* Python Version (output of `python --version`): 3.9.6\r\n\r\n### What's your issue about?\r\n\r\nif last line in a function is a comment I get this\r\n```\r\nx: public(uint256)\r\n\r\n@external\r\ndef foo(ix: uint256):\r\n    bar: uint256 = self.x\r\n    #?? throws >> ValueError: start (7,7) precedes previous end (8,0)\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nno idea", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2407", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2407/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2407/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2407/events", "html_url": "https://github.com/vyperlang/vyper/issues/2407", "id": 959066593, "node_id": "MDU6SXNzdWU5NTkwNjY1OTM=", "number": 2407, "title": "test fail with web3.py 5.21.0", "user": {"login": "benjiqq", "id": 5390515, "node_id": "MDQ6VXNlcjUzOTA1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5390515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjiqq", "html_url": "https://github.com/benjiqq", "followers_url": "https://api.github.com/users/benjiqq/followers", "following_url": "https://api.github.com/users/benjiqq/following{/other_user}", "gists_url": "https://api.github.com/users/benjiqq/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjiqq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjiqq/subscriptions", "organizations_url": "https://api.github.com/users/benjiqq/orgs", "repos_url": "https://api.github.com/users/benjiqq/repos", "events_url": "https://api.github.com/users/benjiqq/events{/privacy}", "received_events_url": "https://api.github.com/users/benjiqq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-03T12:28:56Z", "updated_at": "2021-11-04T00:31:37Z", "closed_at": "2021-11-04T00:31:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): latest master (cff69d63)\r\n* OS: macos\r\n* Python Version (output of `python --version`): 3.9.6\r\n\r\n### What's your issue about?\r\n\r\ntests fail\r\n\r\ntests/cli/vyper_json/test_parse_args_vyperjson.py::test_pretty_json - json.decoder.J...\r\nFAILED tests/cli/vyper_json/test_parse_args_vyperjson.py::test_to_stdout - json.decoder.JSO...\r\nFAILED tests/parser/features/test_assert.py::test_assert_reason[False] - AssertionError: as...\r\nFAILED tests/parser/features/test_assert.py::test_assest_reason_revert\r\n\r\nmisses the string \"execution reverted\"\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2407/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2374", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2374/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2374/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2374/events", "html_url": "https://github.com/vyperlang/vyper/issues/2374", "id": 931720614, "node_id": "MDU6SXNzdWU5MzE3MjA2MTQ=", "number": 2374, "title": "Code calling external contract using interface causes compilation error: Interface parameter default value not applied", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-06-28T15:58:35Z", "updated_at": "2021-11-10T19:38:04Z", "closed_at": "2021-11-10T19:38:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.12\r\n* OS: linux,ubuntu 20.*\r\n* Python Version (output of `python --version`): 3.8.5\r\n* Environment (output of `pip freeze`): attached as popsicle.txt\r\n[popsicle.txt](https://github.com/vyperlang/vyper/files/6727496/popsicle.txt)\r\n\r\n\r\n### What's your issue about?\r\nI define an interface with a default value for one of the parameters like:\r\n```\r\ninterface myInterface:\r\n   def function1 (param1: uint256, param2: uint256=10) -> uint256:\r\n```\r\nThis default value is not applied when omitting the parameter with the default value, like param2 in this example.\r\n\r\nPlease note: \r\nI am unaware whether I can actually pass default values in the interface definition.\r\nThis is an assumption I made because I do this in python all the time. I could not figure it out using the vyper documentation.\r\n\r\n* full output of the error you received*\r\n```vyper.exceptions.TypeCheckFailure: \r\npack_arguments did not return a value \r\nThis is an unhandled internal compiler error. \r\n\r\nPlease create an issue on Github to notify the developers. \r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md \r\n\r\nCompilation of /home/ethbox/Vyper-Main/VyperTest-002/contracts/interfaceError.vy failed.\r\n```\r\n\r\n* what command you ran\r\nI use the tintinweb vyper extension in VScode, which calls vyper to compile. It auto compiles when saving the file\r\n\r\n* the code that caused the failure\r\nin this example I omit the second argument. passing 5,10 as arguments when calling the function will  result in successful compilation\r\n```\r\n# @version >=0.2.12\r\nexternalContract: address \r\n\r\ninterface myInterface:\r\n    def function1(param1: uint256, param2: uint256=10) -> uint256: nonpayable\r\n\r\n@internal\r\ndef callExternalContract() : \r\n    externalContract: address =  ZERO_ADDRESS\r\n    param1:uint256 = 5\r\n    param2:uint256 = 10\r\n    \r\n    result: uint256 = 0\r\n\r\n    # use the interface by passing 1 of the 2 arguments, assuming the default value \"param2:uint256 = 10\" will be passed\r\n    result = myInterface(externalContract).function1(5)\r\n```\r\n\r\nedits: styling and adding a bit of info\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2359", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2359/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2359/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2359/events", "html_url": "https://github.com/vyperlang/vyper/issues/2359", "id": 864155990, "node_id": "MDU6SXNzdWU4NjQxNTU5OTA=", "number": 2359, "title": "Can't import interface using structs", "user": {"login": "ElianaTroper", "id": 35941672, "node_id": "MDQ6VXNlcjM1OTQxNjcy", "avatar_url": "https://avatars.githubusercontent.com/u/35941672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElianaTroper", "html_url": "https://github.com/ElianaTroper", "followers_url": "https://api.github.com/users/ElianaTroper/followers", "following_url": "https://api.github.com/users/ElianaTroper/following{/other_user}", "gists_url": "https://api.github.com/users/ElianaTroper/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElianaTroper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElianaTroper/subscriptions", "organizations_url": "https://api.github.com/users/ElianaTroper/orgs", "repos_url": "https://api.github.com/users/ElianaTroper/repos", "events_url": "https://api.github.com/users/ElianaTroper/events{/privacy}", "received_events_url": "https://api.github.com/users/ElianaTroper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-21T18:29:18Z", "updated_at": "2021-08-06T01:49:52Z", "closed_at": "2021-08-06T01:49:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.12+commit.2c6842c\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.5\r\n* Environment (output of `pip freeze`):\r\n```\r\nasttokens==2.0.4\r\npycryptodome==3.10.1\r\nsemantic-version==2.8.5\r\nsix==1.15.0\r\nvyper==0.2.12\r\n```\r\n\r\n### What's your issue about?\r\n\r\nCan't import an interface if it uses structs. Simple example:\r\n\r\nfoo.vy:\r\n```\r\nstruct Widget:\r\n        name: String[8]\r\n        count: uint256\r\n\r\nwidget: Widget\r\n\r\n@external\r\ndef show() -> (String[8], uint256):\r\n        return (self.widget.name, self.widget.count)\r\n\r\n@external\r\ndef __init__():\r\n        self.widget = Widget({\r\n                name: \"thing\",\r\n                count: 1\r\n        })\r\n```\r\nbar.vy\r\n```\r\nimport foo as Foo\r\n\r\n@external\r\ndef __init__():\r\n        pass\r\n```\r\n\r\nThrow both in the same dir.\r\n\r\n`vyper foo.vy` results in a successful compilation\r\n\r\n`vyper bar.vy` results in:\r\n```\r\nError compiling: bar.vy\r\nvyper.exceptions.InvalidType: Invalid base type: Widget\r\n  contract \"Foo\", line 5:8 \r\n       4\r\n  ---> 5 widget: Widget\r\n  ---------------^\r\n       6\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nHaven't spent time fixing yet", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2342", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2342/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2342/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2342/events", "html_url": "https://github.com/vyperlang/vyper/issues/2342", "id": 849743102, "node_id": "MDU6SXNzdWU4NDk3NDMxMDI=", "number": 2342, "title": "Compare node did not produce LLL exception occuring during convert() function call", "user": {"login": "liam-ot", "id": 48032728, "node_id": "MDQ6VXNlcjQ4MDMyNzI4", "avatar_url": "https://avatars.githubusercontent.com/u/48032728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liam-ot", "html_url": "https://github.com/liam-ot", "followers_url": "https://api.github.com/users/liam-ot/followers", "following_url": "https://api.github.com/users/liam-ot/following{/other_user}", "gists_url": "https://api.github.com/users/liam-ot/gists{/gist_id}", "starred_url": "https://api.github.com/users/liam-ot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liam-ot/subscriptions", "organizations_url": "https://api.github.com/users/liam-ot/orgs", "repos_url": "https://api.github.com/users/liam-ot/repos", "events_url": "https://api.github.com/users/liam-ot/events{/privacy}", "received_events_url": "https://api.github.com/users/liam-ot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-03T21:27:57Z", "updated_at": "2021-04-27T15:15:26Z", "closed_at": "2021-04-26T18:58:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "vyper version: 0.2.8+commit.069936f\r\n\r\n```\r\n# @version ^0.2.0\r\n\r\n#decentralized loan contract\r\n#created by BitcoinBoy\r\n#currently works with ether only, could be outfitted to accept NFT's as collateral\r\n\r\n#1. loaner opens loan by depositing any non-negative, non-zero amount which is avilable to anyone with the \r\n#       amount of collateral required, which is set by the loaner\r\n#2. if loan is accepted, borrower must lock the collateral into the escrow\r\n#3. if loan is paid back before termination date, the collateral is released to the borrower and the \r\n#       loan + interest is paid to the loaner\r\n#4. if loan is not paid back before termination date, the collateral and any interest paid is released to the loaner\r\n#5. if loan is not accepted, borrower may terminate their own loan\r\n\r\nMAX_INTEREST: constant(decimal) = 100.0\r\n\r\nloanValue: uint256 #amount being loaned\r\ncollateral: uint256 #amount required to receive loan\r\ntermination: uint256 #date at which the loan must be paid back at risk of losing collateral, set by loaner\r\nopened: uint256 #date loan opened\r\ninterestFrequency: uint256 #duration between each interest rate fee\r\nlastInterest: uint256 #number of blocks since last interest rate fee\r\ninterestOwed: decimal #the interest accumulated by the borrower as time approaches the termination date\r\ninterest: decimal #interest rate on the loan, set by loaner\r\nloaner: address #person originating the loan capital\r\nborrower: address #person taking out loan\r\n\r\nevent loanAccepted:             #fires when the loan has been successfully accepted\r\n    borrower: indexed(address)\r\n    interest: indexed(decimal)\r\n    termination: indexed(uint256)\r\n\r\n@external\r\n@payable\r\ndef __init__(_collateral:uint256, _interest:decimal, _termination:uint256, _frequnecy:uint256):\r\n    assert msg.value > 0, 'Loan value must be greater than zero' #check for negative or zero loan value\r\n    assert _collateral > 0, 'Loan value must be greater than zero' #check for negative or zero collateral value\r\n    assert _interest % MAX_INTEREST <= 1.0, 'Interest rate may not be > 100.0%' #check for interest > 100.0%\r\n    assert _termination > block.timestamp, 'Termination date must take place after current date' #check for past termination date\r\n\r\n    self.loanValue = msg.value #set loan value\r\n    self.collateral = _collateral #set collateral value\r\n    self.interest = _interest #set interest value\r\n    self.termination = _termination #set termination date\r\n    self.interestOwed = 0.0 #set zero interest owed\r\n    self.interestFrequency = _frequnecy #set interest rate frequency\r\n\r\n    self.loaner = msg.sender #set loaner address\r\n    self.borrower = empty(address) #set borower address to empty\r\n\r\n@external\r\n@payable\r\ndef accept():\r\n    assert msg.value == self.collateral, 'Value sent must equal collateral specified' #check if amount sent is equal to collateral\r\n    assert self.borrower ==  empty(address), 'Loan has already been accepted' #check that loan does not already have a borrower\r\n\r\n    self.lastInterest = 0\r\n\r\n    send(msg.sender, self.loanValue)\r\n\r\n@external\r\n@payable\r\ndef applyInterest():\r\n    assert self.lastInterest == self.interestFrequency, 'Too soon to apply fee'\r\n\r\n    self.interestOwed += self.interest * convert(self.loanValue, decimal)\r\n```\r\n\r\nerror is occuring on the verrsion pragma line\r\n\r\nfull error code:\r\n```\r\nvyper.exceptions.TypeCheckFailure: Compare node did not produce LLLvyper.exceptions.TypeCheckFailure: Compare node did not produce LLL\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n\r\nCompilation of /Users/mac/hackathon/contracts/Loan.vy failed. See above.\r\n```\r\n\r\nno idea what is causing this error, initally believed it to be the convert() call on the last line but changing all `decimal` vars to `uint256` vars did not resolve the error", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2329", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2329/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2329/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2329/events", "html_url": "https://github.com/vyperlang/vyper/issues/2329", "id": 820560910, "node_id": "MDU6SXNzdWU4MjA1NjA5MTA=", "number": 2329, "title": "Cannot access `.balance` of address constants", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-03T02:16:45Z", "updated_at": "2021-11-11T20:22:45Z", "closed_at": "2021-11-11T20:22:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\nIf I try to cal the `balance` attribute of an address constant\r\n```python\r\nADDR: constant(address) = 0x000000000000000000000000000000000000dEaD\r\n\r\n@external\r\ndef foo() -> uint256:\r\n    return ADDR.balance\r\n```\r\n\r\nI get an unhandled typing exception\r\n```python\r\n...\r\n~/.pyenv/versions/3.8.5/lib/python3.8/site-packages/vyper/parser/expr.py in __init__(self, node, context)\r\n    201         self.lll_node = fn()\r\n    202         if self.lll_node is None:\r\n--> 203             raise TypeCheckFailure(f\"{type(node).__name__} node did not produce LLL\")\r\n    204 \r\n    205     def parse_Int(self):\r\n\r\nTypeCheckFailure: Name node did not produce LLL\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2259", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2259/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2259/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2259/events", "html_url": "https://github.com/vyperlang/vyper/issues/2259", "id": 768402205, "node_id": "MDU6SXNzdWU3Njg0MDIyMDU=", "number": 2259, "title": "Upgrade to web3py 5.13.1+", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554965, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjU=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-16T02:57:31Z", "updated_at": "2021-10-06T06:38:04Z", "closed_at": "2021-10-06T06:38:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\nweb3py v5.13.1 introduced a breaking change that affected the error classes emitted during failed calls. (See https://github.com/ethereum/web3.py/pull/1809 for more information)\r\n\r\n### How can it be fixed?\r\nUpgrade to the result of whatever fix is applied for the issue mentioned above.\r\n\r\nIt is entirely in the test suite, specifically the `assert_tx_failed` fixture", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2251", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2251/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2251/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2251/events", "html_url": "https://github.com/vyperlang/vyper/issues/2251", "id": 760880049, "node_id": "MDU6SXNzdWU3NjA4ODAwNDk=", "number": 2251, "title": "Can't call an internal function from constructor", "user": {"login": "banteg", "id": 4562643, "node_id": "MDQ6VXNlcjQ1NjI2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4562643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/banteg", "html_url": "https://github.com/banteg", "followers_url": "https://api.github.com/users/banteg/followers", "following_url": "https://api.github.com/users/banteg/following{/other_user}", "gists_url": "https://api.github.com/users/banteg/gists{/gist_id}", "starred_url": "https://api.github.com/users/banteg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/banteg/subscriptions", "organizations_url": "https://api.github.com/users/banteg/orgs", "repos_url": "https://api.github.com/users/banteg/repos", "events_url": "https://api.github.com/users/banteg/events{/privacy}", "received_events_url": "https://api.github.com/users/banteg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-10T04:33:08Z", "updated_at": "2021-09-17T04:25:12Z", "closed_at": "2021-09-17T04:25:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.8\r\n* OS: osx\r\n* Python Version (output of `python --version`): 3.8.2\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\n\r\n```python\r\n@internal\r\ndef initialize():\r\n    ...\r\n\r\n@external\r\ndef __init__():\r\n    self.initialize()\r\n```\r\n\r\n```\r\nCompiling contracts...\r\n  Vyper version: 0.2.8\r\nUnhandled exception in 'contracts/Vault.vy':\r\nFunctionDeclarationException: Function not declared yet (reminder: functions cannot call functions later in code than themselves): initialize\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nAllow calling internal functions from constructor.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2251/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2250", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2250/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2250/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2250/events", "html_url": "https://github.com/vyperlang/vyper/issues/2250", "id": 760672872, "node_id": "MDU6SXNzdWU3NjA2NzI4NzI=", "number": 2250, "title": "IndexError: list index out of range", "user": {"login": "JhonnyJason", "id": 5329953, "node_id": "MDQ6VXNlcjUzMjk5NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5329953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JhonnyJason", "html_url": "https://github.com/JhonnyJason", "followers_url": "https://api.github.com/users/JhonnyJason/followers", "following_url": "https://api.github.com/users/JhonnyJason/following{/other_user}", "gists_url": "https://api.github.com/users/JhonnyJason/gists{/gist_id}", "starred_url": "https://api.github.com/users/JhonnyJason/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JhonnyJason/subscriptions", "organizations_url": "https://api.github.com/users/JhonnyJason/orgs", "repos_url": "https://api.github.com/users/JhonnyJason/repos", "events_url": "https://api.github.com/users/JhonnyJason/events{/privacy}", "received_events_url": "https://api.github.com/users/JhonnyJason/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-09T21:07:05Z", "updated_at": "2021-10-22T23:11:43Z", "closed_at": "2021-10-22T23:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.8+commit.069936f\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.9.0\r\n* Environment (output of `pip freeze`):\r\n```\r\nalabaster==0.7.12\r\nappdirs==1.4.4\r\nasn1crypto==1.4.0\r\nasttokens==2.0.4\r\nBabel==2.8.1\r\nbackcall==0.2.0\r\nBrlapi==0.8.0\r\nbtrfsutil==5.9\r\nCacheControl==0.12.6\r\ncertifi==2020.6.20\r\ncffi==1.14.4\r\nchardet==3.0.4\r\ncolorama==0.4.4\r\ncontextlib2==0.6.0.post1\r\ncryptography==3.2.1\r\ncvxopt==1.2.5\r\ncycler==0.10.0\r\ncypari2==2.1.2\r\ncysignals==1.10.2\r\ndecorator==4.4.2\r\ndistlib==0.3.1\r\ndistro==1.5.0\r\ndocutils==0.16\r\nfilelock==3.0.12\r\nfpylll==0.5.2.dev0\r\nfuture==0.18.2\r\ngmpy2==2.1.0b5\r\nhtml5lib==1.1\r\nidna==2.10\r\nimagesize==1.2.0\r\nipython==7.19.0\r\nipython-genutils==0.1.0\r\njedi==0.17.2\r\nJinja2==2.11.2\r\nkiwisolver==1.3.1\r\nlensfun==0.3.95\r\nlouis==3.15.0\r\nMarkupSafe==1.1.1\r\nmatplotlib==3.3.3\r\nmpmath==1.1.0\r\nmsgpack==1.0.0\r\nnetworkx==2.5\r\nnumpy==1.19.4\r\nordered-set==4.0.2\r\npackaging==20.7\r\nparso==0.7.1\r\npep517==0.9.1\r\npexpect==4.8.0\r\npickleshare==0.7.5\r\nPillow==8.0.1\r\npipenv==2020.11.15\r\nply==3.11\r\npplpy==0.8.4\r\nprogress==1.5\r\nprompt-toolkit==3.0.8\r\npsutil==5.7.3\r\nptyprocess==0.6.0\r\npycparser==2.20\r\npycryptodome==3.9.9\r\nPygments==2.7.2\r\npyOpenSSL==20.0.0\r\npyparsing==2.4.7\r\npython-dateutil==2.8.1\r\npytz==2020.4\r\nrequests==2.25.0\r\nresolvelib==0.5.2\r\nretrying==1.3.3\r\nrpy2==3.3.6\r\nsage==9.2\r\nscipy==1.5.4\r\nsemantic-version==2.8.5\r\nsix==1.15.0\r\nsnowballstemmer==2.0.0\r\nSphinx==3.3.1\r\nsphinxcontrib-applehelp==1.0.2\r\nsphinxcontrib-devhelp==1.0.2\r\nsphinxcontrib-htmlhelp==1.0.3\r\nsphinxcontrib-jsmath==1.0.1\r\nsphinxcontrib-qthelp==1.0.3\r\nsphinxcontrib-serializinghtml==1.1.4\r\nsympy==1.7\r\ntoml==0.10.2\r\ntraitlets==4.3.3\r\ntzlocal==2.1\r\nurllib3==1.25.10\r\nvirtualenv==20.2.0\r\nvirtualenv-clone==0.5.4\r\nvyper==0.2.8\r\nwcwidth==0.2.5\r\nwebencodings==0.5.1\r\n```\r\n\r\n### What's your issue about?\r\nFollowing code produces this Compile Error and it fails to compile: `IndexError: list index out of range`\r\n\r\n```vyper\r\n# @version ^0.2.8\r\n\r\nINITIAL_MINTABLE_PRO_ETH: constant(uint256) = 666\r\nINITIAL_MINT_CEILING: constant(uint256) = 100000000000000000000000 #100k\r\n\r\n############################################################\r\nstruct Parameters:\r\n    mintableProETH: Bytes[2]\r\n    mintCeiling: Bytes[15]\r\n\r\n############################################################\r\nparams: Parameters\r\n\r\n############################################################\r\n@external\r\ndef __init__():\r\n    self.params.mintableProETH = slice(convert(INITIAL_MINTABLE_PRO_ETH, bytes32), 30, 2)\r\n    self.params.mintCeiling = slice(convert(INITIAL_MINT_CEILING, bytes32), 17, 15)\r\n   ## This also fails in the same way\r\n   #  self.params.mintableProETH = slice(convert(666, bytes32), 30, 2)\r\n   #  self.params.mintCeiling = slice(convert(100000000000000000000000, bytes32), 17, 15)\r\n\r\n```\r\n\r\n### How can it be fixed?\r\nI don't know what really is the cause of this. I do have a workaround though.\r\n```vyper\r\nINITIAL_MINTABLE_PRO_ETH: constant(Bytes[2]) = 0x029a # 666 -> hex\r\nINITIAL_MINT_CEILING: constant(Bytes[15]) = 0x152d02c7e14af6800000 # 100k -> hex\r\n\r\n############################################################\r\nstruct Parameters:\r\n    mintableProETH: Bytes[2]\r\n    mintCeiling: Bytes[15]\r\n\r\n############################################################\r\nparams: Parameters\r\n\r\n############################################################\r\n@external\r\ndef __init__(_name: String[26], _symbol: String[6]):\r\n    self.params.mintableProETH = INITIAL_MINTABLE_PRO_ETH\r\n    self.params.mintCeiling = INITIAL_MINT_CEILING\r\n```\r\n\r\nCheers!", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2250/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2237", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2237/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2237/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2237/events", "html_url": "https://github.com/vyperlang/vyper/issues/2237", "id": 753611964, "node_id": "MDU6SXNzdWU3NTM2MTE5NjQ=", "number": 2237, "title": "CompilerPanic caused by using String[64] directly as HashMap key", "user": {"login": "picked-a-username", "id": 75254863, "node_id": "MDQ6VXNlcjc1MjU0ODYz", "avatar_url": "https://avatars.githubusercontent.com/u/75254863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/picked-a-username", "html_url": "https://github.com/picked-a-username", "followers_url": "https://api.github.com/users/picked-a-username/followers", "following_url": "https://api.github.com/users/picked-a-username/following{/other_user}", "gists_url": "https://api.github.com/users/picked-a-username/gists{/gist_id}", "starred_url": "https://api.github.com/users/picked-a-username/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/picked-a-username/subscriptions", "organizations_url": "https://api.github.com/users/picked-a-username/orgs", "repos_url": "https://api.github.com/users/picked-a-username/repos", "events_url": "https://api.github.com/users/picked-a-username/events{/privacy}", "received_events_url": "https://api.github.com/users/picked-a-username/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-30T16:16:48Z", "updated_at": "2020-12-03T16:45:38Z", "closed_at": "2020-12-03T16:45:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.7\r\n* OS: OSX 10.15.6 (19G2021)\r\n* Python Version (output of `python --version`): 3.6.8\r\n\r\n### What's your issue about?\r\n\r\nFull Error:\r\n\r\n  >Error compiling: test.vy\r\n  >vyper.exceptions.CompilerPanic: Number of arguments mismatched: add []\r\n  >\r\n  >This is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\n  >https://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n\r\n* what command you ran? `vyper test.vy`\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n\r\n```\r\nstruct Thing:\r\n    name: String[64]\r\n\r\nindexToThing: public(HashMap[uint256, Thing])\r\nNameToStatus: public(HashMap[String[64], bool])\r\n\r\n@external\r\ndef foo(_index: uint256):\r\n    \r\n    self.NameToStatus[self.indexToThing[_index].name] = True\r\n    self.indexToThing[_index] = empty(Thing)\r\n    \r\n```\r\n\r\n### Detailed steps to reproduce the issue\r\nSave the code above as test.vy and run `vyper test.vy` to reproduce the issue.\r\n### What was the result of the issue\r\nThe program failed to compile.\r\n### What the expected behaviour is\r\nIt is expected to compile successfully.\r\n\r\n\r\n### Temporary Fix\r\n\r\nI stored `self.indexToThing[_index].name` in a variable and then used the variable as the key for self.NameToStatus instead of directly using `self.indexToThing[_index].name`\r\nWorking code:\r\n\r\n```\r\nstruct Thing:\r\n    name: String[64]\r\n\r\nindexToThing: public(HashMap[uint256, Thing])\r\nNameToStatus: public(HashMap[String[64], bool])\r\n\r\n\r\n@external\r\ndef foo(_index: uint256):\r\n    \r\n    name: String[64] = self.indexToItem[_index].name\r\n    self.NameToStatus[name] = True\r\n    self.indexToThing[_index] = empty(Thing)\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2223", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2223/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2223/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2223/events", "html_url": "https://github.com/vyperlang/vyper/issues/2223", "id": 749781641, "node_id": "MDU6SXNzdWU3NDk3ODE2NDE=", "number": 2223, "title": "Unhandled error in my code", "user": {"login": "domrany64", "id": 36277002, "node_id": "MDQ6VXNlcjM2Mjc3MDAy", "avatar_url": "https://avatars.githubusercontent.com/u/36277002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domrany64", "html_url": "https://github.com/domrany64", "followers_url": "https://api.github.com/users/domrany64/followers", "following_url": "https://api.github.com/users/domrany64/following{/other_user}", "gists_url": "https://api.github.com/users/domrany64/gists{/gist_id}", "starred_url": "https://api.github.com/users/domrany64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domrany64/subscriptions", "organizations_url": "https://api.github.com/users/domrany64/orgs", "repos_url": "https://api.github.com/users/domrany64/repos", "events_url": "https://api.github.com/users/domrany64/events{/privacy}", "received_events_url": "https://api.github.com/users/domrany64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-24T14:59:48Z", "updated_at": "2020-11-27T13:13:00Z", "closed_at": "2020-11-27T13:13:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4\r\n* Compiler: online (not local)\r\n\r\n### What's your issue about?\r\n\r\nI have the code below for one of my assignments which gives an unhandled error.\r\n```\r\n# @version ^0.2.4\r\nowner: public(address)\r\ntarget: public(uint256)\r\nendTime: public(uint256)\r\n\r\nIdx: public(uint256)\r\nstruct Contributor:\r\n    userAddress: address\r\n    contribution: uint256\r\ncontributors: Contributor[100]\r\n\r\n@external\r\n@payable\r\ndef __init__(_target: uint256, _duration: uint256):\r\n    self.owner = msg.sender\r\n    self.target = _target\r\n    self.endTime = block.timestamp + _duration\r\n\r\n@external\r\n@payable\r\ndef contribute():\r\n    assert block.timestamp < self.endTime, \"Time to contribute is up!\"\r\n    self.contributors[self.Idx] = Contributor({userAddress: msg.sender, contribution: msg.value})\r\n    self.Idx = self.Idx + 1\r\n    \r\n@external\r\ndef collect():\r\n    assert self.balance >= self.target, \"Target is not met, yet!\"\r\n    assert msg.sender == self.owner, \"Only the owner can collect the fund.\"\r\n    selfdestruct(self.owner)\r\n    \r\n@external\r\ndef refund():\r\n    assert block.timestamp > self.endTime, \"Money won't be refunded within the contract duration.\"\r\n    assert self.balance < self.target, \"Target is met and the fund is waiting to be collected.\"\r\n    for contributor in self.contributors:\r\n        send(contributor.userAddress,contributor.contribution)\r\n\r\n@view\r\n@external\r\ndef show_balance()-> uint256: \r\n    return self.balance\r\n```\r\nRemix won't return anything useful. Using etherscan online compiler I see this:\r\n```\r\nErr. RefID: vyper-in-bMRb4j8v94XWZgU.vy\r\nvyper.exceptions.TypeCheckFailure: Statement node did not produce LLL\r\n\r\nThis is an unhandled internal compiler error. Please create an issue on Github to notify the developers.\r\nhttps://github.com/vyperlang/vyper/issues/new?template=bug.md\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\nI haven't found the issue of my code, yet!", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2218", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2218/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2218/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2218/events", "html_url": "https://github.com/vyperlang/vyper/issues/2218", "id": 740131615, "node_id": "MDU6SXNzdWU3NDAxMzE2MTU=", "number": 2218, "title": "no support for `not in` comparator", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-10T18:10:04Z", "updated_at": "2020-11-28T00:07:53Z", "closed_at": "2020-11-28T00:07:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.2.7`\r\n* Python Version (output of `python --version`): `3.8.5`\r\n\r\n### What's your issue about?\r\nThe `not in` comparator is not supported. The following fails to compile with a `SyntaxException`:\r\n\r\n```python\r\n@external\r\ndef foo(a: address[3]):\r\n    if self not in a:\r\n        pass\r\n```\r\n\r\nHowever, the desired behavior is possible by instead using the `not` unary operator with the `in` comparator. The following example compiles:\r\n\r\n```python\r\n@external\r\ndef foo(a: address[3]):\r\n    if not self in a:\r\n        pass\r\n```\r\n\r\n\r\n### How can it be fixed?\r\nAdd support for `not in`.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2217", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2217/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2217/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2217/events", "html_url": "https://github.com/vyperlang/vyper/issues/2217", "id": 740129024, "node_id": "MDU6SXNzdWU3NDAxMjkwMjQ=", "number": 2217, "title": "Cannot use `in` comparator with literal uint256", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-10T18:05:54Z", "updated_at": "2021-10-06T07:36:14Z", "closed_at": "2021-10-06T07:36:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.2.7`\r\n* Python Version (output of `python --version`): `3.8.5`\r\n\r\n### What's your issue about?\r\nAttempting to use the `in` comparator with a `uint256` array, where the test value is a literal that could also be interpreted as `int128`, raises a `CompilerPanic`:\r\n\r\n```python\r\n@external\r\ndef foo():\r\n    a: uint256[2] = [1,2]\r\n    if 0 in a:\r\n        pass\r\n```\r\n\r\nThe contract compiles if you change `0` to `2**127`.\r\n\r\n\r\n### How can it be fixed?\r\nThere must be an assumption within `parser` that the literal is `int128` if it fits within the bounds.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2217/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 2, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2216", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2216/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2216/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2216/events", "html_url": "https://github.com/vyperlang/vyper/issues/2216", "id": 737231296, "node_id": "MDU6SXNzdWU3MzcyMzEyOTY=", "number": 2216, "title": "Non-checksummed address within literal array produces unexpected error", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-05T20:06:43Z", "updated_at": "2020-11-27T17:16:41Z", "closed_at": "2020-11-27T17:16:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using a non-checksummed address within a literal address array produces an incorrect and hard-to-grok error:\r\n\r\nExample contract:\r\n\r\n```python\r\nfoo: constant(address[1]) = [0x6b175474e89094c44da98b954eedeac495271d0f]\r\n```\r\n\r\nException:\r\n\r\n```python\r\nOverflowException: Numeric literal is outside of allowable range for number types\r\n       3\r\n  ---> 4 foo: constant(address[1]) = [0x6b175474e89094c44da98b954eedeac495271d0f]\r\n  ------------------------------------^\r\n       5\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2216/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2215", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2215/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2215/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2215/events", "html_url": "https://github.com/vyperlang/vyper/issues/2215", "id": 737209477, "node_id": "MDU6SXNzdWU3MzcyMDk0Nzc=", "number": 2215, "title": "Cannot convert directly from uint256 to address", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-05T19:31:05Z", "updated_at": "2020-11-28T00:07:19Z", "closed_at": "2020-11-28T00:07:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It is not possible to convert directly from `uint256` to `address`.  The following code raises a `TypeMismatch`:\r\n\r\n```python\r\nfoo: uint256 = 0\r\nfoo_address: address = convert(foo, address)\r\n```\r\n\r\nHowever, the conversion is possible if you use `bytes32` as an intermediary type:\r\n\r\n```python\r\nfoo: uint256 = 0\r\nfoo_address: address = convert(convert(foo, bytes32), address)\r\n```\r\n\r\nThis feels unnecessarily verbose, it should be possible to perform the conversion directly.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2215/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2215/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2213", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2213/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2213/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2213/events", "html_url": "https://github.com/vyperlang/vyper/issues/2213", "id": 733779349, "node_id": "MDU6SXNzdWU3MzM3NzkzNDk=", "number": 2213, "title": "Docs Broken Link", "user": {"login": "kaleb-keny", "id": 62237347, "node_id": "MDQ6VXNlcjYyMjM3MzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/62237347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleb-keny", "html_url": "https://github.com/kaleb-keny", "followers_url": "https://api.github.com/users/kaleb-keny/followers", "following_url": "https://api.github.com/users/kaleb-keny/following{/other_user}", "gists_url": "https://api.github.com/users/kaleb-keny/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleb-keny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleb-keny/subscriptions", "organizations_url": "https://api.github.com/users/kaleb-keny/orgs", "repos_url": "https://api.github.com/users/kaleb-keny/repos", "events_url": "https://api.github.com/users/kaleb-keny/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleb-keny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 895812894, "node_id": "MDU6TGFiZWw4OTU4MTI4OTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/documentation", "name": "documentation", "color": "fcbdea", "default": true, "description": "Documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-31T18:19:42Z", "updated_at": "2020-11-27T22:40:04Z", "closed_at": "2020-11-27T22:40:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, found a broken link in the docs under https://vyper.readthedocs.io/en/stable/structure-of-a-contract.html referring to https://vyper.readthedocs.io/en/stable/scoping ", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2213/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2200", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2200/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2200/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2200/events", "html_url": "https://github.com/vyperlang/vyper/issues/2200", "id": 723138616, "node_id": "MDU6SXNzdWU3MjMxMzg2MTY=", "number": 2200, "title": "Cannot use `slice` on `bytes32` in calldata", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-16T11:29:54Z", "updated_at": "2020-11-27T13:10:35Z", "closed_at": "2020-11-27T13:10:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.7\r\n* Python Version (output of `python --version`): ubuntu\r\n\r\n### What's your issue about?\r\nAttempting to use `slice` on a calldata `bytes32` variable raises `CompilerPanic`:\r\n\r\n```python\r\n  File \"vyper/parser/expr.py\", line 884, in parse_Call\r\n    return DISPATCH_TABLE[function_name].build_LLL(self.expr, self.context)\r\n  File \"vyper/functions/signatures.py\", line 174, in decorator_fn\r\n    return wrapped_fn(self, node, subs, kwsubs, context)\r\n  File \"vyper/functions/functions.py\", line 279, in build_LLL\r\n    copier = make_byte_slice_copier(\r\n  File \"vyper/parser/parser_utils.py\", line 178, in make_byte_slice_copier\r\n    raise CompilerPanic(f\"Unsupported location: {source.location}\")\r\nCompilerPanic: Unsupported location: calldata\r\n```\r\n\r\nThe issue is not present when slicing calldata `Bytes` or `String`.\r\n\r\n### How can it be fixed?\r\nShould be fairly straightforward to add support for calldata in `functions/functions.py`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2183", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2183/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2183/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2183/events", "html_url": "https://github.com/vyperlang/vyper/issues/2183", "id": 716484585, "node_id": "MDU6SXNzdWU3MTY0ODQ1ODU=", "number": 2183, "title": "Incorrect output while passing multi-dimensional array as argument", "user": {"login": "saikat041", "id": 19255785, "node_id": "MDQ6VXNlcjE5MjU1Nzg1", "avatar_url": "https://avatars.githubusercontent.com/u/19255785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saikat041", "html_url": "https://github.com/saikat041", "followers_url": "https://api.github.com/users/saikat041/followers", "following_url": "https://api.github.com/users/saikat041/following{/other_user}", "gists_url": "https://api.github.com/users/saikat041/gists{/gist_id}", "starred_url": "https://api.github.com/users/saikat041/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saikat041/subscriptions", "organizations_url": "https://api.github.com/users/saikat041/orgs", "repos_url": "https://api.github.com/users/saikat041/repos", "events_url": "https://api.github.com/users/saikat041/events{/privacy}", "received_events_url": "https://api.github.com/users/saikat041/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-07T12:28:04Z", "updated_at": "2020-10-08T15:26:50Z", "closed_at": "2020-10-08T15:26:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.2.4+commit.14327e9\r\n* OS: linux\r\n* Python Version: 3.6.9\r\n\r\n### What's your issue about?\r\nWhen we pass a multi-dimensional array like [[1, 2]] as an argument to internal/external functions we get incorrect output.\r\nThe following test case fails:\r\n```\r\ndef test_multiple_dim_array_as_argument(get_contract):\r\n    code = \"\"\"\r\n@internal\r\ndef test_input(arr: int128[2][1], i: int128) -> (int128[2][1], int128):\r\n    return arr, i\r\n\r\n@external\r\ndef test_values(arr: int128[2][1], i: int128) -> (int128[2][1], int128):\r\n    return self.test_input(arr, i)\r\n    \"\"\"\r\n\r\n    c = get_contract(code)\r\n    assert c.test_values([[1, 2]], 3) == [[[1, 2]], 3]\r\n```\r\n\r\n### How can it be fixed?\r\nWorking on it", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2183/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2163", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2163/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2163/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2163/events", "html_url": "https://github.com/vyperlang/vyper/issues/2163", "id": 707405783, "node_id": "MDU6SXNzdWU3MDc0MDU3ODM=", "number": 2163, "title": "Issue generating AST from bytes literal", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-23T14:15:27Z", "updated_at": "2020-11-27T23:12:38Z", "closed_at": "2020-11-27T23:12:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Originally reported by @banteg at https://github.com/eth-brownie/brownie/issues/771\r\n\r\nThe following contract fails when attempting to generate certain types of outputs:\r\n\r\n```python\r\n# @version 0.2.4\r\nfrom vyper.interfaces import ERC20\r\n\r\nuniswap: constant(address) = 0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\r\n\r\n@external\r\ndef swap(token_in: address, token_out: address, amount_in: uint256, min_amount_out: uint256, to: address):\r\n    ERC20(token_in).transferFrom(msg.sender, self, ERC20(token_in).balanceOf(msg.sender))\r\n    selector: Bytes[4] = b\"\\x38\\xed\\x17\\x39\"\r\n    response: Bytes[128] = raw_call(\r\n        uniswap,\r\n        concat(\r\n            selector,                               # swapExactTokensForTokens\r\n            convert(amount_in, bytes32),            # amount_in\r\n            convert(min_amount_out, bytes32),       # min_amount_out\r\n            convert(160, bytes32),                  # path[] payload offset\r\n            convert(to, bytes32),                   # to\r\n            convert(block.timestamp + 1, bytes32),  # deadline\r\n            convert(2, bytes32),                    # path[] payload lengtgh\r\n            convert(token_in, bytes32),             # path[0]\r\n            convert(token_out, bytes32),            # path[1]\r\n        ),\r\n        max_outsize=128                             # returns uint[] amounts\r\n    )\r\n```\r\n\r\nWith `ast_dict` as the target output:\r\n\r\n```python\r\n  File \"/home/computer/code/python/vyper/vyper/ast/utils.py\", line 35, in parse_to_ast\r\n    raise SyntaxException(str(e), source_code, e.lineno, e.offset) from e\r\nvyper.exceptions.SyntaxException: bytes can only contain ASCII literal characters. (<unknown>, line 10)\r\n  line 10:26 \r\n        9     ERC20(token_in).transferFrom(msg.sender, self, ERC20(token_in).balanceOf(msg.sender))\r\n  ---> 10     selector: Bytes[4] = b\"8\u00ed9\"\r\n  ----------------------------------^\r\n       11     response: Bytes[128] = raw_call(\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2162", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2162/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2162/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2162/events", "html_url": "https://github.com/vyperlang/vyper/issues/2162", "id": 707355471, "node_id": "MDU6SXNzdWU3MDczNTU0NzE=", "number": 2162, "title": "Using bytes literal in concat causes \"Hex node did not produce LLL\"", "user": {"login": "banteg", "id": 4562643, "node_id": "MDQ6VXNlcjQ1NjI2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4562643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/banteg", "html_url": "https://github.com/banteg", "followers_url": "https://api.github.com/users/banteg/followers", "following_url": "https://api.github.com/users/banteg/following{/other_user}", "gists_url": "https://api.github.com/users/banteg/gists{/gist_id}", "starred_url": "https://api.github.com/users/banteg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/banteg/subscriptions", "organizations_url": "https://api.github.com/users/banteg/orgs", "repos_url": "https://api.github.com/users/banteg/repos", "events_url": "https://api.github.com/users/banteg/events{/privacy}", "received_events_url": "https://api.github.com/users/banteg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-23T13:12:48Z", "updated_at": "2020-11-27T16:51:49Z", "closed_at": "2020-11-27T16:51:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.7.3\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\nI'm trying to call a Uniswap function by hand.\r\n\r\nContract:\r\n```python\r\n# @version 0.2.4\r\nfrom vyper.interfaces import ERC20\r\n\r\nuniswap: constant(address) = 0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\r\n\r\n@external\r\ndef swap(token_in: address, token_out: address, amount_in: uint256, min_amount_out: uint256, to: address):\r\n    ERC20(token_in).transferFrom(msg.sender, self, ERC20(token_in).balanceOf(msg.sender))\r\n    response: Bytes[128] = raw_call(\r\n        uniswap,\r\n        concat(\r\n            0x38ed1739,                             # swapExactTokensForTokens\r\n            convert(amount_in, bytes32),            # amount_in\r\n            convert(min_amount_out, bytes32),       # min_amount_out\r\n            convert(160, bytes32),                  # path[] payload offset\r\n            convert(to, bytes32),                   # to\r\n            convert(block.timestamp + 1, bytes32),  # deadline\r\n            convert(2, bytes32),                    # path[] payload lengtgh\r\n            convert(token_in, bytes32),             # path[0]\r\n            convert(token_out, bytes32),            # path[1]\r\n        ),\r\n        max_outsize=128                             # returns uint[] amounts\r\n    )\r\n```\r\nCompiler output:\r\n```bash\r\n$ vyper contracts/Unifarm.vy \r\nError compiling: contracts/Unifarm.vy\r\nvyper.exceptions.TypeCheckFailure: Hex node did not produce LLL\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nI thin the problem is related to how the function selector literal is folded. At least it deserves a better error message.\r\n\r\nThis variant doesn't produce an error:\r\n```python\r\nselector: Bytes[4] = b\"\\x38\\xed\\x17\\x39\"\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2161", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2161/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2161/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2161/events", "html_url": "https://github.com/vyperlang/vyper/issues/2161", "id": 704978556, "node_id": "MDU6SXNzdWU3MDQ5Nzg1NTY=", "number": 2161, "title": "unhelpful error message with mismatched parens", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-19T18:43:16Z", "updated_at": "2022-04-07T22:28:34Z", "closed_at": "2022-04-07T22:28:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.5\r\n\r\n### What's your issue about?\r\nI had a program where I left and extra left paren in `)`, and it caused this bug:\r\n```\r\nvyper.exceptions.SyntaxException: EOF in multi-line statement                                                                            \r\n  line 180:0                                                                                                                             \r\n       179     self.transfer(_strategy, _startingCapital)                                                                                \r\n  ---> 180                                                                                                                               \r\n  ---------^             \r\n```\r\n\r\n### How can it be fixed?\r\nCan only really be solved with a custom parser, or completely refactoring the tokenizer", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2159", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2159/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2159/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2159/events", "html_url": "https://github.com/vyperlang/vyper/issues/2159", "id": 704891985, "node_id": "MDU6SXNzdWU3MDQ4OTE5ODU=", "number": 2159, "title": "Error messages with struct display all members", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-19T14:27:20Z", "updated_at": "2020-09-19T18:41:22Z", "closed_at": "2020-09-19T18:41:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.2.3\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.5\r\n\r\n### What's your issue about?\r\nTrying to use a Struct in an unsupported way:\r\n```python\r\nstruct Message: \r\n    sender: address \r\n    recipient: address \r\n    amount: uint256\r\n     \r\n@external \r\ndef processMetaBatch(messages: Message[20]) -> bool: \r\n    return True \r\n```\r\nyields weird error messages: \r\n```python\r\nInvalidType: List of struct Message: {sender: address, recipient: address, amount: uint256}s not allowed\r\n```\r\n\r\n### How can it be fixed?\r\nMake it display just:\r\n```python\r\nInvalidType: List of struct Message not allowed\r\n```\r\nNOTE: Also remove the `s` from the end, as that might not always be correct", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2158", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2158/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2158/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2158/events", "html_url": "https://github.com/vyperlang/vyper/issues/2158", "id": 702348249, "node_id": "MDU6SXNzdWU3MDIzNDgyNDk=", "number": 2158, "title": "Cannot use empty for an array inside an event log", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-15T23:57:16Z", "updated_at": "2020-12-02T01:05:04Z", "closed_at": "2020-12-02T01:05:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nThe following code:\r\n\r\n```python\r\nevent Foo:\r\n    a: bytes32[2]\r\n\r\n@external\r\ndef test():\r\n    log Foo(empty(bytes32[2]))\r\n```\r\n\r\nProduces the following error:\r\n\r\n```python\r\nFile \"/home/computer/code/python/vyper/vyper/parser/events.py\", line 208, in pack_args_by_32\r\n    for arg2 in arg.elements:\r\nAttributeError: 'LLLnode' object has no attribute 'elements'\r\n```\r\n\r\nThe issue happens with any array type.\r\n\r\n### How can it be fixed?\r\nI think that this code should compile, so we need to look at what's happening in parser that prevents it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2157", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2157/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2157/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2157/events", "html_url": "https://github.com/vyperlang/vyper/issues/2157", "id": 702294965, "node_id": "MDU6SXNzdWU3MDIyOTQ5NjU=", "number": 2157, "title": "Bad exception message when using attribute in AnnAssign", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-15T21:44:45Z", "updated_at": "2020-09-30T01:17:10Z", "closed_at": "2020-09-30T01:17:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n### What's your issue about?\r\nThe following code:\r\n\r\n```python\r\nstruct Foo:\r\n    a: uint256\r\n\r\n@external\r\ndef test():\r\n    foo: Foo = empty(Foo)\r\n    foo.a: uint256 = 123\r\n```\r\n\r\nproduces the following exception:\r\n\r\n```python\r\nFile \"/home/computer/code/python/vyper/vyper/context/validation/local.py\", line 178, in visit_AnnAssign\r\n    name = node.target.id\r\nAttributeError: 'Attribute' object has no attribute 'id'\r\n```\r\n\r\nIt is correct that this should not compile, but the raised exception is not useful.\r\n\r\n\r\n### How can it be fixed?\r\nIn `vyper.context.validation.local`, add logic to correctly handle an `AnnAssign` where the left-hand side is an `Attribute` node.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2156", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2156/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2156/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2156/events", "html_url": "https://github.com/vyperlang/vyper/issues/2156", "id": 701299405, "node_id": "MDU6SXNzdWU3MDEyOTk0MDU=", "number": 2156, "title": "Constant arrays cannot be indexed with variables", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-14T17:44:17Z", "updated_at": "2021-11-11T20:22:56Z", "closed_at": "2021-11-11T20:22:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: `0.2.4`\r\n* OS: linux\r\n* Python Version: `3.8.5`\r\n\r\n### What's your issue about?\r\nAttempting to use a variable to access a value within a constant array fails to compile. For example, the following code:\r\n\r\n```python\r\nBAR: constant(bool[3]) = [False, False, True]\r\n\r\n@external\r\ndef foo(i: uint256):\r\n    a: bool = BAR[i]\r\n\r\n```\r\n\r\nproduces the following exception:\r\n\r\n```python\r\n  File \"/home/computer/code/python/vyper/vyper/parser/expr.py\", line 967, in parse_variable_location\r\n    raise StructureException(\"Looking for a variable location, instead got a value\", expr)\r\nvyper.exceptions.StructureException: Looking for a variable location, instead got a value\r\n```\r\n\r\n### How can it be fixed?\r\n\u00af\\\\\\_(\u30c4)\\_/\u00af The issue is somewhere in `vyper.parser`, I think it will be fairly straightforward but I haven't had a chance to look yet.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2155", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2155/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2155/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2155/events", "html_url": "https://github.com/vyperlang/vyper/issues/2155", "id": 701126622, "node_id": "MDU6SXNzdWU3MDExMjY2MjI=", "number": 2155, "title": "The returned struct value from the external call does get stored properly", "user": {"login": "saikat041", "id": 19255785, "node_id": "MDQ6VXNlcjE5MjU1Nzg1", "avatar_url": "https://avatars.githubusercontent.com/u/19255785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saikat041", "html_url": "https://github.com/saikat041", "followers_url": "https://api.github.com/users/saikat041/followers", "following_url": "https://api.github.com/users/saikat041/following{/other_user}", "gists_url": "https://api.github.com/users/saikat041/gists{/gist_id}", "starred_url": "https://api.github.com/users/saikat041/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saikat041/subscriptions", "organizations_url": "https://api.github.com/users/saikat041/orgs", "repos_url": "https://api.github.com/users/saikat041/repos", "events_url": "https://api.github.com/users/saikat041/events{/privacy}", "received_events_url": "https://api.github.com/users/saikat041/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-14T13:55:55Z", "updated_at": "2020-09-26T12:49:44Z", "closed_at": "2020-09-26T12:49:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4+commit.3eb9e7a\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.6.9\r\n\r\n### What's your issue about?\r\nThe returned struct value from the external call does get stored properly. It seems that the problem is due to abi decoding.\r\n```\r\ndef test_bytes_inside_tuple(get_contract):\r\n    code = \"\"\"\r\nstruct Person:\r\n    name: String[6]\r\n    age: uint256\r\n\r\n@external\r\ndef test_return() -> Person:\r\n    return Person({name: \"abc\", age: 42 })\r\n    \"\"\"\r\n    c1 = get_contract(code)\r\n\r\n    code = \"\"\"\r\nstruct Person:\r\n    name: String[6]\r\n    age: uint256\r\n\r\ninterface jsonabi:\r\n    def test_return() -> Person: view\r\n\r\n@external\r\ndef test_values(a: address) -> String[6]:\r\n    p: Person = jsonabi(a).test_return()\r\n    return p.name\r\n    \"\"\"\r\n\r\n    c2 = get_contract(code)\r\n    assert c2.test_values(c1.address) == \"abc\"\r\n```\r\n\r\nThe above test case fails\r\n\r\n### How can it be fixed?\r\n\r\nI have found the cause and I am working on it\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2155/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2154", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2154/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2154/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2154/events", "html_url": "https://github.com/vyperlang/vyper/issues/2154", "id": 700649569, "node_id": "MDU6SXNzdWU3MDA2NDk1Njk=", "number": 2154, "title": "[Compiler Error] vyper.exceptions.TypeCheckFailure: pack_arguments did not return a value", "user": {"login": "vasa-develop", "id": 28847087, "node_id": "MDQ6VXNlcjI4ODQ3MDg3", "avatar_url": "https://avatars.githubusercontent.com/u/28847087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vasa-develop", "html_url": "https://github.com/vasa-develop", "followers_url": "https://api.github.com/users/vasa-develop/followers", "following_url": "https://api.github.com/users/vasa-develop/following{/other_user}", "gists_url": "https://api.github.com/users/vasa-develop/gists{/gist_id}", "starred_url": "https://api.github.com/users/vasa-develop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vasa-develop/subscriptions", "organizations_url": "https://api.github.com/users/vasa-develop/orgs", "repos_url": "https://api.github.com/users/vasa-develop/repos", "events_url": "https://api.github.com/users/vasa-develop/events{/privacy}", "received_events_url": "https://api.github.com/users/vasa-develop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-13T21:15:53Z", "updated_at": "2021-10-04T20:17:50Z", "closed_at": "2021-10-04T20:17:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4+commit.7949850\r\n* OS: Ubuntu\r\n* Python Version (output of `python --version`): Python 3.7.6\r\n* Environment (output of `pip freeze`): https://pastebin.com/WA2mNEV4\r\n\r\n### What's your issue about?\r\n\r\n**Contract File**\r\n\r\n```python\r\n# @version >=0.2.4 <0.3.0\r\n\r\nstruct Pokemon:\r\n    name: String[32]\r\n    dna: uint256\r\n    HP: uint256\r\n    matches: uint256\r\n    wins: uint256\r\n\r\n\r\ntrainerToPokemon: HashMap[address, HashMap[uint256, Pokemon]]\r\n\r\nWILD_POKEMON: constant(address) = 0xB8c77482e45F1F44dE1745F52C74426C631bDD52\r\n\r\ninterface WildPokemons:\r\n    def battle(pokemon: Pokemon) -> (bool, String[32], uint256, uint256): nonpayable\r\n\r\n@external\r\ndef test(pokemonIndex: uint256):\r\n    battleResult: bool = empty(bool)\r\n    newPokemonName: String[32] = empty(String[32])\r\n    newPokemonDNA: uint256 = empty(uint256)\r\n    newPokemonHP: uint256 = empty(uint256)\r\n\r\n    battleResult, newPokemonName, newPokemonDNA, newPokemonHP = WildPokemons(WILD_POKEMON).battle(self.trainerToPokemon[msg.sender][pokemonIndex])\r\n```\r\n\r\n**Encountered Error**\r\n```\r\n[Compiler Error] vyper.exceptions.TypeCheckFailure: pack_arguments did not return a value This is an unhandled internal compiler error.\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\nHow can I fix this compiler error?", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2153", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2153/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2153/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2153/events", "html_url": "https://github.com/vyperlang/vyper/issues/2153", "id": 700648490, "node_id": "MDU6SXNzdWU3MDA2NDg0OTA=", "number": 2153, "title": "[Compiler Error] vyper.exceptions.TypeCheckFailure: base_type_conversion did not return a value", "user": {"login": "vasa-develop", "id": 28847087, "node_id": "MDQ6VXNlcjI4ODQ3MDg3", "avatar_url": "https://avatars.githubusercontent.com/u/28847087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vasa-develop", "html_url": "https://github.com/vasa-develop", "followers_url": "https://api.github.com/users/vasa-develop/followers", "following_url": "https://api.github.com/users/vasa-develop/following{/other_user}", "gists_url": "https://api.github.com/users/vasa-develop/gists{/gist_id}", "starred_url": "https://api.github.com/users/vasa-develop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vasa-develop/subscriptions", "organizations_url": "https://api.github.com/users/vasa-develop/orgs", "repos_url": "https://api.github.com/users/vasa-develop/repos", "events_url": "https://api.github.com/users/vasa-develop/events{/privacy}", "received_events_url": "https://api.github.com/users/vasa-develop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-13T21:10:06Z", "updated_at": "2020-10-09T17:51:00Z", "closed_at": "2020-10-09T17:51:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4+commit.7949850\r\n* OS: Ubuntu\r\n* Python Version (output of `python --version`): Python 3.7.6\r\n* Environment (output of `pip freeze`): https://pastebin.com/WA2mNEV4\r\n\r\n### What's your issue about?\r\n\r\n**Contract File**\r\n\r\n```python\r\n# @version >=0.2.4 <0.3.0\r\n\r\n@external\r\ndef __init__():\r\n    z: uint256 = 0\r\n    for i in [1,2,3,4]:\r\n        z = i\r\n```\r\n\r\n**Encountered Error**\r\n```\r\n[Compiler Error] vyper.exceptions.TypeCheckFailure: base_type_conversion did not return a value This is an unhandled internal compiler error.\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\nHow can I fix this compiler error?", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2151", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2151/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2151/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2151/events", "html_url": "https://github.com/vyperlang/vyper/issues/2151", "id": 700597292, "node_id": "MDU6SXNzdWU3MDA1OTcyOTI=", "number": 2151, "title": "Remove Gas Estimates from ABI", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/2", "html_url": "https://github.com/vyperlang/vyper/milestone/2", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/2/labels", "id": 5624309, "node_id": "MDk6TWlsZXN0b25lNTYyNDMwOQ==", "number": 2, "title": "v0.3.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 11, "state": "open", "created_at": "2020-07-06T18:39:04Z", "updated_at": "2022-06-08T21:08:17Z", "due_on": null, "closed_at": null}, "comments": 9, "created_at": "2020-09-13T16:03:23Z", "updated_at": "2022-01-07T03:43:59Z", "closed_at": "2022-01-07T03:43:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://twitter.com/_prestwich/status/1304986329604710401?s=20\r\n\r\nBasically, since gas costs change all the time, we can't rely on the estimates that a particular version of Vyper uses. So, we should just get rid of this \"feature\"\r\n\r\nNOTE: we'll still keep an upper bound on gas usage, for use with optimizations and to prevent gas attacks", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2151/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2132", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2132/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2132/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2132/events", "html_url": "https://github.com/vyperlang/vyper/issues/2132", "id": 683549906, "node_id": "MDU6SXNzdWU2ODM1NDk5MDY=", "number": 2132, "title": "constant(address) is folded into Bytes[32] with a twist", "user": {"login": "banteg", "id": 4562643, "node_id": "MDQ6VXNlcjQ1NjI2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4562643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/banteg", "html_url": "https://github.com/banteg", "followers_url": "https://api.github.com/users/banteg/followers", "following_url": "https://api.github.com/users/banteg/following{/other_user}", "gists_url": "https://api.github.com/users/banteg/gists{/gist_id}", "starred_url": "https://api.github.com/users/banteg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/banteg/subscriptions", "organizations_url": "https://api.github.com/users/banteg/orgs", "repos_url": "https://api.github.com/users/banteg/repos", "events_url": "https://api.github.com/users/banteg/events{/privacy}", "received_events_url": "https://api.github.com/users/banteg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-21T13:09:46Z", "updated_at": "2020-11-27T16:53:52Z", "closed_at": "2020-11-27T16:53:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\nvyper Version (output of vyper --version): 0.2.4+commit.7949850\r\nOS: linux\r\nPython Version (output of python --version): Python 3.7.3\r\nEnvironment (output of pip freeze):\r\nasttokens==2.0.3\r\npycryptodome==3.9.8\r\nsemantic-version==2.8.5\r\nsix==1.15.0\r\nvyper==0.2.4\r\n\r\n### What's your issue about?\r\n\r\nConsider this contract\r\n```python\r\n# @version 0.2.4\r\n\r\ndai: constant(address) = 0x6B175474E89094C44Da98b954EedeAC495271d0F\r\n\r\n@view\r\n@external\r\ndef foo() -> Bytes[32]:\r\n    return convert(dai, Bytes[32])\r\n```\r\n```\r\nError compiling: contracts/Breakage.vy\r\nvyper.exceptions.InvalidType: Value and target type are both 'Bytes[32]'\r\n  contract \"contracts/Breakage.vy\", function \"foo\", line 8:11\r\n       7 def foo() -> Bytes[32]:\r\n  ---> 8     return convert(dai, Bytes[32])\r\n  ------------------^\r\n       9\r\n```\r\nNow as we know address got folded in Bytes[32] for some reason, let's try returning it as is\r\n\r\n```python\r\n# @version 0.2.4\r\n\r\ndai: constant(address) = 0x6B175474E89094C44Da98b954EedeAC495271d0F\r\n\r\n@view\r\n@external\r\ndef foo() -> Bytes[32]:\r\n    return dai\r\n```\r\n```\r\nError compiling: contracts/Breakage.vy\r\nAttributeError: 'ByteArrayType' object has no attribute 'typ'\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2130", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2130/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2130/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2130/events", "html_url": "https://github.com/vyperlang/vyper/issues/2130", "id": 681719874, "node_id": "MDU6SXNzdWU2ODE3MTk4NzQ=", "number": 2130, "title": "Unclear ambiguous type error", "user": {"login": "banteg", "id": 4562643, "node_id": "MDQ6VXNlcjQ1NjI2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4562643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/banteg", "html_url": "https://github.com/banteg", "followers_url": "https://api.github.com/users/banteg/followers", "following_url": "https://api.github.com/users/banteg/following{/other_user}", "gists_url": "https://api.github.com/users/banteg/gists{/gist_id}", "starred_url": "https://api.github.com/users/banteg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/banteg/subscriptions", "organizations_url": "https://api.github.com/users/banteg/orgs", "repos_url": "https://api.github.com/users/banteg/repos", "events_url": "https://api.github.com/users/banteg/events{/privacy}", "received_events_url": "https://api.github.com/users/banteg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-19T10:15:04Z", "updated_at": "2022-01-06T01:31:38Z", "closed_at": "2022-01-06T01:31:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.4+commit.7949850\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.7.3\r\n\r\n### What's your issue about?\r\n\r\nUnclear ambiguous type error on a simple code.\r\n\r\n```python\r\n# @version 0.2.4\r\nfrom vyper.interfaces import ERC20\r\n\r\ncoins: constant(address[4]) = [\r\n    0x6B175474E89094C44Da98b954EedeAC495271d0F,\r\n    0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48,\r\n    0xdAC17F958D2ee523a2206206994597C13D831ec7,\r\n    0x0000000000085d4780B73119b644AE5ecd22b376,\r\n]\r\n\r\n@external\r\ndef recycle():\r\n    balances: uint256[4] = empty(uint256[4])\r\n    for i in range(4):\r\n        balances[i] = ERC20(coins[i]).balanceOf(msg.sender)\r\n```\r\n\r\n```\r\nStructureException: Ambiguous type\r\n  contract \"contracts/Recycle.vy\", function \"recycle\", line 31:28\r\n       30     for i in range(4):\r\n  ---> 31         balances[i] = ERC20(coins[i]).balanceOf(msg.sender)\r\n  ------------------------------------^\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\nYou tell me", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2130/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2122", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2122/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2122/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2122/events", "html_url": "https://github.com/vyperlang/vyper/issues/2122", "id": 667549382, "node_id": "MDU6SXNzdWU2Njc1NDkzODI=", "number": 2122, "title": "Vyper can't handle folding to a decimal type", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-29T04:59:34Z", "updated_at": "2020-07-29T13:56:05Z", "closed_at": "2020-07-29T13:56:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.3\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.4\r\n\r\n### What's your issue about?\r\n```\r\nInvalidType: Expected decimal but literal can only be cast as int128 or uint256\r\ncontract \"contracts/RateOracle.vy\", function \"__init__\", line 83:22 \r\n     82     self.base = ERC20(_base)\r\n---> 83     self.riskFactor = 2 / 100  # 2%\r\n------------------------------^\r\n     84     self.reward = 10 ** 17\r\n```\r\n\r\n\r\n### How can it be fixed?\r\nWhole numbers are still valid decimal types.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2121", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2121/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2121/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2121/events", "html_url": "https://github.com/vyperlang/vyper/issues/2121", "id": 667540712, "node_id": "MDU6SXNzdWU2Njc1NDA3MTI=", "number": 2121, "title": "Vyper can't serialize ast for programs that contain decimal literals", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-29T04:32:37Z", "updated_at": "2020-07-31T17:10:16Z", "closed_at": "2020-07-31T17:10:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.2.3\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.4\r\n\r\n### What's your issue about?\r\nThe following program cannot serialize it's AST:\r\n```vyper\r\nvar: public(decimal)\r\n\r\n@external\r\ndef foo(a: decimal):\r\n    self.var += 0.1\r\n```\r\nGives this error:\r\n```bash\r\n$ vyper -f ast DecimalLiteral.vy \r\nTypeError: Object of type Decimal is not JSON serializable\r\n```\r\n\r\n### How can it be fixed?\r\nWhen serializing the `ast.Decimal` node, the `Decimal.value` attribute of the node is a `decimal.Decimal` type, which is not serializable to JSON. Instead, it should be converted to an engineering string via `decimal.Decimal.to_eng_string()`. Unsure if it's possible to convert _back_ from this JSON format, that should be considered in a possible solution.\r\n\r\nI overrided with this fix and it did the trick:\r\n```diff\r\ndiff --git a/vyper/ast/nodes.py b/vyper/ast/nodes.py\r\nindex 6400d721..bdd642f3 100644\r\n--- a/vyper/ast/nodes.py\r\n+++ b/vyper/ast/nodes.py\r\n@@ -701,6 +701,11 @@ class Decimal(Num):\r\n             raise InvalidLiteral(\"Vyper supports a maximum of ten decimal points\", self)\r\n         super().validate()\r\n \r\n+    def to_dict(self):\r\n+        d = super().to_dict()\r\n+        d[\"value\"] = d[\"value\"].to_eng_string()\r\n+        return d\r\n+\r\n \r\n class Hex(Num):\r\n     \"\"\"\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2116", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2116/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2116/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2116/events", "html_url": "https://github.com/vyperlang/vyper/issues/2116", "id": 665684476, "node_id": "MDU6SXNzdWU2NjU2ODQ0NzY=", "number": 2116, "title": "Uncaught error with bad syntax", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-26T00:38:04Z", "updated_at": "2020-07-26T16:20:18Z", "closed_at": "2020-07-26T16:20:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.3\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.5\r\n\r\n### What's your issue about?\r\nThis program fails to compile (as it should) with an uncaught error\r\n```python\r\n...\r\ntime_total: uint256 = self.auctions[_asset][_tokenId].deadline - time_elapsed, decimal\r\n...\r\n```\r\nStack:\r\n```python\r\n  File \"brownie/_cli/__main__.py\", line 56, in main\r\n    importlib.import_module(f\"brownie._cli.{cmd}\").main()\r\n  File \"brownie/_cli/compile.py\", line 37, in main\r\n    project.load()\r\n  File \"brownie/project/main.py\", line 656, in load\r\n    return Project(name, project_path)\r\n  File \"brownie/project/main.py\", line 160, in __init__\r\n    self.load()\r\n  File \"brownie/project/main.py\", line 213, in load\r\n    self._compile(changed, self._compiler_config, False)\r\n  File \"brownie/project/main.py\", line 87, in _compile\r\n    build_json = compiler.compile_and_format(\r\n  File \"brownie/project/compiler/__init__.py\", line 132, in compile_and_format\r\n    output_json = compile_from_input_json(input_json, silent, allow_paths)\r\n  File \"brownie/project/compiler/__init__.py\", line 243, in compile_from_input_json\r\n    return vyper.compile_from_input_json(input_json, silent, allow_paths)\r\n  File \"brownie/project/compiler/vyper.py\", line 55, in compile_from_input_json\r\n    return vyper_json.compile_json(input_json, root_path=allow_paths)\r\n  File \"vyper/cli/vyper_json.py\", line 392, in compile_json\r\n    compiler_data, warn_data = compile_from_input_dict(input_dict, exc_handler, root_path)\r\n  File \"vyper/cli/vyper_json.py\", line 324, in compile_from_input_dict\r\n    return exc_handler(contract_path, exc, \"compiler\"), {}\r\n  File \"vyper/cli/vyper_json.py\", line 100, in exc_handler_raises\r\n    raise exception\r\n  File \"vyper/cli/vyper_json.py\", line 316, in compile_from_input_dict\r\n    data = vyper.compile_codes(\r\n  File \"vyper/opcodes.py\", line 223, in _wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"vyper/compiler/__init__.py\", line 110, in compile_codes\r\n    raise exc\r\n  File \"vyper/compiler/__init__.py\", line 105, in compile_codes\r\n    out[contract_name][output_format] = OUTPUT_FORMATS[output_format](compiler_data)\r\n  File \"vyper/compiler/output.py\", line 52, in build_abi_output\r\n    abi = sig_utils.mk_full_signature(compiler_data.global_ctx)\r\n  File \"vyper/compiler/phases.py\", line 90, in global_ctx\r\n    self.vyper_module_folded, self.interface_codes\r\n  File \"vyper/compiler/phases.py\", line 82, in vyper_module_folded\r\n    validate_semantics(self._vyper_module_folded, self.interface_codes)\r\n  File \"vyper/context/validation/__init__.py\", line 11, in validate_semantics\r\n    validate_functions(vyper_ast)\r\n  File \"vyper/context/validation/local.py\", line 59, in validate_functions\r\n    FunctionNodeVisitor(vy_module, node, namespace)\r\n  File \"vyper/context/validation/local.py\", line 166, in __init__\r\n    self.visit(node)\r\n  File \"vyper/context/validation/base.py\", line 19, in visit\r\n    visitor_fn(node)\r\n  File \"vyper/context/validation/local.py\", line 183, in visit_AnnAssign\r\n    validate_expected_type(node.value, type_definition)\r\n  File \"vyper/context/validation/utils.py\", line 325, in validate_expected_type\r\n    given_types = _ExprTypeChecker().get_possible_types_from_node(node)\r\n  File \"vyper/context/validation/utils.py\", line 70, in get_possible_types_from_node\r\n    return fn(node)\r\n  File \"vyper/context/validation/utils.py\", line 200, in types_from_Tuple\r\n    return [TupleDefinition(types_list)]\r\n  File \"vyper/context/types/indexable/sequence.py\", line 97, in __init__\r\n    location = sorted((i.location for i in value_type), key=lambda k: k.value)[-1]\r\n  File \"vyper/context/types/indexable/sequence.py\", line 97, in <genexpr>\r\n    location = sorted((i.location for i in value_type), key=lambda k: k.value)[-1]\r\nAttributeError: type object 'DecimalPrimitive' has no attribute 'location'\r\n```\r\n\r\n### How can it be fixed?\r\nUnsure, seems like a weird syntax bug to do with Decimal types?", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2112", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2112/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2112/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2112/events", "html_url": "https://github.com/vyperlang/vyper/issues/2112", "id": 659288320, "node_id": "MDU6SXNzdWU2NTkyODgzMjA=", "number": 2112, "title": "empty(Bytes[1024]) causes vyper.exceptions.CompilerPanic: Unsupported location: None", "user": {"login": "or2008", "id": 3414979, "node_id": "MDQ6VXNlcjM0MTQ5Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3414979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/or2008", "html_url": "https://github.com/or2008", "followers_url": "https://api.github.com/users/or2008/followers", "following_url": "https://api.github.com/users/or2008/following{/other_user}", "gists_url": "https://api.github.com/users/or2008/gists{/gist_id}", "starred_url": "https://api.github.com/users/or2008/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/or2008/subscriptions", "organizations_url": "https://api.github.com/users/or2008/orgs", "repos_url": "https://api.github.com/users/or2008/repos", "events_url": "https://api.github.com/users/or2008/events{/privacy}", "received_events_url": "https://api.github.com/users/or2008/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-17T14:10:41Z", "updated_at": "2020-11-29T21:18:38Z", "closed_at": "2020-11-29T21:18:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.2.3+commit.006968f\r\n* OS: Osx\r\n\r\nI am trying to mimic solidity's `new bytes(0)`\r\n\r\nand looks like `empty(Bytes[1024])` causes this exception:\r\n\r\nvyper.exceptions.CompilerPanic: Unsupported location: None Please create an issue.vyper.exceptions.CompilerPanic: Unsupported location: None Please create an issue.\r\n\r\nusing `b''` works great, I wonder, is there a significant gas diff between using `b''` and `empty(Bytes[1024])`?", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2014", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2014/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2014/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2014/events", "html_url": "https://github.com/vyperlang/vyper/issues/2014", "id": 642058848, "node_id": "MDU6SXNzdWU2NDIwNTg4NDg=", "number": 2014, "title": "Reentrancy Bug in Market Maker Example", "user": {"login": "cbraem", "id": 63294422, "node_id": "MDQ6VXNlcjYzMjk0NDIy", "avatar_url": "https://avatars.githubusercontent.com/u/63294422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbraem", "html_url": "https://github.com/cbraem", "followers_url": "https://api.github.com/users/cbraem/followers", "following_url": "https://api.github.com/users/cbraem/following{/other_user}", "gists_url": "https://api.github.com/users/cbraem/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbraem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbraem/subscriptions", "organizations_url": "https://api.github.com/users/cbraem/orgs", "repos_url": "https://api.github.com/users/cbraem/repos", "events_url": "https://api.github.com/users/cbraem/events{/privacy}", "received_events_url": "https://api.github.com/users/cbraem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}, {"id": 895812894, "node_id": "MDU6TGFiZWw4OTU4MTI4OTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/documentation", "name": "documentation", "color": "fcbdea", "default": true, "description": "Documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-19T15:40:31Z", "updated_at": "2020-06-21T13:30:46Z", "closed_at": "2020-06-21T00:03:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nThe example _examples/market_maker/on_chain_market_maker.vy_ seems to have a reentrancy bug. _ethToTokens_ and _tokensToEth_ first make an external function call before they update local state variables.\r\n\r\nThe effect of this reentrancy bug is demonstrated by the following example:\r\n\r\n- _initiate_ gets called with a `token_quantity` of 20 and `msg.value` of 100.\r\n\r\n- Contract _a_ calls _tokensToEth_ with a `sell_quantity` of 40.\r\n  - This contracts will send (20 * 100) / 40 = 50 back to _a_.\r\n \t- The default function of _a_ calls now again _tokensToEth_ with a `sell_quantity` of 40.\r\n \t\t- This contracts will send again 50 back to _a_.\r\n \t\t\t- _a_ accepts now the 50 without further reentrant calls.\r\n \t\t\t- The second send to _a_ returns.\r\n \t\t- This contract updates now `totalEthQty` to 50 and `totalTokenQty` to 60.\r\n \t\t- The reentrant call returns.\r\n \t- The first send to _a_ returns.\r\n  - This contract updates now `totalEthQty` to 50 and `totalTokenQty` to 40.\r\n\r\nThe contract has now 60 Tokens and 0 ether. Therefore, the invariant does not hold anymore and `totalEthQty` as well as `totalTokenQty` do no longer model the current state.\r\n\r\n\r\nI assume that these examples just demonstrate what Vyper contracts can do, but I would rather suggest to fix such a reentrancy bug not to show case anti-patterns.\r\n\r\n### How can it be fixed?\r\nMove the call to _transfer_ at the end of _ethToTokens_ and also move _send_ at the end of _tokensToEth_.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2006", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2006/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2006/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2006/events", "html_url": "https://github.com/vyperlang/vyper/issues/2006", "id": 640344460, "node_id": "MDU6SXNzdWU2NDAzNDQ0NjA=", "number": 2006, "title": "vyper-serve command giving error everytime a request for compiling a contract from remix ide is made", "user": {"login": "saikat041", "id": 19255785, "node_id": "MDQ6VXNlcjE5MjU1Nzg1", "avatar_url": "https://avatars.githubusercontent.com/u/19255785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saikat041", "html_url": "https://github.com/saikat041", "followers_url": "https://api.github.com/users/saikat041/followers", "following_url": "https://api.github.com/users/saikat041/following{/other_user}", "gists_url": "https://api.github.com/users/saikat041/gists{/gist_id}", "starred_url": "https://api.github.com/users/saikat041/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saikat041/subscriptions", "organizations_url": "https://api.github.com/users/saikat041/orgs", "repos_url": "https://api.github.com/users/saikat041/repos", "events_url": "https://api.github.com/users/saikat041/events{/privacy}", "received_events_url": "https://api.github.com/users/saikat041/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-17T10:52:09Z", "updated_at": "2020-06-21T23:43:39Z", "closed_at": "2020-06-21T23:43:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): latest master (0.1.0b17+commit.6942ecf)\r\n* OS: linux\r\n* Python Version: 3.6\r\n\r\n### What's your issue about?\r\n**vyper-serve** command giving error everytime a request for compiling a contract from remix ide is made.\r\n\r\n![Screenshot from 2020-06-17 16-15-46](https://user-images.githubusercontent.com/19255785/84889095-ea053380-b0b5-11ea-88b5-505bdf2e2cc2.png)\r\n\r\n### How can it be fixed?\r\nhttps://github.com/vyperlang/vyper/blob/28f465a4750378788f9f81fd1e57f64c9d44bbbf/vyper/cli/vyper_serve.py#L98\r\n\r\nChanging above line to \r\n\r\n> list(vyper.compiler.OUTPUT_FORMATS.keys())", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2003", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2003/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2003/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2003/events", "html_url": "https://github.com/vyperlang/vyper/issues/2003", "id": 638129799, "node_id": "MDU6SXNzdWU2MzgxMjk3OTk=", "number": 2003, "title": "Infinite loop from multidimensional array in calldata", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 1, "created_at": "2020-06-13T09:27:33Z", "updated_at": "2020-06-30T14:01:06Z", "closed_at": "2020-06-30T14:01:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): latest master\r\n* OS: linux\r\n* Python Version: `3.8.2`\r\n\r\n### What's your issue about?\r\n\r\nUsing a multidimensional array in the function inputs, where the length of the >=2nd dimension is 6 or more, causes an infinite loop when calling the function.\r\n\r\nFor example, each of the following methods will compile but attempting to call them fails with out of gas:\r\n\r\n```python\r\n@public\r\ndef foo(a: uint256[1][6]):\r\n    pass\r\n\r\n@public\r\ndef bar(a: uint256[1][1][6]):\r\n    pass\r\n```\r\n\r\nFor comparison, these methods execute as expected:\r\n\r\n```python\r\n@public\r\ndef foo(a: uint256[6][1]):\r\n    pass\r\n\r\n@public\r\ndef bar(a: uint256[100][5][5][5]):\r\n    pass\r\n```\r\n\r\n#### Some observations:\r\n\r\n* The length of the first array element has no effect.\r\n* The data type has no effect.\r\n* The location of the array within calldata, and total number of arguments, has no effect.\r\n* The number of dimensions, or dimension that exceeds a length of 5, has no effect.\r\n\r\n### How can it be fixed?\r\nUnsure at this time.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/2003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1987", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1987/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1987/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1987/events", "html_url": "https://github.com/vyperlang/vyper/issues/1987", "id": 623886994, "node_id": "MDU6SXNzdWU2MjM4ODY5OTQ=", "number": 1987, "title": "Arrays as default arguments do not properly copy to memory", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 0, "created_at": "2020-05-24T15:27:51Z", "updated_at": "2020-07-01T16:44:04Z", "closed_at": "2020-07-01T16:44:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: latest master\r\n* OS: linux\r\n* Python Version: 3.8.2\r\n\r\n### What's your issue about?\r\nWhen an array used as a default argument is copied to a memory variable, every item in the memory variable has the value of the first item in the array. For example:\r\n\r\n```python\r\n@public\r\n@constant\r\ndef foo(a: int128[2] = [1, 2]) -> int128[2]:\r\n    b: int128[2] = a\r\n    return b\r\n```\r\n\r\nCalls to `foo` produce the following output:\r\n\r\n```python\r\n>>> x.foo()\r\n(1, 1)\r\n>>> x.foo([4, 6])\r\n(4, 4)\r\n```\r\n\r\n* The same effect is observed with longer arrays and different types.\r\n* Returning directly from calldata gives the expected result.\r\n* Writing to storage gives the expected result.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1981", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1981/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1981/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1981/events", "html_url": "https://github.com/vyperlang/vyper/issues/1981", "id": 620074654, "node_id": "MDU6SXNzdWU2MjAwNzQ2NTQ=", "number": 1981, "title": "Error strings are zero-padded to 32 bytes", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-18T09:56:36Z", "updated_at": "2020-05-19T21:23:06Z", "closed_at": "2020-05-19T21:23:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\nVyper zero-pads error strings to 32 bytes within the bytecode. This in turn causes the string to occupy an additional memory slot, and can lead to [decoding weirdness](https://etherscan.io/tx/0xa0f0aa5fc4f56771a0b49ff66c752bcad2a32844ec4b173337086d6610571d65).\r\n\r\nHere is an example contract:\r\n\r\n```python\r\n@public\r\ndef foo():\r\n    raise \"foo\"\r\n```\r\n\r\nHere is the bytecode that handles the error string:\r\n\r\n```python\r\nPUSH4 0x8C379A0   # error string signature\r\nPUSH2 0x140\r\nMSTORE\r\nPUSH1 0x20\r\nPUSH2 0x160\r\nMSTORE\r\nPUSH1 0x3\r\nPUSH2 0x180\r\nMSTORE\r\nPUSH32 0x666F6F00000000000000000000000000000  # \"foo\" with many trailing zeros\r\nPUSH2 0x1A0\r\nMSTORE \r\nPUSH2 0x180\r\nPOP\r\nPUSH1 0x0\r\nPUSH2 0x15\r\nJUMPI\r\nPUSH1 0x84  # returns 4 memory slots\r\nPUSH2 0x15C\r\nREVERT\r\n```\r\n\r\n### How can it be fixed?\r\nRemove the zero-padding and use `PUSH[n]` where `n` is the actual length of the encoded string. This way we can also reduce the size in memory that we are returning.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1981/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1978", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1978/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1978/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1978/events", "html_url": "https://github.com/vyperlang/vyper/issues/1978", "id": 619785032, "node_id": "MDU6SXNzdWU2MTk3ODUwMzI=", "number": 1978, "title": "Vyper doesn't check RETURNDATASIZE on external calls", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 0, "created_at": "2020-05-17T19:59:29Z", "updated_at": "2020-07-02T12:45:35Z", "closed_at": "2020-07-02T12:45:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\nFrom https://github.com/vyperlang/vyper/issues/1383#issuecomment-480471399, we don't do a runtime check that the return data size matches what is expected:\r\n\r\nA.vy:\r\n```\r\n@public\r\n@constant\r\ndef foo():\r\n    pass\r\n```\r\n\r\nB.vy:\r\n```\r\ncontract A:\r\n    def foo() -> uint256: constant\r\n\r\n@public\r\ndef bar():\r\n    # A.foo() should raise because it expects a RETURNDATASIZE of 32, but is actually 0\r\n    # NOTE: It will instead believe the result was uint256(0) because it doesn't check this\r\n    assert A(msg.sender).foo() == 42\r\n```\r\n\r\n### How can it be fixed?\r\nAdd a check to LLL for this on all calls", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1976", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1976/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1976/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1976/events", "html_url": "https://github.com/vyperlang/vyper/issues/1976", "id": 619753058, "node_id": "MDU6SXNzdWU2MTk3NTMwNTg=", "number": 1976, "title": "raw_call returns empty calldata", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-17T17:05:38Z", "updated_at": "2020-05-17T21:04:13Z", "closed_at": "2020-05-17T21:04:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): latest master\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8\r\n\r\n### What's your issue about?\r\nThe `raw_call` function always returns exactly `outsize` bytes, even when the actual data returned is less than this.\r\n\r\n```python\r\n@public\r\ndef foo() -> bool:\r\n    return True\r\n```\r\n\r\n```python\r\n@public\r\ndef call_foo(_addr: address) -> int128:\r\n    response: bytes[64] = raw_call(_addr, method_id(\"foo()\", bytes[4]), outsize=64)\r\n    return len(response)\r\n```\r\n\r\nIn this example, `call_foo` will return `64` even though the actual response from `foo` has a length of `32`.\r\n\r\n### How can it be fixed?\r\nIn the LLL for `raw_call`, instead of copying `outsize` bytes into memory, copy the minimum of `outsize` and `RETURNDATALENGTH`.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1970", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1970/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1970/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1970/events", "html_url": "https://github.com/vyperlang/vyper/issues/1970", "id": 618170271, "node_id": "MDU6SXNzdWU2MTgxNzAyNzE=", "number": 1970, "title": "Fixed size lists with size > 2 ** 256", "user": {"login": "cbraem", "id": 63294422, "node_id": "MDQ6VXNlcjYzMjk0NDIy", "avatar_url": "https://avatars.githubusercontent.com/u/63294422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbraem", "html_url": "https://github.com/cbraem", "followers_url": "https://api.github.com/users/cbraem/followers", "following_url": "https://api.github.com/users/cbraem/following{/other_user}", "gists_url": "https://api.github.com/users/cbraem/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbraem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbraem/subscriptions", "organizations_url": "https://api.github.com/users/cbraem/orgs", "repos_url": "https://api.github.com/users/cbraem/repos", "events_url": "https://api.github.com/users/cbraem/events{/privacy}", "received_events_url": "https://api.github.com/users/cbraem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-14T11:57:41Z", "updated_at": "2020-06-28T09:55:28Z", "closed_at": "2020-06-28T09:55:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b17+commit.0671b7b\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.6.10 :: Anaconda, Inc.\r\n* Environment (output of `pip freeze`):\r\n  * asttokens==2.0.3\r\n  * certifi==2020.4.5.1\r\n  * pycryptodome==3.9.7\r\n  * six==1.14.0\r\n  * vyper==0.1.0b17\r\n\r\n### What's your issue about?\r\nApparently one can define fixed size lists with a size greater than 2 ** 256. And as long the list is just accessed with integer literals, vyper accepts the contracts like the following contract.\r\n\r\n```python\r\n# test1.vy (accepted)\r\n\r\n# List with more elements than (2 ** 256)\r\nt: int128[200000000000000000000000000000000000000000000000000000000000000000000000000000]\r\n\r\n@public\r\ndef foo() -> int128:\r\n    return self.t[0]\r\n```\r\n\r\nIf one accesses the list with a variable, vyper complains (correctly) that the size is too large. The following contract gets rejected.\r\n\r\n```python\r\n# test2.vy (rejected)\r\n\r\n# List with more elements than (2 ** 256)\r\nt: int128[200000000000000000000000000000000000000000000000000000000000000000000000000000]\r\n\r\n@public\r\ndef foo(a: uint256) -> int128:\r\n    return self.t[a]\r\n```\r\n\r\n#### Access the (2 ** 256)-th element\r\nIn addition, one can access the (2 ** 256)-th element of a list with a size > 2 ** 256 , but this number would be too large to store in any variable. The following contract gets accepted by vyper.\r\n\r\n```python\r\n# test3.vy (accepted)\r\n\r\n# List with more elements than (2 ** 256)\r\nt: int128[200000000000000000000000000000000000000000000000000000000000000000000000000000]\r\n\r\n@public\r\ndef foo() -> int128:\r\n    # Access (2 ** 256)-th element\r\n    return self.t[115792089237316195423570985008687907853269984665640564039457584007913129639936]\r\n```\r\n\r\nBut if one would access the (2 ** 256 + 1)-th element, vyper complains, that (2 ** 256 + 1) is too large. Therefore, the following contract gets rejected.\r\n```python\r\n# test4.vy (rejected)\r\n\r\n# List with more elements than (2 ** 256)\r\nt: int128[200000000000000000000000000000000000000000000000000000000000000000000000000000]\r\n\r\n@public\r\ndef foo() -> int128:\r\n    # Access (2 ** 256 + 1)-th element\r\n    return self.t[115792089237316195423570985008687907853269984665640564039457584007913129639937]\r\n```\r\n\r\n#### Expected Behavior\r\nvyper should reject all integer literals greater than 2 ** 256 as the size of fixed sized list. In addition, vyper should reject integer literals greater than or equal to 2 ** 256 as an index of a list look up.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1966", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1966/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1966/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1966/events", "html_url": "https://github.com/vyperlang/vyper/issues/1966", "id": 617195389, "node_id": "MDU6SXNzdWU2MTcxOTUzODk=", "number": 1966, "title": "No compilation error raised when Map in Struct", "user": {"login": "henry-hz", "id": 1010008, "node_id": "MDQ6VXNlcjEwMTAwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1010008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henry-hz", "html_url": "https://github.com/henry-hz", "followers_url": "https://api.github.com/users/henry-hz/followers", "following_url": "https://api.github.com/users/henry-hz/following{/other_user}", "gists_url": "https://api.github.com/users/henry-hz/gists{/gist_id}", "starred_url": "https://api.github.com/users/henry-hz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henry-hz/subscriptions", "organizations_url": "https://api.github.com/users/henry-hz/orgs", "repos_url": "https://api.github.com/users/henry-hz/repos", "events_url": "https://api.github.com/users/henry-hz/events{/privacy}", "received_events_url": "https://api.github.com/users/henry-hz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 895812894, "node_id": "MDU6TGFiZWw4OTU4MTI4OTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/documentation", "name": "documentation", "color": "fcbdea", "default": true, "description": "Documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 7, "created_at": "2020-05-13T06:59:56Z", "updated_at": "2020-06-25T21:42:33Z", "closed_at": "2020-06-25T21:42:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b17+commit.eaa6754\r\n* OS: Debian GNU/Linux 10 (buster)\r\n* Python Version - 3.6.2\r\n* Environment (output of `pip freeze`):\r\n\r\nasttokens==2.0.3\r\npkg-resources==0.0.0\r\npycryptodome==3.9.7\r\nsix==1.14.0\r\nvyper==0.1.0b17\r\n\r\n\r\n### What's your issue about?\r\n\r\nCan't populate a single struct without adding an inside mapping when using a struct declaration variable inside a function\r\n\r\n```\r\nstruct Teddy:\r\n    id: uint256\r\n    year: uint256\r\n    component: map(uint256, uint256)\r\n\r\nteddies: map(uint256, Teddy)\r\n\r\n@public\r\ndef __init__():\r\n    self.teddies[0].id = 0\r\n    self.teddies[0].year = 2019\r\n\r\n@public\r\ndef create_teddy(teddy_name: string[20]):\r\n  teddy: Teddy = Teddy({\r\n        id: 3,\r\n        year: 1922\r\n      })\r\n```\r\n\r\noutput:\r\n```\r\nvyper.exceptions.InvalidType: line 4:15 No mappings allowed for in-memory types, only fixed-size arrays\r\n     3     year: uint256\r\n---> 4     component: map(uint256, uint256)\r\n----------------------^\r\n```\r\n\r\n### How can it be fixed?\r\n\r\ntip: strange, cleaning the function 'create_teddy' you just compile it... the context is affecting how the compiler 'understand' the struct declaration. I also tried to:\r\n\r\n```\r\n self.teddies[0] = Teddy({\r\n        id: 3,\r\n        year: 1922\r\n      })\r\n```\r\n\r\nbut got a \r\n```\r\nvyper.exceptions.TypeMismatch: line 15:2 Keys don't match for structs, missing component\r\n```\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1966/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1959", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1959/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1959/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1959/events", "html_url": "https://github.com/vyperlang/vyper/issues/1959", "id": 615187819, "node_id": "MDU6SXNzdWU2MTUxODc4MTk=", "number": 1959, "title": "Interfaces allow duplicate definitions", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 2, "created_at": "2020-05-09T14:29:16Z", "updated_at": "2020-07-01T19:38:10Z", "closed_at": "2020-07-01T19:38:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.1.0-beta.17\r\n\r\n### What's your issue about?\r\nThis is apparently allowed...\r\n\r\n`bar.vy`:\r\n```python\r\n@public\r\ndef bar():\r\n    pass\r\n\r\n@public\r\ndef bar():\r\n    pass\r\n```\r\n\r\n`foo.vy`:\r\n```python\r\nimport bar as Bar\r\n\r\nbar: Bar\r\n```\r\n\r\n### How can it be fixed?\r\nMake it so duplicates are caught when importing interfaces", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1959/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1957", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1957/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1957/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1957/events", "html_url": "https://github.com/vyperlang/vyper/issues/1957", "id": 614628607, "node_id": "MDU6SXNzdWU2MTQ2Mjg2MDc=", "number": 1957, "title": "Type conversion with decimals", "user": {"login": "cbraem", "id": 63294422, "node_id": "MDQ6VXNlcjYzMjk0NDIy", "avatar_url": "https://avatars.githubusercontent.com/u/63294422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbraem", "html_url": "https://github.com/cbraem", "followers_url": "https://api.github.com/users/cbraem/followers", "following_url": "https://api.github.com/users/cbraem/following{/other_user}", "gists_url": "https://api.github.com/users/cbraem/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbraem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbraem/subscriptions", "organizations_url": "https://api.github.com/users/cbraem/orgs", "repos_url": "https://api.github.com/users/cbraem/repos", "events_url": "https://api.github.com/users/cbraem/events{/privacy}", "received_events_url": "https://api.github.com/users/cbraem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-08T09:35:09Z", "updated_at": "2020-06-28T10:10:41Z", "closed_at": "2020-06-28T10:10:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b17+commit.0671b7b\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.6.10 :: Anaconda, Inc.\r\n* Environment (output of `pip freeze`):\r\n  * asttokens==2.0.3\r\n  * certifi==2020.4.5.1\r\n  * pycryptodome==3.9.7\r\n  * six==1.14.0\r\n  * vyper==0.1.0b17\r\n\r\n### What's your issue about?\r\n\r\nAccording to the documentation, no type conversion is made implicitly. Therefore, it is very natural that `l1: decimal = 0` gets rejected since the integer literal is not compatible with the decimal type.\r\n\r\nBut if an Assign is used instead of an AnnAssign or an AugAssign vyper does not complain. Additionally, the error message using an invalid AugAssign is less informative than the one of the invalid AnnAssign.\r\n\r\n```python\r\n# accepted code\r\n@public\r\ndef foo():\r\n    l1: decimal = 0.0\r\n    l1 = 42\r\n```\r\n\r\n```python\r\n# rejected code with the following error message\r\n# Error compiling: test.vy\r\n# vyper.exceptions.TypeMismatch: line 11:4 Invalid type int128, expected: decimal\r\n#      2 def foo():\r\n# ---> 3     l1: decimal = 0\r\n# ------------^\r\n#      4\r\n\r\n@public\r\ndef foo():\r\n    l1: decimal = 0\r\n```\r\n\r\n\r\n```python\r\n# rejected code with the following error message\r\n# Error compiling: test.vy\r\n# vyper.exceptions.TypeMismatch: <exception str() failed>\r\n\r\n@public\r\ndef foo():\r\n    l1: decimal = 0.0\r\n    l1 += 42\r\n```\r\n\r\n#### Expected Behavior\r\n\r\nAll three contracts should get rejected and a correct error message should be generated (like in the example with the invalid AnnAssign).\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1957/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1943", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1943/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1943/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1943/events", "html_url": "https://github.com/vyperlang/vyper/issues/1943", "id": 609559423, "node_id": "MDU6SXNzdWU2MDk1NTk0MjM=", "number": 1943, "title": "AttributeError when raising on MappingType", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-30T04:18:00Z", "updated_at": "2020-07-03T20:12:04Z", "closed_at": "2020-07-03T20:12:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.1.0b17\r\n\r\n### What's your issue about?\r\n```python\r\nm: map(int128, uint256)\r\n\r\n@public\r\ndef f():\r\n    x: uint256 = self.m\r\n```\r\nraises\r\n```\r\nvyper/parser/stmt.py in _check_valid_assign(self, sub)\r\n    141                 )\r\n    142         # Check that the integer literal, can be assigned to uint256 if necessary.\r\n--> 143         elif (self.stmt.annotation.id, sub.typ.typ) == ('uint256', 'int128') and sub.typ.is_literal:\r\n    144             if not SizeLimits.in_bounds('uint256', sub.value):\r\n    145                 raise InvalidLiteral(\r\n\r\nAttributeError: 'MappingType' object has no attribute 'typ'\r\n```\r\n\r\n### How can it be fixed?\r\nAdd a check if it's a MappingType, then raise (maps cannot be the target of a statement, directly)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1938", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1938/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1938/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1938/events", "html_url": "https://github.com/vyperlang/vyper/issues/1938", "id": 607028982, "node_id": "MDU6SXNzdWU2MDcwMjg5ODI=", "number": 1938, "title": "Remove 'swap' from the list of reserved keywords", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-26T14:42:31Z", "updated_at": "2020-04-27T15:46:56Z", "closed_at": "2020-04-27T15:46:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b17+commit.0671b7b\r\n* OS: osx\r\n* Using docker\r\n\r\n### What's your issue about?\r\n\r\nI need to call a function called \"swap\" on an external contract from the Vyper code. When I try to define the interface, I get an error: \"Function name invalid. swap is a reserved keyword (Vyper language)\".\r\n\r\n`SWAP` is an opcode. But does it need to be a reserved keyword? Is it [used for anything](https://github.com/vyperlang/vyper/search?q=swap&unscoped_q=swap)?\r\n\r\n### How can it be fixed?\r\n\r\nRemove \"swap\" from the list of reserved keywords.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1932", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1932/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1932/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1932/events", "html_url": "https://github.com/vyperlang/vyper/issues/1932", "id": 604375855, "node_id": "MDU6SXNzdWU2MDQzNzU4NTU=", "number": 1932, "title": "The @constant attribute allows state-modifying instructions", "user": {"login": "axic", "id": 20340, "node_id": "MDQ6VXNlcjIwMzQw", "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axic", "html_url": "https://github.com/axic", "followers_url": "https://api.github.com/users/axic/followers", "following_url": "https://api.github.com/users/axic/following{/other_user}", "gists_url": "https://api.github.com/users/axic/gists{/gist_id}", "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axic/subscriptions", "organizations_url": "https://api.github.com/users/axic/orgs", "repos_url": "https://api.github.com/users/axic/repos", "events_url": "https://api.github.com/users/axic/events{/privacy}", "received_events_url": "https://api.github.com/users/axic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-22T00:56:55Z", "updated_at": "2020-04-22T14:43:44Z", "closed_at": "2020-04-22T14:43:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following compiles:\r\n```\r\n@public\r\n@constant\r\ndef hash() -> bytes32:\r\n    return sha256(\"hash\")\r\n```\r\n\r\nThis should not compile, because the `sha256` precompile uses `CALL`. Perhaps the compiler believes it is not state modifying, but technically `CALL` is. This could be fixed by #1929.\r\n\r\nHowever the problem is if any other contract depends on `hash()` being \"constant\" and executes it via `STATICCALL`, then they will face a failure, because it is not possible to execute `CALL` within a `STATICCALL` frame. Even Vyper supposedly [calls `@constant` using `STATICCALL`](https://vyper.readthedocs.io/en/latest/structure-of-a-contract.html?highlight=staticcall#defining-interfaces-and-making-external-calls).\r\n\r\nFound with @MrChico.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1931", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1931/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1931/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1931/events", "html_url": "https://github.com/vyperlang/vyper/issues/1931", "id": 604312064, "node_id": "MDU6SXNzdWU2MDQzMTIwNjQ=", "number": 1931, "title": "Support the stateMutability field of the ABI JSON", "user": {"login": "axic", "id": 20340, "node_id": "MDQ6VXNlcjIwMzQw", "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axic", "html_url": "https://github.com/axic", "followers_url": "https://api.github.com/users/axic/followers", "following_url": "https://api.github.com/users/axic/following{/other_user}", "gists_url": "https://api.github.com/users/axic/gists{/gist_id}", "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axic/subscriptions", "organizations_url": "https://api.github.com/users/axic/orgs", "repos_url": "https://api.github.com/users/axic/repos", "events_url": "https://api.github.com/users/axic/events{/privacy}", "received_events_url": "https://api.github.com/users/axic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 11, "created_at": "2020-04-21T21:58:18Z", "updated_at": "2020-06-28T14:15:37Z", "closed_at": "2020-06-28T14:15:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This has been briefly discussed in #1247 too.\r\n\r\nVyper still only outputs the `constant` and `payable` fields. The `stateMutability` field was introduced a while ago (probably 2 years ago?) to supersede both `constant` and `payable` as well as to support more granularity:\r\n- `pure`\r\n- `view`\r\n- `nonpayable`\r\n- `payable`\r\n\r\n`pure` means the function doesn't execute state modifying and neither state reading instructions; `view` allows for state reading instructions; `nonpayable` allows modifying the state, but no incoming ether transfer; and `payable` allows modifying the state and incoming ether transfers.\r\n\r\nIt would be nice add support to Vyper to also output this field.\r\n\r\nAre there any reasons against it?", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1931/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1927", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1927/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1927/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1927/events", "html_url": "https://github.com/vyperlang/vyper/issues/1927", "id": 600206609, "node_id": "MDU6SXNzdWU2MDAyMDY2MDk=", "number": 1927, "title": "Vyper runtime source map is broken for mapping `MSTORE` to memory variables", "user": {"login": "Pet3ris", "id": 224585, "node_id": "MDQ6VXNlcjIyNDU4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/224585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pet3ris", "html_url": "https://github.com/Pet3ris", "followers_url": "https://api.github.com/users/Pet3ris/followers", "following_url": "https://api.github.com/users/Pet3ris/following{/other_user}", "gists_url": "https://api.github.com/users/Pet3ris/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pet3ris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pet3ris/subscriptions", "organizations_url": "https://api.github.com/users/Pet3ris/orgs", "repos_url": "https://api.github.com/users/Pet3ris/repos", "events_url": "https://api.github.com/users/Pet3ris/events{/privacy}", "received_events_url": "https://api.github.com/users/Pet3ris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-15T10:52:08Z", "updated_at": "2022-04-08T16:26:34Z", "closed_at": "2022-04-07T03:51:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.1.0b17+commit.0671b7b`\r\n* OS: OS X\r\n* Python Version (output of `python --version`): Python 3.7.5\r\n* Environment (output of `pip freeze`):\r\n\r\n```\r\naniso8601==7.0.0\r\nappdirs==1.4.3\r\nasttokens==2.0.3\r\nattrdict==2.0.1\r\nattrs==19.3.0\r\nbase58==1.0.3\r\nblack==19.10b0\r\nblake2b-py==0.1.3\r\ncached-property==1.5.1\r\ncertifi==2019.11.28\r\nchardet==3.0.4\r\nClick==7.0\r\ncytoolz==0.10.1\r\neth-abi==2.1.0\r\neth-account==0.4.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.4\r\neth-rlp==0.1.2\r\neth-tester==0.2.0b2\r\neth-typing==2.2.1\r\neth-utils==1.8.4\r\nFlask==1.1.1\r\nFlask-Cors==3.0.8\r\nFlask-GraphQL==2.0.1\r\ngraphene==2.1.8\r\ngraphql-core==2.2.1\r\ngraphql-relay==2.0.1\r\ngraphql-server-core==1.1.3\r\nhexbytes==0.2.0\r\nidna==2.8\r\nimportlib-metadata==1.3.0\r\nipfshttpclient==0.4.12\r\nitsdangerous==1.1.0\r\nJinja2==2.10.3\r\njsonschema==3.2.0\r\nlru-dict==1.1.6\r\nMarkupSafe==1.1.1\r\nmore-itertools==8.0.2\r\nmultiaddr==0.0.8\r\nmypy==0.761\r\nmypy-extensions==0.4.3\r\nnetaddr==0.7.19\r\npackaging==20.1\r\nparsimonious==0.8.1\r\npathspec==0.7.0\r\npluggy==0.13.1\r\npromise==2.3\r\nprotobuf==3.11.1\r\npy==1.8.1\r\npy-ecc==1.7.1\r\npy-evm==0.3.0a1\r\npy-geth==2.2.0\r\npycryptodome==3.9.4\r\npyethash==0.1.27\r\npyparsing==2.4.6\r\npyrsistent==0.15.6\r\npytest==5.3.5\r\nregex==2020.1.8\r\nrequests==2.22.0\r\nrlp==1.2.0\r\nRx==1.6.1\r\nsemantic-version==2.8.4\r\nsix==1.13.0\r\ntoml==0.10.0\r\ntoolz==0.10.0\r\ntrie==1.4.0\r\ntyped-ast==1.4.1\r\ntyping-extensions==3.7.4.1\r\nurllib3==1.25.7\r\nvarint==1.0.2\r\nvyper==0.1.0b17\r\nwcwidth==0.1.8\r\nweb3==5.6.0\r\nwebsockets==8.1\r\nWerkzeug==0.16.0\r\nzipp==0.6.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\nWe're using the Vyper source maps for debugging and they don't seem to map correctly for memory variables.\r\n\r\nIn particular for the following contract:\r\n\r\n```python\r\ns: uint256\r\n\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\n```\r\n\r\nwe get the following source map:\r\n\r\n`-1:-1:0:-;;;;;:::-;;:::-;:::-;;;;;;;;;;;;;;;;;;;;12:90;;;;;;:::-;;;;:::-;;;;:::-;-1:-1;59:14;12:90;-1:-1;78:6;:10;101:1;94:8;;;;;12:90;;:::-;-1:-1::-;;;;`\r\n\r\nThe line `x: uint256 = 0` should be the mapping for the 46th instruction, `MSTORE`, but in the source map this is not the case (the 46-th semicolon follows `12:90`, which maps to the whole function and only the previous semicolon (`PUSH`) touches `59:14`, the correct value.\r\n\r\nFull source mapping for your info, you can see the line PC=192 is incorrectly mapped.\r\n\r\n```\r\nOPCODE: 0x60 (PUSH1) | pc: 0\r\nOPCODE: 0x36 (CALLDATASIZE) | pc: 2\r\nOPCODE: 0x10 (LT) | pc: 3\r\nOPCODE: 0x15 (ISZERO) | pc: 4\r\nOPCODE: 0x61 (PUSH2) | pc: 5\r\nOPCODE: 0x57 (JUMPI) | pc: 8\r\nOPCODE: 0x5b (JUMPDEST) | pc: 13\r\nOPCODE: 0x60 (PUSH1) | pc: 14\r\nOPCODE: 0x35 (CALLDATALOAD) | pc: 16\r\nOPCODE: 0x60 (PUSH1) | pc: 17\r\nOPCODE: 0x52 (MSTORE) | pc: 19\r\nOPCODE: 0x74 (PUSH21) | pc: 20\r\nOPCODE: 0x60 (PUSH1) | pc: 42\r\nOPCODE: 0x52 (MSTORE) | pc: 44\r\nOPCODE: 0x6f (PUSH16) | pc: 45\r\nOPCODE: 0x60 (PUSH1) | pc: 62\r\nOPCODE: 0x52 (MSTORE) | pc: 64\r\nOPCODE: 0x7f (PUSH32) | pc: 65\r\nOPCODE: 0x60 (PUSH1) | pc: 98\r\nOPCODE: 0x52 (MSTORE) | pc: 100\r\nOPCODE: 0x74 (PUSH21) | pc: 101\r\nOPCODE: 0x60 (PUSH1) | pc: 123\r\nOPCODE: 0x52 (MSTORE) | pc: 125\r\nOPCODE: 0x7f (PUSH32) | pc: 126\r\nOPCODE: 0x60 (PUSH1) | pc: 159\r\nOPCODE: 0x52 (MSTORE) | pc: 161\r\nOPCODE: 0x63 (PUSH4) | pc: 162\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x60 (PUSH1) | pc: 167\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x51 (MLOAD) | pc: 169\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x14 (EQ) | pc: 170\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x15 (ISZERO) | pc: 171\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x61 (PUSH2) | pc: 172\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x57 (JUMPI) | pc: 175\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x34 (CALLVALUE) | pc: 176\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x15 (ISZERO) | pc: 177\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x61 (PUSH2) | pc: 178\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x57 (JUMPI) | pc: 181\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x5b (JUMPDEST) | pc: 186\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x60 (PUSH1) | pc: 187\r\nOPCODE: 0x61 (PUSH2) | pc: 189\r\nx: uint256 = 0\r\nOPCODE: 0x52 (MSTORE) | pc: 192\r\n@public\r\ndef action(a: uint256) -> uint256:\r\n    x: uint256 = 0\r\n    self.s = 1\r\n\r\n    return 0\r\nOPCODE: 0x60 (PUSH1) | pc: 193\r\nOPCODE: 0x60 (PUSH1) | pc: 195\r\nself.s\r\nOPCODE: 0x55 (SSTORE) | pc: 197\r\nself.s = 1\r\nOPCODE: 0x60 (PUSH1) | pc: 198\r\n0\r\nOPCODE: 0x60 (PUSH1) | pc: 200\r\nreturn 0\r\nOPCODE: 0x52 (MSTORE) | pc: 202\r\nreturn 0\r\nOPCODE: 0x60 (PUSH1) | pc: 203\r\nreturn 0\r\nOPCODE: 0x60 (PUSH1) | pc: 205\r\nreturn 0\r\nOPCODE: 0xf3 (RETURN) | pc: 207\r\nreturn 0\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nSource map should map to the correct line. Is there a reason MSTORE goes back to map to the whole function?\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1926", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1926/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1926/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1926/events", "html_url": "https://github.com/vyperlang/vyper/issues/1926", "id": 598386096, "node_id": "MDU6SXNzdWU1OTgzODYwOTY=", "number": 1926, "title": "Raising to a negative number raises CompilerPanic", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-12T01:23:49Z", "updated_at": "2020-07-03T22:18:25Z", "closed_at": "2020-07-03T22:18:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\nvyper Version (output of `vyper --version`): 0.1.0b17\r\n\r\n### What's your issue about?\r\nTrying to compile this:\r\n```python\r\n@public\r\ndef foo() -> decimal:\r\n    return 10 ** (-3)  # 0.001\r\n```\r\nraises this `CompilerPanic`:\r\n```\r\nCompilerPanic: Invalid value for LLL AST node: 0.001 Please create an issue.\r\n```\r\n\r\n### How can it be fixed?\r\nShould raise on trying to do a power to a negative number.\r\n\r\nSide note: we should probably disallow negative integers from this operation, at least until we allow decimals as operands (probably after #1807 is introduced too)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1904", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1904/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1904/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1904/events", "html_url": "https://github.com/vyperlang/vyper/issues/1904", "id": 589858290, "node_id": "MDU6SXNzdWU1ODk4NTgyOTA=", "number": 1904, "title": "In comparator fails when array is in calldata", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 0, "created_at": "2020-03-29T18:54:47Z", "updated_at": "2020-06-29T20:36:53Z", "closed_at": "2020-06-29T20:36:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version : `0.1.0b17`\r\n* OS: linux\r\n* Python Version : `3.8.0`\r\n\r\n### What's your issue about?\r\n\r\nUse of the `in` comparator fails when the array being checked is located in calldata:\r\n\r\n```python\r\n@public\r\ndef foo(a: int128, b: int128[1]) -> bool:\r\n    return a in b\r\n```\r\n\r\n```python\r\n>>> contract.foo(1, [1])\r\nFalse  # should be True!\r\n```\r\n\r\n* the comparison works as expected if the array is a constant, literal, memory or storage variable\r\n* changing the location of the left-hand value has no effect\r\n* changing the data type has no effect\r\n* changing the length of the array has no effect\r\n\r\n### How can it be fixed?\r\nUnclear to me at this time, likely an issue in the `build_in_comparator` method of `vyper/parser/expr.py`.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1904/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1904/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1862", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1862/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1862/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1862/events", "html_url": "https://github.com/vyperlang/vyper/issues/1862", "id": 567099267, "node_id": "MDU6SXNzdWU1NjcwOTkyNjc=", "number": 1862, "title": "Uncaught exception when expecting a return value that was never defined", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-18T19:10:14Z", "updated_at": "2020-05-01T14:47:49Z", "closed_at": "2020-05-01T14:47:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.1.0b16\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.1\r\n\r\n### What's your issue about?\r\nCompiling this contract:\r\n```python\r\ncontract Foo: \r\n    def bar(): modifying  # NOTE: Does not return `bool`\r\n\r\n@public \r\ndef bar(): \r\n    retValue: bool = Foo(msg.sender).bar()  # NOTE: Here, we expect it to return a bool\r\n```\r\nresults in this uncaught error:\r\n```bash\r\n    140                 )\r\n    141         # Check that the integer literal, can be assigned to uint256 if necessary.\r\n--> 142         elif (self.stmt.annotation.id, sub.typ.typ) == ('uint256', 'int128') and sub.typ.is_literal:\r\n    143             if not SizeLimits.in_bounds('uint256', sub.value):\r\n    144                 raise InvalidLiteralException(\r\n\r\nAttributeError: 'NoneType' object has no attribute 'typ'\r\n```\r\n\r\n### How can it be fixed?\r\nFix the check so this doesn't happen", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1862/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1856", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1856/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1856/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1856/events", "html_url": "https://github.com/vyperlang/vyper/issues/1856", "id": 564403967, "node_id": "MDU6SXNzdWU1NjQ0MDM5Njc=", "number": 1856, "title": "bytestring constants don't work", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-13T02:47:10Z", "updated_at": "2020-06-28T10:07:41Z", "closed_at": "2020-06-28T10:07:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.1.0b16+commit.6ea96f0\r\n\r\n### What's your issue about?\r\nusing bytes or string constants doesn't work. e.g.\r\n\r\n```python\r\nNAME: constant(string[5]) = \"hello\"\r\n\r\n@public\r\ndef get_name() -> string[64]:\r\n    xs: string[5] = NAME\r\n    return xs\r\n```\r\n\r\n### How can it be fixed?\r\nadd cases to `make_byte_array_copier`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1856/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1856/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1849", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1849/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1849/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1849/events", "html_url": "https://github.com/vyperlang/vyper/issues/1849", "id": 562152919, "node_id": "MDU6SXNzdWU1NjIxNTI5MTk=", "number": 1849, "title": "Use of convert prevents constant folding", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-09T10:06:51Z", "updated_at": "2020-11-27T16:54:53Z", "closed_at": "2020-11-27T16:54:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: `0.1.0-beta16`\r\n* OS: linux\r\n* Python Version: 3.8\r\n\r\n### What's your issue about?\r\nUsing the `convert` method when declaring constants prevents the compiler from applying folding rules. A minimal example:\r\n\r\n```python\r\nFOO: constant(int128) = convert(4, int128) / 2\r\n\r\n@public\r\ndef foo() -> int128:\r\n    return FOO\r\n```\r\n\r\nThe generated LLL includes:\r\n\r\n```python\r\n[mstore, 0, [with, l, 4, [with, r, 2, [seq, [clamp, [mload, 96], [sdiv, l, [clamp_nonzero, r]], [mload, 64]]]]]],\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1849/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1847", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1847/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1847/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1847/events", "html_url": "https://github.com/vyperlang/vyper/issues/1847", "id": 561003606, "node_id": "MDU6SXNzdWU1NjEwMDM2MDY=", "number": 1847, "title": "Malformed data when passing a tuple or struct that contains an array", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2020-02-06T13:12:02Z", "updated_at": "2020-05-13T17:34:51Z", "closed_at": "2020-05-13T17:34:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.1.0-beta16` (current master)\r\n* OS: linux\r\n* Python Version: 3.7\r\n\r\n### What's your issue about?\r\n\r\nAs reported by @michwill on Gitter, passing a struct between functions, where the struct contains an array, results in malformed data. WIth the following contract:\r\n\r\n```python\r\nstruct A:\r\n    many: uint256[4]\r\n    one: uint256\r\n\r\n@private\r\n@constant\r\ndef _foo(_many: uint256[4], _one: uint256) -> A:\r\n    return A({many: _many, one: _one})\r\n\r\n@public\r\n@constant\r\ndef foo() -> A:\r\n    return self._foo([1, 2, 3, 4], 5)\r\n\r\n@public\r\n@constant\r\ndef bar() -> (uint256[4], uint256):\r\n    out: A = self._foo([1, 2, 3, 4], 5)\r\n    return out.many, out.one\r\n```\r\n\r\nHere is the output of each public function:\r\n\r\n```python\r\n>>> contract.foo()\r\n((1, 2, 5, 0), 0)\r\n>>> contract.bar()\r\n((0, 0, 5, 4), 3)\r\n```\r\n\r\nObservations:\r\n1. Generating the struct within the public function and returning it, or a component of it, works as expected.\r\n2. Passing the struct between public functions of two different contracts works as expected.\r\n3. Structs that do not contain arrays work as expected.\r\n4. Removing the `@constant` modifier has no effect.\r\n\r\n### How can it be fixed?\r\nIt looks like an off-by-one (or 2?) error to me, but I'm unsure how to fix it.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1847/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1841", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1841/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1841/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1841/events", "html_url": "https://github.com/vyperlang/vyper/issues/1841", "id": 559313495, "node_id": "MDU6SXNzdWU1NTkzMTM0OTU=", "number": 1841, "title": "ABI issue with bytes and string arrays inside tuples", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-02-03T20:24:46Z", "updated_at": "2020-09-03T17:09:51Z", "closed_at": "2020-09-03T17:09:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.1.0b16`\r\n* OS: linux\r\n* Python: `3.8`\r\n\r\n### What's your issue about?\r\n\r\nReturning a tuple that contains a bytes or string array that came from another contract call gives incorrect return data:\r\n\r\n```python\r\ndef test_bytes_inside_tuple(get_contract):\r\n    code = \"\"\"\r\n@public\r\n@constant\r\ndef test_return() -> (bytes[6], uint256):\r\n    return b\"potato\", 42\r\n    \"\"\"\r\n    c1 = get_contract(code)\r\n\r\n    code = \"\"\"\r\ncontract jsonabi:\r\n    def test_return() -> (bytes[6], uint256): constant\r\n\r\n@public\r\ndef test_values(a: address) -> (bytes[6], uint256):\r\n    return jsonabi(a).test_return()\r\n    \"\"\"\r\n\r\n    c2 = get_contract(code)\r\n    assert c2.test_values(c1.address) == [b\"potato\", 42]\r\n```\r\n\r\nThe above test fails with:\r\n```\r\nAssertionError: assert [b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00*\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x06', 50855962295469179162425751602892202823040865300719823209625149558373627199488] == [b'potato', 42]\r\n```\r\n\r\nSome observations:\r\n\r\n1. The returned bytes array is always exactly 64 bytes long. I've tried a range of values between `bytes[6]` and `bytes[256]`.\r\n2. The location of the bytes array within the tuple does not seem to have an effect.\r\n3. The test passes if you assign the individual tuple values to memory variables and then return an array of those variables.\r\n4. The same behavior exists with `string`.\r\n5. The error is not present when using a `uint[]` array.\r\n6. The error is not present when calling from a public function into a private function in the same contract.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1841/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1840", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1840/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1840/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1840/events", "html_url": "https://github.com/vyperlang/vyper/issues/1840", "id": 559297788, "node_id": "MDU6SXNzdWU1NTkyOTc3ODg=", "number": 1840, "title": "No length check on bytes and string arrays", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 1, "created_at": "2020-02-03T19:53:27Z", "updated_at": "2020-07-02T12:45:36Z", "closed_at": "2020-07-02T12:45:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.1.0b16`\r\n* OS: linux\r\n* Python: `3.8`\r\n\r\n\r\n### What's your issue about?\r\n\r\nWhen a contract expects to receive a fixed length bytes or string array, there is no check on the length of the received data.  In the following example, calling `Bar.bar(Foo.address)` returns `b\"foobar\"`.\r\n\r\nContract `Foo`:\r\n\r\n```python\r\n@public\r\ndef foo() -> bytes[6]:\r\n    return b\"foobar\"\r\n```\r\n\r\nContract `Bar`:\r\n\r\n```python\r\ncontract Foo:\r\n    def foo() -> bytes[3]: constant\r\n\r\na: bytes[3]\r\n\r\n@public\r\ndef bar(_addr: address) -> bytes[3]:\r\n    self.a = Foo(_addr).foo()\r\n    return self.a\r\n```\r\n\r\nThis is an issue because Vyper does not allow dynamic arrays but Solidity does. If a Vyper contract is interacting with a Solidity contract that returns `bytes` or `string` it must give an upper bound on the expected bytes length.\r\n\r\n### How can it be fixed?\r\nCheck the length of the returned data when receiving a bytes or string array. If the length exceeds the given upper bound, truncate it.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1839", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1839/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1839/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1839/events", "html_url": "https://github.com/vyperlang/vyper/issues/1839", "id": 558713639, "node_id": "MDU6SXNzdWU1NTg3MTM2Mzk=", "number": 1839, "title": "Cannot return a struct when it has an array in it", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-02T15:37:19Z", "updated_at": "2020-02-03T16:35:08Z", "closed_at": "2020-02-03T16:35:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b16\r\n* OS: linux\r\n\r\nExample causing an issue:\r\n```python\r\nZ256: constant(uint256) = 0\r\nZEROS: constant(uint256[3]) = [Z256, Z256, Z256]\r\n\r\nstruct A:\r\n    single: uint256\r\n    arr: uint256[3]\r\n\r\n@constant\r\n@private\r\ndef f() -> A:\r\n    x: A = A({single: 0, arr: ZEROS})\r\n    return x\r\n```\r\n\r\nResult:\r\n```\r\nError compiling: structbug.vy\r\nvyper.exceptions.TypeMismatchException: line 12:4 Invalid type for array index: None\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1836", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1836/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1836/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1836/events", "html_url": "https://github.com/vyperlang/vyper/issues/1836", "id": 552677352, "node_id": "MDU6SXNzdWU1NTI2NzczNTI=", "number": 1836, "title": "Compiler error", "user": {"login": "trnhgquan", "id": 27343387, "node_id": "MDQ6VXNlcjI3MzQzMzg3", "avatar_url": "https://avatars.githubusercontent.com/u/27343387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trnhgquan", "html_url": "https://github.com/trnhgquan", "followers_url": "https://api.github.com/users/trnhgquan/followers", "following_url": "https://api.github.com/users/trnhgquan/following{/other_user}", "gists_url": "https://api.github.com/users/trnhgquan/gists{/gist_id}", "starred_url": "https://api.github.com/users/trnhgquan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trnhgquan/subscriptions", "organizations_url": "https://api.github.com/users/trnhgquan/orgs", "repos_url": "https://api.github.com/users/trnhgquan/repos", "events_url": "https://api.github.com/users/trnhgquan/events{/privacy}", "received_events_url": "https://api.github.com/users/trnhgquan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-21T07:40:19Z", "updated_at": "2021-10-06T07:34:57Z", "closed_at": "2021-10-06T07:34:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b14+commit.49b201c\r\n* OS: osx\r\n* Python Version (output of `python --version`): 3.6.2\r\n* Environment (output of `pip freeze`):\r\nasn1crypto==1.2.0\r\nasttokens==1.1.13\r\nattrs==19.3.0\r\ncffi==1.13.2\r\ncoincurve==13.0.0\r\ncoverage==5.0.1\r\ncytoolz==0.10.1\r\neth-hash==0.2.0\r\neth-typing==2.2.1\r\neth-utils==1.8.4\r\nethereum==2.3.1\r\nfuture==0.18.2\r\nimportlib-metadata==1.3.0\r\nmore-itertools==8.0.2\r\nmypy-extensions==0.4.3\r\npackaging==19.2\r\npbkdf2==1.3\r\npluggy==0.13.1\r\npy==1.8.1\r\npy-ecc==1.7.1\r\npycparser==2.19\r\npycryptodome==3.9.4\r\npyethash==0.1.27\r\npyparsing==2.4.6\r\npysha3==1.0.2\r\npytest==5.3.2\r\npytest-cov==2.5.1\r\nPyYAML==5.2\r\nrepoze.lru==0.7\r\nrlp==1.2.0\r\nscrypt==0.8.13\r\nsix==1.13.0\r\ntoolz==0.10.0\r\nvyper==0.1.0b14\r\nwcwidth==0.1.8\r\nzipp==0.6.0\r\n### What's your issue about?\r\nI have a contract below:\r\n```python\r\nmap1: map(bytes[48], uint256)\r\nmap2: map(uint256, bytes[48])\r\n\r\nowner: public(address)\r\n\r\n@public\r\ndef __init__():\r\n    self.owner = msg.sender\r\n    \r\n\r\n@public\r\ndef check(a: uint256) -> uint256:\r\n    return self.map1[self.map2[a]]\r\n```\r\nand get error when compile as `Number of arguments mismatched: sha3_64 [] Please create an issue.`\r\nBut when i changed `check` function to the code below, its work.\r\n```python\r\n@public\r\ndef check(a: uint256) -> uint256:\r\n    b: bytes[48] = self.map2[a]\r\n    return self.map1[b]\r\n```\r\n\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\n* what command you ran\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1836/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1832", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1832/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1832/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1832/events", "html_url": "https://github.com/vyperlang/vyper/issues/1832", "id": 549261443, "node_id": "MDU6SXNzdWU1NDkyNjE0NDM=", "number": 1832, "title": "Cannot generate AST from ABI containing string or bytes", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-14T00:30:17Z", "updated_at": "2020-02-10T19:22:09Z", "closed_at": "2020-02-10T19:22:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version: 0.1.0b16\r\n* OS: linux\r\n* Python Version: 3.7\r\n\r\n### What's your issue about?\r\nWhen importing a `json` file as an interface, if any inputs or outputs use type `string` or `bytes`, there is a `TypeError` raised:\r\n\r\n```python\r\n  File \"vyper/signatures/interface.py\", line 72, in abi_type_to_ast\r\n    slice=ast.Index(256)\r\nTypeError: __init__() takes 1 positional argument but 2 were given\r\n```\r\n\r\nIt seems `ast.Index` is incorrect being initiated for these types:\r\n\r\nhttps://github.com/vyperlang/vyper/blob/d4c53204ce4bb3a314443f6d6deadbb2b2111cdd/vyper/signatures/interface.py#L59-L73\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1832/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1828", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1828/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1828/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1828/events", "html_url": "https://github.com/vyperlang/vyper/issues/1828", "id": 547493524, "node_id": "MDU6SXNzdWU1NDc0OTM1MjQ=", "number": 1828, "title": "KeyError when using an absolute file name", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-09T13:56:41Z", "updated_at": "2020-01-09T22:49:25Z", "closed_at": "2020-01-09T22:49:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper version: 0.1.0b15\r\n* OS: Linux, MacOS\r\n* Python version: 3.7\r\n\r\n### What's your issue about?\r\n\r\nSince 0.1.0.b15 using an absolute filename when calling Vyper from the command line \r\n```$ vyper /home/.../mycontract.vy```\r\n causes a KeyError.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1826", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1826/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1826/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1826/events", "html_url": "https://github.com/vyperlang/vyper/issues/1826", "id": 547161231, "node_id": "MDU6SXNzdWU1NDcxNjEyMzE=", "number": 1826, "title": "issue generating ABI", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-08T23:26:20Z", "updated_at": "2020-06-28T15:08:05Z", "closed_at": "2020-06-28T15:08:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version : 0.1.0b15\r\n* OS: linux\r\n* Python Version : 3.8\r\n\r\n### What's your issue about?\r\nThe following code raises an `InvalidTypeException` when attempting to generate an abi via `compile_code`:\r\n```python\r\nfrom vyper.interfaces import ERC721 \r\ntoken: public(ERC721) \r\n@public \r\ndef __init__(_token: address): \r\n    self.token = ERC721(_token)\r\n```\r\nIt does not raise when compiling to bytecode.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1824", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1824/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1824/events", "html_url": "https://github.com/vyperlang/vyper/issues/1824", "id": 546649905, "node_id": "MDU6SXNzdWU1NDY2NDk5MDU=", "number": 1824, "title": "Allow interfaces to be used in mappings", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-01-08T05:16:43Z", "updated_at": "2021-07-28T13:47:32Z", "closed_at": "2021-07-28T13:47:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nUsing interfaces as a destination in a mapping:\r\n```python\r\ninterface MyInterface: \r\n    def kick(): modifying\r\n\r\nkickers: HashMap[address, MyInterface]\r\n```\r\nraises this exception:\r\n```bash\r\nvyper/types/types.py in parse_type(item, location, sigs, custom_units, custom_structs, constants)\r\n    352             )\r\n    353         else:\r\n--> 354             raise InvalidTypeException(\"Invalid base type: \" + item.id, item)\r\n    355     # Units, e.g. num (1/sec) or contracts\r\n    356     elif isinstance(item, ast.Call) and isinstance(item.func, ast.Name):\r\n\r\nInvalidTypeException: line 5:26 Invalid base type: MyInterface\r\n     4\r\n---> 5 kickers: HashMap[address, MyInterface]\r\n---------------------------------^\r\n     6\r\n```\r\n\r\ndoesn't really seem to be any reason why, especially since it works for standard variables and arrays:\r\n```python\r\ninterface MyInterface: \r\n    def kick(): modifying\r\n\r\nkicker: MyInterface\r\nkickers: MyInterface[5]\r\n```\r\n\r\n### How can it be fixed?\r\nAllow it to use interfaces as the _destination_ of a mapped entry", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1823", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1823/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1823/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1823/events", "html_url": "https://github.com/vyperlang/vyper/issues/1823", "id": 546631286, "node_id": "MDU6SXNzdWU1NDY2MzEyODY=", "number": 1823, "title": "Zerovalent error on assert_modifiable", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-08T03:58:34Z", "updated_at": "2020-06-26T21:53:36Z", "closed_at": "2020-06-26T21:53:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b15\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.7.5\r\n\r\n### What's your issue about?\r\nWhen compiling this contract:\r\n```python\r\nfrom vyper.interfaces import ERC721 \r\n \r\n@public \r\ndef foo(): \r\n    assert_modifiable(ERC721(msg.sender).safeTransferFrom(msg.sender, self, 1, b\"\"))\r\n```\r\nVyper raises this error:\r\n```bash\r\nFile \"vyper/parser/stmt.py\", line 89, in __init__\r\n    self.lll_node = self.stmt_table[stmt_type]()\r\n  File \"vyper/parser/stmt.py\", line 94, in expr\r\n    return Stmt(self.stmt.value, self.context).lll_node\r\n  File \"vyper/parser/stmt.py\", line 89, in __init__\r\n    self.lll_node = self.stmt_table[stmt_type]()\r\n  File \"vyper/parser/stmt.py\", line 390, in call\r\n    return STMT_DISPATCH_TABLE[self.stmt.func.id](self.stmt, self.context)\r\n  File \"vyper/functions/signatures.py\", line 135, in g\r\n    context,\r\n  File \"vyper/functions/signatures.py\", line 84, in process_arg\r\n    vsub = vsub or Expr.parse_value_expr(arg, context)\r\n  File \"vyper/parser/expr.py\", line 1157, in parse_value_expr\r\n    return unwrap_location(cls(expr, context).lll_node)\r\n  File \"vyper/parser/parser_utils.py\", line 467, in unwrap_location\r\n    return LLLnode.from_list(['mload', orig], typ=orig.typ)\r\n  File \"vyper/parser/lll_node.py\", line 379, in from_list\r\n    valency=valency,\r\n  File \"vyper/parser/lll_node.py\", line 120, in __init__\r\n    \"Can't have a zerovalent argument to an opcode or a pseudo-opcode! \"\r\nCompilerPanic: Can't have a zerovalent argument to an opcode or a pseudo-opcode! seq: [seq,\r\n  [assert, [extcodesize, [sload, 1 <self.token>]]],\r\n  [assert, [ne, address, [sload, 1 <self.token>]]],\r\n  [assert,\r\n    [call,\r\n      gas,\r\n      [sload, 1 <self.token>],\r\n      0,\r\n      [with,\r\n        _poz,\r\n        128,\r\n        [seq,\r\n          [mstore, 384, 3096268766],\r\n          [mstore, 416, caller],\r\n          [mstore, 448, address],\r\n          [mstore, 480, [calldataload, 4 <_tokenId>]],\r\n          [mstore, 512, _poz],\r\n          [with,\r\n            _s,\r\n            /* Create bytes[0]: b'' */ [seq, [mstore, 320, 0], 320],\r\n            [seq,\r\n              /* Memory copy */ \r\n              [with,\r\n                _source,\r\n                _s,\r\n                [with,\r\n                  _sz,\r\n                  [add, 32, [mload, _source]],\r\n                  [assert, [call, gas, 4, 0, _source, _sz, [add, 416, _poz], _sz]]]],\r\n              [set, _poz, [add, 32, [ceil32, [add, _poz, [mload, _s]]]]]]],\r\n          412]],\r\n      1188,\r\n      0,\r\n      0]]]. Please file a bug report. Please create an issue.\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1822", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1822/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1822/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1822/events", "html_url": "https://github.com/vyperlang/vyper/issues/1822", "id": 546624670, "node_id": "MDU6SXNzdWU1NDY2MjQ2NzA=", "number": 1822, "title": "ERC721 Interface is wrong", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-08T03:30:30Z", "updated_at": "2022-01-25T16:52:24Z", "closed_at": "2020-06-28T10:00:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\nThe `ERC721` interface in our repository does not conform with the `ERC721` spec\r\n\r\n### How can it be fixed?\r\nLikely stemming from these lines:\r\nhttps://github.com/vyperlang/vyper/blob/44f44dea7dfed836caa92e56ee28a5c7392a7bd4/vyper/interfaces/ERC721.py#L39-L45\r\n\r\nwhich should be replaced with:\r\n```python\r\n @public \r\n def safeTransferFrom(_from: address, _to: address, _tokenId: uint256, _data: bytes[1024]=b\"\"): \r\n     pass \r\n```\r\nso as to generate the correct interface (where `safeTransferFrom` is overloaded)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1821", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1821/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1821/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1821/events", "html_url": "https://github.com/vyperlang/vyper/issues/1821", "id": 546622990, "node_id": "MDU6SXNzdWU1NDY2MjI5OTA=", "number": 1821, "title": "Weird issue with returning data", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-08T03:23:50Z", "updated_at": "2020-05-01T14:47:49Z", "closed_at": "2020-05-01T14:47:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b15\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.7.5\r\n\r\n### What's your issue about?\r\ncontract:\r\n```python\r\nfrom vyper.interfaces import ERC721 \r\n \r\n@public \r\ndef foo(): \r\n    success: bool = ERC721(msg.sender).transferFrom(msg.sender, self, 1) \r\n```\r\n\r\nerror:\r\n```bash\r\nvyper/parser/stmt.py in _check_valid_assign(self, sub)\r\n    140                 )\r\n    141         # Check that the integer literal, can be assigned to uint256 if necessary.\r\n--> 142         elif (self.stmt.annotation.id, sub.typ.typ) == ('uint256', 'int128') and sub.typ.is_literal:\r\n    143             if not SizeLimits.in_bounds('uint256', sub.value):\r\n    144                 raise InvalidLiteralException(\r\n\r\nAttributeError: 'NoneType' object has no attribute 'typ'\r\n```\r\n\r\n\r\n### How can it be fixed?\r\nUnsure where this comes from, but if I remove `success: bool =` from the equation it goes away", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1821/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1814", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1814/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1814/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1814/events", "html_url": "https://github.com/vyperlang/vyper/issues/1814", "id": 546127184, "node_id": "MDU6SXNzdWU1NDYxMjcxODQ=", "number": 1814, "title": "Mistake of Compiler", "user": {"login": "trnhgquan", "id": 27343387, "node_id": "MDQ6VXNlcjI3MzQzMzg3", "avatar_url": "https://avatars.githubusercontent.com/u/27343387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trnhgquan", "html_url": "https://github.com/trnhgquan", "followers_url": "https://api.github.com/users/trnhgquan/followers", "following_url": "https://api.github.com/users/trnhgquan/following{/other_user}", "gists_url": "https://api.github.com/users/trnhgquan/gists{/gist_id}", "starred_url": "https://api.github.com/users/trnhgquan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trnhgquan/subscriptions", "organizations_url": "https://api.github.com/users/trnhgquan/orgs", "repos_url": "https://api.github.com/users/trnhgquan/repos", "events_url": "https://api.github.com/users/trnhgquan/events{/privacy}", "received_events_url": "https://api.github.com/users/trnhgquan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-07T07:30:56Z", "updated_at": "2020-01-08T15:38:26Z", "closed_at": "2020-01-08T04:04:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b14+commit.c9f6162\r\n* OS: OSX\r\n* Python Version (output of `python --version`): 3.6.2\r\n* Environment (output of `pip freeze`):\r\nasn1crypto==1.2.0\r\nasttokens==2.0.3\r\nattrs==19.3.0\r\ncffi==1.13.2\r\ncoincurve==13.0.0\r\ncoverage==5.0.1\r\ncytoolz==0.10.1\r\neth-hash==0.2.0\r\neth-typing==2.2.1\r\neth-utils==1.8.4\r\nethereum==2.3.1\r\nfuture==0.18.2\r\nimportlib-metadata==1.3.0\r\nmore-itertools==8.0.2\r\nmypy-extensions==0.4.3\r\npackaging==19.2\r\npbkdf2==1.3\r\npluggy==0.13.1\r\npy==1.8.1\r\npy-ecc==1.7.1\r\npycparser==2.19\r\npycryptodome==3.9.4\r\npyethash==0.1.27\r\npyparsing==2.4.6\r\npysha3==1.0.2\r\npytest==5.3.2\r\npytest-cov==2.5.1\r\nPyYAML==5.2\r\nrepoze.lru==0.7\r\nrlp==1.2.0\r\nscrypt==0.8.13\r\nsix==1.13.0\r\ntoolz==0.10.0\r\nvyper==0.1.0b14\r\nwcwidth==0.1.8\r\nzipp==0.6.0\r\n### What's your issue about?\r\nI have a contract like below:\r\n\r\nPlease include information like:\r\n```\r\nMAX_SUBS: constant(uint256) = 32\r\nFEE_POOL: constant(wei_value) = 100000000000000000 # 0.1 ETH\r\nSTAKE_VALUE: constant(wei_value) = 3200000000000000000 # 3.2 ETH\r\n\r\nlockUpBalance: wei_value\r\nfeeBalance: wei_value\r\nowner: public(address)\r\n\r\n@public\r\ndef __init__():\r\n    self.owner = msg.sender\r\n\r\n\r\n@public\r\n@constant\r\ndef getFeePool() -> wei_value:  \r\n    return self.feeBalance\r\n\r\n@public\r\n@constant\r\ndef getLockUpPool() -> wei_value: \r\n    return self.lockUpBalance\r\n```\r\n* full output of the error you received\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/trnhgquan/vyper-venv/bin/vyper\", line 8, in <module>\r\n    sys.exit(_parse_cli_args())\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/cli/vyper_compile.py\", line 57, in _parse_cli_args\r\n    return _parse_args(sys.argv[1:])\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/cli/vyper_compile.py\", line 127, in _parse_args\r\n    args.show_gas_estimates\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/cli/vyper_compile.py\", line 241, in compile_files\r\n    interface_codes=get_interface_codes(root_path, contract_sources)\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/compiler.py\", line 333, in compile_codes\r\n    exc_handler(contract_name, exc)\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/cli/vyper_compile.py\", line 159, in exc_handler\r\n    raise exception\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/compiler.py\", line 329, in compile_codes\r\n    source_id=source_id\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/compiler.py\", line 225, in _mk_bytecode_output\r\n    return '0x' + __compile(code, interface_codes=interface_codes).hex()\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/compiler.py\", line 50, in __compile\r\n    runtime_only=kwargs.get('bytecode_runtime', False)\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/parser.py\", line 203, in parse_tree_to_lll\r\n    o, otherfuncs, sigs, external_contracts, origcode, global_ctx, defaultfunc, runtime_only\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/parser.py\", line 127, in parse_other_functions\r\n    parse_function(_def, {**{'self': sigs}, **external_contracts}, origcode, global_ctx)\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/function_definitions/parse_function.py\", line 79, in parse_function\r\n    context=context,\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/function_definitions/parse_public_function.py\", line 280, in parse_public_function\r\n    ] + nonreentrant_post + [['stop']]\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/function_definitions/parse_public_function.py\", line 278, in <listcomp>\r\n    for c\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/stmt.py\", line 1013, in parse_body\r\n    return parse_stmt(code, context)\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/stmt.py\", line 1007, in parse_stmt\r\n    return Stmt(stmt, context).lll_node\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/stmt.py\", line 91, in __init__\r\n    self.lll_node = self.stmt_table[stmt_type]()\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/parser/stmt.py\", line 809, in parse_return\r\n    if not SizeLimits.in_bounds(self.context.return_type.typ, sub.value):\r\n  File \"/Users/trnhgquan/vyper-venv/lib/python3.6/site-packages/vyper/utils.py\", line 117, in in_bounds\r\n    return 0 <= value <= cls.MAX_UINT256\r\nTypeError: '<=' not supported between instances of 'int' and 'str'\r\n```\r\n* what command you ran: vyper contract.vy\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n\r\n\r\n### How can it be fixed?\r\n- When i remove constant variable (comments by #) or remove 2 function `getFeePool`, `getLockUpPool`, the issues will dissapear and compiler work. Its so weird.\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1805", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1805/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1805/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1805/events", "html_url": "https://github.com/vyperlang/vyper/issues/1805", "id": 545605650, "node_id": "MDU6SXNzdWU1NDU2MDU2NTA=", "number": 1805, "title": "Vyper creates invalid ASCII bytes", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T08:31:04Z", "updated_at": "2021-10-06T07:27:59Z", "closed_at": "2021-10-06T07:27:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper version: 0.1.0b14\r\n\r\n### What's your issue about?\r\n\r\nThe following code\r\n```\r\n@public\r\ndef foo() -> string[5]:\r\n   return \"\u00e4\"\r\n```\r\nreturns a bytes array b'\\xe4' which is invalid ASCII.\r\n\r\n### How can it be fixed?\r\n\r\nI think the problem is this section in signature.py:\r\n```\r\nbytez = b''\r\nfor c in arg.s:\r\n  if ord(c) >= 256:\r\n       raise InvalidLiteralException(\r\n            f\"Cannot insert special character {c} into byte array\",\r\n             arg,\r\n             )\r\n   bytez += bytes([ord(c)])\r\nreturn bytez\r\n```\r\nwhich checks that a character is valid ASCII. Since ASCII only uses 7 bits the check should be `ord(c) >= 128` instead of 256.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1802", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1802/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1802/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1802/events", "html_url": "https://github.com/vyperlang/vyper/issues/1802", "id": 545315662, "node_id": "MDU6SXNzdWU1NDUzMTU2NjI=", "number": 1802, "title": "`AttributeError: 'Attribute' object has no attribute 'id'` on constants", "user": {"login": "agroce", "id": 967816, "node_id": "MDQ6VXNlcjk2NzgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroce", "html_url": "https://github.com/agroce", "followers_url": "https://api.github.com/users/agroce/followers", "following_url": "https://api.github.com/users/agroce/following{/other_user}", "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroce/subscriptions", "organizations_url": "https://api.github.com/users/agroce/orgs", "repos_url": "https://api.github.com/users/agroce/repos", "events_url": "https://api.github.com/users/agroce/events{/privacy}", "received_events_url": "https://api.github.com/users/agroce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-04T18:26:54Z", "updated_at": "2020-01-07T20:03:18Z", "closed_at": "2020-01-07T16:33:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b14+commit.4ac5ef5\r\n OS: osx\r\n* Python Version (output of `python --version`): 3.7.5\r\n* Environment (output of `pip freeze`): same as previous TSTL issues\r\n\r\n### What's your issue about?\r\n\r\nCompiling:\r\n\r\n```\r\ncv0: constant(address) = block.coinbase.balance\r\n```\r\n\r\nproduces:\r\n\r\n```\r\nError compiling: vfile.67808.vy\r\nAttributeError: 'Attribute' object has no attribute 'id'\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1761", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1761/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1761/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1761/events", "html_url": "https://github.com/vyperlang/vyper/issues/1761", "id": 535972769, "node_id": "MDU6SXNzdWU1MzU5NzI3Njk=", "number": 1761, "title": "Potentially insufficient gas stipend for precompiled contract calls", "user": {"login": "daejunpark", "id": 5491770, "node_id": "MDQ6VXNlcjU0OTE3NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5491770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daejunpark", "html_url": "https://github.com/daejunpark", "followers_url": "https://api.github.com/users/daejunpark/followers", "following_url": "https://api.github.com/users/daejunpark/following{/other_user}", "gists_url": "https://api.github.com/users/daejunpark/gists{/gist_id}", "starred_url": "https://api.github.com/users/daejunpark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daejunpark/subscriptions", "organizations_url": "https://api.github.com/users/daejunpark/orgs", "repos_url": "https://api.github.com/users/daejunpark/repos", "events_url": "https://api.github.com/users/daejunpark/events{/privacy}", "received_events_url": "https://api.github.com/users/daejunpark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-12-10T20:21:13Z", "updated_at": "2019-12-17T22:58:14Z", "closed_at": "2019-12-17T22:58:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): `0.1.0b13+commit.375fb27`\r\n\r\n(confirmed the same behavior at `0.1.0b14+commit.49b201c` as well.)\r\n\r\n### What's your issue about?\r\n\r\nVyper utilizes the ID precompiled contract call for doing memcpy-like operations. That is, the compiled bytecode contains the opcode pattern `CALL GASCAP 4 0 SRC SIZE DEST SIZE` to copy the local memory region from SRC to DEST.\r\n\r\nThe problem is that the allocated gas stipend `GASCAP` for the call in the bytecode is constant-bounded, (e.g., 21 when SIZE == 32), which may not be sufficient in a future hardfork that modifies the gas schedule. Thus this may result in that any such future hardfork may be significantly delayed or long-lasting contracts (such as the deposit contract) may need to be redeployed.\r\n\r\nIs there a specific reason to have this tight gas cap bound?\r\n\r\nBTW, this behavior doesn't seem to be consistent. For example, when it calls to the SHA256 precompiled contract, it simply allocates all available gas for the call stipend.\r\n\r\n### How can it be fixed?\r\n\r\nAllocate all available gas (i.e., using the `GAS` opcode) when calling to precompiled contracts.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1761/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1757", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1757/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1757/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1757/events", "html_url": "https://github.com/vyperlang/vyper/issues/1757", "id": 534109682, "node_id": "MDU6SXNzdWU1MzQxMDk2ODI=", "number": 1757, "title": "Unary subtraction on decimals", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-06T16:11:58Z", "updated_at": "2019-12-07T02:43:22Z", "closed_at": "2019-12-07T02:43:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b14\r\n\r\n### What's your issue about?\r\n\r\nIn the release beta 14 release notes it says that unary subtraction on unsigend types is now rejected. However, it also happens for decimals. The following\r\n```\r\n@public\r\ndef negation(d: decimal) -> decimal:\r\n   return  -d\r\n```\r\nused to compile before but now doesn't.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1755", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1755/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1755/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1755/events", "html_url": "https://github.com/vyperlang/vyper/issues/1755", "id": 532058539, "node_id": "MDU6SXNzdWU1MzIwNTg1Mzk=", "number": 1755, "title": "Disallow @nonreentrant on __init__", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/2", "html_url": "https://github.com/vyperlang/vyper/milestone/2", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/2/labels", "id": 5624309, "node_id": "MDk6TWlsZXN0b25lNTYyNDMwOQ==", "number": 2, "title": "v0.3.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 11, "state": "open", "created_at": "2020-07-06T18:39:04Z", "updated_at": "2022-06-08T21:08:17Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2019-12-03T15:17:26Z", "updated_at": "2021-08-18T21:31:58Z", "closed_at": "2021-08-18T21:31:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper version: 0.1.0b13\r\n\r\n### What's your issue about?\r\n\r\nThe `@nonreentrant` decorator doesn't make sense on `__init__` and is currently just ignored. It would probably be better to just disallow writing it.\r\n```\r\n@public\r\n@nonreentrant('lock')\r\ndef __init__():\r\n    pass\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1755/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1755/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1753", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1753/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1753/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1753/events", "html_url": "https://github.com/vyperlang/vyper/issues/1753", "id": 530594938, "node_id": "MDU6SXNzdWU1MzA1OTQ5Mzg=", "number": 1753, "title": "Cannot import an inteface under a different name", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-30T15:48:06Z", "updated_at": "2020-07-06T06:37:30Z", "closed_at": "2020-07-06T06:37:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b14\r\n\r\n### What's your issue about?\r\n\r\nWhen importing module under a different name, e.g.:\r\n```python\r\nimport module_a as module_b\r\n```\r\nHowever, this causes an error when compiling the contract:\r\n```\r\nE                       vyper.exceptions.StructureException: line 1:0 Unknown interface module_b\r\nE                       ---> 1 import module_a as module_b\r\nE                       -------^\r\nE                            2\r\n```\r\n\r\nWhat works is only `import module_a as module_a`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1732", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1732/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1732/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1732/events", "html_url": "https://github.com/vyperlang/vyper/issues/1732", "id": 523857349, "node_id": "MDU6SXNzdWU1MjM4NTczNDk=", "number": 1732, "title": "Exception: Clamp always fails", "user": {"login": "agroce", "id": 967816, "node_id": "MDQ6VXNlcjk2NzgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroce", "html_url": "https://github.com/agroce", "followers_url": "https://api.github.com/users/agroce/followers", "following_url": "https://api.github.com/users/agroce/following{/other_user}", "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroce/subscriptions", "organizations_url": "https://api.github.com/users/agroce/orgs", "repos_url": "https://api.github.com/users/agroce/repos", "events_url": "https://api.github.com/users/agroce/events{/privacy}", "received_events_url": "https://api.github.com/users/agroce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-16T15:19:24Z", "updated_at": "2020-06-30T15:39:11Z", "closed_at": "2020-06-30T15:39:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Same setup as previous TSTL reports.\r\n\r\n```\r\n@public\r\ndef f0():\r\n    lv0: decimal = MAX_DECIMAL + MAX_DECIMAL\r\n    raise(\"0\")\r\n```\r\n\r\nvyper vfile.84642.vy\r\nError compiling: vfile.84642.vy\r\nException: Clamp always fails\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1725", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1725/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1725/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1725/events", "html_url": "https://github.com/vyperlang/vyper/issues/1725", "id": 522372117, "node_id": "MDU6SXNzdWU1MjIzNzIxMTc=", "number": 1725, "title": "AttributeError: 'str' object has no attribute 'fornat' (typo in vyper source)", "user": {"login": "agroce", "id": 967816, "node_id": "MDQ6VXNlcjk2NzgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroce", "html_url": "https://github.com/agroce", "followers_url": "https://api.github.com/users/agroce/followers", "following_url": "https://api.github.com/users/agroce/following{/other_user}", "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroce/subscriptions", "organizations_url": "https://api.github.com/users/agroce/orgs", "repos_url": "https://api.github.com/users/agroce/repos", "events_url": "https://api.github.com/users/agroce/events{/privacy}", "received_events_url": "https://api.github.com/users/agroce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-13T17:37:38Z", "updated_at": "2019-11-14T05:24:30Z", "closed_at": "2019-11-14T05:24:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Same version/environment issue as previous TSTL-discovered bugs.\r\n\r\n```\r\ncv0: constant(uint256) = block.difficulty\r\ncv1: constant(uint256) = convert(cv0, uint256)\r\n@public\r\ndef f0():\r\n    assert cv0\r\n```\r\n\r\ngets:\r\n\r\n```\r\n(vyper-venv) cmp3149:vyper adg326$ vyper vfile.9938.vy \r\nError compiling: vfile.9938.vy\r\nAttributeError: 'str' object has no attribute 'fornat'\r\n```\r\n\r\nThe fix is pretty trivial, see the line in `convert.py`:\r\n\r\n`vyper/types/convert.py:            raise InvalidLiteralException(\"Unknown numeric literal type: {}\".fornat(in_arg))`\r\n\r\nI'll maybe do a tiny PR to fix now.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1725/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1717", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1717/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1717/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1717/events", "html_url": "https://github.com/vyperlang/vyper/issues/1717", "id": 521122116, "node_id": "MDU6SXNzdWU1MjExMjIxMTY=", "number": 1717, "title": "Attempting to set a variable = raw_call gives me a compiler bug AttributeError", "user": {"login": "Alexangelj", "id": 38409137, "node_id": "MDQ6VXNlcjM4NDA5MTM3", "avatar_url": "https://avatars.githubusercontent.com/u/38409137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alexangelj", "html_url": "https://github.com/Alexangelj", "followers_url": "https://api.github.com/users/Alexangelj/followers", "following_url": "https://api.github.com/users/Alexangelj/following{/other_user}", "gists_url": "https://api.github.com/users/Alexangelj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alexangelj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alexangelj/subscriptions", "organizations_url": "https://api.github.com/users/Alexangelj/orgs", "repos_url": "https://api.github.com/users/Alexangelj/repos", "events_url": "https://api.github.com/users/Alexangelj/events{/privacy}", "received_events_url": "https://api.github.com/users/Alexangelj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-11T18:40:07Z", "updated_at": "2019-11-12T15:48:43Z", "closed_at": "2019-11-12T15:48:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b13+commit.375fb27\r\n* OS: Windows 10 Home Version 1903 OS Build 18362.418\r\n* Python Version (output of `python --version`): 3.7.3\r\n* Environment (output of `pip freeze`): \r\n`\r\nastroid==2.3.3\r\nasttokens==1.1.13\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.3.0\r\nbase58==1.0.3\r\ncertifi==2019.9.11\r\nchardet==3.0.4\r\ncolorama==0.4.1\r\ncytoolz==0.10.1\r\neth-abi==2.0.0\r\neth-account==0.4.0\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.4\r\neth-rlp==0.1.2\r\neth-tester==0.3.0b1\r\neth-typing==2.2.0\r\neth-utils==1.8.0\r\nhexbytes==0.2.0\r\nidna==2.8\r\nimportlib-metadata==0.23\r\nipfshttpclient==0.4.12\r\nisort==4.3.21\r\njsonschema==3.1.1\r\nlazy-object-proxy==1.4.3\r\nlru-dict==1.1.6\r\nmccabe==0.6.1\r\nmore-itertools==7.2.0\r\nmultiaddr==0.0.8\r\nnetaddr==0.7.19\r\npackaging==19.2\r\nparsimonious==0.8.1\r\npluggy==0.13.0\r\nprotobuf==3.10.0\r\npy==1.8.0\r\npycryptodome==3.9.1\r\npylint==2.4.3\r\npyparsing==2.4.4\r\npypiwin32==223\r\npyrsistent==0.15.5\r\npytest==5.2.2\r\npywin32==225\r\nrequests==2.22.0\r\nrlp==1.1.0\r\nsemantic-version==2.8.2\r\nsix==1.13.0\r\ntoolz==0.10.0\r\ntyped-ast==1.4.0\r\nurllib3==1.25.6\r\nvarint==1.0.2\r\nvyper==0.1.0b13\r\nwcwidth==0.1.7\r\nweb3==5.2.2\r\nwebsockets==7.0\r\nwrapt==1.11.2\r\nzipp==0.6.0\r\n`\r\n\r\n### What's your issue about?\r\n\r\nPlease include information like:\r\n\r\nThis code snippet:\r\n`raw_value: bytes32 = raw_call(self.oracle_address, method_id('getLatestPrice(bytes32)', bytes[4]), outsize=32, gas=msg.gas)`\r\n\r\nGives me this error when I attempt to compile:\r\nAttributeError: 'Call' object has no attribute 's'\r\n\r\n\r\n\r\n\r\n### How can it be fixed?\r\n\r\nWhen I set raw_value as empty and run this code it gives me no compiler errors:\r\n`self.raw_value = raw_call(self.oracle_address, method_id('getLatestUpdatedHeight()', bytes[4]), outsize=32, gas=msg.gas)`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1717/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1712", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1712/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1712/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1712/events", "html_url": "https://github.com/vyperlang/vyper/issues/1712", "id": 520511019, "node_id": "MDU6SXNzdWU1MjA1MTEwMTk=", "number": 1712, "title": "Overflow in loop", "user": {"login": "FranciscoDomingues", "id": 45126150, "node_id": "MDQ6VXNlcjQ1MTI2MTUw", "avatar_url": "https://avatars.githubusercontent.com/u/45126150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FranciscoDomingues", "html_url": "https://github.com/FranciscoDomingues", "followers_url": "https://api.github.com/users/FranciscoDomingues/followers", "following_url": "https://api.github.com/users/FranciscoDomingues/following{/other_user}", "gists_url": "https://api.github.com/users/FranciscoDomingues/gists{/gist_id}", "starred_url": "https://api.github.com/users/FranciscoDomingues/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FranciscoDomingues/subscriptions", "organizations_url": "https://api.github.com/users/FranciscoDomingues/orgs", "repos_url": "https://api.github.com/users/FranciscoDomingues/repos", "events_url": "https://api.github.com/users/FranciscoDomingues/events{/privacy}", "received_events_url": "https://api.github.com/users/FranciscoDomingues/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 3, "created_at": "2019-11-09T20:42:45Z", "updated_at": "2020-06-28T20:44:37Z", "closed_at": "2020-06-28T20:44:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\nTested on Remix\r\n\r\n### What's your issue about?\r\n\r\nIt appears there is no overflow checking for the loop variables. For example, the code \r\n```\r\n@public\r\ndef test_for() -> int128:\r\n  a: int128 = 0\r\n  for i in range(MAX_INT128, MAX_INT128+2):\r\n        a = i\r\n  return a\r\n```\r\nreturns -2**127.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1712/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1711", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1711/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1711/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1711/events", "html_url": "https://github.com/vyperlang/vyper/issues/1711", "id": 520505018, "node_id": "MDU6SXNzdWU1MjA1MDUwMTg=", "number": 1711, "title": "Circumventing `@constant` with multiple return values and tuple assignment", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:51:05Z", "updated_at": "2019-12-30T00:14:33Z", "closed_at": "2019-12-30T00:14:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Modifying state is not allowed in `@constant` functions, but you can bypass the check by using multiple return values:\r\n\r\n```python\r\nx: public(uint256)\r\n\r\n@private\r\n@constant\r\ndef returnTwo() -> (uint256, uint256):\r\n    return 1, 2\r\n\r\n@public\r\n@constant\r\ndef foo():\r\n    a: uint256 = 0\r\n    a, self.x = self.returnTwo() # BUG\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1711/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1711/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1710", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1710/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1710/events", "html_url": "https://github.com/vyperlang/vyper/issues/1710", "id": 520504991, "node_id": "MDU6SXNzdWU1MjA1MDQ5OTE=", "number": 1710, "title": "State variables can be named `public` and `constant`", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T19:50:57Z", "updated_at": "2019-11-29T17:00:53Z", "closed_at": "2019-11-29T17:00:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "These should be treated as reserved words.\r\n\r\n```python\r\npublic: uint256 # BUG\r\nconstant: uint256 # BUG\r\n\r\n@public\r\ndef __init__():\r\n    self.public = 5\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1709", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1709/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1709/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1709/events", "html_url": "https://github.com/vyperlang/vyper/issues/1709", "id": 520504982, "node_id": "MDU6SXNzdWU1MjA1MDQ5ODI=", "number": 1709, "title": "Can't loop over a nested array", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T19:50:55Z", "updated_at": "2020-01-07T14:32:30Z", "closed_at": "2020-01-07T14:32:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`for` loops in Vyper can loop over arrays, but not if they're nested. This code fails to compile with the surprising error `'Subscript' object has no attribute 'func'`:\r\n\r\n```python\r\n@public\r\ndef __init__():\r\n    x: uint256[5][2] = [[0, 1, 2, 3, 4], [2, 4, 6, 8, 10]]\r\n    for i in x[1]:\r\n        pass\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1708", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1708/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1708/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1708/events", "html_url": "https://github.com/vyperlang/vyper/issues/1708", "id": 520504970, "node_id": "MDU6SXNzdWU1MjA1MDQ5NzA=", "number": 1708, "title": "Infinite loop via modifying loop index", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T19:50:52Z", "updated_at": "2019-11-11T11:04:12Z", "closed_at": "2019-11-11T11:04:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The generated variable `_index_for_*` shouldn't be accessible. The following generates an infinite loop:\r\n\r\n```python\r\n@public\r\ndef infinite_loop():\r\n    for n in [1,2,3]:\r\n        _index_for_n = 0 # BUG\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1707", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1707/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1707/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1707/events", "html_url": "https://github.com/vyperlang/vyper/issues/1707", "id": 520504961, "node_id": "MDU6SXNzdWU1MjA1MDQ5NjE=", "number": 1707, "title": "Array being iterated over can be modified in another function", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 1, "created_at": "2019-11-09T19:50:48Z", "updated_at": "2020-06-25T21:42:04Z", "closed_at": "2020-06-25T21:42:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Modifying the array directly in the loop body is disallowed, so this could be considered a bug:\r\n\r\n```python\r\nx: uint256[1]\r\n\r\n@private\r\ndef store_in_x(index: uint256, value: uint256):\r\n    self.x[index] = value\r\n\r\n@public\r\ndef foo():\r\n    for n in self.x:\r\n        # self.x[0] = n * 2 # blocked with \"Altering list 'self.x' which is being iterated!\"\r\n        self.store_in_x(0, n * 2) # BUG: allowed\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1707/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1706", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1706/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1706/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1706/events", "html_url": "https://github.com/vyperlang/vyper/issues/1706", "id": 520504946, "node_id": "MDU6SXNzdWU1MjA1MDQ5NDY=", "number": 1706, "title": "Type confusion with timestamp negation", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-09T19:50:43Z", "updated_at": "2020-01-03T17:15:47Z", "closed_at": "2020-01-03T17:15:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Subtracting two timestamps yields a `timedelta`, but `-x` where `x` is a timestamp is still a `timestamp`:\r\n\r\n```python\r\n@public\r\ndef test(x: timestamp) -> timestamp:\r\n    return -x\r\n```\r\n\r\nNote that this negation probably shouldn't be allowed at all, given that `timestamp` is an unsigned value, so perhaps this issue will go away when that is fixed.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1706/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1705", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1705/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1705/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1705/events", "html_url": "https://github.com/vyperlang/vyper/issues/1705", "id": 520504918, "node_id": "MDU6SXNzdWU1MjA1MDQ5MTg=", "number": 1705, "title": "Negation (\"unary subtraction\") can underflow", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:50:30Z", "updated_at": "2019-12-28T23:33:11Z", "closed_at": "2019-12-28T23:33:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is no check for underflow when negating:\r\n\r\n```python\r\n@constant\r\n@public\r\ndef bar(x: uint256) -> uint256:\r\n    return -x # BUG: returns 2**256 - x\r\n```\r\n\r\nUsing `0 - x` instead reverts as expected.\r\n\r\nThe issue is here, where no check is done for underflow:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/expr.py#L969-L985", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1704", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1704/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1704/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1704/events", "html_url": "https://github.com/vyperlang/vyper/issues/1704", "id": 520504913, "node_id": "MDU6SXNzdWU1MjA1MDQ5MTM=", "number": 1704, "title": "Exponentiation of a type with units works differently for `uint256` and `int128`", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T19:50:26Z", "updated_at": "2019-11-15T16:14:30Z", "closed_at": "2019-11-15T16:14:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When the underlying type is `uint256`, all units are stripped away. When the underlying type is `int128`, the units remain but with an incorrect exponent (`m**3` rather than `m**6` below):\r\n\r\n```python\r\nunits: {\r\n    m: \"meter\"\r\n}\r\n\r\n@public\r\n@constant\r\ndef test() -> int128(m**3):\r\n    a: int128(m**2) = 5\r\n    return a**3 # BUG: Type int128(m**3) instead of int128(m**6)\r\n\r\n@public\r\n@constant\r\ndef test2() -> uint256:\r\n    a: uint256(m**2) = 5\r\n    return a**2 # BUG: Type uint256 instead of uint256(m**4)\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1703", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1703/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1703/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1703/events", "html_url": "https://github.com/vyperlang/vyper/issues/1703", "id": 520504900, "node_id": "MDU6SXNzdWU1MjA1MDQ5MDA=", "number": 1703, "title": "Relative imports are broken beyond one parent level", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T19:50:22Z", "updated_at": "2020-01-02T21:56:07Z", "closed_at": "2020-01-02T21:56:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code produces paths like `..../something.vy` instead of `../../../something.vy`:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/signatures/interface.py#L225-L226\r\n\r\nA path like `..../something.vy` is actually valid, so this can end up importing code from a surprising place. The expected behavior is [undocumented](https://vyper.readthedocs.io/en/latest/structure-of-a-contract.html#imports-via-import), so perhaps the intention was just to disallow more than two leading dots.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1702", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1702/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1702/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1702/events", "html_url": "https://github.com/vyperlang/vyper/issues/1702", "id": 520504894, "node_id": "MDU6SXNzdWU1MjA1MDQ4OTQ=", "number": 1702, "title": "Struct getter collisions", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 4, "created_at": "2019-11-09T19:50:18Z", "updated_at": "2020-06-28T18:33:28Z", "closed_at": "2020-06-28T18:33:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Due to the way getter names are generated for struct fields, collisions can happen:\r\n\r\n```python\r\nstruct Test:\r\n    foo: uint256\r\n    __foo: uint256\r\n    \r\na: public(Test)\r\na__: public(Test)\r\n```\r\n\r\nThe error message is `Duplicate function name: a____foo`. This is better than an ambiguity, but perhaps the collision should be avoided altogether by using a separator that cannot appear in identifiers.\r\n\r\nThe following code is responsible for this naming:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/global_context.py#L230-L240", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1702/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1701", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1701/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1701/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1701/events", "html_url": "https://github.com/vyperlang/vyper/issues/1701", "id": 520504873, "node_id": "MDU6SXNzdWU1MjA1MDQ4NzM=", "number": 1701, "title": "Code that ends in a comment (with no newline) cannot be compiled", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:50:12Z", "updated_at": "2019-11-12T14:34:37Z", "closed_at": "2019-11-12T14:34:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This was previously [reported](https://github.com/ethereum/vyper/issues/1161) for Vyper, but it\u2019s actually [a Python bug](https://bugs.python.org/issue35107):\r\n\r\n```python\r\n@public\r\ndef __init__():\r\n   pass\r\n\r\n# BUG (no newline)\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1700", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1700/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1700/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1700/events", "html_url": "https://github.com/vyperlang/vyper/issues/1700", "id": 520504865, "node_id": "MDU6SXNzdWU1MjA1MDQ4NjU=", "number": 1700, "title": "Incorrect error message when converting a long bytes array", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T19:50:08Z", "updated_at": "2020-01-02T17:41:42Z", "closed_at": "2020-01-02T17:41:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code results in the error message `Cannot convert bytes array of max length 320 to uint256`:\r\n\r\n```python\r\n@public\r\n@constant\r\ndef test(b: bytes[34]) -> uint256:\r\n    return convert(b, uint256)\r\n```\r\n\r\nThis is a typo in the error message here:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/types/convert.py#L229\r\n\r\nThe error should use `in_arg.typ.max_len` instead. Note that this same mistake occurs multiple places in the code.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1699", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1699/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1699/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1699/events", "html_url": "https://github.com/vyperlang/vyper/issues/1699", "id": 520504850, "node_id": "MDU6SXNzdWU1MjA1MDQ4NTA=", "number": 1699, "title": "Array types are not hashed for event topics", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 2, "created_at": "2019-11-09T19:50:00Z", "updated_at": "2020-06-28T09:52:36Z", "closed_at": "2020-06-28T09:52:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Solidity hashes all array types, including `bytes` and `string`s, when they're used as indexed parameters (event topics).\r\n\r\nVyper only accepts `bytes` and `string`s with a maximum length of 32. They're then converted to `bytes32`. This could be an interoperability problem. Vyper doesn't appear to accept other array types as indexed event parameters at all.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1699/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1697", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1697/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1697/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1697/events", "html_url": "https://github.com/vyperlang/vyper/issues/1697", "id": 520504832, "node_id": "MDU6SXNzdWU1MjA1MDQ4MzI=", "number": 1697, "title": "`ZERO_WEI` constant can be defined with no effect", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:49:52Z", "updated_at": "2019-11-11T19:22:51Z", "closed_at": "2019-11-11T19:22:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`ZERO_WEI` is a built-in constant, so it shouldn't be allowed as a user-defined constant:\r\n\r\n```python\r\nZERO_WEI: constant(uint256(wei)) = 3\r\nONE_WEI: constant(uint256(wei)) = 5\r\n\r\n@public\r\n@constant\r\ndef zero() -> uint256(wei):\r\n    return ZERO_WEI # returns 0, not 3\r\n\r\n@public\r\n@constant\r\ndef one() -> uint256(wei):\r\n    return ONE_WEI # returns 5, as expected\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1696", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1696/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1696/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1696/events", "html_url": "https://github.com/vyperlang/vyper/issues/1696", "id": 520504830, "node_id": "MDU6SXNzdWU1MjA1MDQ4MzA=", "number": 1696, "title": "Runtime error when making an external call to the same contract", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 5, "created_at": "2019-11-09T19:49:49Z", "updated_at": "2020-06-27T20:34:38Z", "closed_at": "2020-06-27T20:34:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This code makes it an error to make an external call to the same contract:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/external_call.py#L75\r\n\r\nThis is a surprising limitation. It doesn't seem to have a clear benefit, and it could be problematic. As an example, multisig wallets often use self-calls to perform administrative functions. This way the wallet owners have to agree to make a change like lowering the required threshold of signatures. In Vyper, this would produce a runtime error.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1696/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1695", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1695/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1695/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1695/events", "html_url": "https://github.com/vyperlang/vyper/issues/1695", "id": 520504817, "node_id": "MDU6SXNzdWU1MjA1MDQ4MTc=", "number": 1695, "title": "Private function calls with arguments needlessly store a function selector in memory", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 0, "created_at": "2019-11-09T19:49:43Z", "updated_at": "2020-06-27T20:35:38Z", "closed_at": "2020-06-27T20:35:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following Vyper code:\r\n\r\n```python\r\n@private\r\n@constant\r\ndef bar(a: uint256):\r\n    pass\r\n\r\n@public\r\ndef foo():\r\n    self.bar(1)\r\n```\r\n\r\nproduces the following IR:\r\n\r\n```javascript\r\n...\r\n/* Internal Call: bar */ \r\n[pop,\r\n  [seq_unchecked,\r\n    [seq, [mstore, 320, 69443890], [mstore, 352, 1]],\r\n...\r\n```\r\n\r\nNote that `69443890 == 0x423a132 == bytes4(keccak256(\"bar(uint256)\"))`.\r\n\r\nStoring this in memory doesn't seem to have any purpose.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1695/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1694", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1694/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1694/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1694/events", "html_url": "https://github.com/vyperlang/vyper/issues/1694", "id": 520504806, "node_id": "MDU6SXNzdWU1MjA1MDQ4MDY=", "number": 1694, "title": "Negative constants can be used in some places where `uint256` is required", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:49:37Z", "updated_at": "2020-01-02T17:40:15Z", "closed_at": "2020-01-02T17:40:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code casts `int128` literals to `uint256` without any check on the value:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/parser_utils.py#L415-L417\r\n\r\nThis permits the following (invalid) code to compile without error:\r\n\r\n```python\r\nTest: event({ n: uint256 })\r\nx: map(uint256, uint256)\r\n\r\n@public\r\ndef test():\r\n    a: uint256 = self.x[-7]\r\n    log.Test(-7)\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1693", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1693/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1693/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1693/events", "html_url": "https://github.com/vyperlang/vyper/issues/1693", "id": 520504798, "node_id": "MDU6SXNzdWU1MjA1MDQ3OTg=", "number": 1693, "title": "Modulo at compile time differs from modulo at runtime", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-09T19:49:33Z", "updated_at": "2020-01-02T21:55:54Z", "closed_at": "2020-01-02T21:55:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "At compile time, constant expressions are computed using Python's built-in modulo operator. It handles negative numbers differently from the EVM:\r\n\r\n```python\r\n@public\r\n@constant\r\ndef foo() -> int128:\r\n    return -5%2 # returns 1\r\n\r\n@public\r\n@constant\r\ndef bar(n: int128) -> int128:\r\n    return n%2 # bar(-5) returns -1\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1692", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1692/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1692/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1692/events", "html_url": "https://github.com/vyperlang/vyper/issues/1692", "id": 520504789, "node_id": "MDU6SXNzdWU1MjA1MDQ3ODk=", "number": 1692, "title": "List literals can have mismatched types due to an off-by-one error", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T19:49:30Z", "updated_at": "2019-11-15T16:11:55Z", "closed_at": "2019-11-15T16:11:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This check should use `> 0` instead of `> 1`:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/expr.py#L1066-L1067\r\n\r\nThe result is inconsistent type checking for list literals:\r\n\r\n```python\r\n@public\r\ndef test():\r\n    x: uint256[3] = [2**255, 1, 3] # Compiles without error\r\n    y: uint256[3] = [1, 2**255, 3] # Error: Lists may only contain one type\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1692/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1692/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1690", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1690/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1690/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1690/events", "html_url": "https://github.com/vyperlang/vyper/issues/1690", "id": 520504772, "node_id": "MDU6SXNzdWU1MjA1MDQ3NzI=", "number": 1690, "title": "Min and max can incorrectly use signed comparisons depending on argument order", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:49:19Z", "updated_at": "2019-12-28T17:26:00Z", "closed_at": "2019-12-28T17:26:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\n@public\r\n@constant\r\ndef test1() -> uint256:\r\n    return min(0, 2**255) # returns 2**255\r\n\r\n@public\r\n@constant\r\ndef test2() -> uint256:\r\n    return min(2**255, 0) # returns 0\r\n```\r\n\r\nThis is due to the following code:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/functions/functions.py#L1174-L1177", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1689", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1689/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1689/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1689/events", "html_url": "https://github.com/vyperlang/vyper/issues/1689", "id": 520504767, "node_id": "MDU6SXNzdWU1MjA1MDQ3Njc=", "number": 1689, "title": "Inappropriate overflow check for `addmod` and `mulmod`", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T19:49:15Z", "updated_at": "2019-12-30T00:15:00Z", "closed_at": "2019-12-30T00:15:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`addmod` and `mulmod` should allow arbitrary `uint256` operands, but the following code performs a check for addition or multiplication overflow:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/functions/functions.py#L1023-L1052\r\n\r\nThis results to the following runtime errors:\r\n\r\n```python\r\n@public\r\n@constant\r\ndef test1(a: uint256, b: uint256) -> uint256:\r\n    return uint256_addmod(a, b, 12) # test(2**255, 2**255) reverts\r\n    \r\n@public\r\n@constant\r\ndef test2(a: uint256, b: uint256) -> uint256:\r\n    return uint256_mulmod(a, b, 12) # test(2**255, 2) reverts\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1689/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1688", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1688/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1688/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1688/events", "html_url": "https://github.com/vyperlang/vyper/issues/1688", "id": 520504759, "node_id": "MDU6SXNzdWU1MjA1MDQ3NTk=", "number": 1688, "title": "Event packing leaks a variable into the current context", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T19:49:12Z", "updated_at": "2019-11-11T12:58:01Z", "closed_at": "2019-11-11T12:58:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\nFoo: event({a: bytes[25]})\r\n\r\n@public\r\n@constant\r\ndef test() -> string[7]:\r\n    log.Foo(\"testing\")\r\n    return _log_pack_var_6_12 # returns \"testing\"\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1688/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1687", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1687/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1687/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1687/events", "html_url": "https://github.com/vyperlang/vyper/issues/1687", "id": 520504751, "node_id": "MDU6SXNzdWU1MjA1MDQ3NTE=", "number": 1687, "title": "Private functions can't have duplicate function selectors", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T19:49:08Z", "updated_at": "2020-01-07T03:30:39Z", "closed_at": "2020-01-07T03:30:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is an unnecessary constraint. Label names can be made unique.\r\n\r\n```python\r\n@private\r\n@constant\r\ndef gfah(): pass\r\n\r\n@private\r\n@constant\r\ndef eexo(): pass\r\n\r\n# error: Label with name priv_236395036 already exists!\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1687/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1686", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1686/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1686/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1686/events", "html_url": "https://github.com/vyperlang/vyper/issues/1686", "id": 520504742, "node_id": "MDU6SXNzdWU1MjA1MDQ3NDI=", "number": 1686, "title": "Struct literals are dependent on key order", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-09T19:49:02Z", "updated_at": "2019-11-28T17:10:00Z", "closed_at": "2019-11-28T17:10:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Note that the same values for `a` and `b` are set in both test functions, just in a different order:\r\n\r\n```python\r\nstruct Foo:\r\n    a: uint256\r\n    b: uint256\r\n\r\n@public\r\n@constant\r\ndef test() -> uint256:\r\n    foo: Foo = Foo({a: 1, b: 2})\r\n    return foo.a # returns 1\r\n\r\n@public\r\n@constant\r\ndef test2() -> uint256:\r\n    foo: Foo = Foo({b: 2, a: 1})\r\n    return foo.a # BUG: returns 2\r\n```\r\n\r\nThis issue is due to the following code, which is dependent on the order keys are returned:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/expr.py#L1107-L1111\r\n\r\nNote that the behavior may differ depending on what version of Python is used to run the compiler.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1686/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1685", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1685/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1685/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1685/events", "html_url": "https://github.com/vyperlang/vyper/issues/1685", "id": 520504735, "node_id": "MDU6SXNzdWU1MjA1MDQ3MzU=", "number": 1685, "title": "`int128` exponentiation can overflow without error", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 2, "created_at": "2019-11-09T19:48:59Z", "updated_at": "2020-06-30T21:06:44Z", "closed_at": "2020-06-30T21:06:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\n@public\r\n@constant\r\ndef test(x: int128, y: int128) -> int128:\r\n    return x**y # BUG: test(2, 256) returns 0\r\n```\r\n\r\nThe relevant compiler code is here:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/expr.py#L659-L667", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1684", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1684/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1684/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1684/events", "html_url": "https://github.com/vyperlang/vyper/issues/1684", "id": 520504716, "node_id": "MDU6SXNzdWU1MjA1MDQ3MTY=", "number": 1684, "title": " `uint256` exponentiation can overflow without error as long as the result is greater than the base", "user": {"login": "smarx", "id": 35551, "node_id": "MDQ6VXNlcjM1NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/35551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smarx", "html_url": "https://github.com/smarx", "followers_url": "https://api.github.com/users/smarx/followers", "following_url": "https://api.github.com/users/smarx/following{/other_user}", "gists_url": "https://api.github.com/users/smarx/gists{/gist_id}", "starred_url": "https://api.github.com/users/smarx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smarx/subscriptions", "organizations_url": "https://api.github.com/users/smarx/orgs", "repos_url": "https://api.github.com/users/smarx/repos", "events_url": "https://api.github.com/users/smarx/events{/privacy}", "received_events_url": "https://api.github.com/users/smarx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 15, "created_at": "2019-11-09T19:48:45Z", "updated_at": "2020-06-30T21:06:44Z", "closed_at": "2020-06-30T21:06:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\n@public\r\n@constant\r\ndef test(x: uint256, y: uint256) -> uint256:\r\n    return x**y # BUG: test(10, 78) returns 73663286101470436611432119930496737173840122674875487684339327936694962880512\r\n```\r\n\r\nThis issue is due to the following code:\r\n\r\nhttps://github.com/ethereum/vyper/blob/c296b2d7532d913103aad494b749f8179a3acddc/vyper/parser/expr.py#L646-L658", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1680", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1680/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1680/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1680/events", "html_url": "https://github.com/vyperlang/vyper/issues/1680", "id": 517644298, "node_id": "MDU6SXNzdWU1MTc2NDQyOTg=", "number": 1680, "title": "Vyper ignores scientific notation in decimal literals", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-05T09:17:24Z", "updated_at": "2019-11-12T17:50:09Z", "closed_at": "2019-11-12T17:50:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper version: 0.1.0b13\r\n\r\n### What's your issue about?\r\n\r\nVyper ignores scientific notation in decimal literals, e.g.,\r\n```\r\n@public\r\ndef foo() -> decimal:\r\n    return 2e-8\r\n```\r\nand instead just returns the part before the `e` (in this case 2).\r\n\r\n### How can it be fixed?\r\n\r\nI don't think scientific notation is necessary for decimals, so probably just disallow this.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1671", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1671/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1671/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1671/events", "html_url": "https://github.com/vyperlang/vyper/issues/1671", "id": 515562073, "node_id": "MDU6SXNzdWU1MTU1NjIwNzM=", "number": 1671, "title": "Constant defs calling a function produces a KeyError(\"self\")", "user": {"login": "agroce", "id": 967816, "node_id": "MDQ6VXNlcjk2NzgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroce", "html_url": "https://github.com/agroce", "followers_url": "https://api.github.com/users/agroce/followers", "following_url": "https://api.github.com/users/agroce/following{/other_user}", "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroce/subscriptions", "organizations_url": "https://api.github.com/users/agroce/orgs", "repos_url": "https://api.github.com/users/agroce/repos", "events_url": "https://api.github.com/users/agroce/events{/privacy}", "received_events_url": "https://api.github.com/users/agroce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-31T16:14:36Z", "updated_at": "2020-01-02T17:41:42Z", "closed_at": "2020-01-02T17:41:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b13+commit.da6d2a3\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.4\r\n* Environment (output of `pip freeze`): \r\napipkg==1.5\r\nasttokens==1.1.13\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.3.0\r\nbase58==1.0.3\r\ncertifi==2019.9.11\r\ncffi==1.13.1\r\nchardet==3.0.4\r\ncoverage==4.5.4\r\ncoveralls==1.6.0\r\ncryptography==2.8\r\ncytoolz==0.10.0\r\ndocopt==0.6.2\r\nentrypoints==0.3\r\neth-abi==2.0.0b9\r\neth-account==0.4.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.3.1\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b39\r\neth-typing==2.1.0\r\neth-utils==1.7.0\r\nethpm==0.1.4a19\r\nexecnet==1.7.1\r\nfilelock==3.0.12\r\nflake8==3.7.8\r\nflake8-bugbear==18.8.0\r\nhexbytes==0.2.0\r\nhypothesis==4.11.7\r\nidna==2.8\r\nimportlib-metadata==0.23\r\nipfshttpclient==0.4.12\r\nisort==4.3.21\r\njsonschema==2.6.0\r\nlru-dict==1.1.6\r\nmccabe==0.6.1\r\nmore-itertools==7.2.0\r\nmultiaddr==0.0.8\r\nmypy==0.701\r\nmypy-extensions==0.4.3\r\nnetaddr==0.7.19\r\npackaging==19.2\r\nparsimonious==0.8.1\r\npluggy==0.13.0\r\nprotobuf==3.10.0\r\npy==1.8.0\r\npy-ecc==1.7.1\r\npy-evm==0.2.0a42\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npycryptodome==3.9.0\r\npyethash==0.1.27\r\npyflakes==2.1.1\r\npyparsing==2.4.2\r\npytest==5.2.1\r\npytest-cov==2.4.0\r\npytest-xdist==1.18.1\r\nPyYAML==5.1.2\r\nrequests==2.22.0\r\nrlp==1.1.0\r\nsemantic-version==2.8.2\r\nsix==1.12.0\r\ntoml==0.10.0\r\ntoolz==0.10.0\r\ntox==3.14.0\r\ntrie==1.4.0\r\ntyped-ast==1.3.5\r\nurllib3==1.25.6\r\nvarint==1.0.2\r\nvirtualenv==16.7.7\r\nvyper==0.1.0b13\r\nwcwidth==0.1.7\r\nweb3==5.0.0b2\r\nwebsockets==7.0\r\nzipp==0.6.0\r\n\r\n### What's your issue about?\r\n\r\nThis contract:\r\n```\r\ncv0: constant(uint256) = __default__()\r\n@public\r\ndef f0():\r\n    pass\r\n```\r\n\r\ncauses the compiler to abort with the dubious error message:\r\n\r\n```\r\n$ vyper selfkey.vy \r\nError compiling: selfkey.vy\r\nKeyError: 'self'\r\n```\r\n\r\n`__default()__` calls not in `constant` defs seem to produce reasonable output.\r\n\r\nAnother TSTL-produced contract (https://github.com/agroce/tstl/tree/master/examples/vyper)\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1670", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1670/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1670/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1670/events", "html_url": "https://github.com/vyperlang/vyper/issues/1670", "id": 515514881, "node_id": "MDU6SXNzdWU1MTU1MTQ4ODE=", "number": 1670, "title": "ValueError: Unsupported format type 'ast'", "user": {"login": "agroce", "id": 967816, "node_id": "MDQ6VXNlcjk2NzgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroce", "html_url": "https://github.com/agroce", "followers_url": "https://api.github.com/users/agroce/followers", "following_url": "https://api.github.com/users/agroce/following{/other_user}", "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroce/subscriptions", "organizations_url": "https://api.github.com/users/agroce/orgs", "repos_url": "https://api.github.com/users/agroce/repos", "events_url": "https://api.github.com/users/agroce/events{/privacy}", "received_events_url": "https://api.github.com/users/agroce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-31T15:15:41Z", "updated_at": "2020-01-02T17:41:42Z", "closed_at": "2020-01-02T17:41:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b13+commit.da6d2a3\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.4\r\n* Environment (output of `pip freeze`): \r\napipkg==1.5\r\nasttokens==1.1.13\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.3.0\r\nbase58==1.0.3\r\ncertifi==2019.9.11\r\ncffi==1.13.1\r\nchardet==3.0.4\r\ncoverage==4.5.4\r\ncoveralls==1.6.0\r\ncryptography==2.8\r\ncytoolz==0.10.0\r\ndocopt==0.6.2\r\nentrypoints==0.3\r\neth-abi==2.0.0b9\r\neth-account==0.4.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.3.1\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b39\r\neth-typing==2.1.0\r\neth-utils==1.7.0\r\nethpm==0.1.4a19\r\nexecnet==1.7.1\r\nfilelock==3.0.12\r\nflake8==3.7.8\r\nflake8-bugbear==18.8.0\r\nhexbytes==0.2.0\r\nhypothesis==4.11.7\r\nidna==2.8\r\nimportlib-metadata==0.23\r\nipfshttpclient==0.4.12\r\nisort==4.3.21\r\njsonschema==2.6.0\r\nlru-dict==1.1.6\r\nmccabe==0.6.1\r\nmore-itertools==7.2.0\r\nmultiaddr==0.0.8\r\nmypy==0.701\r\nmypy-extensions==0.4.3\r\nnetaddr==0.7.19\r\npackaging==19.2\r\nparsimonious==0.8.1\r\npluggy==0.13.0\r\nprotobuf==3.10.0\r\npy==1.8.0\r\npy-ecc==1.7.1\r\npy-evm==0.2.0a42\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npycryptodome==3.9.0\r\npyethash==0.1.27\r\npyflakes==2.1.1\r\npyparsing==2.4.2\r\npytest==5.2.1\r\npytest-cov==2.4.0\r\npytest-xdist==1.18.1\r\nPyYAML==5.1.2\r\nrequests==2.22.0\r\nrlp==1.1.0\r\nsemantic-version==2.8.2\r\nsix==1.12.0\r\ntoml==0.10.0\r\ntoolz==0.10.0\r\ntox==3.14.0\r\ntrie==1.4.0\r\ntyped-ast==1.3.5\r\nurllib3==1.25.6\r\nvarint==1.0.2\r\nvirtualenv==16.7.7\r\nvyper==0.1.0b13\r\nwcwidth==0.1.7\r\nweb3==5.0.0b2\r\nwebsockets==7.0\r\nzipp==0.6.0\r\n\r\n### What's your issue about?\r\n\r\nThis contract:\r\n```\r\nv0: uint256\r\n@public\r\ndef f0(av0: uint256) -> uint256:\r\n    lv0: uint256 = self.v0\r\n    return self.v0\r\n```\r\n\r\nCauses the compiler, in python, to claim that \"ast\" is an unsupported format:\r\n\r\n```\r\n>>> vyper.cli.vyper_compile.compile_files([\"v2.vy\"], [\"bytecode\", \"abi\", \"ast\", \"bytecode_runtime\"])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/adg326/vyper-venv/lib/python3.7/site-packages/vyper/cli/vyper_compile.py\", line 241, in compile_files\r\n    interface_codes=get_interface_codes(root_path, contract_sources)\r\n  File \"/Users/adg326/vyper-venv/lib/python3.7/site-packages/vyper/compiler.py\", line 312, in compile_codes\r\n    raise ValueError(f'Unsupported format type {repr(output_format)}')\r\nValueError: Unsupported format type 'ast'\r\n```\r\n\r\nSeems to run ok from command line, \r\n\r\nAnother TSTL-produced contract (https://github.com/agroce/tstl/tree/master/examples/vyper)\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1658", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1658/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1658/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1658/events", "html_url": "https://github.com/vyperlang/vyper/issues/1658", "id": 512595601, "node_id": "MDU6SXNzdWU1MTI1OTU2MDE=", "number": 1658, "title": "Unreasonable runtime for contract with complex invalid loop range", "user": {"login": "agroce", "id": 967816, "node_id": "MDQ6VXNlcjk2NzgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroce", "html_url": "https://github.com/agroce", "followers_url": "https://api.github.com/users/agroce/followers", "following_url": "https://api.github.com/users/agroce/following{/other_user}", "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroce/subscriptions", "organizations_url": "https://api.github.com/users/agroce/orgs", "repos_url": "https://api.github.com/users/agroce/repos", "events_url": "https://api.github.com/users/agroce/events{/privacy}", "received_events_url": "https://api.github.com/users/agroce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-10-25T16:00:05Z", "updated_at": "2019-11-11T16:08:04Z", "closed_at": "2019-11-11T16:08:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b13+commit.da6d2a3\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.4\r\n* Environment (output of `pip freeze`): \r\napipkg==1.5\r\nasttokens==1.1.13\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.3.0\r\nbase58==1.0.3\r\ncertifi==2019.9.11\r\ncffi==1.13.1\r\nchardet==3.0.4\r\ncoverage==4.5.4\r\ncoveralls==1.6.0\r\ncryptography==2.8\r\ncytoolz==0.10.0\r\ndocopt==0.6.2\r\nentrypoints==0.3\r\neth-abi==2.0.0b9\r\neth-account==0.4.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.3.1\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b39\r\neth-typing==2.1.0\r\neth-utils==1.7.0\r\nethpm==0.1.4a19\r\nexecnet==1.7.1\r\nfilelock==3.0.12\r\nflake8==3.7.8\r\nflake8-bugbear==18.8.0\r\nhexbytes==0.2.0\r\nhypothesis==4.11.7\r\nidna==2.8\r\nimportlib-metadata==0.23\r\nipfshttpclient==0.4.12\r\nisort==4.3.21\r\njsonschema==2.6.0\r\nlru-dict==1.1.6\r\nmccabe==0.6.1\r\nmore-itertools==7.2.0\r\nmultiaddr==0.0.8\r\nmypy==0.701\r\nmypy-extensions==0.4.3\r\nnetaddr==0.7.19\r\npackaging==19.2\r\nparsimonious==0.8.1\r\npluggy==0.13.0\r\nprotobuf==3.10.0\r\npy==1.8.0\r\npy-ecc==1.7.1\r\npy-evm==0.2.0a42\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npycryptodome==3.9.0\r\npyethash==0.1.27\r\npyflakes==2.1.1\r\npyparsing==2.4.2\r\npytest==5.2.1\r\npytest-cov==2.4.0\r\npytest-xdist==1.18.1\r\nPyYAML==5.1.2\r\nrequests==2.22.0\r\nrlp==1.1.0\r\nsemantic-version==2.8.2\r\nsix==1.12.0\r\ntoml==0.10.0\r\ntoolz==0.10.0\r\ntox==3.14.0\r\ntrie==1.4.0\r\ntyped-ast==1.3.5\r\nurllib3==1.25.6\r\nvarint==1.0.2\r\nvirtualenv==16.7.7\r\nvyper==0.1.0b13\r\nwcwidth==0.1.7\r\nweb3==5.0.0b2\r\nwebsockets==7.0\r\nzipp==0.6.0\r\n\r\n### What's your issue about?\r\n\r\nThis contract:\r\n```\r\nv0: wei_value\r\n@public\r\ndef f0():\r\n    for v1 in range(self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0 + self.v0):\r\n        pass\r\n```\r\n\r\nshould immediately complain the range is invalid; instead, it runs for hours (total time not known; shrinking the range suggests it's exponential, not an actual infinite loop).\r\n\r\nProbably not important, since with a valid constant in a complex expression it compiles quickly, but FYI.  Another TSTL-produced contract (https://github.com/agroce/tstl/tree/master/examples/vyper)\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1648", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1648/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1648/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1648/events", "html_url": "https://github.com/vyperlang/vyper/issues/1648", "id": 511967442, "node_id": "MDU6SXNzdWU1MTE5Njc0NDI=", "number": 1648, "title": "Support Nested Structs", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-24T14:03:50Z", "updated_at": "2021-10-06T07:29:29Z", "closed_at": "2021-10-06T07:29:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As of  #1115, structs with basic type members are added as args to functions. With more complex use cases it may be necessary to nest a struct within a struct, and therefore it would be useful to allow our function argument parsing and return parsing to accept nested structs as arguments.\r\n\r\nThis was split out from #1019 as a complicated edge case deserving of it's own issue to track progress.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1648/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1645", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1645/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1645/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1645/events", "html_url": "https://github.com/vyperlang/vyper/issues/1645", "id": 511401114, "node_id": "MDU6SXNzdWU1MTE0MDExMTQ=", "number": 1645, "title": "eth-tester v0.2 incompatibility", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-23T15:23:59Z", "updated_at": "2019-11-07T04:07:10Z", "closed_at": "2019-11-07T04:07:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "3 test cases are failing when upgrading the version of eth-tester to v0.2\r\n\r\nCould potentially have to do with changing storage costs in Istanbul, but unlikely as v0.2.0b3 introduces Istanbul VM class even though same failure occurs with the two prior beta releases.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1641", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1641/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1641/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1641/events", "html_url": "https://github.com/vyperlang/vyper/issues/1641", "id": 510226554, "node_id": "MDU6SXNzdWU1MTAyMjY1NTQ=", "number": 1641, "title": "Python 3.8.0 compile issue", "user": {"login": "HardlyDifficult", "id": 14855515, "node_id": "MDQ6VXNlcjE0ODU1NTE1", "avatar_url": "https://avatars.githubusercontent.com/u/14855515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HardlyDifficult", "html_url": "https://github.com/HardlyDifficult", "followers_url": "https://api.github.com/users/HardlyDifficult/followers", "following_url": "https://api.github.com/users/HardlyDifficult/following{/other_user}", "gists_url": "https://api.github.com/users/HardlyDifficult/gists{/gist_id}", "starred_url": "https://api.github.com/users/HardlyDifficult/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HardlyDifficult/subscriptions", "organizations_url": "https://api.github.com/users/HardlyDifficult/orgs", "repos_url": "https://api.github.com/users/HardlyDifficult/repos", "events_url": "https://api.github.com/users/HardlyDifficult/events{/privacy}", "received_events_url": "https://api.github.com/users/HardlyDifficult/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 1104743030, "node_id": "MDU6TGFiZWwxMTA0NzQzMDMw", "url": "https://api.github.com/repos/vyperlang/vyper/labels/work%20in%20progress", "name": "work in progress", "color": "f7b945", "default": false, "description": "Work on this PR or issue is not yet complete but reviewers are free to add their input for guidance."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-21T19:22:55Z", "updated_at": "2019-11-15T17:02:08Z", "closed_at": "2019-11-15T17:02:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b13+commit.375fb27\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.8.0\r\n* Environment (output of `pip freeze`): \r\n```\r\nasn1crypto==0.24.0\r\nasttokens==1.1.13\r\nBrlapi==0.6.6\r\ncertifi==2018.1.18\r\nchardet==3.0.4\r\ncommand-not-found==0.3\r\ncryptography==2.1.4\r\ndefer==1.0.6\r\nhttplib2==0.9.2\r\nidna==2.6\r\nkeyring==10.6.0\r\nkeyrings.alt==3.0\r\nlanguage-selector==0.1\r\nlouis==3.5.0\r\nnetifaces==0.10.4\r\nolefile==0.45.1\r\nonboard==1.4.1\r\npexpect==4.2.1\r\nPillow==5.1.0\r\npycairo==1.16.2\r\npycrypto==2.6.1\r\npycryptodome==3.8.2\r\npygobject==3.26.1\r\npython-apt===1.6.4-elementary6-ubuntu5.0.1\r\npyxdg==0.25\r\nPyYAML==3.12\r\nQtPy==1.3.1\r\nreportlab==3.4.0\r\nrequests==2.18.4\r\nrequests-unixsocket==0.1.5\r\nSecretStorage==2.3.1\r\nsix==1.11.0\r\nubuntu-drivers-common==0.0.0\r\nufw==0.36\r\nurllib3==1.22\r\nvyper==0.1.0b13\r\nxkit==0.0.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\nCompile fails on `constant`.\r\n\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\n```\r\nError: vyper.exceptions.SyntaxException: line 6:30 Invalid syntax (unsupported \"Constant\" Python AST node).\r\n     5\r\n---> 6 MAX_UINT: constant(uint256) = 2**256 - 1\r\n-------------------------------------^\r\n     7 # @notice The max possible value\r\n\r\nCompilation of /home/circleci/repo/contracts/BigMath.vy failed. See above.\r\n    at Object.compile (/home/circleci/repo/node_modules/truffle/build/webpack:/packages/workflow-compile/legacy/index.js:72:1)\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\nTruffle v5.0.40 (core: 5.0.40)\r\nNode v10.16.3\r\n```\r\n* what command you ran\r\n`truffle compile`\r\n\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n`MAX_UINT: constant(uint256) = 2**256 - 1`\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\nWorkaround by using an older version of Python.  Tested with 2.7.15 and 3.7.4\r\nIdeally the latest version, 3.8.0, would work as well.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1637", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1637/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1637/events", "html_url": "https://github.com/vyperlang/vyper/issues/1637", "id": 507727058, "node_id": "MDU6SXNzdWU1MDc3MjcwNTg=", "number": 1637, "title": "Multiple issues with as_wei_value", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/1", "html_url": "https://github.com/vyperlang/vyper/milestone/1", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/1/labels", "id": 5566144, "node_id": "MDk6TWlsZXN0b25lNTU2NjE0NA==", "number": 1, "title": "v0.2.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 39, "state": "closed", "created_at": "2020-06-21T23:16:54Z", "updated_at": "2020-07-06T18:38:03Z", "due_on": "2020-07-05T07:00:00Z", "closed_at": "2020-07-06T18:38:03Z"}, "comments": 0, "created_at": "2019-10-16T09:24:40Z", "updated_at": "2020-07-01T14:27:07Z", "closed_at": "2020-07-01T14:27:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b13\r\n\r\n### What's your issue about?\r\n\r\nThere are multiple problems with `as_wei_value`:\r\n\r\nWhen using as_wei_value with an int128 argument, it produces an incorrect result:\r\n```\r\n@public\r\ndef f(i: int128) -> wei_value:\r\n    return as_wei_value(i, \"kwei\")\r\n```\r\ngets translated as\r\n```\r\n[seq,\r\n  [return,\r\n    0,\r\n    [lll,\r\n      [seq,\r\n        [if, [lt, calldatasize, 4], [goto, fallback]],\r\n        [mstore, 28, [calldataload, 0]],\r\n        [mstore, 32, 1461501637330902918203684832716283019655932542976],\r\n        [mstore, 64, 170141183460469231731687303715884105727],\r\n        [mstore, 96, -170141183460469231731687303715884105728],\r\n        [mstore, 128, 1701411834604692317316873037158841057270000000000],\r\n        [mstore, 160, -1701411834604692317316873037158841057280000000000],\r\n        # Line 1\r\n        [if,\r\n          [eq, [mload, 0], 3967261028 <f(int128)>],\r\n          [seq,\r\n            [assert, [iszero, callvalue]],\r\n            /* checking int128 input */ \r\n            [clamp,\r\n              [mload, 96],\r\n              [calldataload, 4],\r\n              [mload, 64]],\r\n            # Line 3\r\n            [mstore, 0, [div, [mul, [calldataload, 4 <i>], 1000], 10000000000]],\r\n            [seq_unchecked, pass, [return, 0, 32]],\r\n            # Line 1\r\n            stop]],\r\n        [seq_unchecked, [label, fallback], /* Default function */ [revert, 0, 0]]],\r\n      0]]]\r\n```\r\nwhich treats the value as a decimal and therefore divides by 10000000000, even though it shouldn't.\r\n\r\nFor `uint256` that does not happen, however, there is no overflow check.\r\n\r\n### How can it be fixed?\r\n\r\nThe problem lies in `as_wei_value` in `functions/functions.py`, where there is a special case for uint256, but not for int128, therefore it takes the else branch which treats the argument as a decimal:\r\n``` \r\n    elif value.typ.is_literal:\r\n        if value.value <= 0:\r\n            raise InvalidLiteralException(\"Negative wei value not allowed\", expr)\r\n        sub = ['mul', value.value, denom_divisor]\r\n    elif value.typ.typ == 'uint256':\r\n        sub = ['mul', value, denom_divisor]\r\n    else:\r\n        sub = ['div', ['mul', value, denom_divisor], DECIMAL_DIVISOR]\r\n```\r\nIt would probably be a good idea to always use `elif` and throw an error if the `else` branch is reached.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1636", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1636/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1636/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1636/events", "html_url": "https://github.com/vyperlang/vyper/issues/1636", "id": 505814648, "node_id": "MDU6SXNzdWU1MDU4MTQ2NDg=", "number": 1636, "title": "Overflow checking for unary operators", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-11T12:09:56Z", "updated_at": "2019-10-18T12:18:44Z", "closed_at": "2019-10-18T12:18:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* Vyper version: 0.1.0b13+commit.6385900\r\n\r\n### What's your issue about?\r\n\r\nThe unary negation operator does not check for overflows:\r\n```\r\n@public\r\ndef neg(i: int128) -> int128:\r\n    return -i\r\n```\r\nThis is OK for all inputs except -2^127, for which it returns -2^127 instead of reverting.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1636/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1628", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1628/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1628/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1628/events", "html_url": "https://github.com/vyperlang/vyper/issues/1628", "id": 499236973, "node_id": "MDU6SXNzdWU0OTkyMzY5NzM=", "number": 1628, "title": "Cannot create a constant array of uint256 type: implying int128", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-27T05:10:28Z", "updated_at": "2020-11-27T22:16:48Z", "closed_at": "2020-11-27T22:16:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b12+commit.a01cdc8\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.8\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\n\r\n```python\r\ncompile_code(\"\"\" \r\nA: constant(uint256[2]) = [0, 0] \r\n  \r\n@public \r\ndef g(): \r\n    pass \r\n\"\"\") \r\n```\r\nThis raises:\r\n```\r\nTypeMismatchException: line 2:26 Invalid value for constant type, expected uint256[2] got int128[2] instead\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1627", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1627/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1627/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1627/events", "html_url": "https://github.com/vyperlang/vyper/issues/1627", "id": 499236391, "node_id": "MDU6SXNzdWU0OTkyMzYzOTE=", "number": 1627, "title": "Default arguments cannot be set from constants", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-27T05:07:33Z", "updated_at": "2020-06-28T10:03:14Z", "closed_at": "2020-06-28T10:03:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b12+commit.a01cdc8\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.8\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\n\r\nCompilation of this fails. Curiously enough, it works if `a: uint256 = [Z, Z]`.\r\n```python\r\nfrom vyper import compile_code\r\ncompile_code(\"\"\"\r\nZ: constant(uint256) = 0\r\nA: constant(uint256[2]) = [Z, Z]\r\n\r\n@public\r\ndef g(a: uint256[2] = A):\r\n    pass\r\n\"\"\")\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1624", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1624/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1624/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1624/events", "html_url": "https://github.com/vyperlang/vyper/issues/1624", "id": 498176890, "node_id": "MDU6SXNzdWU0OTgxNzY4OTA=", "number": 1624, "title": "Inadequate type-checking of decimal arrays", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-25T09:53:32Z", "updated_at": "2020-06-28T10:12:54Z", "closed_at": "2020-06-28T10:12:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Setting a decimal type with an integer should raise a `TypeMismatchException`. However, the following code compiles:\r\n```python\r\na: decimal[2]\r\n\r\n@public\r\ndef foo(b: decimal[2] = [-1, 1]):\r\n    self.a = [-1, 1]\r\n    self.a[0] = 2\r\n    c: decimal[2] = [-1, 1]\r\n    c[0] = 2\r\n```\r\n\r\nSetting a decimal array to non-integer types raises as expected, as does setting a non-array decimal with an integer.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1621", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1621/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1621/events", "html_url": "https://github.com/vyperlang/vyper/issues/1621", "id": 496898197, "node_id": "MDU6SXNzdWU0OTY4OTgxOTc=", "number": 1621, "title": "collision with pycrypto & pycryptodome", "user": {"login": "benjioh5", "id": 4755202, "node_id": "MDQ6VXNlcjQ3NTUyMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/4755202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjioh5", "html_url": "https://github.com/benjioh5", "followers_url": "https://api.github.com/users/benjioh5/followers", "following_url": "https://api.github.com/users/benjioh5/following{/other_user}", "gists_url": "https://api.github.com/users/benjioh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjioh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjioh5/subscriptions", "organizations_url": "https://api.github.com/users/benjioh5/orgs", "repos_url": "https://api.github.com/users/benjioh5/repos", "events_url": "https://api.github.com/users/benjioh5/events{/privacy}", "received_events_url": "https://api.github.com/users/benjioh5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-23T05:15:05Z", "updated_at": "2020-11-27T22:16:09Z", "closed_at": "2020-11-27T22:16:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b12+commit.a01cdc8\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.4\r\n* Environment (output of `pip freeze`):\r\n```\r\nalembic==1.0.7\r\namqp==2.4.1\r\napipkg==1.5\r\napispec==1.0.0b5\r\napispec-marshmallow-advanced==0.3\r\nappdirs==1.4.3\r\napply-defaults==0.1.1\r\narrow==0.12.1\r\nasn1crypto==0.24.0\r\nastroid==1.6.5\r\nasttokens==1.1.13\r\natomicwrites==1.2.1\r\nattrdict==2.0.0\r\nattrs==18.2.0\r\nBabel==2.6.0\r\nbackports.functools-lru-cache==1.5\r\nbase58==1.0.2\r\nbeautifulsoup4==4.6.3\r\nbilliard==3.5.0.5\r\nblocksmith==1.2.1\r\nbs4==0.0.1\r\ncashaddress==1.0.5\r\ncelery==4.2.1\r\ncertifi==2018.4.16\r\ncffi==1.12.3\r\nchardet==3.0.4\r\nClick==7.0\r\ncolorama==0.4.1\r\nconfigparser==3.5.0\r\ncoverage==4.5.4\r\ncoveralls==1.6.0\r\ncryptography==2.7\r\ncycler==0.10.0\r\nCython==0.29.2\r\ncytoolz==0.9.0.1\r\ndnspython==1.16.0\r\ndocker-py==1.8.0\r\ndocopt==0.6.2\r\necdsa==0.13\r\nentrypoints==0.3\r\nenum34==1.1.6\r\neosjs-python==0.1.82\r\neth-abi==2.0.0b9\r\neth-account==0.4.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.3.1\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b39\r\neth-typing==2.1.0\r\neth-utils==1.4.1\r\nethpm==0.1.4a19\r\nexecnet==1.7.1\r\nfilelock==3.0.12\r\nflake8==3.7.8\r\nflake8-bugbear==18.8.0\r\nFlask==1.0.2\r\nFlask-Admin==1.5.3\r\nFlask-BabelEx==0.9.3\r\nFlask-JSONRPC==0.3.1\r\nFlask-Login==0.4.1\r\nflask-marshmallow==0.9.0\r\nFlask-Migrate==2.4.0\r\nFlask-SocketIO==3.0.2\r\nFlask-SQLAlchemy==2.3.2\r\nfuncsigs==1.0.2\r\nfuture==0.16.0\r\nGDAL==2.3.1\r\nget==2018.11.19\r\ngevent==1.3.7\r\ngpg==1.13.1\r\ngreenlet==0.4.15\r\ngunicorn==19.9.0\r\nhapic==0.72\r\nhexbytes==0.1.0\r\nhypothesis==4.11.7\r\nidna==2.7\r\nimportlib-metadata==0.23\r\nipfshttpclient==0.4.12\r\niso8601==0.1.12\r\nisort==4.3.4\r\nitsdangerous==1.1.0\r\nJinja2==2.10\r\njsonrpcclient==2.0.1\r\njsonrpclib==0.1.7\r\njsonrpcserver==3.1.1\r\njsonschema==2.6.0\r\nkiwisolver==1.1.0\r\nkombu==4.3.0\r\nlazy-object-proxy==1.3.1\r\nlru-dict==1.1.6\r\nlxml==4.3.0\r\nMako==1.0.7\r\nMarkupSafe==1.0\r\nmarshmallow==2.18.1\r\nmarshmallow-dataclass==6.0.0b3\r\nmarshmallow-sqlalchemy==0.16.0\r\nmat2==0.9.0\r\nmatplotlib==3.1.1\r\nmccabe==0.6.1\r\nmeson==0.51.2\r\nmnemonic==0.18\r\nmore-itertools==4.3.0\r\nmpmath==1.1.0\r\nmultiaddr==0.0.8\r\nmultidict==4.5.2\r\nmypy==0.701\r\nmypy-extensions==0.4.1\r\nmysqlclient==1.4.2.post1\r\nNaked==0.1.31\r\nnetaddr==0.7.19\r\nnose==1.3.7\r\nnumpy==1.16.4\r\norderedset==2.0.1\r\npackaging==19.2\r\npandas==0.23.4\r\nparsimonious==0.8.0\r\npath.py==11.5.0\r\npbkdf2==1.3\r\npexpect==4.6.0\r\npluggy==0.8.0\r\npost==2018.11.20\r\nprotobuf==3.6.1\r\nptyprocess==0.6.0\r\npublic==2018.11.20\r\npy==1.7.0\r\npy-ecc==1.7.1\r\npy-evm==0.2.0a42\r\npyaes==1.6.1\r\npycairo==1.18.1\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npycryptodome==3.9.0\r\npyethash==0.1.27\r\npyflakes==2.1.1\r\nPyGObject==3.34.0\r\npylint==1.9.3\r\npyparsing==2.4.0\r\npyripple==0.0.2\r\npyserial==3.4\r\nPySocks==1.6.8\r\npytest==4.0.1\r\npytest-cov==2.4.0\r\npytest-xdist==1.18.1\r\npython-bitcoinrpc==1.0\r\npython-cardano==1.0.1\r\npython-dateutil==2.8.0\r\npython-editor==1.0.4\r\npython-engineio==2.2.0\r\npython-libtorrent==1.2.1\r\npython-ripple-lib==1.0.5\r\npython-rocksdb==0.6.9\r\npython-socketio==2.0.0\r\npytz==2019.1\r\npywallet==0.1.0\r\nPyYAML==3.13\r\nquery-string==2018.11.20\r\nrecordclass==0.8.1\r\nredis==3.0.1\r\nrequest==2018.11.20\r\nrequests==2.21.0\r\nrequests-futures==0.9.9\r\nripple==0.0.1\r\nripple-data==0.1.2\r\nripple-python==0.2.11\r\nrlp==1.1.0\r\nscipy==1.1.0\r\nsemantic-version==2.8.2\r\nserial==0.0.68\r\nsha256==0.1\r\nsha3==0.2.1\r\nsingledispatch==3.4.0.3\r\nsix==1.12.0\r\nsoupsieve==1.7.3\r\nspeaklater==1.3\r\nSQLAlchemy==1.2.18\r\nstem==1.7.1\r\ntabulate==0.8.2\r\nTBB==0.1\r\ntoml==0.10.0\r\ntoolz==0.9.0\r\ntorrequest==0.1.0\r\ntox==3.14.0\r\ntrie==1.4.0\r\ntronapi==3.0.2\r\ntwo1==3.10.9\r\ntyped-ast==1.3.5\r\ntyping-inspect==0.4.0\r\nurllib3==1.23\r\nuWSGI==2.0.17.1\r\nvarint==1.0.2\r\nvine==1.2.0\r\nvirtualenv==16.0.0\r\nvyper==0.1.0b12\r\nweb3==5.0.0b2\r\nwebsocket-client-py3==0.14.0\r\nwebsockets==7.0\r\nWerkzeug==0.14.1\r\nwrapt==1.10.11\r\nWTForms==2.2.1\r\nXBee==2.3.2\r\nzipp==0.6.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\n```bash\r\n$ vyper examples/crowdfund.vy\r\nError compiling:  examples/crowdfund.vy\r\nAttributeError: module '_sha3' has no attribute 'sha3'\r\n```\r\nIt's problem of import Crypto.Hash rather than `import sha3 as _sha3`.\r\nI fix this problem by this link.\r\nhttps://github.com/CityOfZion/neo-python/issues/485#issuecomment-403028068\r\nIt is collision with pycrypto & pycryptodome. Could you add or check this collision at vyper installation?\r\n\r\n### How can it be fixed?\r\n\r\nhttps://github.com/CityOfZion/neo-python/issues/485#issuecomment-403028068", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1620", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1620/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1620/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1620/events", "html_url": "https://github.com/vyperlang/vyper/issues/1620", "id": 496897724, "node_id": "MDU6SXNzdWU0OTY4OTc3MjQ=", "number": 1620, "title": "Cannot ignore return values of functions called inside a for loop", "user": {"login": "iamdefinitelyahuman", "id": 35276322, "node_id": "MDQ6VXNlcjM1Mjc2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamdefinitelyahuman", "html_url": "https://github.com/iamdefinitelyahuman", "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers", "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}", "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions", "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs", "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos", "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}", "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-23T05:12:12Z", "updated_at": "2019-11-12T19:26:10Z", "closed_at": "2019-11-12T19:26:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: `0.1.0b12+commit.0a386af`\r\n* OS: linux\r\n* Python Version: `3.6.8`\r\n* Environment: clean venv with only vyper and required dependencies\r\n\r\n### What's your issue about?\r\nThe following code example fails to compile with `CompilerPanic: Third argument to repeat (clause to be repeated) must be zerovalent`\r\n```python\r\n@private\r\ndef _bar() -> bool:\r\n    return True\r\n\r\n@private\r\ndef foo() -> bool:\r\n    for i in range(3):\r\n        self._bar()\r\n    return True\r\n```\r\n* Assigning the return value of `self._bar` to a memory variable allows the contract to compile\r\n* Not assigning the return value from `self._bar` is possible outside of the for loop", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1620/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1615", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1615/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1615/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1615/events", "html_url": "https://github.com/vyperlang/vyper/issues/1615", "id": 494974385, "node_id": "MDU6SXNzdWU0OTQ5NzQzODU=", "number": 1615, "title": "Vyper not handling braces in mathematical expressions and calls in one expression properly", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-18T03:59:16Z", "updated_at": "2021-07-27T21:30:31Z", "closed_at": "2021-07-27T21:30:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b12\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.8\r\n* Environment (output of `pip freeze`): meh\r\n\r\n### What's your issue about?\r\n\r\n```\r\nfrom vyper import compile_code                                                                                                                         \r\n\r\ncompile_code(\"\"\" \r\n@private \r\n@constant \r\ndef f(x: uint256) -> uint256: \r\n    return x + 1 \r\n\r\n@public     \r\n@constant \r\ndef g() -> uint256: \r\n    return self.f(1) * (self.f(20) - self.f(10)) \r\n\"\"\")\r\n```\r\nOutputs:\r\n```\r\n    433 \r\n    434         if label_name in existing_labels:\r\n--> 435             raise Exception('Label with name %s already exists!', label_name)\r\n    436         else:\r\n    437             existing_labels.add(label_name)\r\n\r\nException: ('Label with name %s already exists!', 'save_locals_start_10_37')\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1603", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1603/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1603/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1603/events", "html_url": "https://github.com/vyperlang/vyper/issues/1603", "id": 490760350, "node_id": "MDU6SXNzdWU0OTA3NjAzNTA=", "number": 1603, "title": "Function selector collision is not detected with the \"0\" selector", "user": {"login": "wadealexc", "id": 18387287, "node_id": "MDQ6VXNlcjE4Mzg3Mjg3", "avatar_url": "https://avatars.githubusercontent.com/u/18387287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wadealexc", "html_url": "https://github.com/wadealexc", "followers_url": "https://api.github.com/users/wadealexc/followers", "following_url": "https://api.github.com/users/wadealexc/following{/other_user}", "gists_url": "https://api.github.com/users/wadealexc/gists{/gist_id}", "starred_url": "https://api.github.com/users/wadealexc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wadealexc/subscriptions", "organizations_url": "https://api.github.com/users/wadealexc/orgs", "repos_url": "https://api.github.com/users/wadealexc/repos", "events_url": "https://api.github.com/users/wadealexc/events{/privacy}", "received_events_url": "https://api.github.com/users/wadealexc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-09-08T14:21:12Z", "updated_at": "2019-09-24T16:33:01Z", "closed_at": "2019-09-24T16:33:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0-beta.12\r\n\r\n### What's your issue about?\r\n\r\nVyper has an edge case in function selector collision detection. If a function with selector `0x00000000` exists, the `__default__` function is overwritten in the resulting contract. Here's an example: \r\n\r\n```\r\nowner: public(address)\r\n\r\n@public\r\ndef __init__():\r\n    self.owner = msg.sender\r\n\r\n@public\r\n@payable\r\ndef blockHashAskewLimitary(v: uint256): # function selector: 0x00000000\r\n    send(self.owner, self.balance)\r\n\r\n@public\r\n@payable\r\ndef __default__():\r\n    assert msg.value != 0\r\n    send(msg.sender, self.balance)\r\n```\r\n\r\nCalls made to the above contract with no calldata trigger `blockHashAskewLimitary(uint)`, rather than the default function. It seems that `v` is also successfully decoded, even without calldata.\r\n\r\n### How can it be fixed?\r\n\r\nSolidity uses `CALLDATASIZE` to differentiate between functions with the \"0\" selector, and the fallback function. As for the variable unpacking from empty calldata, a check should be in place that each function has some minimum `CALLDATASIZE`.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1603/reactions", "total_count": 3, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 2, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1603/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1575", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1575/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1575/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1575/events", "html_url": "https://github.com/vyperlang/vyper/issues/1575", "id": 482204802, "node_id": "MDU6SXNzdWU0ODIyMDQ4MDI=", "number": 1575, "title": "Current version of ERC721 token is not compatible with etherscan", "user": {"login": "igorline", "id": 1465430, "node_id": "MDQ6VXNlcjE0NjU0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1465430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igorline", "html_url": "https://github.com/igorline", "followers_url": "https://api.github.com/users/igorline/followers", "following_url": "https://api.github.com/users/igorline/following{/other_user}", "gists_url": "https://api.github.com/users/igorline/gists{/gist_id}", "starred_url": "https://api.github.com/users/igorline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igorline/subscriptions", "organizations_url": "https://api.github.com/users/igorline/orgs", "repos_url": "https://api.github.com/users/igorline/repos", "events_url": "https://api.github.com/users/igorline/events{/privacy}", "received_events_url": "https://api.github.com/users/igorline/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-19T09:33:15Z", "updated_at": "2022-04-07T04:05:52Z", "closed_at": "2022-04-07T04:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tried deploying current version of ERC721 token contract in this repository in rinkeby network and minted one token and etherscan is actually showing that my token is ERC20.\r\nhttps://rinkeby.etherscan.io/token/0x923844f7b3fd4f8a30f5b26002efd420dba49037\r\nThis way you are not able to see any data on holders, total supply, etc..\r\n\r\nI previously tried deploying it to the mainnet and it was the same issue.\r\nThough I was able to fix it by adding staightforward method in the contract found somewhere on github.\r\n\r\n```\r\n@public\r\n@constant\r\ndef implementsERC721() -> bool:\r\n  return True\r\n```\r\n\r\nNot sure if the issue is related to vyper or etherscan itself.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1563", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1563/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1563/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1563/events", "html_url": "https://github.com/vyperlang/vyper/issues/1563", "id": 477564462, "node_id": "MDU6SXNzdWU0Nzc1NjQ0NjI=", "number": 1563, "title": "Insufficient zero-padding bug for functions returning byte arrays of size < 16", "user": {"login": "daejunpark", "id": 5491770, "node_id": "MDQ6VXNlcjU0OTE3NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5491770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daejunpark", "html_url": "https://github.com/daejunpark", "followers_url": "https://api.github.com/users/daejunpark/followers", "following_url": "https://api.github.com/users/daejunpark/following{/other_user}", "gists_url": "https://api.github.com/users/daejunpark/gists{/gist_id}", "starred_url": "https://api.github.com/users/daejunpark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daejunpark/subscriptions", "organizations_url": "https://api.github.com/users/daejunpark/orgs", "repos_url": "https://api.github.com/users/daejunpark/repos", "events_url": "https://api.github.com/users/daejunpark/events{/privacy}", "received_events_url": "https://api.github.com/users/daejunpark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-06T19:52:43Z", "updated_at": "2019-08-25T16:11:11Z", "closed_at": "2019-08-25T16:11:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b11+commit.c775cda (the latest master)\r\n  * The buggy behavior happens for both recent releases, [v0.1.0-beta.10](https://github.com/ethereum/vyper/releases/tag/v0.1.0-beta.10) and [v0.1.0-beta.11](https://github.com/ethereum/vyper/releases/tag/v0.1.0-beta.11), as well.\r\n\r\n### What's your issue about?\r\n\r\n#### Summary:\r\n\r\nA function whose return type is `bytes[n]` where `n < 16`, returns a value that does *not* conform to [the ABI encoding](https://solidity.readthedocs.io/en/v0.5.10/abi-spec.html), having incorrect zero-padding.\r\n\r\n#### Details:\r\n\r\nFor example, [the `get_deposit_count` function of the deposit contract](https://github.com/ethereum/eth2.0-specs/blob/v0.8.0/deposit_contract/contracts/validator_registration.v.py#L60), whose return type is `bytes[8]`, returns the following 96 bytes (in hexadecimal notation):\r\n```\r\n0x0000000000000000000000000000000000000000000000000000000000000020\r\n  0000000000000000000000000000000000000000000000000000000000000008\r\n  deadbeefdeadbeef000000000000000000000000000000000000000000000020\r\n                                                                ^^  <-- problem!\r\n```\r\nwhere the first 32 bytes (the first line) denotes the header (the offset 32 = 0x20), the second 32 bytes (the second line) denotes the length of the byte array (8), and the \"`deadbeefdeadbeef`\" denotes the content of the byte array (`bytes[8]`). *Here, the problem is that the last byte is 32 (= 0x20) while it should be 0 (= 0x00) according to the ABI specification.* This means that any contract (written in either Solidity or Vyper) that calls to this type of functions expecting the correct zero-padding may misbehave.\r\n\r\nWhat happens is that the compiled bytecode of `get_deposit_count` fails to sufficiently pad zeros when it prepares for the return value. In the following return statement,\r\n```\r\nreturn self.to_little_endian_64(self.deposit_count)\r\n```\r\nit first copies the returned value (of 8 bytes) to some specific region of the memory, and puts only 8 bytes of zero-padding after that, instead of 24 bytes of zeros, which results in including some garbage values in the last 16 bytes. Indeed, in this particular case, the last 16 bytes (`000000000000000000000000020`) came from the side-effect of the sub-function call to `self.to_little_endian_64()`.\r\n\r\nTo be more specific, in the following zero-padding LLL code of `get_deposit_count` (generated by [the `zero_pad` function of `vyper/parser/stmt.py`](https://github.com/ethereum/vyper/blob/c775cda6a34b62612b4160d9017ad701f4f52db8/vyper/parser/stmt.py#L780-L799)):\r\n```\r\n            /* Zero pad */\r\n            [with,\r\n              _ceil32_end,\r\n              [ceil32, [mload, 640]],\r\n              [repeat,\r\n                736,\r\n                [mload, 640],\r\n    ??? -->     8,\r\n                [seq,\r\n                  [if, [gt, [mload, 736], _ceil32_end], break],\r\n                  [mstore8, [add, 672, [mload, 736]], 0]]]],\r\n            [mstore, 608, 32],\r\n            [return, 608, [ceil32, [add, [mload, 640], 64]]],\r\n            # Line 58\r\n            stop]],\r\n```\r\nthe third argument of the `repeat` loop is 8, where it should be at least 24.  In a quick examination of the Vyper compiler code, it seems that the number `8` comes from the `maxlen` of the type `bytes[8]`, but I couldn't have a chance to further investigate the root cause and a quick fix.\r\n\r\n\r\nIndeed, the same problem happens in [the `to_little_endian_64` function](https://github.com/ethereum/eth2.0-specs/blob/v0.8.0/deposit_contract/contracts/validator_registration.v.py#L30) as well,  which has less effect because it is a private function, though.\r\n\r\n\r\n_[This bug was privately reported on July 22, 2019, confirmed as not a security vulnerability, and made public here for the transparency.]_", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1563/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1555", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1555/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1555/events", "html_url": "https://github.com/vyperlang/vyper/issues/1555", "id": 474285229, "node_id": "MDU6SXNzdWU0NzQyODUyMjk=", "number": 1555, "title": "Using Python slice syntax with Bytes array doesn't work", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-07-29T22:28:51Z", "updated_at": "2020-06-28T10:16:05Z", "closed_at": "2020-06-28T10:16:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b11\r\n\r\n### What's your issue about?\r\nThe following doesn't compile:\r\n```\r\n@public\r\ndef foo(b: bytes[65]) -> bytes32:\r\n    return convert(b[:32], bytes32)\r\n```\r\nand gives the following error message, which isn't helpful\r\n```\r\n...\r\nvyper/ast_utils.py in _build_vyper_ast_list(source_code, node)\r\n     28         yield parse_python_ast(\r\n     29             source_code=source_code,\r\n---> 30             node=n,\r\n     31         )\r\n     32\r\n\r\nvyper/ast_utils.py in parse_python_ast(source_code, node)\r\n     76             vyper_class = getattr(vyper_ast, class_name)\r\n     77             init_kwargs = _build_vyper_ast_init_kwargs(\r\n---> 78                 source_code, node, vyper_class, class_name\r\n     79             )\r\n     80             return vyper_class(**init_kwargs)\r\n\r\nvyper/utils.py in f(*args, **kwargs)\r\n    266         @functools.wraps(func)\r\n    267         def f(*args, **kwargs):\r\n--> 268             return cast_type(func(*args, **kwargs))\r\n    269         return f\r\n    270     return yf\r\n\r\nvyper/ast_utils.py in _build_vyper_ast_init_kwargs(source_code, node, vyper_class, class_name)\r\n     63                 parse_python_ast(\r\n     64                     source_code=source_code,\r\n---> 65                     node=val,\r\n     66                 )\r\n     67             )\r\n\r\nvyper/ast_utils.py in parse_python_ast(source_code, node)\r\n     78                 source_code, node, vyper_class, class_name\r\n     79             )\r\n---> 80             return vyper_class(**init_kwargs)\r\n     81         else:\r\n     82             raise SyntaxException(\r\n\r\nvyper/ast.py in __init__(self, **kwargs)\r\n     30             elif value:\r\n     31                 raise CompilerPanic(\r\n---> 32                     f'Unsupported non-empty value field_name: {field_name}, '\r\n     33                     f' class: {type(self)} value: {value}'\r\n     34                 )\r\n\r\nCompilerPanic: Unsupported non-empty value field_name: upper,  class: <class 'vyper.ast.Slice'> value: <vyper.ast.Num object at 0x7efe06a46d18> Please create an issue.\r\n```\r\n\r\n### How can it be fixed?\r\nI don't think it _should_ compile, at least how we have the compiler currently set up, but this is probably a common hangup people are likely to run in to if that is the case, so we should probably have a more helpful error message like `Please use 'slice(b, start=0, end=32)' instead.`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1554", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1554/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1554/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1554/events", "html_url": "https://github.com/vyperlang/vyper/issues/1554", "id": 473777344, "node_id": "MDU6SXNzdWU0NzM3NzczNDQ=", "number": 1554, "title": "Vyper ignores unnecessary keyword arguments", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-28T19:27:05Z", "updated_at": "2019-08-25T16:57:41Z", "closed_at": "2019-08-25T16:57:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper version: 0.1.0b10\r\n* OS: osx\r\n\r\n### What's your issue about?\r\n\r\nWhen calling a function Vyper ignores unnecessary keyword arguments, e.g.\r\n```\r\n@public\r\ndef foo():\r\n   pass\r\n\r\n@public\r\ndef bar():\r\n   self.foo(kw=1234)\r\n```\r\ncompiles without throwing an error. This is especially surprising when trying to call a payable function with a value\r\n```\r\n@public\r\n@payable\r\ndef foo():\r\n   pass\r\n\r\n@public\r\ndef bar():\r\n   self.foo(value=self.balance)\r\n```\r\nas the value argument will simply be ignored.\r\n\r\n### How can it be fixed?\r\n\r\nDisallow using keyword arguments where none are required.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1551", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1551/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1551/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1551/events", "html_url": "https://github.com/vyperlang/vyper/issues/1551", "id": 472548616, "node_id": "MDU6SXNzdWU0NzI1NDg2MTY=", "number": 1551, "title": "Nonsense struct output with inline returns", "user": {"login": "NoahZinsmeister", "id": 3760414, "node_id": "MDQ6VXNlcjM3NjA0MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3760414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoahZinsmeister", "html_url": "https://github.com/NoahZinsmeister", "followers_url": "https://api.github.com/users/NoahZinsmeister/followers", "following_url": "https://api.github.com/users/NoahZinsmeister/following{/other_user}", "gists_url": "https://api.github.com/users/NoahZinsmeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoahZinsmeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoahZinsmeister/subscriptions", "organizations_url": "https://api.github.com/users/NoahZinsmeister/orgs", "repos_url": "https://api.github.com/users/NoahZinsmeister/repos", "events_url": "https://api.github.com/users/NoahZinsmeister/events{/privacy}", "received_events_url": "https://api.github.com/users/NoahZinsmeister/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-24T21:40:02Z", "updated_at": "2019-07-29T21:06:37Z", "closed_at": "2019-07-29T21:06:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.2\r\n* Environment (output of `pip freeze`): \r\n```\r\neth-tester==0.1.0b39\r\npy-evm==0.2.0a42\r\npytest==5.0.1\r\nvyper==0.1.0b10\r\nweb3==5.0.0b2\r\n```\r\n\r\n### What's your issue about?\r\n\r\nWhen `@public` functions which return structs are returned inline from other `@public` functions, the output is nonsense values.\r\n\r\nIn the following code, `wrap_get_my_struct_WORKING` returns the correct data, whereas `wrap_get_my_struct_BROKEN` returns nonsense.\r\n\r\n```python\r\nstruct MyStruct:\r\n    e1: decimal\r\n    e2: timestamp\r\n\r\n\r\n# @dev Construct a MyStruct.\r\n@public\r\n@constant\r\ndef get_my_struct(_e1: decimal, _e2: timestamp) -> MyStruct:\r\n    return MyStruct({e1: _e1, e2: _e2})\r\n \r\n\r\n# @dev Wrap self.get_my_struct.\r\n@public\r\n@constant\r\ndef wrap_get_my_struct_WORKING(_e1: decimal) -> MyStruct:\r\n    testing: MyStruct = self.get_my_struct(_e1, block.timestamp)\r\n    return testing\r\n\r\n# @dev Wrap self.get_my_struct.\r\n@public\r\n@constant\r\ndef wrap_get_my_struct_BROKEN(_e1: decimal) -> MyStruct:\r\n    return self.get_my_struct(_e1, block.timestamp)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1551/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1544", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1544/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1544/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1544/events", "html_url": "https://github.com/vyperlang/vyper/issues/1544", "id": 471886428, "node_id": "MDU6SXNzdWU0NzE4ODY0Mjg=", "number": 1544, "title": "@nonreentrant should not compile on constant functions", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-23T19:23:54Z", "updated_at": "2019-07-25T12:53:52Z", "closed_at": "2019-07-25T12:53:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now this compiles:\r\n\r\n```python\r\n@public\r\n@constant\r\n@nonreentrant('lock')\r\ndef tokenAddress() -> address:\r\n    return self.token\r\n```\r\n\r\nhowever reentrancy should never be a problem in constant functions", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1544/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1544/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1538", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1538/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1538/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1538/events", "html_url": "https://github.com/vyperlang/vyper/issues/1538", "id": 470817535, "node_id": "MDU6SXNzdWU0NzA4MTc1MzU=", "number": 1538, "title": "Cannot define a byte array constant with value that exact same size as the array ", "user": {"login": "SAYONG", "id": 4682756, "node_id": "MDQ6VXNlcjQ2ODI3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4682756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SAYONG", "html_url": "https://github.com/SAYONG", "followers_url": "https://api.github.com/users/SAYONG/followers", "following_url": "https://api.github.com/users/SAYONG/following{/other_user}", "gists_url": "https://api.github.com/users/SAYONG/gists{/gist_id}", "starred_url": "https://api.github.com/users/SAYONG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SAYONG/subscriptions", "organizations_url": "https://api.github.com/users/SAYONG/orgs", "repos_url": "https://api.github.com/users/SAYONG/repos", "events_url": "https://api.github.com/users/SAYONG/events{/privacy}", "received_events_url": "https://api.github.com/users/SAYONG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-21T19:46:37Z", "updated_at": "2020-10-25T14:49:15Z", "closed_at": "2020-10-25T14:49:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n* OS: Linux 4.19.49-1-MANJARO\r\n* Python Version (output of `python --version`): 3.73\r\n* Environment (output of `pip freeze`):\r\n```\r\npycryptodome==3.8.2\r\nvyper==0.1.0b10\r\n```\r\n### What's your issue about?\r\n\r\nI've tried to create a constant type `bytes[4]` and then assign byte array size 4 to constant.\r\n\r\nContract `const.vy`:\r\n```python\r\nCONST_BYTES: constant(bytes[4]) = b'\\xf2\\x3a\\x6e\\x61'\r\n```\r\n\r\nCommand\r\n```\r\nvyper const.vy\r\n```\r\n\r\nReturns:\r\n```\r\nError compiling:  issue-2.vy\r\nvyper.exceptions.TypeMismatchException: line 1: Invalid value for constant type, expected bytes[4] got bytes[4] instead\r\nCONST_BYTES: constant(bytes[4]) = b'\\xf2\\x3a\\x6e\\x61'\r\n----------------------------------^\r\n```\r\nBut when I try to increase size of the constant to be 5 then everything fine.\r\n```python\r\nCONST_BYTES: constant(bytes[5]) = b'\\xf2\\x3a\\x6e\\x61'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1538/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1529", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1529/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1529/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1529/events", "html_url": "https://github.com/vyperlang/vyper/issues/1529", "id": 469314201, "node_id": "MDU6SXNzdWU0NjkzMTQyMDE=", "number": 1529, "title": "Types not always enforced on events", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-17T16:15:15Z", "updated_at": "2019-07-23T16:35:28Z", "closed_at": "2019-07-23T16:35:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Haven't dug deeply on this one but something equivalent to this is compiling for me:\r\n\r\n```python\r\nSale: event({eth_sold: indexed(uint256(wei))})\r\n\r\n@public\r\ndef logSale(amount: uint256):\r\n   log.Sale(amount)\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1529/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1511", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1511/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1511/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1511/events", "html_url": "https://github.com/vyperlang/vyper/issues/1511", "id": 463118915, "node_id": "MDU6SXNzdWU0NjMxMTg5MTU=", "number": 1511, "title": "Stack underflow in unreachable ERC20.transfer", "user": {"login": "dHonerkamp", "id": 31133390, "node_id": "MDQ6VXNlcjMxMTMzMzkw", "avatar_url": "https://avatars.githubusercontent.com/u/31133390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dHonerkamp", "html_url": "https://github.com/dHonerkamp", "followers_url": "https://api.github.com/users/dHonerkamp/followers", "following_url": "https://api.github.com/users/dHonerkamp/following{/other_user}", "gists_url": "https://api.github.com/users/dHonerkamp/gists{/gist_id}", "starred_url": "https://api.github.com/users/dHonerkamp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dHonerkamp/subscriptions", "organizations_url": "https://api.github.com/users/dHonerkamp/orgs", "repos_url": "https://api.github.com/users/dHonerkamp/repos", "events_url": "https://api.github.com/users/dHonerkamp/events{/privacy}", "received_events_url": "https://api.github.com/users/dHonerkamp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-07-02T09:23:27Z", "updated_at": "2019-11-07T17:55:32Z", "closed_at": "2019-11-07T17:55:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n* OS: osx mojave 10.14.5\r\n* Python Version (output of `python --version`): 3.7.3\r\n* Environment (output of `pip freeze`):\r\n```\r\nappnope==0.1.0\r\nasteval==0.9.14\r\nattrs==19.1.0\r\nbackcall==0.1.0\r\nbeautifulsoup4==4.7.1\r\nbleach==3.1.0\r\nbs4==0.0.1\r\ncachetools==3.1.1\r\ncertifi==2019.3.9\r\nchardet==3.0.4\r\ncycler==0.10.0\r\ndecorator==4.4.0\r\ndefusedxml==0.6.0\r\nentrypoints==0.3\r\ngoogle-api-core==1.11.1\r\ngoogle-auth==1.6.3\r\ngoogle-cloud-bigquery==1.13.0\r\ngoogle-cloud-core==1.0.1\r\ngoogle-cloud-storage==1.16.1\r\ngoogle-resumable-media==0.3.2\r\ngoogleapis-common-protos==1.6.0\r\nidna==2.8\r\nipykernel==5.1.1\r\nipython==7.5.0\r\nipython-genutils==0.2.0\r\nipywidgets==7.4.2\r\njedi==0.13.3\r\nJinja2==2.10.1\r\njoblib==0.13.2\r\njsonschema==3.0.1\r\njupyter==1.0.0\r\njupyter-client==5.2.4\r\njupyter-console==6.0.0\r\njupyter-core==4.4.0\r\nkiwisolver==1.1.0\r\nlmfit==0.9.13\r\nMarkupSafe==1.1.1\r\nmatplotlib==3.1.0\r\nmistune==0.8.4\r\nnbconvert==5.5.0\r\nnbformat==4.4.0\r\nnoisyopt==0.2.2\r\nnotebook==5.7.8\r\nnumpy==1.16.4\r\npandas==0.24.2\r\npandocfilters==1.4.2\r\nparso==0.4.0\r\npexpect==4.7.0\r\npickleshare==0.7.5\r\nprometheus-client==0.6.0\r\nprompt-toolkit==2.0.9\r\nprotobuf==3.8.0\r\nptyprocess==0.6.0\r\npyasn1==0.4.5\r\npyasn1-modules==0.2.5\r\npycryptodome==3.8.2\r\nPygments==2.4.2\r\npyparsing==2.4.0\r\nPyPortfolioOpt==0.3.1\r\npyrsistent==0.15.2\r\npython-dateutil==2.8.0\r\npytz==2019.1\r\npyzmq==18.0.1\r\nqtconsole==4.5.1\r\nrequests==2.22.0\r\nrsa==4.0\r\nscikit-learn==0.21.2\r\nscipy==1.3.0\r\nseaborn==0.9.0\r\nselenium==4.0.0a1\r\nSend2Trash==1.5.0\r\nsix==1.12.0\r\nsklearn==0.0\r\nsortedcontainers==2.1.0\r\nsoupsieve==1.9.1\r\nterminado==0.8.2\r\ntestpath==0.4.2\r\ntornado==6.0.2\r\ntraitlets==4.3.2\r\nuncertainties==3.1.1\r\nurllib3==1.25.3\r\nvyper==0.1.0b10\r\nwcwidth==0.1.7\r\nwebencodings==0.5.1\r\nwidgetsnbextension==3.4.2\r\n```\r\n\r\n### What's your issue about?\r\n\r\nTransfer to an ERC20 token returns stack underflow if it is in an if clause that never gets executed, but works without the if clause.\r\n\r\nContract ERC20DummyToken.sol:\r\n\r\n```\r\npragma solidity ^0.5.0;\r\n\r\nimport \"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol\";\r\nimport \"openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol\";\r\n\r\ncontract ERC20DumyToken is ERC20, ERC20Detailed {\r\n    constructor(uint256 initialSupply) ERC20Detailed(\"Dummy\", \"DUM\", 18) public {\r\n        _mint(msg.sender, initialSupply);\r\n    }\r\n}\r\n```\r\n\r\nContract vyperIssue.vy:\r\n\r\n```\r\nfrom vyper.interfaces import ERC20\r\n\r\ndeposits: public(map(address, uint256))\r\ntoken: ERC20\r\n\r\n@public\r\ndef __init__(_ERC20Address: address):\r\n    self.token = ERC20(_ERC20Address)\r\n\r\n@public\r\ndef bid(_amount: uint256):\r\n    if False:\r\n        self.token.transfer(msg.sender, _amount)\r\n```\r\n\r\ntest.js:\r\n```\r\nconst ERC20DummyToken = artifacts.require(\"ERC20DummyToken\");\r\nconst auction = artifacts.require(\"vyperIssue\");\r\n\r\ncontract(\"auction\", async accounts => {\r\n    it(\"do stuff\", async () => {\r\n        let _initialSupply = 100000\r\n        let token = await ERC20DummyToken.new(_initialSupply)\r\n        let instance = await auction.new(token.address);\r\n\r\n        await token.transfer(instance.address, 10000)\r\n        await instance.bid(500, {from: accounts[1]})\r\n    });\r\n});\r\n```\r\nReturns:\r\n```\r\n     Error: Returned error: VM Exception while processing transaction: stack underflow\r\n      at Object.ErrorResponse (/Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/~/web3-core-helpers/src/errors.js:29:1)\r\n      at /Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/web3-core-requestmanager/src/index.js:140:1\r\n      at /Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1\r\n      at XMLHttpRequest.request.onreadystatechange (/Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/web3-providers-http/src/index.js:96:1)\r\n      at XMLHttpRequestEventTarget.dispatchEvent (/Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)\r\n      at XMLHttpRequest._setReadyState (/Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)\r\n      at XMLHttpRequest._onHttpResponseEnd (/Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)\r\n      at IncomingMessage.<anonymous> (/Users/danielhonerkamp/.npm-packages/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)\r\n      at endReadableNT (_stream_readable.js:1129:12)\r\n      at process._tickCallback (internal/process/next_tick.js:63:19)\r\n```\r\n\r\nThe test succeeds if I remove the if clause:\r\n```\r\n@public\r\ndef bid(_amount: uint256):\r\n    self.token.transfer(msg.sender, _amount)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1478", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1478/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1478/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1478/events", "html_url": "https://github.com/vyperlang/vyper/issues/1478", "id": 455370420, "node_id": "MDU6SXNzdWU0NTUzNzA0MjA=", "number": 1478, "title": "uint256 doesn't work as array index", "user": {"login": "scherrey", "id": 878591, "node_id": "MDQ6VXNlcjg3ODU5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/878591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scherrey", "html_url": "https://github.com/scherrey", "followers_url": "https://api.github.com/users/scherrey/followers", "following_url": "https://api.github.com/users/scherrey/following{/other_user}", "gists_url": "https://api.github.com/users/scherrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/scherrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scherrey/subscriptions", "organizations_url": "https://api.github.com/users/scherrey/orgs", "repos_url": "https://api.github.com/users/scherrey/repos", "events_url": "https://api.github.com/users/scherrey/events{/privacy}", "received_events_url": "https://api.github.com/users/scherrey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-12T18:51:15Z", "updated_at": "2019-06-21T10:43:05Z", "closed_at": "2019-06-21T10:43:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n* OS: linux Kubuntu 14.04 Linux satriani 4.9.119-first-custom #1 SMP Mon Aug 13 18:33:19 +07 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n* Python Version (output of `python --version`): 3.6.3\r\n* Environment (output of `pip freeze`):\r\nasn1crypto==0.24.0\r\nasync-generator==1.10\r\nasync-lru==0.1.0\r\nasyncio-cancel-token==0.1.0a2\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.1.0\r\nbackcall==0.1.0\r\nbase58==1.0.3\r\nbloom-filter==1.3\r\ncached-property==1.5.1\r\ncachetools==3.1.1\r\ncertifi==2019.3.9\r\ncffi==1.12.3\r\nchardet==3.0.4\r\ncoincurve==10.0.0\r\ncryptography==2.7\r\ncypari==2.3.0\r\ncytoolz==0.9.0.1\r\ndecorator==4.4.0\r\neth-abi==2.0.0b9\r\neth-account==0.4.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.4\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b39\r\neth-typing==2.1.0\r\neth-utils==1.6.1\r\nethpm==0.1.4a19\r\nfuture==0.17.1\r\nFXrays==1.3.3\r\nhexbytes==0.2.0\r\nidna==2.8\r\nifaddr==0.1.6\r\nimportlib-metadata==0.18\r\nipdb==0.12\r\nipfshttpclient==0.4.12\r\nipython==7.5.0\r\nipython-genutils==0.2.0\r\njedi==0.13.3\r\njsonschema==2.6.0\r\nlahja==0.12.0\r\nlru-dict==1.1.6\r\nlxml==4.3.3\r\nmore-itertools==7.0.0\r\nmultiaddr==0.0.8\r\nmypy-extensions==0.4.1\r\nnetaddr==0.7.19\r\nnetdisco==2.6.0\r\nnetworkx==2.3\r\npackaging==19.0\r\nparsimonious==0.8.1\r\nparso==0.4.0\r\npexpect==4.7.0\r\npickleshare==0.7.5\r\npipenv==2018.11.26\r\nplink==2.2\r\npluggy==0.12.0\r\nplyvel==1.0.5\r\nprompt-toolkit==2.0.9\r\nprotobuf==3.8.0\r\nptyprocess==0.6.0\r\npy==1.8.0\r\npy-ecc==1.7.0\r\npy-evm==0.2.0a42\r\npy-geth==2.1.0\r\npycparser==2.19\r\npycryptodome==3.8.2\r\npyethash==0.1.27\r\nPygments==2.4.2\r\npyparsing==2.4.0\r\npypng==0.0.19\r\npyrsistent==0.15.2\r\npysha3==1.0.2\r\npytest==4.6.3\r\npytest-ethereum==0.1.3a6\r\npython-dateutil==2.8.0\r\nrequests==2.22.0\r\nrlp==1.1.0\r\nsemantic-version==2.6.0\r\nsimplegeneric==0.8.1\r\nsix==1.12.0\r\nsnappy-manifolds==1.0\r\nspherogram==1.8.1\r\nSQLAlchemy==1.3.4\r\ntoolz==0.9.0\r\ntraitlets==4.3.2\r\ntrie==1.4.0\r\ntyping-extensions==3.7.2\r\nuPnPClient==0.0.8\r\nurllib3==1.25.3\r\nuvloop==0.11.2\r\nvarint==1.0.2\r\nvirtualenv==16.6.0\r\nvirtualenv-clone==0.5.3\r\nvyper==0.1.0b10\r\nwcwidth==0.1.7\r\nweb3==5.0.0b2\r\nwebsockets==7.0\r\nzeroconf==0.22.0\r\nzipp==0.5.1\r\n\r\n\r\n\r\n### What's your issue about?\r\n\r\nAttempts to use uint256 as an index parameter into an array results in the following error:\r\n\r\nvyper.exceptions.TypeMismatchException: line 207:8 Typecasting from base type uint256 to int128 unavailable\r\n\r\nExample code:\r\n```\r\nMAX_AUCTION_ITEMS: constant(uint256)  = 5\r\n\r\ntokenIds: uint256[MAX_AUCTION_ITEMS]\r\ntokenQty: uint256 # Total number of tokenIds actually in the tokenIds list.\r\n\r\n\r\n\r\n@public\r\ndef __init__(_token_ids: uint256[MAX_AUCTION_ITEMS], _kyc_provider: address, _start: timestamp, _end: timestamp):\r\n    \"\"\"\r\n    _token_ids - a list of each UNIQUE tokenId in order of most valuable\r\n    being the first in the list.\r\n\r\n    _kyc_provider - wallet address of the account with rights to manage\r\n    the approved bidder list.\r\n\r\n    _start - the datetime when the auction can accept bids.\r\n\r\n    _end - the datetime when the auction ends normal bidding activities.\r\n    \"\"\"\r\n\r\n    # load up the tokenIds\r\n    for tokenId in _token_ids:\r\n        if tokenId == 0: break\r\n\r\n\r\n        self.tokenIds[self.tokenQty] = tokenId ### vyper.exceptions.TypeMismatchException: line 207:8 Typecasting from base type uint256 to int128 unavailable\r\n\r\n        \r\n        self.tokenQty += 1    \r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\n@charles-cooper figured out that the following work around get's us by:\r\n\r\nself.tokenIds[convert(self.tokenQty, int128)] = tokenId\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1476", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1476/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1476/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1476/events", "html_url": "https://github.com/vyperlang/vyper/issues/1476", "id": 454728627, "node_id": "MDU6SXNzdWU0NTQ3Mjg2Mjc=", "number": 1476, "title": "Cannot post events after create an uninitialized local variable", "user": {"login": "JustinDrake", "id": 731743, "node_id": "MDQ6VXNlcjczMTc0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/731743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JustinDrake", "html_url": "https://github.com/JustinDrake", "followers_url": "https://api.github.com/users/JustinDrake/followers", "following_url": "https://api.github.com/users/JustinDrake/following{/other_user}", "gists_url": "https://api.github.com/users/JustinDrake/gists{/gist_id}", "starred_url": "https://api.github.com/users/JustinDrake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JustinDrake/subscriptions", "organizations_url": "https://api.github.com/users/JustinDrake/orgs", "repos_url": "https://api.github.com/users/JustinDrake/repos", "events_url": "https://api.github.com/users/JustinDrake/events{/privacy}", "received_events_url": "https://api.github.com/users/JustinDrake/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/vyperlang/vyper/milestones/2", "html_url": "https://github.com/vyperlang/vyper/milestone/2", "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/2/labels", "id": 5624309, "node_id": "MDk6TWlsZXN0b25lNTYyNDMwOQ==", "number": 2, "title": "v0.3.0 Release", "description": "", "creator": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 11, "state": "open", "created_at": "2020-07-06T18:39:04Z", "updated_at": "2022-06-08T21:08:17Z", "due_on": null, "closed_at": null}, "comments": 34, "created_at": "2019-06-11T14:35:16Z", "updated_at": "2021-08-06T01:50:36Z", "closed_at": "2021-08-06T01:50:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When working with the Eth2 deposit contract I noticed a strange behaviour which I presume is a compiler bug.\r\n\r\nNotice that the tests pass in https://github.com/ethereum/eth2.0-specs/pull/1152/commits/abe48cc98857c3350d45656d3d4a6f2e6af2784d (the command to run the tests is `make compile_deposit_contract; make test_deposit_contract`) but fail if you move [line 92](https://github.com/ethereum/eth2.0-specs/blob/abe48cc98857c3350d45656d3d4a6f2e6af2784d/deposit_contract/contracts/validator_registration.v.py#L92) (the `Deposit` log) to line 80 the tests fail when nothing has really changed. I haven't had time to debug it but my guess would be that that it has something to do with `zero_bytes32: bytes32`, possibly that junk is being written to it.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1473", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1473/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1473/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1473/events", "html_url": "https://github.com/vyperlang/vyper/issues/1473", "id": 453253951, "node_id": "MDU6SXNzdWU0NTMyNTM5NTE=", "number": 1473, "title": "Unknown interface error only when using -f combined_json", "user": {"login": "alcuadrado", "id": 176499, "node_id": "MDQ6VXNlcjE3NjQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alcuadrado", "html_url": "https://github.com/alcuadrado", "followers_url": "https://api.github.com/users/alcuadrado/followers", "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}", "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}", "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions", "organizations_url": "https://api.github.com/users/alcuadrado/orgs", "repos_url": "https://api.github.com/users/alcuadrado/repos", "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}", "received_events_url": "https://api.github.com/users/alcuadrado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-06T21:51:58Z", "updated_at": "2019-06-07T15:20:37Z", "closed_at": "2019-06-07T15:20:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n* OS: Mac with Docker, using ethereum/vyper:0.1.0b10\r\n\r\n### What's your issue about?\r\n\r\nI'm just starting to experiment with vyper, and playing with the imports I got into a situation where I get a compilation error only when `-f combined_json` is used.\r\n\r\nMy files are:\r\n\r\ntest.vy:\r\n\r\n```py\r\nimport FooBarInterface as FooBarInterface\r\n```\r\n\r\nFooBarInterface.vy:\r\n\r\n```py\r\n@public\r\ndef call_test1():\r\n  pass\r\n```\r\n\r\nAll these commands run correctly, i think:\r\n\r\n```\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f abi ./test.vy\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f bytecode ./test.vy\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f bytecode_runtime ./test.vy\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f ir ./test.vy\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f asm ./test.vy\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f source_map ./test.vy\r\ndocker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f method_identifiers ./test.vy\r\n```\r\n\r\nBut this one fails:\r\n```\r\n docker run -v $(pwd):/code ethereum/vyper:0.1.0b10 -f combined_json ./test.vy\r\nvyper.exceptions.StructureException: line 1: Unknown interface FooBarInterface\r\nimport FooBarInterface as FooBarInterface\r\nError compiling:  ./test.vy\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nThe program should compile (or not?) regardless of the output format.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1473/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1469", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1469/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1469/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1469/events", "html_url": "https://github.com/vyperlang/vyper/issues/1469", "id": 452315066, "node_id": "MDU6SXNzdWU0NTIzMTUwNjY=", "number": 1469, "title": "Default parameters do not get properly typechecked", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-05T04:57:50Z", "updated_at": "2019-09-09T16:56:18Z", "closed_at": "2019-09-09T16:56:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): f6cf2da3d542bf5a325ed28b7047a1ac25bb7a3a\r\n* OS: linux\r\n* Python Version (output of `python --version`): `Python 3.6.7`\r\n\r\n### What's your issue about?\r\nThe following function passes the type checker.\r\n```python\r\n@public \r\ndef foo(x: uint256 = -1):\r\n    pass\r\n```\r\n\r\n### How can it be fixed?\r\nUse the type checker on default function parameters", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1468", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1468/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1468/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1468/events", "html_url": "https://github.com/vyperlang/vyper/issues/1468", "id": 451763934, "node_id": "MDU6SXNzdWU0NTE3NjM5MzQ=", "number": 1468, "title": "Bug: can't assert result of external calls to modifiable functions ", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2019-06-04T02:10:04Z", "updated_at": "2019-08-24T15:44:17Z", "closed_at": "2019-08-24T15:44:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n\r\n### What's your issue about?\r\nUpgrading Uniswap from vyper 0.1.0b4 to 0.1.0b10 and noticed my tests were failing on asserting external contract calls that return bools.\r\n\r\nThis fails (reverts):\r\n```python\r\nassert self.token.transferFrom(msg.sender, self, token_amount)\r\n```\r\n\r\nThis succeeds:\r\n```python\r\nsuccess: bool = self.token.transferFrom(msg.sender, self, token_amount)\r\nassert success\r\n```\r\n\r\nThe interface was defined as:\r\n```\r\ncontract Token():\r\n    def transferFrom(_from : address, _to : address, _value : uint256) -> bool: modifying\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1467", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1467/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1467/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1467/events", "html_url": "https://github.com/vyperlang/vyper/issues/1467", "id": 451693045, "node_id": "MDU6SXNzdWU0NTE2OTMwNDU=", "number": 1467, "title": "Missing argument validation in slice", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-03T21:15:37Z", "updated_at": "2020-06-28T10:20:24Z", "closed_at": "2020-06-28T10:20:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper version: 0.1.0b9\r\n\r\n### What's your issue about?\r\n\r\nThe `slice` function seems to only partially validate its arguments:\r\n```\r\n@public\r\ndef slc(a: string[4], s: int128, l: int128) -> string[4]:\r\n    return slice(a, start=s, len=l)\r\n```\r\nFor arguments (\"abcd\", 3, 5) it correctly reverts, however with arguments (\"abcd\", -1, 3) it works and returns all zero bytes, while arguments (\"abcd\", 1, -1) lead to an out-of-gas exception.\r\n\r\n### How can it be fixed?\r\n\r\nValidate both arguments to `slice`.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1464", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1464/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1464/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1464/events", "html_url": "https://github.com/vyperlang/vyper/issues/1464", "id": 451233747, "node_id": "MDU6SXNzdWU0NTEyMzM3NDc=", "number": 1464, "title": "Bool default parameters not working", "user": {"login": "ElianaTroper", "id": 35941672, "node_id": "MDQ6VXNlcjM1OTQxNjcy", "avatar_url": "https://avatars.githubusercontent.com/u/35941672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElianaTroper", "html_url": "https://github.com/ElianaTroper", "followers_url": "https://api.github.com/users/ElianaTroper/followers", "following_url": "https://api.github.com/users/ElianaTroper/following{/other_user}", "gists_url": "https://api.github.com/users/ElianaTroper/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElianaTroper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElianaTroper/subscriptions", "organizations_url": "https://api.github.com/users/ElianaTroper/orgs", "repos_url": "https://api.github.com/users/ElianaTroper/repos", "events_url": "https://api.github.com/users/ElianaTroper/events{/privacy}", "received_events_url": "https://api.github.com/users/ElianaTroper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-02T20:52:48Z", "updated_at": "2019-06-25T16:07:35Z", "closed_at": "2019-06-25T16:07:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b10\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.7\r\n* Environment (output of `pip freeze`): (At end of report for readability)\r\n\r\n### What's your issue about?\r\n\r\n* full output of the error: Default parameter values have to be literals.\r\n* what command you ran: vyper test.vy\r\n* the code that caused the failure:\r\ntest.vy is the following:\r\n```\r\n@public\r\ndef test(a: bool = True) -> bool:\r\n    return a\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nNot sure precisely how to fix this, but this did work in 0.1.0b09, indicating some code change caused this.\r\n\r\n#### Environment\r\napturl==0.5.2\r\nasn1crypto==0.24.0\r\nBrlapi==0.6.6\r\ncertifi==2018.1.18\r\nchardet==3.0.4\r\nchrome-gnome-shell==0.0.0\r\ncommand-not-found==0.3\r\ncryptography==2.1.4\r\ncupshelpers==1.0\r\ndefer==1.0.6\r\ndevedeng==4.14.0\r\ndistro-info===0.18ubuntu0.18.04.1\r\nhttplib2==0.9.2\r\nidna==2.6\r\nkeyring==10.6.0\r\nkeyrings.alt==3.0\r\nlanguage-selector==0.1\r\nlaunchpadlib==1.10.6\r\nlazr.restfulclient==0.13.5\r\nlazr.uri==1.0.3\r\nlouis==3.5.0\r\nmacaroonbakery==1.1.3\r\nMako==1.0.7\r\nMarkupSafe==1.0\r\nnetifaces==0.10.4\r\noauth==1.0.1\r\nolefile==0.45.1\r\npexpect==4.2.1\r\nPillow==5.1.0\r\nprotobuf==3.0.0\r\npycairo==1.16.2\r\npycrypto==2.6.1\r\npycryptodome==3.8.2\r\npycups==1.9.73\r\npygobject==3.26.1\r\npymacaroons==0.13.0\r\nPyNaCl==1.1.2\r\npyRFC3339==1.0\r\npython-apt==1.6.4\r\npython-dateutil==2.6.1\r\npython-debian==0.1.32\r\npytz==2018.3\r\npyxattr==0.6.0\r\npyxdg==0.25\r\nPyYAML==3.12\r\nreportlab==3.4.0\r\nrequests==2.18.4\r\nrequests-unixsocket==0.1.5\r\nSecretStorage==2.3.1\r\nsimplejson==3.13.2\r\nsix==1.11.0\r\nsystem-service==0.3\r\nsystemd-python==234\r\nubuntu-drivers-common==0.0.0\r\nufw==0.36\r\nunattended-upgrades==0.1\r\nurllib3==1.22\r\nusb-creator==0.3.3\r\nvirtualenv==15.1.0\r\nvyper==0.1.0b10\r\nwadllib==1.3.2\r\nxkit==0.0.0\r\nyoutube-dl==2018.3.14\r\nzope.interface==4.3.2\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1463", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1463/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1463/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1463/events", "html_url": "https://github.com/vyperlang/vyper/issues/1463", "id": 451212274, "node_id": "MDU6SXNzdWU0NTEyMTIyNzQ=", "number": 1463, "title": "Fails: Using empty `bytes[256]` default function parameter on internal constant and private functions", "user": {"login": "ssteiger", "id": 10925195, "node_id": "MDQ6VXNlcjEwOTI1MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/10925195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssteiger", "html_url": "https://github.com/ssteiger", "followers_url": "https://api.github.com/users/ssteiger/followers", "following_url": "https://api.github.com/users/ssteiger/following{/other_user}", "gists_url": "https://api.github.com/users/ssteiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssteiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssteiger/subscriptions", "organizations_url": "https://api.github.com/users/ssteiger/orgs", "repos_url": "https://api.github.com/users/ssteiger/repos", "events_url": "https://api.github.com/users/ssteiger/events{/privacy}", "received_events_url": "https://api.github.com/users/ssteiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-06-02T16:58:07Z", "updated_at": "2019-06-06T09:16:07Z", "closed_at": "2019-06-06T09:16:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b10\r\n* OS: osx\r\n* Python Version: 3.7.3\r\n\r\n### What's your issue about?\r\n\r\nCalling `mint()` on the following contract throws when making use of the default parameters:\r\n\r\n```python\r\n@private\r\n@constant\r\ndef _checkForERC777TokensInterface_Recipient(\r\n    _to: address,\r\n    _amount: uint256,\r\n    _data: bytes[256]=\"\",\r\n  ):\r\n    assert True\r\n\r\n\r\n@public\r\ndef mint(\r\n    _to: address,\r\n    _amount: uint256,\r\n    _data: bytes[256]=\"\",\r\n  ):\r\n    # NOTE: fails (stack underflow) because of default _data parameter\r\n    self._checkForERC777TokensInterface_Recipient(\r\n      _to,\r\n      _amount,\r\n      _data,\r\n    )\r\n```\r\n\r\n#### Using `web3js`:\r\n\r\nThis throws: `Error: Returned error: VM Exception while processing transaction: stack underflow`\r\n```javascript\r\nawait erc777Token.mint(\r\n      wallet.address,\r\n      100,\r\n    );\r\n```\r\n\r\nThis works:\r\n```javascript\r\n    await erc777Token.mint(\r\n      wallet.address,\r\n      100,\r\n      '0x0000000000000000000000000000000000000001',\r\n    );\r\n```\r\n\r\n### How can this be solved?\r\n\r\nI posted a solution further down (use `data: bytes[256]=\"0x0\"` in `mint()`). \r\nMaybe everything is fine and one should just not use default parameters in internal functions...\r\nIn that case this issue can be closed.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1462", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1462/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1462/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1462/events", "html_url": "https://github.com/vyperlang/vyper/issues/1462", "id": 451187365, "node_id": "MDU6SXNzdWU0NTExODczNjU=", "number": 1462, "title": "Vyper treats strings as having length 32", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-02T12:36:55Z", "updated_at": "2019-06-05T09:52:08Z", "closed_at": "2019-06-05T09:52:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b9\r\n* OS: osx\r\n\r\n### What's your issue about?\r\n\r\nWhen using `concat` Vyper treats all strings as having length 32. Therefore this\r\n```\r\n@public\r\ndef conc(a: string[33], b: string[33]) -> string[64]:\r\n   c: string[64] = concat(a, b)\r\n   return c\r\n  ```\r\nwill compile and even run (returning a string of length 66) and the following\r\n```\r\n@public\r\ndef conc_fail(a: string[5], b: string[4]) -> string[9]:\r\n    c: string[9] = concat(a, b)\r\n    return c\r\n```\r\nleads to a compiler error \"Cannot cast from greater max-length 64 to shorter max-length 9\".\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1435", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1435/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1435/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1435/events", "html_url": "https://github.com/vyperlang/vyper/issues/1435", "id": 443085189, "node_id": "MDU6SXNzdWU0NDMwODUxODk=", "number": 1435, "title": "Can't deploy RLP decoder", "user": {"login": "ackintosh", "id": 1885716, "node_id": "MDQ6VXNlcjE4ODU3MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1885716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ackintosh", "html_url": "https://github.com/ackintosh", "followers_url": "https://api.github.com/users/ackintosh/followers", "following_url": "https://api.github.com/users/ackintosh/following{/other_user}", "gists_url": "https://api.github.com/users/ackintosh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ackintosh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ackintosh/subscriptions", "organizations_url": "https://api.github.com/users/ackintosh/orgs", "repos_url": "https://api.github.com/users/ackintosh/repos", "events_url": "https://api.github.com/users/ackintosh/events{/privacy}", "received_events_url": "https://api.github.com/users/ackintosh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-12T09:45:23Z", "updated_at": "2019-05-25T04:23:22Z", "closed_at": "2019-05-25T04:23:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.3\r\n* Environment (output of `pip freeze`): pycryptodome==3.8.1, vyper==0.1.0b9\r\n\r\n### What's your issue about?\r\n<!--\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\n* what command you ran\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n-->\r\n\r\nI'm trying to deploy RLP decoder  according to [this document](https://github.com/ethereum/vyper/blob/master/docs/built-in-functions.rst#rlplist).  But it failed and show the message \"invalid opcode\". \ud83d\ude22 \r\n\r\n### Truffle version\r\n\r\n```sh\r\n$ truffle version\r\n\r\nTruffle v5.0.17 (core: 5.0.16)\r\nSolidity v0.5.0 (solc-js)\r\nNode v8.11.3\r\nWeb3.js v1.0.0-beta.37\r\n```\r\n\r\n\r\n\r\n### deployRLPdecoder.js\r\n\r\n\r\n```js\r\nconst Tx = require(\"ethereumjs-tx\");\r\n\r\nconst deployRLPdecoder = (account) => {\r\n    const deployTx = \"0xf90237808506fc23ac00830330888080b902246102128061000e60003961022056600060007f010000000000000000000000000000000000000000000000000000000000000060003504600060c082121515585760f882121561004d5760bf820336141558576001905061006e565b600181013560f783036020035260005160f6830301361415585760f6820390505b5b368112156101c2577f010000000000000000000000000000000000000000000000000000000000000081350483602086026040015260018501945060808112156100d55760018461044001526001828561046001376001820191506021840193506101bc565b60b881121561014357608081038461044001526080810360018301856104600137608181141561012e5760807f010000000000000000000000000000000000000000000000000000000000000060018401350412151558575b607f81038201915060608103840193506101bb565b60c08112156101b857600182013560b782036020035260005160388112157f010000000000000000000000000000000000000000000000000000000000000060018501350402155857808561044001528060b6838501038661046001378060b6830301830192506020810185019450506101ba565bfe5b5b5b5061006f565b601f841315155857602060208502016020810391505b6000821215156101fc578082604001510182826104400301526020820391506101d8565b808401610420528381018161044003f350505050505b6000f31b2d4f\";\r\n\r\n    web3.eth.sendTransaction({ from: account, to: \"0xd2c560282c9C02465C2dAcdEF3E859E730848761\", value: 6270960000000000 })\r\n\r\n    web3.eth.getTransactionCount(account).then(txCount => {\r\n        const txData = {\r\n            nonce: web3.utils.toHex(txCount + 1),\r\n            gas: 9999999999999,\r\n            from: account,\r\n            data: deployTx\r\n        }\r\n        const transaction = new Tx(txData);\r\n\r\n        const privateKey = new Buffer('.............', 'hex')\r\n        transaction.sign(privateKey);\r\n\r\n        const serializedTx = transaction.serialize().toString('hex')\r\n        web3.eth.sendSignedTransaction('0x' + serializedTx)\r\n        .on('receipt', (receipt) => {\r\n            console.log('receipt')\r\n            console.log(receipt)\r\n        })\r\n        .on('error', (error) => {\r\n            console.log('error')\r\n            console.log(error)\r\n        })\r\n    });\r\n}\r\n\r\nmodule.exports = async (callback) => {\r\n    const accounts = await web3.eth.getAccounts();\r\n    deployRLPdecoder(accounts[0]);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n### Error message\r\n\r\n\r\n```sh\r\n$ truffle exec helper/deployRLPdecoder.js  --network development\r\n\r\n\r\nUsing network 'development'.\r\n\r\nerror\r\nError: Returned error: VM Exception while processing transaction: invalid opcode\r\n    at Object.ErrorResponse (/Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/web3-eth/~/web3-core-helpers/src/errors.js:29:1)\r\n    at /Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/web3-eth/~/web3-core-requestmanager/src/index.js:140:1\r\n    at /Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:112:1\r\n    at XMLHttpRequest.request.onreadystatechange (/Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/web3/~/web3-providers-http/src/index.js:96:1)\r\n    at XMLHttpRequestEventTarget.dispatchEvent (/Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request-event-target.js:34:1)\r\n    at XMLHttpRequest._setReadyState (/Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:208:1)\r\n    at XMLHttpRequest._onHttpResponseEnd (/Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:318:1)\r\n    at IncomingMessage.<anonymous> (/Users/akihito1/.nodebrew/node/v8.11.3/lib/node_modules/truffle/build/webpack:/~/xhr2-cookies/dist/xml-http-request.js:289:47)\r\n    at emitNone (events.js:111:20)\r\n    at IncomingMessage.emit (events.js:208:7)\r\n    at endReadableNT (_stream_readable.js:1064:12)\r\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\r\n    at process._tickCallback (internal/process/next_tick.js:180:9)\r\n```\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1432", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1432/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1432/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1432/events", "html_url": "https://github.com/vyperlang/vyper/issues/1432", "id": 442786134, "node_id": "MDU6SXNzdWU0NDI3ODYxMzQ=", "number": 1432, "title": "Uncaught exceptions when using maps of tuples", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-10T15:53:31Z", "updated_at": "2020-07-01T15:34:14Z", "closed_at": "2020-07-01T15:34:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.6.6\r\n* Environment (output of `pip freeze`):\r\n```\r\nflake8==3.5.0\r\nmccabe==0.6.1\r\npycodestyle==2.3.1\r\npycryptodome==3.6.6\r\npyflakes==1.6.0\r\n```\r\n\r\n### What's your issue about?\r\nI got some uncaught exceptions when trying to work with maps of tuples:\r\n\r\n```python\r\nfoo: map(uint256, (uint256, uint256))  # Works fine by itself\r\n```\r\n\r\n```python\r\n@public\r\ndef bar1(_t: uint256):\r\n    assert self.foo[_t] == (0, 0)\r\n    # AttributeError: 'TupleType' object has no attribute 'unit'\r\n```\r\n\r\n```python\r\n@public\r\ndef bar2(_t: uint256):\r\n    self.foo[_t] = (1, 1)\r\n    # UnboundLocalError: local variable 'subtype' referenced before assignment\r\n```\r\n\r\n```python\r\n@public\r\n@constant\r\ndef baz(_t: uint256) -> (uint256, uint256):\r\n    return self.foo[_t]\r\n    # UnboundLocalError: local variable 'subtype' referenced before assignment\r\n```\r\n\r\n### How can it be fixed?\r\nCould be related to #1431.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1431", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1431/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1431/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1431/events", "html_url": "https://github.com/vyperlang/vyper/issues/1431", "id": 442782171, "node_id": "MDU6SXNzdWU0NDI3ODIxNzE=", "number": 1431, "title": "Tuples can't be constants", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-10T15:44:17Z", "updated_at": "2020-07-01T15:32:58Z", "closed_at": "2020-07-01T15:32:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.6.6\r\n* Environment (output of `pip freeze`):\r\n```\r\nflake8==3.5.0\r\nmccabe==0.6.1\r\npycodestyle==2.3.1\r\npycryptodome==3.6.6\r\npyflakes==1.6.0\r\n```\r\n\r\n### What's your issue about?\r\nVyper seems to think a tuple constant is a struct\r\n```python\r\nFOO: constant((uint256, uint256)) = (1, 2)\r\n# vyper.exceptions.StructureException: Incorrectly formatted struct\r\n```\r\n\r\nAlso, when I try to do a memory variable, I get an unhandled exception:\r\n```python\r\n@public\r\ndef bar():\r\n    foo: (uint256, uint256) = (1, 2)\r\n# AttributeError: 'Tuple' object has no attribute 'id'\r\n```\r\n\r\nI think these are related potentially.\r\n\r\n### How can it be fixed?\r\nIt seems like the compiler doesn't know how to deal with tuple types as memory/constant declarations.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1430", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1430/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1430/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1430/events", "html_url": "https://github.com/vyperlang/vyper/issues/1430", "id": 442780340, "node_id": "MDU6SXNzdWU0NDI3ODAzNDA=", "number": 1430, "title": "Struct constants do not parse correctly", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-05-10T15:39:56Z", "updated_at": "2022-03-19T01:43:52Z", "closed_at": "2022-03-19T01:43:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.6.6\r\n* Environment (output of `pip freeze`):\r\n```\r\nflake8==3.5.0\r\nmccabe==0.6.1\r\npycodestyle==2.3.1\r\npycryptodome==3.6.6\r\npyflakes==1.6.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\nIt seems like the struct literal processing works differently for constants versus memory variables:\r\n```python\r\nstruct Foo:\r\n    a: uint256\r\n    b: uint256\r\n\r\n# raises vyper.exceptions.TypeMismatchException:\r\n#   Invalid value for constant type, expected struct Foo: {a: uint256, b: uint256}\r\n#                                    got struct Foo: {a: int128, b: int128} instead\r\nCONST_BAR: constant(Foo) = Foo({a: 1, b: 2})\r\n\r\n@public\r\ndef baz():\r\n    bar: Foo = Foo({a: 1, b: 2})  # Works fine!\r\n```\r\n\r\n### How can it be fixed?\r\nNot sure, this seems weird, but these should work in a similar way IMO.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1427", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1427/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1427/events", "html_url": "https://github.com/vyperlang/vyper/issues/1427", "id": 441955825, "node_id": "MDU6SXNzdWU0NDE5NTU4MjU=", "number": 1427, "title": "Confusing error message for loop", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-08T22:18:18Z", "updated_at": "2020-01-07T14:32:30Z", "closed_at": "2020-01-07T14:32:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`):  master (35c0de9e8c89f2c490a97b590eaef3891aa69420)\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.7\r\n* Environment (output of `pip freeze`): \r\n```\r\nentrypoints==0.3\r\nflake8==3.7.6\r\nmccabe==0.6.1\r\npycodestyle==2.5.0\r\npycryptodome==3.7.3\r\npyflakes==2.1.0\r\nvyper==0.1.0b9\r\n```\r\n\r\n### What's your issue about?\r\nThis code produces a confusing error\r\n```python\r\nglob: int128\r\n@public\r\ndef foo() -> int128[5]:\r\n    self.glob += 1\r\n    return [1,2,3,4,5]\r\n@public\r\ndef bar():\r\n    for i in self.foo():\r\n        pass\r\n```\r\n```\r\n/parser/stmt.py\", line 512, in parse_for\r\n    self.stmt.iter.func.id != \"range\",\r\nAttributeError: 'Attribute' object has no attribute 'id'\r\n```\r\n\r\n### How can it be fixed?\r\nImprove the error message to say something like `non-literals cannot be used as loop range`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1418", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1418/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1418/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1418/events", "html_url": "https://github.com/vyperlang/vyper/issues/1418", "id": 440740873, "node_id": "MDU6SXNzdWU0NDA3NDA4NzM=", "number": 1418, "title": "Passing arrays to private and public functions", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-05-06T14:56:06Z", "updated_at": "2019-05-28T13:10:12Z", "closed_at": "2019-05-10T09:20:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "* vyper Version: 0.1.0b9\r\n* Tested with [Remix IDE](https://remix.ethereum.org/)\r\n\r\nI'm trying to understand how arrays work in Vyper. It seems that they always get copied on assignment. However, I found the following:\r\n\r\n```\r\n@public\r\ndef change_arr(arr: int128[5]):\r\n    a: int128[5] = arr\r\n    a[0] = 24\r\n\r\n@public\r\ndef call_arr() -> int128:\r\n    a: int128[5]\r\n    a[0] = 42\r\n    self.change_arr(a)\r\n    return a[0]\r\n```\r\n\r\nAs expected, calling the function `call_arr` returns 42. However, if I make the function `change_arr` private the execution ends in an exception (because of `a[0] = 24`).\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1409", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1409/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1409/events", "html_url": "https://github.com/vyperlang/vyper/issues/1409", "id": 437150086, "node_id": "MDU6SXNzdWU0MzcxNTAwODY=", "number": 1409, "title": "Return tuple with fixed array fails to compile", "user": {"login": "njgheorghita", "id": 9753150, "node_id": "MDQ6VXNlcjk3NTMxNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/9753150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njgheorghita", "html_url": "https://github.com/njgheorghita", "followers_url": "https://api.github.com/users/njgheorghita/followers", "following_url": "https://api.github.com/users/njgheorghita/following{/other_user}", "gists_url": "https://api.github.com/users/njgheorghita/gists{/gist_id}", "starred_url": "https://api.github.com/users/njgheorghita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njgheorghita/subscriptions", "organizations_url": "https://api.github.com/users/njgheorghita/orgs", "repos_url": "https://api.github.com/users/njgheorghita/repos", "events_url": "https://api.github.com/users/njgheorghita/events{/privacy}", "received_events_url": "https://api.github.com/users/njgheorghita/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-04-25T11:32:15Z", "updated_at": "2020-01-25T15:03:21Z", "closed_at": "2020-01-25T15:03:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* Python Version (output of `python --version`): 3.6.0\r\n\r\n\r\n### What's your issue about?\r\nTrying to return a fixed-size byte array and uint together in a tuple fails to compile.\r\n\r\n```python\r\ndef getAllPackageIds(\r\n    offset: uint256, limit: uint256\r\n) -> (bytes32[5], uint256):\r\n```\r\n\r\nResults in following error:\r\n`Can't return type bytes32[5] as part of tuple`\r\n\r\n### How can it be fixed?\r\nNot sure exactly, happy to try it out if someone points me in the right direction. \r\nAccording to @fubuloubu ...\r\n> Return tuples should accept static arrays\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1399", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1399/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1399/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1399/events", "html_url": "https://github.com/vyperlang/vyper/issues/1399", "id": 434709008, "node_id": "MDU6SXNzdWU0MzQ3MDkwMDg=", "number": 1399, "title": "Deployable bytecode attempts to access calldata", "user": {"login": "Pet3ris", "id": 224585, "node_id": "MDQ6VXNlcjIyNDU4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/224585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pet3ris", "html_url": "https://github.com/Pet3ris", "followers_url": "https://api.github.com/users/Pet3ris/followers", "following_url": "https://api.github.com/users/Pet3ris/following{/other_user}", "gists_url": "https://api.github.com/users/Pet3ris/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pet3ris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pet3ris/subscriptions", "organizations_url": "https://api.github.com/users/Pet3ris/orgs", "repos_url": "https://api.github.com/users/Pet3ris/repos", "events_url": "https://api.github.com/users/Pet3ris/events{/privacy}", "received_events_url": "https://api.github.com/users/Pet3ris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554964, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-04-18T10:52:38Z", "updated_at": "2019-05-09T10:17:48Z", "closed_at": "2019-05-09T10:17:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi There,\r\n\r\nI'm trying to understand vyper constructor usage patterns. When compiling the example Vyper [erc20 contract](https://github.com/ethereum/vyper/blob/master/examples/tokens/ERC20.vy), the output (deployed) bytecode looks like this:\r\n\r\n```\r\n0x600035...000f3\r\n```\r\n\r\nThe second opcode `0x35` is `CALLDATALOAD`. Given that in the EVM specification, contract creation calls assume `calldata == []`, how is calldata used in this case?\r\n\r\nIn Solidity, a comparable example would not include `CALLDATALOAD` in the executable part of deployed bytecode, reserving it instead for the runtime bytecode portion.\r\n\r\nLet me know if I'm misunderstanding!", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1398", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1398/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1398/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1398/events", "html_url": "https://github.com/vyperlang/vyper/issues/1398", "id": 434258233, "node_id": "MDU6SXNzdWU0MzQyNTgyMzM=", "number": 1398, "title": "timespan variables cannot be assigned from another variable", "user": {"login": "akinama3", "id": 407843, "node_id": "MDQ6VXNlcjQwNzg0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/407843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akinama3", "html_url": "https://github.com/akinama3", "followers_url": "https://api.github.com/users/akinama3/followers", "following_url": "https://api.github.com/users/akinama3/following{/other_user}", "gists_url": "https://api.github.com/users/akinama3/gists{/gist_id}", "starred_url": "https://api.github.com/users/akinama3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akinama3/subscriptions", "organizations_url": "https://api.github.com/users/akinama3/orgs", "repos_url": "https://api.github.com/users/akinama3/repos", "events_url": "https://api.github.com/users/akinama3/events{/privacy}", "received_events_url": "https://api.github.com/users/akinama3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-17T12:34:49Z", "updated_at": "2020-06-28T10:21:11Z", "closed_at": "2020-06-28T10:21:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* OS: osx\r\n* Python Version (output of `python --version`): Python 3.7.3\r\n* Environment (output of `pip freeze`):\r\natomicwrites==1.3.0\r\nattrs==19.1.0\r\nautopep8==1.4.3\r\ndecorator==4.4.0\r\nentrypoints==0.3\r\nflake8==3.7.7\r\ngraphviz==0.10.1\r\nmccabe==0.6.1\r\nmore-itertools==7.0.0\r\nmypy==0.670\r\nmypy-extensions==0.4.1\r\nnetworkx==2.2\r\npluggy==0.9.0\r\npy==1.8.0\r\npycodestyle==2.5.0\r\npycryptodome==3.8.1\r\npyflakes==2.1.1\r\npytest==4.3.1\r\nPyYAML==5.1\r\nresult==0.3.0\r\nsix==1.12.0\r\ntyped-ast==1.3.1\r\ntyping==3.6.6\r\nvyper==0.1.0b9\r\n\r\n### What's your issue about?\r\n\r\nI tried to compile the following code by truffle with Vyper.\r\n\r\n```\r\n@public\r\ndef process(_argument: timedelta):\r\n    delta: timedelta = _argument\r\n    ...\r\n```\r\n\r\nbut it produced the following error message.\r\n\r\n```\r\nTypeError: '<=' not supported between instances of 'int' and 'str'\r\n```\r\n\r\nIs this behavior expected? ", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1397", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1397/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1397/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1397/events", "html_url": "https://github.com/vyperlang/vyper/issues/1397", "id": 434143006, "node_id": "MDU6SXNzdWU0MzQxNDMwMDY=", "number": 1397, "title": "Impure range expressions", "user": {"login": "robinsierra", "id": 48950322, "node_id": "MDQ6VXNlcjQ4OTUwMzIy", "avatar_url": "https://avatars.githubusercontent.com/u/48950322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinsierra", "html_url": "https://github.com/robinsierra", "followers_url": "https://api.github.com/users/robinsierra/followers", "following_url": "https://api.github.com/users/robinsierra/following{/other_user}", "gists_url": "https://api.github.com/users/robinsierra/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinsierra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinsierra/subscriptions", "organizations_url": "https://api.github.com/users/robinsierra/orgs", "repos_url": "https://api.github.com/users/robinsierra/repos", "events_url": "https://api.github.com/users/robinsierra/events{/privacy}", "received_events_url": "https://api.github.com/users/robinsierra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-17T07:56:18Z", "updated_at": "2019-05-14T08:23:34Z", "closed_at": "2019-05-14T08:23:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b9\r\n* Tested with [Remix IDE](https://remix.ethereum.org/)\r\n\r\nCurrently Vyper allows range expressions of the form `range(x, x + n)` where `n` is a constant. A weird case happens when `x` is impure:\r\n\r\n```\r\nglob: int128\r\n\r\n@public\r\ndef foo() -> int128:\r\n\tself.glob += 1\r\n\treturn 5\r\n\r\n\r\n@public\r\ndef bar():\r\n\tfor i in range(self.foo(), self.foo() + 1):\r\n\t\tpass\r\n```\r\n\r\nEven though the range expression contains two calls to `self.foo()` it is only executed once, which feels very unintuitive at best. In general, it would be nice to have some documentation for loops/range expressions (especially if this is the intended behavior).\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1397/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1394", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1394/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1394/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1394/events", "html_url": "https://github.com/vyperlang/vyper/issues/1394", "id": 432806788, "node_id": "MDU6SXNzdWU0MzI4MDY3ODg=", "number": 1394, "title": "Import Error Handling", "user": {"login": "CruzMolina", "id": 7537712, "node_id": "MDQ6VXNlcjc1Mzc3MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/7537712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CruzMolina", "html_url": "https://github.com/CruzMolina", "followers_url": "https://api.github.com/users/CruzMolina/followers", "following_url": "https://api.github.com/users/CruzMolina/following{/other_user}", "gists_url": "https://api.github.com/users/CruzMolina/gists{/gist_id}", "starred_url": "https://api.github.com/users/CruzMolina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CruzMolina/subscriptions", "organizations_url": "https://api.github.com/users/CruzMolina/orgs", "repos_url": "https://api.github.com/users/CruzMolina/repos", "events_url": "https://api.github.com/users/CruzMolina/events{/privacy}", "received_events_url": "https://api.github.com/users/CruzMolina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-13T04:37:14Z", "updated_at": "2019-05-10T13:22:31Z", "closed_at": "2019-05-10T13:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\nCurrently vyper does not provide meaningful errors when incorrectly attempting imports.\r\n\r\nWhen attempting to compile an incorrect relative import, such as:\r\n```\r\n# myContract.vy\r\n\r\n# foobar.vy does not exist or is named foo_bar.vy\r\nimport foobar as FooBar\r\n\r\nstored_data: uint256\r\n\r\n@public\r\ndef set(new_value : uint256):\r\n    self.stored_data = new_value\r\n\r\n@public\r\n@constant\r\ndef get() -> uint256:\r\n    return self.stored_data\r\n```\r\n\r\nCalling `vyper myContract.vy` returns:\r\n```\r\nIndexError: tuple index out of range\r\n```\r\n\r\n### How can it be fixed?\r\nWhen comparing the behavior of vyper to solc, given a contract such as:\r\n```\r\n// myContract.sol\r\npragma solidity >=0.4.0 <0.7.0;\r\n\r\n// foobar.sol doesn't exist or was renamed to foo_bar.sol\r\nimport \"./foobar.sol\";\r\n\r\ncontract SimpleStorage {\r\n    uint storedData;\r\n\r\n    function set(uint x) public {\r\n        storedData = x;\r\n    }\r\n\r\n    function get() public view returns (uint) {\r\n        return storedData;\r\n    }\r\n}\r\n```\r\n\r\nCalling `solc myContract.sol` returns:\r\n```\r\nmyContract.sol:5:1: Error: Source \"foobar.sol\" not found: File outside of allowed directories.\r\nimport \"./foobar.sol\";\r\n^--------------------^\r\n```\r\n\r\nConversely, calling `solc myContract.sol --allow-paths .` returns:\r\n```\r\nmyContract.sol:5:1: Error: Source \"foobar.sol\" not found: File not found.\r\nimport \"./foobar.sol\";\r\n^--------------------^\r\n```\r\n\r\nI imagine something in a similar vein would be a useful feature for vyper to have.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1383", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1383/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1383/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1383/events", "html_url": "https://github.com/vyperlang/vyper/issues/1383", "id": 429840484, "node_id": "MDU6SXNzdWU0Mjk4NDA0ODQ=", "number": 1383, "title": "When a function called from within another function should return `uint256` but it returns nothing, the caller is terminated without raise", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-05T16:33:20Z", "updated_at": "2019-05-22T10:23:28Z", "closed_at": "2019-04-12T12:25:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): <= 0.1.0-beta9\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.7\r\n* Environment (output of `pip freeze`): \r\n```\r\nasn1crypto==0.24.0\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.1.0\r\nbackcall==0.1.0\r\ncertifi==2019.3.9\r\ncffi==1.12.2\r\nchardet==3.0.4\r\ncryptography==2.6.1\r\ncytoolz==0.9.0.1\r\ndecorator==4.4.0\r\neth-abi==2.0.0b8\r\neth-account==0.3.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.1\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b37\r\neth-typing==2.0.0\r\neth-utils==1.4.1\r\nethpm==0.1.4a13\r\nhexbytes==0.1.0\r\nidna==2.8\r\nipfsapi==0.4.3\r\nipython==7.4.0\r\nipython-genutils==0.2.0\r\njedi==0.13.3\r\njsonschema==2.6.0\r\nlru-dict==1.1.6\r\nmore-itertools==7.0.0\r\nmypy-extensions==0.4.1\r\nparsimonious==0.8.1\r\nparso==0.3.4\r\npexpect==4.6.0\r\npickleshare==0.7.5\r\npluggy==0.9.0\r\nprompt-toolkit==2.0.9\r\nprotobuf==3.7.1\r\nptyprocess==0.6.0\r\npy==1.8.0\r\npy-ecc==1.4.7\r\npy-evm==0.2.0a39\r\npy-geth==2.1.0\r\npycparser==2.19\r\npycryptodome==3.8.0\r\npyethash==0.1.27\r\nPygments==2.3.1\r\npytest==4.4.0\r\npytest-ethereum==0.1.3a6\r\nrequests==2.21.0\r\nrlp==1.1.0\r\nsemantic-version==2.6.0\r\nsix==1.12.0\r\ntoolz==0.9.0\r\ntraitlets==4.3.2\r\ntrie==1.3.8\r\nurllib3==1.24.1\r\nvyper==0.1.0b9\r\nwcwidth==0.1.7\r\nweb3==5.0.0a5\r\nwebsockets==7.0\r\n```\r\n\r\n\r\n### What's your issue about?\r\n\r\nTake the example contract:\r\n```\r\n@private\r\ndef x(z: uint256) -> uint256:\r\n    if z > 0:\r\n        return z\r\n    else:\r\n        pass\r\n\r\n@public\r\ndef y():\r\n    self.x(0)\r\n    assert False\r\n```\r\nCalling `y()` succeeds without failing.\r\n\r\nWhat I'd expect is either a fail at compile time (because x() can return improper type), or a runtime failure when calling `self.x(0)`. And I certainly wouldn't expect `y()` to silently terminate when `self.x` call failed: it should raise", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1383/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1377", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1377/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1377/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1377/events", "html_url": "https://github.com/vyperlang/vyper/issues/1377", "id": 427776779, "node_id": "MDU6SXNzdWU0Mjc3NzY3Nzk=", "number": 1377, "title": "Vyper doesn't read bool returned by Solidity's modifying contracts after state is modified", "user": {"login": "michwill", "id": 740600, "node_id": "MDQ6VXNlcjc0MDYwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/740600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michwill", "html_url": "https://github.com/michwill", "followers_url": "https://api.github.com/users/michwill/followers", "following_url": "https://api.github.com/users/michwill/following{/other_user}", "gists_url": "https://api.github.com/users/michwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/michwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michwill/subscriptions", "organizations_url": "https://api.github.com/users/michwill/orgs", "repos_url": "https://api.github.com/users/michwill/repos", "events_url": "https://api.github.com/users/michwill/events{/privacy}", "received_events_url": "https://api.github.com/users/michwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-01T15:38:46Z", "updated_at": "2019-07-02T04:03:58Z", "closed_at": "2019-07-02T04:03:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b9\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6.7\r\n* Environment (output of `pip freeze`): \r\n```\r\nasn1crypto==0.24.0\r\natomicwrites==1.3.0\r\nattrdict==2.0.1\r\nattrs==19.1.0\r\nbackcall==0.1.0\r\ncertifi==2019.3.9\r\ncffi==1.12.2\r\nchardet==3.0.4\r\ncryptography==2.6.1\r\ncytoolz==0.9.0.1\r\ndecorator==4.4.0\r\neth-abi==2.0.0b8\r\neth-account==0.3.0\r\neth-bloom==1.0.3\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.1\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b37\r\neth-typing==2.0.0\r\neth-utils==1.4.1\r\nethpm==0.1.4a13\r\nhexbytes==0.1.0\r\nidna==2.8\r\nipfsapi==0.4.3\r\nipython==7.4.0\r\nipython-genutils==0.2.0\r\njedi==0.13.3\r\njsonschema==2.6.0\r\nlru-dict==1.1.6\r\nmore-itertools==7.0.0\r\nmypy-extensions==0.4.1\r\nparsimonious==0.8.1\r\nparso==0.3.4\r\npexpect==4.6.0\r\npickleshare==0.7.5\r\npluggy==0.9.0\r\nprompt-toolkit==2.0.9\r\nprotobuf==3.7.1\r\nptyprocess==0.6.0\r\npy==1.8.0\r\npy-ecc==1.4.7\r\npy-evm==0.2.0a39\r\npy-geth==2.1.0\r\npycparser==2.19\r\npycryptodome==3.8.0\r\npyethash==0.1.27\r\nPygments==2.3.1\r\npytest==4.4.0\r\npytest-ethereum==0.1.3a6\r\nrequests==2.21.0\r\nrlp==1.1.0\r\nsemantic-version==2.6.0\r\nsix==1.12.0\r\ntoolz==0.9.0\r\ntraitlets==4.3.2\r\ntrie==1.3.8\r\nurllib3==1.24.1\r\nvyper==0.1.0b9\r\nwcwidth==0.1.7\r\nweb3==5.0.0a5\r\nwebsockets==7.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\nWhen a Vyper contract casts an address to an interface, and a modifying method is called, such as `InterfaceName(address).method()`, if the method returns `bool`, Vyper doesn't see that bool properly when the external contract deployed at `address` is written in Solidity.\r\n\r\nThe self-contained minimal test case (which should pass when fixed) is here: https://github.com/michwill/vyper-solidity-bug", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1376", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1376/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1376/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1376/events", "html_url": "https://github.com/vyperlang/vyper/issues/1376", "id": 427775909, "node_id": "MDU6SXNzdWU0Mjc3NzU5MDk=", "number": 1376, "title": "Cannot return ERC20 token address from contract", "user": {"login": "Pet3ris", "id": 224585, "node_id": "MDQ6VXNlcjIyNDU4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/224585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pet3ris", "html_url": "https://github.com/Pet3ris", "followers_url": "https://api.github.com/users/Pet3ris/followers", "following_url": "https://api.github.com/users/Pet3ris/following{/other_user}", "gists_url": "https://api.github.com/users/Pet3ris/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pet3ris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pet3ris/subscriptions", "organizations_url": "https://api.github.com/users/Pet3ris/orgs", "repos_url": "https://api.github.com/users/Pet3ris/repos", "events_url": "https://api.github.com/users/Pet3ris/events{/privacy}", "received_events_url": "https://api.github.com/users/Pet3ris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-01T15:37:07Z", "updated_at": "2019-04-04T10:13:07Z", "closed_at": "2019-04-04T10:13:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi There,\r\n\r\nI'm trying to compile the following contract running `master`:\r\n\r\n**Input contract**\r\n\r\n```python\r\nfrom vyper.interfaces import ERC20\r\n\r\ntoken: ERC20\r\n\r\n@public\r\n@constant\r\ndef tokenAddress() -> address:\r\n    return self.token\r\n```\r\n\r\n**Output**\r\n\r\n```\r\nvyper.exceptions.TypeMismatchException: line 8: Trying to return base type address(ERC20), output expecting address\r\n    return self.token\r\n-----------^\r\n```\r\n\r\nI can fix it temporarily by changing the `address` to an `address(ERC20)`, this compiles to runtime bytecode, but doesn't compile when extracting the ABI:\r\n\r\n**Input contract 2 `(-f abi)`**\r\n\r\n```python\r\nfrom vyper.interfaces import ERC20\r\n\r\ntoken: ERC20\r\n\r\n@public\r\n@constant\r\ndef tokenAddress() -> address(ERC20):\r\n    return self.token\r\n```\r\n\r\n**Output**\r\n\r\n```\r\nvyper.exceptions.InvalidTypeException: line 7: Invalid base unit\r\ndef tokenAddress() -> address(ERC20):\r\n------------------------------^\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1372", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1372/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1372/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1372/events", "html_url": "https://github.com/vyperlang/vyper/issues/1372", "id": 426765540, "node_id": "MDU6SXNzdWU0MjY3NjU1NDA=", "number": 1372, "title": "ERC20 and address assignment error", "user": {"login": "hustnn", "id": 73186, "node_id": "MDQ6VXNlcjczMTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hustnn", "html_url": "https://github.com/hustnn", "followers_url": "https://api.github.com/users/hustnn/followers", "following_url": "https://api.github.com/users/hustnn/following{/other_user}", "gists_url": "https://api.github.com/users/hustnn/gists{/gist_id}", "starred_url": "https://api.github.com/users/hustnn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hustnn/subscriptions", "organizations_url": "https://api.github.com/users/hustnn/orgs", "repos_url": "https://api.github.com/users/hustnn/repos", "events_url": "https://api.github.com/users/hustnn/events{/privacy}", "received_events_url": "https://api.github.com/users/hustnn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-03-29T00:43:17Z", "updated_at": "2019-04-01T15:25:33Z", "closed_at": "2019-03-30T13:41:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can I know the relationship between ERC20 and address type? I am confused about it.\r\n\r\nI have a storage:\r\ntoken: ERC20\r\n\r\ninitilize with an address:\r\n@public\r\ndef setup(token_addr: address):\r\nassert (self.token == ZERO_ADDRESS) and token_addr != ZERO_ADDRESS\r\nself.token = ERC20(token_addr)\r\n\r\ncontract Factory:\r\ndef getExchange(token_addr: address) -> address: constant\r\n\r\nassert self.factory.getExchange(self.token) == self\r\n\r\nWe I can getExchange and got this error: vyper.exceptions.TypeMismatchException: Typecasting from base type address(ERC20) to address unavailable", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1364", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1364/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1364/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1364/events", "html_url": "https://github.com/vyperlang/vyper/issues/1364", "id": 424300950, "node_id": "MDU6SXNzdWU0MjQzMDA5NTA=", "number": 1364, "title": "msg missing from reserved_words", "user": {"login": "mikeshultz", "id": 1048089, "node_id": "MDQ6VXNlcjEwNDgwODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1048089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeshultz", "html_url": "https://github.com/mikeshultz", "followers_url": "https://api.github.com/users/mikeshultz/followers", "following_url": "https://api.github.com/users/mikeshultz/following{/other_user}", "gists_url": "https://api.github.com/users/mikeshultz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeshultz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeshultz/subscriptions", "organizations_url": "https://api.github.com/users/mikeshultz/orgs", "repos_url": "https://api.github.com/users/mikeshultz/repos", "events_url": "https://api.github.com/users/mikeshultz/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeshultz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-22T16:41:37Z", "updated_at": "2019-03-23T19:05:36Z", "closed_at": "2019-03-23T19:05:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): master\r\n* OS: n/a\r\n* Python Version (output of `python --version`): n/a\r\n* Environment (output of `pip freeze`): n/a\r\n\r\n### What's your issue about?\r\n\r\n`msg` appears to be missing from `vyper.utils.reserved_words`\r\n\r\n### How can it be fixed?\r\n\r\nAdd `msg` to `vyper.utils.reserved_words`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1359", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1359/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1359/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1359/events", "html_url": "https://github.com/vyperlang/vyper/issues/1359", "id": 422334514, "node_id": "MDU6SXNzdWU0MjIzMzQ1MTQ=", "number": 1359, "title": "Pass *args and **kwargs in function declaration", "user": {"login": "NikitaMishin", "id": 22191229, "node_id": "MDQ6VXNlcjIyMTkxMjI5", "avatar_url": "https://avatars.githubusercontent.com/u/22191229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NikitaMishin", "html_url": "https://github.com/NikitaMishin", "followers_url": "https://api.github.com/users/NikitaMishin/followers", "following_url": "https://api.github.com/users/NikitaMishin/following{/other_user}", "gists_url": "https://api.github.com/users/NikitaMishin/gists{/gist_id}", "starred_url": "https://api.github.com/users/NikitaMishin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NikitaMishin/subscriptions", "organizations_url": "https://api.github.com/users/NikitaMishin/orgs", "repos_url": "https://api.github.com/users/NikitaMishin/repos", "events_url": "https://api.github.com/users/NikitaMishin/events{/privacy}", "received_events_url": "https://api.github.com/users/NikitaMishin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-18T17:07:38Z", "updated_at": "2020-01-06T17:00:24Z", "closed_at": "2020-01-06T17:00:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): v0.1.0-beta.9\r\n* OS: linux\r\n* Python Version (output of `python --version`): Python 3.6.7\r\n* Environment (output of `pip freeze`): pycryptodome==3.7.3\r\n                                                            vyper==0.1.0b9\r\n\r\n\r\n### What's your issue about?\r\n\r\nIs  this  a bug? \r\nI can compile contract with *args and **kwargs:\r\n@public\r\ndef test1(a:uint256, *args,**kwargs) ->bool:\r\n     return True\r\n\r\nAnd if i try to get args, for example, i''ll get following error \"Undeclared variable: args\"\r\n### How can it be fixed?\r\nCheck for * and ** in fun declaration\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1306", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1306/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1306/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1306/events", "html_url": "https://github.com/vyperlang/vyper/issues/1306", "id": 415678373, "node_id": "MDU6SXNzdWU0MTU2NzgzNzM=", "number": 1306, "title": "Unused optimisation.", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-28T15:24:17Z", "updated_at": "2019-11-07T18:55:42Z", "closed_at": "2019-11-07T18:55:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\nmaster\r\n\r\n### What's your issue about?\r\nInvestigate listed TODO: https://github.com/ethereum/vyper/blame/master/vyper/optimizer.py#L99\r\n```python\r\n    # Turns out this is actually not such a good optimization after all\r\n    elif node.value == \"with\" and int_at(argz, 1) and not search_for_set(argz[2], argz[0].value) and False:\r\n        o = replace_with_value(argz[2], argz[0].value, argz[1].value)\r\n        return o\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nI have not fully investigated, but I suspect we can just drop the optimisation.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1303", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1303/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1303/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1303/events", "html_url": "https://github.com/vyperlang/vyper/issues/1303", "id": 415377284, "node_id": "MDU6SXNzdWU0MTUzNzcyODQ=", "number": 1303, "title": "Interface implementation enforcing units?", "user": {"login": "robrobbins", "id": 60326, "node_id": "MDQ6VXNlcjYwMzI2", "avatar_url": "https://avatars.githubusercontent.com/u/60326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robrobbins", "html_url": "https://github.com/robrobbins", "followers_url": "https://api.github.com/users/robrobbins/followers", "following_url": "https://api.github.com/users/robrobbins/following{/other_user}", "gists_url": "https://api.github.com/users/robrobbins/gists{/gist_id}", "starred_url": "https://api.github.com/users/robrobbins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robrobbins/subscriptions", "organizations_url": "https://api.github.com/users/robrobbins/orgs", "repos_url": "https://api.github.com/users/robrobbins/repos", "events_url": "https://api.github.com/users/robrobbins/events{/privacy}", "received_events_url": "https://api.github.com/users/robrobbins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-27T23:37:03Z", "updated_at": "2019-03-07T14:29:03Z", "closed_at": "2019-03-07T14:29:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.1.0b8\r\n* OS: linux\r\n* Python Version (output of `python --version`): 3.6\r\n* Environment (output of `pip freeze`):\r\npkg-resources==0.0.0\r\npycryptodome==3.7.3\r\nvyper==0.1.0b8\r\n\r\n\r\n### What's your issue about?\r\nCompiler erroneously enforcing units on interface method returns\r\n\r\n* full output of the error you received:\r\nvyper.exceptions.StructureException: Contract does not comply to supplied Interface(s).\r\nMissing interface functions:\r\n... ( any method that does not match the return unit. Returning wei_value vs uint256 for example )\r\n* what command you ran: vyper\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n\r\n    @public\r\n    @constant\r\n    def balanceOf(owner: address) -> wei_value:\r\n        return self.balances[owner]\r\n\r\n\r\n### How can it be fixed?\r\nWave a magic wand whilst yelling *Non Expecto Metrum!*\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1278", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1278/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1278/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1278/events", "html_url": "https://github.com/vyperlang/vyper/issues/1278", "id": 415086363, "node_id": "MDU6SXNzdWU0MTUwODYzNjM=", "number": 1278, "title": "Fix testing a contract docs", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 684449300, "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings", "name": "Easy Pickings", "color": "0e8a16", "default": false, "description": "Used to denote issues that should be easy to implement"}, {"id": 895812894, "node_id": "MDU6TGFiZWw4OTU4MTI4OTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/documentation", "name": "documentation", "color": "fcbdea", "default": true, "description": "Documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-27T11:52:09Z", "updated_at": "2019-07-31T09:02:40Z", "closed_at": "2019-07-31T09:02:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A bunch of outdated statements in the testing docs page, https://vyper.readthedocs.io/en/latest/testing-deploying-contracts.html#\r\n\r\n^.^", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1246", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1246/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1246/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1246/events", "html_url": "https://github.com/vyperlang/vyper/issues/1246", "id": 409048878, "node_id": "MDU6SXNzdWU0MDkwNDg4Nzg=", "number": 1246, "title": "Unknown Interface Exception", "user": {"login": "nickemmons", "id": 5005545, "node_id": "MDQ6VXNlcjUwMDU1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5005545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickemmons", "html_url": "https://github.com/nickemmons", "followers_url": "https://api.github.com/users/nickemmons/followers", "following_url": "https://api.github.com/users/nickemmons/following{/other_user}", "gists_url": "https://api.github.com/users/nickemmons/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickemmons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickemmons/subscriptions", "organizations_url": "https://api.github.com/users/nickemmons/orgs", "repos_url": "https://api.github.com/users/nickemmons/repos", "events_url": "https://api.github.com/users/nickemmons/events{/privacy}", "received_events_url": "https://api.github.com/users/nickemmons/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-12T00:33:19Z", "updated_at": "2019-02-12T15:16:09Z", "closed_at": "2019-02-12T15:16:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b8\r\n* OS: osx\r\n* Python Version: 3.7.1\r\n\r\n### What's your issue about?\r\n\r\nUnknown interface exception when compiling to `abi`\r\n\r\nInput:\r\n```\r\nvyper -f abi contracts/ballot.vy\r\n```\r\n\r\nOutput:\r\n```\r\nError compiling:  contracts/ballot.vy\r\nvyper.exceptions.StructureException: line 3: Unknown interface BallotInterface\r\nimport interfaces.ballot_interface as BallotInterface\r\n```\r\n\r\nThis is happeneing when trying to use a custom interface in a Vyper contract.  \r\n\r\nHere is how it is imported:\r\n\r\n```\r\nimport interfaces.ballot_interface as BallotInterface \r\nimplements: BallotInterface\r\n```\r\n\r\nHere is the file structure\r\n```\r\ntest_project/\r\n    contracts/\r\n        ballot.vy\r\n    interfaces/\r\n        ballot_interface.vy\r\n```\r\n\r\n### How can it be fixed?\r\n\r\n[#1245](https://github.com/ethereum/vyper/pull/1245)\r\n\r\n#### Cute Animal Picture\r\n\r\n![Dog in a cup](https://images.pexels.com/photos/39317/chihuahua-dog-puppy-cute-39317.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1244", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1244/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1244/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1244/events", "html_url": "https://github.com/vyperlang/vyper/issues/1244", "id": 408831765, "node_id": "MDU6SXNzdWU0MDg4MzE3NjU=", "number": 1244, "title": "Remove __init__ name from abi json.", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-11T15:20:37Z", "updated_at": "2019-05-06T21:21:36Z", "closed_at": "2019-02-13T13:09:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n### What's your issue about?\r\nRemove non-standard 'name' attribute from the constructor function.\r\nRemove non-standard 'name' attribute from the default function.\r\n\r\ne.g.\r\n`{\"name\": \"__init__\", \"outputs\": [], \"inputs\": [], \"constant\": false, \"payable\": false, \"type\": \"constructor\"}`\r\n\r\n### How can it be fixed?\r\n\r\nFor `__default__`:\r\n\r\n* Investigate ABIv2 expectations for the \"fallback\" function feature\r\n* Remove field \"name\" from ABI output (in Vyper, as in Python, `__[underscored_names]__` should _never_ be used externally)\r\n* Change the \"type\" field to \"fallback\"\r\n* It appears that the fallback cannot have the fields \"inputs\" or \"outputs\" as it does not decode data explicitly (leaving it to internal use of #1181 to decode passed data)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1221", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1221/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1221/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1221/events", "html_url": "https://github.com/vyperlang/vyper/issues/1221", "id": 404482292, "node_id": "MDU6SXNzdWU0MDQ0ODIyOTI=", "number": 1221, "title": "Vyper structs in ABI outputs incorrect ABI type", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-29T20:55:16Z", "updated_at": "2019-05-30T18:58:40Z", "closed_at": "2019-05-30T18:58:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\nGiven example code:\r\n```vyper\r\nstruct MyStruct:\r\n    a: address\r\n    b: uint256\r\n\r\n@public\r\n@constant\r\ndef foo(s: MyStruct) -> MyStruct:\r\n    return s\r\n```\r\nThe current ABI output is:\r\n```python\r\n{'abi': [{'name': 'foo',\r\n 'outputs': [{'type': 'address', 'name': 'out'},\r\n             {'type': 'uint256', 'name': 'out'}],\r\n 'inputs': [{'type': '(address,uint256)', 'name': 's'}],\r\n 'constant': True,\r\n 'payable': False,\r\n 'type': 'function'}]}\r\n```\r\n\r\n### How can it be fixed?\r\nReferencing the current location of ABI documentation:\r\nhttps://solidity.readthedocs.io/en/latest/abi-spec.html#handling-tuple-types\r\n\r\nThe expected output should be:\r\n```python\r\n{'abi': [{'name': 'foo',\r\n 'outputs': [{'type': 'tuple', 'components': [\r\n               {'type': 'address', 'name': 'a'},\r\n               {'type': 'uint256', 'name': 'b'}]\r\n             }],\r\n 'inputs': [{'type': 'tuple', 'name': 's', 'components': [\r\n               {'type': 'address', 'name': 'a'},\r\n               {'type': 'uint256', 'name': 'b'}]\r\n             }],\r\n 'constant': True,\r\n 'payable': False,\r\n 'type': 'function'}]}\r\n```\r\n\r\nWe should update the way structs are produced in the ABI in order to be compliant with the ABI v2 updates.\r\n\r\nAlso, may be related to:  #932\r\n\r\n#### Cute Animal Picture\r\n![happy frog](https://c1.staticflickr.com/9/8356/8311824240_0ebced23b6_b.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1206", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1206/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1206/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1206/events", "html_url": "https://github.com/vyperlang/vyper/issues/1206", "id": 401303380, "node_id": "MDU6SXNzdWU0MDEzMDMzODA=", "number": 1206, "title": "Logs are Malformed if Functions are Called in It", "user": {"login": "nisdas", "id": 33201827, "node_id": "MDQ6VXNlcjMzMjAxODI3", "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nisdas", "html_url": "https://github.com/nisdas", "followers_url": "https://api.github.com/users/nisdas/followers", "following_url": "https://api.github.com/users/nisdas/following{/other_user}", "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}", "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions", "organizations_url": "https://api.github.com/users/nisdas/orgs", "repos_url": "https://api.github.com/users/nisdas/repos", "events_url": "https://api.github.com/users/nisdas/events{/privacy}", "received_events_url": "https://api.github.com/users/nisdas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-01-21T11:10:29Z", "updated_at": "2019-01-28T09:30:55Z", "closed_at": "2019-01-28T09:30:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: `0.1.0b7`\r\n* OS: `Ubuntu 18.04`\r\n* Python Version (python --version): `3.6.7`\r\n* Environment (output of `pip freeze`): \r\n```\r\npkg-resources==0.0.0\r\npycryptodome==3.7.2\r\nvyper==0.1.0b7\r\n```\r\n\r\n\r\n### What's your issue about?\r\n\r\nCalling a function when emitting a log leads to a malformed log. However, a normal \r\nlog is emitted when an object is placed in the log instead of a function.\r\n\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\nThis test is in `go` however this error is relevant as when unpacking and decoding logs emitted, I do get the below error.\r\n\r\n```\r\n--- FAIL: TestProcessChainStartLog (1.63s)\r\n    log.go:31: log: Unable to unpack ChainStart log data unable to unpack logs: abi: cannot marshal in to go slice: offset 3321006415 would go over slice boundary (len=128)\r\n```\r\n\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n\r\nThe below code causes an error:\r\n\r\n```py \r\n\r\nTestLog: event({testData: bytes[8] })\r\n\r\n@private\r\n@constant\r\ndef to_bytes(value: uint256) -> bytes[8]:\r\n    return slice(concat(\"\", convert(value, bytes32)), start=24, len=8)\r\n\r\n@public\r\ndef test_func(value: uint256):\r\n\r\n  # log will be malformed\r\n   TestLog(self.to_bytes(value))\r\n   \r\n   loggedValue: bytes[8] = self.to_bytes(value)\r\n   \r\n   # log will be normal\r\n   TestLog(loggedValue)\r\n\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n![image](https://user-images.githubusercontent.com/33201827/51470844-ffd2d400-1daf-11e9-854c-08b60a85d164.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1206/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1201", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1201/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1201/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1201/events", "html_url": "https://github.com/vyperlang/vyper/issues/1201", "id": 400208142, "node_id": "MDU6SXNzdWU0MDAyMDgxNDI=", "number": 1201, "title": "Constant in as wei_value", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-17T10:28:42Z", "updated_at": "2019-01-18T09:58:09Z", "closed_at": "2019-01-18T09:58:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\nb6 & master\r\n### What's your issue about?\r\nUsing constant in as_wei_value breaks.\r\n```\r\nMIN_DEPOSIT: constant(uint256) = 1  # ETH\r\nMAX_DEPOSIT: constant(uint256) = 32  # ETH\r\n\r\n@public\r\ndef deposit(deposit_input: bytes[2048]):\r\n    assert msg.value >= as_wei_value(MIN_DEPOSIT, \"ether\")\r\n    assert msg.value <= as_wei_value(MAX_DEPOSIT, \"ether\")\r\n```\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n\r\n> put a cute animal picture here.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1200", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1200/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1200/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1200/events", "html_url": "https://github.com/vyperlang/vyper/issues/1200", "id": 399642539, "node_id": "MDU6SXNzdWUzOTk2NDI1Mzk=", "number": 1200, "title": "Arrays within Structs", "user": {"login": "derekzx", "id": 17759758, "node_id": "MDQ6VXNlcjE3NzU5NzU4", "avatar_url": "https://avatars.githubusercontent.com/u/17759758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekzx", "html_url": "https://github.com/derekzx", "followers_url": "https://api.github.com/users/derekzx/followers", "following_url": "https://api.github.com/users/derekzx/following{/other_user}", "gists_url": "https://api.github.com/users/derekzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekzx/subscriptions", "organizations_url": "https://api.github.com/users/derekzx/orgs", "repos_url": "https://api.github.com/users/derekzx/repos", "events_url": "https://api.github.com/users/derekzx/events{/privacy}", "received_events_url": "https://api.github.com/users/derekzx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-16T04:26:27Z", "updated_at": "2020-01-24T18:37:26Z", "closed_at": "2020-01-24T18:37:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: Ubuntu 18.04\r\n* Python Version (python --version): 3.6.7\r\n\r\n### What's your issue about?\r\nReturning an array within a struct throws error.\r\n\r\nI know that structs are currently in Alpha phase but this bug may be helpful when designing tests!\r\n\r\nInput\r\n```\r\nCompilation: vyper test.py\r\n```\r\n\r\nOutput:\r\n```\r\nError compiling:  test.py\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/vyper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('vyper==0.1.0b6', 'vyper')\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 658, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 1445, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 85, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 108, in compile_codes\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 51, in exc_handler\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 105, in compile_codes\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 87, in <lambda>\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 8, in __compile\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 259, in parse_tree_to_lll\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 207, in parse_other_functions\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 571, in parse_func\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 571, in <listcomp>\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 588, in parse_body\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 603, in parse_stmt\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/stmt.py\", line 80, in __init__\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/stmt.py\", line 626, in parse_return\r\n  File \"/usr/local/lib/python3.6/dist-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser_utils.py\", line 668, in gen_tuple_return\r\nvyper.exceptions.TypeMismatchException: line 69: Can't return type int128[2] as part of tuple\r\n    return G2Point({\r\n----^\r\n```\r\nFull Code:\r\n```\r\nstruct G2Point:\r\n    X : int128[2]\r\n    Y : int128[2]\r\n\r\n@public\r\ndef test() -> G2Point:\r\n    return G2Point({\r\n        X : [1,2],\r\n        Y : [2,3]\r\n    })\r\n\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/17759758/51226260-9e62cd80-1989-11e9-8f8a-88b793406b25.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1200/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1196", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1196/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1196/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1196/events", "html_url": "https://github.com/vyperlang/vyper/issues/1196", "id": 399483199, "node_id": "MDU6SXNzdWUzOTk0ODMxOTk=", "number": 1196, "title": "Unexpected Crash in stmt.py (line 508)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:46:40Z", "updated_at": "2019-01-17T11:57:10Z", "closed_at": "2019-01-17T11:57:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: \r\n[36.txt](https://github.com/ethereum/vyper/files/2761004/36.txt)\r\n\r\n\r\n 2. Command to run: `vyper 36.txt`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1195", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1195/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1195/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1195/events", "html_url": "https://github.com/vyperlang/vyper/issues/1195", "id": 399481961, "node_id": "MDU6SXNzdWUzOTk0ODE5NjE=", "number": 1195, "title": "Unexpected Crash in expr.py (line 439)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:43:44Z", "updated_at": "2019-01-17T12:03:20Z", "closed_at": "2019-01-17T12:03:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue:  [35.txt](https://github.com/ethereum/vyper/files/2761000/35.txt)\r\n\r\n 2. Command to run: `vyper 35.txt`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1194", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1194/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1194/events", "html_url": "https://github.com/vyperlang/vyper/issues/1194", "id": 399480799, "node_id": "MDU6SXNzdWUzOTk0ODA3OTk=", "number": 1194, "title": "Unexpected Crash in types.py (line 401)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-15T18:40:56Z", "updated_at": "2019-01-18T10:55:49Z", "closed_at": "2019-01-18T10:55:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue:\r\n[30.txt](https://github.com/ethereum/vyper/files/2760996/30.txt)\r\n\r\n\r\n 2. Command to run: `vyper 30.txt`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1193", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1193/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1193/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1193/events", "html_url": "https://github.com/vyperlang/vyper/issues/1193", "id": 399479468, "node_id": "MDU6SXNzdWUzOTk0Nzk0Njg=", "number": 1193, "title": "Unexpected Crash in expr.py (line 782)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:37:32Z", "updated_at": "2019-01-18T10:55:49Z", "closed_at": "2019-01-18T10:55:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue:  [28.txt](https://github.com/ethereum/vyper/files/2760988/28.txt)\r\n 2. Command to run: `vyper 28.txt`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1193/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1192", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1192/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1192/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1192/events", "html_url": "https://github.com/vyperlang/vyper/issues/1192", "id": 399478606, "node_id": "MDU6SXNzdWUzOTk0Nzg2MDY=", "number": 1192, "title": "Unexpected Crash in stmt.py (line 331)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:35:26Z", "updated_at": "2019-01-18T10:55:49Z", "closed_at": "2019-01-18T10:55:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [26.txt](https://github.com/ethereum/vyper/files/2760980/26.txt)\r\n\r\n 2. Command to run: `vyper 26.txt`", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1191", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1191/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1191/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1191/events", "html_url": "https://github.com/vyperlang/vyper/issues/1191", "id": 399475908, "node_id": "MDU6SXNzdWUzOTk0NzU5MDg=", "number": 1191, "title": "Unexpected Crash in expr.py (line 257)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:28:53Z", "updated_at": "2019-01-17T14:03:02Z", "closed_at": "2019-01-17T14:03:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [13.txt](https://github.com/ethereum/vyper/files/2760945/13.txt)\r\n\r\n\r\n 2. Command to run: `vyper 13.txt`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1190", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1190/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1190/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1190/events", "html_url": "https://github.com/vyperlang/vyper/issues/1190", "id": 399474494, "node_id": "MDU6SXNzdWUzOTk0NzQ0OTQ=", "number": 1190, "title": "Unexpected Crash in event_signature.py (line 58)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:25:21Z", "updated_at": "2019-01-18T10:56:32Z", "closed_at": "2019-01-18T10:56:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [7.txt](https://github.com/ethereum/vyper/files/2760928/7.txt)\r\n\r\n 2. Command to run: `vyper 7.txt`\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1189", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1189/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1189/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1189/events", "html_url": "https://github.com/vyperlang/vyper/issues/1189", "id": 399472411, "node_id": "MDU6SXNzdWUzOTk0NzI0MTE=", "number": 1189, "title": "Unexpected Crash in event_signature.py (line 54)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T18:19:39Z", "updated_at": "2019-01-18T10:55:49Z", "closed_at": "2019-01-18T10:55:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [6.txt](https://github.com/ethereum/vyper/files/2760913/6.txt)\r\n\r\n 2. Command to run: `vyper 6.txt`\r\n\r\n 3. Output:\r\n\r\n```\r\nError compiling:  6.txt\r\nTraceback (most recent call last):\r\n  File \"/Users/mate/github/vyper/vyper-venv/bin/vyper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('vyper==0.1.0b6', 'vyper')\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 664, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1451, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 85, in <module>\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 108, in compile_codes\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 51, in exc_handler\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 105, in compile_codes\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 87, in <lambda>\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 8, in __compile\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 249, in parse_tree_to_lll\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 174, in parse_events\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/signatures/event_signature.py\", line 54, in from_declaration\r\nAttributeError: 'BinOp' object has no attribute 'id'\r\n\r\n\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1188", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1188/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1188/events", "html_url": "https://github.com/vyperlang/vyper/issues/1188", "id": 399471229, "node_id": "MDU6SXNzdWUzOTk0NzEyMjk=", "number": 1188, "title": "Unexpected Crash in global_context.py (line 234)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-15T18:16:18Z", "updated_at": "2019-01-18T10:55:49Z", "closed_at": "2019-01-18T10:55:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [5.txt](https://github.com/ethereum/vyper/files/2760903/5.txt)\r\n\r\n 2. Command to run: `vyper 5.txt`\r\n\r\n 3. Output:\r\n\r\n```\r\nError compiling:  5.txt\r\nTraceback (most recent call last):\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/bin/vyper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('vyper==0.1.0b6', 'vyper')\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/setuptools-39.1.0-py3.6.egg/pkg_resources/__init__.py\", line 658, in run_script\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/setuptools-39.1.0-py3.6.egg/pkg_resources/__init__.py\", line 1445, in run_script\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 85, in <module>\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 108, in compile_codes\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 51, in exc_handler\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 105, in compile_codes\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 87, in <lambda>\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 8, in __compile\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 229, in parse_tree_to_lll\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/global_context.py\", line 75, in get_global_context\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/global_context.py\", line 234, in add_globals_and_events\r\nAttributeError: 'Attribute' object has no attribute 'id'\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1186", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1186/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1186/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1186/events", "html_url": "https://github.com/vyperlang/vyper/issues/1186", "id": 399229348, "node_id": "MDU6SXNzdWUzOTkyMjkzNDg=", "number": 1186, "title": "Unexpected Crash in types.py (line 321)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T08:08:20Z", "updated_at": "2019-01-18T10:55:50Z", "closed_at": "2019-01-18T10:55:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\nTypes.py excerpt:\r\n```\r\n# Parses an expression representing a type. Annotation refers to whether\r\n# the type is to be located in memory or storage\r\ndef parse_type(item, location, sigs=None, custom_units=None, custom_structs=None, constants=None):\r\n    # Base and custom types, e.g. num\r\n   ...\r\n            if not isinstance(keytype, (BaseType, ByteArrayType)):\r\n                raise InvalidTypeException(\"Mapping keys must be base or bytes types\", item)\r\n            return MappingType(keytype, parse_type(item.args[1], location, custom_units=custom_units, custom_structs=custom_structs, constants=constants)) # <---- item.args can be empty\r\n```\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [10.txt](https://github.com/ethereum/vyper/files/2758606/10.txt)\r\n\r\n 2. Command to run: `vyper 10.txt`\r\n\r\n 3. Output:\r\n\r\n```\r\nError compiling:  10.txt\r\nTraceback (most recent call last):\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/bin/vyper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('vyper==0.1.0b6', 'vyper')\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/setuptools-39.1.0-py3.6.egg/pkg_resources/__init__.py\", line 658, in run_script\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/setuptools-39.1.0-py3.6.egg/pkg_resources/__init__.py\", line 1445, in run_script\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 85, in <module>\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 108, in compile_codes\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 51, in exc_handler\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 105, in compile_codes\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 87, in <lambda>\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 8, in __compile\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 229, in parse_tree_to_lll\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/global_context.py\", line 75, in get_global_context\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/global_context.py\", line 307, in add_globals_and_events\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/types/types.py\", line 321, in parse_type\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/types/types.py\", line 321, in parse_type\r\nIndexError: list index out of range\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1185", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1185/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1185/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1185/events", "html_url": "https://github.com/vyperlang/vyper/issues/1185", "id": 399223353, "node_id": "MDU6SXNzdWUzOTkyMjMzNTM=", "number": 1185, "title": "Unexpected Crash in parser.py (line 234)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T07:46:03Z", "updated_at": "2019-01-18T10:55:50Z", "closed_at": "2019-01-18T10:55:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\nParser.py excerpt:\r\n```\r\n# Main python parse tree => LLL method\r\ndef parse_tree_to_lll(code, origcode, runtime_only=False):\r\n    global_ctx = GlobalContext.get_global_context(code)\r\n    _names_def = [_def.name for _def in global_ctx._defs]\r\n    # Checks for duplicate function names\r\n    if len(set(_names_def)) < len(_names_def):\r\n        raise FunctionDeclarationException(\"Duplicate function name: %s\" % [name for name in _names_def if _names_def.count(name) > 1][0])\r\n    _names_events = [_event.target.id for _event in global_ctx._events]  # <---- _event.target can have no id\r\n```\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [4.txt](https://github.com/ethereum/vyper/files/2758524/4.txt)\r\n \r\n2. Command to run: `vyper 4.txt`\r\n\r\n 3. Output:\r\n```\r\nError compiling:  4.txt\r\nTraceback (most recent call last):\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/bin/vyper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('vyper==0.1.0b6', 'vyper')\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/setuptools-39.1.0-py3.6.egg/pkg_resources/__init__.py\", line 658, in run_script\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/setuptools-39.1.0-py3.6.egg/pkg_resources/__init__.py\", line 1445, in run_script\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 85, in <module>\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 108, in compile_codes\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 51, in exc_handler\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 105, in compile_codes\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 87, in <lambda>\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 8, in __compile\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 234, in parse_tree_to_lll\r\n  File \"/Users/mate/ethermat/security/vyper-fuzz/venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 234, in <listcomp>\r\nAttributeError: 'Attribute' object has no attribute 'id'\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1184", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1184/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1184/events", "html_url": "https://github.com/vyperlang/vyper/issues/1184", "id": 399221293, "node_id": "MDU6SXNzdWUzOTkyMjEyOTM=", "number": 1184, "title": "Unexpected Crash in parser.py (line 63)", "user": {"login": "1ultimat3", "id": 2185330, "node_id": "MDQ6VXNlcjIxODUzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2185330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ultimat3", "html_url": "https://github.com/1ultimat3", "followers_url": "https://api.github.com/users/1ultimat3/followers", "following_url": "https://api.github.com/users/1ultimat3/following{/other_user}", "gists_url": "https://api.github.com/users/1ultimat3/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ultimat3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ultimat3/subscriptions", "organizations_url": "https://api.github.com/users/1ultimat3/orgs", "repos_url": "https://api.github.com/users/1ultimat3/repos", "events_url": "https://api.github.com/users/1ultimat3/events{/privacy}", "received_events_url": "https://api.github.com/users/1ultimat3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-15T07:38:29Z", "updated_at": "2019-01-18T10:55:50Z", "closed_at": "2019-01-18T10:55:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.6.3\r\n\r\n### What's your issue about?\r\n\r\nIt is possible to cause an unexpected crash. This can lead to security bugs in dependent systems (e.g. in future [VerifiedContracts](https://etherscan.io/verifyContract2). Actually, [this is why fuzzing solc is so interesting for us, too](https://github.com/Ethermat/solc-fuzzing)\r\n\r\nParser.py excerpt:\r\n```\r\n# Converts code to parse tree\r\ndef parse(code):\r\n    class_names, code = pre_parse(code)\r\n    o = ast.parse(code)  # <-- code can contain NULL bytes\r\n    decorate_ast(o, code, class_names)  # decorated python ast \r\n    o = resolve_negative_literals(o)\r\n    return o.body\r\n```\r\n\r\n### Reproduce Bug\r\n\r\n 1. Vyper contract leading to the issue: [3.txt](https://github.com/ethereum/vyper/files/2758478/3.txt)\r\n\r\n 2. Command to run: `vyper 3.txt`\r\n\r\n 3. Output:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/mate/github/vyper/vyper-venv/bin/vyper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('vyper==0.1.0b6', 'vyper')\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 664, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1451, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 85, in <module>\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 108, in compile_codes\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/EGG-INFO/scripts/vyper\", line 51, in exc_handler\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 105, in compile_codes\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 87, in <lambda>\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/compiler.py\", line 8, in __compile\r\n  File \"/Users/mate/github/vyper/vyper-venv/lib/python3.6/site-packages/vyper-0.1.0b6-py3.6.egg/vyper/parser/parser.py\", line 63, in parse\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ast.py\", line 35, in parse\r\n    return compile(source, filename, mode, PyCF_ONLY_AST)\r\nValueError: source code string cannot contain null bytes\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1178", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1178/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1178/events", "html_url": "https://github.com/vyperlang/vyper/issues/1178", "id": 396097873, "node_id": "MDU6SXNzdWUzOTYwOTc4NzM=", "number": 1178, "title": "`outsize` param of `raw_call` doesn't accept a constant.", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-01-04T23:08:46Z", "updated_at": "2019-01-13T15:24:28Z", "closed_at": "2019-01-13T15:24:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 1.0.0b6\r\n\r\n### What's your issue about?\r\n\r\n`outsize` param of `raw_call` doesn't accept a constant.\r\n\r\n```\r\nTEST_C: constant(int128) = 1\r\nTEST_WEI: constant(uint256(wei)) = 1\r\n\r\n# Expecting num_literal for argument 'outsize' of raw_call\r\n@private\r\ndef test():\r\n    raw_call(0x0000000000000000000000000000000000000005, 'hello', outsize=TEST_C, gas=2000)\r\n\r\n# Compiled!\r\n@private\r\ndef test1():\r\n    # Expecting num_literal for argument 'outsize' of raw_call\r\n    raw_call(0x0000000000000000000000000000000000000005, 'hello', outsize=256, gas=TEST_WEI)\r\n```\r\n\r\n### How can it be fixed?\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/22876645/50715505-eb5cbf00-10c0-11e9-9cd7-3f5bb2228d25.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1167", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1167/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1167/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1167/events", "html_url": "https://github.com/vyperlang/vyper/issues/1167", "id": 394935998, "node_id": "MDU6SXNzdWUzOTQ5MzU5OTg=", "number": 1167, "title": "Constants can't be used for the list size", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-31T06:30:36Z", "updated_at": "2019-01-22T00:25:40Z", "closed_at": "2019-01-22T00:25:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 1.0.0b6\r\n* OS: osx\r\n* Python Version : 3.6\r\n\r\n### What's your issue about?\r\nI got `Unknown list type.` error when I used constants for the list size.\r\n\r\ne.g. \r\n```\r\nTREE_DEPTH: constant(uint256) = 16\r\n\r\n@public\r\ndef calcMerkleRoot(_proof: bytes32[TREE_DEPTH]):\r\n    pass\r\n```\r\n\r\nWith `bytes[TREE_DEPTH]` (fixed-size byte arrays) the same error occurs.\r\n\r\nI'm not sure this is an error or intended but constants for the list size would be useful.\r\n\r\n### How can it be fixed?\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/22876645/50555513-e68aba80-0d10-11e9-8f47-9bb33701754e.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1161", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1161/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1161/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1161/events", "html_url": "https://github.com/vyperlang/vyper/issues/1161", "id": 394182003, "node_id": "MDU6SXNzdWUzOTQxODIwMDM=", "number": 1161, "title": "Unexpected ValueError message when compiling code with a final line of comments", "user": {"login": "derekzx", "id": 17759758, "node_id": "MDQ6VXNlcjE3NzU5NzU4", "avatar_url": "https://avatars.githubusercontent.com/u/17759758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekzx", "html_url": "https://github.com/derekzx", "followers_url": "https://api.github.com/users/derekzx/followers", "following_url": "https://api.github.com/users/derekzx/following{/other_user}", "gists_url": "https://api.github.com/users/derekzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekzx/subscriptions", "organizations_url": "https://api.github.com/users/derekzx/orgs", "repos_url": "https://api.github.com/users/derekzx/repos", "events_url": "https://api.github.com/users/derekzx/events{/privacy}", "received_events_url": "https://api.github.com/users/derekzx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-12-26T14:48:33Z", "updated_at": "2019-02-06T13:29:32Z", "closed_at": "2019-02-06T13:29:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0\r\n* OS: Ubuntu 18.0.4\r\n* Python Version (python --version):\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\nAny file with a line of code which ends in comments instead of code (###....) will raise a ValueError\r\n\r\n### Information\r\nInput\r\n```\r\n@public\r\ndef test():\r\n    c : uint256\r\n    d : uint256\r\n    e : uint256\r\n    d, e = self.minustest(1006, 1)\r\n    #bla\r\n```\r\nOutput\r\n```\r\nValueError: start (60,8) precedes previous end (61,0)\r\n```\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/17759758/50449050-b1bce300-095f-11e9-919f-f78e81f44025.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1160", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1160/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1160/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1160/events", "html_url": "https://github.com/vyperlang/vyper/issues/1160", "id": 394109691, "node_id": "MDU6SXNzdWUzOTQxMDk2OTE=", "number": 1160, "title": "Returning multiple values in a function", "user": {"login": "derekzx", "id": 17759758, "node_id": "MDQ6VXNlcjE3NzU5NzU4", "avatar_url": "https://avatars.githubusercontent.com/u/17759758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekzx", "html_url": "https://github.com/derekzx", "followers_url": "https://api.github.com/users/derekzx/followers", "following_url": "https://api.github.com/users/derekzx/following{/other_user}", "gists_url": "https://api.github.com/users/derekzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekzx/subscriptions", "organizations_url": "https://api.github.com/users/derekzx/orgs", "repos_url": "https://api.github.com/users/derekzx/repos", "events_url": "https://api.github.com/users/derekzx/events{/privacy}", "received_events_url": "https://api.github.com/users/derekzx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-26T08:06:45Z", "updated_at": "2019-02-05T06:10:31Z", "closed_at": "2019-02-05T06:10:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0\r\n* OS: 18.04\r\n\r\n\r\n### What's your issue about?\r\nUnable to set tuples aka #605 \r\n\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\ntest_a remains as 100\r\n\r\n* what command you ran\r\nchecking events emitted using truffle\r\ntruffle test\r\n\r\n* the code that caused the failure \r\n```\r\nCreation: event({\r\n    _test_a: uint256\r\n})\r\ntest_a : uint256\r\ntest_b : uint256\r\ntest_c : uint256\r\ntest_x : uint256\r\n\r\n\r\n@public\r\ndef __init__():\r\n    self.test_a = 100\r\n    \r\n@public\r\ndef test1() -> (uint256, uint256):\r\n    log.Creation(self.test_x)\r\n    return (1,2)\r\n\r\n@public\r\ndef test():\r\n    (self.test_b, self.test_a) = self.test1()\r\n    log.Creation(self.test_a)\r\n    log.Creation(self.test_b)\r\n```\r\n\r\nTest Code:\r\n```\r\nconst test = artifacts.require(\"test\");\r\nconst assert = require(\"chai\").assert;\r\nconst truffleAssert = require('truffle-assertions');\r\n\r\ncontract(\"test\", (accounts) => {\r\n    let test1;\r\n    const fundingAccount = accounts[0];\r\n\r\n    beforeEach(async () => {\r\n        test1 = await test.new({from: fundingAccount});\r\n    });\r\n    \r\n    it(\"should receive event\", async() => {\r\n        let tx = await test1.test();\r\n        truffleAssert.eventEmitted(tx, 'Creation', (ev) => {\r\n            return ev._test_a == 2;\r\n        });\r\n    });\r\n});\r\n```\r\n\r\nI am not sure whether I did it wrong but the goal would be to set 2 variables at once.\r\n\r\n#### Cute Animal Picture\r\n![image](https://user-images.githubusercontent.com/17759758/50438216-f88ee680-0927-11e9-877b-07fda2e4018b.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1159", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1159/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1159/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1159/events", "html_url": "https://github.com/vyperlang/vyper/issues/1159", "id": 393977313, "node_id": "MDU6SXNzdWUzOTM5NzczMTM=", "number": 1159, "title": "Unable to set constant variables at the start of a file.", "user": {"login": "derekzx", "id": 17759758, "node_id": "MDQ6VXNlcjE3NzU5NzU4", "avatar_url": "https://avatars.githubusercontent.com/u/17759758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekzx", "html_url": "https://github.com/derekzx", "followers_url": "https://api.github.com/users/derekzx/followers", "following_url": "https://api.github.com/users/derekzx/following{/other_user}", "gists_url": "https://api.github.com/users/derekzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekzx/subscriptions", "organizations_url": "https://api.github.com/users/derekzx/orgs", "repos_url": "https://api.github.com/users/derekzx/repos", "events_url": "https://api.github.com/users/derekzx/events{/privacy}", "received_events_url": "https://api.github.com/users/derekzx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-12-25T07:24:53Z", "updated_at": "2019-03-11T13:17:21Z", "closed_at": "2019-03-11T13:17:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0\r\n* OS: Ubuntu 18.04\r\n* Python Version (python --version):\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\nUnable to set a constant uint256 at the start of a file.\r\n\r\n*Output:\r\nvyper.exceptions.TypeMismatchException: line 1: Invalid value for constant type, expected uint256\r\ntest_a : constant(uint256) = 21888242871839275222246405745257275088696311157297823662689037894645226208583\r\n\r\n*Commands\r\nvyper test.vy\r\n\r\n*Only had one line of code in file\r\ntest_a : constant(uint256) = 21888242871839275222246405745257275088696311157297823662689037894645226208583\r\n\r\n*Cute animal\r\n![image](https://user-images.githubusercontent.com/17759758/50415978-0c1f4c00-0859-11e9-963f-b3ab709b31d8.png)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1155", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1155/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1155/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1155/events", "html_url": "https://github.com/vyperlang/vyper/issues/1155", "id": 392260081, "node_id": "MDU6SXNzdWUzOTIyNjAwODE=", "number": 1155, "title": "Issue with declaring custom decimal constants.", "user": {"login": "jakerockland", "id": 8602661, "node_id": "MDQ6VXNlcjg2MDI2NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8602661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakerockland", "html_url": "https://github.com/jakerockland", "followers_url": "https://api.github.com/users/jakerockland/followers", "following_url": "https://api.github.com/users/jakerockland/following{/other_user}", "gists_url": "https://api.github.com/users/jakerockland/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakerockland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakerockland/subscriptions", "organizations_url": "https://api.github.com/users/jakerockland/orgs", "repos_url": "https://api.github.com/users/jakerockland/repos", "events_url": "https://api.github.com/users/jakerockland/events{/privacy}", "received_events_url": "https://api.github.com/users/jakerockland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-18T17:29:11Z", "updated_at": "2020-01-05T22:11:19Z", "closed_at": "2020-01-05T22:11:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b6\r\n* OS: osx\r\n* Python Version (python --version): Python 3.7.0\r\n* Environment (output of `pip freeze`):\r\n\r\n```\r\nasn1crypto==0.24.0\r\natomicwrites==1.2.1\r\nattrdict==2.0.0\r\nattrs==18.2.0\r\ncertifi==2018.11.29\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncoverage==4.5.2\r\ncryptography==2.4.2\r\ncytoolz==0.9.0.1\r\neth-abi==1.3.0\r\neth-account==0.3.0\r\neth-bloom==1.0.1\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.0b3\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b33\r\neth-typing==2.0.0\r\neth-utils==1.4.0\r\nflake8==3.6.0\r\nhexbytes==0.1.0\r\nidna==2.8\r\nlru-dict==1.1.6\r\nmccabe==0.6.1\r\nmore-itertools==4.3.0\r\nmypy-extensions==0.4.1\r\nparsimonious==0.8.1\r\npluggy==0.8.0\r\npy==1.7.0\r\npy-ecc==1.4.7\r\npy-evm==0.2.0a34\r\npycodestyle==2.4.0\r\npycparser==2.19\r\npycryptodome==3.7.2\r\npyethash==0.1.27\r\npyflakes==2.0.0\r\npytest==4.0.1\r\npytest-cov==2.6.0\r\nrequests==2.21.0\r\nrlp==1.0.3\r\nsemantic-version==2.6.0\r\nsix==1.12.0\r\ntoolz==0.9.0\r\ntrie==1.3.8\r\nurllib3==1.24.1\r\nvyper==0.1.0b6\r\nweb3==4.8.2\r\nwebsockets==6.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\nThe code:\r\n\r\n```python\r\nFOO: constant(int128) = 100\r\n\r\n@public\r\ndef bar() -> uint256:\r\n    return convert(FOO, uint256)\r\n```\r\n\r\nThrows the exception:\r\n\r\n```\r\nvyper.exceptions.TypeMismatchException: line 1: Invalid value for constant type, expected decimal\r\n```\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/8602661/50171454-be7e6e80-02af-11e9-9b9e-767c7f65bb2d.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1132", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1132/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1132/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1132/events", "html_url": "https://github.com/vyperlang/vyper/issues/1132", "id": 389139308, "node_id": "MDU6SXNzdWUzODkxMzkzMDg=", "number": 1132, "title": "2-clause if statement must have a zerovalent body error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-10T04:53:44Z", "updated_at": "2018-12-20T10:07:28Z", "closed_at": "2018-12-20T10:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b5\r\n* OS: win\r\n* Python Version (python --version): 3.7.0\r\n* Environment (output of `pip freeze`):\r\n\r\n```\r\nattrdict==2.0.0\r\nbase58==1.0.2\r\ncertifi==2018.11.29\r\nchardet==3.0.4\r\ncodecov==2.0.15\r\ncoverage==4.5.2\r\ncytoolz==0.9.0.1\r\necdsa==0.13\r\neth-abi==1.3.0\r\neth-account==0.3.0\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.0b3\r\neth-rlp==0.1.2\r\neth-typing==2.0.0\r\neth-utils==1.4.0\r\nhexbytes==0.1.0\r\nidna==2.7\r\nnumpy==1.15.4\r\npandas==0.23.4\r\nparsimonious==0.8.1\r\npycryptodome==3.7.2\r\npython-dateutil==2.7.5\r\npytz==2018.7\r\nrequests==2.20.1\r\nrlp==1.0.3\r\nsetuptools-scm==3.1.0\r\nsix==1.11.0\r\ntoolz==0.9.0\r\ntronapi==3.0.2\r\nurllib3==1.24.1\r\nvyper==0.1.0b5\r\n```\r\n\r\n### What's your issue about?\r\n\r\nScript returns cryptic \"zerovalent\" error when there is a function call after an if statement. Adding a pass statement after the function call makes it go away. Likewise, replacing the function call with the body of the function call makes it go away.\r\n\r\nStripped down example:\r\n```\r\n@private\r\ndef foo():\r\n    pass\r\n\r\n@public\r\ndef start():\r\n    if True:\r\n        self.foo()\r\n        # pass  # uncomment to successfully compile\r\n```\r\n\r\nError output:\r\n```\r\nError compiling:  error_reproduce.vy\r\nException: 2-clause if statement must have a zerovalent body: [seq,\r\n  /* Internal Call: foo */\r\n  [seq_unchecked,\r\n    [add, pc, 6],\r\n    [goto, priv_3264763256],\r\n    jumpdest,\r\n    0]]\r\n```\r\n\r\nCompiled using `vyper error_reproduce.vy`\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1122", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1122/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1122/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1122/events", "html_url": "https://github.com/vyperlang/vyper/issues/1122", "id": 388081927, "node_id": "MDU6SXNzdWUzODgwODE5Mjc=", "number": 1122, "title": "`Invalid type` and `Number out of range`", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-06T07:01:05Z", "updated_at": "2020-06-28T10:04:14Z", "closed_at": "2020-06-28T10:04:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: [the latest](https://github.com/ethereum/vyper/commit/97ed5fec89947d41fd91f5190c4478ffcadbb9fb) and 0.1.0b4\r\n\r\n### What's your issue about?\r\n\r\nI got `Number out of range` in compiling this.\r\n```\r\na: int128 = - 2**127 - 1\r\n```\r\n\r\nInstead, I got `Invalid type, expected: int128` error in compiling this.\r\n```\r\na: int128 = 2**127\r\n```\r\n\r\nI think they both should say `Number out of range`, which is more helpful?\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/22876645/49567102-1e9c1900-f970-11e8-8739-4612220f8e69.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1121", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1121/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1121/events", "html_url": "https://github.com/vyperlang/vyper/issues/1121", "id": 388080462, "node_id": "MDU6SXNzdWUzODgwODA0NjI=", "number": 1121, "title": "MAX[MIN]_INT128 makes error in range check", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-06T06:55:09Z", "updated_at": "2018-12-13T08:37:27Z", "closed_at": "2018-12-13T08:37:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: [the latest](https://github.com/ethereum/vyper/commit/97ed5fec89947d41fd91f5190c4478ffcadbb9fb) and 0.1.0b4\r\n\r\n### What's your issue about?\r\n\r\nI got `TypeError` in compiling these sentences.\r\n```\r\na: int128 = MAX_INT128\r\n```\r\n```\r\nb: int128 = MIN_INT128\r\n```\r\n```\r\n  File \"/Users/ryuya.nakamura/.pyenv/versions/vyper/lib/python3.6/site-packages/vyper-0.1.0b4-py3.6.egg/vyper/utils.py\", line 109, in in_bounds\r\n    return cls.MINNUM <= value <= cls.MAXNUM\r\nTypeError: '<=' not supported between instances of 'int' and 'str'\r\n```\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/22876645/49566801-3cb54980-f96f-11e8-864c-40e2b07b9dab.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1121/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1116", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1116/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1116/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1116/events", "html_url": "https://github.com/vyperlang/vyper/issues/1116", "id": 387197459, "node_id": "MDU6SXNzdWUzODcxOTc0NTk=", "number": 1116, "title": "Is Safe Remote Purchase vulnerable to a recursive call attack (answer: no, but let's keep things consistent) ?", "user": {"login": "sgryphon", "id": 339293, "node_id": "MDQ6VXNlcjMzOTI5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/339293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgryphon", "html_url": "https://github.com/sgryphon", "followers_url": "https://api.github.com/users/sgryphon/followers", "following_url": "https://api.github.com/users/sgryphon/following{/other_user}", "gists_url": "https://api.github.com/users/sgryphon/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgryphon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgryphon/subscriptions", "organizations_url": "https://api.github.com/users/sgryphon/orgs", "repos_url": "https://api.github.com/users/sgryphon/repos", "events_url": "https://api.github.com/users/sgryphon/events{/privacy}", "received_events_url": "https://api.github.com/users/sgryphon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-12-04T09:40:43Z", "updated_at": "2018-12-06T13:49:49Z", "closed_at": "2018-12-06T13:49:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: latest (current docs)\r\n* OS: n/a\r\n* Python Version (python --version): n/a\r\n* Environment (output of `pip freeze`): n/a\r\n\r\n### What's your issue about?\r\n\r\nIn Vyper Safe Remote Purchase example, the buyer has put up an extra deposit, so it is in their interest to acknowledge the item was received.\r\n\r\n```\r\n@public\r\ndef received():\r\n    assert not self.unlocked #Is the item already purchased and pending confirmation\r\n        # from the buyer?\r\n    assert msg.sender == self.buyer\r\n    send(self.buyer, self.value) #Return the buyer's deposit (=value) to the buyer.\r\n    selfdestruct(self.seller) #Return the seller's deposit (=2*value)\r\n        # and the purchase price (=value) to the seller.\r\n```\r\n\t\t\r\nEarlier, in the auction example, it went to great lengths to describe the correct sequence of events:\r\n\r\n```\r\n    # 1. Conditions\r\n    # 2. Effects\r\n    # 3. Interaction\t\t\r\n```\r\n\t\t\r\nBut then in the Safe Remote Purchase example, does it not break those rules -- could the buyer not recursively call received(), inside a contract address that is receiving the send of the value?\r\n\r\nThen, because selfdestruct has not yet run, they can call received 4 times, leaving nothing for the seller?\r\n\r\n### How can it be fixed?\r\n\r\nFollow the 1/2/3 rules.\r\n\r\n#### Cute Animal Picture\r\n\r\n> put a cute animal picture here.\r\n\r\nUm.\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1116/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1114", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1114/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1114/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1114/events", "html_url": "https://github.com/vyperlang/vyper/issues/1114", "id": 387040346, "node_id": "MDU6SXNzdWUzODcwNDAzNDY=", "number": 1114, "title": "Returning tuple variable results in IndexError", "user": {"login": "charles-cooper", "id": 3867501, "node_id": "MDQ6VXNlcjM4Njc1MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charles-cooper", "html_url": "https://github.com/charles-cooper", "followers_url": "https://api.github.com/users/charles-cooper/followers", "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}", "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions", "organizations_url": "https://api.github.com/users/charles-cooper/orgs", "repos_url": "https://api.github.com/users/charles-cooper/repos", "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}", "received_events_url": "https://api.github.com/users/charles-cooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-03T22:48:01Z", "updated_at": "2019-02-01T04:53:53Z", "closed_at": "2019-02-01T04:53:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 8a0f9471b830762913513d69a1b3f9821106ee53\r\n* OS: linux\r\n* Python Version (python --version): Python 3.6.7\r\n* Environment (output of `pip freeze`):\r\n```\r\npycryptodome==3.7.2\r\nvyper==0.1.0b5\r\n```\r\n\r\n### What's your issue about?\r\n```python\r\n### repro.vy\r\n@private\r\ndef bug() -> (int128, address):\r\n  ret: (int128, address)\r\n  return ret\r\n```\r\nThrows an error:\r\n```\r\n  File \"/home/charles/src-references/vyper/env/lib/python3.6/site-packages/vyper-0.1.0b5-py3.6.egg/vyper/parser/stmt.py\", line 641, in parse_return\r\nIndexError: list index out of range\r\n```\r\n\r\n### Fix ?\r\nPrevent tuples as variables, as tuples could be easily misinterpreted and cause confusion when writing a smart contract.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1100", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1100/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1100/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1100/events", "html_url": "https://github.com/vyperlang/vyper/issues/1100", "id": 384418042, "node_id": "MDU6SXNzdWUzODQ0MTgwNDI=", "number": 1100, "title": "Constants support for range", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-11-26T16:46:36Z", "updated_at": "2018-11-30T11:12:50Z", "closed_at": "2018-11-28T23:10:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Range should support constants int as an input.\r\n\r\n### What's your issue about?\r\n```python\r\nTREE_FIDDY: constant(uint256)  = 350                                                                                                                                       \r\n                                                                                                                                                                         \r\n                                                                                                                                                                         \r\ndef a():                                                                                                                                                                 \r\n    for i in range(TREE_FIDDY):                                                                                                                                                 \r\n         if i == 3:                                                                                                                                                      \r\n              break\r\n```\r\n\r\n\r\n\r\n\r\n\r\n### How can it be fixed?\r\nSee `parse_for` in stmt.py.\r\n\r\n```\r\nvyper.exceptions.StructureException: line 5: Range only accepts literal values\r\n    for i in range(ONE):                                                                                                                                                 \r\n-------------^\r\n```\r\n\r\n#### Cute Animal Picture\r\n\r\n![](http://static.digg.com/images/f04bf14b08f34bd3a10e2fcadac0c54e_907af6be54048886bace24fbbcf28745_1_www_vid_large_thumb.jpeg)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1100/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1091", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1091/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1091/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1091/events", "html_url": "https://github.com/vyperlang/vyper/issues/1091", "id": 383248038, "node_id": "MDU6SXNzdWUzODMyNDgwMzg=", "number": 1091, "title": "\"Invalid Jump Destination\"", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-21T18:38:35Z", "updated_at": "2018-11-28T23:11:23Z", "closed_at": "2018-11-28T23:11:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've noticed that ever since switching to a vyper version using #901 the only error I get (on transactions that should fail) is `eth.exceptions.InvalidJumpDestination: Invalid Jump Destination`\r\n\r\nHere is my testing setup:\r\nhttps://github.com/Uniswap/contracts-vyper/blob/master/tests/conftest.py\r\n\r\n### Version Information\r\n\r\n* Vyper Version: https://github.com/ethereum/vyper/commits/35038d20bd9946a35261c4c4fbcb27fe61e65f78\r\n* OS: osx Mojave\r\n* Python Version: 3.6.5\r\n* Environment (pipe freeze): \r\n```\r\nasn1crypto==0.24.0\r\natomicwrites==1.2.1\r\nattrdict==2.0.0\r\nattrs==18.2.0\r\ncertifi==2018.10.15\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncryptography==2.3.1\r\ncytoolz==0.9.0.1\r\neth-abi==1.2.2\r\neth-account==0.2.3\r\neth-bloom==1.0.1\r\neth-hash==0.2.0\r\neth-keyfile==0.5.1\r\neth-keys==0.2.0b3\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b33\r\neth-typing==1.3.0\r\neth-utils==1.2.2\r\nhexbytes==0.1.0\r\nidna==2.7\r\nlru-dict==1.1.6\r\nmore-itertools==4.3.0\r\nparsimonious==0.8.1\r\npluggy==0.8.0\r\npy==1.7.0\r\npy-ecc==1.4.3\r\npy-evm==0.2.0a33\r\npycparser==2.19\r\npycryptodome==3.6.6\r\npyethash==0.1.27\r\npytest==3.9.2\r\nrequests==2.20.0\r\nrlp==1.0.3\r\nsemantic-version==2.6.0\r\nsix==1.11.0\r\ntoolz==0.9.0\r\ntrie==1.3.8\r\nurllib3==1.24\r\nvyper==0.1.0b3\r\nweb3==4.4.1\r\nwebsockets==5.0.1\r\n```\r\n\r\nError Output:\r\n\r\n```\r\ntest_eth_to_token.py:18:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n../../env/lib/python3.6/site-packages/web3/eth.py:263: in sendTransaction\r\n    get_buffered_gas_estimate(self.web3, transaction),\r\n../../env/lib/python3.6/site-packages/web3/utils/transactions.py:84: in get_buffered_gas_estimate\r\n    gas_estimate = web3.eth.estimateGas(gas_estimate_transaction)\r\n../../env/lib/python3.6/site-packages/web3/eth.py:304: in estimateGas\r\n    [transaction],\r\n../../env/lib/python3.6/site-packages/web3/manager.py:107: in request_blocking\r\n    response = self._make_request(method, params)\r\n../../env/lib/python3.6/site-packages/web3/manager.py:90: in _make_request\r\n    return request_func(method, params)\r\n../../env/lib/python3.6/site-packages/web3/middleware/gas_price_strategy.py:18: in middleware\r\n    return make_request(method, params)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/web3/middleware/formatting.py:48: in apply_formatters\r\n    response = make_request(method, formatted_params)\r\n../../env/lib/python3.6/site-packages/web3/middleware/attrdict.py:18: in middleware\r\n    response = make_request(method, params)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/web3/middleware/formatting.py:48: in apply_formatters\r\n    response = make_request(method, formatted_params)\r\n../../env/lib/python3.6/site-packages/web3/middleware/normalize_errors.py:9: in middleware\r\n    result = make_request(method, params)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/web3/middleware/formatting.py:48: in apply_formatters\r\n    response = make_request(method, formatted_params)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/web3/middleware/formatting.py:48: in apply_formatters\r\n    response = make_request(method, formatted_params)\r\n../../env/lib/python3.6/site-packages/web3/providers/eth_tester/middleware.py:320: in middleware\r\n    return make_request(method, [filled_transaction] + params[1:])\r\n../../env/lib/python3.6/site-packages/web3/middleware/fixture.py:12: in middleware\r\n    return make_request(method, params)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/web3/middleware/formatting.py:48: in apply_formatters\r\n    response = make_request(method, formatted_params)\r\n../../env/lib/python3.6/site-packages/web3/providers/eth_tester/main.py:46: in make_request\r\n    response = delegator(self.ethereum_tester, params)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/web3/providers/eth_tester/defaults.py:36: in call_eth_tester\r\n    return getattr(eth_tester, fn_name)(*fn_args, **fn_kwargs)\r\n../../env/lib/python3.6/site-packages/eth_tester/main.py:445: in estimate_gas\r\n    raw_gas_estimate = self.backend.estimate_gas(raw_transaction)\r\n../../env/lib/python3.6/site-packages/eth_tester/utils/formatting.py:85: in wrapper\r\n    return to_wrap(*args, **kwargs)\r\n../../env/lib/python3.6/site-packages/eth_tester/backends/pyevm/main.py:511: in estimate_gas\r\n    return self.chain.estimate_gas(spoofed_transaction)\r\n../../env/lib/python3.6/site-packages/eth/chains/base.py:615: in estimate_gas\r\n    return self.gas_estimator(state, transaction)\r\ncytoolz/functoolz.pyx:232: in cytoolz.functoolz.curry.__call__\r\n    ???\r\n../../env/lib/python3.6/site-packages/eth/estimators/gas.py:65: in binary_gas_search\r\n    raise error\r\n../../env/lib/python3.6/site-packages/eth/vm/computation.py:560: in apply_computation\r\n    opcode_fn(computation=computation)\r\n../../env/lib/python3.6/site-packages/eth/vm/opcode.py:49: in wrapped_logic_fn\r\n    return logic_fn(computation)\r\n\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncomputation = <eth.vm.forks.byzantium.computation.ByzantiumComputation object at 0x10fcc6400>\r\n\r\n    def jumpi(computation):\r\n        jump_dest, check_value = computation.stack_pop(num_items=2, type_hint=constants.UINT256)\r\n\r\n        if check_value:\r\n            computation.code.pc = jump_dest\r\n\r\n            next_opcode = computation.code.peek()\r\n\r\n            if next_opcode != JUMPDEST:\r\n>               raise InvalidJumpDestination(\"Invalid Jump Destination\")\r\nE               eth.exceptions.InvalidJumpDestination: Invalid Jump Destination\r\n\r\n../../env/lib/python3.6/site-packages/eth/vm/logic/flow.py:39: InvalidJumpDestination\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1091/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1091/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1088", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1088/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1088/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1088/events", "html_url": "https://github.com/vyperlang/vyper/issues/1088", "id": 382051831, "node_id": "MDU6SXNzdWUzODIwNTE4MzE=", "number": 1088, "title": "Can't pass a literal to a `bytes32` variable?", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-19T04:21:24Z", "updated_at": "2018-11-27T10:14:28Z", "closed_at": "2018-11-27T10:14:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b4\r\n\r\n### What's your issue about?\r\n\r\nI could pass literals to `bytes[n]` types but couldn't to `bytes32` . \r\n\r\n```\r\n@public\r\ndef test():\r\n    # Compiled!\r\n    # l: bytes[32] = \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x80\\xac\\x58\\xcd\"\r\n\r\n    # Compiled!\r\n    # l: bytes[4] = \"\\x00\\x00\\x00\\x00\"\r\n\r\n    # Failed    \r\n    l: bytes32 = \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x80\\xac\\x58\\xcd\"\r\n```\r\n\r\nError message (with `vyper-serve` ) is the below.\r\n\r\n```\r\n----------------------------------------\r\nException happened during processing of request from ('127.0.0.1', 51879)\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/socketserver.py\", line 647, in process_request_thread\r\n    self.finish_request(request, client_address)\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/socketserver.py\", line 357, in finish_request\r\n    self.RequestHandlerClass(request, client_address, self)\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/socketserver.py\", line 717, in __init__\r\n    self.handle()\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/http/server.py\", line 426, in handle\r\n    self.handle_one_request()\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/http/server.py\", line 414, in handle_one_request\r\n    method()\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/EGG-INFO/scripts/vyper-serve\", line 66, in do_POST\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/EGG-INFO/scripts/vyper-serve\", line 89, in _compile\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/compiler.py\", line 44, in mk_full_signature\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/compiler.py\", line 27, in gas_estimate\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 794, in parse_to_lll\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 224, in parse_tree_to_lll\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 172, in parse_other_functions\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 530, in parse_func\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 530, in <listcomp>\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 547, in parse_body\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/parser.py\", line 601, in parse_stmt\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/stmt.py\", line 76, in __init__\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/stmt.py\", line 150, in ann_assign\r\n  File \"/Users/ryuya.nakamura/work/vyper/venv/lib/python3.7/site-packages/vyper-0.1.0b4-py3.7.egg/vyper/parser/stmt.py\", line 105, in _check_valid_assign\r\nAttributeError: 'ByteArrayType' object has no attribute 'typ'\r\n----------------------------------------\r\n```\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/22876645/48686163-fb4a3d80-ebfd-11e8-9274-86965297ec47.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1088/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1072", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1072/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1072/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1072/events", "html_url": "https://github.com/vyperlang/vyper/issues/1072", "id": 379327147, "node_id": "MDU6SXNzdWUzNzkzMjcxNDc=", "number": 1072, "title": "Converting sliced bytes to non-bytes32 doesn't work", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-09T21:25:12Z", "updated_at": "2018-11-27T08:48:21Z", "closed_at": "2018-11-27T08:48:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version: 0.1.0b4\r\n\r\n### What's your issue about?\r\nVyper doesn't like converting a slice of `bytes` (slice len <=32) to a type other than `bytes32`:\r\n\r\n```python\r\n# Compiles!\r\n@public\r\n@constant\r\ndef foo(_arg: bytes[100]) -> bytes32:\r\n    return convert(slice(_arg, start=20, len=32), bytes32)\r\n\r\n# Does not compile....\r\n@public\r\n@constant\r\ndef bar(_arg: bytes[100]) -> uint256:\r\n    return convert(slice(_arg, start=20, len=32), uint256)\r\n\r\n# Compiles! (Workaround)\r\n@public\r\n@constant\r\ndef baz(_arg: bytes[100]) -> uint256:\r\n    return convert(convert(slice(_arg, start=20, len=32), bytes32), uint256)\r\n\r\n# Note: above does not work for addresses!\r\n```\r\n\r\n### How can it be fixed?\r\nMake it so!\r\n\r\n#### Cute Animal Picture\r\n\r\n![fluffy pony](https://i.ytimg.com/vi/sNv1s5lAZts/maxresdefault.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1072/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1070", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1070/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1070/events", "html_url": "https://github.com/vyperlang/vyper/issues/1070", "id": 379098406, "node_id": "MDU6SXNzdWUzNzkwOTg0MDY=", "number": 1070, "title": "Literals of more than three-dimensional list can't be compiled?", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-09T10:07:00Z", "updated_at": "2019-01-04T15:49:46Z", "closed_at": "2019-01-04T15:49:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "(Vyper Version: 0.1.0b4)\r\n\r\nThis is compiled.\r\n```\r\nl: uint256[2][2] = [[0, 0], [0, 0]]\r\n```\r\nHowever, when compiling these, `AttributeError: 'ListType' object has no attribute 'typ'` occurs.\r\n```\r\n    l: uint256[2][2][2] = [[[0, 0], [0, 0]],[[0, 0], [0, 0]]]\r\n```\r\n```\r\n    l: uint256[2][2][2][2] = [[[[0, 0], [0, 0]],[[0, 0], [0, 0]]], [[[0, 0], [0, 0]],[[0, 0], [0, 0]]]]\r\n```\r\n\r\nMore than three-dimensional list can't be compiled in Vyper or the syntax above is wrong?\r\n(In addition to that, should the compiler handle this exception? This should be another issue, though.)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1068", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1068/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1068/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1068/events", "html_url": "https://github.com/vyperlang/vyper/issues/1068", "id": 378646013, "node_id": "MDU6SXNzdWUzNzg2NDYwMTM=", "number": 1068, "title": "\"send\" as a reserved keyword collides with the ERC777 specification", "user": {"login": "lsaether", "id": 25539605, "node_id": "MDQ6VXNlcjI1NTM5NjA1", "avatar_url": "https://avatars.githubusercontent.com/u/25539605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lsaether", "html_url": "https://github.com/lsaether", "followers_url": "https://api.github.com/users/lsaether/followers", "following_url": "https://api.github.com/users/lsaether/following{/other_user}", "gists_url": "https://api.github.com/users/lsaether/gists{/gist_id}", "starred_url": "https://api.github.com/users/lsaether/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lsaether/subscriptions", "organizations_url": "https://api.github.com/users/lsaether/orgs", "repos_url": "https://api.github.com/users/lsaether/repos", "events_url": "https://api.github.com/users/lsaether/events{/privacy}", "received_events_url": "https://api.github.com/users/lsaether/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-08T09:30:00Z", "updated_at": "2018-12-12T09:47:38Z", "closed_at": "2018-12-12T09:47:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b4\r\n* pyethereum Version: none\r\n* OS: 4.18.16-arch1-1-ARCH\r\n* Python Version (python --version): 3.7.1\r\n\r\n### What's your issue about?\r\n\r\nWhile implementing the https://github.com/ethereum/EIPs/issues/777 specification as a Vyper contract I was unable to due to the collision of the specification's `send` method with the reserved keyword `send` in Vyper used for sending ether. Trying to declare a `send` method on a contract throws the following exception: \r\n```\r\nvyper.exceptions.FunctionDeclarationException: Function name invalid: send\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nI see three options:\r\n- Vyper changes the `send` keyword to something else.\r\n- ERC777 changes the `send` method to something else.\r\n- As @mcdee suggested in the ERC777 issue, Vyper could allow for a contract method `send` that is different from the built-in function `send`. These two would be disambiguated by the way in which they are invoked. The built-in function could retain the naked invocation `send <address, amount>`  while a method declared on the contract would be invoked with `self.send()`. From the external point of view only the contract method would be accessible.\r\n \r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/25539605/48189251-0bca0080-e340-11e8-93e3-e26e2f80a20f.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1068/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1065", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1065/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1065/events", "html_url": "https://github.com/vyperlang/vyper/issues/1065", "id": 378288115, "node_id": "MDU6SXNzdWUzNzgyODgxMTU=", "number": 1065, "title": "Unit Mismatch error for wei_value operation", "user": {"login": "eltNEG", "id": 22221987, "node_id": "MDQ6VXNlcjIyMjIxOTg3", "avatar_url": "https://avatars.githubusercontent.com/u/22221987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eltNEG", "html_url": "https://github.com/eltNEG", "followers_url": "https://api.github.com/users/eltNEG/followers", "following_url": "https://api.github.com/users/eltNEG/following{/other_user}", "gists_url": "https://api.github.com/users/eltNEG/gists{/gist_id}", "starred_url": "https://api.github.com/users/eltNEG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eltNEG/subscriptions", "organizations_url": "https://api.github.com/users/eltNEG/orgs", "repos_url": "https://api.github.com/users/eltNEG/repos", "events_url": "https://api.github.com/users/eltNEG/events{/privacy}", "received_events_url": "https://api.github.com/users/eltNEG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-07T13:30:21Z", "updated_at": "2018-12-20T10:07:47Z", "closed_at": "2018-12-20T10:07:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: https://vyper.online [Wednesday, November 7, 2018]\r\nand\r\n* vyper Version: 0.1.0b4\r\n* pyethereum Version: x.x.x\r\n* OS: linux\r\n* Python Version (python --version): 3.6.6\r\n\r\n### What's your issue about?\r\nUnexpected error while compiling my contract. Check the second to the last line in the snippet below\r\nERROR: `vyper.exceptions.TypeMismatchException: line 177:8 Unit mismatch: {'wei': 1} {}`\r\nWhy do I need to convert amount to wei_value again when it has already been declared in the function argument?\r\nCode:\r\n```\r\n@public\r\n@constant\r\ndef func(amounts: wei_value[100]) -> bool:\r\n    total: wei_value = as_wei_value(0, \"wei\")\r\n\r\n    # calculate total\r\n    for amount in amounts:\r\n        total += amount # Error: mismatch units\r\n\r\n    return True\r\n```\r\n### How can it be fixed?\r\nConvert amount to wei_value\r\n```\r\n@public\r\n@constant\r\ndef func(amounts: wei_value[100]) -> bool:\r\n    total: wei_value = as_wei_value(0, \"wei\")\r\n    \r\n    for amount in amounts:\r\n        total = as_wei_value(amount, \"wei\") # No error\r\n    return True\r\n```\r\n#### Cute Animal Picture\r\n\r\n> cute animal picture\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1043", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1043/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1043/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1043/events", "html_url": "https://github.com/vyperlang/vyper/issues/1043", "id": 367449098, "node_id": "MDU6SXNzdWUzNjc0NDkwOTg=", "number": 1043, "title": "Fix same variable in assignment.", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-06T11:34:11Z", "updated_at": "2018-11-28T16:41:48Z", "closed_at": "2018-11-28T16:41:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: master\r\n\r\n### What's your issue about?\r\nUsing same variable on the left of an assignment as the same which is being created, should not be allowed - it's just confusing.\r\n```python\r\n@public\r\ndef test2(b: uint256) -> uint256:\r\n    a: uint256 = a + b\r\n    return a\r\n```\r\n\r\n#### Cute Animal Picture\r\n![](https://sites.google.com/site/myawesomewebfinds/_/rsrc/1275574898179/cute-fuzzy-animal-pictures/deer%20with%20friends.jpg)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1043/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1031", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1031/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1031/events", "html_url": "https://github.com/vyperlang/vyper/issues/1031", "id": 363311552, "node_id": "MDU6SXNzdWUzNjMzMTE1NTI=", "number": 1031, "title": "Bug: Unit types not always enforced in private calls from default function", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-24T20:39:50Z", "updated_at": "2019-01-04T15:15:43Z", "closed_at": "2019-01-04T15:15:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: https://github.com/jacqueswww/vyper/tree/901_less_gas_for_private_functions\r\n\r\nIdk if this issue is specific to #901, seems likely it was around before.\r\n\r\n### Issue\r\nUnit types not always enforced in `@private` calls from `__default__()`\r\n\r\nHere is the relevant section of Uniswap code that lead me to the bug: \r\n```python\r\n@private\r\ndef ethToToken(eth_sold: uint256(wei), min_tokens: uint256(wei), deadline: timestamp, buyer: address, recipient: address) -> uint256(wei):\r\n    token_reserve: uint256 = self.token.balanceOf(self)\r\n    tokens_bought: uint256(wei) = self.getInputPrice(eth_sold, self.balance, as_wei_value(token_reserve, 'wei'))\r\n    # [unrelated code removed for brevity]\r\n    return tokens_bought\r\n\r\n@public\r\n@payable\r\ndef __default__():\r\n    # BUG: second parameter does not use as_wei_value() but function compiles and passes tests\r\n    self.ethToToken(msg.value, 1, block.timestamp, msg.sender, msg.sender)\r\n\r\n@public\r\n@payable\r\ndef ethToTokenSwap(min_tokens: uint256(wei), deadline: timestamp) -> uint256(wei):\r\n    return self.ethToToken(msg.value, min_tokens, deadline, msg.sender, msg.sender)\r\n```\r\n\r\nAs you can see, the second parameter of ethToToken() has unit type `wei`. However passing in a unitless `uint256`, without using `as_wei_value()` works when called from the `__default()__` function.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/9343483/45977690-573a8080-c018-11e8-8c28-47702ecab634.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1023", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1023/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1023/events", "html_url": "https://github.com/vyperlang/vyper/issues/1023", "id": 360474390, "node_id": "MDU6SXNzdWUzNjA0NzQzOTA=", "number": 1023, "title": "Unhandled Exception with Unbalanced Parens", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-14T22:33:48Z", "updated_at": "2018-09-24T16:18:32Z", "closed_at": "2018-09-24T16:18:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Version Information\r\n* vyper Version: 0.2.0-beta.2\r\n\r\n### What's your issue about?\r\nMissing a parenthesis results in a somewhat intuitive error (for those who don't now how compilers work):\r\n```python\r\n@public\r\ndef foo():\r\n    convert(\r\n\r\n# Returns \"tokenize.TokenError: ('EOF in multi-line statement', (4, 0))\" when compiled\r\n```\r\n\r\n### How can it be fixed?\r\nWe should catch this error and parse the location so that we can more accurately report it to users.\r\n\r\n#### Cute Animal Picture\r\n![pug eating pizza](http://cdn6.whiskeyriff.com/wp-content/uploads/dog-eating-pizza.jpg)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1021", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1021/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1021/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1021/events", "html_url": "https://github.com/vyperlang/vyper/issues/1021", "id": 360174721, "node_id": "MDU6SXNzdWUzNjAxNzQ3MjE=", "number": 1021, "title": "Make vyper compiler output deterministic", "user": {"login": "evgeniuz", "id": 108400, "node_id": "MDQ6VXNlcjEwODQwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/108400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evgeniuz", "html_url": "https://github.com/evgeniuz", "followers_url": "https://api.github.com/users/evgeniuz/followers", "following_url": "https://api.github.com/users/evgeniuz/following{/other_user}", "gists_url": "https://api.github.com/users/evgeniuz/gists{/gist_id}", "starred_url": "https://api.github.com/users/evgeniuz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evgeniuz/subscriptions", "organizations_url": "https://api.github.com/users/evgeniuz/orgs", "repos_url": "https://api.github.com/users/evgeniuz/repos", "events_url": "https://api.github.com/users/evgeniuz/events{/privacy}", "received_events_url": "https://api.github.com/users/evgeniuz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-14T06:36:39Z", "updated_at": "2018-09-17T11:50:50Z", "closed_at": "2018-09-17T11:50:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b2 (installed from snap)\r\n* OS: linux\r\n\r\n### What's your issue about?\r\n\r\nAs you can see in following example, when multiple formats are specified their output order is unpredictable.\r\n\r\n```\r\nevgeniuz@evgeniuz-laptop:~/src$ vyper -fabi,bytecode,bytecode_runtime contract.vy \r\n[{\"name\": \"process\", \"outputs\": [], \"inputs\": [], \"constant\": false, \"payable\": true, \"type\": \"function\", \"gas\": 178}]\r\n0x6100ad56600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263c33fb87760005114156100a357005b60006000fd5b6100046100ad036100046000396100046100ad036000f3\r\n0x600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263c33fb87760005114156100a357005b60006000fd\r\nevgeniuz@evgeniuz-laptop:~/src$ vyper -fabi,bytecode,bytecode_runtime contract.vy \r\n0x600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263c33fb87760005114156100a357005b60006000fd\r\n0x6100ad56600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263c33fb87760005114156100a357005b60006000fd5b6100046100ad036100046000396100046100ad036000f3\r\n[{\"name\": \"process\", \"outputs\": [], \"inputs\": [], \"constant\": false, \"payable\": true, \"type\": \"function\", \"gas\": 178}]\r\n```\r\n\r\nThis makes it less efficient to integrate vyper into automation, as to get three formats I need to run vyper three times, instead of just once and then parsing the output.\r\n\r\n#### Cute Animal Picture\r\n\r\n![](https://i.redd.it/gatquryg44i11.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1021/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1010", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1010/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1010/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1010/events", "html_url": "https://github.com/vyperlang/vyper/issues/1010", "id": 356324237, "node_id": "MDU6SXNzdWUzNTYzMjQyMzc=", "number": 1010, "title": "bytearray type system is buggy when concatenating", "user": {"login": "prestwich", "id": 10149425, "node_id": "MDQ6VXNlcjEwMTQ5NDI1", "avatar_url": "https://avatars.githubusercontent.com/u/10149425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prestwich", "html_url": "https://github.com/prestwich", "followers_url": "https://api.github.com/users/prestwich/followers", "following_url": "https://api.github.com/users/prestwich/following{/other_user}", "gists_url": "https://api.github.com/users/prestwich/gists{/gist_id}", "starred_url": "https://api.github.com/users/prestwich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prestwich/subscriptions", "organizations_url": "https://api.github.com/users/prestwich/orgs", "repos_url": "https://api.github.com/users/prestwich/repos", "events_url": "https://api.github.com/users/prestwich/events{/privacy}", "received_events_url": "https://api.github.com/users/prestwich/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-02T23:57:58Z", "updated_at": "2018-09-03T20:43:08Z", "closed_at": "2018-09-03T20:43:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b2\r\n* pyethereum Version: 1.0.0\r\n* OS: ubuntu 16.04\r\n* Python Version (python --version): 3.6.6.\r\n* Environment (output of `pip freeze`):\r\n\r\n```\r\naiohttp==2.3.10\r\nasn1crypto==0.24.0\r\nasync-lru==0.1.0\r\nasync-timeout==3.0.0\r\natomicwrites==1.2.1\r\nattrdict==2.0.0\r\nattrs==18.2.0\r\nbackcall==0.1.0\r\ncertifi==2018.8.24\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncoincurve==7.1.0\r\ncryptography==2.3.1\r\ncytoolz==0.9.0.1\r\ndecorator==4.3.0\r\neth-abi==1.2.0\r\neth-account==0.3.0\r\neth-bloom==1.0.0\r\neth-hash==0.1.4\r\neth-keyfile==0.5.1\r\neth-keys==0.2.0b3\r\neth-rlp==0.1.2\r\neth-tester==0.1.0b28\r\neth-typing==1.3.0\r\neth-utils==1.2.1\r\nhexbytes==0.1.0\r\nidna==2.7\r\nidna-ssl==1.1.0\r\nipython==6.5.0\r\nipython-genutils==0.2.0\r\njedi==0.12.1\r\nlru-dict==1.1.6\r\nlxml==4.2.4\r\nmore-itertools==4.3.0\r\nmultidict==4.3.1\r\nnetdisco==2.0.0\r\nnetifaces==0.10.7\r\nparsimonious==0.8.0\r\nparso==0.3.1\r\npexpect==4.6.0\r\npickleshare==0.7.4\r\npluggy==0.7.1\r\nplyvel==1.0.4\r\nprompt-toolkit==1.0.15\r\nptyprocess==0.6.0\r\npy==1.6.0\r\npy-ecc==1.4.3\r\npy-evm==0.2.0a26\r\npycparser==2.18\r\npycryptodome==3.6.6\r\npyethash==0.1.27\r\npyethereum==1.0.0\r\nPygments==2.2.0\r\npysha3==1.0.2\r\npytest==3.7.4\r\npython-dateutil==2.7.3\r\nrequests==2.19.1\r\nrlp==1.0.2\r\nsemantic-version==2.6.0\r\nsimplegeneric==0.8.1\r\nsix==1.11.0\r\ntoolz==0.9.0\r\ntraitlets==4.3.2\r\ntrie==1.3.8\r\nuPnPClient==0.0.8\r\nurllib3==1.23\r\nvyper==0.1.0b2\r\nwcwidth==0.1.7\r\nweb3==4.5.0\r\nwebsockets==6.0\r\nyarl==1.2.6\r\nzeroconf==0.20.0\r\n```\r\n\r\n### What's your issue about?\r\n\r\nFunctions using `concat` fail to compile with the correct return size.\r\n\r\n\r\n### Actual \r\nCompiling the following fails:\r\n```Python\r\n@public\r\n@constant\r\ndef insert_into_bytes(_bytes: bytes[32], _byte: bytes[1], _idx: int128) -> bytes[32]\r\n    _after: int128 = 31 - _idx\r\n    return concat(\r\n        slice(_bytes, start=0, len=_idx),\r\n        _byte,\r\n        slice(_bytes, start=_idx, len=_after))\r\n```\r\n\r\n```Python\r\n$ pipenv run vyper -f 'abi' contracts/slice.vy\r\n\r\nvyper.exceptions.TypeMismatchException: line 25: Cannot cast from greater max-length 65 to shorter max-length 32\r\n    return concat(\r\n-----------^\r\n```\r\n\r\nCompiling the following succeeds:\r\n```\r\n@public\r\n@constant\r\ndef insert_into_bytes(_bytes: bytes[32], _byte: bytes[1], _idx: int128) -> bytes[65]:\r\n    _after: int128 = 31 - _idx\r\n    return concat(\r\n        slice(_bytes, start=0, len=_idx),\r\n        _byte,\r\n        slice(_bytes, start=_idx, len=_after))\r\n```\r\n```Python\r\ndef test_insert_into_bytes(c):\r\n    print(\r\n        c.insert_into_bytes(\r\n            bytes(range(200, 232)),\r\n            b'\\xff',\r\n            18)\r\n        )\r\n\r\n# Gives output:\r\n# b'\\xc8\\xc9\\xca\\xcb\\xcc\\xcd\\xce\\xcf\\xd0\\xd1\\xd2\\xd3\\xd4\\xd5\\xd6\\xd7\\xd8\\xd9\\xff\\xda\\xdb\\xdc\\xdd\\xde\\xdf\\xe0\\xe1\\xe2\\xe3\\xe4\\xe5\\xe6'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1010/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1006", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1006/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1006/events", "html_url": "https://github.com/vyperlang/vyper/issues/1006", "id": 354563709, "node_id": "MDU6SXNzdWUzNTQ1NjM3MDk=", "number": 1006, "title": "Types not enforced on tuple return - bug", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-28T04:09:30Z", "updated_at": "2019-01-15T08:16:25Z", "closed_at": "2019-01-15T08:16:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to compile:\r\n```python\r\n@public\r\ndef getTime() -> uint256:\r\n    return block.timestamp\r\n```\r\nrightfully returns the error \r\n```\r\nvyper.exceptions.TypeMismatchException: line 3: \r\nReturn type units mismatch uint256(sec, positional) uint256\r\n```\r\n\r\nHowever, this compiles just fine:\r\n```python\r\n@public\r\ndef getTimeAndBalance() -> (bool, address):\r\n    return block.timestamp, self.balance\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/1006/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/999", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/999/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/999/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/999/events", "html_url": "https://github.com/vyperlang/vyper/issues/999", "id": 351782901, "node_id": "MDU6SXNzdWUzNTE3ODI5MDE=", "number": 999, "title": "`not` operation can be applied to values other than bools", "user": {"login": "nrryuya", "id": 22876645, "node_id": "MDQ6VXNlcjIyODc2NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22876645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrryuya", "html_url": "https://github.com/nrryuya", "followers_url": "https://api.github.com/users/nrryuya/followers", "following_url": "https://api.github.com/users/nrryuya/following{/other_user}", "gists_url": "https://api.github.com/users/nrryuya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrryuya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrryuya/subscriptions", "organizations_url": "https://api.github.com/users/nrryuya/orgs", "repos_url": "https://api.github.com/users/nrryuya/repos", "events_url": "https://api.github.com/users/nrryuya/events{/privacy}", "received_events_url": "https://api.github.com/users/nrryuya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-18T02:29:11Z", "updated_at": "2018-09-11T13:14:42Z", "closed_at": "2018-09-11T13:14:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Simple Summary\r\n`not` operation should be applied to only bools for simplicity and security.\r\n\r\n## Abstract\r\nNow `not` operation can be applied to not only `bool` but also other types like `int128`, `uint256`, `address`, `bytes`.\r\n(The code below can be compiled in [vyper.online](https://vyper.online/))\r\n\r\n![image](https://user-images.githubusercontent.com/22876645/44295085-d97aab00-a2dc-11e8-8bc6-4cf87664438d.png)\r\n\r\n\r\nHowever, `not` operation should be applied to only `bool`.\r\n\r\n## Motivation\r\nI think \"bool operations can only be applied to bools\" is a simple design. In addition, it can prevent unexpected behavior. For example, when developers(like me) might make a mistake and code like `not n in [1, 2, 3]` but she means `not(n in [1, 2, 3])` actually, the first code is compiled and have different semantics.\r\n\r\n## Specification\r\nCompiler doesn't allow `not` operation used for the variables whose type is other than `bool`.\r\n\r\n## Backwards Compatibility\r\nThe codes in which `not` is used for the variables whose type is other than `bool` will not be compiled anymore.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/999/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/981", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/981/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/981/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/981/events", "html_url": "https://github.com/vyperlang/vyper/issues/981", "id": 347659755, "node_id": "MDU6SXNzdWUzNDc2NTk3NTU=", "number": 981, "title": "Blockhash() accepts negative integers", "user": {"login": "maurelian", "id": 23033765, "node_id": "MDQ6VXNlcjIzMDMzNzY1", "avatar_url": "https://avatars.githubusercontent.com/u/23033765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maurelian", "html_url": "https://github.com/maurelian", "followers_url": "https://api.github.com/users/maurelian/followers", "following_url": "https://api.github.com/users/maurelian/following{/other_user}", "gists_url": "https://api.github.com/users/maurelian/gists{/gist_id}", "starred_url": "https://api.github.com/users/maurelian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maurelian/subscriptions", "organizations_url": "https://api.github.com/users/maurelian/orgs", "repos_url": "https://api.github.com/users/maurelian/repos", "events_url": "https://api.github.com/users/maurelian/events{/privacy}", "received_events_url": "https://api.github.com/users/maurelian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-05T01:07:09Z", "updated_at": "2018-08-22T15:27:14Z", "closed_at": "2018-08-22T15:27:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\nvyper.online\r\n\r\n### What's your issue about?\r\n\r\nThis line should cause a compiler error:\r\n\r\n`    self.a = blockhash(-20)`\r\n\r\n### How can it be fixed?\r\n\r\nBlock numbers should be uint256. \r\n\r\nAlso, note that the `BLOCKHASH` opcode puts a 0 on the stack if the looked for block number is greater than or equal to the current block number or more than 256 blocks behind the current block.\r\n\r\nThis is a dangerous hole. I'm not sure the best way to plug it. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/981/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/969", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/969/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/969/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/969/events", "html_url": "https://github.com/vyperlang/vyper/issues/969", "id": 345441565, "node_id": "MDU6SXNzdWUzNDU0NDE1NjU=", "number": 969, "title": "Allow lesser length array to be passed to external calls.", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-07-28T11:30:52Z", "updated_at": "2019-07-22T15:57:49Z", "closed_at": "2019-07-22T15:57:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\nAllow an array of lesser length to be passed to functions.\r\n\r\n```python\r\ncontract A:\r\n    def test(b: address[4]): modifying\r\n...\r\na: address[2]\r\nA(x).test(a) \r\n```\r\n\r\nShould work.\r\n\r\n#### Cute Animal Picture\r\n![](https://static.boredpanda.com/blog/wp-content/uuuploads/cute-baby-animals/cute-baby-animals-31.jpg)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/969/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/955", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/955/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/955/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/955/events", "html_url": "https://github.com/vyperlang/vyper/issues/955", "id": 341528671, "node_id": "MDU6SXNzdWUzNDE1Mjg2NzE=", "number": 955, "title": "Functions, Exception: (\"Can't return type %s as part of tuple\", <class 'vyper.types.types.ListType'>)", "user": {"login": "ehanoc", "id": 1436105, "node_id": "MDQ6VXNlcjE0MzYxMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1436105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehanoc", "html_url": "https://github.com/ehanoc", "followers_url": "https://api.github.com/users/ehanoc/followers", "following_url": "https://api.github.com/users/ehanoc/following{/other_user}", "gists_url": "https://api.github.com/users/ehanoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehanoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehanoc/subscriptions", "organizations_url": "https://api.github.com/users/ehanoc/orgs", "repos_url": "https://api.github.com/users/ehanoc/repos", "events_url": "https://api.github.com/users/ehanoc/events{/privacy}", "received_events_url": "https://api.github.com/users/ehanoc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554964, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-16T13:54:04Z", "updated_at": "2020-01-25T15:03:22Z", "closed_at": "2020-01-25T15:03:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm working on a sample game to demonstrate some proof of concepts. Including, showing both versions of the contract (Solidity & Vyper) so i can show a comparison of building and usage. \r\n\r\n### What's your issue about?\r\nI'm trying to convert a solidity contract into Vyper. \r\n\r\nCan't seem to return the same bag of values. \r\n\r\nFor the following vyper function : \r\n\r\n```\r\n@public\r\n@constant\r\ndef getStoryNode(id: uint256) -> (uint256, bytes[256], bytes[256], address, uint256[256]):\r\n    return (self.stories_nodes[id].id, self.stories_nodes[id].title, self.stories_nodes[id].body, self.stories_nodes[id].owner, self.stories_nodes[id].childNodesIds)\r\n```\r\n\r\nI get the following error when compiling the contract: \r\n`Exception: (\"Can't return type %s as part of tuple\", <class 'vyper.types.types.ListType'>)`\r\n\r\n\r\nSolidity Version : \r\n```\r\n  /**\r\n  * Returns node's id, title, body, owner's address\r\n  */\r\n  function getStoryNode(uint id) public view returns(uint, string, string, address, uint[]) {\r\n      StoryNode storage node = storiesNodes[id];\r\n      return (node.id, node.title, node.body, node.owner, node.childNodesIds);\r\n  }\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nCan stmt.py::parse_return be improved to handle this? Maybe i can do do this myself and submit PR. \r\n\r\n### Extra related questions:\r\n\r\nUnless i missed something in the docs... strings & dynamically sized mappings aren't a thing, right? \r\n\r\n#### Cute Animal Picture\r\n\r\n![lmgsz8bj28a11](https://user-images.githubusercontent.com/1436105/42762314-edd0fc56-8907-11e8-9891-38add85cf89a.jpg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/945", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/945/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/945/events", "html_url": "https://github.com/vyperlang/vyper/issues/945", "id": 340112592, "node_id": "MDU6SXNzdWUzNDAxMTI1OTI=", "number": 945, "title": "Python 3.7 raise an syntax error for generator with a comma", "user": {"login": "vici0", "id": 40628358, "node_id": "MDQ6VXNlcjQwNjI4MzU4", "avatar_url": "https://avatars.githubusercontent.com/u/40628358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vici0", "html_url": "https://github.com/vici0", "followers_url": "https://api.github.com/users/vici0/followers", "following_url": "https://api.github.com/users/vici0/following{/other_user}", "gists_url": "https://api.github.com/users/vici0/gists{/gist_id}", "starred_url": "https://api.github.com/users/vici0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vici0/subscriptions", "organizations_url": "https://api.github.com/users/vici0/orgs", "repos_url": "https://api.github.com/users/vici0/repos", "events_url": "https://api.github.com/users/vici0/events{/privacy}", "received_events_url": "https://api.github.com/users/vici0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-11T06:47:37Z", "updated_at": "2018-07-30T13:30:56Z", "closed_at": "2018-07-30T13:30:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b1\r\n* pyethereum Version: N/A\r\n* OS: osx\r\n* Python Version (python --version): 3.7.0\r\n* Environment (output of `pip freeze`): pip3 freeze\r\naiohttp==2.3.10\r\nappnope==0.1.0\r\nasn1crypto==0.24.0\r\nasync-lru==0.1.0\r\nasync-timeout==3.0.0\r\nattrdict==2.0.0\r\nbackcall==0.1.0\r\ncertifi==2018.4.16\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncoincurve==7.1.0\r\ncryptography==2.2.2\r\ncytoolz==0.9.0.1\r\ndecorator==4.3.0\r\neth-abi==1.1.1\r\neth-account==0.2.3\r\neth-bloom==1.0.0\r\neth-hash==0.1.4\r\neth-keyfile==0.5.1\r\neth-keys==0.2.0b3\r\neth-rlp==0.1.2\r\neth-utils==1.0.3\r\nhexbytes==0.1.0\r\nidna==2.7\r\nidna-ssl==1.1.0\r\nipython==6.4.0\r\nipython-genutils==0.2.0\r\njedi==0.12.1\r\nlru-dict==1.1.6\r\nlxml==4.2.3\r\nmultidict==4.3.1\r\nnetdisco==1.5.0\r\nnetifaces==0.10.7\r\nparsimonious==0.8.0\r\nparso==0.3.1\r\npexpect==4.6.0\r\npickleshare==0.7.4\r\nplyvel==1.0.4\r\nprompt-toolkit==1.0.15\r\nptyprocess==0.6.0\r\npy-ecc==1.4.3\r\npy-evm==0.2.0a18\r\npycparser==2.18\r\npycryptodome==3.6.4\r\npyethash==0.1.27\r\nPygments==2.2.0\r\npysha3==1.0.2\r\npython-dateutil==2.7.3\r\nrequests==2.19.1\r\nrlp==1.0.1\r\nsimplegeneric==0.8.1\r\nsix==1.11.0\r\ntoolz==0.9.0\r\ntraitlets==4.3.2\r\ntrie==1.3.7\r\nuPnPClient==0.0.8\r\nurllib3==1.23\r\nvyper==0.1.0b1\r\nwcwidth==0.1.7\r\nweb3==4.4.1\r\nwebsockets==5.0.1\r\nyarl==1.2.6\r\nzeroconf==0.20.0\r\n\r\n\r\n### What's your issue about?\r\nRun make test for Vyper master branch, report the following error:\r\n\r\n File \"/Users/vici/vyper-env/lib/python3.7/site-packages/vyper-0.1.0b1-py3.7.egg/vyper/parser/parser_utils.py\", line 3, in <module>\r\n  File \"/Users/vici/vyper-env/lib/python3.7/site-packages/py_evm-0.2.0a18-py3.7.egg/evm/__init__.py\", line 14, in <module>\r\n    from evm.chains import (  # noqa: F401\r\n  File \"/Users/vici/vyper-env/lib/python3.7/site-packages/py_evm-0.2.0a18-py3.7.egg/evm/chains/__init__.py\", line 1, in <module>\r\n    from .base import (  # noqa: F401\r\n  File \"/Users/vici/vyper-env/lib/python3.7/site-packages/py_evm-0.2.0a18-py3.7.egg/evm/chains/base.py\", line 630\r\n    (ancestor.hash, ancestor)\r\n    ^\r\nSyntaxError: Generator expression must be parenthesized\r\n\r\n\r\n### How can it be fixed?\r\n.../vyper-env/lib/python3.7/site-packages/py_evm-0.2.0a18-py3.7.egg/evm/chains/base.py\r\n\r\nrecent_ancestors = dict(\r\n            (ancestor.hash, ancestor)\r\n            for ancestor in self.get_ancestors(MAX_UNCLE_DEPTH + 1),\r\n        )\r\n\r\nFIX: remove the comma in generator.\r\n\r\n#### Cute Animal Picture\r\n\r\n![cat](https://user-images.githubusercontent.com/40628358/42554907-25ee967c-8519-11e8-9578-82b39407ecc9.jpg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/936", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/936/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/936/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/936/events", "html_url": "https://github.com/vyperlang/vyper/issues/936", "id": 337244142, "node_id": "MDU6SXNzdWUzMzcyNDQxNDI=", "number": 936, "title": "Unicode characters are allowed to be a part of identifiers", "user": {"login": "rohithpr", "id": 10276811, "node_id": "MDQ6VXNlcjEwMjc2ODEx", "avatar_url": "https://avatars.githubusercontent.com/u/10276811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohithpr", "html_url": "https://github.com/rohithpr", "followers_url": "https://api.github.com/users/rohithpr/followers", "following_url": "https://api.github.com/users/rohithpr/following{/other_user}", "gists_url": "https://api.github.com/users/rohithpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohithpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohithpr/subscriptions", "organizations_url": "https://api.github.com/users/rohithpr/orgs", "repos_url": "https://api.github.com/users/rohithpr/repos", "events_url": "https://api.github.com/users/rohithpr/events{/privacy}", "received_events_url": "https://api.github.com/users/rohithpr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-30T21:29:30Z", "updated_at": "2018-07-16T09:55:21Z", "closed_at": "2018-07-16T09:55:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: Master\r\n* pyethereum Version: x.x.x\r\n* OS: osx/linux/win\r\n* Python Version (python --version):\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\n\r\nIn Vyper, Unicode characters are allowed to be a part of identifiers (variable names, method names, etc.). This could lead to [Homograph attacks](https://en.wikipedia.org/wiki/IDN_homograph_attack) where a piece of code appears to be acting on one variable but is actually acting on some other variable. Unicode characters should probably be disallowed from being a part of identifiers, especially since Vyper aims to be a language that is easy to audit.\r\n\r\n---\r\n\r\nFWIW, Solidity throws an error when I try to name a variable with a unicode character.\r\n\r\nCode:\r\n\r\n```solidity\r\npragma solidity ^0.4.21;\r\n\r\ncontract Foo {\r\n    \r\n    function x(int128 i) public view {\r\n        uint256 Other_Balance = 3; // ASCII O\r\n        \r\n        // a bunch of code\r\n        if (i>0) {\r\n            uint256 \u041ether_Balance = 2; // Unicode \u041e\r\n        }\r\n        \r\n        // a bunch of code\r\n        return Other_Balance; // ASCII O\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n```\r\nbrowser/Untitled5.sol:10:21: ParserError: Expected ';' but got 'ILLEGAL'\r\n            uint256 \u041ether_Balance = 2; // Unicode \u041e\r\n                    ^\r\n```\r\n\r\n---\r\n\r\nSimilar code in Vyper, which compiles without throwing any errors:\r\n\r\n```python\r\n@public\r\ndef fo\u041e(i: int128) -> uint256:\r\n    Other_Balance: uint256 = 3 # ASCII O\r\n    \r\n    # a whole bunch of code\r\n    if i > 0:\r\n        \u041ether_Balance: uint256 = 2 # Unicode \u041e\r\n    \r\n    # a whole bunch of code\r\n\r\n    return Other_Balance # ASCII O\r\n```\r\n\r\n---\r\n\r\n### How can it be fixed?\r\n\r\nDisallow Unicode characters in identifiers.\r\n\r\n#### Cute Animal Picture\r\n\r\n![Baby Elephant](http://kindakind.com/wp-content/uploads/2015/09/animals_elephants_nature_mom_baby_ultra_3840x2160_hd-wallpaper-72234.jpg)", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/936/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/934", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/934/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/934/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/934/events", "html_url": "https://github.com/vyperlang/vyper/issues/934", "id": 337043227, "node_id": "MDU6SXNzdWUzMzcwNDMyMjc=", "number": 934, "title": "Installation error on Arch (eth-pm dependency)", "user": {"login": "travs", "id": 7369273, "node_id": "MDQ6VXNlcjczNjkyNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/7369273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/travs", "html_url": "https://github.com/travs", "followers_url": "https://api.github.com/users/travs/followers", "following_url": "https://api.github.com/users/travs/following{/other_user}", "gists_url": "https://api.github.com/users/travs/gists{/gist_id}", "starred_url": "https://api.github.com/users/travs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/travs/subscriptions", "organizations_url": "https://api.github.com/users/travs/orgs", "repos_url": "https://api.github.com/users/travs/repos", "events_url": "https://api.github.com/users/travs/events{/privacy}", "received_events_url": "https://api.github.com/users/travs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-29T15:30:15Z", "updated_at": "2018-11-08T21:10:28Z", "closed_at": "2018-09-05T15:31:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: not yet installed, just the master branch right now (latest release is `v0.1.0-beta.1`)\r\n* pyethereum Version: x.x.x  (none; is this the issue?)\r\n* OS: osx/linux/win: 4.16.12-1-ARCH\r\n* Python Version (python --version): `Python 3.6.5`\r\n* Environment (output of `pip freeze`): \r\n\r\n```\r\naiohttp==2.3.10\r\nasync-lru==0.1.0\r\ncoincurve==7.1.0\r\ncryptography==2.2.2\r\ncytoolz==0.9.0.1\r\neth-account==0.2.3\r\neth-bloom==1.0.0\r\neth-keys==0.2.0b3\r\neth-utils==1.0.3\r\nhexbytes==0.1.0\r\nipython==6.4.0\r\nlru-dict==1.1.6\r\nnetifaces==0.10.7\r\nplyvel==1.0.4\r\npy-ecc==1.4.3\r\npy-evm==0.2.0a18\r\npyethash==0.1.27\r\npysha3==1.0.2\r\nrequests==2.19.1\r\nrlp==1.0.1\r\ntrie==1.3.7\r\nuPnPClient==0.0.8\r\nvyper==0.1.0b1\r\nweb3==4.4.0\r\nwebsockets==5.0.1\r\n```\r\n\r\n### What's your issue about?\r\n\r\nDownloaded the repo, and tried to install using `make`, as described in the docs.\r\n\r\nThe installation progresses to a point but then gives this error:\r\n\r\n```\r\nProcessing dependencies for vyper==0.1.0b1\r\nSearching for eth-pm==0.1.0-alpha.17\r\nReading https://pypi.org/simple/eth-pm/\r\nNo local packages or working download links found for eth-pm==0.1.0-alpha.17\r\nerror: Could not find suitable distribution for Requirement.parse('eth-pm==0.1.0-alpha.17')\r\nmake: *** [Makefile:4: init] Error 1\r\n```\r\n\r\nDo I need to install `pyethereum` or something? It's listed in the issue template, but didn't see anything in the installation docs.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/927", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/927/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/927/events", "html_url": "https://github.com/vyperlang/vyper/issues/927", "id": 335168934, "node_id": "MDU6SXNzdWUzMzUxNjg5MzQ=", "number": 927, "title": "Literal division returns wrong result", "user": {"login": "ben-kaufman", "id": 10667901, "node_id": "MDQ6VXNlcjEwNjY3OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben-kaufman", "html_url": "https://github.com/ben-kaufman", "followers_url": "https://api.github.com/users/ben-kaufman/followers", "following_url": "https://api.github.com/users/ben-kaufman/following{/other_user}", "gists_url": "https://api.github.com/users/ben-kaufman/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben-kaufman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions", "organizations_url": "https://api.github.com/users/ben-kaufman/orgs", "repos_url": "https://api.github.com/users/ben-kaufman/repos", "events_url": "https://api.github.com/users/ben-kaufman/events{/privacy}", "received_events_url": "https://api.github.com/users/ben-kaufman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-24T10:37:16Z", "updated_at": "2018-07-13T14:31:21Z", "closed_at": "2018-07-13T14:31:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I used ``vyper-run`` on this code:\r\n\r\n```\r\n@public\r\ndef test() -> decimal:\r\n   return 5 / 2\r\n```\r\n\r\nI get the following output:\r\n```\r\n* Calling test()\r\n- Returns:\r\n'5'\r\n- Logs:\r\n```\r\n\r\nWhen the expected result was ``2.5`` instead of ``5``.\r\n\r\nAfter a few more tests with other numbers, it looks like the bug is that ``vyper-run`` prints out the original number before the division. So ``7 / 3`` returns 7. I am not sure yet if the problem is with ``vyper-run`` or Vyper itself.\r\n\r\nThere is a bug if the result is an ``int`` but is saved as a ``decimal``.\r\n\r\nFor example, the same code as above but with ``10 / 5`` produces ``2E-10``. While it should either produce ``2.0`` or throw an error.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/10667901/41818261-9988ec7c-77b3-11e8-93c5-befd04212eb8.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/927/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/926", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/926/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/926/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/926/events", "html_url": "https://github.com/vyperlang/vyper/issues/926", "id": 335119014, "node_id": "MDU6SXNzdWUzMzUxMTkwMTQ=", "number": 926, "title": "Bug report: wrong error message in integer division", "user": {"login": "vbuterin", "id": 2230894, "node_id": "MDQ6VXNlcjIyMzA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2230894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vbuterin", "html_url": "https://github.com/vbuterin", "followers_url": "https://api.github.com/users/vbuterin/followers", "following_url": "https://api.github.com/users/vbuterin/following{/other_user}", "gists_url": "https://api.github.com/users/vbuterin/gists{/gist_id}", "starred_url": "https://api.github.com/users/vbuterin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vbuterin/subscriptions", "organizations_url": "https://api.github.com/users/vbuterin/orgs", "repos_url": "https://api.github.com/users/vbuterin/repos", "events_url": "https://api.github.com/users/vbuterin/events{/privacy}", "received_events_url": "https://api.github.com/users/vbuterin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-06-23T17:51:47Z", "updated_at": "2018-07-13T14:31:18Z", "closed_at": "2018-07-13T14:31:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\n> from vyper import compiler\r\n> compiler.compile(\"@public\\ndef foo():\\n  z:int128 = 5 / 2\")\r\nvyper.exceptions.TypeMismatchException: line 3: Invalid type, expected: int128\r\n  z:int128 = 5 / 2\r\n```\r\n\r\nThe \"expected\" type should be `decimal`, not `int128`.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/924", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/924/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/924/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/924/events", "html_url": "https://github.com/vyperlang/vyper/issues/924", "id": 334886022, "node_id": "MDU6SXNzdWUzMzQ4ODYwMjI=", "number": 924, "title": "Method_id function should return bytes.", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-22T13:52:37Z", "updated_at": "2018-07-23T07:56:00Z", "closed_at": "2018-07-23T07:56:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\nCurrently the `method_id` function return a custom BaseType which makes it not possible to interact with other parts of vyper.\r\n\r\nConsider using either `bytes[4]` or 'bytes32'.\r\nOr even better add parameter which supports both?\r\n\r\n```python\r\nmethod_id('transfer(address,uint256)', bytes32)\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n^.^", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/924/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/924/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/918", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/918/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/918/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/918/events", "html_url": "https://github.com/vyperlang/vyper/issues/918", "id": 334123785, "node_id": "MDU6SXNzdWUzMzQxMjM3ODU=", "number": 918, "title": "Allow docblocks on functions", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-20T15:08:44Z", "updated_at": "2018-07-12T10:22:24Z", "closed_at": "2018-07-12T10:22:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"vyper-bin\", line 56, in <module>\r\n    print(optimizer.optimize(parse_to_lll(code)))\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 991, in parse_to_lll\r\n    return parse_tree_to_lll(code, kode)\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 464, in parse_tree_to_lll\r\n    o, otherfuncs, _globals, sigs, external_contracts, origcode, _custom_units, defaultfunc, runtime_only\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 417, in parse_other_functions\r\n    sub.append(parse_func(_def, _globals, {**{'self': sigs}, **external_contracts}, origcode, _custom_units))  # noqa E999\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 554, in parse_func\r\n    ['seq'] + clampers + [parse_body(c, context) for c in code.body] + ['stop']\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 554, in <listcomp>\r\n    ['seq'] + clampers + [parse_body(c, context) for c in code.body] + ['stop']\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 572, in parse_body\r\n    return parse_stmt(code, context)\r\n  File \"/home/jacques/projects/vyper/vyper/parser/parser.py\", line 760, in parse_stmt\r\n    return Stmt(stmt, context).lll_node\r\n  File \"/home/jacques/projects/vyper/vyper/parser/stmt.py\", line 68, in __init__\r\n    self.lll_node = self.stmt_table[stmt_type]()\r\n  File \"/home/jacques/projects/vyper/vyper/parser/stmt.py\", line 75, in expr\r\n    return Stmt(self.stmt.value, self.context).lll_node\r\n  File \"/home/jacques/projects/vyper/vyper/parser/stmt.py\", line 72, in __init__\r\n    raise StructureException(\"Unsupported statement type: %s\" % type(stmt), stmt)\r\nvyper.exceptions.StructureException: line 5: Unsupported statement type: <class '_ast.Str'>\r\n ````\r\n\r\n\r\n#### Cute Animal Picture\r\n![](https://cdn4.littlethings.com/app/uploads/2017/05/cute-dog-big-ears-600x600.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/918/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/915", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/915/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/915/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/915/events", "html_url": "https://github.com/vyperlang/vyper/issues/915", "id": 333813665, "node_id": "MDU6SXNzdWUzMzM4MTM2NjU=", "number": 915, "title": "Unexpected return data", "user": {"login": "maurelian", "id": 23033765, "node_id": "MDQ6VXNlcjIzMDMzNzY1", "avatar_url": "https://avatars.githubusercontent.com/u/23033765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maurelian", "html_url": "https://github.com/maurelian", "followers_url": "https://api.github.com/users/maurelian/followers", "following_url": "https://api.github.com/users/maurelian/following{/other_user}", "gists_url": "https://api.github.com/users/maurelian/gists{/gist_id}", "starred_url": "https://api.github.com/users/maurelian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maurelian/subscriptions", "organizations_url": "https://api.github.com/users/maurelian/orgs", "repos_url": "https://api.github.com/users/maurelian/repos", "events_url": "https://api.github.com/users/maurelian/events{/privacy}", "received_events_url": "https://api.github.com/users/maurelian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-19T19:48:58Z", "updated_at": "2018-06-26T13:05:44Z", "closed_at": "2018-06-26T13:05:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Version Information\r\n\r\n* vyper Version: 0.1.0b1\r\n\r\n* OS: osx\r\n* Python Version (python --version): 3.6.1\r\n* Environment (output of `pip freeze`): \r\n\r\n### What's your issue about?\r\n\r\nThis is my contract: \r\n\r\n```python\r\n@public \r\ndef onERC721Received(_from: address ,_tokenId: uint256, _data: bytes[164]) -> (bytes[4]):\r\n    return '\\xf0\\xb9\\xe5\\xba'\r\n```\r\n\r\nI wasn't getting the response I'd expected when using in a test suite, so I ran the `deployedBytecode` with the geth packaged evm-cli. \r\n\r\n`$ evm --code 60003560... --input f0b9e5ba run`\r\n\r\nThe output is:\r\n\r\n```\r\n0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000004f0b9e5ba00000000000000000000000000000000000000000000000000000000\r\n```\r\n\r\nWhereas I would have expected 4 byte return value of f0b9efba.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/915/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/915/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/902", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/902/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/902/events", "html_url": "https://github.com/vyperlang/vyper/issues/902", "id": 333017220, "node_id": "MDU6SXNzdWUzMzMwMTcyMjA=", "number": 902, "title": "Remove the words \"experimental\" and \"alpha\" in relation to Vyper", "user": {"login": "fulldecent", "id": 382183, "node_id": "MDQ6VXNlcjM4MjE4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fulldecent", "html_url": "https://github.com/fulldecent", "followers_url": "https://api.github.com/users/fulldecent/followers", "following_url": "https://api.github.com/users/fulldecent/following{/other_user}", "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}", "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions", "organizations_url": "https://api.github.com/users/fulldecent/orgs", "repos_url": "https://api.github.com/users/fulldecent/repos", "events_url": "https://api.github.com/users/fulldecent/events{/privacy}", "received_events_url": "https://api.github.com/users/fulldecent/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 895812894, "node_id": "MDU6TGFiZWw4OTU4MTI4OTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/documentation", "name": "documentation", "color": "fcbdea", "default": true, "description": "Documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-16T21:45:12Z", "updated_at": "2018-07-31T15:35:31Z", "closed_at": "2018-07-31T15:35:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We are having a healthy discussion in ERC/721 which has mentioned Vyper.\r\n\r\nSome members of the Vyper community are that discussion.\r\n\r\nSome people in that discussion are stating that Vyper is no longer experimental nor alpha.\r\n\r\nI think here is the best place to consider that question so I am opening this issue.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/902/reactions", "total_count": 4, "+1": 1, "-1": 0, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/893", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/893/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/893/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/893/events", "html_url": "https://github.com/vyperlang/vyper/issues/893", "id": 332027204, "node_id": "MDU6SXNzdWUzMzIwMjcyMDQ=", "number": 893, "title": "Add check for payable", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-13T14:42:53Z", "updated_at": "2018-06-21T16:38:16Z", "closed_at": "2018-06-21T16:38:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\nAdd assert / check using `callvalue` if a function is not payable. Disallowing sending to a non-payable function.\r\n\r\n### How can it be fixed?\r\n\r\n\r\n#### Cute Animal Picture\r\n^.^\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/893/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/888", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/888/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/888/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/888/events", "html_url": "https://github.com/vyperlang/vyper/issues/888", "id": 331542499, "node_id": "MDU6SXNzdWUzMzE1NDI0OTk=", "number": 888, "title": "Disallow int128->int128 conversion.", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-12T11:11:29Z", "updated_at": "2018-06-15T11:22:43Z", "closed_at": "2018-06-15T11:22:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nDisallow`int128` to be converted to `int128`, follows https://github.com/ethereum/vyper/pull/882.\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n![](https://peopledotcom.files.wordpress.com/2011/06/panda-660.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/888/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/879", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/879/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/879/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/879/events", "html_url": "https://github.com/vyperlang/vyper/issues/879", "id": 330220886, "node_id": "MDU6SXNzdWUzMzAyMjA4ODY=", "number": 879, "title": "Calling convert() without assigning the result to a variable causes an error", "user": {"login": "rohithpr", "id": 10276811, "node_id": "MDQ6VXNlcjEwMjc2ODEx", "avatar_url": "https://avatars.githubusercontent.com/u/10276811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohithpr", "html_url": "https://github.com/rohithpr", "followers_url": "https://api.github.com/users/rohithpr/followers", "following_url": "https://api.github.com/users/rohithpr/following{/other_user}", "gists_url": "https://api.github.com/users/rohithpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohithpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohithpr/subscriptions", "organizations_url": "https://api.github.com/users/rohithpr/orgs", "repos_url": "https://api.github.com/users/rohithpr/repos", "events_url": "https://api.github.com/users/rohithpr/events{/privacy}", "received_events_url": "https://api.github.com/users/rohithpr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-07T10:56:19Z", "updated_at": "2018-06-18T10:20:44Z", "closed_at": "2018-06-18T10:20:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* vyper Version: Master\r\n* pyethereum Version: x.x.x (Not sure how to find this. I built the environment using make in a clean ubuntu install so it's probably the latest. The version of pyethereum shouldn't matter for this issue anyway.)\r\n* OS: Ubuntu\r\n* Python Version (python --version): 3.6.3\r\n* Environment (output of `pip freeze`):\r\n\r\n### What's your issue about?\r\n\r\nCode:\r\n\r\n```python\r\n@public\r\ndef foo() -> uint256:\r\n    convert(2, 'uint256')\r\n    return convert(2, 'uint256')\r\n```\r\n\r\nOn running `vyper filename.py` throws the error: `AttributeError: 'Name' object has no attribute 'value'`\r\n\r\nIn `parser.py:parse_func`\r\n`code.body` is: `[<_ast.Expr object at 0x7f4ff8fce160>, <_ast.Return object at 0x7f4ff8fce358>]`\r\n\r\nBecause of the Expression, execution reaches `stmt.py:Stmt.call` and an error is thrown in the line `elif isinstance(self.stmt.func.value, ast.Attribute) and self.stmt.func.value.attr in self.context.sigs:` because `self.stmt.func` is an object of type `Name` and it does not have an attribute `value`.\r\n\r\nOn assigning the return value of `convert()` to a variable, `code.body` in `parser.py:parse_func` becomes `[<_ast.AnnAssign object at 0x7ff077c7c160>, <_ast.Return object at 0x7ff077c7c3c8>]` and this error does not occur.\r\n\r\n---\r\n\r\nThe issue can also be replicated by calling `max()`, `min()` and other such functions and not assigning their return value to a variable.\r\n\r\n---\r\n\r\nThis issue does not occur if the return value of a `self.method()` is not assigned to a variable.\r\n\r\n### How can it be fixed?\r\n\r\n- Should code be allowed to call a method but ignore the return value?\r\n- If the above behaviour should not be allowed, the error message should be better.\r\n\r\n#### Cute Animal Picture\r\n\r\n```\r\n                           ____\r\n  ________________________/ O  \\___/\r\n <_/_\\_/_\\_/_\\_/_\\_/_\\_/_______/   \\\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/879/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/871", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/871/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/871/events", "html_url": "https://github.com/vyperlang/vyper/issues/871", "id": 329842155, "node_id": "MDU6SXNzdWUzMjk4NDIxNTU=", "number": 871, "title": "Fix snapcraft", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-06T12:16:25Z", "updated_at": "2018-06-11T10:43:17Z", "closed_at": "2018-06-11T10:43:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\nThere seems to be a problem with conflicting `python3`  file in snapcraft. Figure it out and make the snap work again.\r\n\r\n```\r\n$ vyper\r\nTraceback (most recent call last):\r\n  File \"/snap/vyper/35/bin/vyper\", line 5, in <module>\r\n    import vyper\r\n  File \"/snap/vyper/35/lib/python3.5/site-packages/vyper/__init__.py\", line 7, in <module>\r\n    raise Exception(\"Requires python3.6+\")  # pragma: no cover\r\nException: Requires python3.6+\r\n\r\n```\r\n### How can it be fixed?\r\n\r\n~\r\n\r\n#### Cute Animal Picture\r\n^.^", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/871/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/867", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/867/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/867/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/867/events", "html_url": "https://github.com/vyperlang/vyper/issues/867", "id": 329153795, "node_id": "MDU6SXNzdWUzMjkxNTM3OTU=", "number": 867, "title": "Add uint256 decimal support for convert", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 479554964, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-04T17:46:24Z", "updated_at": "2018-06-08T12:48:00Z", "closed_at": "2018-06-08T12:48:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nConvert should allow conversion of uint256 -> decimal.\r\n\r\n### How can it be fixed?\r\n\r\nconvert.py:57\r\n\r\n#### Cute Animal Picture\r\n^.^", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/867/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/865", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/865/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/865/events", "html_url": "https://github.com/vyperlang/vyper/issues/865", "id": 329150456, "node_id": "MDU6SXNzdWUzMjkxNTA0NTY=", "number": 865, "title": "Convert units should carry", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-04T17:35:34Z", "updated_at": "2018-06-08T11:29:39Z", "closed_at": "2018-06-08T11:29:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nAs @djrtwo found.\r\n\r\n`convert` should preserve the unit that have been set, currently it doesn't:\r\n\r\n```\r\nb: uint256(meter) = 1234\r\na: int128 = convert(b, \"int128\") # should error\r\na: int128(meter) = convert(b, \"int128\") # should work\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n![](https://i.ytimg.com/vi/gMRScklkpa4/hqdefault.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/865/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/860", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/860/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/860/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/860/events", "html_url": "https://github.com/vyperlang/vyper/issues/860", "id": 328658712, "node_id": "MDU6SXNzdWUzMjg2NTg3MTI=", "number": 860, "title": "Vypercoin testing fails", "user": {"login": "mattermat", "id": 13764798, "node_id": "MDQ6VXNlcjEzNzY0Nzk4", "avatar_url": "https://avatars.githubusercontent.com/u/13764798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattermat", "html_url": "https://github.com/mattermat", "followers_url": "https://api.github.com/users/mattermat/followers", "following_url": "https://api.github.com/users/mattermat/following{/other_user}", "gists_url": "https://api.github.com/users/mattermat/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattermat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattermat/subscriptions", "organizations_url": "https://api.github.com/users/mattermat/orgs", "repos_url": "https://api.github.com/users/mattermat/repos", "events_url": "https://api.github.com/users/mattermat/events{/privacy}", "received_events_url": "https://api.github.com/users/mattermat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-06-01T20:57:47Z", "updated_at": "2018-06-04T21:54:54Z", "closed_at": "2018-06-04T21:54:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nHi. I'm testing the vypercoin contract code, but it fails with the following message:\r\n\r\n`evm.exceptions.ValidationError: Invalid transaction nonce\r\n\r\nenv/lib/python3.6/site-packages/py_evm-0.2.0a22-py3.6.egg/evm/vm/forks/frontier/validation.py:21: ValidationError`\r\n\r\nI think it's due to the new testing framework [#815](https://github.com/ethereum/vyper/pull/815).\r\n\r\n#### Cute Animal Picture\r\n\r\n![tuna-funny-dog-tunameltsmyheart-4](https://user-images.githubusercontent.com/13764798/40863126-10a9a53e-65ef-11e8-8d17-a7a5f60bebdc.jpg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/860/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/853", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/853/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/853/events", "html_url": "https://github.com/vyperlang/vyper/issues/853", "id": 327741373, "node_id": "MDU6SXNzdWUzMjc3NDEzNzM=", "number": 853, "title": "Incorrect 'less than' comparison.", "user": {"login": "maurelian", "id": 23033765, "node_id": "MDQ6VXNlcjIzMDMzNzY1", "avatar_url": "https://avatars.githubusercontent.com/u/23033765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maurelian", "html_url": "https://github.com/maurelian", "followers_url": "https://api.github.com/users/maurelian/followers", "following_url": "https://api.github.com/users/maurelian/following{/other_user}", "gists_url": "https://api.github.com/users/maurelian/gists{/gist_id}", "starred_url": "https://api.github.com/users/maurelian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maurelian/subscriptions", "organizations_url": "https://api.github.com/users/maurelian/orgs", "repos_url": "https://api.github.com/users/maurelian/repos", "events_url": "https://api.github.com/users/maurelian/events{/privacy}", "received_events_url": "https://api.github.com/users/maurelian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-30T13:52:55Z", "updated_at": "2018-06-01T10:53:16Z", "closed_at": "2018-06-01T10:53:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nIn the contract below, the `lessThanMaxUint` function returns false incorrectly.\r\n\r\nI've also tested this with smaller numbers (ie. `20 < 30`) and the behaviour is correct, so I suspect there is an issue with this operation on uint256 vs. int128.\r\n\r\n```\r\nmax_uint_256: public(uint256)\r\n\r\n@public\r\ndef __init__():\r\n    self.max_uint_256 = 2*(2**255-1)+1\r\n\r\n@public \r\ndef lessThanMaxUint() -> (bool):\r\n  return 20 < self.max_uint_256 # returns false\r\n\r\n@public \r\ndef notEqualToMaxUint() -> (bool):\r\n  return 20 != self.max_uint_256 # returns true\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/853/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/839", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/839/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/839/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/839/events", "html_url": "https://github.com/vyperlang/vyper/issues/839", "id": 326495112, "node_id": "MDU6SXNzdWUzMjY0OTUxMTI=", "number": 839, "title": "vyper-run command doesn't work", "user": {"login": "ben-kaufman", "id": 10667901, "node_id": "MDQ6VXNlcjEwNjY3OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben-kaufman", "html_url": "https://github.com/ben-kaufman", "followers_url": "https://api.github.com/users/ben-kaufman/followers", "following_url": "https://api.github.com/users/ben-kaufman/following{/other_user}", "gists_url": "https://api.github.com/users/ben-kaufman/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben-kaufman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions", "organizations_url": "https://api.github.com/users/ben-kaufman/orgs", "repos_url": "https://api.github.com/users/ben-kaufman/repos", "events_url": "https://api.github.com/users/ben-kaufman/events{/privacy}", "received_events_url": "https://api.github.com/users/ben-kaufman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-25T12:02:00Z", "updated_at": "2018-05-31T15:24:25Z", "closed_at": "2018-05-31T15:24:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* vyper Version: 0.0.4\r\n* pyethereum Version: 0.2.0a16\r\n* OS: MacOS\r\n* Python Version (python --version): 3.6\r\n\r\n### What's your issue about?\r\n\r\nThe vyper-run command stopped working. I believe it is related to this issue ethereum/web3.py#813\r\n\r\n```\r\n    from rlp.utils import decode_hex, encode_hex, ascii_chr, str_to_bytes\r\nImportError: cannot import name 'decode_hex'\r\n```\r\nWhen downgrading rlp in the py-evm version I got this error:\r\n```\r\nsite-packages/vyper-0.0.4-py3.6.egg/EGG-INFO/scripts/vyper-run\", line 32, in <module>\r\nAttributeError: module 'vyper.compiler' has no attribute 'Compiler'\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nProbably some changes to the vyper-run code or the py-evm version are needed.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/10667901/40543331-8cec9a16-602c-11e8-8fcb-500782433931.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/839/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/838", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/838/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/838/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/838/events", "html_url": "https://github.com/vyperlang/vyper/issues/838", "id": 326451279, "node_id": "MDU6SXNzdWUzMjY0NTEyNzk=", "number": 838, "title": "Map lookup as key fails", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-25T09:38:12Z", "updated_at": "2018-05-29T12:44:05Z", "closed_at": "2018-05-29T12:44:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nWhen using one map lookup for another, it always returns 0.\r\n\r\nFails:\r\n```python\r\ntest_map1: {\r\n    a: int128,\r\n    c: int128\r\n}[int128]\r\n\r\n\r\ntest_map2: {\r\n    b: int128,\r\n    c: int128\r\n}[int128]\r\n\r\n\r\n@public\r\ndef set():\r\n    self.test_map1[1].a = 333\r\n    self.test_map2[333].b = 111\r\n    self.test_map2[333].c = 111\r\n\r\n\r\n@public\r\ndef get(inp: int128) -> int128:\r\n    return self.test_map2[self.test_map1[inp].a].b\r\n````\r\n\r\nHowever the following works:\r\n```python\r\n# ... snip\r\n@public\r\ndef get(inp: int128) -> int128:\r\n    idx: int128 = self.test_map1[inp].a\r\n    return self.test_map2[self.test_map1[inp].a].b\r\n```\r\n\r\n### How can it be fixed?\r\n\r\nFill this in if you know how to fix it.\r\n\r\n#### Cute Animal Picture\r\n^.^\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/805", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/805/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/805/events", "html_url": "https://github.com/vyperlang/vyper/issues/805", "id": 320307108, "node_id": "MDU6SXNzdWUzMjAzMDcxMDg=", "number": 805, "title": "PyPI version doesn't install", "user": {"login": "ldct", "id": 130362, "node_id": "MDQ6VXNlcjEzMDM2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/130362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldct", "html_url": "https://github.com/ldct", "followers_url": "https://api.github.com/users/ldct/followers", "following_url": "https://api.github.com/users/ldct/following{/other_user}", "gists_url": "https://api.github.com/users/ldct/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldct/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldct/subscriptions", "organizations_url": "https://api.github.com/users/ldct/orgs", "repos_url": "https://api.github.com/users/ldct/repos", "events_url": "https://api.github.com/users/ldct/events{/privacy}", "received_events_url": "https://api.github.com/users/ldct/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-04T14:56:35Z", "updated_at": "2018-07-27T04:13:08Z", "closed_at": "2018-07-27T04:13:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The old version (0.0.2) available on PyPI (https://pypi.org/project/eth-vyper/) specifies a dependency on an old version of `pyethereum` which has a `setup.py` that is incompatible with current versions of pip. Hence, vyper cannot be installed from PyPI.\r\n\r\nThis issue was actually fixed in https://github.com/ethereum/vyper/pull/741, so uploading a new release to PyPI that includes that should solve this problem.\r\n\r\n```\r\npython3 -m venv .\r\nsource bin/activate\r\npip3 install eth-vyper\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nCollecting eth-vyper\r\n  Using cached https://files.pythonhosted.org/packages/9d/b8/7c9005feca3b5825234e020903cd5d5749653090b37b7bb34e16d6c63c89/eth_vyper-0.0.2-py2.py3-none-any.whl\r\nCollecting ethereum==2.1.0 (from eth-vyper)\r\n  Using cached https://files.pythonhosted.org/packages/5c/0d/1ca85eb4ddcac8ef9612d7f635ebb37b7e651a86a4c03705c7b681d168b6/ethereum-2.1.0.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    error in ethereum setup command: 'tests_require' must be a string or list of strings containing valid project/version requirement specifiers; Unordered types are not allowed\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/j5/vj2hckyj3vb81ymzw7h3fmnw0000gp/T/pip-build-c8hedbf5/ethereum/\r\nYou are using pip version 9.0.3, however version 10.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n```\r\n#### Cute Animal Picture\r\n\r\n> put a cute animal picture here.\r\n\r\n![image](https://user-images.githubusercontent.com/130362/39634823-5de7e160-4fee-11e8-8e12-f14de87c1b5c.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/805/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/802", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/802/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/802/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/802/events", "html_url": "https://github.com/vyperlang/vyper/issues/802", "id": 319952903, "node_id": "MDU6SXNzdWUzMTk5NTI5MDM=", "number": 802, "title": "clamp has different behavior on checking the lowerbound and the upperbound", "user": {"login": "yzhang90", "id": 5641590, "node_id": "MDQ6VXNlcjU2NDE1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhang90", "html_url": "https://github.com/yzhang90", "followers_url": "https://api.github.com/users/yzhang90/followers", "following_url": "https://api.github.com/users/yzhang90/following{/other_user}", "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions", "organizations_url": "https://api.github.com/users/yzhang90/orgs", "repos_url": "https://api.github.com/users/yzhang90/repos", "events_url": "https://api.github.com/users/yzhang90/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhang90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-03T14:47:00Z", "updated_at": "2018-05-10T15:57:45Z", "closed_at": "2018-05-10T15:57:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\n`clamp` is compiled to following EVM bytecode:\r\n```\r\no.extend(compile_to_assembly(code.args[2], withargs, break_dest, height + 3))\r\no.extend(['SWAP1', comp1, 'PC', 'JUMPI'])\r\no.extend(['DUP1', 'SWAP2', 'SWAP1', comp2, 'ISZERO'])\r\no.extend(get_revert())\r\n```\r\nWhen the value is greater than the upper-bound, the code jump to an invalid pc. When the value is smaller than the lower-bound, the code use REVERT to revert the state. \r\n\r\n\r\n### How can it be fixed?\r\n\r\nIt's better to use REVERT on both cases.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/5641590/39583950-dda264f4-4eb6-11e8-8e6a-54278c481932.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/802/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/800", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/800/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/800/events", "html_url": "https://github.com/vyperlang/vyper/issues/800", "id": 319358927, "node_id": "MDU6SXNzdWUzMTkzNTg5Mjc=", "number": 800, "title": "Payable methods with Contract Interfaces", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-01T23:14:47Z", "updated_at": "2018-05-16T11:31:22Z", "closed_at": "2018-05-16T11:31:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am experimenting with external calls using contract interfaces, and can't seem to figure out payable functions. Adding a test example would be helpful. https://github.com/ethereum/vyper/blob/9eebb7c575545fcf880d815b9c888665dccbea51/tests/parser/features/external_contracts/test_external_contract_calls.py#L1\r\n\r\nThis works: \r\n\r\n```python\r\n# FACTORY CONTRACT\r\nclass Exchange():\r\n    def setup(token_addr: address) -> bool: pass\r\n\r\n@public\r\ndef launch_exchange(token_addr: address) -> address:\r\n    exchange_addr: address = create_with_code_of(self.exchange_template)\r\n    assert Exchange(exchange_addr).setup(token_addr) == True\r\n\r\n# EXCHANGE CONTRACT\r\n@public\r\ndef setup(token_addr: address) -> bool:\r\n    self.token_address = token_addr\r\n    return True\r\n```\r\nI tried making the functions payable, and changing the call to \r\n```python\r\nassert Exchange(exchange_addr).setup(token_addr, value=msg.value) == True\r\n```\r\nand the function still executes, but no ETH is transferred. I'm wondering if this is possible, and what the proper syntax is.\r\n\r\n\r\n#### EDIT: forgot cute animal picture\r\n\r\n![image](https://user-images.githubusercontent.com/9343483/39498064-1c2a2eee-4d74-11e8-8b52-680dadef2bce.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/773", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/773/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/773/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/773/events", "html_url": "https://github.com/vyperlang/vyper/issues/773", "id": 313078727, "node_id": "MDU6SXNzdWUzMTMwNzg3Mjc=", "number": 773, "title": "create_with_code_of() does not execute __init__", "user": {"login": "haydenadams", "id": 9343483, "node_id": "MDQ6VXNlcjkzNDM0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenadams", "html_url": "https://github.com/haydenadams", "followers_url": "https://api.github.com/users/haydenadams/followers", "following_url": "https://api.github.com/users/haydenadams/following{/other_user}", "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions", "organizations_url": "https://api.github.com/users/haydenadams/orgs", "repos_url": "https://api.github.com/users/haydenadams/repos", "events_url": "https://api.github.com/users/haydenadams/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 751622094, "node_id": "MDU6TGFiZWw3NTE2MjIwOTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Discussion", "name": "VIP: Discussion", "color": "000000", "default": false, "description": "Used to denote VIPs and more complex issues that are waiting discussion in a meeting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-04-10T20:32:43Z", "updated_at": "2022-06-15T12:35:15Z", "closed_at": "2022-06-14T19:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "* vyper Version: 0.0.4\r\n* pyethereum Version: 2.3.1\r\n* OS: macOS\r\n* Python Version: 3.6.4\r\n\r\n### What's your issue about?\r\nMy post might be unnecessary if https://github.com/ethereum/vyper/issues/649 is going to be the standard factory pattern. \r\n\r\nI'm working on a factory contract that uses `create_with_code_of()` to launch exchange contracts. \r\n\r\n<img width=\"575\" alt=\"screen shot 2018-04-10 at 4 17 01 pm\" src=\"https://user-images.githubusercontent.com/9343483/38581361-a6637a84-3cda-11e8-9c05-870bdf25ed1f.png\">\r\n\r\n\r\nIdeally I want the contract that is launched to know the address of the factory. Since `create_with_code_of()` does not support passing arguments, I tried setting it in the constructor of the exchange:\r\n\r\n<img width=\"324\" alt=\"screen shot 2018-04-10 at 3 19 21 pm\" src=\"https://user-images.githubusercontent.com/9343483/38580892-2a42abd8-3cd9-11e8-9cf5-f0f5f382897c.png\">\r\n\r\nunfortunately, this does not work:\r\n\r\n<img width=\"861\" alt=\"screen shot 2018-04-10 at 4 19 59 pm\" src=\"https://user-images.githubusercontent.com/9343483/38581504-1b7fdb6e-3cdb-11e8-9671-bcb38d189c08.png\">\r\n\r\n\r\n### How can it be fixed?\r\n\r\nAllow contracts created using `create_with_code_of()` to recognize msg.sender in the constructor. \r\n\r\nOr not if https://github.com/ethereum/vyper/issues/649 is implemented\r\n\r\nOr I'm missing something/there is a better factory pattern I should be using that allows passing parameters?\r\n\r\n\r\n#### Cute Animal Picture\r\n\r\n![cute-kittens-67-57b32a998544a__6051](https://user-images.githubusercontent.com/9343483/38581697-98c0923a-3cdb-11e8-8238-d14faaf9afdd.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/768", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/768/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/768/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/768/events", "html_url": "https://github.com/vyperlang/vyper/issues/768", "id": 312604869, "node_id": "MDU6SXNzdWUzMTI2MDQ4Njk=", "number": 768, "title": "Improve gas cost for `shift` function", "user": {"login": "yzhang90", "id": 5641590, "node_id": "MDQ6VXNlcjU2NDE1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhang90", "html_url": "https://github.com/yzhang90", "followers_url": "https://api.github.com/users/yzhang90/followers", "following_url": "https://api.github.com/users/yzhang90/following{/other_user}", "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions", "organizations_url": "https://api.github.com/users/yzhang90/orgs", "repos_url": "https://api.github.com/users/yzhang90/repos", "events_url": "https://api.github.com/users/yzhang90/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhang90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-09T16:44:59Z", "updated_at": "2018-04-23T08:07:01Z", "closed_at": "2018-04-23T08:07:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n`shift` is compiled to the following code:\r\n```\r\n   ['if', ['sle', '_s', 0], \r\n          ['div', '_v', ['exp', 2, ['sub', 0, '_s']]], \r\n          ['mul', '_v', ['exp', 2, '_s']]]]],\r\n```\r\nWhen _s == 0, `['div', '_v', ['exp', 2, ['sub', 0, '_s']]] and ['mul', '_v', ['exp', 2, '_s']]]] `are the same. But in the div branch, it need to execute sub which potentially costs more gas. Suggest using slt instead of sle. This will also ease the verification. \r\n\r\n### How can it be fixed?\r\n\r\nchange `sle` to `slt`\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/5641590/38510709-6b8ab7a0-3beb-11e8-9e43-017e08c83777.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/768/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/767", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/767/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/767/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/767/events", "html_url": "https://github.com/vyperlang/vyper/issues/767", "id": 312546171, "node_id": "MDU6SXNzdWUzMTI1NDYxNzE=", "number": 767, "title": "Overflow checking for multiplication", "user": {"login": "yzhang90", "id": 5641590, "node_id": "MDQ6VXNlcjU2NDE1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhang90", "html_url": "https://github.com/yzhang90", "followers_url": "https://api.github.com/users/yzhang90/followers", "following_url": "https://api.github.com/users/yzhang90/following{/other_user}", "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions", "organizations_url": "https://api.github.com/users/yzhang90/orgs", "repos_url": "https://api.github.com/users/yzhang90/repos", "events_url": "https://api.github.com/users/yzhang90/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhang90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-09T14:09:08Z", "updated_at": "2018-04-30T08:52:13Z", "closed_at": "2018-04-30T08:52:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n`NOT` in EVM is bitwise NOT, not logical `NOT`. So the overflow checking for multiplication (`['assert', ['or', ['eq', ['sdiv', 'ans', 'l'], 'r'], ['not', 'l']]]` ) is wrong. Consider the following the test cases:\r\n```\r\ndef test_mul_overflow(t, assert_tx_failed, get_contract_with_gas_estimation, chain):\r\n    mul_code = \"\"\"\r\n\r\n@public\r\ndef _num_mul(x: decimal, y: int128) -> decimal:\r\n    return x * y\r\n\r\n    \"\"\"\r\n\r\n    c = get_contract_with_gas_estimation(mul_code)\r\n\r\n    t.s = chain\r\n    NUM_1 = 85070591730234615865843651857942052864.0\r\n    NUM_2 = 136112946768375385385349842973\r\n\r\n    assert_tx_failed(lambda: c._num_mul(NUM_1, NUM_2))\r\n```\r\n NUM_1 * NUM_2 > 2**127, but no exception is thrown. \r\n\r\n\r\n### How can it be fixed?\r\n\r\nUse `ISZERO` to test whether `l` is zero.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/5641590/38502679-a4b213b8-3bd5-11e8-97dc-f350ff731465.png)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/767/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/767/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/743", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/743/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/743/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/743/events", "html_url": "https://github.com/vyperlang/vyper/issues/743", "id": 310425140, "node_id": "MDU6SXNzdWUzMTA0MjUxNDA=", "number": 743, "title": "byte array argument packing for method doesn't comply with ABI", "user": {"login": "denis-bogdanas", "id": 5214914, "node_id": "MDQ6VXNlcjUyMTQ5MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5214914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denis-bogdanas", "html_url": "https://github.com/denis-bogdanas", "followers_url": "https://api.github.com/users/denis-bogdanas/followers", "following_url": "https://api.github.com/users/denis-bogdanas/following{/other_user}", "gists_url": "https://api.github.com/users/denis-bogdanas/gists{/gist_id}", "starred_url": "https://api.github.com/users/denis-bogdanas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denis-bogdanas/subscriptions", "organizations_url": "https://api.github.com/users/denis-bogdanas/orgs", "repos_url": "https://api.github.com/users/denis-bogdanas/repos", "events_url": "https://api.github.com/users/denis-bogdanas/events{/privacy}", "received_events_url": "https://api.github.com/users/denis-bogdanas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-02T08:12:15Z", "updated_at": "2018-12-19T21:26:23Z", "closed_at": "2018-12-19T21:26:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to ABI specification dynamic part of byte arrays should be encoded like this:\r\n`enc(X) = enc(k) pad_right(X)`\r\n\r\nRight now they are properly encoded for events, but not for methods. For methods byte arrays are not padded to full chunks of 32 bytes, but are encoded like this:\r\n\r\n`enc(X) = enc(k) X`\r\n\r\nCuriously python ethereum API is compatible with this encoding, so this test passes:\r\n\r\n    def test_selfcall_code_zz(get_contract_with_gas_estimation):\r\n        selfcall_code_6 = \"\"\"\r\n    @public\r\n    def hardtest(arg1: bytes <= 64, arg2: bytes <= 64) -> bytes <= 128:\r\n        return concat(arg1, arg2)\r\n        \"\"\"\r\n\r\n        c = get_contract_with_gas_estimation(selfcall_code_6)\r\n        assert c.hardtest(b\"hello\" * 5, b\"hello\" * 10) == b\"hello\" * 15\r\n\r\nLooks like an issue in both ethereum API and Vyper, that will likely cause problems in production. Also harmonizing encoding format will allow using the same algorithm for both event and method args.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/739", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/739/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/739/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/739/events", "html_url": "https://github.com/vyperlang/vyper/issues/739", "id": 310093445, "node_id": "MDU6SXNzdWUzMTAwOTM0NDU=", "number": 739, "title": "Incorrect logging of indexed byte arrays", "user": {"login": "denis-bogdanas", "id": 5214914, "node_id": "MDQ6VXNlcjUyMTQ5MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5214914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denis-bogdanas", "html_url": "https://github.com/denis-bogdanas", "followers_url": "https://api.github.com/users/denis-bogdanas/followers", "following_url": "https://api.github.com/users/denis-bogdanas/following{/other_user}", "gists_url": "https://api.github.com/users/denis-bogdanas/gists{/gist_id}", "starred_url": "https://api.github.com/users/denis-bogdanas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denis-bogdanas/subscriptions", "organizations_url": "https://api.github.com/users/denis-bogdanas/orgs", "repos_url": "https://api.github.com/users/denis-bogdanas/repos", "events_url": "https://api.github.com/users/denis-bogdanas/events{/privacy}", "received_events_url": "https://api.github.com/users/denis-bogdanas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-30T15:25:13Z", "updated_at": "2018-04-10T10:16:02Z", "closed_at": "2018-04-10T10:16:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nLogging indexed byte arrays works either if they have runtime length precisely 3! or are literals.\r\n\r\nHere is a test that fails:\r\n\r\n    def test_event_logging_with_multiple_topics(get_contract_with_gas_estimation, chain, utils):\r\n        loggy_code = \"\"\"\r\n    MyLog: event({arg1: indexed(bytes <= 3), arg2: indexed(bytes <= 4), arg3: indexed(address)})\r\n\r\n    @public\r\n    def foo():\r\n        a : bytes <= 4 = 'home'\r\n        log.MyLog('bar', a, self)\r\n        \"\"\"\r\n\r\n        c = get_contract_with_gas_estimation(loggy_code)\r\n        c.foo()\r\n        logs = chain.head_state.receipts[-1].logs[-1]\r\n        event_id = utils.bytes_to_int(utils.sha3(bytes('MyLog(bytes3,bytes4,address)', 'utf-8')))\r\n        # Event id is always the first topic\r\n        assert logs.topics[0] == event_id\r\n        # Event id is calculated correctly\r\n        assert c.translator.event_data[event_id]\r\n        # Event abi is created correctly\r\n        assert c.translator.event_data[event_id] == (\r\n            {'types': ['bytes3', 'bytes4', 'address'],\r\n            'name': 'MyLog',\r\n            'names': ['arg1', 'arg2', 'arg3'],\r\n            'indexed': [True, True, True],\r\n            'anonymous': False}\r\n        )\r\n        # Event is decoded correctly\r\n        assert c.translator.decode_event(logs.topics, logs.data) == {'arg1': b'bar', 'arg2': b'home', 'arg3': '0x' + c.address.hex(), '_event_type': b'MyLog'}\r\n\r\n\r\n\r\n### How can it be fixed?\r\n\r\nThe issue is in the way `size` is used on these lines:\r\n\r\nhttps://github.com/ethereum/vyper/blob/9eebb7c575545fcf880d815b9c888665dccbea51/vyper/parser/parser.py#L725-L726\r\n\r\n#### Cute Animal Picture\r\n\r\n> put a cute animal picture here.\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/739/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/734", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/734/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/734/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/734/events", "html_url": "https://github.com/vyperlang/vyper/issues/734", "id": 309974907, "node_id": "MDU6SXNzdWUzMDk5NzQ5MDc=", "number": 734, "title": "Errors don't tell me where they occur, e.g.: Typecasting from base type int128(wei) to int128 unavailable", "user": {"login": "jamesray1", "id": 16969914, "node_id": "MDQ6VXNlcjE2OTY5OTE0", "avatar_url": "https://avatars.githubusercontent.com/u/16969914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesray1", "html_url": "https://github.com/jamesray1", "followers_url": "https://api.github.com/users/jamesray1/followers", "following_url": "https://api.github.com/users/jamesray1/following{/other_user}", "gists_url": "https://api.github.com/users/jamesray1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesray1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesray1/subscriptions", "organizations_url": "https://api.github.com/users/jamesray1/orgs", "repos_url": "https://api.github.com/users/jamesray1/repos", "events_url": "https://api.github.com/users/jamesray1/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesray1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-30T04:52:57Z", "updated_at": "2018-04-10T13:03:27Z", "closed_at": "2018-04-10T13:03:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To find the error I have to cut half of the program and see if the error disappears, or not, and if not, cut the other half, and so on, until I find the error.", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/731", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/731/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/731/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/731/events", "html_url": "https://github.com/vyperlang/vyper/issues/731", "id": 309809130, "node_id": "MDU6SXNzdWUzMDk4MDkxMzA=", "number": 731, "title": "Performance issue in event logging implementation", "user": {"login": "denis-bogdanas", "id": 5214914, "node_id": "MDQ6VXNlcjUyMTQ5MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5214914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denis-bogdanas", "html_url": "https://github.com/denis-bogdanas", "followers_url": "https://api.github.com/users/denis-bogdanas/followers", "following_url": "https://api.github.com/users/denis-bogdanas/following{/other_user}", "gists_url": "https://api.github.com/users/denis-bogdanas/gists{/gist_id}", "starred_url": "https://api.github.com/users/denis-bogdanas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denis-bogdanas/subscriptions", "organizations_url": "https://api.github.com/users/denis-bogdanas/orgs", "repos_url": "https://api.github.com/users/denis-bogdanas/repos", "events_url": "https://api.github.com/users/denis-bogdanas/events{/privacy}", "received_events_url": "https://api.github.com/users/denis-bogdanas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-29T15:51:51Z", "updated_at": "2018-04-10T12:38:33Z", "closed_at": "2018-04-10T12:38:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Judging by the code, event arguments that are not byte arrays are packed twice. 2nd packing rewrites the 1st packing. This adds complexity and affects gas consumption.\r\n\r\nRelated to https://github.com/ethereum/vyper/issues/730\r\n\r\n1st place:\r\nhttps://github.com/ethereum/vyper/blob/9eebb7c575545fcf880d815b9c888665dccbea51/vyper/parser/parser.py#L834\r\n\r\n2nd place:\r\nhttps://github.com/ethereum/vyper/blob/9eebb7c575545fcf880d815b9c888665dccbea51/vyper/parser/parser.py#L854", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/730", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/730/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/730/events", "html_url": "https://github.com/vyperlang/vyper/issues/730", "id": 309803917, "node_id": "MDU6SXNzdWUzMDk4MDM5MTc=", "number": 730, "title": "Events with list arguments don't work when list is not 1st arg", "user": {"login": "denis-bogdanas", "id": 5214914, "node_id": "MDQ6VXNlcjUyMTQ5MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5214914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denis-bogdanas", "html_url": "https://github.com/denis-bogdanas", "followers_url": "https://api.github.com/users/denis-bogdanas/followers", "following_url": "https://api.github.com/users/denis-bogdanas/following{/other_user}", "gists_url": "https://api.github.com/users/denis-bogdanas/gists{/gist_id}", "starred_url": "https://api.github.com/users/denis-bogdanas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denis-bogdanas/subscriptions", "organizations_url": "https://api.github.com/users/denis-bogdanas/orgs", "repos_url": "https://api.github.com/users/denis-bogdanas/repos", "events_url": "https://api.github.com/users/denis-bogdanas/events{/privacy}", "received_events_url": "https://api.github.com/users/denis-bogdanas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-29T15:37:39Z", "updated_at": "2018-04-10T10:15:47Z", "closed_at": "2018-04-10T10:15:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "And when list arg is initialized from a variable.\r\n\r\nCreated a pull request with tests that expose the issue:\r\nhttps://github.com/ethereum/vyper/pull/729\r\n\r\nTest cases:\r\n\r\n```python\r\ndef test_2nd_var_list_packing(t, get_last_log, get_contract_with_gas_estimation, chain):\r\n    t.s = chain\r\n    code = \"\"\"\r\nBar: event({arg1: int128, arg2: int128[4]})\r\n\r\n@public\r\ndef foo():\r\n    a: int128[4] = [1, 2, 3, 4]\r\n    log.Bar(10, a)\r\n    \"\"\"\r\n    c = get_contract_with_gas_estimation(code)\r\n\r\n    c.foo()\r\n    assert get_last_log(t, c)[\"arg2\"] == [1, 2, 3, 4]\r\n\r\n\r\ndef test_2nd_var_storage_list_packing(t, get_last_log, get_contract_with_gas_estimation, chain):\r\n    t.s = chain\r\n    code = \"\"\"\r\nBar: event({arg1: int128, arg2: int128[4]})\r\nx: int128[4]\r\n\r\n@public\r\ndef foo():\r\n    log.Bar(10, self.x)\r\n\r\n@public\r\ndef set_list():\r\n    self.x = [1, 2, 3, 4]\r\n    \"\"\"\r\n    c = get_contract_with_gas_estimation(code)\r\n\r\n    c.foo()\r\n    assert get_last_log(t, c)[\"arg2\"] == [0, 0, 0, 0]\r\n    c.set_list()\r\n    c.foo()\r\n    assert get_last_log(t, c)[\"arg2\"] == [1, 2, 3, 4]\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/705", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/705/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/705/events", "html_url": "https://github.com/vyperlang/vyper/issues/705", "id": 306754117, "node_id": "MDU6SXNzdWUzMDY3NTQxMTc=", "number": 705, "title": "Fix convert for nulls in a bytearray", "user": {"login": "jacqueswww", "id": 6917456, "node_id": "MDQ6VXNlcjY5MTc0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacqueswww", "html_url": "https://github.com/jacqueswww", "followers_url": "https://api.github.com/users/jacqueswww/followers", "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}", "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions", "organizations_url": "https://api.github.com/users/jacqueswww/orgs", "repos_url": "https://api.github.com/users/jacqueswww/repos", "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}", "received_events_url": "https://api.github.com/users/jacqueswww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-20T07:24:10Z", "updated_at": "2018-04-10T12:50:14Z", "closed_at": "2018-04-10T12:50:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### What's your issue about?\r\nThere seems to be a strange scenario where parsing a zero byte string cause convert to fail.\r\n\r\n```python\r\n@public\r\ndef zero_bytes(inp: bytes <= 1) -> int128:\r\n    return convert(inp, 'int128')\r\n```\r\nTest case\r\n```python\r\n    assert c.zero_bytes(b'\\x01') == 1\r\n    assert c.zero_bytes(b'\\x00') == 0\r\n```\r\n\r\nSee https://github.com/ethereum/vyper/pull/696 for more details.\r\n\r\n### How can it be fixed?\r\n\r\nBusy investigating\r\n\r\n#### Cute Animal Picture\r\n![](https://img.purch.com/w/660/aHR0cDovL3d3dy5saXZlc2NpZW5jZS5jb20vaW1hZ2VzL2kvMDAwLzAyNC8xODgvb3JpZ2luYWwvc2xlZXBpbmcta2l0dGVuLmpwZw==)\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/698", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/698/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/698/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/698/events", "html_url": "https://github.com/vyperlang/vyper/issues/698", "id": 304082714, "node_id": "MDU6SXNzdWUzMDQwODI3MTQ=", "number": 698, "title": "RLP decoder fails with multiples zero integers", "user": {"login": "dshulyak", "id": 1964576, "node_id": "MDQ6VXNlcjE5NjQ1NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1964576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dshulyak", "html_url": "https://github.com/dshulyak", "followers_url": "https://api.github.com/users/dshulyak/followers", "following_url": "https://api.github.com/users/dshulyak/following{/other_user}", "gists_url": "https://api.github.com/users/dshulyak/gists{/gist_id}", "starred_url": "https://api.github.com/users/dshulyak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dshulyak/subscriptions", "organizations_url": "https://api.github.com/users/dshulyak/orgs", "repos_url": "https://api.github.com/users/dshulyak/repos", "events_url": "https://api.github.com/users/dshulyak/events{/privacy}", "received_events_url": "https://api.github.com/users/dshulyak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-10T16:17:41Z", "updated_at": "2020-06-22T01:11:55Z", "closed_at": "2020-06-22T01:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\nRLP decoder can't parse many zero integers. I don't think that rlp decoder contract is a root cause of this issues, cause i've seen it used with similar data\r\n\r\nSee diff\r\n\r\n```\r\ndiff --git c/tests/parser/functions/rlp/test_rlp_list.py w/tests/parser/functions/rlp/test_rlp_list.py\r\nindex 38c6e3c..5b6c012 100644\r\n--- c/tests/parser/functions/rlp/test_rlp_list.py\r\n+++ w/tests/parser/functions/rlp/test_rlp_list.py\r\n@@ -106,6 +106,8 @@ def yolo(raw_utxo: bytes <= 1024) -> (address, int128, int128):\r\n     assert_tx_failed(lambda: c.too(rlp.encode([b'\\x02'])))\r\n     assert_tx_failed(lambda: c.too(rlp.encode([b'\\x00'])))\r\n     assert c.loo(rlp.encode([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])) == 55\r\n+    assert c.loo(rlp.encode([1, 1, 1, 0, 0, 0, 0, 0, 0, 0])) == 3\r\n+    assert c.loo(rlp.encode([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])) == 0\r\n     assert c.woo(rlp.encode([b'1', b'2', b'3', b'4', b'5', b'6', b'7', b'8', b'9', b'10', b'11', b'12', b'13', b'14', b'15'])) == b'123456789101112131415'\r\n     assert c.yolo(rlp.encode([t.a0, 1, 2])) == ['0x82a978b3f5962a5b0957d9ee9eef472ee55b42f1', 1, 2]\r\n     print('Passed RLP decoder tests')\r\n\r\n```\r\n\r\nBoth of these test cases will fail, but will pass. Very confusing\r\n\r\n```\r\n assert c.loo(rlp.encode([1, 1, 1, 1, 0, 0, 0, 0, 0, 0])) == 4\r\n```", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/698/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/665", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/665/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/665/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/665/events", "html_url": "https://github.com/vyperlang/vyper/issues/665", "id": 295719708, "node_id": "MDU6SXNzdWUyOTU3MTk3MDg=", "number": 665, "title": "Add 'python_requires' to setup.py", "user": {"login": "fubuloubu", "id": 3859395, "node_id": "MDQ6VXNlcjM4NTkzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fubuloubu", "html_url": "https://github.com/fubuloubu", "followers_url": "https://api.github.com/users/fubuloubu/followers", "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}", "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions", "organizations_url": "https://api.github.com/users/fubuloubu/orgs", "repos_url": "https://api.github.com/users/fubuloubu/repos", "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}", "received_events_url": "https://api.github.com/users/fubuloubu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-09T00:57:11Z", "updated_at": "2018-04-16T10:44:44Z", "closed_at": "2018-04-16T10:44:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### What's your issue about?\r\nShould we add `python_requires` to our `setup.py`?\r\nhttps://packaging.python.org/tutorials/distributing-packages/#python-requires\r\n\r\n### How can it be fixed?\r\nIf so, it should be >`python3.6` due to our dependancy on PEP 484\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/665/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/638", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/638/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/638/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/638/events", "html_url": "https://github.com/vyperlang/vyper/issues/638", "id": 290038600, "node_id": "MDU6SXNzdWUyOTAwMzg2MDA=", "number": 638, "title": "constant function allows to call non-constant local function", "user": {"login": "yzhang90", "id": 5641590, "node_id": "MDQ6VXNlcjU2NDE1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhang90", "html_url": "https://github.com/yzhang90", "followers_url": "https://api.github.com/users/yzhang90/followers", "following_url": "https://api.github.com/users/yzhang90/following{/other_user}", "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions", "organizations_url": "https://api.github.com/users/yzhang90/orgs", "repos_url": "https://api.github.com/users/yzhang90/repos", "events_url": "https://api.github.com/users/yzhang90/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhang90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-19T16:47:33Z", "updated_at": "2018-02-06T22:52:26Z", "closed_at": "2018-02-06T22:52:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n\r\n```\r\nf:num\r\n\r\n@public\r\ndef a (x:num)->num:\r\n    self.f = 100\r\n    return x+5\r\n\r\n@constant\r\n@public\r\ndef b():\r\n    p = self.a(10)\r\n```\r\nThis program should be rejected since `b` is a constant function. It should not call `a` which modifies the storage.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/5641590/35161536-24dc6a48-fd06-11e7-843d-0a1b20feea76.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/638/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/637", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/637/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/637/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/637/events", "html_url": "https://github.com/vyperlang/vyper/issues/637", "id": 290037533, "node_id": "MDU6SXNzdWUyOTAwMzc1MzM=", "number": 637, "title": "Limit map key size ", "user": {"login": "yzhang90", "id": 5641590, "node_id": "MDQ6VXNlcjU2NDE1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhang90", "html_url": "https://github.com/yzhang90", "followers_url": "https://api.github.com/users/yzhang90/followers", "following_url": "https://api.github.com/users/yzhang90/following{/other_user}", "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions", "organizations_url": "https://api.github.com/users/yzhang90/orgs", "repos_url": "https://api.github.com/users/yzhang90/repos", "events_url": "https://api.github.com/users/yzhang90/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhang90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}, {"id": 751622094, "node_id": "MDU6TGFiZWw3NTE2MjIwOTQ=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Discussion", "name": "VIP: Discussion", "color": "000000", "default": false, "description": "Used to denote VIPs and more complex issues that are waiting discussion in a meeting"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-01-19T16:44:17Z", "updated_at": "2018-03-01T15:10:40Z", "closed_at": "2018-03-01T15:10:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\n1. In vyper compiler, the key_type of map can only be base type and byte array type, which is inconsistent with the doc(https://github.com/ethereum/vyper/blob/master/docs/types.rst) : \"Here _KeyType can be almost any type except for mappings, a contract, or a struct\".\r\n\r\n2. Assume key type can only be base type and byte array type. I can have the following program:\r\n```\r\na:num[bytes<=100000]\r\n@public\r\ndef __init__():\r\n    self.a[\"absssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss\"] = 1\r\n    pass\r\n```\r\nwill cause the compiler to throw an error \"Can't have a zerovalent argument to an opcode or a pseudo-opcode! seq\", which is weird.\r\n\r\n\r\n### How can it be fixed?\r\n\r\nSince the storage is limited, it's better to restrict the size of the key of the map.\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/5641590/35161380-a92d46f6-fd05-11e7-9148-846a24becb14.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/528", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/528/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/528/events", "html_url": "https://github.com/vyperlang/vyper/issues/528", "id": 277785998, "node_id": "MDU6SXNzdWUyNzc3ODU5OTg=", "number": 528, "title": "Failed to compile on_chain_market_maker.v.py", "user": {"login": "stupidkitten", "id": 33553755, "node_id": "MDQ6VXNlcjMzNTUzNzU1", "avatar_url": "https://avatars.githubusercontent.com/u/33553755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stupidkitten", "html_url": "https://github.com/stupidkitten", "followers_url": "https://api.github.com/users/stupidkitten/followers", "following_url": "https://api.github.com/users/stupidkitten/following{/other_user}", "gists_url": "https://api.github.com/users/stupidkitten/gists{/gist_id}", "starred_url": "https://api.github.com/users/stupidkitten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stupidkitten/subscriptions", "organizations_url": "https://api.github.com/users/stupidkitten/orgs", "repos_url": "https://api.github.com/users/stupidkitten/repos", "events_url": "https://api.github.com/users/stupidkitten/events{/privacy}", "received_events_url": "https://api.github.com/users/stupidkitten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-29T15:00:39Z", "updated_at": "2018-03-01T15:24:18Z", "closed_at": "2018-03-01T15:24:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unable to compile on_chain_market_maker.v.py due to an error:\r\n `Traceback (most recent call last):\r\n  File \"/usr/local/bin/viper\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('viper==0.0.2', 'viper')\r\n  File \"/usr/local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 748, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/usr/local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1524, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/usr/local/lib/python3.6/site-packages/viper-0.0.2-py3.6.egg/EGG-INFO/scripts/viper\", line 31, in <module>\r\n  File \"/usr/local/lib/python3.6/site-packages/viper-0.0.2-py3.6.egg/viper/compiler.py\", line 11, in compile\r\n  File \"/usr/local/lib/python3.6/site-packages/viper-0.0.2-py3.6.egg/viper/parser/parser.py\", line 346, in parse_tree_to_lll\r\n  File \"/usr/local/lib/python3.6/site-packages/viper-0.0.2-py3.6.egg/viper/parser/parser.py\", line 222, in get_contracts_and_defs_and_globals\r\n  File \"/usr/local/lib/python3.6/site-packages/viper-0.0.2-py3.6.egg/viper/parser/parser.py\", line 202, in add_globals_and_events\r\n  File \"/usr/local/lib/python3.6/site-packages/viper-0.0.2-py3.6.egg/viper/types.py\", line 256, in parse_type\r\n    # implements collections.abc.Generator (and does not implement\r\nviper.exceptions.InvalidTypeException: line 4: Base type with units can only be num and decimal\r\ntoken_address: address(ERC20)\r\n---------------^\r\n`\r\n\r\nWhat `ERC20` means in this context? Should I deploy ERC20 contract first? \r\n\r\n* viper Version: 0.0.2\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/528/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/516", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/516/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/516/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/516/events", "html_url": "https://github.com/vyperlang/vyper/issues/516", "id": 276873723, "node_id": "MDU6SXNzdWUyNzY4NzM3MjM=", "number": 516, "title": "Compiler allows a global variable name to be the same as a function name", "user": {"login": "yzhang90", "id": 5641590, "node_id": "MDQ6VXNlcjU2NDE1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhang90", "html_url": "https://github.com/yzhang90", "followers_url": "https://api.github.com/users/yzhang90/followers", "following_url": "https://api.github.com/users/yzhang90/following{/other_user}", "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions", "organizations_url": "https://api.github.com/users/yzhang90/orgs", "repos_url": "https://api.github.com/users/yzhang90/repos", "events_url": "https://api.github.com/users/yzhang90/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhang90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": {"login": "DavidKnott", "id": 17552858, "node_id": "MDQ6VXNlcjE3NTUyODU4", "avatar_url": "https://avatars.githubusercontent.com/u/17552858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidKnott", "html_url": "https://github.com/DavidKnott", "followers_url": "https://api.github.com/users/DavidKnott/followers", "following_url": "https://api.github.com/users/DavidKnott/following{/other_user}", "gists_url": "https://api.github.com/users/DavidKnott/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidKnott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidKnott/subscriptions", "organizations_url": "https://api.github.com/users/DavidKnott/orgs", "repos_url": "https://api.github.com/users/DavidKnott/repos", "events_url": "https://api.github.com/users/DavidKnott/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidKnott/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "DavidKnott", "id": 17552858, "node_id": "MDQ6VXNlcjE3NTUyODU4", "avatar_url": "https://avatars.githubusercontent.com/u/17552858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidKnott", "html_url": "https://github.com/DavidKnott", "followers_url": "https://api.github.com/users/DavidKnott/followers", "following_url": "https://api.github.com/users/DavidKnott/following{/other_user}", "gists_url": "https://api.github.com/users/DavidKnott/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidKnott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidKnott/subscriptions", "organizations_url": "https://api.github.com/users/DavidKnott/orgs", "repos_url": "https://api.github.com/users/DavidKnott/repos", "events_url": "https://api.github.com/users/DavidKnott/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidKnott/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-11-27T00:55:42Z", "updated_at": "2018-04-03T12:39:13Z", "closed_at": "2018-04-03T12:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### What's your issue about?\r\nThe compiler should rejects the following program:\r\n```\r\nfoo: decimal[3] \r\n@public def foo(): \r\n    self.foo = [1, 2.1, 3]\r\n```\r\nbecause the global variable and the function have the same name and it is very confusing to write such program.\r\n\r\n### How can it be fixed?\r\n\r\nChecking name duplication in parser.py\r\n\r\n#### Cute Animal Picture\r\n\r\n![image](https://user-images.githubusercontent.com/5641590/33246550-5bf5ccf4-d2db-11e7-9c3e-c7bde400face.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/516/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/vyperlang/vyper/issues/469", "repository_url": "https://api.github.com/repos/vyperlang/vyper", "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/469/comments", "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/469/events", "html_url": "https://github.com/vyperlang/vyper/issues/469", "id": 274000978, "node_id": "MDU6SXNzdWUyNzQwMDA5Nzg=", "number": 469, "title": "as_num256 failed to reject negative arguments", "user": {"login": "daejunpark", "id": 5491770, "node_id": "MDQ6VXNlcjU0OTE3NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5491770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daejunpark", "html_url": "https://github.com/daejunpark", "followers_url": "https://api.github.com/users/daejunpark/followers", "following_url": "https://api.github.com/users/daejunpark/following{/other_user}", "gists_url": "https://api.github.com/users/daejunpark/gists{/gist_id}", "starred_url": "https://api.github.com/users/daejunpark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daejunpark/subscriptions", "organizations_url": "https://api.github.com/users/daejunpark/orgs", "repos_url": "https://api.github.com/users/daejunpark/repos", "events_url": "https://api.github.com/users/daejunpark/events{/privacy}", "received_events_url": "https://api.github.com/users/daejunpark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 479554962, "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjI=", "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Bug that shouldn't change language semantics when fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-15T01:16:35Z", "updated_at": "2018-01-18T19:27:36Z", "closed_at": "2018-01-18T19:27:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* viper Version: 0.0.2\r\n* pyethereum Version: 2.1.0\r\n* OS: linux\r\n* Python Version (python --version): 3.6\r\n\r\n### What's your issue about?\r\n\r\nAFAIU, `as_num256(x)` should not be allowed when `x < 0`. If so, the compiler should reject at compile-time as much as possible, or insert runtime check to throw a runtime exception. However, the current compiler does not generate the runtime check even if it cannot prove `x >= 0`.\r\n\r\nFor example, `foo()` returns `2**256 - 1`:\r\n```\r\ndef foo() -> num256:\r\n    return as_num256(0 - 1)\r\n```\r\nwhile this:\r\n```\r\ndef foo() -> num256:\r\n    return as_num256(-1)\r\n```\r\nfailed to be parsed:\r\n```\r\nviper.exceptions.InvalidLiteralException: line 2: Number out of range: -1\r\n    return as_num256(-1)\r\n----------------------^\r\n```\r\n\r\nSimilarly, `bar(-1)` returns `2**256 - 1`:\r\n```\r\ndef bar(x: num) -> num256:\r\n    return as_num256(x)\r\n```\r\n\r\n\r\n### How can it be fixed?\r\n\r\n\r\nFor each `as_num256(x)`, generate runtime-check `assert(x >= 0)` when `x >= 0` cannot be proved at compile-time.\r\n\r\n#### Cute Animal Picture\r\n\r\n```\r\n                              ___     _,.--.,_\r\n                           .-~   ~--\"~-.   ._ \"-.\r\n                          /      ./_    Y    \"-. \\\r\n                         Y       :~     !         Y\r\n                         lq p    |     /         .|\r\n                      _   \\. .-, l    /          |j\r\n                     ()\\___) |/   \\_/\";          !\r\n                      \\._____.-~\\  .  ~\\.      ./\r\n                                 Y_ Y_. \"vr\"~  T\r\n                                 (  (    |L    j   -Row\r\n                                 [nn[nn..][nn..]\r\n                             ~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/vyperlang/vyper/issues/469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/469/timeline", "performed_via_github_app": null, "state_reason": "completed"}]