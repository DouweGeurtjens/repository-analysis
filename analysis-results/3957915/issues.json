[{"url": "https://api.github.com/repos/paramiko/paramiko/issues/2226", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/2226/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/2226/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/2226/events", "html_url": "https://github.com/paramiko/paramiko/pull/2226", "id": 1665316502, "node_id": "PR_kwDOAAHTOc5OLIzw", "number": 2226, "title": "Remove codecov dependency", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 4129290538, "node_id": "LA_kwDOAAHTOc72H_kq", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Critical", "name": "Critical", "color": "F55B33", "default": false, "description": "Time-sensitive or severe regression"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-04-12T21:55:45Z", "updated_at": "2023-04-12T23:48:33Z", "closed_at": "2023-04-12T22:59:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/2226", "html_url": "https://github.com/paramiko/paramiko/pull/2226", "diff_url": "https://github.com/paramiko/paramiko/pull/2226.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/2226.patch", "merged_at": null}, "body": "They deleted their package from PyPI, see https://about.codecov.io/blog/message-regarding-the-pypi-package/. I don't see any actual usage of the package.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/2226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/2226/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/2214", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/2214/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/2214/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/2214/events", "html_url": "https://github.com/paramiko/paramiko/issues/2214", "id": 1639543441, "node_id": "I_kwDOAAHTOc5huXKR", "number": 2214, "title": "Threads not cleaned up after an authentication failure", "user": {"login": "darrenfoong", "id": 5250961, "node_id": "MDQ6VXNlcjUyNTA5NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/5250961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darrenfoong", "html_url": "https://github.com/darrenfoong", "followers_url": "https://api.github.com/users/darrenfoong/followers", "following_url": "https://api.github.com/users/darrenfoong/following{/other_user}", "gists_url": "https://api.github.com/users/darrenfoong/gists{/gist_id}", "starred_url": "https://api.github.com/users/darrenfoong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darrenfoong/subscriptions", "organizations_url": "https://api.github.com/users/darrenfoong/orgs", "repos_url": "https://api.github.com/users/darrenfoong/repos", "events_url": "https://api.github.com/users/darrenfoong/events{/privacy}", "received_events_url": "https://api.github.com/users/darrenfoong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-03-24T14:52:37Z", "updated_at": "2023-04-16T12:42:07Z", "closed_at": "2023-04-16T12:42:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Environment**\r\n\r\n- Debian 12 (bookworm)\r\n- Python 3.11.2\r\n- Paramiko 2.12.0\r\n\r\n**Problem**\r\n\r\n- `client.connnect()` does not clean up threads after an authentication failure, e.g. wrong password, despite running `client.close()`.\r\n- This can be replicated with [this file](https://github.com/darrenfoong/paramiko-expts/blob/main/main.py); comment out lines 82-84 accordingly; instructions in lines 7-8.\r\n- With a correct password, the number of threads remains at 1.\r\n- With a wrong password, the number of threads is 6 (1 + 5 attempts?)\r\n- I tried to run an internal function of `Transport` to clean up the threads, but it seems sensitive to timing, so probably a race condition exists.\r\n\r\nI've searched for similar issues; although there are some about memory leaks (e.g. #949), I couldn't find any about thread leaks, nor any about leaks after an authentication failure.\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/2214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/2214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/2130", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/2130/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/2130/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/2130/events", "html_url": "https://github.com/paramiko/paramiko/pull/2130", "id": 1421750432, "node_id": "PR_kwDOAAHTOc5Bdohn", "number": 2130, "title": "Use WaitForSingleObject() for ProxyCommand instead of select() on Windows", "user": {"login": "jun66j5", "id": 42682, "node_id": "MDQ6VXNlcjQyNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/42682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jun66j5", "html_url": "https://github.com/jun66j5", "followers_url": "https://api.github.com/users/jun66j5/followers", "following_url": "https://api.github.com/users/jun66j5/following{/other_user}", "gists_url": "https://api.github.com/users/jun66j5/gists{/gist_id}", "starred_url": "https://api.github.com/users/jun66j5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jun66j5/subscriptions", "organizations_url": "https://api.github.com/users/jun66j5/orgs", "repos_url": "https://api.github.com/users/jun66j5/repos", "events_url": "https://api.github.com/users/jun66j5/events{/privacy}", "received_events_url": "https://api.github.com/users/jun66j5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 4129292244, "node_id": "LA_kwDOAAHTOc72H__U", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20policy%20decision", "name": "Needs policy decision", "color": "6D418D", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-25T02:39:32Z", "updated_at": "2023-01-20T23:05:52Z", "closed_at": "2023-01-20T23:01:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/2130", "html_url": "https://github.com/paramiko/paramiko/pull/2130", "diff_url": "https://github.com/paramiko/paramiko/pull/2130.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/2130.patch", "merged_at": null}, "body": "Proposed fix for #512.\r\n\r\n`select()` with non-socket objects doesn't work on Windows, but `WaitForSingleObject()` is able to wait for stdout of ProxyCommand.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/2130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/2130/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1955", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1955/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1955/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1955/events", "html_url": "https://github.com/paramiko/paramiko/issues/1955", "id": 1088097014, "node_id": "I_kwDOAAHTOc5A2wr2", "number": 1955, "title": "paramiko ssh server (2.9.0) always rejects authentication with rsa-sha2-256 and ssh-rsa publickey algorithms", "user": {"login": "jun66j5", "id": 42682, "node_id": "MDQ6VXNlcjQyNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/42682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jun66j5", "html_url": "https://github.com/jun66j5", "followers_url": "https://api.github.com/users/jun66j5/followers", "following_url": "https://api.github.com/users/jun66j5/following{/other_user}", "gists_url": "https://api.github.com/users/jun66j5/gists{/gist_id}", "starred_url": "https://api.github.com/users/jun66j5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jun66j5/subscriptions", "organizations_url": "https://api.github.com/users/jun66j5/orgs", "repos_url": "https://api.github.com/users/jun66j5/repos", "events_url": "https://api.github.com/users/jun66j5/events{/privacy}", "received_events_url": "https://api.github.com/users/jun66j5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-12-24T02:14:47Z", "updated_at": "2022-01-08T17:39:33Z", "closed_at": "2021-12-24T19:49:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": "resolved", "body": "I tried paramiko 2.9.0 for server purpose, Client with rsa-sha2-512 publickey algorithm works fine, however the server always rejects authentication with rsa-sha2-256 and ssh-rsa publickey algorithms.\r\n\r\nTesting using the following command and demo_server.py:\r\n```\r\n$ ssh -i /tmp/user_rsa_key -o 'PubkeyAcceptedKeyTypes rsa-sha2-256' -o 'PreferredAuthentications publickey' -p 2200 robey@127.0.0.1\r\n```\r\n\r\nThe server mode wrongly ignores the given rsa-sha2-256 in USERAUTH_REQUEST from the client and verity the signature with rsa-sha2-512.\r\n```\r\nDEB [20211224-10:52:46.504] thr=1   paramiko.transport: Compression: none\r\nDEB [20211224-10:52:46.504] thr=1   paramiko.transport: === End of kex handshake ===\r\nDEB [20211224-10:52:46.507] thr=1   paramiko.transport: kex engine KexCurve25519 specified hash_algo <built-in function openssl_sha256>\r\nDEB [20211224-10:52:46.510] thr=1   paramiko.transport: Switch to new keys ...\r\nDEB [20211224-10:52:46.510] thr=1   paramiko.transport: Auth request (type=none) service=ssh-connection, username=robey\r\nINF [20211224-10:52:46.510] thr=1   paramiko.transport: Auth rejected (none).\r\nDEB [20211224-10:52:46.511] thr=1   paramiko.transport: Auth request (type=publickey) service=ssh-connection, username=robey\r\nDEB [20211224-10:52:46.511] thr=1   paramiko.transport: Finalizing pubkey algorithm for key of type u'rsa-sha2-256'\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Our pubkey algorithm list: ['rsa-sha2-512', 'rsa-sha2-256', 'ssh-rsa']\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Server-side algorithm list: [u'']\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Agreed upon 'rsa-sha2-512' pubkey algorithm\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Finalizing pubkey algorithm for key of type 'ssh-rsa'\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Our pubkey algorithm list: ['rsa-sha2-512', 'rsa-sha2-256', 'ssh-rsa']\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Server-side algorithm list: [u'']\r\nDEB [20211224-10:52:46.512] thr=1   paramiko.transport: Agreed upon 'rsa-sha2-512' pubkey algorithm\r\nINF [20211224-10:52:46.512] thr=1   paramiko.transport: Auth rejected: invalid signature\r\nINF [20211224-10:52:46.512] thr=1   paramiko.transport: Auth rejected (publickey).\r\nDEB [20211224-10:52:46.513] thr=1   paramiko.transport: EOF in transport thread\r\n```\r\n\r\nI tried to temporally fix it: jun66j5/paramiko@518e02026.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1882", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1882/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1882/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1882/events", "html_url": "https://github.com/paramiko/paramiko/issues/1882", "id": 949209330, "node_id": "MDU6SXNzdWU5NDkyMDkzMzA=", "number": 1882, "title": "All server-side, non-group-exchange Diffie-Hellman algorithms are using SHA1 even when they shouldn't", "user": {"login": "jeamland", "id": 492857, "node_id": "MDQ6VXNlcjQ5Mjg1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/492857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeamland", "html_url": "https://github.com/jeamland", "followers_url": "https://api.github.com/users/jeamland/followers", "following_url": "https://api.github.com/users/jeamland/following{/other_user}", "gists_url": "https://api.github.com/users/jeamland/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeamland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeamland/subscriptions", "organizations_url": "https://api.github.com/users/jeamland/orgs", "repos_url": "https://api.github.com/users/jeamland/repos", "events_url": "https://api.github.com/users/jeamland/events{/privacy}", "received_events_url": "https://api.github.com/users/jeamland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2021-07-21T00:19:40Z", "updated_at": "2021-08-01T22:10:13Z", "closed_at": "2021-07-23T18:26:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "All the non-group-exchange (i.e. `diffie-hellman-group{1,14,16}-*`) Diffie-Hellman algorithms derive from the KexGroup1 implementation in [paramiko/kex_group1.py](https://github.com/paramiko/paramiko/blob/master/paramiko/kex_group1.py). To support other digest algorithms, KexGroup1 has a `hash_algo` class variable which defaults to `sha1`. In the `_parse_kexdh_reply` method (used when we are the client side of the exchange), this is correctly used like so to generate the hash:\r\n\r\n```\r\n        self.transport._set_K_H(K, self.hash_algo(hm.asbytes()).digest())\r\n```\r\n\r\nThus allowing the sha256 and sha512 variants to substitute those algorithms. Unfortunately in `_parse_kexdh_init` (used when we are the server side of the exchange) we have the sha1 algorithm hardcoded rather than using `self.hash_algo`:\r\n\r\n```\r\n        H = sha1(hm.asbytes()).digest()\r\n```\r\n\r\nThis should almost certainly be:\r\n\r\n```\r\n        H = self.hash_algo(hm.asbytes()).digest()\r\n```", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1882/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1822", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1822/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1822/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1822/events", "html_url": "https://github.com/paramiko/paramiko/pull/1822", "id": 821906779, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg0NjE3NTQz", "number": 1822, "title": "Close socket on failure", "user": {"login": "YoavCohen", "id": 13788181, "node_id": "MDQ6VXNlcjEzNzg4MTgx", "avatar_url": "https://avatars.githubusercontent.com/u/13788181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YoavCohen", "html_url": "https://github.com/YoavCohen", "followers_url": "https://api.github.com/users/YoavCohen/followers", "following_url": "https://api.github.com/users/YoavCohen/following{/other_user}", "gists_url": "https://api.github.com/users/YoavCohen/gists{/gist_id}", "starred_url": "https://api.github.com/users/YoavCohen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YoavCohen/subscriptions", "organizations_url": "https://api.github.com/users/YoavCohen/orgs", "repos_url": "https://api.github.com/users/YoavCohen/repos", "events_url": "https://api.github.com/users/YoavCohen/events{/privacy}", "received_events_url": "https://api.github.com/users/YoavCohen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-03-04T08:46:17Z", "updated_at": "2022-06-04T01:29:29Z", "closed_at": "2022-06-03T23:55:58Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1822", "html_url": "https://github.com/paramiko/paramiko/pull/1822", "diff_url": "https://github.com/paramiko/paramiko/pull/1822.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1822.patch", "merged_at": null}, "body": "As mentioned in socket docs:\r\n\"Sockets are automatically closed when they are garbage-collected, but it is recommended to close() them explicitly, or to use a with statement around them.\"\r\n\r\nResolve #1126", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1822/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1822/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1723", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1723/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1723/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1723/events", "html_url": "https://github.com/paramiko/paramiko/pull/1723", "id": 660297204, "node_id": "MDExOlB1bGxSZXF1ZXN0NDUyMDY1ODgx", "number": 1723, "title": "fix RSA key loading: p and q were being swapped", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2020-07-18T18:18:15Z", "updated_at": "2020-08-31T10:04:25Z", "closed_at": "2020-08-27T20:33:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1723", "html_url": "https://github.com/paramiko/paramiko/pull/1723", "diff_url": "https://github.com/paramiko/paramiko/pull/1723.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1723.patch", "merged_at": null}, "body": "This currently works, because OpenSSL simply re-computes iqmp when it doesn't match the p & q values. However a future pyca/cryptography patch enforces this.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1723/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1723/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1637", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1637/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1637/events", "html_url": "https://github.com/paramiko/paramiko/issues/1637", "id": 577889085, "node_id": "MDU6SXNzdWU1Nzc4ODkwODU=", "number": 1637, "title": "pkey.py _read_private_key: list index out of range (core dumped)", "user": {"login": "poleguy", "id": 13422719, "node_id": "MDQ6VXNlcjEzNDIyNzE5", "avatar_url": "https://avatars.githubusercontent.com/u/13422719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poleguy", "html_url": "https://github.com/poleguy", "followers_url": "https://api.github.com/users/poleguy/followers", "following_url": "https://api.github.com/users/poleguy/following{/other_user}", "gists_url": "https://api.github.com/users/poleguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/poleguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poleguy/subscriptions", "organizations_url": "https://api.github.com/users/poleguy/orgs", "repos_url": "https://api.github.com/users/poleguy/repos", "events_url": "https://api.github.com/users/poleguy/events{/privacy}", "received_events_url": "https://api.github.com/users/poleguy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-09T12:53:27Z", "updated_at": "2022-05-20T19:10:46Z", "closed_at": "2022-05-20T19:10:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "to recreate bug:\r\n````\r\npip install vorta\r\nrm ~/.ssh/.known_hosts.lock\r\ntouch ~/.ssh/.known_hosts.lock\r\nvorta -f\r\n\r\nTraceback (most recent call last):\r\nFile \"/opt/anaconda/anaconda3/bin/vorta\", line 10, in\r\nsys.exit(main())\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/main.py\", line 40, in main\r\napp = VortaApp(sys.argv, single_app=True)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/application.py\", line 59, in init\r\nself.open_main_window_action()\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/application.py\", line 80, in open_main_window_action\r\nself.main_window = MainWindow(self)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/views/main_window.py\", line 37, in init\r\nself.repoTab = RepoTab(self.repoTabSlot)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/views/repo_tab.py\", line 55, in init\r\nself.init_ssh()\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/views/repo_tab.py\", line 88, in init_ssh\r\nkeys = get_private_keys()\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/utils.py\", line 74, in get_private_keys\r\nparsed_key = key_format.from_private_key_file(key_file)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/pkey.py\", line 235, in from_private_key_file\r\nkey = cls(filename=filename, password=password)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/rsakey.py\", line 55, in init\r\nself._from_private_key_file(filename, password)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/rsakey.py\", line 175, in _from_private_key_file\r\ndata = self._read_private_key_file(\"RSA\", filename, password)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/pkey.py\", line 308, in _read_private_key_file\r\ndata = self._read_private_key(tag, f, password)\r\nFile \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/pkey.py\", line 320, in _read_private_key\r\nm = self.BEGIN_TAG.match(lines[start])\r\nIndexError: list index out of range\r\nSegmentation fault (core dumped)\r\n````", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1637/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1612", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1612/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1612/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1612/events", "html_url": "https://github.com/paramiko/paramiko/issues/1612", "id": 555842751, "node_id": "MDU6SXNzdWU1NTU4NDI3NTE=", "number": 1612, "title": "paramiko.ssh_exception.SSHException: encountered RSA key, expected OPENSSH key", "user": {"login": "bse-sja", "id": 15890651, "node_id": "MDQ6VXNlcjE1ODkwNjUx", "avatar_url": "https://avatars.githubusercontent.com/u/15890651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bse-sja", "html_url": "https://github.com/bse-sja", "followers_url": "https://api.github.com/users/bse-sja/followers", "following_url": "https://api.github.com/users/bse-sja/following{/other_user}", "gists_url": "https://api.github.com/users/bse-sja/gists{/gist_id}", "starred_url": "https://api.github.com/users/bse-sja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bse-sja/subscriptions", "organizations_url": "https://api.github.com/users/bse-sja/orgs", "repos_url": "https://api.github.com/users/bse-sja/repos", "events_url": "https://api.github.com/users/bse-sja/events{/privacy}", "received_events_url": "https://api.github.com/users/bse-sja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-01-27T21:26:05Z", "updated_at": "2022-09-12T09:59:12Z", "closed_at": "2022-06-03T17:48:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Providing key file name to client.connect\r\nKey file starts with -----BEGIN RSA PRIVATE KEY----- and end with -----END RSA PRIVATE KEY-----\r\nCode works fine under linux but on windows I get:\r\nparamiko.ssh_exception.SSHException: encountered RSA key, expected OPENSSH key\r\n\r\npython3.8 on windows. python3.6 on linux. \r\nWindows deps:\r\nparamiko==2.7.1\r\n  - bcrypt [required: >=3.1.3, installed: 3.1.7]\r\n    - cffi [required: >=1.1, installed: 1.13.2]\r\n      - pycparser [required: Any, installed: 2.19]\r\n    - six [required: >=1.4.1, installed: 1.14.0]\r\n  - cryptography [required: >=2.5, installed: 2.8]\r\n    - cffi [required: >=1.8,!=1.11.3, installed: 1.13.2]\r\n      - pycparser [required: Any, installed: 2.19]\r\n    - six [required: >=1.4.1, installed: 1.14.0]\r\n  - pynacl [required: >=1.0.1, installed: 1.3.0]\r\n    - cffi [required: >=1.4.1, installed: 1.13.2]\r\n      - pycparser [required: Any, installed: 2.19]\r\n    - six [required: Any, installed: 1.14.0]\r\n\r\nLinux deps:\r\nparamiko==2.7.1\r\n  - bcrypt [required: >=3.1.3, installed: 3.1.7]\r\n    - cffi [required: >=1.1, installed: 1.12.3]\r\n      - pycparser [required: Any, installed: 2.19]\r\n    - six [required: >=1.4.1, installed: 1.12.0]\r\n  - cryptography [required: >=2.5, installed: 2.7]\r\n    - asn1crypto [required: >=0.21.0, installed: 0.24.0]\r\n    - cffi [required: >=1.8,!=1.11.3, installed: 1.12.3]\r\n      - pycparser [required: Any, installed: 2.19]\r\n    - six [required: >=1.4.1, installed: 1.12.0]\r\n  - pynacl [required: >=1.0.1, installed: 1.1.2]\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1599", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1599/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1599/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1599/events", "html_url": "https://github.com/paramiko/paramiko/pull/1599", "id": 550305451, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYzMjM1NjE1", "number": 1599, "title": "fix for list index out of range, breaking vorta", "user": {"login": "poleguy", "id": 13422719, "node_id": "MDQ6VXNlcjEzNDIyNzE5", "avatar_url": "https://avatars.githubusercontent.com/u/13422719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poleguy", "html_url": "https://github.com/poleguy", "followers_url": "https://api.github.com/users/poleguy/followers", "following_url": "https://api.github.com/users/poleguy/following{/other_user}", "gists_url": "https://api.github.com/users/poleguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/poleguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poleguy/subscriptions", "organizations_url": "https://api.github.com/users/poleguy/orgs", "repos_url": "https://api.github.com/users/poleguy/repos", "events_url": "https://api.github.com/users/poleguy/events{/privacy}", "received_events_url": "https://api.github.com/users/poleguy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}, {"id": 4129292244, "node_id": "LA_kwDOAAHTOc72H__U", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20policy%20decision", "name": "Needs policy decision", "color": "6D418D", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-01-15T16:48:00Z", "updated_at": "2022-05-20T19:11:26Z", "closed_at": "2022-05-20T19:10:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1599", "html_url": "https://github.com/paramiko/paramiko/pull/1599", "diff_url": "https://github.com/paramiko/paramiko/pull/1599.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1599.patch", "merged_at": null}, "body": "to recreate bug:\r\n````\r\npip install vorta\r\nrm ~/.ssh/.known_hosts.lock\r\ntouch ~/.ssh/.known_hosts.lock\r\nvorta -f\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda/anaconda3/bin/vorta\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/__main__.py\", line 40, in main\r\n    app = VortaApp(sys.argv, single_app=True)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/application.py\", line 59, in __init__\r\n    self.open_main_window_action()\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/application.py\", line 80, in open_main_window_action\r\n    self.main_window = MainWindow(self)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/views/main_window.py\", line 37, in __init__\r\n    self.repoTab = RepoTab(self.repoTabSlot)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/views/repo_tab.py\", line 55, in __init__\r\n    self.init_ssh()\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/views/repo_tab.py\", line 88, in init_ssh\r\n    keys = get_private_keys()\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/vorta/utils.py\", line 74, in get_private_keys\r\n    parsed_key = key_format.from_private_key_file(key_file)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/pkey.py\", line 235, in from_private_key_file\r\n    key = cls(filename=filename, password=password)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/rsakey.py\", line 55, in __init__\r\n    self._from_private_key_file(filename, password)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/rsakey.py\", line 175, in _from_private_key_file\r\n    data = self._read_private_key_file(\"RSA\", filename, password)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/pkey.py\", line 308, in _read_private_key_file\r\n    data = self._read_private_key(tag, f, password)\r\n  File \"/opt/anaconda/anaconda3/lib/python3.6/site-packages/paramiko/pkey.py\", line 320, in _read_private_key\r\n    m = self.BEGIN_TAG.match(lines[start])\r\nIndexError: list index out of range\r\nSegmentation fault (core dumped)\r\n````\r\n\r\nresolves #1637 ", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1599/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1564", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1564/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1564/events", "html_url": "https://github.com/paramiko/paramiko/issues/1564", "id": 531999767, "node_id": "MDU6SXNzdWU1MzE5OTk3Njc=", "number": 1564, "title": "TypeError: public_bytes() takes exactly 1 argument (3 given)", "user": {"login": "sergeyyatmellanox", "id": 41958309, "node_id": "MDQ6VXNlcjQxOTU4MzA5", "avatar_url": "https://avatars.githubusercontent.com/u/41958309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sergeyyatmellanox", "html_url": "https://github.com/sergeyyatmellanox", "followers_url": "https://api.github.com/users/sergeyyatmellanox/followers", "following_url": "https://api.github.com/users/sergeyyatmellanox/following{/other_user}", "gists_url": "https://api.github.com/users/sergeyyatmellanox/gists{/gist_id}", "starred_url": "https://api.github.com/users/sergeyyatmellanox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sergeyyatmellanox/subscriptions", "organizations_url": "https://api.github.com/users/sergeyyatmellanox/orgs", "repos_url": "https://api.github.com/users/sergeyyatmellanox/repos", "events_url": "https://api.github.com/users/sergeyyatmellanox/events{/privacy}", "received_events_url": "https://api.github.com/users/sergeyyatmellanox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-03T13:51:16Z", "updated_at": "2019-12-18T13:38:53Z", "closed_at": "2019-12-18T13:38:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading from 2.3.3 to 2.6.0 I get this exception when I try to create new connection:\r\n\r\n```\r\nPython 2.7.15 (default, Oct 15 2018, 18:36:25) \r\n[GCC 7.3.1 20180712 (Red Hat 7.3.1-6)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paramiko\r\n>>> conn = paramiko.SSHClient()\r\n>>> conn.set_missing_host_key_policy(paramiko.AutoAddPolicy())\r\n>>> conn.connect(host, username=user, password=password, timeout=150.0)\r\nNo handlers could be found for logger \"paramiko.transport\"\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/lib/python2.7/site-packages/paramiko/client.py\", line 406, in connect\r\n    t.start_client(timeout=timeout)\r\n  File \"/usr/lib/python2.7/site-packages/paramiko/transport.py\", line 660, in start_client\r\n    raise e\r\nTypeError: public_bytes() takes exactly 1 argument (3 given)\r\n```\r\nThe same code works fine in 2.3.3.\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1462", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1462/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1462/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1462/events", "html_url": "https://github.com/paramiko/paramiko/issues/1462", "id": 459297358, "node_id": "MDU6SXNzdWU0NTkyOTczNTg=", "number": 1462, "title": "New (group14/16, sha256/512) kexen server mode broken", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2019-06-21T17:23:59Z", "updated_at": "2021-09-24T15:01:38Z", "closed_at": "2021-09-24T15:01:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A user confirms that they are experiencing this problem for both \"diffie-hellman-group16-sha512\" and \"diffie-hellman-group14-sha256\" KEX algorithms in server mode. The client is 'SSH-2.0-1.82 sshlib: ClientSftp'\r\n\r\nThey later confirmed it's reproducible with OpenSSH-client. See below link & subsequent comments.\r\n\r\n_Originally posted by @miverson in https://github.com/paramiko/paramiko/issues/1455#issuecomment-503372188_", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1306", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1306/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1306/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1306/events", "html_url": "https://github.com/paramiko/paramiko/issues/1306", "id": 365247338, "node_id": "MDU6SXNzdWUzNjUyNDczMzg=", "number": 1306, "title": "Loading an Ed25519Key with a comment of certain lengths results in \"Invalid key\".", "user": {"login": "parke", "id": 1454858, "node_id": "MDQ6VXNlcjE0NTQ4NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1454858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parke", "html_url": "https://github.com/parke", "followers_url": "https://api.github.com/users/parke/followers", "following_url": "https://api.github.com/users/parke/following{/other_user}", "gists_url": "https://api.github.com/users/parke/gists{/gist_id}", "starred_url": "https://api.github.com/users/parke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parke/subscriptions", "organizations_url": "https://api.github.com/users/parke/orgs", "repos_url": "https://api.github.com/users/parke/repos", "events_url": "https://api.github.com/users/parke/events{/privacy}", "received_events_url": "https://api.github.com/users/parke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 10, "created_at": "2018-09-30T18:14:05Z", "updated_at": "2019-06-21T19:53:11Z", "closed_at": "2019-06-21T19:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ed25519Keys with comments of certain lengths cannot be loaded as of paramiko 2.4.2.  Attempts to load these keys result in an \"Invalid key\" exception.\r\n\r\nIf the Ed25519Key is **encrypted** with a passphrase, and if the length of the comment **mod 16 equals 13**, loading the key causes an \"Invalid key\" exception.\r\n\r\nIf the Ed25519Key is **not encrypted** with a passphrase, and if the length of the comment **mod 8 equals 5**, loading the key causes an \"Invalid key\" exception.\r\n\r\nReproduce code:\r\n\r\n    #  generate comments of lengths 0 through 63                                \r\n\r\n    comments  =  []\r\n    for  n  in  range ( 0, 64 ):  comments .append ( '_' * n )\r\n\r\n    def  path  ( n ):  return  '/tmp/key_ed25519_%s' % n\r\n\r\n    #  generate the first key with a comment of length 0                        \r\n\r\n    passphrase  =  ''    #  an empty passphrase is much faster                  \r\n\r\n    os .system ( 'rm -f %s' % path(0) )\r\n    os .system ( 'ssh-keygen -t ed25519 -N \"%s\" -C \"%s\" -f %s > /dev/null' %\r\n                 ( passphrase, comments[0], path(0) ) )\r\n\r\n    #  generate the other keys by copying the first key and                     \r\n    #  then changing the comment                                                \r\n\r\n    for  n  in  range ( 1, len ( comments ) ):\r\n      os .system ( 'cp  %s  %s' % ( path(0), path(n) ) )\r\n      os .system ( 'ssh-keygen -c -P \"%s\" -C \"%s\" -f %s > /dev/null' %\r\n                   ( passphrase, comments[n], path(n) ) )\r\n\r\n    #  see which keys can be loaded                                             \r\n\r\n    for  n  in  range ( 0, len ( comments ) ):\r\n      s  =  comments[n]\r\n      try:\r\n        pkey  =  paramiko .ed25519key .Ed25519Key .from_private_key_file (\r\n          filename=path(n), password=passphrase )\r\n        print ( '    %11s    %2d  %s' % ( '+', len(s), s ) )\r\n      except  paramiko .ssh_exception .SSHException  as  se:\r\n        print ( '    %11s    %2d  %s' % ( str ( se ), len(s), s ) )\r\n\r\nNote:  The above code will take significantly longer to run if a non-empty passphrase is specified.  Presumably the delay is due to the passphrase being repeatedly hashed in order to reduce the effectiveness of brute force passphrase attacks.\r\n\r\nOutput of the above (when run with an empty password):\r\n\r\n              +     0  \r\n              +     1  _\r\n              +     2  __\r\n              +     3  ___\r\n              +     4  ____\r\n    Invalid key     5  _____\r\n              +     6  ______\r\n              +     7  _______\r\n              +     8  ________\r\n              +     9  _________\r\n              +    10  __________\r\n              +    11  ___________\r\n              +    12  ____________\r\n    Invalid key    13  _____________\r\n              +    14  ______________\r\n              +    15  _______________\r\n              +    16  ________________\r\n              +    17  _________________\r\n              +    18  __________________\r\n              +    19  ___________________\r\n              +    20  ____________________\r\n    Invalid key    21  _____________________\r\n              +    22  ______________________\r\n              +    23  _______________________\r\n              +    24  ________________________\r\n              +    25  _________________________\r\n              +    26  __________________________\r\n              +    27  ___________________________\r\n              +    28  ____________________________\r\n    Invalid key    29  _____________________________\r\n              +    30  ______________________________\r\n              +    31  _______________________________\r\n              +    32  ________________________________\r\n              +    33  _________________________________\r\n              +    34  __________________________________\r\n              +    35  ___________________________________\r\n              +    36  ____________________________________\r\n    Invalid key    37  _____________________________________\r\n              +    38  ______________________________________\r\n              +    39  _______________________________________\r\n              +    40  ________________________________________\r\n              +    41  _________________________________________\r\n              +    42  __________________________________________\r\n              +    43  ___________________________________________\r\n              +    44  ____________________________________________\r\n    Invalid key    45  _____________________________________________\r\n              +    46  ______________________________________________\r\n              +    47  _______________________________________________\r\n              +    48  ________________________________________________\r\n              +    49  _________________________________________________\r\n              +    50  __________________________________________________\r\n              +    51  ___________________________________________________\r\n              +    52  ____________________________________________________\r\n    Invalid key    53  _____________________________________________________\r\n              +    54  ______________________________________________________\r\n              +    55  _______________________________________________________\r\n              +    56  ________________________________________________________\r\n              +    57  _________________________________________________________\r\n              +    58  __________________________________________________________\r\n              +    59  ___________________________________________________________\r\n              +    60  ____________________________________________________________\r\n    Invalid key    61  _____________________________________________________________\r\n              +    62  ______________________________________________________________\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1306/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1283", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1283/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1283/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1283/events", "html_url": "https://github.com/paramiko/paramiko/issues/1283", "id": 357857913, "node_id": "MDU6SXNzdWUzNTc4NTc5MTM=", "number": 1283, "title": "[CVE-2018-1000805] Server-side auth vulnerability", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}, {"id": 363568597, "node_id": "MDU6TGFiZWwzNjM1Njg1OTc=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Security", "name": "Security", "color": "b60205", "default": false, "description": null}, {"id": 544727935, "node_id": "MDU6TGFiZWw1NDQ3Mjc5MzU=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Server", "name": "Server", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 9, "created_at": "2018-09-06T22:55:57Z", "updated_at": "2018-10-08T17:04:06Z", "closed_at": "2018-09-19T05:10:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Background\r\n\r\nSecurity vulnerability on Paramiko's server side (**NOT** client side), as reported by Daniel Hoffman of [usd AG](https://www.usd.de/en/).\r\n\r\nI was emailed by the above on 2018.08.31 and (due to being on vacation at the time) was able to review the initial information on today's date (2018.09.06). Daniel submitted the following:\r\n\r\n- sample vanilla-enough server-side code loop (using standard/public API members with no additions besides logging and specification of expected auth mechanisms)\r\n- sample client-side code which exploits the vulnerability in the server (TK)\r\n- detailed explanation of why the exploit works, with references to parts of Paramiko's server-side code\r\n- recommended fix\r\n\r\nAt time of writing, I have done a cursory read of the code snippets & explanation, and confirmed that the sample code does appear to exhibit the described exploit.\r\n\r\n## Actual, post-fix description\r\n\r\nThe crux of it is as follows:\r\n\r\n- The exploit is that malicious clients can trick the Paramiko server into thinking the client is authenticated, without providing any authentication. Yup. That's bad. Real bad.\r\n- The flaw is in the `Transport` class, which is (regrettably IMHO; it's not my design) used unadulterated for both client and server use cases. No subclassing or anything; only a few very minor branch points.\r\n- It, and its symbiont class `AuthHandler`, both maintain a few \"handler tables\" for dispatching on message types within the main event loop; e.g. see `MSG_USERAUTH_REQUEST`, dispatch to an auth request handler method.\r\n- Smart users will already have put the previous facts together to figure out that...the exploit is the client sending `MSG_USERAUTH_SUCCESS` to the server. This is normally a server-to-client only message!\r\n  - The Paramiko server then handles this message using a handler (within `AuthHandler`) _intended_ for use by _client use cases_, because there is no differentiation in play.\r\n  - And because the code is so strongly shared, this ends up flipping a flag saying \"the other end is authenticated\", which the server code continues to reference to determine if the client passed auth.\r\n- Thus, a malicious client can simply send that bogus message to set itself as authenticated for the rest of the session. Open, sesame.\r\n- The fix has been to separate the handler tables into specific client vs server components (given that, at least for the AuthHandler where this all takes place, there are no bidirectionally useful message types) and serve up only one or the other during dispatch, never both.\r\n  - This was done in a backwards compatible manner, replacing static dicts with a dict-returning `@property`.\r\n- Due to expediency, I have not yet expanded this fix to the other couple of tables involved, but my guess is that the AuthHandler's table was the one that needed it most; past the auth step, any incorrect messages should just result in errors from the server and not exploitable server state.\r\n- The fix has been backported to Paramiko 2.0 and up.\r\n\r\n## TODO\r\n\r\n- [x] take up Daniel on his offer to create a CVE; less work for me, but also, a security company has more experience with that process than I do, namely \"any at all\"\r\n- [x] double check the details of the vulnerability so that I understand it more deeply\r\n- [x] consider whether the suggested fix is valid (it has to do with Paramiko's reuse of code across client/server use cases)\r\n- [ ] ~confirm exploit & fix are both valid to 1.17.x/1.18.x (at present I am still considering 1.17.x to be pseudo-LTS and getting bugfixes, though this will soon cease) and up~ _- nope, 2.0 and up, sorry folks. it's gotta happen sometime_\r\n- [x] test, patch, confirm\r\n- [x] changelog entry\r\n  - **NOTE:** may want to wait for CVE filing if not done yet, so at least this one commit has the CVE number in it? also consider a rebase to add it to the main patch commit/s\r\n- [x] merge up to all branches\r\n- [x] push & release at once so fix is live\r\n- [x] update this ticket with my notes/real description\r\n- [x] send a security notice out via Tidelift as well as Twitter", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1283/reactions", "total_count": 7, "+1": 5, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1257", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1257/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1257/events", "html_url": "https://github.com/paramiko/paramiko/issues/1257", "id": 344781360, "node_id": "MDU6SXNzdWUzNDQ3ODEzNjA=", "number": 1257, "title": "Exception list doesn't match the current API (ECDSAKey._decode_key(self, data))", "user": {"login": "iksemyonov", "id": 19468498, "node_id": "MDQ6VXNlcjE5NDY4NDk4", "avatar_url": "https://avatars.githubusercontent.com/u/19468498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iksemyonov", "html_url": "https://github.com/iksemyonov", "followers_url": "https://api.github.com/users/iksemyonov/followers", "following_url": "https://api.github.com/users/iksemyonov/following{/other_user}", "gists_url": "https://api.github.com/users/iksemyonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/iksemyonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iksemyonov/subscriptions", "organizations_url": "https://api.github.com/users/iksemyonov/orgs", "repos_url": "https://api.github.com/users/iksemyonov/repos", "events_url": "https://api.github.com/users/iksemyonov/events{/privacy}", "received_events_url": "https://api.github.com/users/iksemyonov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2018-07-26T10:13:40Z", "updated_at": "2021-11-29T03:59:02Z", "closed_at": "2021-11-29T03:59:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/paramiko/paramiko/blob/6f0e7c58d0296d157d33194a30de1789da167480/paramiko/ecdsakey.py#L290\r\n\r\nCompare to:\r\n\r\nhttps://cryptography.io/en/latest/hazmat/primitives/asymmetric/serialization/?highlight=load_der_private_key#cryptography.hazmat.primitives.serialization.load_der_private_key\r\n\r\n\r\n> Raises:\r\n>\r\n> - `ValueError` -  If the DER data could not be decrypted or if its structure could not be decoded successfully.\r\n> - `TypeError` - If a password was given and the private key was not encrypted. Or if the key was encrypted but no password was supplied.\r\n> - `cryptography.exceptions.UnsupportedAlgorithm` - If the serialized key is of a type that is not supported by the backend or if the key is encrypted with a symmetric cipher that is not supported by the backend.\r\n\r\n\r\nThis appears to be a mismatch. `TypeError` is a sibling to `AssertionError` and thus will not be caught. The library-specific exception is not being caught at all.\r\n\r\nProposed fix: update the exception list to match that of the cryptography.io API.\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1257/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1175", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1175/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1175/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1175/events", "html_url": "https://github.com/paramiko/paramiko/issues/1175", "id": 304582845, "node_id": "MDU6SXNzdWUzMDQ1ODI4NDU=", "number": 1175, "title": "Server implementation does not check for auth before serving later requests", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 363568597, "node_id": "MDU6TGFiZWwzNjM1Njg1OTc=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Security", "name": "Security", "color": "b60205", "default": false, "description": null}, {"id": 544727935, "node_id": "MDU6TGFiZWw1NDQ3Mjc5MzU=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Server", "name": "Server", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-03-13T00:02:03Z", "updated_at": "2018-08-30T15:07:00Z", "closed_at": "2018-03-13T00:47:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "What follows is a direct paste from a private gist used to workshop the issue a bit late last week; have completed tests/impl (from 1.17+) and will be pushing those shortly. (wanted the issue number set in stone first...:D)\r\n\r\nWe have a CVE for this issue: CVE-2018-7750.\r\n\r\n## Intro\r\n\r\nEmail from one Matthijs Kooijman ([@matthijskooijman](https://github.com/matthijskooijman/)) dated 2018.03.02 notes that Paramiko's server implementation may be connected to by clients that do not implement the auth step, and happily serves up commands/etc to such un-authed clients. He found that AsyncSSH (another Python lib that does not use Paramiko) has the same issue. Finally, he states the RFC is unclear as to whether this is purposeful.\r\n\r\nLet's double check both the RFCs and then our favorite reference implementation, OpenSSH.\r\n\r\nShould neither provide a useful clue, my gut says the server implementation should track whether we've sent `SSH_MSG_USERAUTH_SUCCESS` (99% sure we already do track this) and default to rejecting any connection-level messages (like `SSH_MSG_CHANNEL_OPEN` or `SSH_MSG_GLOBAL_REQUEST`) unless that flag is True.\r\n\r\n\r\n## RFC scan\r\n\r\ntl;dr it is indeed kinda vague, there are two kinda-disagreeing undercurrents, neither of which are ironclad:\r\n\r\n- It is _assumed_ that the connection protocol (which is where command exec occurs) runs on top of / after setting up, the transport (initial kex/handshake/etc) and auth (user auth) protocols.\r\n- The specific server implementation, and/or operator of an instantiation of such an implementation, has _significant leeway_ in how they implement and/or configure the server, re: when and how user-auth occurs.\r\n\r\nSpecifics:\r\n\r\n- RFC 4251 (protocol arch)\r\n    - [1](https://tools.ietf.org/html/rfc4251#section-1): pretty clear that the intent is that a user auth step always occurs, followed by a service request:\r\n    \r\n      > The client sends a service request once a secure transport layer\r\n      > connection has been established.  A second service request is sent after\r\n      > user authentication is complete.\r\n\r\n    - [4.3](https://tools.ietf.org/html/rfc4251#section-4.3): third bullet point re: policy issues that 'SHOULD' be addressed, highlights that auth specifics are up to the site/operator:\r\n    \r\n      > The authentication methods that are to be required by the server for\r\n      > each user.  The server's policy MAY require multiple authentication for\r\n      > some or all users.  The required algorithms MAY depend on the location\r\n      > from where the user is trying to gain access.\r\n\r\n    - [9.4.3](https://tools.ietf.org/html/rfc4251.html#section-9.4.3): this whole section arguably applies, but it's very vague. However it _seems_ to back up my hunch that at core, this is up to the server implementer and/or operator, e.g:\r\n    \r\n      > At the discretion of the implementers, this default policy may be along\r\n      > the lines of anything-goes where there are no restrictions placed upon\r\n      > users [...]\r\n\r\n- RFC 4252 (auth protocol)\r\n    - [4](https://tools.ietf.org/html/rfc4252.html#section-4): more vague implications that the server can do whatever it wants, e.g. the below quote about `none` auth implies the authors at least partly considered servers that intentionally don't care about auth at all (though the specific discussion is about the actual, explicit use of the `none` auth type message, which is distinct from \"did not submit auth at all\"):\r\n    \r\n      > The \"none\" method is reserved, and MUST NOT be listed as supported.\r\n      > However, it MAY be sent by the client.  The server MUST always reject\r\n      > this request, unless the client is to be granted access without any\r\n      > authentication, in which case, the server MUST accept this request.\r\n\r\n    - [5.3](https://tools.ietf.org/html/rfc4252.html#section-5.3): this (like 4251.1) states that the server should start up the requested service after sending auth-success. One could read this to imply that services SHOULD NOT start UNLESS auth has occurred, but it's not explicit...    \r\n    - [7](https://tools.ietf.org/html/rfc4252.html#section-7): notes that implementations MUST implement public-key auth, though I note this is distinct from requiring that it is _enabled_ (clearly, many real servers only offer password auth, for example.)\r\n- RFC 4253 (transport protocol)\r\n    - [10](https://tools.ietf.org/html/rfc4253.html#section-10): implies client may request \"a service\" after initial (high level) kex, where that service is one of userauth or connection. The transport level of the protocol thus doesn't appear to actually care or enforce that one performs auth before connection.\r\n- RFC 4254 (connection protocol)\r\n    - [1](https://tools.ietf.org/html/rfc4254.html#section-1): once again implies that connection is \"designed to\" occur after/on top of auth.\r\n    - [11](https://tools.ietf.org/html/rfc4254.html#section-11): again, it's 'assumed':\r\n    \r\n      > This protocol is assumed to run on top of a secure, authenticated\r\n      > transport.  User authentication and protection against network-level\r\n      > attacks are assumed to be provided by the underlying protocols.\r\n      \r\n## OpenSSH's implementation\r\n\r\nMy old friend and the only C codebase I have any familiarity with whatsoever, [openssh-portable](https://github.com/openssh/openssh-portable)...\r\n\r\n### Synopsis\r\n\r\nAfter all the below, the tl;dr seems to be:\r\n\r\n- OpenSSH sets up a dispatch table to determine how it responds to protocol messages/packets\r\n- This table gets reinitialized depending on 'phase' of execution: while awaiting auth, it is only set to respond to auth-related messages, then after successful auth, it retools the table to only respond to post-auth-related messages like channel opens.\r\n- Thus, the case under test ends up being a simple \"What even are you talking about? What's a channel open?\" `NotImplementedError` style situation - no auth step, no idea how to handle anything beyond auth.\r\n\r\n### Deep dive\r\n\r\n- Main SSH2 server loop is `serverloop.c` -> `server_loop2()`\r\n- Which uses a dispatch table to handle inbound messages: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L393\r\n- Which dispatches to other functions, so when it sees eg `MSG_CHANNEL_OPEN` it calls `server_input_channel_open()`: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L897\r\n- Which is defined here: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L613\r\n- If the user is asking for command exec, that's channel type `session`: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L630\r\n- Which calls `server_request_session`: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L582\r\n- Which calls `session_open` with a handle on `the_authctxt`: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L603\r\n    - This is our first apparent reference to anything auth-related so far...\r\n    - The only other apparent external context is the `ssh` object used to get the actual channel in play on the call prior: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L600\r\n    - That auth context object is `extern`'d at top of file: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/serverloop.c#L84\r\n    - We'll dig into that later if necessary but for now, let's assume it has handy ways of telling whether the user is authed or not, and the question is whether/how those are consulted.\r\n- `session_open` is, bizarrely, defined in `session.c`: https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/session.c#L1757\r\n- It checks for `authctxt->valid` (or a null password entry) and gets mad if not true: https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/session.c#L1767\r\n    - So yea, we gotta doublecheck what that `->valid` member actually maps to. \r\n- `Authctxt` struct is defined in `auth.h` here: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth.h#L55-L98\r\n    - It has a bunch of flags, of which `success`, `authenticated`, and `valid` all seem relevant.\r\n    - `success` is not documented; `authenticated` sounds like it maps to, well, authentication (user is who they claim to be) with `valid` mapping to (a generic level of) authorization (the user is actually allowed to login.)\r\n- Those flags (esp `valid`) aren't set in too many places; the most useful and in retrospect most obvious place is in handling of userauth requests: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth2.c#L215\r\n    - The core of this is actually use of `Authmethod` structs ([format defined here](https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth.h#L107-L111)) created by the various `auth2-*` modules (one for each implemented auth backend - kerberos, password, publickey, hostbased, etc)\r\n        - These are simple `name`, `userauth`, `enabled` structures, with `userauth` being a pointer to an implementation function (so e.g. the one for password auth is referencing `userauth_passwd` in `auth2-passwd.c` ([here](https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth2-passwd.c#L51-L71).)\r\n    - The per-method `userauth` func is called and the result stored as `authenticated` var: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth2.c#L287\r\n    - Which bubbles down (after much state machine checking) to finalizing userauth - sending the success network message, updating `authctxt->success = 1`, etc: https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth2.c#L352-L360\r\n- The `->valid` flag seems to actually just be \"is the requested username a valid local system user\": https://github.com/openssh/openssh-portable/blob/71e48bc7945f867029e50e06c665c66aed6d3c64/auth2.c#L236-L239\r\n    - Note use of `getpwnamallow`, which (basically) wraps the syscall `getpwnam` aka \"get password entry for user\" (so `authctxt->pw` is specifically that structure and not just a password)\r\n    - Which explains why it's distinct from `success` and `authenticated`.\r\n\r\n### Initial distillation\r\n\r\n- Seems at first that \"huh, the user can get a session as long as they exist locally, without necessarily passing auth\" which would be bad but would also act like Paramiko.\r\n- However, realized: that `->valid` flag is set by `input_userauth_request`, meaning the client has to actually submit auth in order to set it. (Ditto `->pw`.)\r\n- So if a user attempts to send a channel open request without authing, both `authctxt->pw` and `authctxt->valid` will be null, and thus `session_open` should call [line 1767](https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/session.c#L1767) and thus result in `fatal(\"no user for session\")`.\r\n\r\n### Testing with live OpenSSH server\r\n\r\nProving this with a live install is interesting:\r\n\r\n- Ran local docker container executing Ubuntu + OpenSSH 7.2 on port 2222 with nothing but root password auth by default\r\n- Executed Matthijs's `client-test.py` with nothing but the port number changed\r\n- Did not get expected `no user for session` but instead seem to have just confused the poor thing:\r\n\r\n  ```\r\n  debug1: SSH2_MSG_NEWKEYS received [preauth]\r\n  debug1: KEX done [preauth]\r\n  dispatch_protocol_error: type 90 seq 3 [preauth]\r\n  debug1: Received SSH2_MSG_UNIMPLEMENTED for 3 [preauth]\r\n  ```\r\n\r\n### Second dive\r\n\r\n- The above protocol error log message comes out of here: https://github.com/openssh/openssh-portable/blob/151c6e433a5f5af761c78de87d7b5d30a453cf5e/dispatch.c#L45-L46 in `dispatch_protocol_error()`\r\n- Which is stuffed into newly initialized dispatch tables by [ssh_dispatch_init](https://github.com/openssh/openssh-portable/blob/151c6e433a5f5af761c78de87d7b5d30a453cf5e/dispatch.c#L61-L67)\r\n    - Which is done via `do_authentication2` here: https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/auth2.c#L172\r\n- So the tl;dr is that the dispatch table gets all 255 slots filled initially by `SSH2_MSG_UNIMPLEMENTED`, then the table is filled in with what is intended to be responded to (e.g. in `do_authentication2`, the very next line is to say [\"ok and now respond to service requests\"](https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/auth2.c#L173))\r\n    - E.g. slot 90 corresponds to `SSH_MSG_CHANNEL_OPEN`, aka what our test client was requesting: https://tools.ietf.org/html/rfc4250#section-4.1.2\r\n- Looks like in the normal flow of things, the post-auth process ends up reinitializing the dispatch table with acceptable messages (including channel opens):\r\n    - Server loop emits \"Entering interactive session\" log message one can see in a successful regular auth+shell: https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/serverloop.c#L375\r\n    - Then calls `server_init_dispatch`: https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/serverloop.c#L393\r\n    - Which does aforementioned dispatch reset & fill-in: https://github.com/openssh/openssh-portable/blob/de1920d743d295f50e6905e5957c4172c038e8eb/serverloop.c#L889-L910\r\n\r\n\r\n## End result\r\n\r\n- The RFC isn't terrifically clear beyond \"well, we kind of assume you're not gonna open channels and such unless you've already authed\", but it's not a `SHOULD` or a `MUST`.\r\n- OpenSSH has chosen to implement this as a strict \"only respond to the messages you can handle at the current stage\" setup, where auth comes before connection (as in the RFC.) Trying to do things out-of-order results in a simple `SSH_MSG_UNIMPLEMENTED`.\r\n- Paramiko does not do things quite that way: instead, as one might guess from the bug description, it simply sets up all possible dispatch targets (anything implemented by the Transport  across its two handler tables, and the AuthHandler handler table) and then dispatches depending on message type: https://github.com/paramiko/paramiko/blob/27a8ed14c2f3e7a1fd8e75d259f06504d5c8e11b/paramiko/transport.py#L1891-L1917\r\n\r\nDoing nothing certainly seems like a bad idea: this is clearly a massive security flaw, and the only reason I did all the above investigation is because software has an irritating history of \"but I was _relying_ on that bug / looseness in the spec / whatever!\". Given the main reference implementation disallows it, I'm inclined to assume nobody could possibly rely on this.\r\n\r\nSo there's two obvious fixes for Paramiko:\r\n\r\n- The \"OpenSSH is the Bible\" approach: update Transport's dispatching to be more like OpenSSH's and only enable certain message types depending on the state of `self.is_authenticated` (which, impressively, appears to only ever be used in `__repr__`...!!!)\r\n    - This could be problematic given that Transport is frustratingly bimodal and is used both for server _and_ client operations - we'd have to make sure that we're not preventing a not-yet-authed client from dispatching on necessary responses because it's not authed yet, for example.\r\n    - Of note, AsyncSSH is taking this approach in their fix, and are simply leveraging the fact that RFC 4250 compatible protocol numbers mean one can just go \"is the message identifier greater than the highest possible auth related number? Are you authed yet? No? Screw off!\" - seems possible on our end, though doesn't really change the previous point about ensuring client-side cases are protected.\r\n- The \"that's too much work right now\" approach: simply rub some more references to `.auth_handler` and/or `.is_authenticated` in specific spots such as `Server.check_channel_request` ([here](https://github.com/paramiko/paramiko/blob/master/paramiko/server.py#L42))\r\n    - Except this, too, is problematic because of how Transport, Server and AuthHandler split up responsibilities & exposures to one another. By default a Server has no direct access to the Transport running it, or that Transport's AuthHandler (which, in server mode, is set up during rekeying [including initial kex].)\r\n        - Changing this would be backwards incompatible (e.g. enforcing an actual `__init__` on `Server` subclasses for the passing-in of a reference to one of the other objects, since right now `Server` doesn't even define one!) though I would like to examine it sometime. Now probably not the best time though.\r\n    - Could still put specific, small-scoped changes in `Transport` though, such as around the `check_channel_request` calls here: https://github.com/paramiko/paramiko/blob/27a8ed14c2f3e7a1fd8e75d259f06504d5c8e11b/paramiko/transport.py#L2531-L2537\r\n\r\nMy gut says to take a quick stab at the 1st approach but to fall back to the\r\n2nd if the 1st cannot be done relatively painlessly.\r\n\r\nEither way, re: the actual action to take seems poorly defined, but esp given OpenSSH simply spits out a bunch of question marks and not a \"useful\" error; the RFCs (4250, 4254) list only 4 default 'error' types, of which `OPEN_FAILED_ADMINISTRATIVELY_PROHIBITED` seems the closest fit. And indeed Paramiko uses it for eg bogus channel types, in some legacy tests.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1135", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1135/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1135/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1135/events", "html_url": "https://github.com/paramiko/paramiko/issues/1135", "id": 282711739, "node_id": "MDU6SXNzdWUyODI3MTE3Mzk=", "number": 1135, "title": "Authentication failed with public key", "user": {"login": "sprenge", "id": 6003814, "node_id": "MDQ6VXNlcjYwMDM4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6003814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprenge", "html_url": "https://github.com/sprenge", "followers_url": "https://api.github.com/users/sprenge/followers", "following_url": "https://api.github.com/users/sprenge/following{/other_user}", "gists_url": "https://api.github.com/users/sprenge/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprenge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprenge/subscriptions", "organizations_url": "https://api.github.com/users/sprenge/orgs", "repos_url": "https://api.github.com/users/sprenge/repos", "events_url": "https://api.github.com/users/sprenge/events{/privacy}", "received_events_url": "https://api.github.com/users/sprenge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2017-12-17T18:08:37Z", "updated_at": "2022-11-28T12:53:35Z", "closed_at": "2019-05-31T23:49:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The remote side accepts the connection using the public key but paramiko still gives an error.  Seems to be a bug in paramiko==2.4.0 (ubuntu 16.04, python 3)\r\n\r\nStack trace : \r\n  File \"/usr/local/lib/python3.5/dist-packages/pysftp/__init__.py\", line 143, in __init__\r\n    self._transport.connect(**self._tconnect)\r\n  File \"/usr/local/lib/python3.5/dist-packages/paramiko/transport.py\", line 1205, in connect\r\n    self.auth_publickey(username, pkey)\r\n  File \"/usr/local/lib/python3.5/dist-packages/paramiko/transport.py\", line 1450, in auth_publickey\r\n    return self.auth_handler.wait_for_response(my_event)\r\n  File \"/usr/local/lib/python3.5/dist-packages/paramiko/auth_handler.py\", line 226, in wait_for_response\r\n    raise e\r\nparamiko.ssh_exception.AuthenticationException: Authentication failed.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1135/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1075", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1075/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1075/events", "html_url": "https://github.com/paramiko/paramiko/pull/1075", "id": 260541308, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQzMDcyOTg3", "number": 1075, "title": "sftp: fix BytesWarning: str() on a bytes instance", "user": {"login": "Rezney", "id": 11775644, "node_id": "MDQ6VXNlcjExNzc1NjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/11775644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rezney", "html_url": "https://github.com/Rezney", "followers_url": "https://api.github.com/users/Rezney/followers", "following_url": "https://api.github.com/users/Rezney/following{/other_user}", "gists_url": "https://api.github.com/users/Rezney/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rezney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rezney/subscriptions", "organizations_url": "https://api.github.com/users/Rezney/orgs", "repos_url": "https://api.github.com/users/Rezney/repos", "events_url": "https://api.github.com/users/Rezney/events{/privacy}", "received_events_url": "https://api.github.com/users/Rezney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-26T08:48:14Z", "updated_at": "2017-09-26T19:10:03Z", "closed_at": "2017-09-26T19:10:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1075", "html_url": "https://github.com/paramiko/paramiko/pull/1075", "diff_url": "https://github.com/paramiko/paramiko/pull/1075.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1075.patch", "merged_at": "2017-09-26T19:10:02Z"}, "body": "when running the code with python3 we get BytesWarning as what we\r\nreceive from hexlify() function is bytes. Use u() from py3compat to\r\novercome the issue.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1075/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1074", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1074/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1074/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1074/events", "html_url": "https://github.com/paramiko/paramiko/issues/1074", "id": 260273735, "node_id": "MDU6SXNzdWUyNjAyNzM3MzU=", "number": 1074, "title": "BytesWarning: str() on a bytes instance", "user": {"login": "Rezney", "id": 11775644, "node_id": "MDQ6VXNlcjExNzc1NjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/11775644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rezney", "html_url": "https://github.com/Rezney", "followers_url": "https://api.github.com/users/Rezney/followers", "following_url": "https://api.github.com/users/Rezney/following{/other_user}", "gists_url": "https://api.github.com/users/Rezney/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rezney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rezney/subscriptions", "organizations_url": "https://api.github.com/users/Rezney/orgs", "repos_url": "https://api.github.com/users/Rezney/repos", "events_url": "https://api.github.com/users/Rezney/events{/privacy}", "received_events_url": "https://api.github.com/users/Rezney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-25T13:18:45Z", "updated_at": "2017-09-26T18:58:01Z", "closed_at": "2017-09-26T18:58:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While running pytest I am getting the following two warnings:\r\n\r\n```\r\n  /usr/lib/python3.6/site-packages/paramiko/sftp_client.py:344: BytesWarning: str() on a bytes instance\r\n    'open(%r, %r) -> %s' % (filename, mode, hexlify(handle)))\r\n  /usr/lib/python3.6/site-packages/paramiko/sftp_file.py:86: BytesWarning: str() on a bytes instance\r\n    self.sftp._log(DEBUG, 'close(%s)' % hexlify(self.handle))\r\n\r\n-- Docs: http://doc.pytest.org/en/latest/warnings.html\r\n```\r\n\r\nwhich I believe is a bug in the code as:\r\n\r\n```\r\n# python3\r\nPython 3.6.2 (default, Sep 22 2017, 08:28:09) \r\n[GCC 7.2.1 20170915 (Red Hat 7.2.1-2)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> \r\n>>> from binascii import hexlify\r\n>>> \r\n>>> hexlify(b'test')\r\nb'74657374'\r\n>>> \r\n>>> hexlify('test')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: a bytes-like object is required, not 'str'\r\n>>> \r\n```\r\n\r\nThanks a lot for taking a look!\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1074/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1051", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1051/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1051/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1051/events", "html_url": "https://github.com/paramiko/paramiko/pull/1051", "id": 254924278, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM5MDc1NTYy", "number": 1051, "title": "ensure ed25519 password is bytes", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/19", "html_url": "https://github.com/paramiko/paramiko/milestone/19", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/19/labels", "id": 2581199, "node_id": "MDk6TWlsZXN0b25lMjU4MTE5OQ==", "number": 19, "title": "2.4.x", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2017-06-13T18:50:51Z", "updated_at": "2018-05-01T19:34:21Z", "due_on": null, "closed_at": "2018-05-01T19:34:21Z"}, "comments": 6, "created_at": "2017-09-04T03:00:46Z", "updated_at": "2019-03-02T22:46:23Z", "closed_at": "2017-11-29T20:23:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1051", "html_url": "https://github.com/paramiko/paramiko/pull/1051", "diff_url": "https://github.com/paramiko/paramiko/pull/1051.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1051.patch", "merged_at": "2017-11-29T20:23:40Z"}, "body": "fixes #1039 \r\n\r\nSide Note: I just noticed that this file imports \"six\", even though that's not explicitly a requirement in setup.py (but it's a requirement of cryptography)", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1051/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1051/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1039", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1039/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1039/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1039/events", "html_url": "https://github.com/paramiko/paramiko/issues/1039", "id": 250360644, "node_id": "MDU6SXNzdWUyNTAzNjA2NDQ=", "number": 1039, "title": "bcrypt TypeError \"Unicode-objects must be encoded before hashing\"", "user": {"login": "tvannahl", "id": 662132, "node_id": "MDQ6VXNlcjY2MjEzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/662132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tvannahl", "html_url": "https://github.com/tvannahl", "followers_url": "https://api.github.com/users/tvannahl/followers", "following_url": "https://api.github.com/users/tvannahl/following{/other_user}", "gists_url": "https://api.github.com/users/tvannahl/gists{/gist_id}", "starred_url": "https://api.github.com/users/tvannahl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tvannahl/subscriptions", "organizations_url": "https://api.github.com/users/tvannahl/orgs", "repos_url": "https://api.github.com/users/tvannahl/repos", "events_url": "https://api.github.com/users/tvannahl/events{/privacy}", "received_events_url": "https://api.github.com/users/tvannahl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-08-15T16:05:56Z", "updated_at": "2017-09-05T19:06:14Z", "closed_at": "2017-09-05T19:05:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Python 3.6.2 and paramiko 2.2.1. Since I am not using the ed25519 private key explicitly in my code I assume this is a paramiko bug.\r\n\r\n```\r\n  File \"/home/tvn/projects/sowiwas/web/_venv3/lib/python3.6/site-packages/paramiko/client.py\", line 394, in connect                                              \r\n    look_for_keys, gss_auth, gss_kex, gss_deleg_creds, gss_host)                                                                                                 \r\n  File \"/home/tvn/projects/sowiwas/web/_venv3/lib/python3.6/site-packages/paramiko/client.py\", line 617, in _auth                                                \r\n    key = pkey_class.from_private_key_file(filename, password)                                                                                                   \r\n  File \"/home/tvn/projects/sowiwas/web/_venv3/lib/python3.6/site-packages/paramiko/pkey.py\", line 205, in from_private_key_file                                  \r\n    key = cls(filename=filename, password=password)                                                                                                              \r\n  File \"/home/tvn/projects/sowiwas/web/_venv3/lib/python3.6/site-packages/paramiko/ed25519key.py\", line 59, in __init__                                          \r\n    signing_key = self._parse_signing_key_data(data, password)                                                                                           \r\n  File \"/home/tvn/projects/sowiwas/web/_venv3/lib/python3.6/site-packages/paramiko/ed25519key.py\", line 122, in _parse_signing_key_data                                                           \r\n    ignore_few_rounds=True,                                                                                                                                                                       \r\n  File \"/home/tvn/projects/sowiwas/web/_venv3/lib/python3.6/site-packages/bcrypt/__init__.py\", line 118, in kdf                                                                                   \r\n    raise TypeError(\"Unicode-objects must be encoded before hashing\")                                                                                                                             \r\nTypeError: Unicode-objects must be encoded before hashing                                                    \r\n```", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1039/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1037", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1037/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1037/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1037/events", "html_url": "https://github.com/paramiko/paramiko/pull/1037", "id": 248872005, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM0Nzc4MDU1", "number": 1037, "title": "Slow performance when using compression #60", "user": {"login": "DrNeutron", "id": 30759787, "node_id": "MDQ6VXNlcjMwNzU5Nzg3", "avatar_url": "https://avatars.githubusercontent.com/u/30759787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrNeutron", "html_url": "https://github.com/DrNeutron", "followers_url": "https://api.github.com/users/DrNeutron/followers", "following_url": "https://api.github.com/users/DrNeutron/following{/other_user}", "gists_url": "https://api.github.com/users/DrNeutron/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrNeutron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrNeutron/subscriptions", "organizations_url": "https://api.github.com/users/DrNeutron/orgs", "repos_url": "https://api.github.com/users/DrNeutron/repos", "events_url": "https://api.github.com/users/DrNeutron/events{/privacy}", "received_events_url": "https://api.github.com/users/DrNeutron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/20", "html_url": "https://github.com/paramiko/paramiko/milestone/20", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/20/labels", "id": 2581212, "node_id": "MDk6TWlsZXN0b25lMjU4MTIxMg==", "number": 20, "title": "2.3.0", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2017-06-13T18:56:05Z", "updated_at": "2017-09-18T18:05:29Z", "due_on": null, "closed_at": "2017-09-18T18:05:29Z"}, "comments": 4, "created_at": "2017-08-08T23:06:59Z", "updated_at": "2017-09-06T00:06:50Z", "closed_at": "2017-09-06T00:06:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1037", "html_url": "https://github.com/paramiko/paramiko/pull/1037", "diff_url": "https://github.com/paramiko/paramiko/pull/1037.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1037.patch", "merged_at": "2017-09-06T00:06:50Z"}, "body": "Looking at the performance of Paramiko when trying to copy a 1.3Gb CSV file, to be moved between two machines connected by a 100Mbps lan segment.  The root cause of the slow performance with compression is in the choice of compression level in paramiko/paramiko/compress.py\r\n\r\nlib Compression level | Time to send (secs) | Data over WAN MBytes | Compression %\r\n-- | -- | -- | --\r\n0 | 117 | 1,301 | 0%\r\n1 | 33 | 317 | 76%\r\n2 | 35 | 291 | 78%\r\n3 | 37 | 269 | 79%\r\n4 | 41 | 266 | 80%\r\n5 | 53 | 245 | 81%\r\n6 | 64 | 232 | 82%\r\n7 | 74 | 227 | 83%\r\n8 | 159 | 221 | 83%\r\n9 | 278 | 219 | 83%\r\n\r\nThe change here is to use the default level of zlib compression (6) rather than the max of 9 which is a bad trade off in CPU and time vs the actual gain on compression\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1037/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1037/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1026", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1026/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1026/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1026/events", "html_url": "https://github.com/paramiko/paramiko/pull/1026", "id": 246333391, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMyOTU4Mjgx", "number": 1026, "title": "Add file_obj handling to the Ed25519Key constructor", "user": {"login": "beezz", "id": 1500654, "node_id": "MDQ6VXNlcjE1MDA2NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1500654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beezz", "html_url": "https://github.com/beezz", "followers_url": "https://api.github.com/users/beezz/followers", "following_url": "https://api.github.com/users/beezz/following{/other_user}", "gists_url": "https://api.github.com/users/beezz/gists{/gist_id}", "starred_url": "https://api.github.com/users/beezz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beezz/subscriptions", "organizations_url": "https://api.github.com/users/beezz/orgs", "repos_url": "https://api.github.com/users/beezz/repos", "events_url": "https://api.github.com/users/beezz/events{/privacy}", "received_events_url": "https://api.github.com/users/beezz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/20", "html_url": "https://github.com/paramiko/paramiko/milestone/20", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/20/labels", "id": 2581212, "node_id": "MDk6TWlsZXN0b25lMjU4MTIxMg==", "number": 20, "title": "2.3.0", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2017-06-13T18:56:05Z", "updated_at": "2017-09-18T18:05:29Z", "due_on": null, "closed_at": "2017-09-18T18:05:29Z"}, "comments": 0, "created_at": "2017-07-28T12:28:39Z", "updated_at": "2017-09-06T02:05:21Z", "closed_at": "2017-09-06T02:05:21Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1026", "html_url": "https://github.com/paramiko/paramiko/pull/1026", "diff_url": "https://github.com/paramiko/paramiko/pull/1026.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1026.patch", "merged_at": "2017-09-06T02:05:21Z"}, "body": "This PR fixes `Ed25519Key.from_private_key`.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1026/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1026/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1024", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1024/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1024/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1024/events", "html_url": "https://github.com/paramiko/paramiko/pull/1024", "id": 245301051, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMyMjA3MjEx", "number": 1024, "title": "hostkeys: fix raising KeyError in SubDict.__delitem__()", "user": {"login": "jiazhang0", "id": 10241344, "node_id": "MDQ6VXNlcjEwMjQxMzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/10241344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiazhang0", "html_url": "https://github.com/jiazhang0", "followers_url": "https://api.github.com/users/jiazhang0/followers", "following_url": "https://api.github.com/users/jiazhang0/following{/other_user}", "gists_url": "https://api.github.com/users/jiazhang0/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiazhang0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiazhang0/subscriptions", "organizations_url": "https://api.github.com/users/jiazhang0/orgs", "repos_url": "https://api.github.com/users/jiazhang0/repos", "events_url": "https://api.github.com/users/jiazhang0/events{/privacy}", "received_events_url": "https://api.github.com/users/jiazhang0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 3, "created_at": "2017-07-25T06:45:38Z", "updated_at": "2021-11-29T04:10:59Z", "closed_at": "2021-11-29T04:10:58Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/1024", "html_url": "https://github.com/paramiko/paramiko/pull/1024", "diff_url": "https://github.com/paramiko/paramiko/pull/1024.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/1024.patch", "merged_at": null}, "body": "If the specified key type is found out, the exception KeyError should\r\nnot happen.\r\n\r\nSigned-off-by: Lans Zhang <jia.zhang@windriver.com>", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1024/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1012", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/1012/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/1012/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/1012/events", "html_url": "https://github.com/paramiko/paramiko/issues/1012", "id": 240645212, "node_id": "MDU6SXNzdWUyNDA2NDUyMTI=", "number": 1012, "title": "sftp.rename doesn't behave like OpenSSH's rename", "user": {"login": "mflage", "id": 837316, "node_id": "MDQ6VXNlcjgzNzMxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/837316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mflage", "html_url": "https://github.com/mflage", "followers_url": "https://api.github.com/users/mflage/followers", "following_url": "https://api.github.com/users/mflage/following{/other_user}", "gists_url": "https://api.github.com/users/mflage/gists{/gist_id}", "starred_url": "https://api.github.com/users/mflage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mflage/subscriptions", "organizations_url": "https://api.github.com/users/mflage/orgs", "repos_url": "https://api.github.com/users/mflage/repos", "events_url": "https://api.github.com/users/mflage/events{/privacy}", "received_events_url": "https://api.github.com/users/mflage/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-07-05T13:09:22Z", "updated_at": "2017-07-13T16:20:07Z", "closed_at": "2017-07-13T16:20:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if this is a bug or a feature, but when looking at the implementation of the .rename function for the sftp module in Paramiko this doesn't trigger MOVED_FROM and MOVED_TO, instead it triggers CREATE and DELETE events. Is this normal? What is it that paramiko does differently when renaming a file that causes these two events to be created instead of MOVED_FROM and MOVED_TO?\r\n\r\nI have tested this with version 2.2.1 of Paramiko. This is the output of 'inotifywait -r -m /tmp/test' which illustrates the difference (the file \"test\" is uploaded and then renamed to \"testfile\"):\r\n\r\nWhen using sftp from OpenSSH:\r\n\r\n```\r\n/tmp/test/ CREATE test\r\n/tmp/test/ OPEN test\r\n/tmp/test/ MODIFY test\r\n/tmp/test/ CLOSE_WRITE,CLOSE test\r\n/tmp/test/ MOVED_FROM test\r\n/tmp/test/ MOVED_TO testfile\r\n```\r\n\r\nWhen using paramiko:\r\n\r\n```\r\n/tmp/test/ CREATE test\r\n/tmp/test/ OPEN test\r\n/tmp/test/ MODIFY test\r\n/tmp/test/ CLOSE_WRITE,CLOSE test\r\n/tmp/test/ CREATE testfile\r\n/tmp/test/ DELETE test\r\n```", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/1012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/1012/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/990", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/990/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/990/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/990/events", "html_url": "https://github.com/paramiko/paramiko/issues/990", "id": 235055253, "node_id": "MDU6SXNzdWUyMzUwNTUyNTM=", "number": 990, "title": "bcrypt dependency version should be 3.1.3", "user": {"login": "pghmcfc", "id": 947224, "node_id": "MDQ6VXNlcjk0NzIyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/947224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pghmcfc", "html_url": "https://github.com/pghmcfc", "followers_url": "https://api.github.com/users/pghmcfc/followers", "following_url": "https://api.github.com/users/pghmcfc/following{/other_user}", "gists_url": "https://api.github.com/users/pghmcfc/gists{/gist_id}", "starred_url": "https://api.github.com/users/pghmcfc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pghmcfc/subscriptions", "organizations_url": "https://api.github.com/users/pghmcfc/orgs", "repos_url": "https://api.github.com/users/pghmcfc/repos", "events_url": "https://api.github.com/users/pghmcfc/events{/privacy}", "received_events_url": "https://api.github.com/users/pghmcfc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120561604, "node_id": "MDU6TGFiZWwxMjA1NjE2MDQ=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2017-06-11T09:59:46Z", "updated_at": "2017-06-14T23:26:19Z", "closed_at": "2017-06-14T23:26:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Earlier versions don't support `ignore_few_rounds` parameter for `kdf()`:\r\n```\r\n$ /usr/bin/python2 ./test.py --no-sftp --no-big-file\r\n............................................................................E...............................................................................\r\n======================================================================\r\nERROR: test_ed25519 (tests.test_pkey.KeyTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/paramiko-2.2.0/tests/test_pkey.py\", line 456, in test_ed25519\r\n    test_path('test_ed25519_password.key'), b'abc123'\r\n  File \"/builddir/build/BUILD/paramiko-2.2.0/paramiko/pkey.py\", line 205, in from_private_key_file\r\n    key = cls(filename=filename, password=password)\r\n  File \"/builddir/build/BUILD/paramiko-2.2.0/paramiko/ed25519key.py\", line 59, in __init__\r\n    signing_key = self._parse_signing_key_data(data, password)\r\n  File \"/builddir/build/BUILD/paramiko-2.2.0/paramiko/ed25519key.py\", line 122, in _parse_signing_key_data\r\n    ignore_few_rounds=True,\r\nTypeError: kdf() got an unexpected keyword argument 'ignore_few_rounds'\r\n\r\n----------------------------------------------------------------------\r\nRan 156 tests in 21.618s\r\n\r\nFAILED (errors=1)\r\n```\r\nThat was with 3.1.2.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/987", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/987/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/987/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/987/events", "html_url": "https://github.com/paramiko/paramiko/pull/987", "id": 234021480, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI0Mjg1OTIy", "number": 987, "title": "sshclient / transport leak partial fix (backport)", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 1, "created_at": "2017-06-06T20:54:29Z", "updated_at": "2017-09-13T18:44:00Z", "closed_at": "2017-06-09T19:32:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/987", "html_url": "https://github.com/paramiko/paramiko/pull/987", "diff_url": "https://github.com/paramiko/paramiko/pull/987.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/987.patch", "merged_at": "2017-06-09T19:32:13Z"}, "body": "backport of #952 \r\n\r\nI'll recap the discoveries and reasoning here, since the other thread is very long:\r\n\r\n#891 fixed \"SHSClient may be garbage collected, and the connection's state is undefined\", so it added an extra reference from the Transport to the SSHClient. But that wasn't the real problem or the best fix - the problem is that this ResourceManager was intentionally closing the Transport when the SSHClient was garbage collected.\r\n\r\nSo, if we don't want a garbage-collected SSHClient to close the Transport, we can just remove the code that intentionally does that.\r\n\r\nThe secondary problem with #891 is that there are two sections of code that do the internal work to close the Transport - the `close()` method, but also some code at the end of `run()` (which runs in a separate thread.) If the `run()` thread ended before the `close()` method was called, the back-reference to the SSHClient would never be cleared, and a real un-handle-able leak (rooted at the ResourceManager) would result.\r\n\r\nThis PR simplifies the code by just removing a bunch of it, satisfies #891 by not closing the Transport when the SSHClient is GCed, and fixes the \"secondary problem\" of the un-handle-able leak.\r\n\r\nWhat this PR does not handle is the original motivation of adding the ResourceManager - the Transport, while it is running, cannot be GCed. It must be explicitly closed, or disconnect or stop for some other reason, before it can be freed. This aspect is addressed in #964 (which is big and invasive and will only be applied (eventually) to the master branch).", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/987/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/986", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/986/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/986/events", "html_url": "https://github.com/paramiko/paramiko/pull/986", "id": 234020610, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI0Mjg1Mjc2", "number": 986, "title": "Fix failure in listdir when server uses a locale (1.17)", "user": {"login": "bz2", "id": 1188565, "node_id": "MDQ6VXNlcjExODg1NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1188565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bz2", "html_url": "https://github.com/bz2", "followers_url": "https://api.github.com/users/bz2/followers", "following_url": "https://api.github.com/users/bz2/following{/other_user}", "gists_url": "https://api.github.com/users/bz2/gists{/gist_id}", "starred_url": "https://api.github.com/users/bz2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bz2/subscriptions", "organizations_url": "https://api.github.com/users/bz2/orgs", "repos_url": "https://api.github.com/users/bz2/repos", "events_url": "https://api.github.com/users/bz2/events{/privacy}", "received_events_url": "https://api.github.com/users/bz2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 11, "created_at": "2017-06-06T20:51:06Z", "updated_at": "2021-11-28T20:54:22Z", "closed_at": "2021-11-28T20:54:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/986", "html_url": "https://github.com/paramiko/paramiko/pull/986", "diff_url": "https://github.com/paramiko/paramiko/pull/986.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/986.patch", "merged_at": null}, "body": "Fixes #985\r\n\r\n`SFTPAttributes` uses the locale-aware `%b` directive for the abbreviated month name with `time.strftime`, but was not decoding the result on Python 2.7.\r\n\r\nAdd a `strftime` alias in `py3compat` that will always return unicode, and resolve the mixing of bytes and text in `SFTPAttributes` methods.\r\n\r\nAdd a test at the `listdir` level, and a more specific test for the `SFTPAttributes` `asbytes` method.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/986/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/984", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/984/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/984/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/984/events", "html_url": "https://github.com/paramiko/paramiko/pull/984", "id": 234012772, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI0Mjc5NzA0", "number": 984, "title": "Reorder cipher and key preferences to make more sense", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/17", "html_url": "https://github.com/paramiko/paramiko/milestone/17", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/17/labels", "id": 2344381, "node_id": "MDk6TWlsZXN0b25lMjM0NDM4MQ==", "number": 17, "title": "2.0.6 etc", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2017-02-23T21:04:47Z", "updated_at": "2017-06-09T21:37:46Z", "due_on": null, "closed_at": "2017-06-09T21:37:46Z"}, "comments": 2, "created_at": "2017-06-06T20:22:28Z", "updated_at": "2017-06-09T21:03:01Z", "closed_at": "2017-06-09T21:03:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/984", "html_url": "https://github.com/paramiko/paramiko/pull/984", "diff_url": "https://github.com/paramiko/paramiko/pull/984.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/984.patch", "merged_at": "2017-06-09T21:03:01Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/984/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/971", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/971/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/971/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/971/events", "html_url": "https://github.com/paramiko/paramiko/pull/971", "id": 231498953, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIyNTU0ODQ2", "number": 971, "title": "Allow any buffer type to be written to SFTPFile (1.17)", "user": {"login": "bz2", "id": 1188565, "node_id": "MDQ6VXNlcjExODg1NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1188565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bz2", "html_url": "https://github.com/bz2", "followers_url": "https://api.github.com/users/bz2/followers", "following_url": "https://api.github.com/users/bz2/following{/other_user}", "gists_url": "https://api.github.com/users/bz2/gists{/gist_id}", "starred_url": "https://api.github.com/users/bz2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bz2/subscriptions", "organizations_url": "https://api.github.com/users/bz2/orgs", "repos_url": "https://api.github.com/users/bz2/repos", "events_url": "https://api.github.com/users/bz2/events{/privacy}", "received_events_url": "https://api.github.com/users/bz2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120561505, "node_id": "MDU6TGFiZWwxMjA1NjE1MDU=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Feature", "name": "Feature", "color": "40a056", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 6, "created_at": "2017-05-26T01:00:01Z", "updated_at": "2017-06-09T22:29:11Z", "closed_at": "2017-06-09T20:55:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/971", "html_url": "https://github.com/paramiko/paramiko/pull/971", "diff_url": "https://github.com/paramiko/paramiko/pull/971.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/971.patch", "merged_at": "2017-06-09T20:55:32Z"}, "body": "Fixes #967 #968\r\n\r\nRollup of earlier branches proposed as #969 and #970 with additional fix inside sftp_client.\r\n\r\nIncludes new tests for SFTPFile usage.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/971/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/963", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/963/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/963/events", "html_url": "https://github.com/paramiko/paramiko/pull/963", "id": 229527143, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIxMTgxODc4", "number": 963, "title": "Handle case when proxy command dies during a read", "user": {"login": "nbartos", "id": 923926, "node_id": "MDQ6VXNlcjkyMzkyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/923926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbartos", "html_url": "https://github.com/nbartos", "followers_url": "https://api.github.com/users/nbartos/followers", "following_url": "https://api.github.com/users/nbartos/following{/other_user}", "gists_url": "https://api.github.com/users/nbartos/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbartos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbartos/subscriptions", "organizations_url": "https://api.github.com/users/nbartos/orgs", "repos_url": "https://api.github.com/users/nbartos/repos", "events_url": "https://api.github.com/users/nbartos/events{/privacy}", "received_events_url": "https://api.github.com/users/nbartos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/18", "html_url": "https://github.com/paramiko/paramiko/milestone/18", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/18/labels", "id": 2578299, "node_id": "MDk6TWlsZXN0b25lMjU3ODI5OQ==", "number": 18, "title": "Next bugfix", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 8, "closed_issues": 13, "state": "open", "created_at": "2017-06-12T16:36:14Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 11, "created_at": "2017-05-18T00:59:57Z", "updated_at": "2018-05-27T22:54:42Z", "closed_at": "2018-05-27T22:54:42Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/963", "html_url": "https://github.com/paramiko/paramiko/pull/963", "diff_url": "https://github.com/paramiko/paramiko/pull/963.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/963.patch", "merged_at": null}, "body": "If the proxy command dies during a read loop, we end up in a tight\r\nloop that causes the process to max out a cpu until it's forcefully\r\nkilled.\r\n\r\nIn my experience, the easiest way to trigger this condition is to\r\nuse a proxy command and add some text to /etc/nologin on the\r\ndestination host (not the proxy host).\r\n\r\nAnother way to trigger this condition is to send a CTRL+C wile the\r\nsecond command is running:\r\n\r\nchan.exec_command('sleep 100')\r\nstderr = chan.makefile_stderr('rb').read()", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/963/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/945", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/945/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/945/events", "html_url": "https://github.com/paramiko/paramiko/pull/945", "id": 223982854, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE3MzgwNjYz", "number": 945, "title": "SSHClient: request host key type from known_hosts (backport)", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 151049708, "node_id": "MDU6TGFiZWwxNTEwNDk3MDg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/known_hosts", "name": "known_hosts", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 4, "created_at": "2017-04-24T23:56:21Z", "updated_at": "2017-09-13T18:43:36Z", "closed_at": "2017-09-13T17:21:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/945", "html_url": "https://github.com/paramiko/paramiko/pull/945", "diff_url": "https://github.com/paramiko/paramiko/pull/945.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/945.patch", "merged_at": "2017-09-13T17:21:33Z"}, "body": "This is a backport of #910 to the 1.18 (PyCrypto) branch. This is because I think this is particularly important.\r\n\r\nThere are a few good ways to manage a `known_hosts` file. Some of them are pretty secure. A well-managed `known_hosts` is important for preventing man-in-the-middle attacks, if that's relevant to you.\r\n\r\nWithout this fix, when a host public key is in `known_hosts`, paramiko may act like the public key is missing from `known_hosts`, and not check that it matches.\r\n\r\nAnd, this is a pretty common case - allowing missing host keys is a common default, and this case where paramiko requests a different type of host key than it has from `known_hosts` is common for modern servers which offer both rsa and ecdsa host keys. The openssh client puts the ecdsa key in `known_hosts`, and then paramiko requests the rsa key, and acts like the host is missing.\r\n\r\nI did some manual \"sanity\" testing, with both 1.18 and this branch:\r\n  * matching ecdsa host key\r\n  * mis-matched ecdsa host key (1.18 allows connection, this branch correctly blocks)\r\n  * matching rsa host key\r\n  * mis-matched rsa host key", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/945/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/923", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/923/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/923/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/923/events", "html_url": "https://github.com/paramiko/paramiko/issues/923", "id": 216400463, "node_id": "MDU6SXNzdWUyMTY0MDA0NjM=", "number": 923, "title": "RC4 broken with cryptography 1.8.1", "user": {"login": "selb", "id": 741853, "node_id": "MDQ6VXNlcjc0MTg1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/741853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/selb", "html_url": "https://github.com/selb", "followers_url": "https://api.github.com/users/selb/followers", "following_url": "https://api.github.com/users/selb/following{/other_user}", "gists_url": "https://api.github.com/users/selb/gists{/gist_id}", "starred_url": "https://api.github.com/users/selb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/selb/subscriptions", "organizations_url": "https://api.github.com/users/selb/orgs", "repos_url": "https://api.github.com/users/selb/repos", "events_url": "https://api.github.com/users/selb/events{/privacy}", "received_events_url": "https://api.github.com/users/selb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-23T11:43:34Z", "updated_at": "2017-06-06T02:51:56Z", "closed_at": "2017-06-06T02:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the latest `cryptography` release, connections to servers that negotiate RC4 fail at [transport.py:1679](https://github.com/paramiko/paramiko/blob/master/paramiko/transport.py#L1679) with `AttributeError: '_CipherContext' object has no attribute 'encrypt'`.\r\n\r\n(This is not a request for continued RC4 support counter to #667; I only noticed this connecting to someone else's misconfigured server, which has since been fixed.)", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/923/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/920", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/920/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/920/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/920/events", "html_url": "https://github.com/paramiko/paramiko/pull/920", "id": 215595461, "node_id": "MDExOlB1bGxSZXF1ZXN0MTExNjc5OTQ4", "number": 920, "title": "Fix mpint serialization to properly handle zero.", "user": {"login": "sethmlarson", "id": 18519037, "node_id": "MDQ6VXNlcjE4NTE5MDM3", "avatar_url": "https://avatars.githubusercontent.com/u/18519037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sethmlarson", "html_url": "https://github.com/sethmlarson", "followers_url": "https://api.github.com/users/sethmlarson/followers", "following_url": "https://api.github.com/users/sethmlarson/following{/other_user}", "gists_url": "https://api.github.com/users/sethmlarson/gists{/gist_id}", "starred_url": "https://api.github.com/users/sethmlarson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sethmlarson/subscriptions", "organizations_url": "https://api.github.com/users/sethmlarson/orgs", "repos_url": "https://api.github.com/users/sethmlarson/repos", "events_url": "https://api.github.com/users/sethmlarson/events{/privacy}", "received_events_url": "https://api.github.com/users/sethmlarson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 9, "created_at": "2017-03-21T00:31:26Z", "updated_at": "2018-10-31T02:31:09Z", "closed_at": "2018-10-31T02:31:09Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/920", "html_url": "https://github.com/paramiko/paramiko/pull/920", "diff_url": "https://github.com/paramiko/paramiko/pull/920.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/920.patch", "merged_at": null}, "body": "Paramiko incorrectly handles the zero case of serializing the `mpint` type. See examples from [RFC 4251 section 5](https://www.ietf.org/rfc/rfc4251.txt) regarding the `mpint` type. Paramiko fails the first example and encodes zero as `b'\\x00\\x00\\x00\\x01\\x00'` which functionally isn't incorrect but is still contrary to the RFC which states \"The value zero MUST be stored as a string with zero bytes of data.\"", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/920/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/915", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/915/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/915/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/915/events", "html_url": "https://github.com/paramiko/paramiko/issues/915", "id": 211545551, "node_id": "MDU6SXNzdWUyMTE1NDU1NTE=", "number": 915, "title": "hostname canonicalization with GSSAPI", "user": {"login": "pseudometric", "id": 1487528, "node_id": "MDQ6VXNlcjE0ODc1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1487528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pseudometric", "html_url": "https://github.com/pseudometric", "followers_url": "https://api.github.com/users/pseudometric/followers", "following_url": "https://api.github.com/users/pseudometric/following{/other_user}", "gists_url": "https://api.github.com/users/pseudometric/gists{/gist_id}", "starred_url": "https://api.github.com/users/pseudometric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pseudometric/subscriptions", "organizations_url": "https://api.github.com/users/pseudometric/orgs", "repos_url": "https://api.github.com/users/pseudometric/repos", "events_url": "https://api.github.com/users/pseudometric/events{/privacy}", "received_events_url": "https://api.github.com/users/pseudometric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-02T23:03:26Z", "updated_at": "2017-09-13T17:04:54Z", "closed_at": "2017-09-13T17:04:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nIn `Transport.set_gss_host()`, there is this:\r\n\r\n```\r\n# We need the FQDN to get this working with SSPI\r\nself.gss_host = socket.getfqdn(gss_host)\r\n```\r\n\r\nThis is a common mistake in GSSAPI programming, and a misunderstanding. I'm sure the author needed to canonicalize the hostname in order to get his test case working with SSPI, but that does not mean it's the right thing to do in general.\r\n\r\nWhen using hostbased-service names with GSSAPI (type GSS_C_NT_HOSTBASED_SERVICE) \u2014 the usual case \u2014 GSSAPI clients should pass the hostname exactly as provided by the user. It should *not* be canonicalized or altered in any way, because Kerberos implementations have their own name canonicalization policies when handling this name type, and it may not match. For example, if you are using MIT Kerberos and you set libdefaults.rdns = no in krb5.conf, this turns off the reverse-address component of hostname canonicalization \u2014 but the Python socket.getfqdn() still does it.\r\n\r\nAt a well-administered Kerberos site, the DNS and Kerberos principal names are coordinated, together with the local name canonicalization policy, so that everything works as expected. Applications that take it upon themselves to alter the hostname before passing it to GSSAPI will just break that correspondence in some cases, and not work properly.\r\n\r\nIt *is* useful to have a parameter like `gss_host`, so that users can override the hostname in cases where the site setup is wrong and names don't match. (Compare GSSAPIServerIdentity in OpenSSH. Even more useful is an option to pass a literal Kerberos principal name instead, bypassing the hostname entirely and providing complete flexibility) But, that would be the opposite of the current treatment of `gss_host`: it would *not* be canonicalized if passed. Worse, the current behavior of `gss_host` is inconsistent in this regard anyway: calling `set_gss_host()` canonicalizes, while passing `gss_host` as a parameter to the Transport init() routine does not, giving confusing behavior. It means that I can specify the literal GSSAPI hostname and fix the problem with this:\r\n\r\n```\r\n  t = paramiko.Transport((server, 22))\r\n  t.connect(username = os.environ['LOGNAME'],\r\n            gss_host = server,\r\n            gss_auth = True,\r\n            gss_kex  = True)\r\n```\r\n\r\nbut not with this:\r\n\r\n```\r\n  ssh = paramiko.SSHClient()\r\n  ssh.connect( hostname = server,\r\n               gss_host = server,\r\n               gss_auth = True,\r\n               gss_kex  = True)\r\n```\r\n\r\nbecause the latter calls `set_gss_host()` and canonicalizes, while the former does not.\r\n\r\nFinally, the code as-is is not in fact even right for SSPI. Windows behaves like MIT Kerberos with libdefaults.rdns = no: it does not reverse-map addresses, rather only resolving aliases (DNS CNAMEs) \u2014 so it does not match the behavior of socket.fqdn().\r\n\r\nSince fixing the discrepancy in the behavior the kwarg `gss_host` vs `set_gss_host()` means that some existing use cases are bound to break, I would take the simplest route to fixing this: remove the canonicalization entirely, and tell people that if they need to change the hostname before passing it to Paramiko to deal with broken DNS/Kerberos correspondence at their site, they'll have to do that themselves.\r\n\r\nIf you think it's more important to preserve the canonicalization, then I suggest:\r\n\r\n1. Fix the inconsistency by ensuring that `gss_host` is always canonicalized, regardless of how it's given.\r\n\r\n1. Add a `gss_canonicalize` option controlling that, default true, preserving (some of) the current behavior. Setting this to false will give the more generally correct behavior, and also allow users to override the hostname effectively if needed.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/915/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/915/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/910", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/910/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/910/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/910/events", "html_url": "https://github.com/paramiko/paramiko/pull/910", "id": 209878741, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3NzA4NzYw", "number": 910, "title": "SSHClient: request host key type from known_hosts", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 151049708, "node_id": "MDU6TGFiZWwxNTEwNDk3MDg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/known_hosts", "name": "known_hosts", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/17", "html_url": "https://github.com/paramiko/paramiko/milestone/17", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/17/labels", "id": 2344381, "node_id": "MDk6TWlsZXN0b25lMjM0NDM4MQ==", "number": 17, "title": "2.0.6 etc", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2017-02-23T21:04:47Z", "updated_at": "2017-06-09T21:37:46Z", "due_on": null, "closed_at": "2017-06-09T21:37:46Z"}, "comments": 10, "created_at": "2017-02-23T20:43:42Z", "updated_at": "2017-09-13T18:42:49Z", "closed_at": "2017-06-09T21:35:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/910", "html_url": "https://github.com/paramiko/paramiko/pull/910", "diff_url": "https://github.com/paramiko/paramiko/pull/910.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/910.patch", "merged_at": "2017-06-09T21:35:11Z"}, "body": "fixes #865 \r\n\r\none part of an alternative set of PRs to #899 \r\n\r\nI only backported this to 2.1 because there were some changes around `t.start_client()` in 2.0 and 2.1 which make forward-merging have possibly tricky conflicts there. I can backport further if you would like, and won't mind the conflict resolution when forward-merging :)", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/910/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/873", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/873/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/873/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/873/events", "html_url": "https://github.com/paramiko/paramiko/issues/873", "id": 200418287, "node_id": "MDU6SXNzdWUyMDA0MTgyODc=", "number": 873, "title": "write_private_key(_file) methods ignore passwords", "user": {"login": "LuboO", "id": 5676691, "node_id": "MDQ6VXNlcjU2NzY2OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5676691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LuboO", "html_url": "https://github.com/LuboO", "followers_url": "https://api.github.com/users/LuboO/followers", "following_url": "https://api.github.com/users/LuboO/following{/other_user}", "gists_url": "https://api.github.com/users/LuboO/gists{/gist_id}", "starred_url": "https://api.github.com/users/LuboO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LuboO/subscriptions", "organizations_url": "https://api.github.com/users/LuboO/orgs", "repos_url": "https://api.github.com/users/LuboO/repos", "events_url": "https://api.github.com/users/LuboO/events{/privacy}", "received_events_url": "https://api.github.com/users/LuboO/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-12T16:43:31Z", "updated_at": "2017-06-06T22:51:36Z", "closed_at": "2017-06-06T22:51:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following code:\r\n\r\n>import paramiko\r\n>k = paramiko.RSAKey.generate(2048)\r\n>k.write_private_key_file(\"key\", password=\"password\")\r\n\r\nwill create file \"key\" with unencrypted private key. In this case, password is totally ignored. I am using paramiko-2.1.1, cryptography-1.7.1, python-3.5.2 on Ubuntu 16.04. No traceback or error is issued.\r\n\r\nIs this some feature or am I doing something wrong?", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/873/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/871", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/871/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/871/events", "html_url": "https://github.com/paramiko/paramiko/issues/871", "id": 199208335, "node_id": "MDU6SXNzdWUxOTkyMDgzMzU=", "number": 871, "title": "Not possible to use the sftp.open file descriptor as an object for s3.upload_fileobj", "user": {"login": "zioalex", "id": 3593840, "node_id": "MDQ6VXNlcjM1OTM4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3593840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zioalex", "html_url": "https://github.com/zioalex", "followers_url": "https://api.github.com/users/zioalex/followers", "following_url": "https://api.github.com/users/zioalex/following{/other_user}", "gists_url": "https://api.github.com/users/zioalex/gists{/gist_id}", "starred_url": "https://api.github.com/users/zioalex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zioalex/subscriptions", "organizations_url": "https://api.github.com/users/zioalex/orgs", "repos_url": "https://api.github.com/users/zioalex/repos", "events_url": "https://api.github.com/users/zioalex/events{/privacy}", "received_events_url": "https://api.github.com/users/zioalex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-06T14:36:19Z", "updated_at": "2017-01-09T19:20:09Z", "closed_at": "2017-01-09T18:25:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I tried to copy a file object from an sftp connection:\r\n`with sftp.open(remote_dir + \"/\" + filename, 'rb') as f:`\r\n`data = f.read()`\r\n`size = f.tell()`\r\n`s3.upload_fileobj(f, s3bucket, 'logs/' + filename )`\r\n\r\n\r\nThe file is created but it is empty\r\nInstead reading from the local file works as expected:\r\n\r\n`\r\nwith open(localdir + \"/\" + filename, 'rb') as readlocalfile:\r\ns3.upload_fileobj(readlocalfile, s3bucket, 'logs/' + filename)\r\n`\r\nReading the docs [](http://docs.paramiko.org/en/2.1/api/sftp.html#paramiko.sftp_client.SFTPClient) I expected the same behaviour.\r\n\r\nPlease can you help with it.\r\nThanks\r\nAlessandro", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/871/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/865", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/865/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/865/events", "html_url": "https://github.com/paramiko/paramiko/issues/865", "id": 196140959, "node_id": "MDU6SXNzdWUxOTYxNDA5NTk=", "number": 865, "title": "only rsa host key checked", "user": {"login": "ploxiln", "id": 649835, "node_id": "MDQ6VXNlcjY0OTgzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/649835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploxiln", "html_url": "https://github.com/ploxiln", "followers_url": "https://api.github.com/users/ploxiln/followers", "following_url": "https://api.github.com/users/ploxiln/following{/other_user}", "gists_url": "https://api.github.com/users/ploxiln/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploxiln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploxiln/subscriptions", "organizations_url": "https://api.github.com/users/ploxiln/orgs", "repos_url": "https://api.github.com/users/ploxiln/repos", "events_url": "https://api.github.com/users/ploxiln/events{/privacy}", "received_events_url": "https://api.github.com/users/ploxiln/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-12-16T19:52:39Z", "updated_at": "2019-08-19T18:41:19Z", "closed_at": "2019-08-19T18:41:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm testing with Fabric==1.13.1, paramiko==2.1.1, cryptography==1.7.1\r\n\r\nThe default ssh server setup on ubuntu 16.04 (and probably most recent versions of ubuntu and debian) is to generate one of each kind of host key. The default `sshd_config` contains this:\r\n\r\n```\r\nProtocol 2\r\n# HostKeys for protocol version 2\r\nHostKey /etc/ssh/ssh_host_rsa_key\r\nHostKey /etc/ssh/ssh_host_dsa_key\r\nHostKey /etc/ssh/ssh_host_ecdsa_key\r\nHostKey /etc/ssh/ssh_host_ed25519_key\r\n```\r\n\r\nWhen using the openssh client (6.9p1 on MacOS 10.11), it chooses the ecdsa key to put in `known_hosts`, and on later invocations it checks all the host keys the server presents to find the one of the appropriate type to check.\r\n\r\nBut paramiko seems to only look at the rsa one, sees that it's not the same type as what's in known_hosts, and so ignores it. Thus paramiko never notices when the host key changes.\r\n\r\n```\r\n$ ssh testdeploy03.ec2.st-av.net\r\n...\r\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\r\n...\r\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\r\nIt is also possible that a host key has just been changed.\r\nThe fingerprint for the ECDSA key sent by the remote host is\r\nSHA256:aB6l8o7WhWdJ02tPavyPBGTFgqe1VaqwuLVfJttiQ/c.\r\n...\r\nOffending ECDSA key in /Users/pierce/.ssh/known_hosts:19\r\nECDSA host key for testdeploy03.ec2.st-av.net has changed and you have requested strict checking.\r\nHost key verification failed.\r\n$ fab -H testdeploy03.ec2.st-av.net basictask\r\n[testdeploy03.ec2.st-av.net] Executing task 'basictask'\r\n[testdeploy03.ec2.st-av.net] run: hostname && echo hi there\r\n[testdeploy03.ec2.st-av.net] out: testdeploy03.ec2.st-av.net\r\n[testdeploy03.ec2.st-av.net] out: hi there\r\n...\r\nDisconnecting from testdeploy03.ec2.st-av.net... done.\r\n```\r\n\r\nBut if I put an incorrect rsa key in known_hosts, paramiko correctly notices that the host key is wrong. Or, if I put an incorrect ecdsa key in known_hosts, and change `sshd_config` to only offer the ecdsa key, paramiko correctly notices that the host key is wrong.\r\n\r\n```\r\n$ fab -H testdeploy03.ec2.st-av.net basictask\r\n[testdeploy03.ec2.st-av.net] Executing task 'basictask'\r\n[testdeploy03.ec2.st-av.net] run: hostname && echo hi there\r\n\r\nFatal error: Host key for testdeploy03.ec2.st-av.net did not match pre-existing key! Server's key was changed recently, or possible man-in-the-middle attack.\r\n\r\nUnderlying exception:\r\n    ('testdeploy03.ec2.st-av.net', <paramiko.ecdsakey.ECDSAKey object at 0x10c805310>, <paramiko.ecdsakey.ECDSAKey object at 0x10c7fb7d0>)\r\n\r\nAborting.\r\n```\r\n\r\nThis also works to hide the problem pointed out in #794 - if the ecdsa-sha2-nistp384/521 key is not the only host key, if there is also a dsa or rsa host key in sshd_config, then paramiko will use the rsa or dsa host key and will seem to work. (But if you had the ecdsa key in known_hosts, it's not being checked.)\r\n\r\n(As a final detail, recent openssh server and client will refuse to actually use the dsa key, I think it's obsolete.)", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/865/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/863", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/863/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/863/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/863/events", "html_url": "https://github.com/paramiko/paramiko/pull/863", "id": 195638799, "node_id": "MDExOlB1bGxSZXF1ZXN0OTgwMzA0NjA=", "number": 863, "title": "Avoid PacketizerTest.test_closed_3 to fail on platforms where errno.ETIME is not defined", "user": {"login": "sbz", "id": 30615, "node_id": "MDQ6VXNlcjMwNjE1", "avatar_url": "https://avatars.githubusercontent.com/u/30615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbz", "html_url": "https://github.com/sbz", "followers_url": "https://api.github.com/users/sbz/followers", "following_url": "https://api.github.com/users/sbz/following{/other_user}", "gists_url": "https://api.github.com/users/sbz/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbz/subscriptions", "organizations_url": "https://api.github.com/users/sbz/orgs", "repos_url": "https://api.github.com/users/sbz/repos", "events_url": "https://api.github.com/users/sbz/events{/privacy}", "received_events_url": "https://api.github.com/users/sbz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-14T20:34:52Z", "updated_at": "2017-02-21T05:10:25Z", "closed_at": "2017-02-20T22:47:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/863", "html_url": "https://github.com/paramiko/paramiko/pull/863", "diff_url": "https://github.com/paramiko/paramiko/pull/863.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/863.patch", "merged_at": null}, "body": "This changes define the proper Timer expired error message instead of raising\r\nAttributeError when errno.ETIME is not available on the platform. fixes #862", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/863/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/854", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/854/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/854/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/854/events", "html_url": "https://github.com/paramiko/paramiko/issues/854", "id": 191872778, "node_id": "MDU6SXNzdWUxOTE4NzI3Nzg=", "number": 854, "title": "auth_gssapi_keyex minor documentation inconsistency", "user": {"login": "ScoreUnder", "id": 1123686, "node_id": "MDQ6VXNlcjExMjM2ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1123686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ScoreUnder", "html_url": "https://github.com/ScoreUnder", "followers_url": "https://api.github.com/users/ScoreUnder/followers", "following_url": "https://api.github.com/users/ScoreUnder/following{/other_user}", "gists_url": "https://api.github.com/users/ScoreUnder/gists{/gist_id}", "starred_url": "https://api.github.com/users/ScoreUnder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ScoreUnder/subscriptions", "organizations_url": "https://api.github.com/users/ScoreUnder/orgs", "repos_url": "https://api.github.com/users/ScoreUnder/repos", "events_url": "https://api.github.com/users/ScoreUnder/events{/privacy}", "received_events_url": "https://api.github.com/users/ScoreUnder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120561604, "node_id": "MDU6TGFiZWwxMjA1NjE2MDQ=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 1, "created_at": "2016-11-27T17:16:41Z", "updated_at": "2016-12-06T02:03:19Z", "closed_at": "2016-12-06T02:03:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the [documentation for `Transport`](http://docs.paramiko.org/en/2.0/api/transport.html#paramiko.transport.Transport.auth_gssapi_keyex), the `auth_gssapi_keyex` function is documented with a signature of only one parameter, but has descriptions for three parameters.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/853", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/853/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/853/events", "html_url": "https://github.com/paramiko/paramiko/issues/853", "id": 191825355, "node_id": "MDU6SXNzdWUxOTE4MjUzNTU=", "number": 853, "title": "TypeError: __str__ returned non-string (type bytes)", "user": {"login": "franciscouzo", "id": 1223983, "node_id": "MDQ6VXNlcjEyMjM5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1223983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/franciscouzo", "html_url": "https://github.com/franciscouzo", "followers_url": "https://api.github.com/users/franciscouzo/followers", "following_url": "https://api.github.com/users/franciscouzo/following{/other_user}", "gists_url": "https://api.github.com/users/franciscouzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/franciscouzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/franciscouzo/subscriptions", "organizations_url": "https://api.github.com/users/franciscouzo/orgs", "repos_url": "https://api.github.com/users/franciscouzo/repos", "events_url": "https://api.github.com/users/franciscouzo/events{/privacy}", "received_events_url": "https://api.github.com/users/franciscouzo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-11-26T20:33:59Z", "updated_at": "2021-04-08T19:26:06Z", "closed_at": "2017-02-21T05:04:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using Python 3, `str(key)` throws a `TypeError` exception:\r\n\r\n```\r\n>>> key = paramiko.RSAKey(filename=\"id_rsa_paramiko\")\r\n>>> str(key)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: __str__ returned non-string (type bytes)\r\n```\r\n\r\nI only tried with `RSAKey`, but looking at the source code it looks like all `PKey` subclasses have the same problem.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/853/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/850", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/850/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/850/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/850/events", "html_url": "https://github.com/paramiko/paramiko/issues/850", "id": 189861223, "node_id": "MDU6SXNzdWUxODk4NjEyMjM=", "number": 850, "title": "Call to missing_host_key missing the 'key' positional argument", "user": {"login": "pmariani", "id": 222020, "node_id": "MDQ6VXNlcjIyMjAyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/222020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmariani", "html_url": "https://github.com/pmariani", "followers_url": "https://api.github.com/users/pmariani/followers", "following_url": "https://api.github.com/users/pmariani/following{/other_user}", "gists_url": "https://api.github.com/users/pmariani/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmariani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmariani/subscriptions", "organizations_url": "https://api.github.com/users/pmariani/orgs", "repos_url": "https://api.github.com/users/pmariani/repos", "events_url": "https://api.github.com/users/pmariani/events{/privacy}", "received_events_url": "https://api.github.com/users/pmariani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 8, "created_at": "2016-11-16T22:02:51Z", "updated_at": "2016-12-02T15:49:29Z", "closed_at": "2016-12-02T15:46:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "On https://github.com/paramiko/paramiko/blob/master/paramiko/client.py#L360 , that call should provide a 3rd positional argument.", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/850/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/826", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/826/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/826/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/826/events", "html_url": "https://github.com/paramiko/paramiko/issues/826", "id": 182248957, "node_id": "MDU6SXNzdWUxODIyNDg5NTc=", "number": 826, "title": "sftp listdir returns duplicate file names", "user": {"login": "cchwala", "id": 102827, "node_id": "MDQ6VXNlcjEwMjgyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/102827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cchwala", "html_url": "https://github.com/cchwala", "followers_url": "https://api.github.com/users/cchwala/followers", "following_url": "https://api.github.com/users/cchwala/following{/other_user}", "gists_url": "https://api.github.com/users/cchwala/gists{/gist_id}", "starred_url": "https://api.github.com/users/cchwala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cchwala/subscriptions", "organizations_url": "https://api.github.com/users/cchwala/orgs", "repos_url": "https://api.github.com/users/cchwala/repos", "events_url": "https://api.github.com/users/cchwala/events{/privacy}", "received_events_url": "https://api.github.com/users/cchwala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-10-11T12:18:57Z", "updated_at": "2016-10-14T09:56:57Z", "closed_at": "2016-10-13T18:05:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the `listdir` function of sftp I sometimes and randomly get duplicate file name entries in the returned list. When I use `listdir_iter` everything works as expected.\n\nExample script:\n\n``` python\n#!/usr/bin/env python\n\nimport paramiko\nimport collections\n\n#print 'paramiko version = ', paramiko.__version__\n\nuser = 'my_user'\nserver = 'my_server'\nremote_data_dir = 'my_data_dir'\n\n# Connect to server\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy( paramiko.AutoAddPolicy() )\nssh.connect(server, username=user)\nsftp = ssh.open_sftp()\n\n# Get file list\nprint '\\nGet file list via `listdir`'\nfn_list = sftp.listdir(remote_data_dir)\nprint 'Length of `fn_list` = ', len(fn_list)\n\n# Print duplicates\nprint 'Duplicates:'\nprint [item for item, count in collections.Counter(fn_list).items() if count > 1]\n\n# Get iterater for files on server\nprint '\\nGet files via `listdir_iter`'\nfn_iter = sftp.listdir_iter(remote_data_dir)\nfn_list = [fn for fn in fn_iter]\nprint 'Length of `fn_list` = ', len(fn_list)\n\n# Print duplicates again\nprint 'Duplicates:'\nprint [item for item, count in collections.Counter(fn_list).items() if count > 1]\n\n```\n\nOutput:\n\n```\nGet file list via `listdir`\nLength of `fn_list` =  43338\nDuplicates:\n[u'TN_Ericsson_20161011_092809.dat.gz', u'TN_Ericsson_20161010_001800.dat.gz']\n\nGet files via `listdir_iter`\nLength of `fn_list` =  43338\nDuplicates:\n[]\n```\n\nRerunning the script yields different duplicates or sometime none.\n\nThe number of files on the server grows constantly, with newly transferred files every minute. But the false duplicates are not within the newest files, so a possible update while `listdir` is working should not be the cause.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/824", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/824/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/824/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/824/events", "html_url": "https://github.com/paramiko/paramiko/pull/824", "id": 181542116, "node_id": "MDExOlB1bGxSZXF1ZXN0ODgzNTMyMDM=", "number": 824, "title": "open() function does not support setting file permissions", "user": {"login": "JohnVillalovos", "id": 578155, "node_id": "MDQ6VXNlcjU3ODE1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/578155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnVillalovos", "html_url": "https://github.com/JohnVillalovos", "followers_url": "https://api.github.com/users/JohnVillalovos/followers", "following_url": "https://api.github.com/users/JohnVillalovos/following{/other_user}", "gists_url": "https://api.github.com/users/JohnVillalovos/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnVillalovos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnVillalovos/subscriptions", "organizations_url": "https://api.github.com/users/JohnVillalovos/orgs", "repos_url": "https://api.github.com/users/JohnVillalovos/repos", "events_url": "https://api.github.com/users/JohnVillalovos/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnVillalovos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 5, "created_at": "2016-10-06T22:32:15Z", "updated_at": "2016-12-06T04:47:41Z", "closed_at": "2016-12-06T04:47:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/824", "html_url": "https://github.com/paramiko/paramiko/pull/824", "diff_url": "https://github.com/paramiko/paramiko/pull/824.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/824.patch", "merged_at": null}, "body": "The open() function does not support setting file permissions[1]. The\ncode was setting the buffer to 0o600. Remove the attempted file\npermission value.\n\n[1] https://docs.python.org/2/library/functions.html#open\n\nChange-Id: I582e226f8bc76e877c7da686f36e2efa33f0d24f\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/824/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/823", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/823/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/823/events", "html_url": "https://github.com/paramiko/paramiko/pull/823", "id": 180774569, "node_id": "MDExOlB1bGxSZXF1ZXN0ODc4MTE5MzQ=", "number": 823, "title": "Channel signal send & receive support", "user": {"login": "radssh", "id": 8227350, "node_id": "MDQ6VXNlcjgyMjczNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/8227350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/radssh", "html_url": "https://github.com/radssh", "followers_url": "https://api.github.com/users/radssh/followers", "following_url": "https://api.github.com/users/radssh/following{/other_user}", "gists_url": "https://api.github.com/users/radssh/gists{/gist_id}", "starred_url": "https://api.github.com/users/radssh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/radssh/subscriptions", "organizations_url": "https://api.github.com/users/radssh/orgs", "repos_url": "https://api.github.com/users/radssh/repos", "events_url": "https://api.github.com/users/radssh/events{/privacy}", "received_events_url": "https://api.github.com/users/radssh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/23", "html_url": "https://github.com/paramiko/paramiko/milestone/23", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/23/labels", "id": 3743832, "node_id": "MDk6TWlsZXN0b25lMzc0MzgzMg==", "number": 23, "title": "p2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 7, "closed_issues": 1, "state": "open", "created_at": "2018-10-16T17:25:00Z", "updated_at": "2023-01-28T00:31:23Z", "due_on": null, "closed_at": null}, "comments": 10, "created_at": "2016-10-03T23:42:55Z", "updated_at": "2021-10-09T01:00:51Z", "closed_at": "2021-10-09T01:00:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/823", "html_url": "https://github.com/paramiko/paramiko/pull/823", "diff_url": "https://github.com/paramiko/paramiko/pull/823.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/823.patch", "merged_at": null}, "body": "For #785 - didn't notice the whitespace changes until just now, can amend PR if you want that tidied up. Feels a bit kludgey to have both exit_status and exit_signal which are mutually exclusive, but can't do too much without possibly breaking existing code.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/823/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/796", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/796/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/796/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/796/events", "html_url": "https://github.com/paramiko/paramiko/issues/796", "id": 170448802, "node_id": "MDU6SXNzdWUxNzA0NDg4MDI=", "number": 796, "title": "recv_ready reports true when false?", "user": {"login": "Jim-Wright", "id": 3586379, "node_id": "MDQ6VXNlcjM1ODYzNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3586379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jim-Wright", "html_url": "https://github.com/Jim-Wright", "followers_url": "https://api.github.com/users/Jim-Wright/followers", "following_url": "https://api.github.com/users/Jim-Wright/following{/other_user}", "gists_url": "https://api.github.com/users/Jim-Wright/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jim-Wright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jim-Wright/subscriptions", "organizations_url": "https://api.github.com/users/Jim-Wright/orgs", "repos_url": "https://api.github.com/users/Jim-Wright/repos", "events_url": "https://api.github.com/users/Jim-Wright/events{/privacy}", "received_events_url": "https://api.github.com/users/Jim-Wright/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-08-10T15:38:04Z", "updated_at": "2016-08-11T17:51:47Z", "closed_at": "2016-08-11T17:51:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is possibly related to Bug #515, command hangs forever.\n\nI'm running Python 3.5.2, paramiko 2.0.1\n\nI have code that checks to see if I am at a command prompt, I first call recv_ready to see if there is data to be read, and if so, I read it.  I have found that if the device I'm talking to stops sending data, recv_ready incorrectly thinks that there is data to be read, which causes a hang.\n\n```\ndef checkPrompt():\n    if (not ssh_shell.recv_ready):\n        print(\"not ready... \", end='')\n        return False\n    output = ssh_shell.recv(1000)\n    print(\"read %s characters\" % len(output))\n    output = output.decode(\"utf-8\")\n    # Print the output before stripping characters off\n    print(output, end='')\n    output = output.strip()\n    return output.endswith('#')\n```\n\nThe particular command I'm sending to my switch is telling it to tftp a new firmware file to its flash, this takes about 60 seconds, and I'm seeing progress data coming back as expected.  Then the unit verifies the firmware, this process takes close to 3 minutes, and no (visible?) output is seen in an SSH session (verified by opening an SSH session with Putty).\n\nDuring this 3 minute period, my call to the above checkPrompt() should be repeatedly outputting 'not ready...\" every time if recv_ready is not true.  But I'm not seeing this message appear, so there looks like there is data waiting to be read, but when I call to recv the data, it hangs.\n\nI'm stumped on why this is happening.  As far as I know, there is no way to check how much data is waiting on the buffer, or to somehow debug the buffer contents prior to reading the buffer. \n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/793", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/793/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/793/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/793/events", "html_url": "https://github.com/paramiko/paramiko/issues/793", "id": 168841445, "node_id": "MDU6SXNzdWUxNjg4NDE0NDU=", "number": 793, "title": "found a hang bug in poor network condition", "user": {"login": "boywhp", "id": 6220687, "node_id": "MDQ6VXNlcjYyMjA2ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/6220687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boywhp", "html_url": "https://github.com/boywhp", "followers_url": "https://api.github.com/users/boywhp/followers", "following_url": "https://api.github.com/users/boywhp/following{/other_user}", "gists_url": "https://api.github.com/users/boywhp/gists{/gist_id}", "starred_url": "https://api.github.com/users/boywhp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boywhp/subscriptions", "organizations_url": "https://api.github.com/users/boywhp/orgs", "repos_url": "https://api.github.com/users/boywhp/repos", "events_url": "https://api.github.com/users/boywhp/events{/privacy}", "received_events_url": "https://api.github.com/users/boywhp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-02T09:39:33Z", "updated_at": "2016-12-07T16:45:17Z", "closed_at": "2016-12-07T16:45:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found a hang bug when i used paramiko lib (release paramiko-2.0.2) in some poor network . here is the hang stack in eclipse:\n\n```\n    thread0 - pid2994_seq5  \n        wait_for_response [auth_handler.py:193] \n        auth_password [transport.py:1269]   \n        _auth [client.py:590]   \n        connect [client.py:380] \n        handle_task [ssh.py:84] \n        __worker_thread [engine.py:507] \n        run [threading.py:763]  \n        __bootstrap_inner [threading.py:810]    \n        __bootstrap [threading.py:783]  \n```\n\n```\n    Thread-218 - pid2994_seq155 \n        read_all [packet.py:254]    \n        read_message [packet.py:391]    \n        run [transport.py:1760] \n        __bootstrap_inner [threading.py:810]    \n        __bootstrap [threading.py:783]  \n```\n\nI check paramiko codes and found paramiko used **socket.settimeout** to prevent read hang, \nBut actually **socket.settimeout** will only do effect in send, in some poor network sock.recv will hang for ever!!!\nSo I did a temp patch on paramiko-2.0.2:\n\n``````\ndiff -uN paramiko-2.0.2/client.py paramiko/client.py\n--- paramiko-2.0.2/client.py    2016-07-26 12:11:12.000000000 +0800\n+++ paramiko/client.py  2016-08-02 11:26:04.082162387 +0800\n@@ -335,7 +335,7 @@\n             t.set_log_channel(self._log_channel)\n         if banner_timeout is not None:\n             t.banner_timeout = banner_timeout\n-        t.start_client()\n+        t.start_client(timeout=timeout)\n         ResourceManager.register(self, t)\n\n         server_key = t.get_remote_server_key()\ndiff -uN paramiko-2.0.2/packet.py paramiko/packet.py\n--- paramiko-2.0.2/packet.py    2016-07-26 12:11:12.000000000 +0800\n+++ paramiko/packet.py  2016-08-02 16:55:07.020972741 +0800\n@@ -22,7 +22,7 @@\n\n import errno\n import os\n-import socket\n+import socket,select\n import struct\n import threading\n import time\n@@ -102,7 +102,7 @@\n         self.__timer = None\n         self.__handshake_complete = False\n         self.__timer_expired = False\n-\n+        self.recv_timeout = 5\n     @property\n     def closed(self):\n         return self.__closed\n@@ -230,6 +230,16 @@\n             self.__timer_expired = False\n             self.__handshake_complete = True\n\n+    def recv_without_hang(self, n):\n+        '''\n+        prevent hang on socket recv! patched by boywhp@gmail.com\n+        '''\n+        ready = select.select([self.__socket], [], [], self.recv_timeout)\n+        if ready[0]:\n+            return self.__socket.recv(n)\n+        \n+        return ''\n+    \n     def read_all(self, n, check_rekey=False):\n         \"\"\"\n         Read as close to N bytes as possible, blocking as long as necessary.\n@@ -251,7 +261,7 @@\n             if self.handshake_timed_out():\n                 raise EOFError()\n             try:\n-                x = self.__socket.recv(n)\n+                x = self.recv_without_hang(n) #self.__socket.recv(n)\n                 if len(x) == 0:\n                     raise EOFError()\n                 out += x\n@@ -482,7 +492,7 @@\n         start = time.time()\n         while True:\n             try:\n-                x = self.__socket.recv(128)\n+                x = self.recv_without_hang(128) #self.__socket.recv(128)\n                 if len(x) == 0:\n                     raise EOFError()\n                 break\ndiff -uN paramiko-2.0.2/transport.py paramiko/transport.py\n--- paramiko-2.0.2/transport.py 2016-07-26 12:11:12.00000   Thread-218 - pid2994_seq155 \n        read_all [packet.py:254]    \n        read_message [packet.py:391]    \n        run [transport.py:1760] \n        __bootstrap_inner [threading.py:810]    \n        __bootstrap [threading.py:783]  ```\n0000 +0800\n+++ paramiko/transport.py   2016-08-02 16:48:28.160962185 +0800\n@@ -444,7 +444,7 @@\n         # We need the FQDN to get this working with SSPI\n         self.gss_host = socket.getfqdn(gss_host)\n\n-    def start_client(self, event=None):\n+    def start_client(self, event=None, timeout=None):\n         \"\"\"\n         Negotiate a new SSH2 session as a client.  This is the first step after\n         creating a new `.Transport`.  A separate thread is created for protocol\n@@ -472,6 +472,9 @@\n         :param .threading.Event event:\n             an event to trigger when negotiation is complete (optional)\n\n+        :param float timeout:\n+            a timeout, in seconds, for SSH2 session negotiation (optional)\n+\n         :raises SSHException: if negotiation fails (and no ``event`` was passed\n             in)\n         \"\"\"\n@@ -481,10 +484,12 @@\n             self.completion_event = event\n             self.start()\n             return\n-\n+        \n+        if timeout is not None: self.packetizer.recv_timeout = timeout\n         # synchronous, wait for a result\n         self.completion_event = event = threading.Event()\n         self.start()\n+        max_time = time.time() + timeout if timeout is not None else None\n         while True:\n             event.wait(0.1)\n             if not self.active:\n@@ -492,7 +497,7 @@\n                 if e is not None:\n                     raise e\n                 raise SSHException('Negotiation failed.')\n-            if event.is_set():\n+            if event.is_set() or (timeout is not None and time.time() >= max_time):\n                 break\n\n     def start_server(self, event=None, server=None):\n``````\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/793/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/789", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/789/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/789/events", "html_url": "https://github.com/paramiko/paramiko/issues/789", "id": 168485067, "node_id": "MDU6SXNzdWUxNjg0ODUwNjc=", "number": 789, "title": "ProxyCommand objects need the socket-like-obj _closed fix too", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 10, "created_at": "2016-07-30T20:17:49Z", "updated_at": "2020-03-06T14:07:00Z", "closed_at": "2016-12-06T03:54:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/paramiko/paramiko/issues/774#issuecomment-236374022 ; also commutative to #520.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/785", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/785/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/785/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/785/events", "html_url": "https://github.com/paramiko/paramiko/issues/785", "id": 167163137, "node_id": "MDU6SXNzdWUxNjcxNjMxMzc=", "number": 785, "title": "how to Kill remote process on channel.close so it can be garbage collected correctly?", "user": {"login": "rustyscottweber", "id": 4672283, "node_id": "MDQ6VXNlcjQ2NzIyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4672283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rustyscottweber", "html_url": "https://github.com/rustyscottweber", "followers_url": "https://api.github.com/users/rustyscottweber/followers", "following_url": "https://api.github.com/users/rustyscottweber/following{/other_user}", "gists_url": "https://api.github.com/users/rustyscottweber/gists{/gist_id}", "starred_url": "https://api.github.com/users/rustyscottweber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rustyscottweber/subscriptions", "organizations_url": "https://api.github.com/users/rustyscottweber/orgs", "repos_url": "https://api.github.com/users/rustyscottweber/repos", "events_url": "https://api.github.com/users/rustyscottweber/events{/privacy}", "received_events_url": "https://api.github.com/users/rustyscottweber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-07-23T02:44:53Z", "updated_at": "2019-03-04T15:05:47Z", "closed_at": "2016-07-25T19:54:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a problem where getting the PTY is not an option I would/can consider.  However, I need to be able to kill a long running process when the process is no longer needed.  Previously, this could be accompolished by setting get_pty=True..  But that's not an option for me because of certain new issues with wall spitting out lots of data which will tamper with my long running output.\nI have some code similar to this..\npstdin, pstdout, pstderr = connection.pclient.exec_command(command=cmd, timeout=timeout, get_pty=False)\n# do stuff for a really long time\n\nself.pstdout.channel.close()\nI also cannot call kill on the process using the command line or the 'kill -9' or 'pkill' because there are MANY other processes that look exactly like it and I cannot distinguish which process is the one that needs to die and which ones need to keep living.. Strange.. I know....\nIs there a way to get the remote ssh server to kill the process when the channel is closed without using get_pty=True, or is it just a better solution to create a new connection for each process and then disconnect the connection to  make the ssh server clean up the process that way to ensure that there are no zombie processes created?\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/785/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/779", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/779/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/779/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/779/events", "html_url": "https://github.com/paramiko/paramiko/issues/779", "id": 166669789, "node_id": "MDU6SXNzdWUxNjY2Njk3ODk=", "number": 779, "title": "Observing a hang within SSHClient.connect()", "user": {"login": "sanseihappa", "id": 9142600, "node_id": "MDQ6VXNlcjkxNDI2MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/9142600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanseihappa", "html_url": "https://github.com/sanseihappa", "followers_url": "https://api.github.com/users/sanseihappa/followers", "following_url": "https://api.github.com/users/sanseihappa/following{/other_user}", "gists_url": "https://api.github.com/users/sanseihappa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanseihappa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanseihappa/subscriptions", "organizations_url": "https://api.github.com/users/sanseihappa/orgs", "repos_url": "https://api.github.com/users/sanseihappa/repos", "events_url": "https://api.github.com/users/sanseihappa/events{/privacy}", "received_events_url": "https://api.github.com/users/sanseihappa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-20T20:06:33Z", "updated_at": "2016-12-06T03:07:55Z", "closed_at": "2016-12-06T03:07:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "When attempting to connect to sometimes misbehaving SSH server, I am observing a hang during `SSHClient.connect()`.  Using the `faulthandler` module, it seems to stem from the call to Transport.start_client().\n\nHere is the `faulthandler` `SIGABRT` dump:\n\n```\n28-Jun-2016 08:44:47    Thread 0x00007f72f24cc700 (most recent call first):\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/paramiko/packet.py\", line 254 in read_all\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/paramiko/packet.py\", line 391 in read_message\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/paramiko/transport.py\", line 1754 in run\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n28-Jun-2016 08:44:47    \n28-Jun-2016 08:44:47    Thread 0x00007f72f3cdc700 (most recent call first):\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/xxxxxxxxxxx/xxxxxxxxxx.py\", line 643 in xxxxxxxxxxxxxx\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 763 in run\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n28-Jun-2016 08:44:47    \n28-Jun-2016 08:44:47    Thread 0x00007f72f1a0a700 (most recent call first):\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/xxxxxxxxxxx/xxxxxxxxxx.py\", line 563 in xxxxxxxxxxxxx\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 763 in run\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n28-Jun-2016 08:44:47    \n28-Jun-2016 08:44:47    Thread 0x00007f72f34db700 (most recent call first):\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/xxxxxxxxxxxxxxxxxx/xxxxxxxxxxxxxxxxxxxx.py\", line 197 in xxxxxxxxxxxxx\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/xxxxxxxxxxxxxxxxxx/xxxxxxxxxxxxxxxxxxxx.py\", line 155 in xxxxxx\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 763 in run\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n28-Jun-2016 08:44:47    \n28-Jun-2016 08:44:47    Current thread 0x00007f72f89d0740 (most recent call first):\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 358 in wait\n28-Jun-2016 08:44:47      File \"/usr/lib/python2.7/threading.py\", line 620 in wait\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/paramiko/transport.py\", line 489 in start_client\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/paramiko/client.py\", line 338 in connect\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/xxxxxxxxxxxxx/xxxxxxxxxxxx.py\", line 141 in xxxxxxx\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/xxxxxxxxxxxxx/xxxxxxxxxxxx.py\", line 278 in xxxxxxxxx\n28-Jun-2016 08:44:47      File \"/mnt/work/test/lib/utils.py\", line 774 in xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n28-Jun-2016 08:44:47      File \"features/environment.py\", line 222 in after_scenario\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/runner.py\", line 405 in run_hook\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/model.py\", line 919 in run\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/model.py\", line 523 in run\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/runner.py\", line 483 in run_model\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/runner.py\", line 693 in run_with_paths\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/runner.py\", line 672 in run\n28-Jun-2016 08:44:47      File \"/usr/local/lib/python2.7/dist-packages/behave/__main__.py\", line 109 in main\n28-Jun-2016 08:44:47      File \"/usr/local/bin/behave\", line 11 in <module>\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/779/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/774", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/774/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/774/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/774/events", "html_url": "https://github.com/paramiko/paramiko/issues/774", "id": 165448482, "node_id": "MDU6SXNzdWUxNjU0NDg0ODI=", "number": 774, "title": "Partial hang fix from #520 breaks proxy sockets", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 4, "created_at": "2016-07-14T00:01:56Z", "updated_at": "2016-07-30T20:16:27Z", "closed_at": "2016-07-26T03:41:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "An anonymous user noted via email that the partial fix committed earlier for #520 breaks on the \"using a `Channel` as a proxy socket\" use case (as seen eg via Fabric with `env.gateway` set - though I think this user was doing it independently of that).\n\nSpecifically, the issue happens because socket objects (under Py3) exhibit `._closed`, but `Channel` objects exhibit `.closed`. Since the earlier fix branches into a test of `sock._closed` under Python 3, an `AttributeError` is raised:\n\n```\n  File \"/opt/virtenv/3.5.2/lib/python3.5/site-packages/paramiko/client.py\", line 394, in close\n    self._transport.close()\n  File \"/opt/virtenv/3.5.2/lib/python3.5/site-packages/paramiko/transport.py\", line 645, in close\n    self.stop_thread()\n  File \"/opt/virtenv/3.5.2/lib/python3.5/site-packages/paramiko/transport.py\", line 1550, in stop_thread\n    and not self.sock._closed and not self.packetizer.closed\nAttributeError: 'Channel' object has no attribute '_closed'\n```\n\nAs this user suggests, I think a simple `hasattr` test added to the mix ought to suffice; this would also help with situations where `socket.closed` becomes a real API (ISTR confusion on this point during dev of the earlier fix anyways - but that was probably Python 2 vs 3.)\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/774/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/758", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/758/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/758/events", "html_url": "https://github.com/paramiko/paramiko/issues/758", "id": 157693594, "node_id": "MDU6SXNzdWUxNTc2OTM1OTQ=", "number": 758, "title": "Argument error on connect: int too long to convert", "user": {"login": "swohlerLL", "id": 16387103, "node_id": "MDQ6VXNlcjE2Mzg3MTAz", "avatar_url": "https://avatars.githubusercontent.com/u/16387103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swohlerLL", "html_url": "https://github.com/swohlerLL", "followers_url": "https://api.github.com/users/swohlerLL/followers", "following_url": "https://api.github.com/users/swohlerLL/following{/other_user}", "gists_url": "https://api.github.com/users/swohlerLL/gists{/gist_id}", "starred_url": "https://api.github.com/users/swohlerLL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swohlerLL/subscriptions", "organizations_url": "https://api.github.com/users/swohlerLL/orgs", "repos_url": "https://api.github.com/users/swohlerLL/repos", "events_url": "https://api.github.com/users/swohlerLL/events{/privacy}", "received_events_url": "https://api.github.com/users/swohlerLL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 10, "created_at": "2016-05-31T14:59:59Z", "updated_at": "2016-07-25T19:42:56Z", "closed_at": "2016-07-25T19:42:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to perform a simple connection with IP address on local network, username and password yields the following error:\n`ArgumentError: argument 2: <class 'OverflowError'>: int too long to convert`\n\nI'm running this in the iPython interpreter, on a 64-bit machine with Anaconda as the base python environment:\n\n```\nPython 3.5.1 |Anaconda 2.5.0 (64-bit)| (default, Jan 29 2016, 15:01:46) [MSC v.1900 64 bit (AMD64)]\nIPython 4.0.3 -- An enhanced Interactive Python.\n```\n\nThe sequence of commands:\n\n```\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nssh.connect(host, username=username, password=password)\n```\n\nThe full stack trace (some identifying info commented out with ***):\n\n```\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\client.py in connect(self, hostname, port, username, password, pkey, key_filename, timeout, allow_agent, look_for_keys, compress, sock, gss_auth, gss_kex, gss_deleg_creds, gss_host, banner_timeout)\n    378             gss_host = hostname\n    379         self._auth(username, password, pkey, key_filenames, allow_agent,\n--> 380                    look_for_keys, gss_auth, gss_kex, gss_deleg_creds, gss_host)\n    381\n    382     def close(self):\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\client.py in _auth(self, username, password, pkey, key_filenames, allow_agent, look_for_keys, gss_auth, gss_kex, gss_deleg_creds, gss_host)\n    528         if not two_factor and allow_agent:\n    529             if self._agent is None:\n--> 530                 self._agent = Agent()\n    531\n    532             for key in self._agent.get_keys():\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\agent.py in __init__(self)\n    361             # no agent support\n    362             return\n--> 363         self._connect(conn)\n    364\n    365     def close(self):\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\agent.py in _connect(self, conn)\n     64     def _connect(self, conn):\n     65         self._conn = conn\n---> 66         ptype, result = self._send_message(cSSH2_AGENTC_REQUEST_IDENTITIES)\n     67         if ptype != SSH2_AGENT_IDENTITIES_ANSWER:\n     68             raise SSHException('could not get keys from ssh-agent')\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\agent.py in _send_message(self, msg)\n     81     def _send_message(self, msg):\n     82         msg = asbytes(msg)\n---> 83         self._conn.send(struct.pack('>I', len(msg)) + msg)\n     84         l = self._read_all(4)\n     85         msg = Message(self._read_all(struct.unpack('>I', l)[0]))\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\win_pageant.py in send(self, data)\n    121\n    122     def send(self, data):\n--> 123         self._response = _query_pageant(data)\n    124\n    125     def recv(self, n):\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\win_pageant.py in _query_pageant(msg)\n     87\n     88     pymap = _winapi.MemoryMap(map_name, _AGENT_MAX_MSGLEN,\n---> 89         _winapi.get_security_attributes_for_user(),\n     90         )\n     91     with pymap:\n\nC:\\Users\\***\\Anaconda3\\lib\\site-packages\\paramiko\\_winapi.py in get_security_attributes_for_user(user)\n    362         SECURITY_DESCRIPTOR.REVISION)\n    363     ctypes.windll.advapi32.SetSecurityDescriptorOwner(ctypes.byref(SD),\n--> 364         user.SID, 0)\n    365     return SA\n\nArgumentError: argument 2: <class 'OverflowError'>: int too long to convert\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/758/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/748", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/748/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/748/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/748/events", "html_url": "https://github.com/paramiko/paramiko/issues/748", "id": 155207917, "node_id": "MDU6SXNzdWUxNTUyMDc5MTc=", "number": 748, "title": "'_RSAPublicKey' object has no attribute 'private_bytes'", "user": {"login": "vakorol", "id": 1204343, "node_id": "MDQ6VXNlcjEyMDQzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1204343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vakorol", "html_url": "https://github.com/vakorol", "followers_url": "https://api.github.com/users/vakorol/followers", "following_url": "https://api.github.com/users/vakorol/following{/other_user}", "gists_url": "https://api.github.com/users/vakorol/gists{/gist_id}", "starred_url": "https://api.github.com/users/vakorol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vakorol/subscriptions", "organizations_url": "https://api.github.com/users/vakorol/orgs", "repos_url": "https://api.github.com/users/vakorol/repos", "events_url": "https://api.github.com/users/vakorol/events{/privacy}", "received_events_url": "https://api.github.com/users/vakorol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-05-17T08:55:36Z", "updated_at": "2018-06-20T07:40:24Z", "closed_at": "2018-06-20T07:40:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading to paramiko 2.0, i see the following error:\n\n```\nFile \"/www/deploy/lib/sshclient.py\" in getPrivateKey\n  146.             self.pkey.write_private_key( _fstream )\nFile \"/usr/local/lib/python3.4/dist-packages/paramiko/rsakey.py\" in write_private_key\n  142.             password=password\nFile \"/usr/local/lib/python3.4/dist-packages/paramiko/pkey.py\" in _write_private_key\n  347.         f.write(key.private_bytes(\n\nException Type: AttributeError at /resources/2/verify/\nException Value: '_RSAPublicKey' object has no attribute 'private_bytes'\n```\n\nThis happens when i try to run method `write_private_key( _fstream )` on a `RSAKey` instance. The variable `_fstream` is an instance of a file-like stream class, child of `io.StringIO`.\n\nThis code worked fine in paramiko 1.17.\n\nPython version: 3.4.3\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/742", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/742/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/742/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/742/events", "html_url": "https://github.com/paramiko/paramiko/pull/742", "id": 153855140, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0MDAyMTA=", "number": 742, "title": "Fix #559, ignore bad ecdsa key when parsing", "user": {"login": "cebrusfs", "id": 2252236, "node_id": "MDQ6VXNlcjIyNTIyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2252236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cebrusfs", "html_url": "https://github.com/cebrusfs", "followers_url": "https://api.github.com/users/cebrusfs/followers", "following_url": "https://api.github.com/users/cebrusfs/following{/other_user}", "gists_url": "https://api.github.com/users/cebrusfs/gists{/gist_id}", "starred_url": "https://api.github.com/users/cebrusfs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cebrusfs/subscriptions", "organizations_url": "https://api.github.com/users/cebrusfs/orgs", "repos_url": "https://api.github.com/users/cebrusfs/repos", "events_url": "https://api.github.com/users/cebrusfs/events{/privacy}", "received_events_url": "https://api.github.com/users/cebrusfs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 2, "created_at": "2016-05-09T19:52:06Z", "updated_at": "2016-12-06T02:02:42Z", "closed_at": "2016-12-06T02:02:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/742", "html_url": "https://github.com/paramiko/paramiko/pull/742", "diff_url": "https://github.com/paramiko/paramiko/pull/742.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/742.patch", "merged_at": null}, "body": "Fix #559, if the ecdsa key can not be decrypted or is corrupted, it will trigger `AssertionError` in the parser libarary `cryptography/hazmat/backends/openssl/backend.py`.\nThis exception should be catch and throw the `SSHException` instead, then the higher layer of  `paramiko` can ignore this bad key.\n\nFor example, in  `client.connect()`, `paramiko` should try all possible keys, and ignore usable keys, but it should not throw a `AssertionError` exception when parsing.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/742/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/741", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/741/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/741/events", "html_url": "https://github.com/paramiko/paramiko/issues/741", "id": 153820842, "node_id": "MDU6SXNzdWUxNTM4MjA4NDI=", "number": 741, "title": "PKey._write_private_key uses old identifier from cryptography", "user": {"login": "virlos", "id": 14909622, "node_id": "MDQ6VXNlcjE0OTA5NjIy", "avatar_url": "https://avatars.githubusercontent.com/u/14909622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/virlos", "html_url": "https://github.com/virlos", "followers_url": "https://api.github.com/users/virlos/followers", "following_url": "https://api.github.com/users/virlos/following{/other_user}", "gists_url": "https://api.github.com/users/virlos/gists{/gist_id}", "starred_url": "https://api.github.com/users/virlos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/virlos/subscriptions", "organizations_url": "https://api.github.com/users/virlos/orgs", "repos_url": "https://api.github.com/users/virlos/repos", "events_url": "https://api.github.com/users/virlos/events{/privacy}", "received_events_url": "https://api.github.com/users/virlos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 6, "created_at": "2016-05-09T16:52:22Z", "updated_at": "2017-06-07T00:43:39Z", "closed_at": "2017-06-07T00:43:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Cryptography changed BestEncryption to BestAvailableEncryption in https://github.com/pyca/cryptography/commit/199dc276cd1b45a799b511090b37237df49d68a3#diff-f567fb1e66bd7ded34d4717d684339b7R188.\n\nThis results in a failure to write the key to a file with paramiko 2.0.0:\n\n> > > import paramiko\n> > > from StringIO import StringIO as S\n> > > key = paramiko.RSAKey.generate(bits=1024)\n> > > key.write_private_key(S(), password='hello')\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > >   File \"/usr/local/lib/python2.7/dist-packages/paramiko/rsakey.py\", line 142, in write_private_key\n> > >     password=password\n> > >   File \"/usr/local/lib/python2.7/dist-packages/paramiko/pkey.py\", line 345, in _write_private_key\n> > >     encryption = serialization.BestEncryption(password)\n> > > AttributeError: 'module' object has no attribute 'BestEncryption'\n> > > from cryptography.hazmat.primitives import serialization as s\n> > > dir(s)\n> > > ['BestAvailableEncryption', 'Encoding', 'Enum', 'KeySerializationEncryption', 'NoEncryption', 'PrivateFormat', 'PublicFormat', 'UnsupportedAlgorithm', '__builtins__', '**doc**', '**file**', '**name**', '**package**', '_load_ssh_dss_public_key', '_load_ssh_ecdsa_public_key', '_load_ssh_rsa_public_key', '_read_next_mpint', '_read_next_string', 'abc', 'absolute_import', 'base64', 'division', 'dsa', 'ec', 'load_der_private_key', 'load_der_public_key', 'load_pem_private_key', 'load_pem_public_key', 'load_ssh_public_key', 'print_function', 'rsa', 'six', 'struct', 'utils']\n> > > paramiko.__version__\n> > > '2.0.0'\n> > > import cryptography\n> > > cryptography.**version**\n> > > '1.3.2'\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/741/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/730", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/730/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/730/events", "html_url": "https://github.com/paramiko/paramiko/issues/730", "id": 150753188, "node_id": "MDU6SXNzdWUxNTA3NTMxODg=", "number": 730, "title": "Intermittent SFTP test failure on Travis", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-25T05:32:33Z", "updated_at": "2016-04-26T00:55:44Z", "closed_at": "2016-04-26T00:55:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Got the below tonight in the 1.17 line, but after merging a lot of stuff (including what I can only assume is the trigger, #578). Seeing that it was _only_ affecting Python 3.5, I figured it would be another race condition related, intermittent bug like #612. And **sure enough** mashing the 're-test' button on Travis made it green :(\n\nI haven't attempted to reproduce locally yet but will soon.\n\n```\ntest_9_big_file_big_buffer (tests.test_sftp_big.BigSFTPTest) ... ERROR\nERROR\nException ignored in: <bound method SFTPFile.__del__ of <paramiko.sftp_file.SFTPFile object at 0x7f2f551cda20>>\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 66, in __del__\n    self._close(async=True)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 87, in _close\n    BufferedFile.close(self)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 79, in close\n    self.flush()\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 87, in flush\n    self._write_all(self._wbuffer.getvalue())\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 498, in _write_all\n    count = self._write(data)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 176, in _write\n    self._reqs.append(self.sftp._async_request(type(None), CMD_WRITE, self.handle, long(self._realpos), data[:chunk]))\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\ntest_A_big_file_renegotiate (tests.test_sftp_big.BigSFTPTest) ... ERROR\nERROR\n======================================================================\nERROR: test_9_big_file_big_buffer (tests.test_sftp_big.BigSFTPTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 760, in _read_response\n    t, data = self._read_packet()\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 173, in _read_packet\n    x = self._read_all(4)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 159, in _read_all\n    raise EOFError()\nEOFError\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 337, in test_9_big_file_big_buffer\n    f.write(mblob)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 397, in write\n    self.flush()\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 87, in flush\n    self._write_all(self._wbuffer.getvalue())\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 498, in _write_all\n    count = self._write(data)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 180, in _write\n    t, msg = self.sftp._read_response(req)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 762, in _read_response\n    raise SSHException('Server connection dropped: %s' % str(e))\nparamiko.ssh_exception.SSHException: Server connection dropped: \nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 337, in test_9_big_file_big_buffer\n    f.write(mblob)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/util.py\", line 322, in __exit__\n    self.close()\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 72, in close\n    self._close(async=False)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 87, in _close\n    BufferedFile.close(self)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 79, in close\n    self.flush()\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 87, in flush\n    self._write_all(self._wbuffer.getvalue())\n  File \"/home/travis/build/paramiko/paramiko/paramiko/file.py\", line 498, in _write_all\n    count = self._write(data)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_file.py\", line 176, in _write\n    self._reqs.append(self.sftp._async_request(type(None), CMD_WRITE, self.handle, long(self._realpos), data[:chunk]))\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 341, in test_9_big_file_big_buffer\n    sftp.remove('%s/hongry.txt' % FOLDER)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 348, in remove\n    self._request(CMD_REMOVE, path)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 729, in _request\n    num = self._async_request(type(None), t, *arg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\n======================================================================\nERROR: test_9_big_file_big_buffer (tests.test_sftp_big.BigSFTPTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 54, in tearDown\n    sftp.rmdir(FOLDER)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 390, in rmdir\n    self._request(CMD_RMDIR, path)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 729, in _request\n    num = self._async_request(type(None), t, *arg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\n======================================================================\nERROR: test_A_big_file_renegotiate (tests.test_sftp_big.BigSFTPTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 352, in test_A_big_file_renegotiate\n    with sftp.open('%s/hongry.txt' % FOLDER, 'w', 128 * 1024) as f:\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 327, in open\n    t, msg = self._request(CMD_OPEN, filename, imode, attrblock)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 729, in _request\n    num = self._async_request(type(None), t, *arg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 367, in test_A_big_file_renegotiate\n    sftp.remove('%s/hongry.txt' % FOLDER)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 348, in remove\n    self._request(CMD_REMOVE, path)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 729, in _request\n    num = self._async_request(type(None), t, *arg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\n======================================================================\nERROR: test_A_big_file_renegotiate (tests.test_sftp_big.BigSFTPTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/travis/build/paramiko/paramiko/tests/test_sftp_big.py\", line 54, in tearDown\n    sftp.rmdir(FOLDER)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 390, in rmdir\n    self._request(CMD_RMDIR, path)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 729, in _request\n    num = self._async_request(type(None), t, *arg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp_client.py\", line 754, in _async_request\n    self._send_packet(t, msg)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 715, in send\n    return self._send(s, m)\n  File \"/home/travis/build/paramiko/paramiko/paramiko/channel.py\", line 1075, in _send\n    raise socket.error('Socket is closed')\nOSError: Socket is closed\n----------------------------------------------------------------------\nRan 161 tests in 26.974s\nFAILED (errors=4)\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/719", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/719/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/719/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/719/events", "html_url": "https://github.com/paramiko/paramiko/issues/719", "id": 146448333, "node_id": "MDU6SXNzdWUxNDY0NDgzMzM=", "number": 719, "title": "Potential to hang during authentication?", "user": {"login": "sanseihappa", "id": 9142600, "node_id": "MDQ6VXNlcjkxNDI2MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/9142600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanseihappa", "html_url": "https://github.com/sanseihappa", "followers_url": "https://api.github.com/users/sanseihappa/followers", "following_url": "https://api.github.com/users/sanseihappa/following{/other_user}", "gists_url": "https://api.github.com/users/sanseihappa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanseihappa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanseihappa/subscriptions", "organizations_url": "https://api.github.com/users/sanseihappa/orgs", "repos_url": "https://api.github.com/users/sanseihappa/repos", "events_url": "https://api.github.com/users/sanseihappa/events{/privacy}", "received_events_url": "https://api.github.com/users/sanseihappa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-06T22:01:45Z", "updated_at": "2016-05-26T18:22:31Z", "closed_at": "2016-05-26T18:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this is related to other open issues I see regarding hangs, but I am seeing an apparent hang client side when connecting to a server that sometimes behaves badly.\n\nBasically, the server is potentially hard-resetting on its own due to a HW-based watchdog timer.\n\nI happened to catch this traceback:\n\n```\n^CERROR: KEYBOARDINTERRUPT\n\nABORTED: By user.\n\n^CERROR: keyboardinterrupt\nTraceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/behave/__main__.py\", line 162, in <module>\n    sys.exit(main())\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/behave/__main__.py\", line 109, in main\n    failed = runner.run()\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/behave/runner.py\", line 672, in run\n    return self.run_with_paths()\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/behave/runner.py\", line 693, in run_with_paths\n    return self.run_model()\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/behave/runner.py\", line 504, in run_model\n    self.run_hook('after_all', self.context)\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/behave/runner.py\", line 405, in run_hook\n    self.hooks[name](context, *args)\n  File \"features/environment.py\", line 154, in after_all\n    try_get_data_dump(context.hostname, context.username, context.password, context.client\n  File \"/Users/anon/Work/proj/test/utils.py\", line 615, in try_get_data_dump\n    f.write(get_dmesg_output(hostname, username, password))\n  File \"/Users/anon/Work/proj/test/utils.py\", line 1340, in get_dmesg_output\n    client.connect(hostname, user, password)\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/myclient/Client.py\", line 147, in connect\n    allow_agent=False, look_for_keys=False)\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/paramiko/client.py\", line 367, in connect\n    look_for_keys, gss_auth, gss_kex, gss_deleg_creds, gss_host)\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/paramiko/client.py\", line 571, in _auth\n    self._transport.auth_password(username, password)\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/paramiko/transport.py\", line 1262, in auth_password\n    return self.auth_handler.wait_for_response(my_event)\n  File \"/Users/anon/Work/proj/test/.tox/behave/lib/python2.7/site-packages/paramiko/auth_handler.py\", line 192, in wait_for_response\n    event.wait(0.1)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 621, in wait\n    self.__cond.wait(timeout)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 359, in wait\n    _sleep(delay)\nKeyboardInterrupt\n```\n\nIt seems that this portion of the code may be prone to endlessly hanging in such a scenario:\n\n```\n    def wait_for_response(self, event):\n        while True:\n            event.wait(0.1)\n            if not self.transport.is_active():\n                e = self.transport.get_exception()\n                if (e is None) or issubclass(e.__class__, EOFError):\n                    e = AuthenticationException('Authentication failed.')\n                raise e\n            if event.is_set():\n                break\n```\n\nhttps://github.com/paramiko/paramiko/blob/master/paramiko/auth_handler.py#L190\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/719/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/716", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/716/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/716/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/716/events", "html_url": "https://github.com/paramiko/paramiko/pull/716", "id": 144948313, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ4MTgzNDc=", "number": 716, "title": "Change raw_input() to input() for Python 3.x", "user": {"login": "mkowalski", "id": 2862927, "node_id": "MDQ6VXNlcjI4NjI5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/2862927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkowalski", "html_url": "https://github.com/mkowalski", "followers_url": "https://api.github.com/users/mkowalski/followers", "following_url": "https://api.github.com/users/mkowalski/following{/other_user}", "gists_url": "https://api.github.com/users/mkowalski/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkowalski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkowalski/subscriptions", "organizations_url": "https://api.github.com/users/mkowalski/orgs", "repos_url": "https://api.github.com/users/mkowalski/repos", "events_url": "https://api.github.com/users/mkowalski/events{/privacy}", "received_events_url": "https://api.github.com/users/mkowalski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 3, "created_at": "2016-03-31T16:21:27Z", "updated_at": "2016-04-25T03:47:42Z", "closed_at": "2016-04-25T03:47:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/716", "html_url": "https://github.com/paramiko/paramiko/pull/716", "diff_url": "https://github.com/paramiko/paramiko/pull/716.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/716.patch", "merged_at": null}, "body": "When using Python 3.x and connecting via `paramiko.SSHClient().connect(host, port, user, pkey)` to the server which forces two-factor authentication, function `auth_interactive_dumb` from `transport.py` is being invoked, where `raw_input()` is called. Of course it does not work in Python 3.x, therefore I'm changing it to `input()` and adding additional check for backwards compatibility with Python 2.x\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/716/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/714", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/714/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/714/events", "html_url": "https://github.com/paramiko/paramiko/pull/714", "id": 144915424, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ3OTc4NzY=", "number": 714, "title": "Don't pass IV to pycrypto when using MODE_CTR", "user": {"login": "jmh045000", "id": 1126676, "node_id": "MDQ6VXNlcjExMjY2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1126676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmh045000", "html_url": "https://github.com/jmh045000", "followers_url": "https://api.github.com/users/jmh045000/followers", "following_url": "https://api.github.com/users/jmh045000/following{/other_user}", "gists_url": "https://api.github.com/users/jmh045000/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmh045000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmh045000/subscriptions", "organizations_url": "https://api.github.com/users/jmh045000/orgs", "repos_url": "https://api.github.com/users/jmh045000/repos", "events_url": "https://api.github.com/users/jmh045000/events{/privacy}", "received_events_url": "https://api.github.com/users/jmh045000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}, {"id": 363568597, "node_id": "MDU6TGFiZWwzNjM1Njg1OTc=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Security", "name": "Security", "color": "b60205", "default": false, "description": null}, {"id": 493264258, "node_id": "MDU6TGFiZWw0OTMyNjQyNTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Low-hanging%20fruit", "name": "Low-hanging fruit", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2016-03-31T14:19:48Z", "updated_at": "2020-02-08T04:27:08Z", "closed_at": "2017-02-20T21:57:11Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/714", "html_url": "https://github.com/paramiko/paramiko/pull/714", "diff_url": "https://github.com/paramiko/paramiko/pull/714.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/714.patch", "merged_at": null}, "body": "- Fixes #713\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/714/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/697", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/697/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/697/events", "html_url": "https://github.com/paramiko/paramiko/pull/697", "id": 136629281, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA4MDg1NTk=", "number": 697, "title": "Fix whitespacing in dependency version declaration", "user": {"login": "jlec", "id": 79732, "node_id": "MDQ6VXNlcjc5NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/79732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlec", "html_url": "https://github.com/jlec", "followers_url": "https://api.github.com/users/jlec/followers", "following_url": "https://api.github.com/users/jlec/following{/other_user}", "gists_url": "https://api.github.com/users/jlec/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlec/subscriptions", "organizations_url": "https://api.github.com/users/jlec/orgs", "repos_url": "https://api.github.com/users/jlec/repos", "events_url": "https://api.github.com/users/jlec/events{/privacy}", "received_events_url": "https://api.github.com/users/jlec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120561604, "node_id": "MDU6TGFiZWwxMjA1NjE2MDQ=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-02-26T08:33:18Z", "updated_at": "2016-02-28T10:47:02Z", "closed_at": "2016-02-28T01:23:03Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/697", "html_url": "https://github.com/paramiko/paramiko/pull/697", "diff_url": "https://github.com/paramiko/paramiko/pull/697.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/697.patch", "merged_at": null}, "body": "With recent setuptools the following error occurs\n\nerror in paramiko setup command: 'install_requires' must be a string \\\nor list of strings containing valid project/version requirement specifiers; \\\nInvalid requirement, parse error at \"'!= 2.4'\"\n\nSimply dropping the whitespace is enough to fix\n\nSigned-off-by: Justin Lecher jlec@gentoo.org\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/697/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/691", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/691/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/691/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/691/events", "html_url": "https://github.com/paramiko/paramiko/pull/691", "id": 134635302, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk4Mjg5MDk=", "number": 691, "title": "Fixed \"Bad file descriptor\", \"Broken pipe\" and another kind of error\u2026", "user": {"login": "qualab", "id": 4933771, "node_id": "MDQ6VXNlcjQ5MzM3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4933771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qualab", "html_url": "https://github.com/qualab", "followers_url": "https://api.github.com/users/qualab/followers", "following_url": "https://api.github.com/users/qualab/following{/other_user}", "gists_url": "https://api.github.com/users/qualab/gists{/gist_id}", "starred_url": "https://api.github.com/users/qualab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qualab/subscriptions", "organizations_url": "https://api.github.com/users/qualab/orgs", "repos_url": "https://api.github.com/users/qualab/repos", "events_url": "https://api.github.com/users/qualab/events{/privacy}", "received_events_url": "https://api.github.com/users/qualab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 8, "created_at": "2016-02-18T16:54:50Z", "updated_at": "2019-06-07T09:37:49Z", "closed_at": "2017-11-06T20:33:27Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/691", "html_url": "https://github.com/paramiko/paramiko/pull/691", "diff_url": "https://github.com/paramiko/paramiko/pull/691.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/691.patch", "merged_at": null}, "body": "Fixed \"Bad file descriptor\", \"Broken pipe\" and another kind of errors on multithreading usage of PosixPipe when we've got close() and set() at the same time. In such case check for self._closed is invalid and not synchronized with close() method called from separated thread.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/691/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/681", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/681/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/681/events", "html_url": "https://github.com/paramiko/paramiko/pull/681", "id": 132023905, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1NjA3MTc=", "number": 681, "title": "Proxycommand fix", "user": {"login": "radssh", "id": 8227350, "node_id": "MDQ6VXNlcjgyMjczNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/8227350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/radssh", "html_url": "https://github.com/radssh", "followers_url": "https://api.github.com/users/radssh/followers", "following_url": "https://api.github.com/users/radssh/following{/other_user}", "gists_url": "https://api.github.com/users/radssh/gists{/gist_id}", "starred_url": "https://api.github.com/users/radssh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/radssh/subscriptions", "organizations_url": "https://api.github.com/users/radssh/orgs", "repos_url": "https://api.github.com/users/radssh/repos", "events_url": "https://api.github.com/users/radssh/events{/privacy}", "received_events_url": "https://api.github.com/users/radssh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 13, "created_at": "2016-02-07T23:11:22Z", "updated_at": "2020-02-26T20:08:25Z", "closed_at": "2016-07-26T04:04:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/681", "html_url": "https://github.com/paramiko/paramiko/pull/681", "diff_url": "https://github.com/paramiko/paramiko/pull/681.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/681.patch", "merged_at": null}, "body": "Simple fix of using unbuffered subprocess.PIPE uncovered a trickier bug\nwhere the lack of timeout on initial readline call would pull data from\nthe first real packet, throwing off subsequent reads.\n\nDoesn\u2019t seem necessary to preserve a read buffer across recv() calls,\nespecially if it isn\u2019t implemented correctly.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/681/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/681/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/677", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/677/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/677/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/677/events", "html_url": "https://github.com/paramiko/paramiko/pull/677", "id": 131184245, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgyMTYxNTc=", "number": 677, "title": "paramiko.sftp_file.prefetch now backwards compatible", "user": {"login": "stevevanhooser", "id": 1894285, "node_id": "MDQ6VXNlcjE4OTQyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1894285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevevanhooser", "html_url": "https://github.com/stevevanhooser", "followers_url": "https://api.github.com/users/stevevanhooser/followers", "following_url": "https://api.github.com/users/stevevanhooser/following{/other_user}", "gists_url": "https://api.github.com/users/stevevanhooser/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevevanhooser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevevanhooser/subscriptions", "organizations_url": "https://api.github.com/users/stevevanhooser/orgs", "repos_url": "https://api.github.com/users/stevevanhooser/repos", "events_url": "https://api.github.com/users/stevevanhooser/events{/privacy}", "received_events_url": "https://api.github.com/users/stevevanhooser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 8, "created_at": "2016-02-03T23:05:57Z", "updated_at": "2016-05-12T16:49:31Z", "closed_at": "2016-04-25T17:14:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/677", "html_url": "https://github.com/paramiko/paramiko/pull/677", "diff_url": "https://github.com/paramiko/paramiko/pull/677.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/677.patch", "merged_at": null}, "body": "This changes paramiko.sftp_file.prefetch so that it can accept 1 or 2 arguments for backwards compatibility.\n\nIn versions 1.5 - 1.15, paramiko.sftp_file.prefetch accepted only 1 argument (self), and it was assumed that the entire file would be read in. In the original 1.16 version, the file_size to be read in was obligated (one could not use a default argument). This caused a lack of backwards compatibility with older programs (such as bzr). Now the second input argument is optional; if it is not provided, then the file_size is read directly from the file. Otherwise, the user-provided input argument is used for the file_size.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/677/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/673", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/673/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/673/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/673/events", "html_url": "https://github.com/paramiko/paramiko/issues/673", "id": 131057451, "node_id": "MDU6SXNzdWUxMzEwNTc0NTE=", "number": 673, "title": "\"SSHException: Error reading SSH protocol banner\" when using ProxyCommand", "user": {"login": "Depado", "id": 694365, "node_id": "MDQ6VXNlcjY5NDM2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/694365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Depado", "html_url": "https://github.com/Depado", "followers_url": "https://api.github.com/users/Depado/followers", "following_url": "https://api.github.com/users/Depado/following{/other_user}", "gists_url": "https://api.github.com/users/Depado/gists{/gist_id}", "starred_url": "https://api.github.com/users/Depado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Depado/subscriptions", "organizations_url": "https://api.github.com/users/Depado/orgs", "repos_url": "https://api.github.com/users/Depado/repos", "events_url": "https://api.github.com/users/Depado/events{/privacy}", "received_events_url": "https://api.github.com/users/Depado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2016-02-03T15:25:59Z", "updated_at": "2020-07-30T12:55:54Z", "closed_at": "2016-07-26T04:04:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nIt's been a few days and I'm still struggling with this, I think it's quite a known issue but wasn't able to find a workaround. \n\n```\nParamiko 1.16.0\nPython 3.5.1\nOperating System : Archlinux\n```\n\nBelow is a simplified version of my actual code that throws the same error :\n\n``` python\nimport os\nimport paramiko\n\n# Loading ssh configuration to get the IP and user of the desired host (here 'bastion')\ncfg = paramiko.SSHConfig()\nwith open(os.path.expanduser(\"~/.ssh/config\")) as f:\n    cfg.parse(f)\nhost_cfg = cfg.lookup('bastion')\nsock = paramiko.ProxyCommand(\"ssh -W %h:%p {}@{}\".format(host_cfg.get('user', 'root'), host_cfg.get('hostname')))\n\n# Client Setup\nclient = paramiko.SSHClient()\nclient.load_system_host_keys()\nclient.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n\n# Connect and execute command\nclient.connect(\"my.ip.ad.dr\", username='root', sock=sock)\n(stdin, stdout, stderr) = client.exec_command(\"echo 'Hello World !'\")\nfor line in stdout.readlines():\n    print(line)\nclient.close()\n```\n\nNote that the whole parsing the ssh config thing is simplified because I know this entry is in the ssh config. (And yes I'm sure the error doesn't come from that because the generated ProxyCommand is correct)\n\nOf course it raises the error when executing the `client.connect` line. The ProxyCommand is correct, tested multiple times and works just fine in my `~/.ssh/config`. When using it with the command line, it creates an entry in the logs of my bastion. When using it within paramiko it doesn't generate an entry in the logs. \n\nI also tested using the `netcat` approach like this :\n\n``` python\nsock = paramiko.ProxyCommand(\"ssh {}@{} nc %h %p\".format(host_cfg.get('user', 'root'), host_cfg.get('hostname')))\n```\n\nThis time it generates an entry in the logs of my bastion (even though it still raises this error) but closes the connection immediatly.\n\nAnyone having the same issue and could help me with that ?\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/673/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/670", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/670/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/670/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/670/events", "html_url": "https://github.com/paramiko/paramiko/issues/670", "id": 130551243, "node_id": "MDU6SXNzdWUxMzA1NTEyNDM=", "number": 670, "title": "'none' ProxyCommand values failing to mask non-'none' ones in less-specific blocks", "user": {"login": "pbrisbin", "id": 50812, "node_id": "MDQ6VXNlcjUwODEy", "avatar_url": "https://avatars.githubusercontent.com/u/50812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbrisbin", "html_url": "https://github.com/pbrisbin", "followers_url": "https://api.github.com/users/pbrisbin/followers", "following_url": "https://api.github.com/users/pbrisbin/following{/other_user}", "gists_url": "https://api.github.com/users/pbrisbin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbrisbin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbrisbin/subscriptions", "organizations_url": "https://api.github.com/users/pbrisbin/orgs", "repos_url": "https://api.github.com/users/pbrisbin/repos", "events_url": "https://api.github.com/users/pbrisbin/events{/privacy}", "received_events_url": "https://api.github.com/users/pbrisbin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 8, "created_at": "2016-02-02T02:30:16Z", "updated_at": "2016-04-26T14:47:53Z", "closed_at": "2016-04-26T01:40:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running into something similar to #261:\n\nGiven an SSH config like this:\n\n```\nHost gateway\n    Port                   1234\n    HostName               gateway.example.com\n    ProxyCommand           none\n    BatchMode              yes\n    PasswordAuthentication no\n    ForwardAgent           yes\n\nHost *\n    User                   admin\n    ServerAliveInterval    60\n    TCPKeepAlive           yes\n    ProxyCommand           ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -q -p 1234 admin@gateway.example.com nc %h 22\n    StrictHostKeyChecking  no\n    UserKnownHostsFile     /dev/null\n```\n\nA command like `fab -Hgateway ...` won't connect (error reading SSH banner). The analogous `ssh gateway ...` works fine.\n\nI've deduced that paramiko is using the wrong `ProxyCommand` -- it's using the one from `Host *` and not `Host gateway`. If I comment the `ProxyCommand` from the `Host *` block, the fabric command works.\n\nUsers with similar complaints are directed towards the documentation:\n\n> For each parameter, the first obtained value will be used. The configuration files contain sections separated by ``Host'' specifications, and that section is only applied for hosts that match one of the patterns given in the specification.The matched host name is the one given on the command line.\n> \n> Since the first obtained value for each parameter is used, more host-specific declarations should be given near the beginning of the file, and general defaults at the end.\n\nBut I think we're doing things right. The `Host gateway` definition is earlier, and it sets `ProxyCommand none` first. I'd expect that would be respected, as it is with normal `ssh` commands.\n\nVersion info:\n\n```\n% pip list | grep paramiko\nparamiko (1.16.0)\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/667", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/667/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/667/events", "html_url": "https://github.com/paramiko/paramiko/pull/667", "id": 129458928, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc1MDQ2MTM=", "number": 667, "title": "Drop support for RC4.", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120561505, "node_id": "MDU6TGFiZWwxMjA1NjE1MDU=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Feature", "name": "Feature", "color": "40a056", "default": false, "description": null}, {"id": 120561604, "node_id": "MDU6TGFiZWwxMjA1NjE2MDQ=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/13", "html_url": "https://github.com/paramiko/paramiko/milestone/13", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/13/labels", "id": 1727676, "node_id": "MDk6TWlsZXN0b25lMTcyNzY3Ng==", "number": 13, "title": "2.2", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2016-04-24T22:04:25Z", "updated_at": "2017-08-16T21:02:15Z", "due_on": null, "closed_at": "2017-06-09T21:37:53Z"}, "comments": 12, "created_at": "2016-01-28T13:53:39Z", "updated_at": "2017-06-06T19:50:10Z", "closed_at": "2017-06-06T19:36:15Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/667", "html_url": "https://github.com/paramiko/paramiko/pull/667", "diff_url": "https://github.com/paramiko/paramiko/pull/667.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/667.patch", "merged_at": "2017-06-06T19:36:14Z"}, "body": "It's cryptoanalytically completely 100% broken, and practical attacks have been demonstrated against it's usage in TLS.\n\nAs far as I'm aware, there's no use case for RC4 based on compatibility.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/667/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/663", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/663/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/663/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/663/events", "html_url": "https://github.com/paramiko/paramiko/issues/663", "id": 127819654, "node_id": "MDU6SXNzdWUxMjc4MTk2NTQ=", "number": 663, "title": "Signature verification only works with rsa key", "user": {"login": "jpevarnek", "id": 902894, "node_id": "MDQ6VXNlcjkwMjg5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/902894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpevarnek", "html_url": "https://github.com/jpevarnek", "followers_url": "https://api.github.com/users/jpevarnek/followers", "following_url": "https://api.github.com/users/jpevarnek/following{/other_user}", "gists_url": "https://api.github.com/users/jpevarnek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpevarnek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpevarnek/subscriptions", "organizations_url": "https://api.github.com/users/jpevarnek/orgs", "repos_url": "https://api.github.com/users/jpevarnek/repos", "events_url": "https://api.github.com/users/jpevarnek/events{/privacy}", "received_events_url": "https://api.github.com/users/jpevarnek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-21T00:47:31Z", "updated_at": "2016-12-05T19:29:47Z", "closed_at": "2016-12-05T19:29:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the following setup:\n\n```\nclient = paramiko.SSHClient()\nhost_keys = client.get_host_keys()\nhost_keys.clear()\npublic_key = ecdsakey.ECDSAKey(data={binary_key_data})\nhost_keys.add({server_ip}, \"ecdsa-sha2-nistp256\", public_key)\n\nauthentication_key = {code to get private key (generate fake key file, read it in)}\n\nclient.connect({server_ip}, username='root', pkey=authentication_key, allow_agent=False, look_for_keys=False)\n```\n\nThis gives the error \"Server '{server_ip}' not found in known_hosts\"\n\nSwitching to using the rsa public key for the server works fine.\n\nMy understanding of the problem:\nIn `connect`, we get the server key through `t.get_remote_server_key()` where `t` is the transport.  We also get the type for that key (`server_key.get_name()`).  This gets the host key that we identified in the transport and its type.  This seems to be a problem as, when we set `host_key_type` in the transport (`_parse_kex_init`), it's arbitrarily choosing among the list of what is supported by the server and seems to be defaulting to \"ssh-rsa\" when all three are supported.\n\nI honestly don't know enough about the SSH protocol to suggest a fix here, however, this does seem like it should work to me.  I'd be happy to work on this if there's anything I can do to help out.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/663/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/652", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/652/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/652/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/652/events", "html_url": "https://github.com/paramiko/paramiko/pull/652", "id": 124473307, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ4NjUwNTM=", "number": 652, "title": "Gracefully fail `gss-with-mic` to allow fallback to next authentication", "user": {"login": "jamercee", "id": 1328402, "node_id": "MDQ6VXNlcjEzMjg0MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1328402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamercee", "html_url": "https://github.com/jamercee", "followers_url": "https://api.github.com/users/jamercee/followers", "following_url": "https://api.github.com/users/jamercee/following{/other_user}", "gists_url": "https://api.github.com/users/jamercee/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamercee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamercee/subscriptions", "organizations_url": "https://api.github.com/users/jamercee/orgs", "repos_url": "https://api.github.com/users/jamercee/repos", "events_url": "https://api.github.com/users/jamercee/events{/privacy}", "received_events_url": "https://api.github.com/users/jamercee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-12-31T13:59:26Z", "updated_at": "2016-01-01T23:31:37Z", "closed_at": "2016-01-01T23:31:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/652", "html_url": "https://github.com/paramiko/paramiko/pull/652", "diff_url": "https://github.com/paramiko/paramiko/pull/652.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/652.patch", "merged_at": null}, "body": "While researching issue https://github.com/paramiko/paramiko/issues/651, I discovered what I think is a bug in `_parse_userauth_request()`. If the authentication method is **gssapi-with-mic** and the ptype is not `MSG_USERAUTH_GSSAPI_TOKEN`, then the function raises an exception. I believe the correct response is to fail the request to allow the client to fallback to alternate methods.\n\nI've applied and tested the patch associated with this pull request and it now works as expected.\n\nI've also attached a copy of the Putty log to this message if you'd like to see the specifics of how it attempts authentication.\n\n[putty.txt](https://github.com/paramiko/paramiko/files/75568/putty.txt)\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/652/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/649", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/649/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/649/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/649/events", "html_url": "https://github.com/paramiko/paramiko/pull/649", "id": 123753780, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ1MjQxNjE=", "number": 649, "title": "primes: min and max should be inclusive", "user": {"login": "damz", "id": 110678, "node_id": "MDQ6VXNlcjExMDY3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/110678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/damz", "html_url": "https://github.com/damz", "followers_url": "https://api.github.com/users/damz/followers", "following_url": "https://api.github.com/users/damz/following{/other_user}", "gists_url": "https://api.github.com/users/damz/gists{/gist_id}", "starred_url": "https://api.github.com/users/damz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/damz/subscriptions", "organizations_url": "https://api.github.com/users/damz/orgs", "repos_url": "https://api.github.com/users/damz/repos", "events_url": "https://api.github.com/users/damz/events{/privacy}", "received_events_url": "https://api.github.com/users/damz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/8", "html_url": "https://github.com/paramiko/paramiko/milestone/8", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/8/labels", "id": 1396774, "node_id": "MDk6TWlsZXN0b25lMTM5Njc3NA==", "number": 8, "title": "1.17", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2015-11-06T00:43:44Z", "updated_at": "2016-04-25T05:17:58Z", "due_on": null, "closed_at": "2016-04-25T05:17:58Z"}, "comments": 1, "created_at": "2015-12-24T03:28:42Z", "updated_at": "2016-04-24T22:05:33Z", "closed_at": "2016-04-24T22:05:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/649", "html_url": "https://github.com/paramiko/paramiko/pull/649", "diff_url": "https://github.com/paramiko/paramiko/pull/649.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/649.patch", "merged_at": "2016-04-24T22:05:33Z"}, "body": "As seen in the [OpenSSH source code](https://github.com/openssh/openssh-portable/blob/master/kexgexc.c#L111), the min and max values of the `diffie-hellman-group-exchange-*` key exchange types are supposed to be inclusive.\n\nIn the current state of the code and a standard /etc/ssh/moduli file, OpenSSH client sends min=1024, max=8192, prefer=8192, but paramiko returns one of the 7680 bits prime instead of one of the 8192 bits ones.\n\nAs far as I can see, the whole `ModulusPack` is untested, so not adding explicit tests for this.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/649/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/632", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/632/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/632/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/632/events", "html_url": "https://github.com/paramiko/paramiko/pull/632", "id": 120227675, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI1NjYwOTI=", "number": 632, "title": "Make sure the callback function is called only once", "user": {"login": "ab9-er", "id": 13626352, "node_id": "MDQ6VXNlcjEzNjI2MzUy", "avatar_url": "https://avatars.githubusercontent.com/u/13626352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ab9-er", "html_url": "https://github.com/ab9-er", "followers_url": "https://api.github.com/users/ab9-er/followers", "following_url": "https://api.github.com/users/ab9-er/following{/other_user}", "gists_url": "https://api.github.com/users/ab9-er/gists{/gist_id}", "starred_url": "https://api.github.com/users/ab9-er/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ab9-er/subscriptions", "organizations_url": "https://api.github.com/users/ab9-er/orgs", "repos_url": "https://api.github.com/users/ab9-er/repos", "events_url": "https://api.github.com/users/ab9-er/events{/privacy}", "received_events_url": "https://api.github.com/users/ab9-er/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 4, "created_at": "2015-12-03T17:32:21Z", "updated_at": "2016-05-12T09:07:25Z", "closed_at": "2016-04-24T01:57:23Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/632", "html_url": "https://github.com/paramiko/paramiko/pull/632", "diff_url": "https://github.com/paramiko/paramiko/pull/632.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/632.patch", "merged_at": null}, "body": "Since the callback is called before checking the size of data chunk, the callback function is called twice.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/632/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/622", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/622/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/622/events", "html_url": "https://github.com/paramiko/paramiko/issues/622", "id": 117649228, "node_id": "MDU6SXNzdWUxMTc2NDkyMjg=", "number": 622, "title": "Python 3 TypeError raised when SSH connection fails", "user": {"login": "wsong", "id": 616361, "node_id": "MDQ6VXNlcjYxNjM2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/616361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wsong", "html_url": "https://github.com/wsong", "followers_url": "https://api.github.com/users/wsong/followers", "following_url": "https://api.github.com/users/wsong/following{/other_user}", "gists_url": "https://api.github.com/users/wsong/gists{/gist_id}", "starred_url": "https://api.github.com/users/wsong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wsong/subscriptions", "organizations_url": "https://api.github.com/users/wsong/orgs", "repos_url": "https://api.github.com/users/wsong/repos", "events_url": "https://api.github.com/users/wsong/events{/privacy}", "received_events_url": "https://api.github.com/users/wsong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-18T18:25:15Z", "updated_at": "2015-12-07T00:15:47Z", "closed_at": "2015-11-19T22:59:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I occasionally get tracebacks of this sort when attempting to connect to a server that has been shut down:\n\n```\n  File \"/storage/testroot/venv/lib/python3.4/site-packages/paramiko/client.py\", line 311, in connect\n    raise NoValidConnectionsError(errors)\n  File \"/storage/testroot/venv/lib/python3.4/site-packages/paramiko/ssh_exception.py\", line 166, in __init__\n    body = ', '.join([x[0] for x in addrs[:-1]])\nTypeError: 'dict_keys' object is not subscriptable\n```\n\nAs the traceback indicates, this is caused by the code in ssh_exception attempting to run <dict>.keys()[:-1], which is not supported in Python 3; you need to do list(<dict>.keys())[:-1].\n\nUnfortunately, I can't seem to get a solid repro; this only appears to happen intermittently.  Regardless, the code in question seems to be clearly incorrect.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/621", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/621/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/621/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/621/events", "html_url": "https://github.com/paramiko/paramiko/issues/621", "id": 116766792, "node_id": "MDU6SXNzdWUxMTY3NjY3OTI=", "number": 621, "title": "No documented way to check that channel has closed", "user": {"login": "nolar", "id": 544296, "node_id": "MDQ6VXNlcjU0NDI5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/544296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nolar", "html_url": "https://github.com/nolar", "followers_url": "https://api.github.com/users/nolar/followers", "following_url": "https://api.github.com/users/nolar/following{/other_user}", "gists_url": "https://api.github.com/users/nolar/gists{/gist_id}", "starred_url": "https://api.github.com/users/nolar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nolar/subscriptions", "organizations_url": "https://api.github.com/users/nolar/orgs", "repos_url": "https://api.github.com/users/nolar/repos", "events_url": "https://api.github.com/users/nolar/events{/privacy}", "received_events_url": "https://api.github.com/users/nolar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120561604, "node_id": "MDU6TGFiZWwxMjA1NjE2MDQ=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Support", "name": "Support", "color": "4070a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 2, "created_at": "2015-11-13T13:17:15Z", "updated_at": "2016-04-24T20:13:27Z", "closed_at": "2016-04-24T20:13:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Briefly:**\n\nSSH sends exit status before the stdout data, and there is no _documented_ way to properly check that the channel has actually finished.\n\n**Detailed:**\n\nSSH can have exit status sent before stdout data. The typical approach in real-time streaming is to check if channel is recv_ready, recv_stderr_ready or exit_status_ready. There are no other documented ways to check the channel has actually finished. \n\n```\n        # Read if it still executes silently, or there are data left to read.\n        while channel.recv_ready() or channel.recv_stderr_ready() or not channel.exit_status_ready():\n            select.select([channel], [], [channel], 60)\n\n            if channel.recv_ready():\n                out = channel.recv(9999999)\n            if channel.recv_stderr_ready():\n                out = channel.recv_stderr(9999999)\n\n        exit_code = channel.recv_exit_status()\n```\n\nWith this script iterated infinitely, it fails on an attempt number 40-120 (randomly):\n\n```\n        iteration = 0\n        while True:\n            iteration += 1\n            stdout = run(\"{ sleep 1 ; echo 'itr=%s' ; } &\" % iteration).stdout\n            assert stdout != ''\n```\n\nThe hexdump looks like this (note the timing in seconds!):\n\n```\n2015-11-13 13:38:07,936 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: A2 7F 59 EF 57 2D 5C 3D A8 54 72 F5 96 CC E6 91    ..Y.W-\\=.Tr.....\n2015-11-13 13:38:07,936 [Thread-3  ] [DEBUG]  [paramiko.transp]  Got payload (28 bytes, 18 padding)\n2015-11-13 13:38:07,937 [Thread-3  ] [DEBUG]  [paramiko.transp]  Read packet <channel-window-adjust>, length 9\n\n2015-11-13 13:38:07,937 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 00 00 00 0C 06 63 00 00 00 22 87 B2 83 6E 05 7F    .....c...\"...n..\n2015-11-13 13:38:07,937 [Thread-3  ] [DEBUG]  [paramiko.transp]  Got payload (12 bytes, 6 padding)\n2015-11-13 13:38:07,937 [Thread-3  ] [DEBUG]  [paramiko.transp]  Read packet <channel-success>, length 5\n2015-11-13 13:38:07,937 [Thread-3  ] [DEBUG]  [paramiko.transp]  [chan 34] Sesch channel 34 request ok\n\n2015-11-13 13:38:07,939 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 00 00 00 2C 12 62 00 00 00 22 00 00 00 0B 65 78    ...,.b...\"....ex\n2015-11-13 13:38:07,939 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 69 74 2D 73 74 61 74 75 73 00 00 00 00 00 57 C1    it-status.....W.\n2015-11-13 13:38:07,939 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: DC AB EB E4 E0 53 7F B6 34 6F 74 64 F8 4E F5 58    .....S..4otd.N.X\n2015-11-13 13:38:07,940 [Thread-3  ] [DEBUG]  [paramiko.transp]  Got payload (44 bytes, 18 padding)\n2015-11-13 13:38:07,940 [Thread-3  ] [DEBUG]  [paramiko.transp]  Read packet <channel-request>, length 25\n\n2015-11-13 13:38:08,940 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 00 00 00 1C 0B 5E 00 00 00 22 00 00 00 07 69 74    .....^...\"....it\n2015-11-13 13:38:08,940 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 72 3D 33 34 0A FF CA AC 4D DF 85 B6 B8 97 7B C9    r=34....M.....{.\n2015-11-13 13:38:08,940 [Thread-3  ] [DEBUG]  [paramiko.transp]  Got payload (28 bytes, 11 padding)\n2015-11-13 13:38:08,941 [Thread-3  ] [DEBUG]  [paramiko.transp]  Read packet <channel-data>, length 16\n\n2015-11-13 13:38:08,941 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 00 00 00 0C 06 60 00 00 00 22 AC C1 45 F0 AA BC    .....`...\"..E...\n2015-11-13 13:38:08,941 [Thread-3  ] [DEBUG]  [paramiko.transp]  Got payload (12 bytes, 6 padding)\n2015-11-13 13:38:08,942 [Thread-3  ] [DEBUG]  [paramiko.transp]  Read packet <channel-eof>, length 5\n2015-11-13 13:38:08,942 [Thread-3  ] [DEBUG]  [paramiko.transp]  [chan 34] EOF received (34)\n\n2015-11-13 13:38:08,942 [Thread-3  ] [DEBUG]  [paramiko.transp]  IN: 00 00 00 0C 06 61 00 00 00 22 6C 38 5F 18 5C 5E    .....a...\"l8_.\\^\n2015-11-13 13:38:08,942 [Thread-3  ] [DEBUG]  [paramiko.transp]  Got payload (12 bytes, 6 padding)\n2015-11-13 13:38:08,943 [Thread-3  ] [DEBUG]  [paramiko.transp]  Read packet <channel-close>, length 5\n2015-11-13 13:38:08,943 [MainThread] [DEBUG]  [paramiko.transp]  [chan 34] EOF sent (34)\n```\n\nIf you are unlucky enough to start your 1st iteration of the while cycle when the exit status is already there (can be simulated with time.sleep), you do not even enter the cycle's body, and go straight to recv_exit_status().\n\n**Solution?**\n\nBut there is _undocumented_ field channel.closed, which can be used to fix this issue. This line works fine:\n\n```\n        while channel.recv_ready() or channel.recv_stderr_ready() or not channel.closed:\n            ...\n```\n\nPlease make it documented, or add some other way to check that the channel has _actually_ finished.\n\n**PS:**\n\n```\n$ python --version\nPython 2.7.10\n\n$ pip freeze\necdsa==0.13\nnetaddr==0.7.18\nparamiko==1.15.3\npycrypto==2.6.1\nrequests==2.8.0\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/621/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/617", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/617/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/617/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/617/events", "html_url": "https://github.com/paramiko/paramiko/issues/617", "id": 115991493, "node_id": "MDU6SXNzdWUxMTU5OTE0OTM=", "number": 617, "title": "Error on init() for unpickling NoValidConnectionError", "user": {"login": "rschlussel-zz", "id": 10963789, "node_id": "MDQ6VXNlcjEwOTYzNzg5", "avatar_url": "https://avatars.githubusercontent.com/u/10963789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rschlussel-zz", "html_url": "https://github.com/rschlussel-zz", "followers_url": "https://api.github.com/users/rschlussel-zz/followers", "following_url": "https://api.github.com/users/rschlussel-zz/following{/other_user}", "gists_url": "https://api.github.com/users/rschlussel-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/rschlussel-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rschlussel-zz/subscriptions", "organizations_url": "https://api.github.com/users/rschlussel-zz/orgs", "repos_url": "https://api.github.com/users/rschlussel-zz/repos", "events_url": "https://api.github.com/users/rschlussel-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/rschlussel-zz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 1, "created_at": "2015-11-09T23:30:38Z", "updated_at": "2016-04-24T21:01:21Z", "closed_at": "2016-04-24T21:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you try pickling and then unpickling NoValidConnectionError, you get the following exception:\n`TypeError: __init__() takes exactly 2 arguments (3 given)`\n\nIt seems to be passing the errno and string with the error message while init expects a dict.\n\nHere is some simple code to reproduce the issue:\n\n``` python\nfrom paramiko import ssh_exception.NoValidConnectionsError\nimport pickle\nerr = NoValidConnectionsError({'ab': ''})\np = pickle.dumps(err)\nunpickled = pickle.loads(p)\n```\n\nA more practical application is for example if you are using the multiprocessing module and a child process raises a NoValidConnectionError.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/616", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/616/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/616/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/616/events", "html_url": "https://github.com/paramiko/paramiko/pull/616", "id": 115754417, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAwNjgwMjA=", "number": 616, "title": "Fix connection error-handling code on Python 3", "user": {"login": "nchammas", "id": 1039369, "node_id": "MDQ6VXNlcjEwMzkzNjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1039369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nchammas", "html_url": "https://github.com/nchammas", "followers_url": "https://api.github.com/users/nchammas/followers", "following_url": "https://api.github.com/users/nchammas/following{/other_user}", "gists_url": "https://api.github.com/users/nchammas/gists{/gist_id}", "starred_url": "https://api.github.com/users/nchammas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nchammas/subscriptions", "organizations_url": "https://api.github.com/users/nchammas/orgs", "repos_url": "https://api.github.com/users/nchammas/repos", "events_url": "https://api.github.com/users/nchammas/events{/privacy}", "received_events_url": "https://api.github.com/users/nchammas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 4, "created_at": "2015-11-08T19:41:49Z", "updated_at": "2016-04-24T21:12:07Z", "closed_at": "2016-04-24T21:12:06Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/616", "html_url": "https://github.com/paramiko/paramiko/pull/616", "diff_url": "https://github.com/paramiko/paramiko/pull/616.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/616.patch", "merged_at": null}, "body": "Convert the dictionary view returned by `errors.keys()` to a list. Thanks to @edk0 for pointing this out.\n\nFixes #615.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/616/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/613", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/613/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/613/events", "html_url": "https://github.com/paramiko/paramiko/issues/613", "id": 115430527, "node_id": "MDU6SXNzdWUxMTU0MzA1Mjc=", "number": 613, "title": "paramiko 1.16 error in _winapi.py", "user": {"login": "hobbsd", "id": 1676348, "node_id": "MDQ6VXNlcjE2NzYzNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1676348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobbsd", "html_url": "https://github.com/hobbsd", "followers_url": "https://api.github.com/users/hobbsd/followers", "following_url": "https://api.github.com/users/hobbsd/following{/other_user}", "gists_url": "https://api.github.com/users/hobbsd/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobbsd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobbsd/subscriptions", "organizations_url": "https://api.github.com/users/hobbsd/orgs", "repos_url": "https://api.github.com/users/hobbsd/repos", "events_url": "https://api.github.com/users/hobbsd/events{/privacy}", "received_events_url": "https://api.github.com/users/hobbsd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2015-11-06T04:11:53Z", "updated_at": "2016-04-24T20:30:03Z", "closed_at": "2015-12-11T00:35:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the end of the traceback:\n\n```\n...\\paramiko\\_winapi.py\", line 162, in write\nctypes.windll.kernel32.RtlMoveMemory(dest, msg, length)\nValueError: Procedure probably called with too many arguments (4 bytes in excess)\n```\n\nUsing Python 2.7 on Windows 7.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/584", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/584/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/584/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/584/events", "html_url": "https://github.com/paramiko/paramiko/issues/584", "id": 105409738, "node_id": "MDU6SXNzdWUxMDU0MDk3Mzg=", "number": 584, "title": "Upgrade GSSAPI support to the 'gssapi' (not 'python-gssapi') module", "user": {"login": "quantology", "id": 3359262, "node_id": "MDQ6VXNlcjMzNTkyNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3359262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quantology", "html_url": "https://github.com/quantology", "followers_url": "https://api.github.com/users/quantology/followers", "following_url": "https://api.github.com/users/quantology/following{/other_user}", "gists_url": "https://api.github.com/users/quantology/gists{/gist_id}", "starred_url": "https://api.github.com/users/quantology/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quantology/subscriptions", "organizations_url": "https://api.github.com/users/quantology/orgs", "repos_url": "https://api.github.com/users/quantology/repos", "events_url": "https://api.github.com/users/quantology/events{/privacy}", "received_events_url": "https://api.github.com/users/quantology/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-09-08T15:47:18Z", "updated_at": "2018-10-16T17:49:17Z", "closed_at": "2018-10-16T17:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Maintainer edit: the action required on this ticket is to change Paramiko's GSSAPI functionality to use the API of `gssapi`, vs right now where it uses the API of `python-gssapi`. Then update `setup.py`.]\n\nIt looks like paramiko/ssh_gss.py refers to an older version of gssapi. See from https://github.com/paramiko/paramiko/blob/master/paramiko/ssh_gss.py#L253, all the references to gssapi.C_\\* fail.\n\nNote that gssapi 0.6.\\* has these attributes (https://github.com/sigmaris/python-gssapi/blob/master/gssapi/__init__.py#L6), but the new gssapi (v >= 1.0, https://github.com/pythongssapi/python-gssapi/tree/master/gssapi/raw) doesn't appear to have these flags anywhere I can find.\n\nSpecifically, when I call connect in client.py, I get the following:\n\n```\n/home/mtartre/.conda/envs/std/lib/python3.4/site-packages/paramiko/ssh_gss.py in __init__(self,     auth_method, gss_deleg_creds)\n    251 \n    252         if self._gss_deleg_creds:\n--> 253             self._gss_flags = (gssapi.C_PROT_READY_FLAG,\n    254                                gssapi.C_INTEG_FLAG,\n    255                                gssapi.C_MUTUAL_FLAG,\n\nAttributeError: 'module' object has no attribute 'C_PROT_READY_FLAG'\n```\n\nI wish I could help fix this, but I'm out of my depth when it comes to C bindings like this. I'd be happy to test any ideas anyone has.\n\nReferences:\n- Issue https://github.com/paramiko/paramiko/issues/82\n- Pull https://github.com/paramiko/paramiko/pull/267\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/579", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/579/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/579/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/579/events", "html_url": "https://github.com/paramiko/paramiko/pull/579", "id": 103204336, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMzNzQ0OTY=", "number": 579, "title": "Update sftp_client.py and sftp_file.py so that STAT on a file is only\u2026", "user": {"login": "mwarnes", "id": 13145311, "node_id": "MDQ6VXNlcjEzMTQ1MzEx", "avatar_url": "https://avatars.githubusercontent.com/u/13145311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwarnes", "html_url": "https://github.com/mwarnes", "followers_url": "https://api.github.com/users/mwarnes/followers", "following_url": "https://api.github.com/users/mwarnes/following{/other_user}", "gists_url": "https://api.github.com/users/mwarnes/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwarnes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwarnes/subscriptions", "organizations_url": "https://api.github.com/users/mwarnes/orgs", "repos_url": "https://api.github.com/users/mwarnes/repos", "events_url": "https://api.github.com/users/mwarnes/events{/privacy}", "received_events_url": "https://api.github.com/users/mwarnes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-26T08:06:18Z", "updated_at": "2015-11-04T22:49:23Z", "closed_at": "2015-11-04T22:49:23Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/579", "html_url": "https://github.com/paramiko/paramiko/pull/579", "diff_url": "https://github.com/paramiko/paramiko/pull/579.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/579.patch", "merged_at": null}, "body": "\u2026 called once and the value passed to any required subroutines.\n\nThis is to allow support for the IBM Sterling Integrator SFTP Server when files are defined with an extractability count of 1.\n\nFiles with an extractability count of 1 will become unavailable once the GET request has started and any subsequent STAT commands to obtain the file size will fail with a file not found error.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/579/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/578", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/578/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/578/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/578/events", "html_url": "https://github.com/paramiko/paramiko/pull/578", "id": 102709527, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMxNDEwMDI=", "number": 578, "title": "fix sftp stalls", "user": {"login": "stephencpope", "id": 6413966, "node_id": "MDQ6VXNlcjY0MTM5NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6413966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephencpope", "html_url": "https://github.com/stephencpope", "followers_url": "https://api.github.com/users/stephencpope/followers", "following_url": "https://api.github.com/users/stephencpope/following{/other_user}", "gists_url": "https://api.github.com/users/stephencpope/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephencpope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephencpope/subscriptions", "organizations_url": "https://api.github.com/users/stephencpope/orgs", "repos_url": "https://api.github.com/users/stephencpope/repos", "events_url": "https://api.github.com/users/stephencpope/events{/privacy}", "received_events_url": "https://api.github.com/users/stephencpope/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/9", "html_url": "https://github.com/paramiko/paramiko/milestone/9", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/9/labels", "id": 1400546, "node_id": "MDk6TWlsZXN0b25lMTQwMDU0Ng==", "number": 9, "title": "1.16.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2015-11-09T01:13:24Z", "updated_at": "2016-05-12T16:49:31Z", "due_on": null, "closed_at": "2016-04-25T05:18:00Z"}, "comments": 15, "created_at": "2015-08-24T05:25:52Z", "updated_at": "2016-04-26T01:00:36Z", "closed_at": "2016-04-25T05:09:14Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/578", "html_url": "https://github.com/paramiko/paramiko/pull/578", "diff_url": "https://github.com/paramiko/paramiko/pull/578.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/578.patch", "merged_at": null}, "body": "Proposed fix for #577. Implemented as a branch off 1.15 HEAD as I was not interested in the extra credit of determining exactly when the issue arose earlier in the history. However, it would apply in principal beginning at the point where sftp prefetch was implemented (sometime after 1.9.0).\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/578/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/568", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/568/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/568/events", "html_url": "https://github.com/paramiko/paramiko/pull/568", "id": 98618510, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE0MTk4ODc=", "number": 568, "title": "Pad with zero not valid with OpenSSL", "user": {"login": "radssh", "id": 8227350, "node_id": "MDQ6VXNlcjgyMjczNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/8227350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/radssh", "html_url": "https://github.com/radssh", "followers_url": "https://api.github.com/users/radssh/followers", "following_url": "https://api.github.com/users/radssh/following{/other_user}", "gists_url": "https://api.github.com/users/radssh/gists{/gist_id}", "starred_url": "https://api.github.com/users/radssh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/radssh/subscriptions", "organizations_url": "https://api.github.com/users/radssh/orgs", "repos_url": "https://api.github.com/users/radssh/repos", "events_url": "https://api.github.com/users/radssh/events{/privacy}", "received_events_url": "https://api.github.com/users/radssh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/16", "html_url": "https://github.com/paramiko/paramiko/milestone/16", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/16/labels", "id": 2187866, "node_id": "MDk6TWlsZXN0b25lMjE4Nzg2Ng==", "number": 16, "title": "Next 1.x+2.x bugfix release", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 9, "state": "closed", "created_at": "2016-12-09T23:23:40Z", "updated_at": "2021-10-09T01:00:50Z", "due_on": null, "closed_at": "2017-06-09T21:37:41Z"}, "comments": 6, "created_at": "2015-08-02T15:56:28Z", "updated_at": "2021-10-09T01:00:50Z", "closed_at": "2021-10-09T01:00:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/568", "html_url": "https://github.com/paramiko/paramiko/pull/568", "diff_url": "https://github.com/paramiko/paramiko/pull/568.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/568.patch", "merged_at": null}, "body": "PKey write_private_key_file() with passphrase not compatible with OpenSSL due to improper padding. Fix padding content to be `byte_chr(n) * n` instead of `zero_byte * n`.\n\nOpenSSL (and when ssh-keygen is linked to libssl on Linux, but not OS X) error out with ambiguous 'bad decrypt' or 'load failed', which is usually synonymous with 'incorrect passphrase', but with incompatible padding, gets the same error message even with correct passphrase.\n\nZero padding likely worked until https://github.com/openssl/openssl/blob/b554eef43b9ac5b92f590da6a120dbfd9ca0582e/crypto/evp/evp_enc.c \"fixed\" things.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/568/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/566", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/566/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/566/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/566/events", "html_url": "https://github.com/paramiko/paramiko/issues/566", "id": 98060672, "node_id": "MDU6SXNzdWU5ODA2MDY3Mg==", "number": 566, "title": "Proposal to make _convert_status IOError value more meaningful", "user": {"login": "chorsley", "id": 383615, "node_id": "MDQ6VXNlcjM4MzYxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/383615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chorsley", "html_url": "https://github.com/chorsley", "followers_url": "https://api.github.com/users/chorsley/followers", "following_url": "https://api.github.com/users/chorsley/following{/other_user}", "gists_url": "https://api.github.com/users/chorsley/gists{/gist_id}", "starred_url": "https://api.github.com/users/chorsley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chorsley/subscriptions", "organizations_url": "https://api.github.com/users/chorsley/orgs", "repos_url": "https://api.github.com/users/chorsley/repos", "events_url": "https://api.github.com/users/chorsley/events{/privacy}", "received_events_url": "https://api.github.com/users/chorsley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-07-30T00:55:42Z", "updated_at": "2020-06-11T20:02:57Z", "closed_at": "2020-06-11T20:02:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been having issues with paramiko's SFTPClient module intermittantly failing to transfer a file on receiving an EINTR signal during a put operation. After I've called put(), the only thing raised is IOError(\"Failure\"), which makes it difficult to see exactly what happened, and if it's something I can / should retry.\n\nIn `paramiko.sftp_client.SFTPClient._convert_status()`, I had been thinking about a couple of options, first narrowly for EINTR:\n\n```\n...\nelif code == SFTP_PERMISSION_DENIED:\n    raise IOError(errno.EACCES, text)\nelif code == errno.EINTR:\n    raise IOError(code, text)\nelse:\n    raise IOError(text)\n```\n\nor more generally...\n\n```\n...\nelif code == SFTP_PERMISSION_DENIED:\n    raise IOError(errno.EACCES, text)\nelse:\n    raise IOError(code, text)\n```\n\nTests seem to pass with either of these changes, but I'm wondering how many people are relying on the current behaviour. Any suggestions most welcome.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/566/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/565", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/565/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/565/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/565/events", "html_url": "https://github.com/paramiko/paramiko/pull/565", "id": 97887453, "node_id": "MDExOlB1bGxSZXF1ZXN0NDEwOTkyODI=", "number": 565, "title": "compare end of key file before reading it", "user": {"login": "vogxn", "id": 1272270, "node_id": "MDQ6VXNlcjEyNzIyNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1272270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vogxn", "html_url": "https://github.com/vogxn", "followers_url": "https://api.github.com/users/vogxn/followers", "following_url": "https://api.github.com/users/vogxn/following{/other_user}", "gists_url": "https://api.github.com/users/vogxn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vogxn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vogxn/subscriptions", "organizations_url": "https://api.github.com/users/vogxn/orgs", "repos_url": "https://api.github.com/users/vogxn/repos", "events_url": "https://api.github.com/users/vogxn/events{/privacy}", "received_events_url": "https://api.github.com/users/vogxn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/7", "html_url": "https://github.com/paramiko/paramiko/milestone/7", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/7/labels", "id": 1377862, "node_id": "MDk6TWlsZXN0b25lMTM3Nzg2Mg==", "number": 7, "title": "1.15.4", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-10-26T18:42:34Z", "updated_at": "2015-11-03T01:08:36Z", "due_on": null, "closed_at": "2015-11-03T01:08:36Z"}, "comments": 2, "created_at": "2015-07-29T08:41:53Z", "updated_at": "2015-11-03T01:07:21Z", "closed_at": "2015-11-03T01:07:21Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/565", "html_url": "https://github.com/paramiko/paramiko/pull/565", "diff_url": "https://github.com/paramiko/paramiko/pull/565.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/565.patch", "merged_at": null}, "body": "have been running this change for a week and haven't encountered the `IndexError` again.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/565/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/562", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/562/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/562/events", "html_url": "https://github.com/paramiko/paramiko/pull/562", "id": 96794997, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA2NjMyMDQ=", "number": 562, "title": "Call stat before opening file for reading", "user": {"login": "torkil", "id": 186161, "node_id": "MDQ6VXNlcjE4NjE2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/186161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/torkil", "html_url": "https://github.com/torkil", "followers_url": "https://api.github.com/users/torkil/followers", "following_url": "https://api.github.com/users/torkil/following{/other_user}", "gists_url": "https://api.github.com/users/torkil/gists{/gist_id}", "starred_url": "https://api.github.com/users/torkil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/torkil/subscriptions", "organizations_url": "https://api.github.com/users/torkil/orgs", "repos_url": "https://api.github.com/users/torkil/repos", "events_url": "https://api.github.com/users/torkil/events{/privacy}", "received_events_url": "https://api.github.com/users/torkil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-23T11:48:02Z", "updated_at": "2015-11-04T22:53:56Z", "closed_at": "2015-11-04T22:53:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/562", "html_url": "https://github.com/paramiko/paramiko/pull/562", "diff_url": "https://github.com/paramiko/paramiko/pull/562.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/562.patch", "merged_at": "2015-11-04T22:53:56Z"}, "body": "Calling stat after opening a file for reading will in some server\nconfigurations(?) lead to IOError: The message 'filename' is\nnot extractable.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/562/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/560", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/560/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/560/events", "html_url": "https://github.com/paramiko/paramiko/issues/560", "id": 96022343, "node_id": "MDU6SXNzdWU5NjAyMjM0Mw==", "number": 560, "title": "SFTP download hangs after a certain number of files.", "user": {"login": "Dreamsorcerer", "id": 2203121, "node_id": "MDQ6VXNlcjIyMDMxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2203121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dreamsorcerer", "html_url": "https://github.com/Dreamsorcerer", "followers_url": "https://api.github.com/users/Dreamsorcerer/followers", "following_url": "https://api.github.com/users/Dreamsorcerer/following{/other_user}", "gists_url": "https://api.github.com/users/Dreamsorcerer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dreamsorcerer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dreamsorcerer/subscriptions", "organizations_url": "https://api.github.com/users/Dreamsorcerer/orgs", "repos_url": "https://api.github.com/users/Dreamsorcerer/repos", "events_url": "https://api.github.com/users/Dreamsorcerer/events{/privacy}", "received_events_url": "https://api.github.com/users/Dreamsorcerer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-07-20T09:21:13Z", "updated_at": "2016-04-25T05:00:36Z", "closed_at": "2016-04-25T05:00:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When recursively downloading a directory from an SFTP connection, the download will always hang after a certain number of files (always somewhere around 60).\n\nThe number of files that are downloaded before hanging is always the same for the same directory. I have checked this by having it skip some files, to test if it was the specific file or the number of files.\n\nWith a few different parent directories I tested with, it would hang on file 59, 60, 61 and 66, depending on the directory. It is always the same count for the same directory.\n\nWhen interrupting the program in this hung state, this is the stack trace:\n\n```\nTraceback (most recent call last):\n  File \"test_ftp.py\", line 41, in <module>\n    para()\n  File \"test_ftp.py\", line 33, in para\n    recursive_download(\"plugins/jetpack\", \"/home/s/Desktop/wordpress-seo\")\n  File \"test_ftp.py\", line 31, in recursive_download\n    ftp.get(new_ftp_path, new_path)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp_client.py\", line 720, in get\n    size = self.getfo(remotepath, fl, callback)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp_client.py\", line 688, in getfo\n    with self.open(remotepath, 'rb') as fr:\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp_client.py\", line 327, in open\n    t, msg = self._request(CMD_OPEN, filename, imode, attrblock)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp_client.py\", line 728, in _request\n    num = self._async_request(type(None), t, *arg)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp_client.py\", line 750, in _async_request\n    self._send_packet(t, msg)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp.py\", line 170, in _send_packet\n    self._write_all(out)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/sftp.py\", line 133, in _write_all\n    n = self.sock.send(out)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/channel.py\", line 698, in send\n    return self._send(s, m)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/channel.py\", line 1059, in _send\n    size = self._wait_for_send_window(size)\n  File \"/usr/local/lib/python3.4/dist-packages/paramiko/channel.py\", line 1174, in _wait_for_send_window\n    self.out_buffer_cv.wait(timeout)\n  File \"/usr/lib/python3.4/threading.py\", line 290, in wait\n    waiter.acquire()\nKeyboardInterrupt\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/559", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/559/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/559/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/559/events", "html_url": "https://github.com/paramiko/paramiko/issues/559", "id": 95428508, "node_id": "MDU6SXNzdWU5NTQyODUwOA==", "number": 559, "title": "ecdsa.der.UnexpectedDER with my ECDSA key", "user": {"login": "KokaKiwi", "id": 183116, "node_id": "MDQ6VXNlcjE4MzExNg==", "avatar_url": "https://avatars.githubusercontent.com/u/183116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KokaKiwi", "html_url": "https://github.com/KokaKiwi", "followers_url": "https://api.github.com/users/KokaKiwi/followers", "following_url": "https://api.github.com/users/KokaKiwi/following{/other_user}", "gists_url": "https://api.github.com/users/KokaKiwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/KokaKiwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KokaKiwi/subscriptions", "organizations_url": "https://api.github.com/users/KokaKiwi/orgs", "repos_url": "https://api.github.com/users/KokaKiwi/repos", "events_url": "https://api.github.com/users/KokaKiwi/events{/privacy}", "received_events_url": "https://api.github.com/users/KokaKiwi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-07-16T13:03:08Z", "updated_at": "2016-05-12T18:24:34Z", "closed_at": "2016-05-12T17:12:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm using Fabric and I noticed using the 1.15 version that my ECDSA key raise an exception when handled by paramiko:\n\n```\nTraceback (most recent call last):\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/main.py\", line 743, in main\n    *args, **kwargs\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/tasks.py\", line 387, in execute\n    multiprocessing\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/tasks.py\", line 277, in _execute\n    return task.run(*args, **kwargs)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/tasks.py\", line 174, in run\n    return self.wrapped(*args, **kwargs)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/decorators.py\", line 53, in inner_decorator\n    return func(*args, **kwargs)\n  File \".../deploy/fabfile/__init__.py\", line 32, in install\n    cmd.packages_install('zsh', 'sudo', 'curl', 'git', 'openssl')\n  File \".../deploy/fabfile/cmd.py\", line 35, in packages_install\n    cuisine.package_ensure(name)\n  File \".../deploy/.venv/lib/python2.7/site-packages/cuisine.py\", line 154, in wrapper\n    return function(*args, **kwargs)\n  File \".../deploy/.venv/lib/python2.7/site-packages/cuisine.py\", line 204, in wrapper\n    return specific(*args, **kwargs)\n  File \".../deploy/.venv/lib/python2.7/site-packages/cuisine.py\", line 1006, in package_ensure_apt\n    status = run(\"dpkg-query -W -f='${Status} ' %s && echo OK;true\" % p)\n  File \".../deploy/.venv/lib/python2.7/site-packages/cuisine.py\", line 433, in run\n    return fabric.api.run(*args, **kwargs)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/network.py\", line 649, in host_prompting_wrapper\n    return func(*args, **kwargs)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/operations.py\", line 1056, in run\n    shell_escape=shell_escape)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/operations.py\", line 923, in _run_command\n    channel=default_channel(), command=wrapped_command, pty=pty,\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/state.py\", line 397, in default_channel\n    chan = _open_session()\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/state.py\", line 389, in _open_session\n    return connections[env.host_string].get_transport().open_session()\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/network.py\", line 159, in __getitem__\n    self.connect(key)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/network.py\", line 151, in connect\n    user, host, port, cache=self, seek_gateway=seek_gateway)\n  File \".../deploy/.venv/lib/python2.7/site-packages/fabric/network.py\", line 452, in connect\n    sock=sock\n  File \".../deploy/.venv/lib/python2.7/site-packages/paramiko/client.py\", line 307, in connect\n    look_for_keys, gss_auth, gss_kex, gss_deleg_creds, gss_host)\n  File \".../deploy/.venv/lib/python2.7/site-packages/paramiko/client.py\", line 497, in _auth\n    key = pkey_class.from_private_key_file(filename, password)\n  File \".../deploy/.venv/lib/python2.7/site-packages/paramiko/pkey.py\", line 183, in from_private_key_file\n    key = cls(filename=filename, password=password)\n  File \".../deploy/.venv/lib/python2.7/site-packages/paramiko/ecdsakey.py\", line 49, in __init__\n    self._from_private_key_file(filename, password)\n  File \".../deploy/.venv/lib/python2.7/site-packages/paramiko/ecdsakey.py\", line 148, in _from_private_key_file\n    self._decode_key(data)\n  File \".../deploy/.venv/lib/python2.7/site-packages/paramiko/ecdsakey.py\", line 158, in _decode_key\n    s, padding = der.remove_sequence(data)\n  File \".../deploy/.venv/lib/python2.7/site-packages/ecdsa/der.py\", line 65, in remove_sequence\n    raise UnexpectedDER(\"wanted sequence (0x30), got 0x%02x\" % n)\necdsa.der.UnexpectedDER: wanted sequence (0x30), got 0x2d\n```\n\nI don't have any idea why I have this as my key is working perfectly with my OpenSSH client.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/559/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/552", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/552/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/552/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/552/events", "html_url": "https://github.com/paramiko/paramiko/issues/552", "id": 92814490, "node_id": "MDU6SXNzdWU5MjgxNDQ5MA==", "number": 552, "title": "Client close doesn't close the client's socket", "user": {"login": "DerpDarako", "id": 7943308, "node_id": "MDQ6VXNlcjc5NDMzMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7943308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerpDarako", "html_url": "https://github.com/DerpDarako", "followers_url": "https://api.github.com/users/DerpDarako/followers", "following_url": "https://api.github.com/users/DerpDarako/following{/other_user}", "gists_url": "https://api.github.com/users/DerpDarako/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerpDarako/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerpDarako/subscriptions", "organizations_url": "https://api.github.com/users/DerpDarako/orgs", "repos_url": "https://api.github.com/users/DerpDarako/repos", "events_url": "https://api.github.com/users/DerpDarako/events{/privacy}", "received_events_url": "https://api.github.com/users/DerpDarako/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-03T07:39:24Z", "updated_at": "2015-10-26T18:53:32Z", "closed_at": "2015-10-26T18:53:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nIt seems  there is a bug in your transport.py. In deed, when I use client.close(), your code calls transport.close(), ending all channels and you should close the server socket... But, despite that socket.close() all sockets are not close on my server if I use netstat -an, I see all paramiko connections in TIME_WAIT status.\n\nI stay at your disposal if you need more information.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/547", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/547/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/547/events", "html_url": "https://github.com/paramiko/paramiko/issues/547", "id": 91727757, "node_id": "MDU6SXNzdWU5MTcyNzc1Nw==", "number": 547, "title": "IndexError during private key reads", "user": {"login": "vogxn", "id": 1272270, "node_id": "MDQ6VXNlcjEyNzIyNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1272270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vogxn", "html_url": "https://github.com/vogxn", "followers_url": "https://api.github.com/users/vogxn/followers", "following_url": "https://api.github.com/users/vogxn/following{/other_user}", "gists_url": "https://api.github.com/users/vogxn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vogxn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vogxn/subscriptions", "organizations_url": "https://api.github.com/users/vogxn/orgs", "repos_url": "https://api.github.com/users/vogxn/repos", "events_url": "https://api.github.com/users/vogxn/events{/privacy}", "received_events_url": "https://api.github.com/users/vogxn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-06-29T07:48:58Z", "updated_at": "2015-07-30T18:06:38Z", "closed_at": "2015-07-30T18:06:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running some python tests that execute commands against EC2 machines. Following error is encountered periodically when reading the private key needed to ssh to the machines. The key is an RSA key of size=1024\n\nFollowing is the stacktrace:\n\n``` log\n    def _read_private_key(self, tag, f, password=None):\n        lines = f.readlines()\n        start = 0\n        while (start < len(lines)) and (lines[start].strip() != '-----BEGIN ' + tag + ' PRIVATE KEY-----'):\n            start += 1\n        if start >= len(lines):\n            raise SSHException('not a valid ' + tag + ' private key file')\n        # parse any headers first\n        headers = {}\n        start += 1\n        while start < len(lines):\n            l = lines[start].split(': ')\n            if len(l) == 1:\n                break\n            headers[l[0].lower()] = l[1].strip()\n            start += 1\n        # find end\n        end = start\n>       while (lines[end].strip() != '-----END ' + tag + ' PRIVATE KEY-----') and (end < len(lines)):\nE       IndexError: list index out of range\n\nbuild/bdist.linux-x86_64/egg/paramiko/pkey.py:276: IndexError\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/537", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/537/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/537/events", "html_url": "https://github.com/paramiko/paramiko/issues/537", "id": 86221828, "node_id": "MDU6SXNzdWU4NjIyMTgyOA==", "number": 537, "title": "race condition between channel.fileno() and closing channel when using select.select() with paramiko channels.", "user": {"login": "pstrzelczak", "id": 7737102, "node_id": "MDQ6VXNlcjc3MzcxMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7737102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pstrzelczak", "html_url": "https://github.com/pstrzelczak", "followers_url": "https://api.github.com/users/pstrzelczak/followers", "following_url": "https://api.github.com/users/pstrzelczak/following{/other_user}", "gists_url": "https://api.github.com/users/pstrzelczak/gists{/gist_id}", "starred_url": "https://api.github.com/users/pstrzelczak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pstrzelczak/subscriptions", "organizations_url": "https://api.github.com/users/pstrzelczak/orgs", "repos_url": "https://api.github.com/users/pstrzelczak/repos", "events_url": "https://api.github.com/users/pstrzelczak/events{/privacy}", "received_events_url": "https://api.github.com/users/pstrzelczak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}, {"id": 391162528, "node_id": "MDU6TGFiZWwzOTExNjI1Mjg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Hangs", "name": "Hangs", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/11", "html_url": "https://github.com/paramiko/paramiko/milestone/11", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/11/labels", "id": 1503762, "node_id": "MDk6TWlsZXN0b25lMTUwMzc2Mg==", "number": 11, "title": "1.16.2 / 1.17.1 / 2.0.1", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2016-01-13T05:47:59Z", "updated_at": "2016-06-21T20:38:51Z", "due_on": null, "closed_at": "2016-06-21T20:38:51Z"}, "comments": 9, "created_at": "2015-06-08T15:26:15Z", "updated_at": "2016-06-11T18:16:58Z", "closed_at": "2016-06-10T21:05:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following code\n\n```\nchannel.exec_command(command)\nselect.select([channel], [], [])\n```\n\nmay lead to deadlock because a pipe created internally in channel.fileno() can be created after channel is closed().\npython 2.7.6\nparamiko 1.10.1\nLinux Mint 17\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/532", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/532/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/532/events", "html_url": "https://github.com/paramiko/paramiko/issues/532", "id": 81735527, "node_id": "MDU6SXNzdWU4MTczNTUyNw==", "number": 532, "title": "weakdh.org: Doesn't work with \"KexAlgorithms curve25519-sha256@libssh.org\"", "user": {"login": "rata", "id": 70861, "node_id": "MDQ6VXNlcjcwODYx", "avatar_url": "https://avatars.githubusercontent.com/u/70861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rata", "html_url": "https://github.com/rata", "followers_url": "https://api.github.com/users/rata/followers", "following_url": "https://api.github.com/users/rata/following{/other_user}", "gists_url": "https://api.github.com/users/rata/gists{/gist_id}", "starred_url": "https://api.github.com/users/rata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rata/subscriptions", "organizations_url": "https://api.github.com/users/rata/orgs", "repos_url": "https://api.github.com/users/rata/repos", "events_url": "https://api.github.com/users/rata/events{/privacy}", "received_events_url": "https://api.github.com/users/rata/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-05-28T03:20:12Z", "updated_at": "2019-06-07T21:51:39Z", "closed_at": "2019-06-07T21:51:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "As suggested here: https://weakdh.org/sysadmin.html on the new weakdh.org attack site, one solution is to use:\n\n```\nKexAlgorithms curve25519-sha256@libssh.org\n```\n\nOn the sshd_config of the server. So that lines restricts the KexAlgorithms to just that one. But that makes paramiko unable to connect.\n\nIt throws this error:\n\n```\nNo handlers could be found for logger \"paramiko.transport\"\n\nFatal error: Incompatible ssh peer (no acceptable kex algorithm)\n\nUnderlying exception:\n    Incompatible ssh peer (no acceptable kex algorithm)\n```\n\nI'm using paramiko==1.15.2 (the last release). Can you please consider fixing this ?\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/530", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/530/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/530/events", "html_url": "https://github.com/paramiko/paramiko/issues/530", "id": 79109803, "node_id": "MDU6SXNzdWU3OTEwOTgwMw==", "number": 530, "title": "'The message [...] is not extractable!' on calls to getfo", "user": {"login": "ryanahall", "id": 448356, "node_id": "MDQ6VXNlcjQ0ODM1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/448356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanahall", "html_url": "https://github.com/ryanahall", "followers_url": "https://api.github.com/users/ryanahall/followers", "following_url": "https://api.github.com/users/ryanahall/following{/other_user}", "gists_url": "https://api.github.com/users/ryanahall/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanahall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanahall/subscriptions", "organizations_url": "https://api.github.com/users/ryanahall/orgs", "repos_url": "https://api.github.com/users/ryanahall/repos", "events_url": "https://api.github.com/users/ryanahall/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanahall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-21T18:26:45Z", "updated_at": "2015-05-21T19:19:46Z", "closed_at": "2015-05-21T19:19:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm currently running into this error when calling getfo on files that exist on the remote server. It seems to fail during CMD_STAT requests when the file is already opened for reading, but the same CMD_STAT will work if I manually call it without opening the file first. I imagine this is probably related to the configuration of the sftp server I'm connecting to, but I figured I should file an issue ayway.\n\nHere's two manual calls of CMD_STAT on the same server/file, one with it already opened and the other not. getfo() uses the first approach of opening and then calling stat() seen here: https://github.com/paramiko/paramiko/blob/master/paramiko/sftp_client.py#L688-L689\n\n```\nIn [43]: with sftpc.open('[removed]', 'rb') as fr:\n   ....:     sftpc._request(CMD_STAT, '[removed]')\n   ....:\n---------------------------------------------------------------------------\nIOError                                   Traceback (most recent call last)\n<ipython-input-43-b71244708fe4> in <module>()\n      1 with sftpc.open('[removed]', 'rb') as fr:\n----> 2     sftpc._request(CMD_STAT, '[removed]')\n      3\n\n/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in _request(self, t, *arg)\n    727     def _request(self, t, *arg):\n    728         num = self._async_request(type(None), t, *arg)\n--> 729         return self._read_response(num)\n    730\n    731     def _async_request(self, fileobj, t, *arg):\n\n/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in _read_response(self, waitfor)\n    774                 # synchronous\n    775                 if t == CMD_STATUS:\n--> 776                     self._convert_status(msg)\n    777                 return t, msg\n    778             if fileobj is not type(None):\n\n/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in _convert_status(self, msg)\n    800         elif code == SFTP_NO_SUCH_FILE:\n    801             # clever idea from john a. meinel: map the error codes to errno\n--> 802             raise IOError(errno.ENOENT, text)\n    803         elif code == SFTP_PERMISSION_DENIED:\n    804             raise IOError(errno.EACCES, text)\n\nIOError: [Errno 2] The message [[removed]] is not extractable!\n\nIn [44]: sftpc._request(CMD_STAT, '[removed]')\nOut[44]:\n(105,\n paramiko.Message('\\x00\\x00\\x00.....'))\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/525", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/525/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/525/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/525/events", "html_url": "https://github.com/paramiko/paramiko/pull/525", "id": 74387071, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUwMTUyODk=", "number": 525, "title": "Updated vendored jaraco.windows APIs", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-08T14:47:00Z", "updated_at": "2015-11-03T20:58:21Z", "closed_at": "2015-11-03T20:57:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/525", "html_url": "https://github.com/paramiko/paramiko/pull/525", "diff_url": "https://github.com/paramiko/paramiko/pull/525.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/525.patch", "merged_at": "2015-11-03T20:57:23Z"}, "body": "In this commit, I refresh the vendored _winapi.py module from its reference implementation. Merging this commit incorporates the fix for #193 and also includes (tested) fixes for #488 and #498.\n\nIt does restore the tab indentation, which makes it easier to sync the code with the reference implementation. I recommend keeping the tab indentation for that reason, though if you want to convert it to spaces, feel free to do so or ask and I can do that as a separate commit.\n\nThis PR comes against the 1.13 branch as I wanted to make the fixes available to be back ported to that version. It should be able to be readily merged into 1.14, 1.15, and master by simply accepting the whole `_winapi` file.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/525/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/502", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/502/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/502/events", "html_url": "https://github.com/paramiko/paramiko/pull/502", "id": 63214885, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2MDc1MDk=", "number": 502, "title": "Bugfix: an exec request with a non UTF-8 command fails with an UnicodeDecodeError", "user": {"login": "akruis", "id": 659726, "node_id": "MDQ6VXNlcjY1OTcyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/659726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akruis", "html_url": "https://github.com/akruis", "followers_url": "https://api.github.com/users/akruis/followers", "following_url": "https://api.github.com/users/akruis/following{/other_user}", "gists_url": "https://api.github.com/users/akruis/gists{/gist_id}", "starred_url": "https://api.github.com/users/akruis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akruis/subscriptions", "organizations_url": "https://api.github.com/users/akruis/orgs", "repos_url": "https://api.github.com/users/akruis/repos", "events_url": "https://api.github.com/users/akruis/events{/privacy}", "received_events_url": "https://api.github.com/users/akruis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/6", "html_url": "https://github.com/paramiko/paramiko/milestone/6", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/6/labels", "id": 1332248, "node_id": "MDk6TWlsZXN0b25lMTMzMjI0OA==", "number": 6, "title": "1.16", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-09-30T22:50:42Z", "updated_at": "2015-11-04T22:54:18Z", "due_on": null, "closed_at": "2015-11-04T22:54:18Z"}, "comments": 8, "created_at": "2015-03-20T11:54:43Z", "updated_at": "2015-11-04T00:25:05Z", "closed_at": "2015-11-04T00:25:05Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/502", "html_url": "https://github.com/paramiko/paramiko/pull/502", "diff_url": "https://github.com/paramiko/paramiko/pull/502.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/502.patch", "merged_at": null}, "body": "Affected paramiko versions: all.\n\nThis pull request fixes a minor bug in the processing of the channel request \"exec\" on the\nserver side of a ssh session. \n# Problem\n\nIf the client sends a command sting, that is not a valid UTF-8 byte sequence, paramiko raises an UnicodeDecodeError.\n\nHere is an example:\n\n> paramiko.transport - ERROR - Unknown exception: 'utf8' codec can't decode byte 0xe4 in position 889: invalid continuation byte\n> paramiko.transport - ERROR - Traceback (most recent call last):\n> paramiko.transport - ERROR -   File \"F:\\fg2\\eclipsews\\fg2py\\src3rdParty\\paramiko\\transport.py\", line 1619, in run\n> paramiko.transport - ERROR -     self._channel_handler_table[ptype](chan, m)\n> paramiko.transport - ERROR -   File \"F:\\fg2\\eclipsews\\fg2py\\src3rdParty\\paramiko\\channel.py\", line 978, in _handle_request\n> paramiko.transport - ERROR -     cmd = m.get_text()\n> paramiko.transport - ERROR -   File \"F:\\fg2\\eclipsews\\fg2py\\src3rdParty\\paramiko\\message.py\", line 199, in get_text\n> paramiko.transport - ERROR -     return u(self.get_bytes(self.get_size()))\n> paramiko.transport - ERROR -   File \"F:\\fg2\\eclipsews\\fg2py\\src3rdParty\\paramiko\\py3compat.py\", line 51, in u\n> paramiko.transport - ERROR -     return s.decode(encoding)\n> paramiko.transport - ERROR -   File \"F:\\fg2\\eclipsews\\fg2py\\arch\\win32\\libexec\\lib\\encodings\\utf_8.py\", line 16, in decode\n> paramiko.transport - ERROR -     return codecs.utf_8_decode(input, errors, True)\n> paramiko.transport - ERROR - UnicodeDecodeError: 'utf8' codec can't decode byte 0xe4 in position 889: invalid continuation byte\n\nAccording to RFC 4254 sec 6.5 the \"command\" string of an \"exec\" channel\nrequest is a byte-string, but paramiko uses the Message.get_text() method to read the command string. get_text() requires an UTF-8 encoded byte string.\n# Fix\n\nThe pull request changes the request handling code to read a byte string instead of a unicode string and changes one test case to use a non UTF-8 byte string.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/502/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/499", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/499/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/499/events", "html_url": "https://github.com/paramiko/paramiko/issues/499", "id": 61925822, "node_id": "MDU6SXNzdWU2MTkyNTgyMg==", "number": 499, "title": "Identity file (key) not found if there is a blank at the end of config file line", "user": {"login": "Aestu", "id": 8393416, "node_id": "MDQ6VXNlcjgzOTM0MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8393416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aestu", "html_url": "https://github.com/Aestu", "followers_url": "https://api.github.com/users/Aestu/followers", "following_url": "https://api.github.com/users/Aestu/following{/other_user}", "gists_url": "https://api.github.com/users/Aestu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aestu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aestu/subscriptions", "organizations_url": "https://api.github.com/users/Aestu/orgs", "repos_url": "https://api.github.com/users/Aestu/repos", "events_url": "https://api.github.com/users/Aestu/events{/privacy}", "received_events_url": "https://api.github.com/users/Aestu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-16T00:13:56Z", "updated_at": "2016-01-19T22:47:44Z", "closed_at": "2016-01-19T22:47:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Step to reproduce:\n\n1.- Add a space at the end of IdentityFile line in ~/.ssh/config file\n2.- Connect to this host using standard ssh: Everything is ok\n2.- Try to connect to this host using paramiko: Error raises:\n\nBackendException: ssh connection to root@xxxxxxx:22 failed: [Errno 2] No such file or directory: '/home/xxxxxx/.ssh/id_rsa '\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/498", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/498/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/498/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/498/events", "html_url": "https://github.com/paramiko/paramiko/issues/498", "id": 60571067, "node_id": "MDU6SXNzdWU2MDU3MTA2Nw==", "number": 498, "title": "Access violation in _winapi.py", "user": {"login": "taumeson", "id": 113290, "node_id": "MDQ6VXNlcjExMzI5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/113290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taumeson", "html_url": "https://github.com/taumeson", "followers_url": "https://api.github.com/users/taumeson/followers", "following_url": "https://api.github.com/users/taumeson/following{/other_user}", "gists_url": "https://api.github.com/users/taumeson/gists{/gist_id}", "starred_url": "https://api.github.com/users/taumeson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taumeson/subscriptions", "organizations_url": "https://api.github.com/users/taumeson/orgs", "repos_url": "https://api.github.com/users/taumeson/repos", "events_url": "https://api.github.com/users/taumeson/events{/privacy}", "received_events_url": "https://api.github.com/users/taumeson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-10T21:17:54Z", "updated_at": "2015-11-03T20:52:00Z", "closed_at": "2015-11-03T20:52:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running MySQL Workbench on Windows 8.1 and had to upgrade paramiko as part of a suggested bug fix on the MySQL bug tracker involving having pageant running at the same time (http://bugs.mysql.com/bug.php?id=76168). This was done successfully but I'm now receiving an access violation:\n\n`ERR [20150310-15:49:00.816] thr=1   paramiko.transport:   File \"C:\\Program Files\\MySQL\\MySQL Workbench 6.2 CE/python/site-packages\\paramiko\\_winapi.py\", line 150, in read`\n`ERR [20150310-15:49:00.816] thr=1   paramiko.transport:     ctypes.windll.kernel32.RtlMoveMemory(out, self.view + self.pos, n)`\n`ERR [20150310-15:49:00.818] thr=1   paramiko.transport: WindowsError: exception: access violation reading 0x00007FFE258A0000`\n\nHere is the gist of the full traceback:\nhttps://gist.github.com/taumeson/8853980184673ba88188\n\nI'm running Windows 8.1 x64, and I know that Windows is a secondary concern. Hopefully it's something obvious but I am out of my element.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/496", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/496/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/496/events", "html_url": "https://github.com/paramiko/paramiko/pull/496", "id": 59634029, "node_id": "MDExOlB1bGxSZXF1ZXN0MzAzNjg3MjY=", "number": 496, "title": "Various GSSAPI fixes", "user": {"login": "akruis", "id": 659726, "node_id": "MDQ6VXNlcjY1OTcyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/659726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akruis", "html_url": "https://github.com/akruis", "followers_url": "https://api.github.com/users/akruis/followers", "following_url": "https://api.github.com/users/akruis/following{/other_user}", "gists_url": "https://api.github.com/users/akruis/gists{/gist_id}", "starred_url": "https://api.github.com/users/akruis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akruis/subscriptions", "organizations_url": "https://api.github.com/users/akruis/orgs", "repos_url": "https://api.github.com/users/akruis/repos", "events_url": "https://api.github.com/users/akruis/events{/privacy}", "received_events_url": "https://api.github.com/users/akruis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/5", "html_url": "https://github.com/paramiko/paramiko/milestone/5", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/5/labels", "id": 999598, "node_id": "MDk6TWlsZXN0b25lOTk5NTk4", "number": 5, "title": "1.15.3", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2015-02-27T23:24:37Z", "updated_at": "2015-10-26T18:42:26Z", "due_on": null, "closed_at": "2015-10-26T18:42:26Z"}, "comments": 7, "created_at": "2015-03-03T12:20:00Z", "updated_at": "2015-09-30T22:44:16Z", "closed_at": "2015-09-30T22:44:16Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/496", "html_url": "https://github.com/paramiko/paramiko/pull/496", "diff_url": "https://github.com/paramiko/paramiko/pull/496.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/496.patch", "merged_at": "2015-09-30T22:44:16Z"}, "body": "The GSSAPI support in 1.15 and master contains a few minor bugs.\n- paramiko/auth_handler.py uses MSG_NAMES without importing it.\n- The documentation of of the return value and exception of ssh_check_mic in paramiko/ssh_gss is wrong.\n- in paramiko/auth_handler.py the variable \"retval\" is used uninitialised.\n- paramiko/kex_gss still uses the old PyCrypto random generator.\n\nThis pull request includes one commit for each bug.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/496/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/491", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/491/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/491/events", "html_url": "https://github.com/paramiko/paramiko/pull/491", "id": 58743952, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk5MDA0NDM=", "number": 491, "title": "Timeout fixes", "user": {"login": "lndbrg", "id": 90185, "node_id": "MDQ6VXNlcjkwMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/90185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lndbrg", "html_url": "https://github.com/lndbrg", "followers_url": "https://api.github.com/users/lndbrg/followers", "following_url": "https://api.github.com/users/lndbrg/following{/other_user}", "gists_url": "https://api.github.com/users/lndbrg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lndbrg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lndbrg/subscriptions", "organizations_url": "https://api.github.com/users/lndbrg/orgs", "repos_url": "https://api.github.com/users/lndbrg/repos", "events_url": "https://api.github.com/users/lndbrg/events{/privacy}", "received_events_url": "https://api.github.com/users/lndbrg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/5", "html_url": "https://github.com/paramiko/paramiko/milestone/5", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/5/labels", "id": 999598, "node_id": "MDk6TWlsZXN0b25lOTk5NTk4", "number": 5, "title": "1.15.3", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2015-02-27T23:24:37Z", "updated_at": "2015-10-26T18:42:26Z", "due_on": null, "closed_at": "2015-10-26T18:42:26Z"}, "comments": 1, "created_at": "2015-02-24T14:17:29Z", "updated_at": "2015-09-30T21:53:42Z", "closed_at": "2015-09-30T21:53:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/491", "html_url": "https://github.com/paramiko/paramiko/pull/491", "diff_url": "https://github.com/paramiko/paramiko/pull/491.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/491.patch", "merged_at": "2015-09-30T21:53:42Z"}, "body": "This closes #439 and #62\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/491/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/490", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/490/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/490/events", "html_url": "https://github.com/paramiko/paramiko/issues/490", "id": 58581956, "node_id": "MDU6SXNzdWU1ODU4MTk1Ng==", "number": 490, "title": "Handling broken entries in known_hosts", "user": {"login": "martintopholm", "id": 1120068, "node_id": "MDQ6VXNlcjExMjAwNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1120068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martintopholm", "html_url": "https://github.com/martintopholm", "followers_url": "https://api.github.com/users/martintopholm/followers", "following_url": "https://api.github.com/users/martintopholm/following{/other_user}", "gists_url": "https://api.github.com/users/martintopholm/gists{/gist_id}", "starred_url": "https://api.github.com/users/martintopholm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martintopholm/subscriptions", "organizations_url": "https://api.github.com/users/martintopholm/orgs", "repos_url": "https://api.github.com/users/martintopholm/repos", "events_url": "https://api.github.com/users/martintopholm/events{/privacy}", "received_events_url": "https://api.github.com/users/martintopholm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}, {"id": 151049708, "node_id": "MDU6TGFiZWwxNTEwNDk3MDg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/known_hosts", "name": "known_hosts", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/5", "html_url": "https://github.com/paramiko/paramiko/milestone/5", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/5/labels", "id": 999598, "node_id": "MDk6TWlsZXN0b25lOTk5NTk4", "number": 5, "title": "1.15.3", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2015-02-27T23:24:37Z", "updated_at": "2015-10-26T18:42:26Z", "due_on": null, "closed_at": "2015-10-26T18:42:26Z"}, "comments": 2, "created_at": "2015-02-23T12:55:36Z", "updated_at": "2015-09-30T21:18:33Z", "closed_at": "2015-09-30T21:18:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When broken entries exists in known_hosts, paramiko raises SSHException \nwith \"Invalid key\".\n\n```\necho \"example.net ssh-rsa AAAA\" >>known_hosts\npython2\n>>> import paramiko\n>>> hostkeys = paramiko.HostKeys()\n>>> hostkeys.load('known_hosts')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/mph/.local/lib/python2.7/site-packages/paramiko/hostkeys.py\", line 99, in load\n    e = HostKeyEntry.from_line(line, lineno)\n  File \"/home/mph/.local/lib/python2.7/site-packages/paramiko/hostkeys.py\", line 327, in from_line\n    key = RSAKey(data=decodebytes(key))\n  File \"/home/mph/.local/lib/python2.7/site-packages/paramiko/rsakey.py\", line 65, in __init__\n    raise SSHException('Invalid key')\nparamiko.ssh_exception.SSHException: Invalid key\n```\n\nIt would be nice if paramiko would ignore unparsable lines in known_hosts \nor provide the file and line in the error message.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/487", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/487/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/487/events", "html_url": "https://github.com/paramiko/paramiko/pull/487", "id": 57336804, "node_id": "MDExOlB1bGxSZXF1ZXN0MjkxMDM2NjQ=", "number": 487, "title": "Fix non-blocking reads from ChannelFile", "user": {"login": "pheller", "id": 552150, "node_id": "MDQ6VXNlcjU1MjE1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/552150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pheller", "html_url": "https://github.com/pheller", "followers_url": "https://api.github.com/users/pheller/followers", "following_url": "https://api.github.com/users/pheller/following{/other_user}", "gists_url": "https://api.github.com/users/pheller/gists{/gist_id}", "starred_url": "https://api.github.com/users/pheller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pheller/subscriptions", "organizations_url": "https://api.github.com/users/pheller/orgs", "repos_url": "https://api.github.com/users/pheller/repos", "events_url": "https://api.github.com/users/pheller/events{/privacy}", "received_events_url": "https://api.github.com/users/pheller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-11T16:11:23Z", "updated_at": "2021-08-01T15:46:59Z", "closed_at": "2021-08-01T15:46:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/487", "html_url": "https://github.com/paramiko/paramiko/pull/487", "diff_url": "https://github.com/paramiko/paramiko/pull/487.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/487.patch", "merged_at": null}, "body": "`read(-1)` on a `ChannelFile` presently blocks even when that channel has been set not to block with an appropriate call to `setblocking()` or `settimeout()`.  This patch restores the expected operation of returning to the caller upon the expiration of a timeout in the underlying `BufferedPipe` `read()` method.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/487/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/484", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/484/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/484/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/484/events", "html_url": "https://github.com/paramiko/paramiko/issues/484", "id": 55995252, "node_id": "MDU6SXNzdWU1NTk5NTI1Mg==", "number": 484, "title": "__str__ return type in Python 3", "user": {"login": "adamkerz", "id": 7362087, "node_id": "MDQ6VXNlcjczNjIwODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7362087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamkerz", "html_url": "https://github.com/adamkerz", "followers_url": "https://api.github.com/users/adamkerz/followers", "following_url": "https://api.github.com/users/adamkerz/following{/other_user}", "gists_url": "https://api.github.com/users/adamkerz/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamkerz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamkerz/subscriptions", "organizations_url": "https://api.github.com/users/adamkerz/orgs", "repos_url": "https://api.github.com/users/adamkerz/repos", "events_url": "https://api.github.com/users/adamkerz/events{/privacy}", "received_events_url": "https://api.github.com/users/adamkerz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-30T05:05:34Z", "updated_at": "2017-02-21T02:10:34Z", "closed_at": "2017-02-21T02:10:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Code exists in various classes (eg. PKey implementations) like so:\n\n```\ndef __str__(self):\n    return self.asbytes()\n```\n\nBut Python3.4 errors on calling str(obj):\n\n```\nTypeError: __str__ returned non-string (type bytes)\n```\n\nGuess that means that the `__str__` method isn't actually being called because in py3 it would error. Might be being used by third party code in py2 though. Better return type might be either base 64 encoding, or just returning `repr(self.asbytes())`.\n\nMinor issue anyway as it's probably not being used anywhere.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/484/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/477", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/477/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/477/events", "html_url": "https://github.com/paramiko/paramiko/pull/477", "id": 54377561, "node_id": "MDExOlB1bGxSZXF1ZXN0MjczODM5Nzk=", "number": 477, "title": "Fix SFTPAttribute unpacking.", "user": {"login": "liulk", "id": 2229086, "node_id": "MDQ6VXNlcjIyMjkwODY=", "avatar_url": "https://avatars.githubusercontent.com/u/2229086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liulk", "html_url": "https://github.com/liulk", "followers_url": "https://api.github.com/users/liulk/followers", "following_url": "https://api.github.com/users/liulk/following{/other_user}", "gists_url": "https://api.github.com/users/liulk/gists{/gist_id}", "starred_url": "https://api.github.com/users/liulk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liulk/subscriptions", "organizations_url": "https://api.github.com/users/liulk/orgs", "repos_url": "https://api.github.com/users/liulk/repos", "events_url": "https://api.github.com/users/liulk/events{/privacy}", "received_events_url": "https://api.github.com/users/liulk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-01-14T21:14:46Z", "updated_at": "2021-10-09T01:00:50Z", "closed_at": "2021-10-09T01:00:50Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/477", "html_url": "https://github.com/paramiko/paramiko/pull/477", "diff_url": "https://github.com/paramiko/paramiko/pull/477.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/477.patch", "merged_at": null}, "body": "SFTP running on Cygwin may return 0xffffffff for unknown uid and gid which creates a problem when paramiko tries to interpret it as a big_int. The SFTP draft [1] specifies the 'File Attributes' fields to be int32, so the SFTPAttribute unpacking code must use get_size() after the change by scottkmaxwell to support big_int [2].\n\n[1] http://tools.ietf.org/id/draft-ietf-secsh-filexfer-13.txt\n[2] https://github.com/paramiko/paramiko/commit/0e4ce3762a5b25c5d3eb89335495d3bb9054e3e7\n\nSorry for the spam. I had to move the pull request to a topical branch so that I could rebase from your master.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/477/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/475", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/475/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/475/events", "html_url": "https://github.com/paramiko/paramiko/pull/475", "id": 53807381, "node_id": "MDExOlB1bGxSZXF1ZXN0MjcwNjM4ODI=", "number": 475, "title": "Fix get_int()", "user": {"login": "dboreham", "id": 1649760, "node_id": "MDQ6VXNlcjE2NDk3NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1649760?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dboreham", "html_url": "https://github.com/dboreham", "followers_url": "https://api.github.com/users/dboreham/followers", "following_url": "https://api.github.com/users/dboreham/following{/other_user}", "gists_url": "https://api.github.com/users/dboreham/gists{/gist_id}", "starred_url": "https://api.github.com/users/dboreham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dboreham/subscriptions", "organizations_url": "https://api.github.com/users/dboreham/orgs", "repos_url": "https://api.github.com/users/dboreham/repos", "events_url": "https://api.github.com/users/dboreham/events{/privacy}", "received_events_url": "https://api.github.com/users/dboreham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-08T22:06:55Z", "updated_at": "2019-04-30T17:12:37Z", "closed_at": "2019-04-25T19:48:10Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/475", "html_url": "https://github.com/paramiko/paramiko/pull/475", "diff_url": "https://github.com/paramiko/paramiko/pull/475.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/475.patch", "merged_at": null}, "body": "Fix get_int (make it decode a 4-byte unsigned 32-bit integer) and remove extra copy of get_size.\n\nI came to the conclusion the existing implementation for get_int() was incorrect while investigating this issue : https://github.com/paramiko/paramiko/issues/353 but it is likely also causing other problems as well (e.g. hung sftp sessions) due to the server's channel window size being incorrectly decoded by the client.\n\nThis change reverts get_int() to the version prior to this commit: https://github.com/paramiko/paramiko/commit/0e4ce3762a5b25c5d3eb89335495d3bb9054e3e7\n\nAlso remove a second redundant (and wrong) copy of the function get_size() that came from the same commit but was subsequently eclipsed by a good version in this merge (the good version is defined second in the file): https://github.com/paramiko/paramiko/commit/e7f41de2f2dac5d03404f35edc5514f12e42c49f\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/475/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/461", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/461/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/461/events", "html_url": "https://github.com/paramiko/paramiko/issues/461", "id": 52741481, "node_id": "MDU6SXNzdWU1Mjc0MTQ4MQ==", "number": 461, "title": "NameError: global name 'descriptor' is not defined", "user": {"login": "liminspace", "id": 5173158, "node_id": "MDQ6VXNlcjUxNzMxNTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5173158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liminspace", "html_url": "https://github.com/liminspace", "followers_url": "https://api.github.com/users/liminspace/followers", "following_url": "https://api.github.com/users/liminspace/following{/other_user}", "gists_url": "https://api.github.com/users/liminspace/gists{/gist_id}", "starred_url": "https://api.github.com/users/liminspace/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liminspace/subscriptions", "organizations_url": "https://api.github.com/users/liminspace/orgs", "repos_url": "https://api.github.com/users/liminspace/repos", "events_url": "https://api.github.com/users/liminspace/events{/privacy}", "received_events_url": "https://api.github.com/users/liminspace/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-12-23T13:46:24Z", "updated_at": "2015-01-27T20:39:59Z", "closed_at": "2015-01-27T20:39:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is error if use in windows.\nFile _winapi.py:220\n\n```\n@descriptor.setter\ndef descriptor(self, value):\n    self._descriptor = descriptor\n    self.lpSecurityDescriptor = ctypes.addressof(descriptor)\n```\n\nMaybe must be so:\n\n```\n@descriptor.setter\ndef descriptor(self, value):\n    self._descriptor = value\n    self.lpSecurityDescriptor = ctypes.addressof(value)\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/461/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/459", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/459/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/459/events", "html_url": "https://github.com/paramiko/paramiko/pull/459", "id": 52177158, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYxODYyMjE=", "number": 459, "title": "Update agent.py to prevent ResourceWarning", "user": {"login": "tkrapp", "id": 1519437, "node_id": "MDQ6VXNlcjE1MTk0Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1519437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tkrapp", "html_url": "https://github.com/tkrapp", "followers_url": "https://api.github.com/users/tkrapp/followers", "following_url": "https://api.github.com/users/tkrapp/following{/other_user}", "gists_url": "https://api.github.com/users/tkrapp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tkrapp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tkrapp/subscriptions", "organizations_url": "https://api.github.com/users/tkrapp/orgs", "repos_url": "https://api.github.com/users/tkrapp/repos", "events_url": "https://api.github.com/users/tkrapp/events{/privacy}", "received_events_url": "https://api.github.com/users/tkrapp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/4", "html_url": "https://github.com/paramiko/paramiko/milestone/4", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/4/labels", "id": 815967, "node_id": "MDk6TWlsZXN0b25lODE1OTY3", "number": 4, "title": "1.15.2 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-10-07T00:40:07Z", "updated_at": "2014-12-18T22:12:21Z", "due_on": null, "closed_at": "2014-12-18T22:12:21Z"}, "comments": 2, "created_at": "2014-12-16T22:38:20Z", "updated_at": "2014-12-18T11:13:32Z", "closed_at": "2014-12-17T21:47:29Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/459", "html_url": "https://github.com/paramiko/paramiko/pull/459", "diff_url": "https://github.com/paramiko/paramiko/pull/459.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/459.patch", "merged_at": null}, "body": "When using Python 3 with warnings \"enabled\" you get a ResourceWarning each time the '_close'-method of AgentSSH is called.\nClosing the socket stored in '_conn' explicitly before setting the attribute to None prevents this error.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/459/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/458", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/458/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/458/events", "html_url": "https://github.com/paramiko/paramiko/pull/458", "id": 52158285, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYxNzQwNzM=", "number": 458, "title": "Fix SFTPAttribute unpacking.", "user": {"login": "liulk", "id": 2229086, "node_id": "MDQ6VXNlcjIyMjkwODY=", "avatar_url": "https://avatars.githubusercontent.com/u/2229086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liulk", "html_url": "https://github.com/liulk", "followers_url": "https://api.github.com/users/liulk/followers", "following_url": "https://api.github.com/users/liulk/following{/other_user}", "gists_url": "https://api.github.com/users/liulk/gists{/gist_id}", "starred_url": "https://api.github.com/users/liulk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liulk/subscriptions", "organizations_url": "https://api.github.com/users/liulk/orgs", "repos_url": "https://api.github.com/users/liulk/repos", "events_url": "https://api.github.com/users/liulk/events{/privacy}", "received_events_url": "https://api.github.com/users/liulk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-16T19:49:18Z", "updated_at": "2015-01-14T21:11:03Z", "closed_at": "2015-01-14T21:11:03Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/458", "html_url": "https://github.com/paramiko/paramiko/pull/458", "diff_url": "https://github.com/paramiko/paramiko/pull/458.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/458.patch", "merged_at": null}, "body": "SFTP running on Cygwin may return 0xffffffff for unknown uid and gid which creates a problem when paramiko tries to interpret it as a big_int. The SFTP draft [1] specifies the 'File Attributes' fields to be int32, so the SFTPAttribute unpacking code must use get_size() after the change by scottkmaxwell to support big_int [2].\n\n[1] http://tools.ietf.org/id/draft-ietf-secsh-filexfer-13.txt\n[2] https://github.com/paramiko/paramiko/commit/0e4ce3762a5b25c5d3eb89335495d3bb9054e3e7\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/458/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/455", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/455/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/455/events", "html_url": "https://github.com/paramiko/paramiko/pull/455", "id": 51913334, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYwMzE4NTQ=", "number": 455, "title": "Honor openssh out max packet size", "user": {"login": "jquast", "id": 972584, "node_id": "MDQ6VXNlcjk3MjU4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/972584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquast", "html_url": "https://github.com/jquast", "followers_url": "https://api.github.com/users/jquast/followers", "following_url": "https://api.github.com/users/jquast/following{/other_user}", "gists_url": "https://api.github.com/users/jquast/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquast/subscriptions", "organizations_url": "https://api.github.com/users/jquast/orgs", "repos_url": "https://api.github.com/users/jquast/repos", "events_url": "https://api.github.com/users/jquast/events{/privacy}", "received_events_url": "https://api.github.com/users/jquast/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/4", "html_url": "https://github.com/paramiko/paramiko/milestone/4", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/4/labels", "id": 815967, "node_id": "MDk6TWlsZXN0b25lODE1OTY3", "number": 4, "title": "1.15.2 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-10-07T00:40:07Z", "updated_at": "2014-12-18T22:12:21Z", "due_on": null, "closed_at": "2014-12-18T22:12:21Z"}, "comments": 2, "created_at": "2014-12-14T08:13:55Z", "updated_at": "2014-12-18T00:07:25Z", "closed_at": "2014-12-18T00:07:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/455", "html_url": "https://github.com/paramiko/paramiko/pull/455", "diff_url": "https://github.com/paramiko/paramiko/pull/455.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/455.patch", "merged_at": null}, "body": "OpenSSH client requests a value of 16384 for value of `Channel.out_max_packet_size`,\nwhen opening a session channel, but method `_set_remote_channel` \u201cclamps\u201d this value by `Transport._sanitize_packet_size`, which coerces the value to 32768. \n\nBecause paramiko server is not honoring the client's requested value, and there is no protocol negotiation to notify the client as such, when a packet larger than 16384 is received by the OpenSSH client, it will write to stderr: `channel 0: rcvd big packet 32704, maxpack 16384`.\n\nThis is especially difficult for interactive programs that use cursor addressing, as the position of the client cursor then becomes indeterminate. A large-windowed terminal (size ~170x100) using a curses application is very likely to receive this message, which will cause corruption in the output display.\n\nThis value is specified in common.py:\n\n```\n# lower bound on the max packet size we'll accept from the remote host\n# Minimum packet size is 32768 bytes according to\n# http://www.ietf.org/rfc/rfc4254.txt\nMIN_PACKET_SIZE = 2 ** 15\n```\n\nIf you follow rfc4254 for this declaration,\n\n> Implementations are expected to have some limit on the SSH transport\n> layer packet size (any limit for received packets MUST be 32768 bytes\n> or larger, as described in [SSH-TRANS]).\n\nThen, following SSH-TRANS, which is http://www.ietf.org/rfc/rfc4253.txt for section 6.1, it reads:\n\n> 6.1.  Maximum Packet Length\n> \n> All implementations MUST be able to process packets with an\n>  uncompressed payload length of 32768 bytes **or less** and ...\n\nWe read that it is perfectly legal to request a maximum packet size of 16384 as OpenSSH client does (\u201cor less\u201d).\n\nIf we modify `demos/demo_server.py`,\n\n```\n--- a/demos/demo_server.py\n+++ b/demos/demo_server.py\n@@ -164,6 +164,7 @@ try:\n         sys.exit(1)\n\n     chan.send('\\r\\n\\r\\nWelcome to my dorky little BBS!\\r\\n\\r\\n')\n+    chan.send('X'*32705)\n```\n\nWe can see the client emit this message: `channel 0: rcvd big packet 32704, maxpack 16384`. Furthermore, the demo_server.log writes a misleading message, `[chan 1] Max packet out: 16384 bytes` \u2014 that was the value received, but not the value set and later honored.\n\nThis patch suggests separating `MIN_PACKET_SIZE` to `MIN_WINDOW_SIZE`, and lowering the value of `MIN_PACKET_SIZE` to 4096.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/455/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/454", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/454/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/454/events", "html_url": "https://github.com/paramiko/paramiko/pull/454", "id": 51837437, "node_id": "MDExOlB1bGxSZXF1ZXN0MjU5OTI4OTY=", "number": 454, "title": "Increase ProxyCommand performance, reduce CPU utilization", "user": {"login": "jwm", "id": 37176, "node_id": "MDQ6VXNlcjM3MTc2", "avatar_url": "https://avatars.githubusercontent.com/u/37176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwm", "html_url": "https://github.com/jwm", "followers_url": "https://api.github.com/users/jwm/followers", "following_url": "https://api.github.com/users/jwm/following{/other_user}", "gists_url": "https://api.github.com/users/jwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwm/subscriptions", "organizations_url": "https://api.github.com/users/jwm/orgs", "repos_url": "https://api.github.com/users/jwm/repos", "events_url": "https://api.github.com/users/jwm/events{/privacy}", "received_events_url": "https://api.github.com/users/jwm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-12-12T18:30:43Z", "updated_at": "2014-12-19T00:27:19Z", "closed_at": "2014-12-18T21:53:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/454", "html_url": "https://github.com/paramiko/paramiko/pull/454", "diff_url": "https://github.com/paramiko/paramiko/pull/454.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/454.patch", "merged_at": null}, "body": "This should fix https://github.com/paramiko/paramiko/issues/420:\n- Passing the remaining time as the timeout argument to select() keeps it from blocking beyond the allowed time\n- Reading >1 bytes at a time lowers CPU consumption. AFAIK, read()'s length argument is the maximum number of bytes to return, and as long as there is at least one byte of data available, read() will return immediately, without blocking. Thus, since select() just ensured that data is available on that file descriptor, this shouldn't blow past the timeout.\n\nI also moved to time.time() for the other performance reasons cited in #420; I'm not sure if this has a meaningful impact on Windows, since I think time.time() has millisecond resolution there, not microsecond.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/454/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/447", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/447/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/447/events", "html_url": "https://github.com/paramiko/paramiko/pull/447", "id": 50073234, "node_id": "MDExOlB1bGxSZXF1ZXN0MjUwMzQwMzM=", "number": 447, "title": "Fixed: BufferedFile readline() does not check for newline characters if buffer size is met or exceeded", "user": {"login": "achapp", "id": 1297913, "node_id": "MDQ6VXNlcjEyOTc5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1297913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achapp", "html_url": "https://github.com/achapp", "followers_url": "https://api.github.com/users/achapp/followers", "following_url": "https://api.github.com/users/achapp/following{/other_user}", "gists_url": "https://api.github.com/users/achapp/gists{/gist_id}", "starred_url": "https://api.github.com/users/achapp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achapp/subscriptions", "organizations_url": "https://api.github.com/users/achapp/orgs", "repos_url": "https://api.github.com/users/achapp/repos", "events_url": "https://api.github.com/users/achapp/events{/privacy}", "received_events_url": "https://api.github.com/users/achapp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121893209, "node_id": "MDU6TGFiZWwxMjE4OTMyMDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20changelog/docs", "name": "Needs changelog/docs", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/4", "html_url": "https://github.com/paramiko/paramiko/milestone/4", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/4/labels", "id": 815967, "node_id": "MDk6TWlsZXN0b25lODE1OTY3", "number": 4, "title": "1.15.2 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-10-07T00:40:07Z", "updated_at": "2014-12-18T22:12:21Z", "due_on": null, "closed_at": "2014-12-18T22:12:21Z"}, "comments": 3, "created_at": "2014-11-25T19:34:52Z", "updated_at": "2014-12-18T00:02:45Z", "closed_at": "2014-12-18T00:02:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/447", "html_url": "https://github.com/paramiko/paramiko/pull/447", "diff_url": "https://github.com/paramiko/paramiko/pull/447.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/447.patch", "merged_at": null}, "body": "Changed BufferedFile readline() to check for newlines if the buffer size is met or exceeded. Previously, readline() would return the truncated line without checking for newline characters in this case.\n\nAdded an additional line to the readline() test in test_file.py. readline(39) should read \"Fourth line.\\nFinal line non-terminated.\" and find the newline character, returning only \"Fourth line.\".\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/447/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/444", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/444/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/444/events", "html_url": "https://github.com/paramiko/paramiko/issues/444", "id": 49468131, "node_id": "MDU6SXNzdWU0OTQ2ODEzMQ==", "number": 444, "title": "SFTPFIle breaks on prefetch, because server cannot FSTAT calls to file handles, but only STAT.", "user": {"login": "danverbraganza", "id": 850859, "node_id": "MDQ6VXNlcjg1MDg1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/850859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danverbraganza", "html_url": "https://github.com/danverbraganza", "followers_url": "https://api.github.com/users/danverbraganza/followers", "following_url": "https://api.github.com/users/danverbraganza/following{/other_user}", "gists_url": "https://api.github.com/users/danverbraganza/gists{/gist_id}", "starred_url": "https://api.github.com/users/danverbraganza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danverbraganza/subscriptions", "organizations_url": "https://api.github.com/users/danverbraganza/orgs", "repos_url": "https://api.github.com/users/danverbraganza/repos", "events_url": "https://api.github.com/users/danverbraganza/events{/privacy}", "received_events_url": "https://api.github.com/users/danverbraganza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-11-19T23:23:25Z", "updated_at": "2016-04-25T00:32:05Z", "closed_at": "2016-04-25T00:32:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using paramiko via PySFTP to connect to a client's sftp server. The client is running WSSFTP Server by IPSwitch. I'm seeing really weird behaviour from their server, that I've traced down to the following reproducible issue:\n\nIf you call SFTPClient.stat('folder/folder/filename.txt'), the server returns the appropriate status.\n\nIf you call SFTPFile.stat(), the server gets confused, and returns:\n\n```\nIOError: Folder not found: D:\\sftp-root\\folder\\folder\\filename.txt\n```\n\nNote that the slashes have turned the wrong way now.\n\nI have a proposed fix for this I'm going to submit as a PR. Please let me know if the paramiko philosophy is not to make these changes for compatibility with poor servers, in which case I'll drop this change.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/443", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/443/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/443/events", "html_url": "https://github.com/paramiko/paramiko/issues/443", "id": 49319787, "node_id": "MDU6SXNzdWU0OTMxOTc4Nw==", "number": 443, "title": "type checks for unicode make unicode subclasses unusable", "user": {"login": "ethanfurman", "id": 7659890, "node_id": "MDQ6VXNlcjc2NTk4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7659890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ethanfurman", "html_url": "https://github.com/ethanfurman", "followers_url": "https://api.github.com/users/ethanfurman/followers", "following_url": "https://api.github.com/users/ethanfurman/following{/other_user}", "gists_url": "https://api.github.com/users/ethanfurman/gists{/gist_id}", "starred_url": "https://api.github.com/users/ethanfurman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ethanfurman/subscriptions", "organizations_url": "https://api.github.com/users/ethanfurman/orgs", "repos_url": "https://api.github.com/users/ethanfurman/repos", "events_url": "https://api.github.com/users/ethanfurman/events{/privacy}", "received_events_url": "https://api.github.com/users/ethanfurman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-19T02:06:03Z", "updated_at": "2014-12-15T20:40:27Z", "closed_at": "2014-12-15T20:40:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "In `sftp_client` there are two methods, `symlink` and `_adjust_cwd`, that do a `type` check against `unicode` instead of an `isinstance(..., unicode)`, making unicode subclasses unusable.\n\nin `server.py` there is one class, `InteractiveQuery` that does the same thing in its `__init__`.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/430", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/430/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/430/events", "html_url": "https://github.com/paramiko/paramiko/issues/430", "id": 48062821, "node_id": "MDU6SXNzdWU0ODA2MjgyMQ==", "number": 430, "title": "Unable to use nmap in command line from remote machine.", "user": {"login": "lokeshksymantec", "id": 9588987, "node_id": "MDQ6VXNlcjk1ODg5ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/9588987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lokeshksymantec", "html_url": "https://github.com/lokeshksymantec", "followers_url": "https://api.github.com/users/lokeshksymantec/followers", "following_url": "https://api.github.com/users/lokeshksymantec/following{/other_user}", "gists_url": "https://api.github.com/users/lokeshksymantec/gists{/gist_id}", "starred_url": "https://api.github.com/users/lokeshksymantec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lokeshksymantec/subscriptions", "organizations_url": "https://api.github.com/users/lokeshksymantec/orgs", "repos_url": "https://api.github.com/users/lokeshksymantec/repos", "events_url": "https://api.github.com/users/lokeshksymantec/events{/privacy}", "received_events_url": "https://api.github.com/users/lokeshksymantec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-07T09:21:45Z", "updated_at": "2015-01-06T05:25:56Z", "closed_at": "2015-01-05T20:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "steps for reproducibility:\nimport paramiko\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nssh.connect('remote_ip_address','username','password')\nre_ssh=ssh.invoke_shell()\nre_ssh.exec_command(\"nmap host_ip\")\n\nFacing error  - channel closed. Please help in rectifying this issue\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/429", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/429/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/429/events", "html_url": "https://github.com/paramiko/paramiko/issues/429", "id": 47943925, "node_id": "MDU6SXNzdWU0Nzk0MzkyNQ==", "number": 429, "title": "Crash with python3 when server sends debug messages", "user": {"login": "mjmaenpaa", "id": 7351960, "node_id": "MDQ6VXNlcjczNTE5NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7351960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjmaenpaa", "html_url": "https://github.com/mjmaenpaa", "followers_url": "https://api.github.com/users/mjmaenpaa/followers", "following_url": "https://api.github.com/users/mjmaenpaa/following{/other_user}", "gists_url": "https://api.github.com/users/mjmaenpaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjmaenpaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjmaenpaa/subscriptions", "organizations_url": "https://api.github.com/users/mjmaenpaa/orgs", "repos_url": "https://api.github.com/users/mjmaenpaa/repos", "events_url": "https://api.github.com/users/mjmaenpaa/events{/privacy}", "received_events_url": "https://api.github.com/users/mjmaenpaa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-11-06T10:06:21Z", "updated_at": "2014-11-12T21:59:01Z", "closed_at": "2014-11-12T21:58:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Paramiko crashes with python3 when server sends debug messages.\n\nIt seems that util.safe_string() hasn't been updated to handle bytes in Python3.\nIn Transport._parse_debug() msg is extracted from m with m.get_string() which in Python3 returns bytes-sequence. This message is given to safe_string(), which expects that message can be iterated over. However in Python3 iterating over bytes-sequence returns int instead of bytes and it can't be added to string implicitly. \n\nTraceback:\n\n```\n  File \"lib/python3.4/site-packages/paramiko/client.py\", line 307, in connect\n    look_for_keys, gss_auth, gss_kex, gss_deleg_creds, gss_host)\n  File \"lib/python3.4/site-packages/paramiko/client.py\", line 433, in _auth\n    allowed_types = self._transport.auth_publickey(username, pkey)\n  File \"lib/python3.4/site-packages/paramiko/transport.py\", line 1232, in auth_publickey\n    return self.auth_handler.wait_for_response(my_event)\n  File \"lib/python3.4/site-packages/paramiko/auth_handler.py\", line 197, in wait_for_response\n    raise e\n  File \"lib/python3.4/site-packages/paramiko/transport.py\", line 1601, in run\n    self._parse_debug(m)\n  File \"lib/python3.4/site-packages/paramiko/transport.py\", line 2152, in _parse_debug\n    self._log(DEBUG, 'Debug msg: ' + util.safe_string(msg))\n  File \"lib/python3.4/site-packages/paramiko/util.py\", line 121, in safe_string\n    out += c\nTypeError: Can't convert 'int' object to str implicitly\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/429/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/428", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/428/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/428/events", "html_url": "https://github.com/paramiko/paramiko/issues/428", "id": 47730724, "node_id": "MDU6SXNzdWU0NzczMDcyNA==", "number": 428, "title": "BufferedFile readline() does not check for newline characters if buffer size is met or exceeded", "user": {"login": "achapp", "id": 1297913, "node_id": "MDQ6VXNlcjEyOTc5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1297913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achapp", "html_url": "https://github.com/achapp", "followers_url": "https://api.github.com/users/achapp/followers", "following_url": "https://api.github.com/users/achapp/following{/other_user}", "gists_url": "https://api.github.com/users/achapp/gists{/gist_id}", "starred_url": "https://api.github.com/users/achapp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achapp/subscriptions", "organizations_url": "https://api.github.com/users/achapp/orgs", "repos_url": "https://api.github.com/users/achapp/repos", "events_url": "https://api.github.com/users/achapp/events{/privacy}", "received_events_url": "https://api.github.com/users/achapp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120566518, "node_id": "MDU6TGFiZWwxMjA1NjY1MTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Stream%20behavior", "name": "Stream behavior", "color": "fef2c0", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-04T16:12:15Z", "updated_at": "2014-12-15T21:29:55Z", "closed_at": "2014-12-15T21:29:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Paramiko version: 1.15\nPython version:     2.6.6\n\nI'm running into an issue with the readline() function in BufferedFile. It appears that when the buffer size is met or exceeded, the function will return a buffer size chunk of the file and not attempt to locate newline characters.\n\nDocumentation of readline()\n\n```\n    Read one entire line from the file.  A trailing newline character is\n    kept in the string (but may be absent when a file ends with an\n    incomplete line).  If the size argument is present and non-negative, it\n    is a maximum byte count (including the trailing newline) and an\n    incomplete line may be returned.\n```\n\nMy interpretation of the documentation is that readline() should read up to the next newline character or buffer size bytes, whichever comes first. If readline() is given a file greater than or equal to the buffer size it should always look for a newline character or, failing that, return up to buffer size bytes. If my understanding is correct, then I think there is a problem in the following code.\n\nFrom BufferedFile readline():     \n\n```\n 219     # check size before looking for a linefeed, in case we already have\n 220     # enough.\n 221     if (size is not None) and (size >= 0):\n 222           if len(line) >= size:\n 223               # truncate line and return\n 224               self._rbuffer = line[size:]\n 225               line = line[:size]\n 226               self._pos += len(line)\n 227               return line if self._flags & self.FLAG_BINARY else u(line)\n 228           n = size - len(line)\n```\n\nThe problem lies with line 227.\n\n```\n 227               return line if self._flags & self.FLAG_BINARY else u(line)\n```\n\nThis exits the function with a buffer size chunk before any search is made for newline characters. It's possible there are lines within that buffer size chunk, but we never look so they are disregarded in this case.\n\nThanks for taking the time to read this and for your work on Paramiko!\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/415", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/415/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/415/events", "html_url": "https://github.com/paramiko/paramiko/issues/415", "id": 44983818, "node_id": "MDU6SXNzdWU0NDk4MzgxOA==", "number": 415, "title": "Proxycommand 'none' interpreted as command", "user": {"login": "richardspiers", "id": 1355479, "node_id": "MDQ6VXNlcjEzNTU0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1355479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richardspiers", "html_url": "https://github.com/richardspiers", "followers_url": "https://api.github.com/users/richardspiers/followers", "following_url": "https://api.github.com/users/richardspiers/following{/other_user}", "gists_url": "https://api.github.com/users/richardspiers/gists{/gist_id}", "starred_url": "https://api.github.com/users/richardspiers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richardspiers/subscriptions", "organizations_url": "https://api.github.com/users/richardspiers/orgs", "repos_url": "https://api.github.com/users/richardspiers/repos", "events_url": "https://api.github.com/users/richardspiers/events{/privacy}", "received_events_url": "https://api.github.com/users/richardspiers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-06T13:36:32Z", "updated_at": "2014-12-17T23:36:07Z", "closed_at": "2014-12-17T23:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "With regards to ssh config, the proxycommand is disabled by specifing 'none':\n\nRelevant section taken from ssh_config man pages:\n\n> **ProxyCommand**\n> \n> Specifies the command to use to connect to the server.  The command string extends to the end of the line, and is executed with the user's shell.  In the command string, any occurrence of \u2018%h\u2019 will be substituted by the host name to connect, \u2018%p\u2019 by the port, and \u2018%r\u2019 by the remote user name.  The command can be basically anything, and should read from its standard input and write to its standard output.  It should eventually connect an sshd(8) server running on some machine, or execute sshd -i somewhere.  Host key management will be done using the HostName of the host being connected (defaulting to the name typed by the user).  Setting the command to **\u201cnone\u201d** disables this option entirely.  Note that CheckHostIP is not available for connects with a proxy command.\n\nI have a slightly complicated ssh_config, which has to explicitly disable proxy command for some hosts due to how hostname matching has been implemented.\n\nHowever, when using fabric and/or paramiko, the \"none\" option gets interrupted as an actual string value, which results in no fabric commands working as it throws exceptions containing OSError: [Errno 2] No such file or directory\n\nA test script showing the parsing behaviour is below:\n\n``` python\n#!/usr/bin/python\nimport paramiko\nimport StringIO\n\ntemp_config = '''\nHost 1.1.1.1\n    User guestuser\n    StrictHostKeyChecking no\n    UserKnownHostsFile /dev/null\n    ProxyCommand none\n    '''\nfake_config_file = StringIO.StringIO()\nfake_config_file.write(temp_config)\nfake_config_file.seek(0)\n\nssh_config = paramiko.SSHConfig()\nssh_config.parse(fake_config_file)\n\nprint ssh_config.lookup('1.1.1.1')\n```\n\nOutput:\n`{'stricthostkeychecking': 'no', 'userknownhostsfile': '/dev/null', 'user': 'guestuser', 'hostname': '1.1.1.1', 'proxycommand': 'none'}`\n\nThis is eventually used in fabric in fabric/network.py:\n\n``` python\ndef get_gateway(host, port, cache, replace=False):\n  ...\n  proxy_command = ssh_config().get('proxycommand', None)\n  ...\n  elif proxy_command:\n        sock = ssh.ProxyCommand(proxy_command)\n    return sock\n```\n\nWhile this could be fixed by simply checking for 'none' in fabric, I've opened an issue here against paramiko as I believe it makes more sense to fix it at this level. Please feel free to disagree and I'll report it against fabric instead if desired.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/414", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/414/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/414/events", "html_url": "https://github.com/paramiko/paramiko/pull/414", "id": 44823089, "node_id": "MDExOlB1bGxSZXF1ZXN0MjIyMTUzODg=", "number": 414, "title": "Sleep for 0.1s while waiting for command output (fixes ProxyCommand CPU usage)", "user": {"login": "jasondunsmore", "id": 53437, "node_id": "MDQ6VXNlcjUzNDM3", "avatar_url": "https://avatars.githubusercontent.com/u/53437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasondunsmore", "html_url": "https://github.com/jasondunsmore", "followers_url": "https://api.github.com/users/jasondunsmore/followers", "following_url": "https://api.github.com/users/jasondunsmore/following{/other_user}", "gists_url": "https://api.github.com/users/jasondunsmore/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasondunsmore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasondunsmore/subscriptions", "organizations_url": "https://api.github.com/users/jasondunsmore/orgs", "repos_url": "https://api.github.com/users/jasondunsmore/repos", "events_url": "https://api.github.com/users/jasondunsmore/events{/privacy}", "received_events_url": "https://api.github.com/users/jasondunsmore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/4", "html_url": "https://github.com/paramiko/paramiko/milestone/4", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/4/labels", "id": 815967, "node_id": "MDk6TWlsZXN0b25lODE1OTY3", "number": 4, "title": "1.15.2 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-10-07T00:40:07Z", "updated_at": "2014-12-18T22:12:21Z", "due_on": null, "closed_at": "2014-12-18T22:12:21Z"}, "comments": 14, "created_at": "2014-10-03T16:55:36Z", "updated_at": "2014-12-18T21:46:39Z", "closed_at": "2014-12-18T21:46:39Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/414", "html_url": "https://github.com/paramiko/paramiko/pull/414", "diff_url": "https://github.com/paramiko/paramiko/pull/414.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/414.patch", "merged_at": null}, "body": "Avoid using 100% CPU by waiting for 0.1 seconds while waiting for command\noutput in ProxyCommand.recv().\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/414/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/412", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/412/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/412/events", "html_url": "https://github.com/paramiko/paramiko/issues/412", "id": 44706074, "node_id": "MDU6SXNzdWU0NDcwNjA3NA==", "number": 412, "title": "2-Factor auth does not work", "user": {"login": "owais", "id": 46186, "node_id": "MDQ6VXNlcjQ2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/46186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owais", "html_url": "https://github.com/owais", "followers_url": "https://api.github.com/users/owais/followers", "following_url": "https://api.github.com/users/owais/following{/other_user}", "gists_url": "https://api.github.com/users/owais/gists{/gist_id}", "starred_url": "https://api.github.com/users/owais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owais/subscriptions", "organizations_url": "https://api.github.com/users/owais/orgs", "repos_url": "https://api.github.com/users/owais/repos", "events_url": "https://api.github.com/users/owais/events{/privacy}", "received_events_url": "https://api.github.com/users/owais/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-10-02T16:13:57Z", "updated_at": "2015-11-03T23:51:29Z", "closed_at": "2015-11-03T23:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "2-Factor auth when using SSH + google authenticator lib does not work with paramiko. Password logins are disabled.\n\n```\nDEBUG:paramiko.transport:Switch to new keys ...\nDEBUG:paramiko.transport:Adding ssh-rsa host key for server.com: #############\nDEBUG:paramiko.transport:Trying SSH agent key *********************************************\nDEBUG:paramiko.transport:userauth is OK\nINFO:paramiko.transport:Authentication (publickey) failed.\nDEBUG:paramiko.transport:Trying SSH agent key *********************************************\nDEBUG:paramiko.transport:userauth is OK\nINFO:paramiko.transport:Authentication (publickey) failed.\nDEBUG:paramiko.transport:Trying SSH agent key *********************************************\nDEBUG:paramiko.transport:userauth is OK\nINFO:paramiko.transport:Authentication (publickey) failed.\nDEBUG:paramiko.transport:Trying SSH agent key *********************************************\nDEBUG:paramiko.transport:userauth is OK\nINFO:paramiko.transport:Authentication continues...\nDEBUG:paramiko.transport:Methods: [u'keyboard-interactive']\nDEBUG:paramiko.transport:[chan 1] Max packet in: 32768 bytes\nWARNING:paramiko.transport:Oops, unhandled type 3\n```\n\n`keyboard-interactive` is enabled on the server in addition to secret key auth but paramiko does not ask for authorization code\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/405", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/405/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/405/events", "html_url": "https://github.com/paramiko/paramiko/issues/405", "id": 44395012, "node_id": "MDU6SXNzdWU0NDM5NTAxMg==", "number": 405, "title": "can transport log not split up error tracebacks?", "user": {"login": "bninja", "id": 907067, "node_id": "MDQ6VXNlcjkwNzA2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/907067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bninja", "html_url": "https://github.com/bninja", "followers_url": "https://api.github.com/users/bninja/followers", "following_url": "https://api.github.com/users/bninja/following{/other_user}", "gists_url": "https://api.github.com/users/bninja/gists{/gist_id}", "starred_url": "https://api.github.com/users/bninja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bninja/subscriptions", "organizations_url": "https://api.github.com/users/bninja/orgs", "repos_url": "https://api.github.com/users/bninja/repos", "events_url": "https://api.github.com/users/bninja/events{/privacy}", "received_events_url": "https://api.github.com/users/bninja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-30T05:23:20Z", "updated_at": "2014-09-30T20:48:07Z", "closed_at": "2014-09-30T20:48:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "when transport catches exceptions it splits tb into multiple strings:\n\nhttps://github.com/paramiko/paramiko/blob/1af8db2331ec9d5f729ff62d8af87b9d8c1c7fb8/paramiko/transport.py#L1633-L1634\n\nwhich are then logged separately:\n\nhttps://github.com/paramiko/paramiko/blob/1af8db2331ec9d5f729ff62d8af87b9d8c1c7fb8/paramiko/transport.py#L1423-L1428\n\nmaking it hard to e.g. filter a specific \"error\" in server mode.\n\nwould it make sense to just pass along whatever exc_info is being handled to logging and let it do formatting as a single msg?\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/405/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/402", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/402/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/402/events", "html_url": "https://github.com/paramiko/paramiko/issues/402", "id": 43526690, "node_id": "MDU6SXNzdWU0MzUyNjY5MA==", "number": 402, "title": "Attempting to forward agent w/o actual local agent raises TypeError", "user": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-22T18:04:57Z", "updated_at": "2015-02-05T00:00:59Z", "closed_at": "2015-02-05T00:00:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E.g. when running [this integration test on Fabric](https://github.com/fabric/fabric/blob/d77ddb9818cfefb176bcdb6af0034ce719af919e/integration/test_operations.py#L133) where I stupidly neglected to set up an actual local agent first, we get:\n\n``` python\nException in thread Thread-2:\nTraceback (most recent call last):\n  File \"/opt/python/2.6.9/lib/python2.6/threading.py\", line 532, in __bootstrap_inner\n    self.run()\n  File \"/home/travis/virtualenv/python2.6.9/src/paramiko/paramiko/agent.py\", line 114, in run\n    self._communicate()\n  File \"/home/travis/virtualenv/python2.6.9/src/paramiko/paramiko/agent.py\", line 124, in _communicate\n    events = select([self._agent._conn, self.__inr], [], [], 0.5)\nTypeError: argument must be an int, or have a fileno() method.\n```\n\nThis is the same as [Fabric #642](https://github.com/fabric/fabric/issues/642).\n\nPresumably we can just check for the value being handed to the `select` call to ensure it's not `None` or whatnot, and raise some more useful exception (or, possibly, just emit a log warning, though since this only happens on explicit attempts to forward an agent, it not functioning should probably be considered a stop-worthy error.)\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/401", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/401/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/401/events", "html_url": "https://github.com/paramiko/paramiko/pull/401", "id": 43384313, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE1NTg3MzQ=", "number": 401, "title": "Fix line number for known_hosts error messages.", "user": {"login": "dylanahsmith", "id": 954402, "node_id": "MDQ6VXNlcjk1NDQwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/954402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dylanahsmith", "html_url": "https://github.com/dylanahsmith", "followers_url": "https://api.github.com/users/dylanahsmith/followers", "following_url": "https://api.github.com/users/dylanahsmith/following{/other_user}", "gists_url": "https://api.github.com/users/dylanahsmith/gists{/gist_id}", "starred_url": "https://api.github.com/users/dylanahsmith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dylanahsmith/subscriptions", "organizations_url": "https://api.github.com/users/dylanahsmith/orgs", "repos_url": "https://api.github.com/users/dylanahsmith/repos", "events_url": "https://api.github.com/users/dylanahsmith/events{/privacy}", "received_events_url": "https://api.github.com/users/dylanahsmith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 151049708, "node_id": "MDU6TGFiZWwxNTEwNDk3MDg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/known_hosts", "name": "known_hosts", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-22T04:39:08Z", "updated_at": "2015-11-03T23:50:53Z", "closed_at": "2015-11-03T23:50:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/401", "html_url": "https://github.com/paramiko/paramiko/pull/401", "diff_url": "https://github.com/paramiko/paramiko/pull/401.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/401.patch", "merged_at": null}, "body": "Line number for files conventionally start with 1, but using `for lineno, line in enumerate(f):` would consider the first line to be line 0.\n\nPassing an initial value of 1 to `enumerate` will fix this line number.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/401/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/380", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/380/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/380/events", "html_url": "https://github.com/paramiko/paramiko/issues/380", "id": 40987719, "node_id": "MDU6SXNzdWU0MDk4NzcxOQ==", "number": 380, "title": "Packet.read_all() hangs on socket.recv() when transport is closed by different thread", "user": {"login": "GMTA", "id": 3210731, "node_id": "MDQ6VXNlcjMyMTA3MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3210731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GMTA", "html_url": "https://github.com/GMTA", "followers_url": "https://api.github.com/users/GMTA/followers", "following_url": "https://api.github.com/users/GMTA/following{/other_user}", "gists_url": "https://api.github.com/users/GMTA/gists{/gist_id}", "starred_url": "https://api.github.com/users/GMTA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GMTA/subscriptions", "organizations_url": "https://api.github.com/users/GMTA/orgs", "repos_url": "https://api.github.com/users/GMTA/repos", "events_url": "https://api.github.com/users/GMTA/events{/privacy}", "received_events_url": "https://api.github.com/users/GMTA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 391162528, "node_id": "MDU6TGFiZWwzOTExNjI1Mjg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Hangs", "name": "Hangs", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-08-23T22:50:50Z", "updated_at": "2016-06-12T02:22:28Z", "closed_at": "2016-06-12T02:22:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm developing a FUSE library using Paramiko as an SSH client backend (see https://github.com/GMTA/mountload). FUSE can optionally run daemonized (foreground=False). I discovered that whenever I run FUSE as a daemon and directly unmount the mounted filesystem, Paramiko fails to close its SFTPClient causing the process to hang indefinitely.\n\nI did some research and I discovered that the main difference between running FUSE as a daemon and in the foreground is that the construction and destruction happens in different threads when daemonized.\n\nSo what happens in this different thread?\n- I close the SSHClient by calling .close()\n- SSHClient.close() calls self._transport.close()\n- Transport.close() calls self.stop_thread()\n- Transport.stop_Thread() keeps looping on self.isAlive() and self.join(10)\n\nApparantly, Transport.run() is running indefinitely:\n- Transport.run() calls self.packetizer.read_message()\n- Packet.read_message() calls Packet.read_all()\n- Packet.read_all() calls self.__socket.recv()\n\nI added additional logging directly before and after this recv() call (and every possible **except**, even an additional **finally**) and it looks like recv() never returns. I tried replacing it with select.select(), but to no avail. I added socket.shutdown() in the Packet.close() method, but this did not help.\n\nI find it quite odd that Transport itself always runs another thread, so it should not matter which thread calls the Transport.stop_thread() method...\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/380/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/376", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/376/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/376/events", "html_url": "https://github.com/paramiko/paramiko/pull/376", "id": 40349789, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk4NDUxODI=", "number": 376, "title": "Don't make unnecessary calls to LazyFqdn.__str__.", "user": {"login": "lndbrg", "id": 90185, "node_id": "MDQ6VXNlcjkwMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/90185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lndbrg", "html_url": "https://github.com/lndbrg", "followers_url": "https://api.github.com/users/lndbrg/followers", "following_url": "https://api.github.com/users/lndbrg/following{/other_user}", "gists_url": "https://api.github.com/users/lndbrg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lndbrg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lndbrg/subscriptions", "organizations_url": "https://api.github.com/users/lndbrg/orgs", "repos_url": "https://api.github.com/users/lndbrg/repos", "events_url": "https://api.github.com/users/lndbrg/events{/privacy}", "received_events_url": "https://api.github.com/users/lndbrg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/1", "html_url": "https://github.com/paramiko/paramiko/milestone/1", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/1/labels", "id": 750224, "node_id": "MDk6TWlsZXN0b25lNzUwMjI0", "number": 1, "title": "1.12.5 et al", "description": "Bugfix release: 1.12.5, 1.13.2, 1.14.1", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-11T21:03:48Z", "updated_at": "2014-08-26T06:34:42Z", "due_on": null, "closed_at": "2014-08-26T06:34:42Z"}, "comments": 1, "created_at": "2014-08-15T13:58:42Z", "updated_at": "2014-08-26T06:34:20Z", "closed_at": "2014-08-26T06:34:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/376", "html_url": "https://github.com/paramiko/paramiko/pull/376", "diff_url": "https://github.com/paramiko/paramiko/pull/376.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/376.patch", "merged_at": null}, "body": "Before this patch we always tried to expand variables in the\nconfig even if they weren't present. This meant that we made an\nexpensive call to LazyFqdn.**str** the first iteration of the expand\nloop, stealing precious cpu and user time.\n\nWe now check that the expansion actually exists in the config\nbefore expanding it, this will speed up the case where %l is not\nused.\n\nThis fixes #338\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/376/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/373", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/373/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/373/events", "html_url": "https://github.com/paramiko/paramiko/pull/373", "id": 40339121, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk4Mzg2NjA=", "number": 373, "title": "Infinite loops and threading", "user": {"login": "lndbrg", "id": 90185, "node_id": "MDQ6VXNlcjkwMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/90185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lndbrg", "html_url": "https://github.com/lndbrg", "followers_url": "https://api.github.com/users/lndbrg/followers", "following_url": "https://api.github.com/users/lndbrg/following{/other_user}", "gists_url": "https://api.github.com/users/lndbrg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lndbrg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lndbrg/subscriptions", "organizations_url": "https://api.github.com/users/lndbrg/orgs", "repos_url": "https://api.github.com/users/lndbrg/repos", "events_url": "https://api.github.com/users/lndbrg/events{/privacy}", "received_events_url": "https://api.github.com/users/lndbrg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 391162528, "node_id": "MDU6TGFiZWwzOTExNjI1Mjg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Hangs", "name": "Hangs", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/2", "html_url": "https://github.com/paramiko/paramiko/milestone/2", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/2/labels", "id": 750226, "node_id": "MDk6TWlsZXN0b25lNzUwMjI2", "number": 2, "title": "1.15", "description": "Features", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2014-08-11T21:03:57Z", "updated_at": "2014-09-19T01:15:04Z", "due_on": null, "closed_at": "2014-09-19T01:15:04Z"}, "comments": 7, "created_at": "2014-08-15T10:48:36Z", "updated_at": "2016-06-11T18:16:21Z", "closed_at": "2014-09-08T19:55:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/373", "html_url": "https://github.com/paramiko/paramiko/pull/373", "diff_url": "https://github.com/paramiko/paramiko/pull/373.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/373.patch", "merged_at": "2014-09-08T19:55:45Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/373/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/367", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/367/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/367/events", "html_url": "https://github.com/paramiko/paramiko/pull/367", "id": 38859893, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg5NDg4ODU=", "number": 367, "title": "Changed channel.transport to a weakref to fix reference cycle", "user": {"login": "alexsacr", "id": 3968929, "node_id": "MDQ6VXNlcjM5Njg5Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/3968929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexsacr", "html_url": "https://github.com/alexsacr", "followers_url": "https://api.github.com/users/alexsacr/followers", "following_url": "https://api.github.com/users/alexsacr/following{/other_user}", "gists_url": "https://api.github.com/users/alexsacr/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexsacr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexsacr/subscriptions", "organizations_url": "https://api.github.com/users/alexsacr/orgs", "repos_url": "https://api.github.com/users/alexsacr/repos", "events_url": "https://api.github.com/users/alexsacr/events{/privacy}", "received_events_url": "https://api.github.com/users/alexsacr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-07-28T03:53:45Z", "updated_at": "2017-11-06T20:33:06Z", "closed_at": "2017-11-06T20:33:06Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/367", "html_url": "https://github.com/paramiko/paramiko/pull/367", "diff_url": "https://github.com/paramiko/paramiko/pull/367.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/367.patch", "merged_at": null}, "body": "We're using a number of Paramiko-based SSH proxies and all of them were leaking multiple gigabytes of RAM  per day.  After some investigation, I noticed Channel objects were not being collected properly to a reference cycle:\n\n![image](https://cloud.githubusercontent.com/assets/3968929/3716209/811c24ce-1605-11e4-8ab5-75d9643796db.png)\n\nI pared down our server code considerably and sent a couple hundred of requests through the app with a stock 1.13 package to demonstrate the leak:\n\nhttp://snapfiber.com/ssh-server_paramiko-1-13-unpatched.svg\n\nAfter applying this change, the leak no longer exists:\n\nhttp://snapfiber.com/ssh-server_paramiko-1-13-patched.svg\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/367/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/366", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/366/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/366/events", "html_url": "https://github.com/paramiko/paramiko/pull/366", "id": 38819860, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg5MzI4MDE=", "number": 366, "title": "Test and fix for str(SFTPAttributes())", "user": {"login": "ulope", "id": 55078, "node_id": "MDQ6VXNlcjU1MDc4", "avatar_url": "https://avatars.githubusercontent.com/u/55078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ulope", "html_url": "https://github.com/ulope", "followers_url": "https://api.github.com/users/ulope/followers", "following_url": "https://api.github.com/users/ulope/following{/other_user}", "gists_url": "https://api.github.com/users/ulope/gists{/gist_id}", "starred_url": "https://api.github.com/users/ulope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ulope/subscriptions", "organizations_url": "https://api.github.com/users/ulope/orgs", "repos_url": "https://api.github.com/users/ulope/repos", "events_url": "https://api.github.com/users/ulope/events{/privacy}", "received_events_url": "https://api.github.com/users/ulope/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/7", "html_url": "https://github.com/paramiko/paramiko/milestone/7", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/7/labels", "id": 1377862, "node_id": "MDk6TWlsZXN0b25lMTM3Nzg2Mg==", "number": 7, "title": "1.15.4", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-10-26T18:42:34Z", "updated_at": "2015-11-03T01:08:36Z", "due_on": null, "closed_at": "2015-11-03T01:08:36Z"}, "comments": 1, "created_at": "2014-07-26T15:50:07Z", "updated_at": "2015-11-03T01:07:21Z", "closed_at": "2015-11-03T01:07:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/366", "html_url": "https://github.com/paramiko/paramiko/pull/366", "diff_url": "https://github.com/paramiko/paramiko/pull/366.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/366.patch", "merged_at": null}, "body": "This PR adds a test for and fixes #357\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/366/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/364", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/364/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/364/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/364/events", "html_url": "https://github.com/paramiko/paramiko/issues/364", "id": 38709506, "node_id": "MDU6SXNzdWUzODcwOTUwNg==", "number": 364, "title": "SSHConfig parses '%u %r/ wrongly", "user": {"login": "hvnsweeting", "id": 1000665, "node_id": "MDQ6VXNlcjEwMDA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1000665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvnsweeting", "html_url": "https://github.com/hvnsweeting", "followers_url": "https://api.github.com/users/hvnsweeting/followers", "following_url": "https://api.github.com/users/hvnsweeting/following{/other_user}", "gists_url": "https://api.github.com/users/hvnsweeting/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvnsweeting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvnsweeting/subscriptions", "organizations_url": "https://api.github.com/users/hvnsweeting/orgs", "repos_url": "https://api.github.com/users/hvnsweeting/repos", "events_url": "https://api.github.com/users/hvnsweeting/events{/privacy}", "received_events_url": "https://api.github.com/users/hvnsweeting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121094372, "node_id": "MDU6TGFiZWwxMjEwOTQzNzI=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20patch", "name": "Needs patch", "color": "fad8c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-07-25T08:45:06Z", "updated_at": "2014-08-11T18:21:55Z", "closed_at": "2014-08-11T18:21:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tested on my OS X 10.9.4,\nparamiko==1.14.0\n\nWhen I try to parse ssh config file which contains\n\n```\n%u/%r\n```\n\nit always return same value is the running user.\nIt's okay for %u as it stands for local user, but remote user (%r) is not necessary == %u, and should be consider as an option for SSHConfig.lookup\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/359", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/359/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/359/events", "html_url": "https://github.com/paramiko/paramiko/pull/359", "id": 38199898, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg2MDA3MzE=", "number": 359, "title": "Fixed a typo in method name", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/7", "html_url": "https://github.com/paramiko/paramiko/milestone/7", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/7/labels", "id": 1377862, "node_id": "MDk6TWlsZXN0b25lMTM3Nzg2Mg==", "number": 7, "title": "1.15.4", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-10-26T18:42:34Z", "updated_at": "2015-11-03T01:08:36Z", "due_on": null, "closed_at": "2015-11-03T01:08:36Z"}, "comments": 1, "created_at": "2014-07-18T18:20:38Z", "updated_at": "2015-11-03T01:08:58Z", "closed_at": "2015-11-03T01:07:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/359", "html_url": "https://github.com/paramiko/paramiko/pull/359", "diff_url": "https://github.com/paramiko/paramiko/pull/359.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/359.patch", "merged_at": null}, "body": "The method on Python3 is `bit_length`, not `bitlength`.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/359/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/358", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/358/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/358/events", "html_url": "https://github.com/paramiko/paramiko/issues/358", "id": 38028538, "node_id": "MDU6SXNzdWUzODAyODUzOA==", "number": 358, "title": "Ubuntu SSH Agent not working", "user": {"login": "Janrain-Colin", "id": 2294656, "node_id": "MDQ6VXNlcjIyOTQ2NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2294656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Janrain-Colin", "html_url": "https://github.com/Janrain-Colin", "followers_url": "https://api.github.com/users/Janrain-Colin/followers", "following_url": "https://api.github.com/users/Janrain-Colin/following{/other_user}", "gists_url": "https://api.github.com/users/Janrain-Colin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Janrain-Colin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Janrain-Colin/subscriptions", "organizations_url": "https://api.github.com/users/Janrain-Colin/orgs", "repos_url": "https://api.github.com/users/Janrain-Colin/repos", "events_url": "https://api.github.com/users/Janrain-Colin/events{/privacy}", "received_events_url": "https://api.github.com/users/Janrain-Colin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/2", "html_url": "https://github.com/paramiko/paramiko/milestone/2", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/2/labels", "id": 750226, "node_id": "MDk6TWlsZXN0b25lNzUwMjI2", "number": 2, "title": "1.15", "description": "Features", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2014-08-11T21:03:57Z", "updated_at": "2014-09-19T01:15:04Z", "due_on": null, "closed_at": "2014-09-19T01:15:04Z"}, "comments": 3, "created_at": "2014-07-16T21:47:25Z", "updated_at": "2014-09-06T04:20:56Z", "closed_at": "2014-09-06T04:20:56Z", "author_association": "NONE", "active_lock_reason": null, "body": " I\u2019m having trouble getting Paramiko to work on Ubuntu.  While attempting to connect to a remote server, I get this error: https://gist.github.com/Janrain-Colin/afe1a8e269ff1948d908\n\nThe SSH Agent has the decrypted key - I can see it with `ssh-add -l`.\n\nI am using paramiko==1.14.0\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/354", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/354/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/354/events", "html_url": "https://github.com/paramiko/paramiko/issues/354", "id": 37629064, "node_id": "MDU6SXNzdWUzNzYyOTA2NA==", "number": 354, "title": "Unknown exception: cannot join current thread", "user": {"login": "jquast", "id": 972584, "node_id": "MDQ6VXNlcjk3MjU4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/972584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquast", "html_url": "https://github.com/jquast", "followers_url": "https://api.github.com/users/jquast/followers", "following_url": "https://api.github.com/users/jquast/following{/other_user}", "gists_url": "https://api.github.com/users/jquast/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquast/subscriptions", "organizations_url": "https://api.github.com/users/jquast/orgs", "repos_url": "https://api.github.com/users/jquast/repos", "events_url": "https://api.github.com/users/jquast/events{/privacy}", "received_events_url": "https://api.github.com/users/jquast/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-11T05:29:17Z", "updated_at": "2014-10-27T22:13:44Z", "closed_at": "2014-09-08T19:54:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "068bf63cf03d689187bede5c11b6c38ec2b2a8e1 introduced `self.join()` in transport.py -- which causes spurious tracebacks on authentication failure because it is not possible to join your own thread, this raises RuntimeError(\"cannot join current thread\") from threading.py.\n\nTo reproduce using demo_server.py, simply generate many public keys and fail with them all -- reaching the hard-coded limit of 10 ( in `_send_auth_result` of `auth_handler.py.py`.\n## client\n\n```\n$ for n in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15; do echo | ssh-keygen -f /tmp/_$n; done\n$ ssh $(ls /tmp/_* | egrep '[0-9]$' | xargs -n 1 echo -i) -p 2200 user@localhost\nReceived disconnect from 127.0.0.1: 14: No more auth methods available\n```\n## server\n\n```\n$ python demo_server.py\nRead key: 60733844cb5186657fdedaa22b5a57d5\nListening for connection ...\nGot a connection!\nAuth attempt with key: c00d9692cde7305238cf7f57b720e8c3\nAuth attempt with key: de86194ef717cf2e7da7697de33d2578\nAuth attempt with key: 8a3c67327dea5d68f101d9455db2aa9b\nAuth attempt with key: 4fb3989e5db919a139c32b96d69a71c1\nAuth attempt with key: ddf541ef4b224588b37fa6976af4dcf0\nAuth attempt with key: 7ef8e4532219a8b8439c1edeb625c0ef\nAuth attempt with key: 02c5edc1a525fd241a29dca8dc3d959a\nAuth attempt with key: a0715d805c164e14faddf9e45c00144b\nAuth attempt with key: 4ce24af5ed716205dd83331560e61ce7\n*** No channel.\n$ cat demo_server.log\nDEB [20140710-22:18:38.395] thr=1   paramiko.transport: starting thread (server mode): 0x98efad0L\nINF [20140710-22:18:38.396] thr=1   paramiko.transport: Connected (version 2.0, client OpenSSH_6.2)\n\n...\n\nDEB [20140710-22:18:38.419] thr=1   paramiko.transport: Auth request (type=publickey) service=ssh-connection, username=user\nINF [20140710-22:18:38.419] thr=1   paramiko.transport: Auth rejected (publickey).\n\nx10\n\nERR [20140710-22:18:38.419] thr=1   paramiko.transport: Unknown exception: cannot join current thread\nERR [20140710-22:18:38.420] thr=1   paramiko.transport: Traceback (most recent call last):\nERR [20140710-22:18:38.420] thr=1   paramiko.transport:   File \"... paramiko/transport.py\", line 1455, in run\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     self.auth_handler._handler_table[ptype](self.auth_handler, m)\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:   File \"... paramiko/auth_handler.py\", line 349, in _parse_userauth_request\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     self._send_auth_result(username, method, result)\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:   File \"... paramiko/auth_handler.py\", line 240, in _send_auth_result\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     self._disconnect_no_more_auth()\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:   File \"... paramiko/auth_handler.py\", line 144, in _disconnect_no_more_auth\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     self.transport.close()\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:   File \"... paramiko/transport.py\", line 498, in close\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     self.stop_thread()\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:   File \"... paramiko/transport.py\", line 1260, in stop_thread\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     self.join(10)\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:   File \"... python2.7/threading.py\", line 940, in join\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:     raise RuntimeError(\"cannot join current thread\")\nERR [20140710-22:18:38.421] thr=1   paramiko.transport: RuntimeError: cannot join current thread\nERR [20140710-22:18:38.421] thr=1   paramiko.transport:\n```\n## simplified example\n\n```\n>>> class T(threading.Thread):\n...    def run(self):\n...        self.join()\n>>> T().start()\nException in thread Thread-1:\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python/2.7.7_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"<ipython-input-6-e6c8a23b0b74>\", line 3, in run\n    self.join()\n  File \"/usr/local/Cellar/python/2.7.7_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 940, in join\n    raise RuntimeError(\"cannot join current thread\")\nRuntimeError: cannot join current thread\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/353", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/353/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/353/events", "html_url": "https://github.com/paramiko/paramiko/issues/353", "id": 37369542, "node_id": "MDU6SXNzdWUzNzM2OTU0Mg==", "number": 353, "title": "OverflowError: Python int too large to convert to C long", "user": {"login": "fz0dbx", "id": 7605711, "node_id": "MDQ6VXNlcjc2MDU3MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7605711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fz0dbx", "html_url": "https://github.com/fz0dbx", "followers_url": "https://api.github.com/users/fz0dbx/followers", "following_url": "https://api.github.com/users/fz0dbx/following{/other_user}", "gists_url": "https://api.github.com/users/fz0dbx/gists{/gist_id}", "starred_url": "https://api.github.com/users/fz0dbx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fz0dbx/subscriptions", "organizations_url": "https://api.github.com/users/fz0dbx/orgs", "repos_url": "https://api.github.com/users/fz0dbx/repos", "events_url": "https://api.github.com/users/fz0dbx/events{/privacy}", "received_events_url": "https://api.github.com/users/fz0dbx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/5", "html_url": "https://github.com/paramiko/paramiko/milestone/5", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/5/labels", "id": 999598, "node_id": "MDk6TWlsZXN0b25lOTk5NTk4", "number": 5, "title": "1.15.3", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2015-02-27T23:24:37Z", "updated_at": "2015-10-26T18:42:26Z", "due_on": null, "closed_at": "2015-10-26T18:42:26Z"}, "comments": 27, "created_at": "2014-07-08T13:29:18Z", "updated_at": "2015-09-30T21:03:12Z", "closed_at": "2015-09-30T21:03:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting the following stack trace on a 32bit Debian jessie computer:\n\nFile \"/usr/lib/python2.7/dist-packages/paramiko/sftp_client.py\", line 155, in listdir\n    return [f.filename for f in self.listdir_attr(path)]\n  File \"/usr/lib/python2.7/dist-packages/paramiko/sftp_client.py\", line 193, in listdir_attr\n    attr = SFTPAttributes._from_msg(msg, filename, longname)\n  File \"/usr/lib/python2.7/dist-packages/paramiko/sftp_attr.py\", line 91, in _from_msg\n    attr._unpack(msg)\n  File \"/usr/lib/python2.7/dist-packages/paramiko/sftp_attr.py\", line 104, in _unpack\n    self.st_uid = msg.get_int()\n  File \"/usr/lib/python2.7/dist-packages/paramiko/message.py\", line 140, in get_int\n    return util.inflate_long(self.get_binary())\n  File \"/usr/lib/python2.7/dist-packages/paramiko/message.py\", line 198, in get_binary\n    return self.get_bytes(self.get_size())\n  File \"/usr/lib/python2.7/dist-packages/paramiko/message.py\", line 108, in get_bytes\n    b = self.packet.read(n)\nOverflowError: Python int too large to convert to C long\n\nIt does not happen on a 64bit machine.\n\nAs you can see, all that I am doing is a listdir.\nWhen I run in a debugger and print the value of n, I get 4294967039L\nSeems like a bug in Paramiko.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/352", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/352/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/352/events", "html_url": "https://github.com/paramiko/paramiko/pull/352", "id": 37207044, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgwMTM2Nzg=", "number": 352, "title": "Support passing in \"buffer\" objects again where bytestrings are expected.", "user": {"login": "jelmer", "id": 49032, "node_id": "MDQ6VXNlcjQ5MDMy", "avatar_url": "https://avatars.githubusercontent.com/u/49032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jelmer", "html_url": "https://github.com/jelmer", "followers_url": "https://api.github.com/users/jelmer/followers", "following_url": "https://api.github.com/users/jelmer/following{/other_user}", "gists_url": "https://api.github.com/users/jelmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jelmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jelmer/subscriptions", "organizations_url": "https://api.github.com/users/jelmer/orgs", "repos_url": "https://api.github.com/users/jelmer/repos", "events_url": "https://api.github.com/users/jelmer/events{/privacy}", "received_events_url": "https://api.github.com/users/jelmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-07-05T21:53:58Z", "updated_at": "2014-08-26T07:16:39Z", "closed_at": "2014-08-26T05:01:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/352", "html_url": "https://github.com/paramiko/paramiko/pull/352", "diff_url": "https://github.com/paramiko/paramiko/pull/352.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/352.patch", "merged_at": "2014-08-26T05:01:15Z"}, "body": "This fixes bzr's use of paramiko.\n\nFixes issue #343/#285.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/352/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/351", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/351/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/351/events", "html_url": "https://github.com/paramiko/paramiko/pull/351", "id": 37011507, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5MDQxMjI=", "number": 351, "title": "[BUG FIX] Fix an issue with propagating invalid exception when using RSA key but authentication failure occurs", "user": {"login": "Kami", "id": 125088, "node_id": "MDQ6VXNlcjEyNTA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/125088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kami", "html_url": "https://github.com/Kami", "followers_url": "https://api.github.com/users/Kami/followers", "following_url": "https://api.github.com/users/Kami/following{/other_user}", "gists_url": "https://api.github.com/users/Kami/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kami/subscriptions", "organizations_url": "https://api.github.com/users/Kami/orgs", "repos_url": "https://api.github.com/users/Kami/repos", "events_url": "https://api.github.com/users/Kami/events{/privacy}", "received_events_url": "https://api.github.com/users/Kami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-02T18:41:06Z", "updated_at": "2022-06-03T19:35:13Z", "closed_at": "2022-06-03T19:35:13Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/351", "html_url": "https://github.com/paramiko/paramiko/pull/351", "diff_url": "https://github.com/paramiko/paramiko/pull/351.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/351.patch", "merged_at": null}, "body": "## Problem description\n\nCurrently if you use a valid RSA key, but authentication failure occurs, paramiko will propagate an invalid `not a valid DSA private key file` exception. The exception which should be propagated is `Authentication failed`.\n\nThe reason why this occurs is because paramiko tries to load / parse private key in the following order:\n1. RSA\n2. DSA\n\nIf parsing of the key as RSA succeeds, but authentication failure occurs, paramiko won't stop, but it will also try to parse the same key which is already to be determined to be an RSA key as DSA. Obviously, parsing RSA key as DSA won't work, so `not a valid DSA private key file` exception will be stored in `saved_exception` and propagated to the end user later in the code.\n\nNote 1: I discovered this bug while debugging some Libcloud deployment issues. Sadly a work-around for us (and others) until this has been merged into master is to catch `Invalid DSS key exception` exception and treat it in the same way as authentication failure which is far from ideal.\n\nNote 2: I wonder how more people didn't spot this issue. RSA keys are far more common than DSA keys and I would imagine that most people only use / try one key for authentication.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/351/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/350", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/350/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/350/events", "html_url": "https://github.com/paramiko/paramiko/issues/350", "id": 36762483, "node_id": "MDU6SXNzdWUzNjc2MjQ4Mw==", "number": 350, "title": "Host Key Type Selection Should Match OpenSSH's", "user": {"login": "bryanr", "id": 255347, "node_id": "MDQ6VXNlcjI1NTM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/255347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryanr", "html_url": "https://github.com/bryanr", "followers_url": "https://api.github.com/users/bryanr/followers", "following_url": "https://api.github.com/users/bryanr/following{/other_user}", "gists_url": "https://api.github.com/users/bryanr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryanr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryanr/subscriptions", "organizations_url": "https://api.github.com/users/bryanr/orgs", "repos_url": "https://api.github.com/users/bryanr/repos", "events_url": "https://api.github.com/users/bryanr/events{/privacy}", "received_events_url": "https://api.github.com/users/bryanr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120554861, "node_id": "MDU6TGFiZWwxMjA1NTQ4NjE=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Exception%20handling", "name": "Exception handling", "color": "bfd4f2", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-06-30T00:41:18Z", "updated_at": "2014-09-03T18:21:54Z", "closed_at": "2014-09-03T18:21:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nWhen the remote ssh server supports ssh-rsa and/or ssh-dss plus ecdsa-sha2-nistp256, and the local known_host file(s) include only its ecdsa-sha2-nistp256 key, paramiko will fail to connect with:\n\nparamiko.ssh_exception.SSHException: Server '[example.com]:666' not found in known_hosts\n\nThis is because transport.py always picks the 0th mutually-supported method:\n\n```\nself.host_key_type = agreed_keys[0]\n```\n\nwith the priority implicitly being ssh-rsa > ssh-dss > ecdsa-sha2-nistp256 due to:\n\n```\n_preferred_keys = ('ssh-rsa', 'ssh-dss', 'ecdsa-sha2-nistp256')\n```\n\nMany OpenSSH servers enable all 3 methods by default now:\n\nHostKey /etc/ssh/ssh_host_rsa_key\nHostKey /etc/ssh/ssh_host_dsa_key\nHostKey /etc/ssh/ssh_host_ecdsa_key\n\nand, when first connecting, recent OpenSSH clients prefer:\n\necdsa-sha2-nistp256 > ssh-rsa > ssh-dss\n\nand thus add the server's ecdsa-sha2-nistp256 key (only) into known_hosts.\n\nWhen paramiko connects to the same server, it instead picks ssh-rsa, searches in vain for an ssh-rsa host key, and then fails with the error above, confusing the user (as the OpenSSH client connects, while paramiko does not, even though it now supports ECDSA).\n\nDisabling ssh-rsa and ssh-dss on the server side will work around this - forcing paramiko to use ecdsa-sha2-nistp256 - but that reduces server interoperability with other SSH clients that may not support ecdsa-sha2-nistp256 yet.\n\nAnother option is to make paramiko use the same priority as OpenSSH:\n\n```\ndiff --git a/paramiko/transport.py b/paramiko/transport.py\nindex 406626a..a305017 100644\n--- a/paramiko/transport.py\n+++ b/paramiko/transport.py\n@@ -91,7 +91,8 @@ class Transport (threading.Thread):\n     _preferred_ciphers = ('aes128-ctr', 'aes256-ctr', 'aes128-cbc', 'blowfish-c\n                           'aes256-cbc', '3des-cbc', 'arcfour128', 'arcfour256')\n     _preferred_macs = ('hmac-sha1', 'hmac-md5', 'hmac-sha1-96', 'hmac-md5-96')\n-    _preferred_keys = ('ssh-rsa', 'ssh-dss', 'ecdsa-sha2-nistp256')\n+    # host key algos ordered to match openssh 6.6p1's client's most->least preferred:\n+    _preferred_keys = ('ecdsa-sha2-nistp256', 'ssh-rsa', 'ssh-dss')\n     _preferred_kex = ('diffie-hellman-group1-sha1', 'diffie-hellman-group-excha\n     _preferred_compression = ('none',)\n```\n\nhowever, this change will break one (rarer, but not unusual) case where the known_hosts file contains an ssh-rsa key only, and the OpenSSH Server supports both ecdsa-sha2-nistp256 and ssh-rsa.\n\nThe proper fix IMO is to consult the known_hosts db while picking the host_key_type, to try to find one that's mutually-supported, plus already has a known_hosts key available [this is what the OpenSSH client does]. If there are multiple options, then the most secure should be used e.g. ecdsa-sha2-nistp256 > ssh-rsa > ssh-dss.\n\nPlease investigate & integrate some fix for this issue, as it's creating confusing connectivity problems on many systems running recent versions of OpenSSH. For example, https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=702571 is actually still mostly-open due to this behavior.\n\nRegards,\n\nBryan\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/346", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/346/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/346/events", "html_url": "https://github.com/paramiko/paramiko/pull/346", "id": 36005875, "node_id": "MDExOlB1bGxSZXF1ZXN0MTczMDU3OTk=", "number": 346, "title": "Corrected the length of the salt for private key encryption", "user": {"login": "eXenon", "id": 1234089, "node_id": "MDQ6VXNlcjEyMzQwODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1234089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eXenon", "html_url": "https://github.com/eXenon", "followers_url": "https://api.github.com/users/eXenon/followers", "following_url": "https://api.github.com/users/eXenon/following{/other_user}", "gists_url": "https://api.github.com/users/eXenon/gists{/gist_id}", "starred_url": "https://api.github.com/users/eXenon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eXenon/subscriptions", "organizations_url": "https://api.github.com/users/eXenon/orgs", "repos_url": "https://api.github.com/users/eXenon/repos", "events_url": "https://api.github.com/users/eXenon/events{/privacy}", "received_events_url": "https://api.github.com/users/eXenon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/2", "html_url": "https://github.com/paramiko/paramiko/milestone/2", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/2/labels", "id": 750226, "node_id": "MDk6TWlsZXN0b25lNzUwMjI2", "number": 2, "title": "1.15", "description": "Features", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2014-08-11T21:03:57Z", "updated_at": "2014-09-19T01:15:04Z", "due_on": null, "closed_at": "2014-09-19T01:15:04Z"}, "comments": 3, "created_at": "2014-06-18T16:58:41Z", "updated_at": "2014-09-08T22:40:25Z", "closed_at": "2014-09-08T22:40:25Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/346", "html_url": "https://github.com/paramiko/paramiko/pull/346", "diff_url": "https://github.com/paramiko/paramiko/pull/346.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/346.patch", "merged_at": "2014-09-08T22:40:25Z"}, "body": "This would corrupt the private key file whenever the DES cipher would get selected.\nApparently, the list is not ordered in the same way on every system. It could also be a good idea to buffer the changes and write them all at once after to avoid corrupting the file whenever there is a bug.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/346/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/338", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/338/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/338/events", "html_url": "https://github.com/paramiko/paramiko/issues/338", "id": 34434908, "node_id": "MDU6SXNzdWUzNDQzNDkwOA==", "number": 338, "title": "Long hanging due to FQDN handling in config.py", "user": {"login": "bhy", "id": 58814, "node_id": "MDQ6VXNlcjU4ODE0", "avatar_url": "https://avatars.githubusercontent.com/u/58814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bhy", "html_url": "https://github.com/bhy", "followers_url": "https://api.github.com/users/bhy/followers", "following_url": "https://api.github.com/users/bhy/following{/other_user}", "gists_url": "https://api.github.com/users/bhy/gists{/gist_id}", "starred_url": "https://api.github.com/users/bhy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bhy/subscriptions", "organizations_url": "https://api.github.com/users/bhy/orgs", "repos_url": "https://api.github.com/users/bhy/repos", "events_url": "https://api.github.com/users/bhy/events{/privacy}", "received_events_url": "https://api.github.com/users/bhy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-28T04:40:40Z", "updated_at": "2014-08-19T00:00:36Z", "closed_at": "2014-08-19T00:00:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling `LazyFqdn.__str__` in `config.py` can take very long time, and it is intended to be evaluated on-demand. However in `_expand_variables` this is evaluated every time no matter whether `'%l'` exists. \n\nIn the original patch (#128) it checks the existence of `'%l'`, but the if statement is somehow get removed laterly. I think we should put it back there..\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/337", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/337/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/337/events", "html_url": "https://github.com/paramiko/paramiko/issues/337", "id": 34311567, "node_id": "MDU6SXNzdWUzNDMxMTU2Nw==", "number": 337, "title": "`Error reading SSH protocol banner with paramiko` with eventlet.spawn", "user": {"login": "vikt0rs", "id": 5230490, "node_id": "MDQ6VXNlcjUyMzA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5230490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vikt0rs", "html_url": "https://github.com/vikt0rs", "followers_url": "https://api.github.com/users/vikt0rs/followers", "following_url": "https://api.github.com/users/vikt0rs/following{/other_user}", "gists_url": "https://api.github.com/users/vikt0rs/gists{/gist_id}", "starred_url": "https://api.github.com/users/vikt0rs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vikt0rs/subscriptions", "organizations_url": "https://api.github.com/users/vikt0rs/orgs", "repos_url": "https://api.github.com/users/vikt0rs/repos", "events_url": "https://api.github.com/users/vikt0rs/events{/privacy}", "received_events_url": "https://api.github.com/users/vikt0rs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-05-26T14:32:27Z", "updated_at": "2014-09-11T19:58:28Z", "closed_at": "2014-09-11T19:58:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello All.\n\nI've got `SSHException: Error reading SSH protocol banner` exception when I tried to spawn ssh connection with eventlet. You can run the following code to repeat this error:\n\n``` python\nimport time\n\nimport eventlet\nimport paramiko\n\neventlet.monkey_patch(os=False)\n\nCOUNT = 20\n\ndef _get_ssh():\n    try: \n        global COUNT\n        new_ssh = paramiko.SSHClient()\n        new_ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n        new_ssh.connect(hostname='localhost', username='user', password='top-secret')\n        COUNT -= 1\n        print COUNT\n    finally:\n        new_ssh.close()\n\nfor i in range(COUNT):\n    eventlet.spawn(_get_ssh)\n\nwhile COUNT > 0:\n    time.sleep(0)\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/335", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/335/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/335/events", "html_url": "https://github.com/paramiko/paramiko/pull/335", "id": 34304340, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYzMzQ0MTM=", "number": 335, "title": "fix ecdsa key generation", "user": {"login": "solarw", "id": 132153, "node_id": "MDQ6VXNlcjEzMjE1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/132153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/solarw", "html_url": "https://github.com/solarw", "followers_url": "https://api.github.com/users/solarw/followers", "following_url": "https://api.github.com/users/solarw/following{/other_user}", "gists_url": "https://api.github.com/users/solarw/gists{/gist_id}", "starred_url": "https://api.github.com/users/solarw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/solarw/subscriptions", "organizations_url": "https://api.github.com/users/solarw/orgs", "repos_url": "https://api.github.com/users/solarw/repos", "events_url": "https://api.github.com/users/solarw/events{/privacy}", "received_events_url": "https://api.github.com/users/solarw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/2", "html_url": "https://github.com/paramiko/paramiko/milestone/2", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/2/labels", "id": 750226, "node_id": "MDk6TWlsZXN0b25lNzUwMjI2", "number": 2, "title": "1.15", "description": "Features", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2014-08-11T21:03:57Z", "updated_at": "2014-09-19T01:15:04Z", "due_on": null, "closed_at": "2014-09-19T01:15:04Z"}, "comments": 4, "created_at": "2014-05-26T12:34:20Z", "updated_at": "2014-09-06T01:25:30Z", "closed_at": "2014-09-06T01:25:30Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/335", "html_url": "https://github.com/paramiko/paramiko/pull/335", "diff_url": "https://github.com/paramiko/paramiko/pull/335.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/335.patch", "merged_at": "2014-09-06T01:25:30Z"}, "body": "i sent pull request before.\nthis is better one\n\nfix ecdsa key generation for current paramiko master\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/335/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/334", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/334/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/334/events", "html_url": "https://github.com/paramiko/paramiko/pull/334", "id": 34224650, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYzMDI0MjU=", "number": 334, "title": "Fixes to work on Google App Engine", "user": {"login": "tokibito", "id": 27535, "node_id": "MDQ6VXNlcjI3NTM1", "avatar_url": "https://avatars.githubusercontent.com/u/27535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tokibito", "html_url": "https://github.com/tokibito", "followers_url": "https://api.github.com/users/tokibito/followers", "following_url": "https://api.github.com/users/tokibito/following{/other_user}", "gists_url": "https://api.github.com/users/tokibito/gists{/gist_id}", "starred_url": "https://api.github.com/users/tokibito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tokibito/subscriptions", "organizations_url": "https://api.github.com/users/tokibito/orgs", "repos_url": "https://api.github.com/users/tokibito/repos", "events_url": "https://api.github.com/users/tokibito/events{/privacy}", "received_events_url": "https://api.github.com/users/tokibito/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/14", "html_url": "https://github.com/paramiko/paramiko/milestone/14", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/14/labels", "id": 1841541, "node_id": "MDk6TWlsZXN0b25lMTg0MTU0MQ==", "number": 14, "title": "1.17.3 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-06-21T20:38:37Z", "updated_at": "2016-12-09T23:24:19Z", "due_on": null, "closed_at": "2016-12-09T23:24:19Z"}, "comments": 6, "created_at": "2014-05-24T03:45:22Z", "updated_at": "2016-12-06T02:03:19Z", "closed_at": "2016-12-06T02:03:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/334", "html_url": "https://github.com/paramiko/paramiko/pull/334", "diff_url": "https://github.com/paramiko/paramiko/pull/334.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/334.patch", "merged_at": null}, "body": "This PR resolves some problems when using GoogleAppEngine Sockets API.\n\n1: Subprocess module doesn't work on Google App Engine.\n\n```\nTraceback (most recent call last):\n  File \"/home/tokibito/src/google_appengine/google/appengine/runtime/wsgi.py\", line 239, in Handle\n    handler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n  File \"/home/tokibito/src/google_appengine/google/appengine/runtime/wsgi.py\", line 298, in _LoadHandler\n    handler, path, err = LoadObject(self._handler)\n  File \"/home/tokibito/src/google_appengine/google/appengine/runtime/wsgi.py\", line 84, in LoadObject\n    obj = __import__(path[0])\n  File \"/home/tokibito/sandbox/gae-paramiko/main.py\", line 2, in <module>\n    import paramiko\n  File \"/home/tokibito/sandbox/gae-paramiko/lib/paramiko/__init__.py\", line 56, in <module>\n    from paramiko.proxy import ProxyCommand\n  File \"/home/tokibito/sandbox/gae-paramiko/lib/paramiko/proxy.py\", line 24, in <module>\n    from subprocess import Popen, PIPE\n```\n\n2: It is raises the socket error if  the active check timeout is too short.\n\n```\nTraceback (most recent call last):\n  File \"/base/data/home/runtimes/python27/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 266, in Handle\n    result = handler(dict(self._environ), self._StartResponse)\n  File \"/base/data/home/apps/s~nullpobug-sandbox-hrd/ssh.376051288567321218/main.py\", line 9, in app\n    client.connect('test.nullpobug.com', username='spam', key_filename=os.path.join(base_dir, 'secret.key'))\n  File \"/base/data/home/apps/s~nullpobug-sandbox-hrd/ssh.376051288567321218/lib/paramiko/client.py\", line 242, in connect\n    t.start_client()\n  File \"/base/data/home/apps/s~nullpobug-sandbox-hrd/ssh.376051288567321218/lib/paramiko/transport.py\", line 346, in start_client\n    raise e\nSSHException: Error reading SSH protocol banner[Errno 11] Resource temporarily unavailable\n```\n\nSuch code works on Google App Engine with this patch.\n\n```\nimport os\nimport paramiko\nimport paramiko.transport\n\ndef app(environ, start_response):\n    base_dir = os.path.dirname(os.path.abspath(__file__))\n    paramiko.transport.Transport._active_check_timeout = 5\n    client = paramiko.SSHClient()\n    client.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n    client.connect('test.nullpobug.com', username='spam', key_filename=os.path.join(base_dir, 'secret.key'))\n    stdin, stdout, stderr = client.exec_command('uname -a')\n\n    start_response('200 OK', [('Content-type', 'text/plain')])\n    return stdout.read()\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/334/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/328", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/328/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/328/events", "html_url": "https://github.com/paramiko/paramiko/pull/328", "id": 33822520, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYwNjc1Njc=", "number": 328, "title": "Issue #327: safe_string TypeError", "user": {"login": "boyvanduuren", "id": 4145582, "node_id": "MDQ6VXNlcjQxNDU1ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/4145582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boyvanduuren", "html_url": "https://github.com/boyvanduuren", "followers_url": "https://api.github.com/users/boyvanduuren/followers", "following_url": "https://api.github.com/users/boyvanduuren/following{/other_user}", "gists_url": "https://api.github.com/users/boyvanduuren/gists{/gist_id}", "starred_url": "https://api.github.com/users/boyvanduuren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boyvanduuren/subscriptions", "organizations_url": "https://api.github.com/users/boyvanduuren/orgs", "repos_url": "https://api.github.com/users/boyvanduuren/repos", "events_url": "https://api.github.com/users/boyvanduuren/events{/privacy}", "received_events_url": "https://api.github.com/users/boyvanduuren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-05-19T18:02:57Z", "updated_at": "2017-08-02T17:14:22Z", "closed_at": "2017-08-02T17:14:22Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/328", "html_url": "https://github.com/paramiko/paramiko/pull/328", "diff_url": "https://github.com/paramiko/paramiko/pull/328.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/328.patch", "merged_at": null}, "body": "In some cases safe_string gets an array\nof integers as argument. safe_string then\ntries to concatenate those integers onto a\nstring, resulting in a TypeError.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/328/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/320", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/320/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/320/events", "html_url": "https://github.com/paramiko/paramiko/pull/320", "id": 32477058, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUzMDc3ODI=", "number": 320, "title": "Fix win_pageant for Python 3", "user": {"login": "sherbang", "id": 275015, "node_id": "MDQ6VXNlcjI3NTAxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/275015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherbang", "html_url": "https://github.com/sherbang", "followers_url": "https://api.github.com/users/sherbang/followers", "following_url": "https://api.github.com/users/sherbang/following{/other_user}", "gists_url": "https://api.github.com/users/sherbang/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherbang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherbang/subscriptions", "organizations_url": "https://api.github.com/users/sherbang/orgs", "repos_url": "https://api.github.com/users/sherbang/repos", "events_url": "https://api.github.com/users/sherbang/events{/privacy}", "received_events_url": "https://api.github.com/users/sherbang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2014-04-29T19:30:21Z", "updated_at": "2014-10-02T20:54:59Z", "closed_at": "2014-10-01T23:51:05Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/320", "html_url": "https://github.com/paramiko/paramiko/pull/320", "diff_url": "https://github.com/paramiko/paramiko/pull/320.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/320.patch", "merged_at": null}, "body": "Previously _get_pageant_window_object always returned 0, so pageant was silently ignored.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/320/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/312", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/312/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/312/events", "html_url": "https://github.com/paramiko/paramiko/pull/312", "id": 31537677, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3NjAxNjk=", "number": 312, "title": "Set Transport.active to False early in Transport.__init__.", "user": {"login": "simonpercivall", "id": 153659, "node_id": "MDQ6VXNlcjE1MzY1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/153659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonpercivall", "html_url": "https://github.com/simonpercivall", "followers_url": "https://api.github.com/users/simonpercivall/followers", "following_url": "https://api.github.com/users/simonpercivall/following{/other_user}", "gists_url": "https://api.github.com/users/simonpercivall/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonpercivall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonpercivall/subscriptions", "organizations_url": "https://api.github.com/users/simonpercivall/orgs", "repos_url": "https://api.github.com/users/simonpercivall/repos", "events_url": "https://api.github.com/users/simonpercivall/events{/privacy}", "received_events_url": "https://api.github.com/users/simonpercivall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/1", "html_url": "https://github.com/paramiko/paramiko/milestone/1", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/1/labels", "id": 750224, "node_id": "MDk6TWlsZXN0b25lNzUwMjI0", "number": 1, "title": "1.12.5 et al", "description": "Bugfix release: 1.12.5, 1.13.2, 1.14.1", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-11T21:03:48Z", "updated_at": "2014-08-26T06:34:42Z", "due_on": null, "closed_at": "2014-08-26T06:34:42Z"}, "comments": 0, "created_at": "2014-04-15T09:19:28Z", "updated_at": "2014-08-26T06:29:30Z", "closed_at": "2014-08-26T06:29:30Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/312", "html_url": "https://github.com/paramiko/paramiko/pull/312", "diff_url": "https://github.com/paramiko/paramiko/pull/312.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/312.patch", "merged_at": null}, "body": "An exception in Transport.init will cause its repr to raise an AttributeError, which especially causes issues for error reporting that shows locals for the stack (e.g. Sentry or Django emails).\n\nMoving self.active = False higher in Transport.init would fix this.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/312/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/302", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/302/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/302/events", "html_url": "https://github.com/paramiko/paramiko/issues/302", "id": 30748591, "node_id": "MDU6SXNzdWUzMDc0ODU5MQ==", "number": 302, "title": "Interactive sessions (shells, editors) have various problems", "user": {"login": "lnkisi", "id": 6847879, "node_id": "MDQ6VXNlcjY4NDc4Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6847879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnkisi", "html_url": "https://github.com/lnkisi", "followers_url": "https://api.github.com/users/lnkisi/followers", "following_url": "https://api.github.com/users/lnkisi/following{/other_user}", "gists_url": "https://api.github.com/users/lnkisi/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnkisi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnkisi/subscriptions", "organizations_url": "https://api.github.com/users/lnkisi/orgs", "repos_url": "https://api.github.com/users/lnkisi/repos", "events_url": "https://api.github.com/users/lnkisi/events{/privacy}", "received_events_url": "https://api.github.com/users/lnkisi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120566518, "node_id": "MDU6TGFiZWwxMjA1NjY1MTg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Stream%20behavior", "name": "Stream behavior", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-04-03T06:00:39Z", "updated_at": "2022-09-18T03:57:56Z", "closed_at": "2017-03-29T19:03:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently used paramiko implements a login service. In the debugging process, I found a few problems.\nI used demo.py and interactive.py on github. After login to the remote server. The text content which was pasted into the command line can not be fully displayed until another key input on keyboard.\nThe up arrow key should show a recent history command, found it display nothing in the actual test. However, press the Enter key, you can execute the command history.\nIn addition, arrow keys doesn't work in VIM.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/302/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/298", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/298/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/298/events", "html_url": "https://github.com/paramiko/paramiko/pull/298", "id": 30481214, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQxNTg1MTg=", "number": 298, "title": "Don't validate points in known_hosts ECDSA keys", "user": {"login": "spearki", "id": 1217253, "node_id": "MDQ6VXNlcjEyMTcyNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1217253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spearki", "html_url": "https://github.com/spearki", "followers_url": "https://api.github.com/users/spearki/followers", "following_url": "https://api.github.com/users/spearki/following{/other_user}", "gists_url": "https://api.github.com/users/spearki/gists{/gist_id}", "starred_url": "https://api.github.com/users/spearki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spearki/subscriptions", "organizations_url": "https://api.github.com/users/spearki/orgs", "repos_url": "https://api.github.com/users/spearki/repos", "events_url": "https://api.github.com/users/spearki/events{/privacy}", "received_events_url": "https://api.github.com/users/spearki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120549456, "node_id": "MDU6TGFiZWwxMjA1NDk0NTY=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Keys", "name": "Keys", "color": "bfdadc", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/2", "html_url": "https://github.com/paramiko/paramiko/milestone/2", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/2/labels", "id": 750226, "node_id": "MDk6TWlsZXN0b25lNzUwMjI2", "number": 2, "title": "1.15", "description": "Features", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2014-08-11T21:03:57Z", "updated_at": "2014-09-19T01:15:04Z", "due_on": null, "closed_at": "2014-09-19T01:15:04Z"}, "comments": 1, "created_at": "2014-03-31T02:13:27Z", "updated_at": "2014-09-08T17:48:48Z", "closed_at": "2014-09-08T17:48:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/298", "html_url": "https://github.com/paramiko/paramiko/pull/298", "diff_url": "https://github.com/paramiko/paramiko/pull/298.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/298.patch", "merged_at": "2014-09-08T17:48:48Z"}, "body": "Point validation is really expensive and apparently unnecessary when\nwe already trust the keys in our known_hosts file.\n\nWith my current known_hosts file of 657 keys, this reduces the time\ntaken to complete a remote task in fabric from 24 seconds to 7 seconds.\n\nThis requires python-ecdsa >= 0.11.\n\nCloses #270.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/298/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/285", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/285/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/285/events", "html_url": "https://github.com/paramiko/paramiko/issues/285", "id": 29530572, "node_id": "MDU6SXNzdWUyOTUzMDU3Mg==", "number": 285, "title": "TypeError: Expected unicode or bytes, got <read-only buffer for 0x10fb7e120, size 5242880, offset 0 at 0x10fb79eb0>", "user": {"login": "basictheprogram", "id": 6723257, "node_id": "MDQ6VXNlcjY3MjMyNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6723257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/basictheprogram", "html_url": "https://github.com/basictheprogram", "followers_url": "https://api.github.com/users/basictheprogram/followers", "following_url": "https://api.github.com/users/basictheprogram/following{/other_user}", "gists_url": "https://api.github.com/users/basictheprogram/gists{/gist_id}", "starred_url": "https://api.github.com/users/basictheprogram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/basictheprogram/subscriptions", "organizations_url": "https://api.github.com/users/basictheprogram/orgs", "repos_url": "https://api.github.com/users/basictheprogram/repos", "events_url": "https://api.github.com/users/basictheprogram/events{/privacy}", "received_events_url": "https://api.github.com/users/basictheprogram/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/1", "html_url": "https://github.com/paramiko/paramiko/milestone/1", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/1/labels", "id": 750224, "node_id": "MDk6TWlsZXN0b25lNzUwMjI0", "number": 1, "title": "1.12.5 et al", "description": "Bugfix release: 1.12.5, 1.13.2, 1.14.1", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-11T21:03:48Z", "updated_at": "2014-08-26T06:34:42Z", "due_on": null, "closed_at": "2014-08-26T06:34:42Z"}, "comments": 20, "created_at": "2014-03-17T00:07:27Z", "updated_at": "2014-08-26T19:32:30Z", "closed_at": "2014-08-26T05:22:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to get bzr push sftp:// working. \n\nbzr with remote repositories requires paramiko and pycrypto.\n\npycrypto won't compile on clang-5.1 without a patch.\n\nThe bzr bug report is here\nhttps://bugs.launchpad.net/bzr/+bug/1293257\n\nThe pycrypto bug report is here\nhttps://bugs.launchpad.net/bzr/+bug/1293257\n\nThe exception is thrown from paramiko\n\n```\nlib/python2.7/site-packages/paramiko/py3compat.py\", line 43, in b\n    raise TypeError(\"Expected unicode or bytes, got %r\" % s)\nTypeError: Expected unicode or bytes, got <read-only buffer for 0x10fb7e120, size 5242880, offset 0 at 0x10fb79eb0>\n```\n\nBut the only thing that changed with the patch to pycrypto to get it to build on clang-5.1. Just attempting to get all developers of all the components on the same page.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/272", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/272/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/272/events", "html_url": "https://github.com/paramiko/paramiko/pull/272", "id": 28097354, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI4MjMyNTc=", "number": 272, "title": "Don't hash the input hostname when checking a host key if the input host...", "user": {"login": "sigmunau", "id": 4507494, "node_id": "MDQ6VXNlcjQ1MDc0OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4507494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sigmunau", "html_url": "https://github.com/sigmunau", "followers_url": "https://api.github.com/users/sigmunau/followers", "following_url": "https://api.github.com/users/sigmunau/following{/other_user}", "gists_url": "https://api.github.com/users/sigmunau/gists{/gist_id}", "starred_url": "https://api.github.com/users/sigmunau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sigmunau/subscriptions", "organizations_url": "https://api.github.com/users/sigmunau/orgs", "repos_url": "https://api.github.com/users/sigmunau/repos", "events_url": "https://api.github.com/users/sigmunau/events{/privacy}", "received_events_url": "https://api.github.com/users/sigmunau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 61259482, "node_id": "MDU6TGFiZWw2MTI1OTQ4Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/High%20priority", "name": "High priority", "color": "f7c6c7", "default": false, "description": null}, {"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/1", "html_url": "https://github.com/paramiko/paramiko/milestone/1", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/1/labels", "id": 750224, "node_id": "MDk6TWlsZXN0b25lNzUwMjI0", "number": 1, "title": "1.12.5 et al", "description": "Bugfix release: 1.12.5, 1.13.2, 1.14.1", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-11T21:03:48Z", "updated_at": "2014-08-26T06:34:42Z", "due_on": null, "closed_at": "2014-08-26T06:34:42Z"}, "comments": 6, "created_at": "2014-02-22T15:00:53Z", "updated_at": "2016-11-06T01:28:44Z", "closed_at": "2014-08-26T06:31:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/272", "html_url": "https://github.com/paramiko/paramiko/pull/272", "diff_url": "https://github.com/paramiko/paramiko/pull/272.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/272.patch", "merged_at": null}, "body": "...name is already hashed\n\nThis happens in the loop checking if a hostkey is already loaded when\nloading host key files. This reduces time to load host keys file with\nabout two seconds for me\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/272/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/266", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/266/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/266/events", "html_url": "https://github.com/paramiko/paramiko/pull/266", "id": 27342610, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI0MTIyMjg=", "number": 266, "title": "Fix Connection to Enterasys B2 Switch", "user": {"login": "egroeper", "id": 535113, "node_id": "MDQ6VXNlcjUzNTExMw==", "avatar_url": "https://avatars.githubusercontent.com/u/535113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/egroeper", "html_url": "https://github.com/egroeper", "followers_url": "https://api.github.com/users/egroeper/followers", "following_url": "https://api.github.com/users/egroeper/following{/other_user}", "gists_url": "https://api.github.com/users/egroeper/gists{/gist_id}", "starred_url": "https://api.github.com/users/egroeper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/egroeper/subscriptions", "organizations_url": "https://api.github.com/users/egroeper/orgs", "repos_url": "https://api.github.com/users/egroeper/repos", "events_url": "https://api.github.com/users/egroeper/events{/privacy}", "received_events_url": "https://api.github.com/users/egroeper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/4", "html_url": "https://github.com/paramiko/paramiko/milestone/4", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/4/labels", "id": 815967, "node_id": "MDk6TWlsZXN0b25lODE1OTY3", "number": 4, "title": "1.15.2 et al", "description": "", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-10-07T00:40:07Z", "updated_at": "2014-12-18T22:12:21Z", "due_on": null, "closed_at": "2014-12-18T22:12:21Z"}, "comments": 9, "created_at": "2014-02-11T12:08:21Z", "updated_at": "2014-12-17T22:25:28Z", "closed_at": "2014-12-17T22:25:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/266", "html_url": "https://github.com/paramiko/paramiko/pull/266", "diff_url": "https://github.com/paramiko/paramiko/pull/266.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/266.patch", "merged_at": null}, "body": "Connecting to an Enterasys B2 Switch (using demo_simple.py) for an\ninteractive shell doesn't work:\n\n```\nConnected. Getting Shell...\nDEBUG:paramiko.transport:[chan 1] Max packet in: 34816 bytes\nDEBUG:paramiko.transport:[chan 1] Max packet out: 16384\nbytes\nINFO:paramiko.transport:Secsh channel 1 opened.\nERROR:paramiko.transport:Channel request for unknown\nchannel 0\n*** Caught exception: <class 'paramiko.SSHException'>: Channel closed.\n```\n\nThe channels gets opened with index 1 on client\n(paramiko) side and index 0 on server (switch)\nside.\nProbably the switch doesn't support this and\nreplies to the pty request with a wrong channel\nid. Because of that paramiko closes the\nconnection.\n\nThis can be solved (or worked around) easily by\ninitialising _channel_counter with 0.\nThis is what other clients, like openssh do.\n\nI don't see a problem with initialising this\ncounter with 0.\nWould this be acceptable?\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/266/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/239", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/239/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/239/events", "html_url": "https://github.com/paramiko/paramiko/pull/239", "id": 23552017, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA0MjE4MjA=", "number": 239, "title": "Handle Windows CRLF correctly in config files; fixes fabric/fabric#1023", "user": {"login": "swenson", "id": 33404, "node_id": "MDQ6VXNlcjMzNDA0", "avatar_url": "https://avatars.githubusercontent.com/u/33404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swenson", "html_url": "https://github.com/swenson", "followers_url": "https://api.github.com/users/swenson/followers", "following_url": "https://api.github.com/users/swenson/following{/other_user}", "gists_url": "https://api.github.com/users/swenson/gists{/gist_id}", "starred_url": "https://api.github.com/users/swenson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swenson/subscriptions", "organizations_url": "https://api.github.com/users/swenson/orgs", "repos_url": "https://api.github.com/users/swenson/repos", "events_url": "https://api.github.com/users/swenson/events{/privacy}", "received_events_url": "https://api.github.com/users/swenson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/1", "html_url": "https://github.com/paramiko/paramiko/milestone/1", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/1/labels", "id": 750224, "node_id": "MDk6TWlsZXN0b25lNzUwMjI0", "number": 1, "title": "1.12.5 et al", "description": "Bugfix release: 1.12.5, 1.13.2, 1.14.1", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-11T21:03:48Z", "updated_at": "2014-08-26T06:34:42Z", "due_on": null, "closed_at": "2014-08-26T06:34:42Z"}, "comments": 5, "created_at": "2013-12-02T04:41:04Z", "updated_at": "2014-08-26T19:35:31Z", "closed_at": "2014-08-26T05:45:13Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/239", "html_url": "https://github.com/paramiko/paramiko/pull/239", "diff_url": "https://github.com/paramiko/paramiko/pull/239.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/239.patch", "merged_at": null}, "body": "The standard SSH clients correctly ignore CRLFs in SSH config files, but we do not trim them out.\n\nThis patches the config file parser to trim those out of the lines we read from the config file (and adds a test).\n\nThis fixes https://github.com/fabric/fabric/issues/1023\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/239/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/197", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/197/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/197/events", "html_url": "https://github.com/paramiko/paramiko/pull/197", "id": 17827416, "node_id": "MDExOlB1bGxSZXF1ZXN0NzQ4NzMwMg==", "number": 197, "title": "Fix hang when sending packets on closed connection", "user": {"login": "novas0x2a", "id": 9639, "node_id": "MDQ6VXNlcjk2Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/9639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/novas0x2a", "html_url": "https://github.com/novas0x2a", "followers_url": "https://api.github.com/users/novas0x2a/followers", "following_url": "https://api.github.com/users/novas0x2a/following{/other_user}", "gists_url": "https://api.github.com/users/novas0x2a/gists{/gist_id}", "starred_url": "https://api.github.com/users/novas0x2a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/novas0x2a/subscriptions", "organizations_url": "https://api.github.com/users/novas0x2a/orgs", "repos_url": "https://api.github.com/users/novas0x2a/repos", "events_url": "https://api.github.com/users/novas0x2a/events{/privacy}", "received_events_url": "https://api.github.com/users/novas0x2a/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-08-08T19:55:21Z", "updated_at": "2017-06-27T16:25:50Z", "closed_at": "2017-06-27T16:25:50Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/197", "html_url": "https://github.com/paramiko/paramiko/pull/197", "diff_url": "https://github.com/paramiko/paramiko/pull/197.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/197.patch", "merged_at": null}, "body": "credit to Michael Schrijver michael@hating.biz for finding the problem\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/197/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/194", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/194/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/194/events", "html_url": "https://github.com/paramiko/paramiko/issues/194", "id": 17575229, "node_id": "MDU6SXNzdWUxNzU3NTIyOQ==", "number": 194, "title": "\"Message is not extractable\" errors from offspec SFTP servers (possibly all IBM)", "user": {"login": "muraleee", "id": 3122077, "node_id": "MDQ6VXNlcjMxMjIwNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3122077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muraleee", "html_url": "https://github.com/muraleee", "followers_url": "https://api.github.com/users/muraleee/followers", "following_url": "https://api.github.com/users/muraleee/following{/other_user}", "gists_url": "https://api.github.com/users/muraleee/gists{/gist_id}", "starred_url": "https://api.github.com/users/muraleee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muraleee/subscriptions", "organizations_url": "https://api.github.com/users/muraleee/orgs", "repos_url": "https://api.github.com/users/muraleee/repos", "events_url": "https://api.github.com/users/muraleee/events{/privacy}", "received_events_url": "https://api.github.com/users/muraleee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60520372, "node_id": "MDU6TGFiZWw2MDUyMDM3Mg==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review", "name": "Ready for review", "color": "bfe5bf", "default": false, "description": null}, {"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 120584130, "node_id": "MDU6TGFiZWwxMjA1ODQxMzA=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/SFTP", "name": "SFTP", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/6", "html_url": "https://github.com/paramiko/paramiko/milestone/6", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/6/labels", "id": 1332248, "node_id": "MDk6TWlsZXN0b25lMTMzMjI0OA==", "number": 6, "title": "1.16", "description": null, "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-09-30T22:50:42Z", "updated_at": "2015-11-04T22:54:18Z", "due_on": null, "closed_at": "2015-11-04T22:54:18Z"}, "comments": 9, "created_at": "2013-08-02T18:46:50Z", "updated_at": "2015-11-04T22:53:57Z", "closed_at": "2015-11-04T22:53:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "_[Maintainer's note: a) this seems to be specific to IBM SFTP servers or others which place limits on how many times one can `stat` a file; b) there are two potential fixes for this, #562 and #579]_\n\nI have the following code with initalization of credentials removed.\nPrinting of directory listing works, however \"get\" fails with the following exception\n\nparamiko [Errno 2] <....filename removed...> The message  is not extractable!\n\nI worked around by making a  copy of getfo and removing prefetch call in it. \n\n---\n\n```\nsftp = paramiko.SFTPClient.from_transport(t)\n\ndirlist = sftp.listdir('.')\nprint \"Dirlist:\", dirlist\n\nsftp.chdir('Inbox')\ndirlist = sftp.listdir('.')\nprint \"Dirlist:\", dirlist\n\nfor fil in dirlist:\n    fl = file(localpath + \"/\" + fil, 'wb')\n    sftp.get(file, localpath + \"/\"+file)\n    print fi\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/192", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/192/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/192/events", "html_url": "https://github.com/paramiko/paramiko/pull/192", "id": 17542514, "node_id": "MDExOlB1bGxSZXF1ZXN0NzM0MjE5MA==", "number": 192, "title": "Don't compute hashes of hashes in HostKeys.lookup()", "user": {"login": "ostacey", "id": 1728508, "node_id": "MDQ6VXNlcjE3Mjg1MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1728508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ostacey", "html_url": "https://github.com/ostacey", "followers_url": "https://api.github.com/users/ostacey/followers", "following_url": "https://api.github.com/users/ostacey/following{/other_user}", "gists_url": "https://api.github.com/users/ostacey/gists{/gist_id}", "starred_url": "https://api.github.com/users/ostacey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ostacey/subscriptions", "organizations_url": "https://api.github.com/users/ostacey/orgs", "repos_url": "https://api.github.com/users/ostacey/repos", "events_url": "https://api.github.com/users/ostacey/events{/privacy}", "received_events_url": "https://api.github.com/users/ostacey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 76052580, "node_id": "MDU6TGFiZWw3NjA1MjU4MA==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Reviewed", "name": "Reviewed", "color": "207de5", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/paramiko/paramiko/milestones/1", "html_url": "https://github.com/paramiko/paramiko/milestone/1", "labels_url": "https://api.github.com/repos/paramiko/paramiko/milestones/1/labels", "id": 750224, "node_id": "MDk6TWlsZXN0b25lNzUwMjI0", "number": 1, "title": "1.12.5 et al", "description": "Bugfix release: 1.12.5, 1.13.2, 1.14.1", "creator": {"login": "bitprophet", "id": 6088, "node_id": "MDQ6VXNlcjYwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/6088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitprophet", "html_url": "https://github.com/bitprophet", "followers_url": "https://api.github.com/users/bitprophet/followers", "following_url": "https://api.github.com/users/bitprophet/following{/other_user}", "gists_url": "https://api.github.com/users/bitprophet/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitprophet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitprophet/subscriptions", "organizations_url": "https://api.github.com/users/bitprophet/orgs", "repos_url": "https://api.github.com/users/bitprophet/repos", "events_url": "https://api.github.com/users/bitprophet/events{/privacy}", "received_events_url": "https://api.github.com/users/bitprophet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2014-08-11T21:03:48Z", "updated_at": "2014-08-26T06:34:42Z", "due_on": null, "closed_at": "2014-08-26T06:34:42Z"}, "comments": 10, "created_at": "2013-08-02T03:01:51Z", "updated_at": "2014-08-11T21:25:48Z", "closed_at": "2014-08-11T21:25:48Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/192", "html_url": "https://github.com/paramiko/paramiko/pull/192", "diff_url": "https://github.com/paramiko/paramiko/pull/192.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/192.patch", "merged_at": null}, "body": "When performing a lookup(), if the supplied hostname is hashed, don't try to compute the hash of that hash. Relevant because lookup() is called via check() from load(), which will often supply hashed values.\n\nSee related issue: https://github.com/paramiko/paramiko/issues/191 for more details.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/192/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/166", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/166/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/166/events", "html_url": "https://github.com/paramiko/paramiko/pull/166", "id": 14095753, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MzIyNQ==", "number": 166, "title": "Hash hostname patch revisited", "user": {"login": "sunweaver", "id": 407231, "node_id": "MDQ6VXNlcjQwNzIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/407231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunweaver", "html_url": "https://github.com/sunweaver", "followers_url": "https://api.github.com/users/sunweaver/followers", "following_url": "https://api.github.com/users/sunweaver/following{/other_user}", "gists_url": "https://api.github.com/users/sunweaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunweaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunweaver/subscriptions", "organizations_url": "https://api.github.com/users/sunweaver/orgs", "repos_url": "https://api.github.com/users/sunweaver/repos", "events_url": "https://api.github.com/users/sunweaver/events{/privacy}", "received_events_url": "https://api.github.com/users/sunweaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}, {"id": 151049708, "node_id": "MDU6TGFiZWwxNTEwNDk3MDg=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/known_hosts", "name": "known_hosts", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-05-08T11:38:43Z", "updated_at": "2014-11-25T19:05:38Z", "closed_at": "2014-11-25T19:05:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/166", "html_url": "https://github.com/paramiko/paramiko/pull/166", "diff_url": "https://github.com/paramiko/paramiko/pull/166.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/166.patch", "merged_at": null}, "body": "Hi Jeff,\n\nthis is a follow-up of #88. Unfortunately, the patch in #88 had an error that caused the observed trouble.\n\nThis pull request contains the patch with the earlier error fixed. Below you find some help text for the changelog file...\n\n\"\"\"\nAdd method kwarg ,,hash_hostname'' to hostkeys.HostKeyEntry.add() method.\nEnable host key hashing by default as is standard with serveral current (Open)SSH implementations.\n\"\"\"\n\nGreets,\nMike\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/166/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/144", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/144/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/144/events", "html_url": "https://github.com/paramiko/paramiko/pull/144", "id": 11703783, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ2NTY2MQ==", "number": 144, "title": "Fix race between the pipe createn and CLOSE/EOF message", "user": {"login": "afazekas", "id": 2709314, "node_id": "MDQ6VXNlcjI3MDkzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2709314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afazekas", "html_url": "https://github.com/afazekas", "followers_url": "https://api.github.com/users/afazekas/followers", "following_url": "https://api.github.com/users/afazekas/following{/other_user}", "gists_url": "https://api.github.com/users/afazekas/gists{/gist_id}", "starred_url": "https://api.github.com/users/afazekas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afazekas/subscriptions", "organizations_url": "https://api.github.com/users/afazekas/orgs", "repos_url": "https://api.github.com/users/afazekas/repos", "events_url": "https://api.github.com/users/afazekas/events{/privacy}", "received_events_url": "https://api.github.com/users/afazekas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-03-06T08:31:42Z", "updated_at": "2022-06-20T22:20:32Z", "closed_at": "2022-06-20T22:20:31Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/144", "html_url": "https://github.com/paramiko/paramiko/pull/144", "diff_url": "https://github.com/paramiko/paramiko/pull/144.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/144.patch", "merged_at": null}, "body": "When the EOF or CLOSE message received earlier than the pipe created,\nthe pipe did not indicated the EOF or CLOSE event.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/144/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/124", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/124/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/124/events", "html_url": "https://github.com/paramiko/paramiko/issues/124", "id": 9408766, "node_id": "MDU6SXNzdWU5NDA4NzY2", "number": 124, "title": "Unexpected EOF/connection drop on old GlobalSCAPE server.", "user": {"login": "kaorihinata", "id": 2703484, "node_id": "MDQ6VXNlcjI3MDM0ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2703484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaorihinata", "html_url": "https://github.com/kaorihinata", "followers_url": "https://api.github.com/users/kaorihinata/followers", "following_url": "https://api.github.com/users/kaorihinata/following{/other_user}", "gists_url": "https://api.github.com/users/kaorihinata/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaorihinata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaorihinata/subscriptions", "organizations_url": "https://api.github.com/users/kaorihinata/orgs", "repos_url": "https://api.github.com/users/kaorihinata/repos", "events_url": "https://api.github.com/users/kaorihinata/events{/privacy}", "received_events_url": "https://api.github.com/users/kaorihinata/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120548953, "node_id": "MDU6TGFiZWwxMjA1NDg5NTM=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Nonstandard%20platforms", "name": "Nonstandard platforms", "color": "d4c5f9", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-12-19T17:50:36Z", "updated_at": "2019-04-17T19:46:36Z", "closed_at": "2016-04-25T00:33:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue has been plaguing me for months and I've run out of options. We have a vendor that we need to grab archives from every once in a while (.zip files, mostly). That vendor uses a quite aged GlobalSCAPE SFTP server to serve our files. GlobalSCAPE has never really followed the SFTP spec very well and doesn't really put much effort into making it's server compatible with OpenSSH or any of it's tools. Both the vendor and GlobalSCAPE refuse to respond to tickets on this issue, so I've been unable to determine if it's a paramiko issue or a GlobalSCAPE issue. I'm willing to bet that it's either a GlobalSCAPE issue, or both since we've only had this issue with this one server. I haven't been able to find any other server that exhibits this behavior. Even a newer version of the GlobalSCAPE server doesn't exhibit this behavior, but since I can't get anyone at either company to respond, I'm a bit stuck. The issue is 100% reproducible on the files it does file on though. The problem is that these files contain student and teacher information, so it would be a violation of too many laws to name to post the zip file so here I'm stuck.\n\nThe first of two different tracebacks I receive are:\n\n```\nTraceback (most recent call last):\n  File \"./cleanup2.py\", line 18, in <module>\n    c.get(\"/Backups/Crs/8e94c6f154/USER-0a712830-1cc5-4eba-b8a0-1e9acd1676c0.zip\", \"test_paramiko.zip\")\n      File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_client.py\", line 614, in get\n    data = fr.read(32768)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/file.py\", line 153, in read\n    new_data = self._read(read_size)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_file.py\", line 152, in _read\n    data = self._read_prefetch(size)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_file.py\", line 132, in _read_prefetch\n    self.sftp._read_response()\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_client.py\", line 667, in _read_response\n    raise SSHException('Server connection dropped: %s' % (str(e),))\nparamiko.SSHException: Server connection dropped: \n```\n\nThe second is:\n\n```\nTraceback (most recent call last):\n  File \"./cleanup2.py\", line 18, in <module>\n    c.get(\"/Backups/Crs/8e94c6f154/USER-0a712830-1cc5-4eba-b8a0-1e9acd1676c0.zip\", \"test_paramiko.zip\")\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_client.py\", line 614, in get\n    data = fr.read(32768)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/file.py\", line 153, in read\n    new_data = self._read(read_size)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_file.py\", line 152, in _read\n    data = self._read_prefetch(size)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_file.py\", line 132, in _read_prefetch\n    Exception in thread Thread-2:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/threading.py\", line 551, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib64/python2.7/threading.py\", line 504, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_file.py\", line 453, in _prefetch_thread\n    self.sftp._async_request(self, CMD_READ, self.handle, long(offset), int(length))\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_client.py\", line 656, in _async_request\n    self._send_packet(t, str(msg))\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp.py\", line 172, in _send_packet\n    self._write_all(out)\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp.py\", line 138, in _write_all\n    raise EOFError()\nEOFError\n\nself.sftp._read_response()\n  File \"/usr/lib64/python2.7/site-packages/paramiko/sftp_client.py\", line 667, in _read_response\n    raise SSHException('Server connection dropped: %s' % (str(e),))\nparamiko.SSHException: Server connection dropped: \n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/84", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/84/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/84/events", "html_url": "https://github.com/paramiko/paramiko/pull/84", "id": 7358501, "node_id": "MDExOlB1bGxSZXF1ZXN0MjU0NjYyMg==", "number": 84, "title": "BaseSFTP._write_all no longer interprets 0 as error", "user": {"login": "gmacon", "id": 238853, "node_id": "MDQ6VXNlcjIzODg1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/238853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmacon", "html_url": "https://github.com/gmacon", "followers_url": "https://api.github.com/users/gmacon/followers", "following_url": "https://api.github.com/users/gmacon/following{/other_user}", "gists_url": "https://api.github.com/users/gmacon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmacon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmacon/subscriptions", "organizations_url": "https://api.github.com/users/gmacon/orgs", "repos_url": "https://api.github.com/users/gmacon/repos", "events_url": "https://api.github.com/users/gmacon/events{/privacy}", "received_events_url": "https://api.github.com/users/gmacon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2012-10-04T18:18:30Z", "updated_at": "2015-04-28T21:06:54Z", "closed_at": "2015-04-28T21:06:54Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/84", "html_url": "https://github.com/paramiko/paramiko/pull/84", "diff_url": "https://github.com/paramiko/paramiko/pull/84.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/84.patch", "merged_at": null}, "body": "When talking to a high-traffic SFTP server, send() may return 0,\nbut this is not an error.  This change treats the 0 return the same\nway as Packetizer.write_all.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/84/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/84/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/78", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/78/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/78/events", "html_url": "https://github.com/paramiko/paramiko/pull/78", "id": 6413237, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE0NDE0Ng==", "number": 78, "title": "Fail more gracefully when encountering a missing mtime.", "user": {"login": "btimby", "id": 669270, "node_id": "MDQ6VXNlcjY2OTI3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/669270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/btimby", "html_url": "https://github.com/btimby", "followers_url": "https://api.github.com/users/btimby/followers", "following_url": "https://api.github.com/users/btimby/following{/other_user}", "gists_url": "https://api.github.com/users/btimby/gists{/gist_id}", "starred_url": "https://api.github.com/users/btimby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/btimby/subscriptions", "organizations_url": "https://api.github.com/users/btimby/orgs", "repos_url": "https://api.github.com/users/btimby/repos", "events_url": "https://api.github.com/users/btimby/events{/privacy}", "received_events_url": "https://api.github.com/users/btimby/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-08-23T16:41:39Z", "updated_at": "2022-05-30T15:30:15Z", "closed_at": "2022-05-30T15:30:14Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/78", "html_url": "https://github.com/paramiko/paramiko/pull/78", "diff_url": "https://github.com/paramiko/paramiko/pull/78.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/78.patch", "merged_at": null}, "body": "I actually have a file system that does this, and the current code results in\nprepending (unknown date) to the file name in the SFTP client. This\nprevents changing into the directory or downloading files, as the\nclient sends the name including the (unknown date) to the server.\nBy using a space, this case is handled properly (missing date, file\nname unaffected).\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/78/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/62", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/62/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/62/events", "html_url": "https://github.com/paramiko/paramiko/pull/62", "id": 3754170, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAyNTEwNA==", "number": 62, "title": "Add timeout for handshake completion.", "user": {"login": "dacut", "id": 1291220, "node_id": "MDQ6VXNlcjEyOTEyMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1291220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dacut", "html_url": "https://github.com/dacut", "followers_url": "https://api.github.com/users/dacut/followers", "following_url": "https://api.github.com/users/dacut/following{/other_user}", "gists_url": "https://api.github.com/users/dacut/gists{/gist_id}", "starred_url": "https://api.github.com/users/dacut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dacut/subscriptions", "organizations_url": "https://api.github.com/users/dacut/orgs", "repos_url": "https://api.github.com/users/dacut/repos", "events_url": "https://api.github.com/users/dacut/events{/privacy}", "received_events_url": "https://api.github.com/users/dacut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-03-21T21:51:47Z", "updated_at": "2015-02-27T23:43:39Z", "closed_at": "2015-02-27T23:43:39Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/62", "html_url": "https://github.com/paramiko/paramiko/pull/62", "diff_url": "https://github.com/paramiko/paramiko/pull/62.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/62.patch", "merged_at": null}, "body": "This adds a mechanism for timing out a connection if the ssh handshake never completes.\n\nWhen managing large fleets, we not-infrequently encounter cases where a host is alive enough to accept an SSH connection but not enough to accept commands.  (I've seen this with failing disks, for example -- my hypothesis is enough of the ssh daemon is cached in memory, but the shell or other libraries can't be read.)\n\n(Internal p4 CLN 5034409; patch approved for release via TT/0013249552)\nauthor: pala@amazon.com\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/62/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/32", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/32/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/32/events", "html_url": "https://github.com/paramiko/paramiko/pull/32", "id": 1393743, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY4MjQ4", "number": 32, "title": "Issue22", "user": {"login": "Bluehorn", "id": 975735, "node_id": "MDQ6VXNlcjk3NTczNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/975735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bluehorn", "html_url": "https://github.com/Bluehorn", "followers_url": "https://api.github.com/users/Bluehorn/followers", "following_url": "https://api.github.com/users/Bluehorn/following{/other_user}", "gists_url": "https://api.github.com/users/Bluehorn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bluehorn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bluehorn/subscriptions", "organizations_url": "https://api.github.com/users/Bluehorn/orgs", "repos_url": "https://api.github.com/users/Bluehorn/repos", "events_url": "https://api.github.com/users/Bluehorn/events{/privacy}", "received_events_url": "https://api.github.com/users/Bluehorn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-12T09:48:23Z", "updated_at": "2015-03-05T10:53:13Z", "closed_at": "2015-02-27T21:19:43Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/32", "html_url": "https://github.com/paramiko/paramiko/pull/32", "diff_url": "https://github.com/paramiko/paramiko/pull/32.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/32.patch", "merged_at": "2015-02-27T21:19:43Z"}, "body": "Hi Robey,\n\nplease consider pulling my bugfix f\u00fcr issue 22 from this branch.\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/32/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/24", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/24/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/24/events", "html_url": "https://github.com/paramiko/paramiko/pull/24", "id": 1170924, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEwNDU1", "number": 24, "title": "Only one service request per authentication serie", "user": {"login": "gellule", "id": 676070, "node_id": "MDQ6VXNlcjY3NjA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/676070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gellule", "html_url": "https://github.com/gellule", "followers_url": "https://api.github.com/users/gellule/followers", "following_url": "https://api.github.com/users/gellule/following{/other_user}", "gists_url": "https://api.github.com/users/gellule/gists{/gist_id}", "starred_url": "https://api.github.com/users/gellule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gellule/subscriptions", "organizations_url": "https://api.github.com/users/gellule/orgs", "repos_url": "https://api.github.com/users/gellule/repos", "events_url": "https://api.github.com/users/gellule/events{/privacy}", "received_events_url": "https://api.github.com/users/gellule/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}, {"id": 121892709, "node_id": "MDU6TGFiZWwxMjE4OTI3MDk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20tests", "name": "Needs tests", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-07-05T23:31:01Z", "updated_at": "2015-01-27T20:37:24Z", "closed_at": "2015-01-27T20:37:19Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/paramiko/paramiko/pulls/24", "html_url": "https://github.com/paramiko/paramiko/pull/24", "diff_url": "https://github.com/paramiko/paramiko/pull/24.diff", "patch_url": "https://github.com/paramiko/paramiko/pull/24.patch", "merged_at": null}, "body": "This fixes the issue I had with the authentication key not being the first one delivered by ssh-agent. The problem was paramiko sending a service request for each ssh key held by the agent. The server would disconnect on the second service request. With the changes, (1) the authentication is instantiated only once for the full list of keys provided by the agent, (2) the service request is only performed once.\n\nCheers!\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/24/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/paramiko/paramiko/issues/17", "repository_url": "https://api.github.com/repos/paramiko/paramiko", "labels_url": "https://api.github.com/repos/paramiko/paramiko/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/paramiko/paramiko/issues/17/comments", "events_url": "https://api.github.com/repos/paramiko/paramiko/issues/17/events", "html_url": "https://github.com/paramiko/paramiko/issues/17", "id": 944650, "node_id": "MDU6SXNzdWU5NDQ2NTA=", "number": 17, "title": "Exception in thread", "user": {"login": "jumping", "id": 255390, "node_id": "MDQ6VXNlcjI1NTM5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/255390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jumping", "html_url": "https://github.com/jumping", "followers_url": "https://api.github.com/users/jumping/followers", "following_url": "https://api.github.com/users/jumping/following{/other_user}", "gists_url": "https://api.github.com/users/jumping/gists{/gist_id}", "starred_url": "https://api.github.com/users/jumping/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jumping/subscriptions", "organizations_url": "https://api.github.com/users/jumping/orgs", "repos_url": "https://api.github.com/users/jumping/repos", "events_url": "https://api.github.com/users/jumping/events{/privacy}", "received_events_url": "https://api.github.com/users/jumping/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 60522311, "node_id": "MDU6TGFiZWw2MDUyMjMxMQ==", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation", "name": "Needs investigation", "color": "fad8c7", "default": false, "description": null}, {"id": 120561399, "node_id": "MDU6TGFiZWwxMjA1NjEzOTk=", "url": "https://api.github.com/repos/paramiko/paramiko/labels/Bug", "name": "Bug", "color": "a04040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 41, "created_at": "2011-05-24T01:11:53Z", "updated_at": "2022-11-08T16:27:08Z", "closed_at": "2022-11-08T16:27:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\nException in thread Thread-12 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-13 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-9 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-8 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\nException in thread Thread-3 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"build/bdist.freebsd-8.2-RELEASE-i386/egg/paramiko/transport.py\", line 1574, in run\n<type 'exceptions.AttributeError'>: 'NoneType' object has no attribute 'error'\n```\n", "reactions": {"url": "https://api.github.com/repos/paramiko/paramiko/issues/17/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/paramiko/paramiko/issues/17/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}]