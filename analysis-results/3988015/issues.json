[{"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/6055", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/6055/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/6055/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/6055/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/6055", "id": 1666924395, "node_id": "I_kwDOCf7Pcs5jWz9r", "number": 6055, "title": "[Support]: Frigate not validating runtime config before savingf", "user": {"login": "guinnberg", "id": 699009, "node_id": "MDQ6VXNlcjY5OTAwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/699009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guinnberg", "html_url": "https://github.com/guinnberg", "followers_url": "https://api.github.com/users/guinnberg/followers", "following_url": "https://api.github.com/users/guinnberg/following{/other_user}", "gists_url": "https://api.github.com/users/guinnberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/guinnberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guinnberg/subscriptions", "organizations_url": "https://api.github.com/users/guinnberg/orgs", "repos_url": "https://api.github.com/users/guinnberg/repos", "events_url": "https://api.github.com/users/guinnberg/events{/privacy}", "received_events_url": "https://api.github.com/users/guinnberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/5", "html_url": "https://github.com/blakeblackshear/frigate/milestone/5", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/5/labels", "id": 9280798, "node_id": "MI_kwDOCf7Pcs4AjZ0e", "number": 5, "title": "0.12.1", "description": "", "creator": {"login": "NickM-27", "id": 14866235, "node_id": "MDQ6VXNlcjE0ODY2MjM1", "avatar_url": "https://avatars.githubusercontent.com/u/14866235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NickM-27", "html_url": "https://github.com/NickM-27", "followers_url": "https://api.github.com/users/NickM-27/followers", "following_url": "https://api.github.com/users/NickM-27/following{/other_user}", "gists_url": "https://api.github.com/users/NickM-27/gists{/gist_id}", "starred_url": "https://api.github.com/users/NickM-27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NickM-27/subscriptions", "organizations_url": "https://api.github.com/users/NickM-27/orgs", "repos_url": "https://api.github.com/users/NickM-27/repos", "events_url": "https://api.github.com/users/NickM-27/events{/privacy}", "received_events_url": "https://api.github.com/users/NickM-27/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2023-04-13T19:24:18Z", "updated_at": "2023-04-15T12:37:50Z", "due_on": null, "closed_at": null}, "comments": 7, "created_at": "2023-04-13T18:23:21Z", "updated_at": "2023-04-15T12:37:15Z", "closed_at": "2023-04-15T12:37:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nUsing the new config edit section, if for some reason Frigate crashed, you're still allowed to do changes in the config, but when you click on save it won't save and won't show any errors.\r\n\r\nAfter refreshing the page I can see an error saying the addon isn't running.\n\n### Version\n\n0.12\n\n### Frigate config file\n\n```yaml\nNA\n```\n\n\n### Relevant log output\n\n```shell\nNA\n```\n\n\n### FFprobe output from your camera\n\n```shell\nNA\n```\n\n\n### Frigate stats\n\n_No response_\n\n### Operating system\n\nHassOS\n\n### Install method\n\nHassOS Addon\n\n### Coral version\n\nUSB\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nNA\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/6055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/6055/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5997", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5997/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5997/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5997/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5997", "id": 1662450841, "node_id": "I_kwDOCf7Pcs5jFvyZ", "number": 5997, "title": "[Support]:  Web Event Camera Selection", "user": {"login": "kdill00", "id": 76188629, "node_id": "MDQ6VXNlcjc2MTg4NjI5", "avatar_url": "https://avatars.githubusercontent.com/u/76188629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdill00", "html_url": "https://github.com/kdill00", "followers_url": "https://api.github.com/users/kdill00/followers", "following_url": "https://api.github.com/users/kdill00/following{/other_user}", "gists_url": "https://api.github.com/users/kdill00/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdill00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdill00/subscriptions", "organizations_url": "https://api.github.com/users/kdill00/orgs", "repos_url": "https://api.github.com/users/kdill00/repos", "events_url": "https://api.github.com/users/kdill00/events{/privacy}", "received_events_url": "https://api.github.com/users/kdill00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/5", "html_url": "https://github.com/blakeblackshear/frigate/milestone/5", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/5/labels", "id": 9280798, "node_id": "MI_kwDOCf7Pcs4AjZ0e", "number": 5, "title": "0.12.1", "description": "", "creator": {"login": "NickM-27", "id": 14866235, "node_id": "MDQ6VXNlcjE0ODY2MjM1", "avatar_url": "https://avatars.githubusercontent.com/u/14866235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NickM-27", "html_url": "https://github.com/NickM-27", "followers_url": "https://api.github.com/users/NickM-27/followers", "following_url": "https://api.github.com/users/NickM-27/following{/other_user}", "gists_url": "https://api.github.com/users/NickM-27/gists{/gist_id}", "starred_url": "https://api.github.com/users/NickM-27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NickM-27/subscriptions", "organizations_url": "https://api.github.com/users/NickM-27/orgs", "repos_url": "https://api.github.com/users/NickM-27/repos", "events_url": "https://api.github.com/users/NickM-27/events{/privacy}", "received_events_url": "https://api.github.com/users/NickM-27/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2023-04-13T19:24:18Z", "updated_at": "2023-04-15T12:37:50Z", "due_on": null, "closed_at": null}, "comments": 12, "created_at": "2023-04-11T13:09:30Z", "updated_at": "2023-04-15T12:37:50Z", "closed_at": "2023-04-15T12:37:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nEver since 12 beta-8 or 9, the new fancy camera drop down selection under events does not work if frigate has more than 16 cameras for the instance.  16 and below and it works. I tried various combinations and redid my config serveral times so I do not believe it is my config as everything else still works correctly. The only thing I could think to grab was inspect/debug menu from chrome.  There are 3 messages presented:\r\n\r\n[172.16.1.45-1681218152992.log](https://github.com/blakeblackshear/frigate/files/11200664/172.16.1.45-1681218152992.log)\r\n[172.16.1.45-1681218193431.log](https://github.com/blakeblackshear/frigate/files/11200665/172.16.1.45-1681218193431.log)\r\n[172.16.1.45-1681218116824.log](https://github.com/blakeblackshear/frigate/files/11200666/172.16.1.45-1681218116824.log)\r\n\r\n\r\nit may be easier to just quickly add 17 cameras and try it out.  and just a picture so its clear what I am talking about:\r\n\r\n![frig](https://user-images.githubusercontent.com/76188629/231171355-551dac04-95d6-467b-9f3c-2a1a3905171e.PNG)\r\n\r\n\r\nLet me know if there is anything else I need to procure.  \n\n### Version\n\n0.12.0-da3e197\n\n### Frigate config file\n\n```yaml\nn/a\n```\n\n\n### Relevant log output\n\n```shell\nn/a\n```\n\n\n### FFprobe output from your camera\n\n```shell\nn/a\n```\n\n\n### Frigate stats\n\n```json\nn/a\n```\n\n\n### Operating system\n\nDebian\n\n### Install method\n\nDocker CLI\n\n### Coral version\n\nOther\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nspiffy one\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5798", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5798/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5798/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5798/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5798", "id": 1634634015, "node_id": "I_kwDOCf7Pcs5hbokf", "number": 5798, "title": "[Support]: RTSP password not correctly masked / in log file", "user": {"login": "javydekoning", "id": 4455323, "node_id": "MDQ6VXNlcjQ0NTUzMjM=", "avatar_url": "https://avatars.githubusercontent.com/u/4455323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javydekoning", "html_url": "https://github.com/javydekoning", "followers_url": "https://api.github.com/users/javydekoning/followers", "following_url": "https://api.github.com/users/javydekoning/following{/other_user}", "gists_url": "https://api.github.com/users/javydekoning/gists{/gist_id}", "starred_url": "https://api.github.com/users/javydekoning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javydekoning/subscriptions", "organizations_url": "https://api.github.com/users/javydekoning/orgs", "repos_url": "https://api.github.com/users/javydekoning/repos", "events_url": "https://api.github.com/users/javydekoning/events{/privacy}", "received_events_url": "https://api.github.com/users/javydekoning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-21T20:18:57Z", "updated_at": "2023-03-21T22:21:38Z", "closed_at": "2023-03-21T22:21:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nPassword is shown in Log FIle\r\n\r\n```\r\nFfmpeg process crashed unexpectedly for E1ProBabyRoom.\r\nThe following ffmpeg logs include the last 100 lines prior to exit.\r\nrtsp://*:*@192.168.1.3:554/h264Preview_01_sub: Protocol not found\r\nDid you mean file:rtsp://hass:Welcome123%21@192.168.1.3:554\r\n```\r\n\r\n### Version\r\n\r\n0.12.0-e454daf\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\nNot relevant\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n2023-03-21 20:01:53.982583022  [2023-03-21 20:01:53] watchdog.E1ProBabyRoom         ERROR   : Ffmpeg process crashed unexpectedly for E1ProBabyRoom.\r\n2023-03-21 20:01:53.982672799  [2023-03-21 20:01:53] watchdog.E1ProBabyRoom         ERROR   : The following ffmpeg logs include the last 100 lines prior to exit.\r\n2023-03-21 20:01:53.982710434  [2023-03-21 20:01:53] ffmpeg.E1ProBabyRoom.detect    ERROR   : rtsp://*:*@192.168.1.3:554/h264Preview_01_sub: Protocol not found\r\n2023-03-21 20:01:53.982783621  [2023-03-21 20:01:53] ffmpeg.E1ProBabyRoom.detect    ERROR   : Did you mean file:rtsp://hass:Welcome123%21@192.168.1.3:554\r\n```\r\n\r\n### Operating system\r\n\r\nOther Linux\r\n\r\n### Install method\r\n\r\nKubernetes\r\n\r\n### Coral version\r\n\r\nCPU (no coral)\r\n\r\n### Network connection\r\n\r\nWireless\r\n\r\n### Camera make and model\r\n\r\nReolink E1 Pro\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5515", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5515/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5515/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5515/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5515", "id": 1587824640, "node_id": "I_kwDOCf7Pcs5epEgA", "number": 5515, "title": "[Support]: Bug with Frigate+ upload", "user": {"login": "DubhAd", "id": 11191848, "node_id": "MDQ6VXNlcjExMTkxODQ4", "avatar_url": "https://avatars.githubusercontent.com/u/11191848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DubhAd", "html_url": "https://github.com/DubhAd", "followers_url": "https://api.github.com/users/DubhAd/followers", "following_url": "https://api.github.com/users/DubhAd/following{/other_user}", "gists_url": "https://api.github.com/users/DubhAd/gists{/gist_id}", "starred_url": "https://api.github.com/users/DubhAd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DubhAd/subscriptions", "organizations_url": "https://api.github.com/users/DubhAd/orgs", "repos_url": "https://api.github.com/users/DubhAd/repos", "events_url": "https://api.github.com/users/DubhAd/events{/privacy}", "received_events_url": "https://api.github.com/users/DubhAd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2725128739, "node_id": "MDU6TGFiZWwyNzI1MTI4NzM5", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/support", "name": "support", "color": "EDB07E", "default": false, "description": ""}, {"id": 3413734788, "node_id": "LA_kwDOCf7Pcs7LeXWE", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/triage", "name": "triage", "color": "bfd4f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-16T14:54:17Z", "updated_at": "2023-02-19T13:38:18Z", "closed_at": "2023-02-19T13:38:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nAttempting to upload a snapshot that has no object (tagged) in it generates an error and a failure to upload.\r\n\r\nUploading a snapshot with a tagged object works 100% of the time.\n\n### Version\n\n0.12.0-27A31E7 (beta8)\n\n### Frigate config file\n\n```yaml\nffmpeg:\r\n  hwaccel_args: preset-vaapi\r\n\r\ngo2rtc:\r\n  streams:\r\n    front: rtsp://192.168.0.42/ISAPI/Streaming/channels/101/\r\n    front_low: rtsp://192.168.0.42/ISAPI/Streaming/channels/102/\r\n  webrtc:\r\n    listen: \":8555\"\r\n    candidates:\r\n      - 192.168.0.16:8555\r\n      - stun:8555\r\n  log:\r\n    format: text\r\n\r\nmqtt:\r\n  host: 192.168.0.16\r\n  user: frigate\r\n  password: password\r\n\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\n\r\ncameras:\r\n  front:\r\n    ffmpeg:\r\n      output_args:\r\n        record: preset-record-generic-audio-copy\r\n      inputs:\r\n        - path: rtsp://localhost:8554/front?video=copy&audio=copy\r\n          input_args: preset-rtsp-restream-low-latency\r\n          roles:\r\n            - record\r\n            - detect\r\n    live:\r\n      stream_name: front_low\r\n    detect:\r\n      width: 2688\r\n      height: 1520\r\n      fps: 20\r\n    record:\r\n      events:\r\n        required_zones:\r\n          - front_path\r\n          - drive\r\n          - road\r\n    snapshots:\r\n      required_zones:\r\n        - front_path\r\n        - drive\r\n        - road\r\n    motion:\r\n      mask:\r\n        - 0,0,2688,0,2688,1520,1565,1520,1528,1062,1207,1085,859,1094,474,1075,70,1035,78,1267,90,1520,0,1520\r\n    zones:\r\n      front_path:\r\n        coordinates: 1220,1370,1536,1395,1546,1520,88,1520,65,1303,884,1335\r\n      drive:\r\n        coordinates: 1220,1370,1536,1395,1546,1273,884,1335\r\n      road:\r\n        coordinates: 62,796,1491,929,1546,1278,1440,1258,1428,1057,809,1057,824,1307,1248,1278,1440,1257,1546,1273,884,1335,65,1303\r\n\r\nobjects:\r\n  track:\r\n    - person\r\n    - car\r\n    - bus\r\n    - motorcycle\r\n    - bicycle\r\n    - dog\r\n\r\nrecord:\r\n  enabled: True\r\n  retain:\r\n    days: 7\r\n    mode: all\r\n  events:\r\n    retain:\r\n      default: 90\r\n      mode: active_objects\r\n    pre_capture: 15\r\n    post_capture: 30\n```\n\n\n### Relevant log output\n\n```shell\n16/02/2023 14:44:32 2023-02-16 14:44:32.830810534  [2023-02-16 14:44:32] frigate.http                   ERROR   : 'NoneType' object has no attribute 'shape'\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830814795  Traceback (most recent call last):\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830818986    File \"/opt/frigate/frigate/http.py\", line 206, in send_to_plus\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830824294      plus_id = current_app.plus_api.upload_image(image, event.camera)\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830827717    File \"/opt/frigate/frigate/plus.py\", line 92, in upload_image\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830831559      files = {\"file\": get_jpg_bytes(image, 1920, 85)}\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830835330    File \"/opt/frigate/frigate/plus.py\", line 16, in get_jpg_bytes\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830840150      if image.shape[1] >= image.shape[0]:\r\n16/02/2023 14:44:32 2023-02-16 14:44:32.830844341  AttributeError: 'NoneType' object has no attribute 'shape'\n```\n\n\n### FFprobe output from your camera\n\n```shell\nffprobe version 4.3.5-0+deb11u1 Copyright (c) 2007-2022 the FFmpeg developers\r\n  built with gcc 10 (Debian 10.2.1-6)\r\n  configuration: --prefix=/usr --extra-version=0+deb11u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-pocketsphinx --enable-libmfx --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\r\n  libavutil      56. 51.100 / 56. 51.100\r\n  libavcodec     58. 91.100 / 58. 91.100\r\n  libavformat    58. 45.100 / 58. 45.100\r\n  libavdevice    58. 10.100 / 58. 10.100\r\n  libavfilter     7. 85.100 /  7. 85.100\r\n  libavresample   4.  0.  0 /  4.  0.  0\r\n  libswscale      5.  7.100 /  5.  7.100\r\n  libswresample   3.  7.100 /  3.  7.100\r\n  libpostproc    55.  7.100 / 55.  7.100\r\nInput #0, rtsp, from 'rtsp://192.168.0.42/ISAPI/Streaming/channels/101/':\r\n  Metadata:\r\n    title           : Media Presentation\r\n  Duration: N/A, start: 0.300000, bitrate: N/A\r\n    Stream #0:0: Video: h264 (High), yuvj420p(pc, bt709, progressive), 2688x1520, 20 fps, 20 tbr, 90k tbn, 40 tbc\n```\n\n\n### Frigate stats\n\n```json\n{\"cpu_usages\":{\"%Cpu(s):\":{\"cpu\":\"id,\",\"mem\":\"0.0\"},\"1\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"102\":{\"cpu\":\"2.3\",\"mem\":\"2.0\"},\"112\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"128\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"129\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"130\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"131\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"132\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"141\":{\"cpu\":\"0.0\",\"mem\":\"0.3\"},\"15\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"156\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"16\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"180\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"218\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"24\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"25\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"26\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"267\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"27\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"28\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"29\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"30\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"304\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"31\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"322\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"40\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"41\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"554\":{\"cpu\":\"0.0\",\"mem\":\"0.2\"},\"560\":{\"cpu\":\"0.3\",\"mem\":\"0.0\"},\"561\":{\"cpu\":\"0.0\",\"mem\":\"0.3\"},\"562\":{\"cpu\":\"2.0\",\"mem\":\"0.3\"},\"569\":{\"cpu\":\"3.7\",\"mem\":\"0.6\"},\"570\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"571\":{\"cpu\":\"19.3\",\"mem\":\"0.3\"},\"575\":{\"cpu\":\"0.0\",\"mem\":\"0.1\"},\"576\":{\"cpu\":\"25.3\",\"mem\":\"0.8\"},\"69225\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"78\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"80\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"81\":{\"cpu\":\"0.0\",\"mem\":\"0.0\"},\"88\":{\"cpu\":\"10.0\",\"mem\":\"0.2\"},\"MiB\":{\"cpu\":\"9084.7\",\"mem\":\"avail\"},\"PID\":{\"cpu\":\"%CPU\",\"mem\":\"%MEM\"},\"Tasks:\":{\"cpu\":\"stopped,\",\"mem\":\"0\"},\"top\":{\"cpu\":\"0\",\"mem\":\"users,\"}},\"detection_fps\":0.0,\"detectors\":{\"coral\":{\"detection_start\":0.0,\"inference_speed\":8.2,\"pid\":561}},\"front\":{\"camera_fps\":20.0,\"capture_pid\":571,\"detection_enabled\":1,\"detection_fps\":0.0,\"ffmpeg_pid\":576,\"pid\":569,\"process_fps\":20.0,\"skipped_fps\":0.0},\"gpu_usages\":{\"amd-vaapi\":{\"gpu\":\"5.83 %\",\"mem\":\"7.82 %\"}},\"service\":{\"last_updated\":1676558943,\"latest_version\":\"0.11.1\",\"storage\":{\"/dev/shm\":{\"free\":260.9,\"mount_type\":\"tmpfs\",\"total\":268.4,\"used\":7.5},\"/media/frigate/clips\":{\"free\":115922.3,\"mount_type\":\"ext4\",\"total\":471371.7,\"used\":331429.8},\"/media/frigate/recordings\":{\"free\":115922.3,\"mount_type\":\"ext4\",\"total\":471371.7,\"used\":331429.8},\"/tmp/cache\":{\"free\":910224.5,\"mount_type\":\"ext4\",\"total\":983424.2,\"used\":23172.8}},\"temperatures\":{},\"uptime\":166287,\"version\":\"0.12.0-27a31e7\"}}\n```\n\n\n### Operating system\n\nDebian\n\n### Install method\n\nDocker Compose\n\n### Coral version\n\nUSB\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nHiWatch IPC-T140\n\n### Any other information that may be helpful\n\nFrigate 0.11.1 has the same error.\r\n\r\n```\r\n6/02/2023 14:49:55 [2023-02-16 14:49:55] frigate.http                   ERROR   : 'NoneType' object has no attribute 'shape'\r\n16/02/2023 14:49:55 Traceback (most recent call last):\r\n16/02/2023 14:49:55   File \"/opt/frigate/frigate/http.py\", line 180, in send_to_plus\r\n16/02/2023 14:49:55     plus_id = current_app.plus_api.upload_image(image, event.camera)\r\n16/02/2023 14:49:55   File \"/opt/frigate/frigate/plus.py\", line 92, in upload_image\r\n16/02/2023 14:49:55     files = {\"file\": get_jpg_bytes(image, 1920, 85)}\r\n16/02/2023 14:49:55   File \"/opt/frigate/frigate/plus.py\", line 16, in get_jpg_bytes\r\n16/02/2023 14:49:55     if image.shape[1] >= image.shape[0]:\r\n16/02/2023 14:49:55 AttributeError: 'NoneType' object has no attribute 'shape'\r\n```", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5515/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5503", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5503/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5503/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5503/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5503", "id": 1585821443, "node_id": "I_kwDOCf7Pcs5ehbcD", "number": 5503, "title": "Minor gui events page bug", "user": {"login": "Choo-lux", "id": 5474756, "node_id": "MDQ6VXNlcjU0NzQ3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5474756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Choo-lux", "html_url": "https://github.com/Choo-lux", "followers_url": "https://api.github.com/users/Choo-lux/followers", "following_url": "https://api.github.com/users/Choo-lux/following{/other_user}", "gists_url": "https://api.github.com/users/Choo-lux/gists{/gist_id}", "starred_url": "https://api.github.com/users/Choo-lux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Choo-lux/subscriptions", "organizations_url": "https://api.github.com/users/Choo-lux/orgs", "repos_url": "https://api.github.com/users/Choo-lux/repos", "events_url": "https://api.github.com/users/Choo-lux/events{/privacy}", "received_events_url": "https://api.github.com/users/Choo-lux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-15T13:01:42Z", "updated_at": "2023-02-16T13:47:20Z", "closed_at": "2023-02-16T13:47:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Windows browsers when I scroll down to the end of the events page the last events blue download icon on the right doesn't display the popup.", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5404", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5404/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5404/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5404/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5404", "id": 1573170643, "node_id": "I_kwDOCf7Pcs5dxK3T", "number": 5404, "title": "[HW Accel Support]: ffmpeg presets don't work when device is on /dev/dri/renderD129", "user": {"login": "lawtancool", "id": 26829131, "node_id": "MDQ6VXNlcjI2ODI5MTMx", "avatar_url": "https://avatars.githubusercontent.com/u/26829131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lawtancool", "html_url": "https://github.com/lawtancool", "followers_url": "https://api.github.com/users/lawtancool/followers", "following_url": "https://api.github.com/users/lawtancool/following{/other_user}", "gists_url": "https://api.github.com/users/lawtancool/gists{/gist_id}", "starred_url": "https://api.github.com/users/lawtancool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lawtancool/subscriptions", "organizations_url": "https://api.github.com/users/lawtancool/orgs", "repos_url": "https://api.github.com/users/lawtancool/repos", "events_url": "https://api.github.com/users/lawtancool/events{/privacy}", "received_events_url": "https://api.github.com/users/lawtancool/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-06T19:43:53Z", "updated_at": "2023-02-11T14:00:59Z", "closed_at": "2023-02-11T14:00:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nUsing the new `preset-intel-qsv-h264` fails on my machine with \r\n```ERROR   : Failed to set value '/dev/dri/renderD128' for option 'qsv_device': Input/output error```.\r\n\r\nThis is likely because the `-qsv_device` ffmpeg option is hardcoded to `/dev/dri/renderD128` here: https://github.com/blakeblackshear/frigate/blob/b6b10e753fa69dd5983761b0063c1227b7bcf997/frigate/ffmpeg_presets.py#L33-L34, but on my system, the Intel iGPU is actually `/dev/dri/renderD129`. \r\n\r\nRemoving the `-qsv_device` option from the preset should allow ffmpeg to correctly select the Intel iGPU for QSV. I know this because using `hwaccel_args: -c:v h264_qsv` instead of the preset works fine on my system. \n\n### Version\n\n0.12.0-66881EB\n\n### Frigate config file\n\n```yaml\ncameras:\r\n  Driveway:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://192.168.1.202:554/Streaming/Channels/2\r\n          roles:\r\n            - detect\r\n        - path: rtsp://192.168.1.202:554/Streaming/Channels/1\r\n          roles:\r\n            - record\r\n      hwaccel_args: preset-intel-qsv-h264\r\n    detect:\r\n      enabled: True\r\n      width: 704\r\n      height: 480\r\n    record:\r\n      enabled: True\r\n    objects:\r\n      track:\r\n        - person\r\n        - car\n```\n\n\n### docker-compose file or Docker CLI command\n\n```yaml\nversion: \"3.8\"\r\nservices:\r\n  frigate:\r\n    container_name: frigate\r\n    privileged: true # this may not be necessary for all setups\r\n    restart: unless-stopped\r\n    image: ghcr.io/blakeblackshear/frigate:0.12.0-beta7\r\n    shm_size: \"128mb\" # update for your cameras based on calculation above\r\n    devices:\r\n#      - /dev/bus/usb:/dev/bus/usb # passes the USB Coral, needs to be modified for other versions\r\n#      - /dev/apex_0:/dev/apex_0 # passes a PCIe Coral, follow driver instructions here https://coral.ai/docs/m2/get-started/#2a-on-linux\r\n      - /dev/dri/renderD128 # for intel hwaccel, needs to be updated for your hardware\r\n    volumes:\r\n      - /etc/localtime:/etc/localtime:ro\r\n      - ./config.yml:/config/config.yml\r\n#      - /path/to/your/storage:/media/frigate\r\n      - type: bind\r\n        source: /mnt/disks/CCTV\r\n        target: /media/frigate\r\n        bind:\r\n          propagation: slave\r\n      - type: tmpfs # Optional: 1GB of memory, reduces SSD/SD Card wear\r\n        target: /tmp/cache\r\n        tmpfs:\r\n          size: 1000000000\r\n    ports:\r\n      - \"5000:5000\"\r\n      - \"8554:8554\" # RTSP feeds\r\n      - \"8555:8555/tcp\" # WebRTC over tcp\r\n      - \"8555:8555/udp\" # WebRTC over udp\n```\n\n\n### Relevant log output\n\n```shell\n2023-02-06 11:40:42.826378287  [2023-02-06 11:40:42] watchdog.Driveway              ERROR   : Ffmpeg process crashed unexpectedly for Driveway.\r\n2023-02-06 11:40:42.826447820  [2023-02-06 11:40:42] watchdog.Driveway              ERROR   : The following ffmpeg logs include the last 100 lines prior to exit.\r\n2023-02-06 11:40:42.826511890  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : DRM_IOCTL_I915_GEM_APERTURE failed: Invalid argument\r\n2023-02-06 11:40:42.826561490  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : Assuming 131072kB available aperture size.\r\n2023-02-06 11:40:42.826613665  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : May lead to reduced performance or incorrect rendering.\r\n2023-02-06 11:40:42.826659807  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : get chip id failed: -1 [22]\r\n2023-02-06 11:40:42.826709717  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : param: 4, val: 0\r\n2023-02-06 11:40:42.826754771  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : [AVHWDeviceContext @ 0x55cd72b2f480] libva: /usr/lib/x86_64-linux-gnu/dri/iHD_drv_video.so init failed\r\n2023-02-06 11:40:42.826818262  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : [AVHWDeviceContext @ 0x55cd72b2f480] Failed to initialise VAAPI connection: 18 (invalid parameter).\r\n2023-02-06 11:40:42.826871808  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : Device creation failed: -5.\r\n2023-02-06 11:40:42.826916131  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : Failed to set value '/dev/dri/renderD128' for option 'qsv_device': Input/output error\r\n2023-02-06 11:40:42.826967495  [2023-02-06 11:40:42] ffmpeg.Driveway.detect         ERROR   : Error parsing global options: Input/output error\r\n2023-02-06 11:40:42.833931570  [2023-02-06 11:40:42] watchdog.Driveway              ERROR   : No new recording segments were created for Driveway in the last 120s. restarting the ffmpeg record process...\r\n2023-02-06 11:40:42.834004494  [2023-02-06 11:40:42] watchdog.Driveway              INFO    : Terminating the existing ffmpeg process...\r\n2023-02-06 11:40:42.834064004  [2023-02-06 11:40:42] watchdog.Driveway              INFO    : Waiting for ffmpeg to exit gracefully...\n```\n\n\n### FFprobe output from your camera\n\n```shell\n\"[\\n  {\\n    \\\"return_code\\\": 0,\\n    \\\"stderr\\\": {},\\n    \\\"stdout\\\": {\\n      \\\"programs\\\": [],\\n      \\\"streams\\\": [\\n        {\\n          \\\"avg_frame_rate\\\": \\\"6/1\\\",\\n          \\\"codec_long_name\\\": \\\"H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\\\",\\n          \\\"height\\\": 480,\\n          \\\"width\\\": 704\\n        }\\n      ]\\n    }\\n  },\\n  {\\n    \\\"return_code\\\": 0,\\n    \\\"stderr\\\": {},\\n    \\\"stdout\\\": {\\n      \\\"programs\\\": [],\\n      \\\"streams\\\": [\\n        {\\n          \\\"avg_frame_rate\\\": \\\"8/1\\\",\\n          \\\"codec_long_name\\\": \\\"H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\\\",\\n          \\\"height\\\": 1536,\\n          \\\"width\\\": 2048\\n        }\\n      ]\\n    }\\n  }\\n]\"\n```\n\n\n### Operating system\n\nUNRAID\n\n### Install method\n\nDocker Compose\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nHikvision\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5141", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5141/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5141/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5141/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5141", "id": 1536813332, "node_id": "I_kwDOCf7Pcs5bmekU", "number": 5141, "title": "[Config Support]: Docker fails to start with KeyError: 'go2rtc'", "user": {"login": "quielb", "id": 13806281, "node_id": "MDQ6VXNlcjEzODA2Mjgx", "avatar_url": "https://avatars.githubusercontent.com/u/13806281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quielb", "html_url": "https://github.com/quielb", "followers_url": "https://api.github.com/users/quielb/followers", "following_url": "https://api.github.com/users/quielb/following{/other_user}", "gists_url": "https://api.github.com/users/quielb/gists{/gist_id}", "starred_url": "https://api.github.com/users/quielb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quielb/subscriptions", "organizations_url": "https://api.github.com/users/quielb/orgs", "repos_url": "https://api.github.com/users/quielb/repos", "events_url": "https://api.github.com/users/quielb/events{/privacy}", "received_events_url": "https://api.github.com/users/quielb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-17T18:05:18Z", "updated_at": "2023-01-18T04:38:19Z", "closed_at": "2023-01-18T04:38:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nStarting an instance of frigate with a minimal config gives error `KeyError: 'go2rtc'`\r\n\r\nConfig file was based on the startup walk though from DOCs https://deploy-preview-4055--frigate-docs.netlify.app/guides/getting_started\r\n\r\nNot sure if its a doc or build issue. Also tried putting in basic restream config and getting same error\n\n### Version\n\nv0.12.0-beta4\n\n### Frigate config file\n\n```yaml\nmqtt:\r\n  enabled: false\r\n\r\ncameras:\r\n  camera_1:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://10.0.20.102:554/s0\r\n          roles:\r\n            - detect\r\n      hwaccel_args: -c:v h264_cuvid\r\n    detect:\r\n      width: 1920\r\n      height: 1080\n```\n\n\n### Relevant log output\n\n```shell\ndocker-compose up\r\nPulling frigate (ghcr.io/blakeblackshear/frigate:0.12.0-beta4-tensorrt)...\r\n0.12.0-beta4-tensorrt: Pulling from blakeblackshear/frigate\r\n8740c948ffd4: Pull complete\r\nb84a1ada9828: Pull complete\r\n832b257640b7: Pull complete\r\n60beb73d7e76: Pull complete\r\n8e29f3174a08: Pull complete\r\n4b46f368fd71: Pull complete\r\nb651bc39c0a3: Pull complete\r\n43b988f71200: Pull complete\r\nDigest: sha256:7010839f6794a5d21a98bc9088400fdc3c382e089539f0409e0cec1ca64473fa\r\nStatus: Downloaded newer image for ghcr.io/blakeblackshear/frigate:0.12.0-beta4-tensorrt\r\nCreating frigate ... done\r\nAttaching to frigate\r\nfrigate    | s6-rc: info: service s6rc-oneshot-runner: starting\r\nfrigate    | s6-rc: info: service s6rc-oneshot-runner successfully started\r\nfrigate    | s6-rc: info: service fix-attrs: starting\r\nfrigate    | s6-rc: info: service fix-attrs successfully started\r\nfrigate    | s6-rc: info: service legacy-cont-init: starting\r\nfrigate    | cont-init: info: running /etc/cont-init.d/prepare-logs.sh\r\nfrigate    | cont-init: info: /etc/cont-init.d/prepare-logs.sh exited 0\r\nfrigate    | s6-rc: info: service legacy-cont-init successfully started\r\nfrigate    | s6-rc: info: service legacy-services: starting\r\nfrigate    | services-up: info: copying legacy longrun frigate (no readiness notification)\r\nfrigate    | services-up: info: copying legacy longrun go2rtc (no readiness notification)\r\nfrigate    | services-up: info: copying legacy longrun nginx (no readiness notification)\r\nfrigate    | s6-rc: info: service legacy-services successfully started\r\nfrigate    | Traceback (most recent call last):\r\nfrigate    |   File \"/usr/local/go2rtc/create_config.py\", line 23, in <module>\r\nfrigate    |     go2rtc_config: dict[str, any] = config[\"go2rtc\"]\r\nfrigate    | KeyError: 'go2rtc'\r\nfrigate    | s6-rc: info: service legacy-services: stopping\r\nfrigate    | s6-svwait: fatal: supervisor died\r\nfrigate    | s6-rc: info: service legacy-services successfully stopped\r\nfrigate    | s6-rc: info: service legacy-cont-init: stopping\r\nfrigate    | s6-rc: info: service legacy-cont-init successfully stopped\r\nfrigate    | s6-rc: info: service fix-attrs: stopping\r\nfrigate    | s6-rc: info: service fix-attrs successfully stopped\r\nfrigate    | s6-rc: info: service s6rc-oneshot-runner: stopping\r\nfrigate    | s6-rc: info: service s6rc-oneshot-runner successfully stopped\n```\n\n\n### Frigate stats\n\n```json\nN/A Frigate doesn't start\n```\n\n\n### Operating system\n\nOther Linux\n\n### Install method\n\nDocker Compose\n\n### Coral version\n\nCPU (no coral)\n\n### Any other information that may be helpful\n\nUsing a basic restream config:\r\n``` yaml\r\nmqtt:\r\n  enabled: false\r\n\r\n  #detectors:\r\n  #tensorrt:\r\n  #  type: tensorrt\r\n  #  device: 0 #This is the default, select the first GPU\r\n\r\ngo2rtc:\r\n  streams:\r\n    test_cam: ffmpeg:rtsp://10.0.20.102:554/s0\r\n\r\ncameras:\r\n  camera_1:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://127.0.0.1:8554/test_cam?video=copy\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - detect\r\n      hwaccel_args: -c:v h264_cuvid\r\n    detect:\r\n      width: 1920\r\n      height: 1080\r\n```\r\nresults in the same error", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5141/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5137", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5137/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5137/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5137/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5137", "id": 1536618159, "node_id": "I_kwDOCf7Pcs5blu6v", "number": 5137, "title": "[Config Support]: go2rtc example doesn't work for me", "user": {"login": "jherby2k", "id": 9419251, "node_id": "MDQ6VXNlcjk0MTkyNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9419251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jherby2k", "html_url": "https://github.com/jherby2k", "followers_url": "https://api.github.com/users/jherby2k/followers", "following_url": "https://api.github.com/users/jherby2k/following{/other_user}", "gists_url": "https://api.github.com/users/jherby2k/gists{/gist_id}", "starred_url": "https://api.github.com/users/jherby2k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jherby2k/subscriptions", "organizations_url": "https://api.github.com/users/jherby2k/orgs", "repos_url": "https://api.github.com/users/jherby2k/repos", "events_url": "https://api.github.com/users/jherby2k/events{/privacy}", "received_events_url": "https://api.github.com/users/jherby2k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2023-01-17T15:53:34Z", "updated_at": "2023-01-18T04:38:19Z", "closed_at": "2023-01-18T04:38:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nIf I follow the beta 4 instructions here, go2rtc crashes with an exit code 1. This was \"fixed\" in beta 3 by setting \r\n\r\n```yaml\r\nrestream:\r\n  force_audio: false\r\n```\r\n\r\nso I took a look at the beta 3 code and made the changes you can see below. Just curious a) why using ffmpeg: doesn't work, and b) if maybe this should be in the docs.\r\n\r\nMy camera streams appear to be h264 video and a-law. Don't really care about the audio so this config works for me.\r\n\r\nside note: what does input_args: preset-rtsp-restream actually do? I see no difference if i exclude it.\r\n\r\n### Version\r\n\r\n0.12 beta 4\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\n# not working:\r\n\r\ngo2rtc:\r\n  streams:\r\n    driveway:       ffmpeg:rtsp://192.168.2.206:80/ch0_0.264#video=copy#audio=aac#audio=opus\r\n    driveway_sub:   ffmpeg:rtsp://192.168.2.206:80/ch0_1.264#video=copy#audio=aac#audio=opus\r\n\r\ncameras:\r\n  driveway:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://127.0.0.1:8554/driveway?video=copy&audio=aac\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - record\r\n        - path: rtsp://127.0.0.1:8554/driveway_sub?video=copy&audio=aac\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - detect\r\n\r\n# working:\r\n\r\ngo2rtc:\r\n  streams:\r\n    driveway:       rtsp://192.168.2.206:80/ch0_0.264\r\n    driveway_sub:   rtsp://192.168.2.206:80/ch0_1.264\r\n\r\ncameras:\r\n  driveway:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://127.0.0.1:8554/driveway\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - record\r\n        - path: rtsp://127.0.0.1:8554/driveway_sub\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - detect\r\n\r\n# working:\r\n\r\ngo2rtc:\r\n  streams:\r\n    driveway:       rtsp://192.168.2.206:80/ch0_0.264\r\n    driveway_sub:   rtsp://192.168.2.206:80/ch0_1.264\r\n\r\ncameras:\r\n  driveway:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://127.0.0.1:8554/driveway\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - record\r\n        - path: rtsp://127.0.0.1:8554/driveway_sub\r\n          input_args: preset-rtsp-restream\r\n          roles:\r\n            - detect\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n2023-01-17 15:52:33.880280311  15:52:33.880 INF go2rtc version 0.1-rc.9 linux/arm64\r\n2023-01-17 15:52:33.881737818  15:52:33.881 INF [api] listen addr=:1984\r\n2023-01-17 15:52:33.882309832  15:52:33.882 INF [rtsp] listen addr=:8554\r\n2023-01-17 15:52:33.883972912  15:52:33.883 INF [webrtc] listen addr=:8555\r\n2023-01-17 15:52:33.884571815  15:52:33.884 INF [srtp] listen addr=:8443\r\n2023-01-17 15:52:42.540168944  15:52:42.539 ERR github.com/AlexxIT/go2rtc/cmd/streams/producer.go:52 > error=\"exec: exit status 1\" url=ffmpeg:rtsp://192.168.2.206:80/ch0_0.264#video=copy#audio=aac#audio=opus\r\n2023-01-17 15:52:42.652206719  15:52:42.651 ERR github.com/AlexxIT/go2rtc/cmd/streams/producer.go:52 > error=\"exec: exit status 1\" url=ffmpeg:rtsp://192.168.2.206:80/ch0_1.264#video=copy#audio=aac#audio=opus\r\n2023-01-17 15:52:43.000135656  15:52:42.998 ERR github.com/AlexxIT/go2rtc/cmd/streams/producer.go:52 > error=\"exec: exit status 1\" url=ffmpeg:rtsp://192.168.2.206:80/ch0_0.264#video=copy#audio=aac#audio=opus\r\n2023-01-17 15:52:43.000149063  15:52:42.999 WRN [rtsp] error=\"source 0 error: exec: exit status 1\" stream=driveway\r\n2023-01-17 15:52:43.080599825  15:52:43.079 ERR github.com/AlexxIT/go2rtc/cmd/streams/producer.go:52 > error=\"exec: exit status 1\" url=ffmpeg:rtsp://192.168.2.206:80/ch0_1.264#video=copy#audio=aac#audio=opus\r\n2023-01-17 15:52:43.080620806  15:52:43.079 WRN [rtsp] error=\"source 0 error: exec: exit status 1\" stream=driveway_sub\r\n```\r\n\r\n\r\n### Frigate stats\r\n\r\n_No response_\r\n\r\n### Operating system\r\n\r\nHassOS\r\n\r\n### Install method\r\n\r\nHassOS Addon\r\n\r\n### Coral version\r\n\r\nUSB\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5111", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5111/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5111/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5111/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5111", "id": 1534748149, "node_id": "I_kwDOCf7Pcs5bemX1", "number": 5111, "title": "[Support]: Recording / playback offset in half-hour time zones", "user": {"login": "rmounce", "id": 23110282, "node_id": "MDQ6VXNlcjIzMTEwMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/23110282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmounce", "html_url": "https://github.com/rmounce", "followers_url": "https://api.github.com/users/rmounce/followers", "following_url": "https://api.github.com/users/rmounce/following{/other_user}", "gists_url": "https://api.github.com/users/rmounce/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmounce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmounce/subscriptions", "organizations_url": "https://api.github.com/users/rmounce/orgs", "repos_url": "https://api.github.com/users/rmounce/repos", "events_url": "https://api.github.com/users/rmounce/events{/privacy}", "received_events_url": "https://api.github.com/users/rmounce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-16T11:12:46Z", "updated_at": "2023-01-16T23:17:05Z", "closed_at": "2023-01-16T23:17:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nI'm in South Australia. We think like to think that we're special here, so we have a special time zone. Currently UTC+10:30.\r\n\r\nWith Frigate 0.11 & earlier I had /etc/localtime bind mounted into Frigate. Recordings were saved to disk in a directory structure using local timestamps & all was well (except for possibly overwriting an hour of recordings when DST ends).\r\n\r\nWith Frigate 0.12 I noticed that a switch to UTC timestamps was made internally, but segments were saved as 30-59 before wrapping around to 00-29 in the same directory. Removing the /etc/localtime bind mount addressed this. \r\n\r\nStill, when viewing clips \"based on the browser's timezone Australia/Adelaide\" there is an offset of 30 minutes. When clicking on an event at 18:06 (correct timestamp), the player loads & seeks to 6 minutes but this actually corresponds to 18:36. To view the event from 18:06, I have to load the previous hour & seek to 36 minutes.\r\n\r\nI had a lazy solution in mind to add/subtract the minute part of the offset in the frontend. I got as far as determining the offset in JavaScript before my head started hurting too much & concluded that this a questionable approach.\r\n```\r\n# returns 30 in Australia/Adelaide\r\n# should return 15 in Asia/Kathmandu (UTC+5:45)\r\n((new Date().getTimezoneOffset() % 60 % 60) + 60) % 60;\r\n# or\r\n# returns 30 in Australia/Adelaide\r\n# should return 45 in Asia/Kathmandu (UTC+5:45)\r\n((-new Date().getTimezoneOffset() % 60 % 60) + 60) % 60;\r\n```\n\n### Version\n\n0.12.0-CF2466C\n\n### Frigate config file\n\n```yaml\n# No time zone relevant config in config.yml\n```\n\n\n### Relevant log output\n\n```shell\n# No relevant logs?\n```\n\n\n### FFprobe output from your camera\n\n```shell\n# Not a camera specific problem\n```\n\n\n### Frigate stats\n\n_No response_\n\n### Operating system\n\nDebian\n\n### Install method\n\nDocker Compose\n\n### Coral version\n\nPCIe\n\n### Network connection\n\nWired\n\n### Camera make and model\n\n# Not a camera specific problem\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5071", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5071/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5071/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5071/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5071", "id": 1532429478, "node_id": "I_kwDOCf7Pcs5bVwSm", "number": 5071, "title": "[HW Accel Support]: Significant increase in CPU usage between 0.11.1 and 0.12.0-beta3 on RPi4 with hardware decoding", "user": {"login": "daernsinstantfortress", "id": 7900720, "node_id": "MDQ6VXNlcjc5MDA3MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7900720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daernsinstantfortress", "html_url": "https://github.com/daernsinstantfortress", "followers_url": "https://api.github.com/users/daernsinstantfortress/followers", "following_url": "https://api.github.com/users/daernsinstantfortress/following{/other_user}", "gists_url": "https://api.github.com/users/daernsinstantfortress/gists{/gist_id}", "starred_url": "https://api.github.com/users/daernsinstantfortress/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daernsinstantfortress/subscriptions", "organizations_url": "https://api.github.com/users/daernsinstantfortress/orgs", "repos_url": "https://api.github.com/users/daernsinstantfortress/repos", "events_url": "https://api.github.com/users/daernsinstantfortress/events{/privacy}", "received_events_url": "https://api.github.com/users/daernsinstantfortress/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-13T14:57:55Z", "updated_at": "2023-01-19T15:39:51Z", "closed_at": "2023-01-13T14:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nSignificant increase in CPU after switching from 0.11.1 to 0.12.0-beta3 on RPi4. Prior to this, CPU usage was around 30-35%, post upgrade around 60-65%. Was successfully using hardware decoding with `-c:v h264_v4l2m2m` but switched to `preset-rpi-64-h264` prior to upgrade as per instructions. Using Coral TPU USB. HA integration updated to 4.0.0 beta 2:\r\n\r\n![image](https://user-images.githubusercontent.com/7900720/212350350-1f9979fd-084e-4082-9d18-b40e1e5d4f3b.png)\r\n\r\nI am still running older HAOS (8.5) which still supported the previous version of ffmpeg. Is it a requirement to move to the latest (9.4) version in order to regain proper hardware decoding support?\r\n\r\nSample camera report from the system tab:\r\n\r\n```\r\nProcess | P-ID | FPS | CPU % | Memory %\r\n-- | -- | -- | -- | --\r\nffmpeg | 296 | 8.1 | 21.9% | 1.4%\r\nCapture | 291 | 8.1 | 9.6% | 2.4%\r\nDetect | 277 | 0\u00a0(0\u00a0skipped) | 3.0% | 2.6%\r\n```\r\n\r\nSimilar ffmpeg CPU usage observed on the other identical cameras, with the older cameras reporting lower CPUs (480p rather than 720p.\r\n\r\nSystem tab:\r\n![image](https://user-images.githubusercontent.com/7900720/212349913-158e593d-44f6-49d8-a775-d7e53b0d7a25.png)\r\n\n\n### Version\n\n0.12.0-beta3\n\n### Frigate config file\n\n```yaml\nmqtt:\r\n  host: 192.168.1.94\r\n  port: 1883\r\n  user: <redacted>\r\n  password: <redacted>\r\nffmpeg:\r\n  hwaccel_args: preset-rpi-64-h264\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\nrecord:\r\n  enabled: True\r\n  events:\r\n    retain:\r\n      default: 10\r\nobjects:\r\n    track:\r\n      - person\r\n    filters:\r\n      person:\r\n        max_area: 100000\r\n        max_ratio: 0.7  \r\ncameras:\r\n  driveway:\r\n      ffmpeg:\r\n        inputs:\r\n          - path: rtsp://<redacted>@192.168.254.12:554/Streaming/Channels/103\r\n            roles:\r\n              -detect\r\n              -rtmp\r\n        hwaccel_args: preset-rpi-64-h264\r\n      rtmp:\r\n        enabled: false\r\n      detect: \r\n        width: 1280\r\n        height: 720\r\n        enabled: true\r\n      snapshots:\r\n        enabled: true\r\n        timestamp: false\r\n        bounding_box: true\r\n        crop: false\r\n        required_zones:\r\n          - lower_drive \r\n      motion:\r\n        mask:\r\n          - 407,49,404,0,22,0,22,52\r\n      record:\r\n        events:\r\n          objects:\r\n            - person\r\n            - car\r\n          required_zones:\r\n            - lower_drive    \r\n      mqtt:\r\n        required_zones:\r\n          - lower_drive \r\n      zones:\r\n        lower_drive:\r\n          coordinates: 1280,720,1280,314,969,267,685,250,326,258,226,340,0,344,0,720\r\n        road:\r\n          coordinates: 1280,0,1280,314,969,267,685,250,326,258,226,340,0,344,0,0\r\n      objects:\r\n        track:\r\n          - person\r\n          - car\r\n        # filters:\r\n        #   car:\r\n        #     min_score: 0.75\r\n        #   person:\r\n        #     min_area: 3000\r\n        #     max_area: 100000\r\n        #     min_score: 0.5\r\n        #     threshold: 0.7      \r\n  back_door:\r\n      ffmpeg:\r\n        inputs:\r\n          - path: rtsp://<redacted>@192.168.254.14:554/Streaming/Channels/103\r\n            roles:\r\n              -detect\r\n              -rtmp\r\n        hwaccel_args: preset-rpi-64-h264\r\n      rtmp:\r\n        enabled: false\r\n      detect: \r\n        width: 1280\r\n        height: 720\r\n        enabled: true\r\n      snapshots:\r\n        enabled: true\r\n        required_zones:\r\n          - upper_drive \r\n      mqtt:\r\n        required_zones:\r\n          - upper_drive         \r\n      motion:\r\n        mask:\r\n          - 407,72,407,32,22,34,27,76\r\n      record:\r\n        events:\r\n          objects:\r\n            - person\r\n            - car\r\n            - dog\r\n          required_zones:\r\n            - upper_drive \r\n      zones:\r\n        upper_drive:\r\n          coordinates: 1280,720,1280,622,1063,293,965,188,910,425,739,114,559,109,560,0,336,0,136,83,70,106,0,160,0,720\r\n          objects:\r\n            - person\r\n            - car\r\n            - dog\r\n      objects:\r\n          track:\r\n            - person\r\n            - car\r\n            - dog\r\n          filters:\r\n            person:\r\n              mask:\r\n                - 770,120,770,0,992,0,916,394\r\n  patio:\r\n      ffmpeg:\r\n        inputs:\r\n          - path: rtsp://<redacted>@192.168.254.11:554/Streaming/Channels/103\r\n            roles:\r\n              -detect\r\n              -rtmp\r\n        hwaccel_args: preset-rpi-64-h264\r\n      rtmp:\r\n        enabled: false\r\n      detect: \r\n        width: 1280\r\n        height: 720\r\n        enabled: true\r\n      snapshots:\r\n        enabled: true\r\n      motion:\r\n        mask:\r\n          - 407,49,404,0,22,0,22,52\r\n      objects:\r\n          track:\r\n            - person\r\n            - dog\r\n      zones:\r\n        lower_garden:\r\n          coordinates: 0,720,1280,720,1280,0,0,0\r\n\r\n  garage_door:\r\n      ffmpeg:\r\n        inputs:\r\n          - path: rtsp://<redacted>@192.168.254.15:554/Streaming/Channels/102\r\n            roles:\r\n              -detect\r\n              -rtmp\r\n        hwaccel_args: preset-rpi-64-h264\r\n      rtmp:\r\n        enabled: false\r\n      detect: \r\n        width: 640\r\n        height: 480\r\n        enabled: true\r\n      snapshots:\r\n        enabled: true\r\n      motion:\r\n        mask:\r\n          - 218,24,220,48,24,49,26,21        \r\n      zones:\r\n        passage:\r\n          coordinates: 0,0,0,480,640,480,640,0          \r\n  back_garden:\r\n      ffmpeg:\r\n        inputs:\r\n          - path: rtsp://<redacted>@192.168.254.6:554/Streaming/Channels/102\r\n            roles:\r\n              -detect\r\n              -rtmp\r\n        hwaccel_args: preset-rpi-64-h264\r\n      rtmp:\r\n        enabled: false\r\n      detect: \r\n        width: 640\r\n        height: 480\r\n        enabled: true\r\n      snapshots:\r\n        enabled: true\r\n      motion:\r\n        mask:\r\n          - 22,44,220,40,219,21,23,21\r\n      objects:\r\n          track:\r\n            - person\r\n            - dog\r\n      zones:\r\n        middle_garden:\r\n          coordinates: 0,480,640,480,640,0,0,0\r\n  garage:\r\n      ffmpeg:\r\n        inputs:\r\n          - path: rtsp://<redacted>@192.168.254.16:554/Streaming/Channels/102\r\n            roles:\r\n              -detect\r\n              -rtmp\r\n        hwaccel_args: preset-rpi-64-h264\r\n      rtmp:\r\n        enabled: false\r\n      detect: \r\n        width: 640\r\n        height: 480\r\n        enabled: true\r\n      snapshots:\r\n        enabled: true\r\n      zones:\r\n        garage_inside:\r\n          coordinates: 0,0,0,480,640,480,640,0\r\n      # motion:\r\n      #   mask:\r\n      #     - 0,25,204,27,209,0,0,0\n```\n\n\n### docker-compose file or Docker CLI command\n\n```yaml\nHASS Add-on.\n```\n\n\n### Relevant log output\n\n```shell\nStartup log:\r\n\r\ns6-rc: info: service s6rc-oneshot-runner: starting\r\ns6-rc: info: service s6rc-oneshot-runner successfully started\r\ns6-rc: info: service fix-attrs: starting\r\ns6-rc: info: service fix-attrs successfully started\r\ns6-rc: info: service legacy-cont-init: starting\r\ncont-init: info: running /etc/cont-init.d/prepare-logs.sh\r\ncont-init: info: /etc/cont-init.d/prepare-logs.sh exited 0\r\ns6-rc: info: service legacy-cont-init successfully started\r\ns6-rc: info: service legacy-services: starting\r\nservices-up: info: copying legacy longrun frigate (no readiness notification)\r\nservices-up: info: copying legacy longrun go2rtc (no readiness notification)\r\nservices-up: info: copying legacy longrun nginx (no readiness notification)\r\ns6-rc: info: service legacy-services successfully started\r\n2023-01-13 14:48:17.759574301  14:48:17.759 INF go2rtc version 0.1-rc.7 linux/arm64\r\n2023-01-13 14:48:17.760684651  14:48:17.760 INF [api] listen addr=:1984\r\n2023-01-13 14:48:17.761120883  14:48:17.760 INF [rtsp] listen addr=:8554\r\n2023-01-13 14:48:17.762112846  14:48:17.761 INF [webrtc] listen addr=:8555\r\n2023-01-13 14:48:17.762548968  14:48:17.762 INF [srtp] listen addr=:8443\r\n2023-01-13 14:48:22.131873800  [2023-01-13 14:48:22] frigate.app                    INFO    : Starting Frigate (0.12.0-cf2466c)\r\n2023-01-13 14:48:22.345989221  [2023-01-13 14:48:22] frigate.app                    INFO    : Creating directory: /tmp/cache\r\n2023-01-13 14:48:22.354494302  [2023-01-13 14:48:22] peewee_migrate                 INFO    : Starting migrations\r\n2023-01-13 14:48:22.372402838  [2023-01-13 14:48:22] peewee_migrate                 INFO    : There is nothing to migrate\r\n2023-01-13 14:48:22.403225780  2023/01/13 14:48:22 [error] 112#112: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.30.32.1, server: , request: \"GET /api/stats HTTP/1.1\", upstream: \"http://127.0.0.1:5001/stats\", host: \"ccab4aaf-frigate-fa-beta:5000\"\r\n2023-01-13 14:48:22.404841379  172.30.32.1 - - [13/Jan/2023:14:48:22 +0000] \"GET /api/stats HTTP/1.1\" 502 157 \"-\" \"HomeAssistant/2023.1.4 aiohttp/3.8.1 Python/3.10\" \"-\"\r\n2023-01-13 14:48:22.413522550  [2023-01-13 14:48:22] ws4py                          INFO    : Using epoll\r\n2023-01-13 14:48:22.522084631  [2023-01-13 14:48:22] frigate.app                    INFO    : Output process started: 274\r\n2023-01-13 14:48:22.537984926  [2023-01-13 14:48:22] detector.coral                 INFO    : Starting detection process: 273\r\n2023-01-13 14:48:22.542586895  [2023-01-13 14:48:22] frigate.detectors.plugins.edgetpu_tfl INFO    : Attempting to load TPU as usb\r\n2023-01-13 14:48:22.545203772  [2023-01-13 14:48:22] frigate.app                    INFO    : Camera processor started for driveway: 277\r\n2023-01-13 14:48:22.561369174  [2023-01-13 14:48:22] ws4py                          INFO    : Using epoll\r\n2023-01-13 14:48:22.563436672  [2023-01-13 14:48:22] frigate.app                    INFO    : Camera processor started for back_door: 280\r\n2023-01-13 14:48:22.580889920  [2023-01-13 14:48:22] frigate.app                    INFO    : Camera processor started for patio: 282\r\n2023-01-13 14:48:22.611780379  [2023-01-13 14:48:22] frigate.app                    INFO    : Camera processor started for garage_door: 284\r\n2023-01-13 14:48:22.659316823  [2023-01-13 14:48:22] frigate.app                    INFO    : Camera processor started for back_garden: 287\r\n2023-01-13 14:48:22.695239355  [2023-01-13 14:48:22] frigate.app                    INFO    : Camera processor started for garage: 290\r\n2023-01-13 14:48:22.732994093  [2023-01-13 14:48:22] frigate.app                    INFO    : Capture process started for driveway: 291\r\n2023-01-13 14:48:22.777330783  [2023-01-13 14:48:22] frigate.app                    INFO    : Capture process started for back_door: 295\r\n2023-01-13 14:48:22.834190793  [2023-01-13 14:48:22] frigate.app                    INFO    : Capture process started for patio: 298\r\n2023-01-13 14:48:22.893847122  [2023-01-13 14:48:22] frigate.app                    INFO    : Capture process started for garage_door: 302\r\n2023-01-13 14:48:22.993126172  [2023-01-13 14:48:22] frigate.app                    INFO    : Capture process started for back_garden: 305\r\n2023-01-13 14:48:23.089663978  [2023-01-13 14:48:23] frigate.app                    INFO    : Capture process started for garage: 313\r\n2023-01-13 14:48:24.916798526  [2023-01-13 14:48:24] frigate.detectors.plugins.edgetpu_tfl INFO    : TPU found\r\n2023-01-13 14:48:30.839611082  172.30.32.1 - - [13/Jan/2023:14:48:30 +0000] \"GET /api/stats HTTP/1.1\" 200 3242 \"-\" \"HomeAssistant/2023.1.4 aiohttp/3.8.1 Python/3.10\" \"-\"\n```\n\n\n### FFprobe output from your camera\n\n```shell\nRunning ffprobe from the system page just gives the following for all cameras:\r\n\r\n[ { \"return_code\": 1, \"stderr\": {}, \"stdout\": {} } ]\n```\n\n\n### Operating system\n\nHassOS\n\n### Install method\n\nHassOS Addon\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nHikvision DS-2CD2347G2-LU (plus others)\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5071/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5060", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5060/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5060/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5060/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5060", "id": 1531688288, "node_id": "I_kwDOCf7Pcs5bS7Vg", "number": 5060, "title": "[HW Accel Support]: FPS massively increases with HW accel, resulting in HIGHER CPU", "user": {"login": "jherby2k", "id": 9419251, "node_id": "MDQ6VXNlcjk0MTkyNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9419251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jherby2k", "html_url": "https://github.com/jherby2k", "followers_url": "https://api.github.com/users/jherby2k/followers", "following_url": "https://api.github.com/users/jherby2k/following{/other_user}", "gists_url": "https://api.github.com/users/jherby2k/gists{/gist_id}", "starred_url": "https://api.github.com/users/jherby2k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jherby2k/subscriptions", "organizations_url": "https://api.github.com/users/jherby2k/orgs", "repos_url": "https://api.github.com/users/jherby2k/repos", "events_url": "https://api.github.com/users/jherby2k/events{/privacy}", "received_events_url": "https://api.github.com/users/jherby2k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T04:20:34Z", "updated_at": "2023-01-13T13:22:20Z", "closed_at": "2023-01-13T13:22:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nTrying HW accel with 0.12 beta 3 on my raspberry pi. It works now! However, there is weirdness...\r\n\r\nBefore enabling, on the System page my cameras were all showing ~5 FPS and i was using about 3% CPU for each. After enabling HW acceleration via preset-rpi-64-h264 on the \"back_door\" camera as per below config, that camera now shows ~109 FPS for ffmpeg and \"Capture\" (whatever that is), and chewing up 29% and 86% of a CPU respectively.\r\n\r\nMy cameras stream is 30fps far as i can tell, according to VLC anyway. What gives?\r\n\r\nThanks for all your hard work!\n\n### Version\n\n0.12 beta 3\n\n### Frigate config file\n\n```yaml\nmqtt:\r\n    host: 192.168.1.2\r\n    port: 1883\r\n    user: frigate\r\n    password: <masked>\r\n\r\n\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\n\r\n\r\n#ffmpeg:\r\n#  hwaccel_args: preset-rpi-64-h264\r\n\r\n\r\ncameras:\r\n\r\n  driveway:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://192.168.2.206:80/ch0_0.264\r\n          roles:\r\n            - restream\r\n        - path: rtsp://localhost:8554/driveway\r\n          roles:\r\n            - record\r\n        - path: rtsp://192.168.2.206:80/ch0_1.264\r\n          roles:\r\n            - detect\r\n    zones:\r\n      front_yard:\r\n        coordinates: 533,360,589,263,640,128,640,61,414,38,191,43,0,360\r\n    objects:\r\n      filters:\r\n        person:\r\n          min_area: 2000\r\n\r\n  side_gate:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://192.168.2.196:80/ch0_0.264\r\n          roles:\r\n            - restream\r\n        - path: rtsp://localhost:8554/side_gate\r\n          roles:\r\n            - record\r\n        - path: rtsp://192.168.2.196:80/ch0_1.264\r\n          roles:\r\n            - detect\r\n    objects:\r\n      filters:\r\n        person:\r\n          max_area: 35000\r\n    zones:\r\n      back_yard:\r\n        coordinates: 83,360,640,360,640,59,496,7,170,100,2,195\r\n\r\n  back_door:\r\n    ffmpeg:\r\n      hwaccel_args: preset-rpi-64-h264\r\n      inputs:\r\n        - path: rtsp://192.168.2.129:80/ch0_0.264\r\n          roles:\r\n            - restream\r\n        - path: rtsp://localhost:8554/back_door\r\n          roles:\r\n            - record\r\n        - path: rtsp://192.168.2.129:80/ch0_1.264\r\n          roles:\r\n            - detect\r\n    zones:\r\n      back_yard:\r\n        coordinates: 523,0,616,61,493,284,460,276,415,325,427,360,90,360,0,294,0,0\r\n    objects:\r\n      filters:\r\n        person:\r\n          min_area: 20000\r\n          max_area: 100000\r\n          mask:\r\n            - 407,92,424,37,477,21,521,45,513,112,497,145,467,221,421,211,403,247,355,235,376,163,369,152\r\n        cat:\r\n          max_area: 20000\r\n\r\n\r\n#motion:\r\n#  improve_contrast: True\r\n\r\n\r\ndetect:\r\n  width: 640\r\n  height: 360\r\n  fps: 5\r\n\r\n\r\nobjects:\r\n  track:\r\n    - person\r\n    - cat\r\n\r\n\r\nrecord:\r\n  enabled: True\r\n  events:\r\n    required_zones:\r\n      - front_yard\r\n      - back_yard\r\n\r\n\r\nsnapshots:\r\n  enabled: True\r\n  required_zones:\r\n    - front_yard\r\n    - back_yard\r\n\r\n\r\n#live:\r\n#  height: 360\r\n\r\n  \r\nbirdseye:\r\n  width: 640\r\n  height: 360\n```\n\n\n### docker-compose file or Docker CLI command\n\n```yaml\nHA addon\n```\n\n\n### Relevant log output\n\n```shell\nnot sure anything is relevant\n```\n\n\n### FFprobe output from your camera\n\n```shell\n\"[\\n  {\\n    \\\"return_code\\\": 1,\\n    \\\"stderr\\\": {},\\n    \\\"stdout\\\": {}\\n  },\\n  {\\n    \\\"return_code\\\": 1,\\n    \\\"stderr\\\": {},\\n    \\\"stdout\\\": {}\\n  },\\n  {\\n    \\\"return_code\\\": 1,\\n    \\\"stderr\\\": {},\\n    \\\"stdout\\\": {}\\n  }\\n]\"\n```\n\n\n### Operating system\n\nHassOS\n\n### Install method\n\nHassOS Addon\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nunknown / generic\n\n### Any other information that may be helpful\n\nIssue may have existed before 0.12 beta 3 but i didn't have working HWaccel until now.", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5020", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5020/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5020/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5020/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/5020", "id": 1529085103, "node_id": "I_kwDOCf7Pcs5bI_yv", "number": 5020, "title": "[Config Support]: #backchannel=0 argument isn't being passed to go2rtc", "user": {"login": "conorlap", "id": 57415184, "node_id": "MDQ6VXNlcjU3NDE1MTg0", "avatar_url": "https://avatars.githubusercontent.com/u/57415184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/conorlap", "html_url": "https://github.com/conorlap", "followers_url": "https://api.github.com/users/conorlap/followers", "following_url": "https://api.github.com/users/conorlap/following{/other_user}", "gists_url": "https://api.github.com/users/conorlap/gists{/gist_id}", "starred_url": "https://api.github.com/users/conorlap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/conorlap/subscriptions", "organizations_url": "https://api.github.com/users/conorlap/orgs", "repos_url": "https://api.github.com/users/conorlap/repos", "events_url": "https://api.github.com/users/conorlap/events{/privacy}", "received_events_url": "https://api.github.com/users/conorlap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2023-01-11T13:51:27Z", "updated_at": "2023-02-27T23:02:01Z", "closed_at": "2023-01-11T23:21:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nLooks like the #backchannel=0 argument isn't being passed to go2rtc from the Frigate config file. \r\nI've even added ' ' around the input as I'm aware that Frigate sees # as comments.\r\n\r\nThis is causing my doorbell button press to not work. \n\n### Version\n\n0.12.0-0dbf909\n\n### Frigate config file\n\n```yaml\ncameras:\r\n  frontdoor:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: 'rtsp://admin:supersecretpassword@192.168.0.25:554/cam/realmonitor?channel=1&subtype=0&#backchannel=0'\r\n          roles:\r\n            - restream\r\n        - path: rtsp://localhost:8554/frontdoor\r\n          roles:\r\n            - record\n```\n\n\n### Relevant log output\n\n```shell\nN/A\n```\n\n\n### Frigate stats\n\n_No response_\n\n### Operating system\n\nDebian\n\n### Install method\n\nDocker Compose\n\n### Coral version\n\nCPU (no coral)\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/5020/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4972", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4972/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4972/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4972/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/4972", "id": 1525333755, "node_id": "I_kwDOCf7Pcs5a6r77", "number": 4972, "title": "[Support]: Zone 'None' empty", "user": {"login": "Chris18284", "id": 117124485, "node_id": "U_kgDOBvsthQ", "avatar_url": "https://avatars.githubusercontent.com/u/117124485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chris18284", "html_url": "https://github.com/Chris18284", "followers_url": "https://api.github.com/users/Chris18284/followers", "following_url": "https://api.github.com/users/Chris18284/following{/other_user}", "gists_url": "https://api.github.com/users/Chris18284/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chris18284/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chris18284/subscriptions", "organizations_url": "https://api.github.com/users/Chris18284/orgs", "repos_url": "https://api.github.com/users/Chris18284/repos", "events_url": "https://api.github.com/users/Chris18284/events{/privacy}", "received_events_url": "https://api.github.com/users/Chris18284/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4985745142, "node_id": "LA_kwDOCf7Pcs8AAAABKSxu9g", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/beta", "name": "beta", "color": "D4C5F9", "default": false, "description": "Related to the current beta version of frigate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-09T10:47:02Z", "updated_at": "2023-01-10T01:44:27Z", "closed_at": "2023-01-10T01:44:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nIf I select to display zone 'None' only then I get an empty list.\r\n\r\n![img](https://user-images.githubusercontent.com/117124485/211290724-8c282cea-edd5-41c7-a9e8-66bb37a3a6e6.png)\r\n\r\n\r\n### Version\r\n\r\n0.12.0-0DBF909\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\n-\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n-\r\n```\r\n\r\n\r\n### FFprobe output from your camera\r\n\r\n```shell\r\n-\r\n```\r\n\r\n\r\n### Frigate stats\r\n\r\n_No response_\r\n\r\n### Operating system\r\n\r\nProxmox\r\n\r\n### Install method\r\n\r\nDocker Compose\r\n\r\n### Coral version\r\n\r\nUSB\r\n\r\n### Network connection\r\n\r\nWired\r\n\r\n### Camera make and model\r\n\r\n_No response_\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4769", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4769/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4769/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4769/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/4769", "id": 1506944350, "node_id": "I_kwDOCf7Pcs5Z0iVe", "number": 4769, "title": "[Support]: Tmpfs filling up", "user": {"login": "brenank", "id": 3655978, "node_id": "MDQ6VXNlcjM2NTU5Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3655978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brenank", "html_url": "https://github.com/brenank", "followers_url": "https://api.github.com/users/brenank/followers", "following_url": "https://api.github.com/users/brenank/following{/other_user}", "gists_url": "https://api.github.com/users/brenank/gists{/gist_id}", "starred_url": "https://api.github.com/users/brenank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brenank/subscriptions", "organizations_url": "https://api.github.com/users/brenank/orgs", "repos_url": "https://api.github.com/users/brenank/repos", "events_url": "https://api.github.com/users/brenank/events{/privacy}", "received_events_url": "https://api.github.com/users/brenank/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-21T21:40:21Z", "updated_at": "2023-01-27T12:16:42Z", "closed_at": "2023-01-27T12:16:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nIt appears `nginx` is holding on to file descriptors of deleted files from `/tmp/cache`.  The video files are deleted properly by cleanup process.  These commands were both run inside frigate docker container:\r\n```\r\nroot@713cdeb83c1a:/opt/frigate# df\r\nFilesystem           1K-blocks      Used  Available Use% Mounted on\r\n...\r\ntmpfs                   976564    974772       1792 100% /tmp/cache\r\n```\r\n\r\n```\r\nroot@713cdeb83c1a:/opt/frigate# lsof -n | grep /tmp |grep deleted\r\nCOMMAND      PID    TID TASKCMD   USER   FD      TYPE             DEVICE  SIZE/OFF       NODE NAME\r\nnginx        204                  root    3r      REG              0,111  41148932   68555284 /tmp/cache/clip_camera3_1671482140.074879-1671482173.064958.mp4 (deleted)\r\nnginx        204                  root   16r      REG              0,111   8244787   60969880 /tmp/cache/clip_camera3_1671407873.177816-1671407899.721593.mp4 (deleted)\r\nnginx        204                  root   17r      REG              0,111  33733275   60972176 /tmp/cache/clip_camera3_1671407882.855535-1671407901.388702.mp4 (deleted)\r\nnginx        204                  root   18r      REG              0,111   4675779   60976580 /tmp/cache/clip_camera4_1671407915.753543-1671407933.237056.mp4 (deleted)\r\nnginx        204                  root   19r      REG              0,111   4081561   61054691 /tmp/cache/clip_camera4_1671408727.24728-1671408745.254694.mp4 (deleted)\r\nnginx        204                  root   20r      REG              0,111  33156144   61058310 /tmp/cache/clip_camera3_1671408733.657565-1671408750.857436.mp4 (deleted)\r\nnginx        204                  root   21r      REG              0,111   5856886   61045706 /tmp/cache/clip_camera4_1671408742.264742-1671408760.788583.mp4 (deleted)\r\nnginx        204                  root   22r      REG              0,111   9395917   67556199 /tmp/cache/clip_camera4_1671471900.842286-1671471930.342307.mp4 (deleted)\r\nnginx        204                  root   23r      REG              0,111  76692182   67567680 /tmp/cache/clip_camera3_1671471888.090937-1671471936.054597.mp4 (deleted)\r\nnginx        204                  root   24r      REG              0,111   5705961   67571101 /tmp/cache/clip_camera4_1671471958.382693-1671471976.391489.mp4 (deleted)\r\nnginx        204                  root   25r      REG              0,111  41236466   68550031 /tmp/cache/clip_camera3_1671482057.867232-1671482095.864977.mp4 (deleted)\r\nnginx        204                  root   26r      REG              0,111  38023321   68566044 /tmp/cache/clip_camera3_1671482104.071115-1671482134.874821.mp4 (deleted)\r\nnginx        204                  root   27r      REG              0,111  89656744   68565408 /tmp/cache/clip_camera3_1671482104.071115-1671482172.06526.mp4 (deleted)\r\nnginx        204                  root   28r      REG              0,111 444780544   70156687 /tmp/cache/clip_camera3_1671496574.894597-1671498919.369286.mp4 (deleted)\r\nnginx        204                  root   30r      REG              0,111   2625536   75421264 /tmp/cache/clip_camera4_1671557809.121597-1671557997.338296.mp4 (deleted)\r\nnginx        204                  root   31r      REG              0,111  19795557   76069208 /tmp/cache/clip_camera3_1671565269.34071-1671565548.326197.mp4 (deleted)\r\nnginx        204                  root   32r      REG              0,111   4977863   76065493 /tmp/cache/clip_camera4_1671565515.144736-1671565572.682227.mp4 (deleted)\r\nnginx        204                  root   33r      REG              0,111   5588591   76095401 /tmp/cache/clip_camera4_1671565748.923401-1671565787.473943.mp4 (deleted)\r\nnginx        204                  root   34r      REG              0,111   3072000   76169786 /tmp/cache/clip_camera4_1671566405.729715-1671566434.747194.mp4 (deleted)\r\nnginx        204                  root   59r      REG              0,111  16584607   60031875 /tmp/cache/clip_camera2_1671397420.909568-1671397437.377516.mp4 (deleted)\r\nnginx        204                  root   60r      REG              0,111  38108689   60300272 /tmp/cache/clip_camera3_1671400997.113153-1671401023.383602.mp4 (deleted)\r\nnginx        204                  root   61r      REG              0,111   7631830   60342447 /tmp/cache/clip_camera4_1671401006.70189-1671401032.721981.mp4 (deleted)\r\nnginx        204                  root   62r      REG              0,111  36613890   60338865 /tmp/cache/clip_camera3_1671401016.846579-1671401044.846351.mp4 (deleted)\r\nnginx        204                  root   63r      REG              0,111  25954921   60971192 /tmp/cache/clip_camera3_1671407867.858575-1671407887.856776.mp4 (deleted)\r\n```\r\n\r\nRestarting the frigate container from this state resolves the issue.\r\n\r\n### Version\r\n\r\n0.11.1-2EADA21\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\n{\r\n  \"birdseye\": {\r\n    \"enabled\": true,\r\n    \"height\": 720,\r\n    \"mode\": \"objects\",\r\n    \"quality\": 8,\r\n    \"width\": 1280\r\n  },\r\n  \"cameras\": {\r\n    \"camera1\": {\r\n      \"best_image_timeout\": 60,\r\n      \"birdseye\": {\r\n        \"enabled\": true,\r\n        \"mode\": \"objects\"\r\n      },\r\n      \"detect\": {\r\n        \"enabled\": true,\r\n        \"fps\": 4,\r\n        \"height\": 480,\r\n        \"max_disappeared\": 20,\r\n        \"stationary\": {\r\n          \"interval\": 0,\r\n          \"max_frames\": {\r\n            \"default\": null,\r\n            \"objects\": {}\r\n          },\r\n          \"threshold\": 40\r\n        },\r\n        \"width\": 640\r\n      },\r\n      \"ffmpeg\": {\r\n        \"global_args\": [\r\n          \"-hide_banner\",\r\n          \"-loglevel\",\r\n          \"warning\"\r\n        ],\r\n        \"hwaccel_args\": \"-c:v h264_cuvid\",\r\n        \"input_args\": \"-avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1\",\r\n        \"inputs\": [\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"record\"\r\n            ]\r\n          },\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"detect\",\r\n              \"rtmp\"\r\n            ]\r\n          }\r\n        ],\r\n        \"output_args\": {\r\n          \"detect\": [\r\n            \"-f\",\r\n            \"rawvideo\",\r\n            \"-pix_fmt\",\r\n            \"yuv420p\"\r\n          ],\r\n          \"record\": \"-f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v copy -c:a aac\",\r\n          \"rtmp\": [\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-f\",\r\n            \"flv\"\r\n          ]\r\n        }\r\n      },\r\n      \"ffmpeg_cmds\": [\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"record\"\r\n          ]\r\n        },\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"detect\",\r\n            \"rtmp\"\r\n          ]\r\n        }\r\n      ],\r\n      \"live\": {\r\n        \"height\": 720,\r\n        \"quality\": 8\r\n      },\r\n      \"motion\": {\r\n        \"contour_area\": 30,\r\n        \"delta_alpha\": 0.2,\r\n        \"frame_alpha\": 0.2,\r\n        \"frame_height\": 50,\r\n        \"improve_contrast\": false,\r\n        \"mask\": [\r\n          \"82,91,101,0,0,0,0,480,84,480\",\r\n          \"640,0,640,184,222,0\",\r\n          \"504,211,567,253,573,211,566,178,518,169\"\r\n        ],\r\n        \"mqtt_off_delay\": 30,\r\n        \"threshold\": 25\r\n      },\r\n      \"mqtt\": {\r\n        \"bounding_box\": true,\r\n        \"crop\": true,\r\n        \"enabled\": true,\r\n        \"height\": 270,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"timestamp\": true\r\n      },\r\n      \"name\": \"camera1\",\r\n      \"objects\": {\r\n        \"filters\": {\r\n          \"cat\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cow\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"dog\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.8\r\n          },\r\n          \"horse\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"person\": {\r\n            \"mask\": [\r\n              \"0,0,0,480,77,480,83,103,100,0\",\r\n              \"341,0,640,0,640,96\"\r\n            ],\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"sheep\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          }\r\n        },\r\n        \"mask\": \"\",\r\n        \"track\": [\r\n          \"person\",\r\n          \"cat\",\r\n          \"dog\",\r\n          \"horse\",\r\n          \"sheep\",\r\n          \"cow\"\r\n        ]\r\n      },\r\n      \"record\": {\r\n        \"enabled\": true,\r\n        \"events\": {\r\n          \"objects\": null,\r\n          \"post_capture\": 5,\r\n          \"pre_capture\": 5,\r\n          \"required_zones\": [\r\n            \"backyard\"\r\n          ],\r\n          \"retain\": {\r\n            \"default\": 10,\r\n            \"mode\": \"motion\",\r\n            \"objects\": {\r\n              \"bear\": 1,\r\n              \"car\": 3,\r\n              \"cat\": 1,\r\n              \"cow\": 1,\r\n              \"dog\": 1,\r\n              \"horse\": 1,\r\n              \"person\": 15,\r\n              \"sheep\": 1\r\n            }\r\n          }\r\n        },\r\n        \"expire_interval\": 60,\r\n        \"retain\": {\r\n          \"days\": 2,\r\n          \"mode\": \"all\"\r\n        },\r\n        \"retain_days\": null\r\n      },\r\n      \"rtmp\": {\r\n        \"enabled\": true\r\n      },\r\n      \"snapshots\": {\r\n        \"bounding_box\": true,\r\n        \"clean_copy\": true,\r\n        \"crop\": false,\r\n        \"enabled\": true,\r\n        \"height\": null,\r\n        \"quality\": 70,\r\n        \"required_zones\": [\r\n          \"backyard\"\r\n        ],\r\n        \"retain\": {\r\n          \"default\": 10,\r\n          \"mode\": \"motion\",\r\n          \"objects\": {\r\n            \"bear\": 1,\r\n            \"car\": 3,\r\n            \"cat\": 1,\r\n            \"cow\": 1,\r\n            \"dog\": 1,\r\n            \"horse\": 1,\r\n            \"person\": 15,\r\n            \"sheep\": 1\r\n          }\r\n        },\r\n        \"timestamp\": false\r\n      },\r\n      \"timestamp_style\": {\r\n        \"color\": {\r\n          \"blue\": 255,\r\n          \"green\": 255,\r\n          \"red\": 255\r\n        },\r\n        \"effect\": null,\r\n        \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n        \"position\": \"tl\",\r\n        \"thickness\": 2\r\n      },\r\n      \"ui\": {\r\n        \"dashboard\": true,\r\n        \"order\": 0\r\n      },\r\n      \"zones\": {\r\n        \"backyard\": {\r\n          \"coordinates\": \"173,37,640,263,640,480,99,480,77,280,93,40\",\r\n          \"filters\": {},\r\n          \"objects\": []\r\n        }\r\n      }\r\n    },\r\n    \"camera2\": {\r\n      \"best_image_timeout\": 60,\r\n      \"birdseye\": {\r\n        \"enabled\": true,\r\n        \"mode\": \"objects\"\r\n      },\r\n      \"detect\": {\r\n        \"enabled\": true,\r\n        \"fps\": 2,\r\n        \"height\": 480,\r\n        \"max_disappeared\": 10,\r\n        \"stationary\": {\r\n          \"interval\": 0,\r\n          \"max_frames\": {\r\n            \"default\": null,\r\n            \"objects\": {}\r\n          },\r\n          \"threshold\": 20\r\n        },\r\n        \"width\": 704\r\n      },\r\n      \"ffmpeg\": {\r\n        \"global_args\": [\r\n          \"-hide_banner\",\r\n          \"-loglevel\",\r\n          \"warning\"\r\n        ],\r\n        \"hwaccel_args\": \"-c:v h264_cuvid\",\r\n        \"input_args\": \"-avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1\",\r\n        \"inputs\": [\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"record\"\r\n            ]\r\n          },\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"rtmp\",\r\n              \"detect\"\r\n            ]\r\n          }\r\n        ],\r\n        \"output_args\": {\r\n          \"detect\": [\r\n            \"-f\",\r\n            \"rawvideo\",\r\n            \"-pix_fmt\",\r\n            \"yuv420p\"\r\n          ],\r\n          \"record\": \"-f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v copy -c:a aac\",\r\n          \"rtmp\": [\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-f\",\r\n            \"flv\"\r\n          ]\r\n        }\r\n      },\r\n      \"ffmpeg_cmds\": [\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"record\"\r\n          ]\r\n        },\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"rtmp\",\r\n            \"detect\"\r\n          ]\r\n        }\r\n      ],\r\n      \"live\": {\r\n        \"height\": 720,\r\n        \"quality\": 8\r\n      },\r\n      \"motion\": {\r\n        \"contour_area\": 30,\r\n        \"delta_alpha\": 0.2,\r\n        \"frame_alpha\": 0.2,\r\n        \"frame_height\": 50,\r\n        \"improve_contrast\": false,\r\n        \"mask\": [\r\n          \"650,0,649,73,525,64,0,42,0,0\"\r\n        ],\r\n        \"mqtt_off_delay\": 30,\r\n        \"threshold\": 25\r\n      },\r\n      \"mqtt\": {\r\n        \"bounding_box\": true,\r\n        \"crop\": true,\r\n        \"enabled\": true,\r\n        \"height\": 270,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"timestamp\": true\r\n      },\r\n      \"name\": \"camera2\",\r\n      \"objects\": {\r\n        \"filters\": {\r\n          \"bear\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cat\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cow\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"dog\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.8\r\n          },\r\n          \"horse\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"person\": {\r\n            \"mask\": [\r\n              \"704,0,704,480,599,480,677,166,651,0\"\r\n            ],\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"sheep\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          }\r\n        },\r\n        \"mask\": \"\",\r\n        \"track\": [\r\n          \"person\",\r\n          \"cat\",\r\n          \"dog\",\r\n          \"horse\",\r\n          \"sheep\",\r\n          \"cow\",\r\n          \"bear\"\r\n        ]\r\n      },\r\n      \"record\": {\r\n        \"enabled\": true,\r\n        \"events\": {\r\n          \"objects\": null,\r\n          \"post_capture\": 5,\r\n          \"pre_capture\": 5,\r\n          \"required_zones\": [\r\n            \"backyard\"\r\n          ],\r\n          \"retain\": {\r\n            \"default\": 10,\r\n            \"mode\": \"motion\",\r\n            \"objects\": {\r\n              \"bear\": 1,\r\n              \"car\": 3,\r\n              \"cat\": 1,\r\n              \"cow\": 1,\r\n              \"dog\": 1,\r\n              \"horse\": 1,\r\n              \"person\": 15,\r\n              \"sheep\": 1\r\n            }\r\n          }\r\n        },\r\n        \"expire_interval\": 60,\r\n        \"retain\": {\r\n          \"days\": 2,\r\n          \"mode\": \"all\"\r\n        },\r\n        \"retain_days\": null\r\n      },\r\n      \"rtmp\": {\r\n        \"enabled\": true\r\n      },\r\n      \"snapshots\": {\r\n        \"bounding_box\": true,\r\n        \"clean_copy\": true,\r\n        \"crop\": false,\r\n        \"enabled\": true,\r\n        \"height\": null,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"retain\": {\r\n          \"default\": 10,\r\n          \"mode\": \"motion\",\r\n          \"objects\": {\r\n            \"bear\": 1,\r\n            \"car\": 3,\r\n            \"cat\": 1,\r\n            \"cow\": 1,\r\n            \"dog\": 1,\r\n            \"horse\": 1,\r\n            \"person\": 15,\r\n            \"sheep\": 1\r\n          }\r\n        },\r\n        \"timestamp\": false\r\n      },\r\n      \"timestamp_style\": {\r\n        \"color\": {\r\n          \"blue\": 255,\r\n          \"green\": 255,\r\n          \"red\": 255\r\n        },\r\n        \"effect\": null,\r\n        \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n        \"position\": \"tl\",\r\n        \"thickness\": 2\r\n      },\r\n      \"ui\": {\r\n        \"dashboard\": true,\r\n        \"order\": 0\r\n      },\r\n      \"zones\": {\r\n        \"backyard\": {\r\n          \"coordinates\": \"578,480,0,480,0,0,654,0,634,293\",\r\n          \"filters\": {},\r\n          \"objects\": []\r\n        }\r\n      }\r\n    },\r\n    \"camera3\": {\r\n      \"best_image_timeout\": 60,\r\n      \"birdseye\": {\r\n        \"enabled\": true,\r\n        \"mode\": \"objects\"\r\n      },\r\n      \"detect\": {\r\n        \"enabled\": true,\r\n        \"fps\": 2,\r\n        \"height\": 720,\r\n        \"max_disappeared\": 10,\r\n        \"stationary\": {\r\n          \"interval\": 0,\r\n          \"max_frames\": {\r\n            \"default\": null,\r\n            \"objects\": {}\r\n          },\r\n          \"threshold\": 20\r\n        },\r\n        \"width\": 1280\r\n      },\r\n      \"ffmpeg\": {\r\n        \"global_args\": [\r\n          \"-hide_banner\",\r\n          \"-loglevel\",\r\n          \"warning\"\r\n        ],\r\n        \"hwaccel_args\": \"-c:v h264_cuvid\",\r\n        \"input_args\": \"-avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1\",\r\n        \"inputs\": [\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"detect\",\r\n              \"rtmp\"\r\n            ]\r\n          },\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"record\"\r\n            ]\r\n          }\r\n        ],\r\n        \"output_args\": {\r\n          \"detect\": [\r\n            \"-f\",\r\n            \"rawvideo\",\r\n            \"-pix_fmt\",\r\n            \"yuv420p\"\r\n          ],\r\n          \"record\": \"-f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v copy -c:a aac\",\r\n          \"rtmp\": [\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-f\",\r\n            \"flv\"\r\n          ]\r\n        }\r\n      },\r\n      \"ffmpeg_cmds\": [\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"detect\",\r\n            \"rtmp\"\r\n          ]\r\n        },\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"record\"\r\n          ]\r\n        }\r\n      ],\r\n      \"live\": {\r\n        \"height\": 720,\r\n        \"quality\": 8\r\n      },\r\n      \"motion\": {\r\n        \"contour_area\": 30,\r\n        \"delta_alpha\": 0.2,\r\n        \"frame_alpha\": 0.2,\r\n        \"frame_height\": 50,\r\n        \"improve_contrast\": false,\r\n        \"mask\": [\r\n          \"0,256,278,74,862,0,0,0\",\r\n          \"870,66,1237,63,1231,22,876,21\"\r\n        ],\r\n        \"mqtt_off_delay\": 30,\r\n        \"threshold\": 25\r\n      },\r\n      \"mqtt\": {\r\n        \"bounding_box\": true,\r\n        \"crop\": true,\r\n        \"enabled\": true,\r\n        \"height\": 270,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"timestamp\": true\r\n      },\r\n      \"name\": \"camera3\",\r\n      \"objects\": {\r\n        \"filters\": {\r\n          \"bear\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"car\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cat\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cow\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"dog\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"horse\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"person\": {\r\n            \"mask\": [\r\n              \"0,0,438,0,340,28,229,24,0,147\"\r\n            ],\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"sheep\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          }\r\n        },\r\n        \"mask\": \"\",\r\n        \"track\": [\r\n          \"person\",\r\n          \"car\",\r\n          \"cat\",\r\n          \"dog\",\r\n          \"horse\",\r\n          \"sheep\",\r\n          \"cow\",\r\n          \"bear\"\r\n        ]\r\n      },\r\n      \"record\": {\r\n        \"enabled\": true,\r\n        \"events\": {\r\n          \"objects\": [\r\n            \"person\",\r\n            \"cat\",\r\n            \"dog\",\r\n            \"horse\",\r\n            \"sheep\",\r\n            \"cow\",\r\n            \"bear\"\r\n          ],\r\n          \"post_capture\": 5,\r\n          \"pre_capture\": 5,\r\n          \"required_zones\": [],\r\n          \"retain\": {\r\n            \"default\": 10,\r\n            \"mode\": \"motion\",\r\n            \"objects\": {\r\n              \"bear\": 1,\r\n              \"car\": 3,\r\n              \"cat\": 1,\r\n              \"cow\": 1,\r\n              \"dog\": 1,\r\n              \"horse\": 1,\r\n              \"person\": 15,\r\n              \"sheep\": 1\r\n            }\r\n          }\r\n        },\r\n        \"expire_interval\": 60,\r\n        \"retain\": {\r\n          \"days\": 2,\r\n          \"mode\": \"all\"\r\n        },\r\n        \"retain_days\": null\r\n      },\r\n      \"rtmp\": {\r\n        \"enabled\": true\r\n      },\r\n      \"snapshots\": {\r\n        \"bounding_box\": true,\r\n        \"clean_copy\": true,\r\n        \"crop\": false,\r\n        \"enabled\": true,\r\n        \"height\": null,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"retain\": {\r\n          \"default\": 10,\r\n          \"mode\": \"motion\",\r\n          \"objects\": {\r\n            \"bear\": 1,\r\n            \"car\": 3,\r\n            \"cat\": 1,\r\n            \"cow\": 1,\r\n            \"dog\": 1,\r\n            \"horse\": 1,\r\n            \"person\": 15,\r\n            \"sheep\": 1\r\n          }\r\n        },\r\n        \"timestamp\": false\r\n      },\r\n      \"timestamp_style\": {\r\n        \"color\": {\r\n          \"blue\": 255,\r\n          \"green\": 255,\r\n          \"red\": 255\r\n        },\r\n        \"effect\": null,\r\n        \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n        \"position\": \"tl\",\r\n        \"thickness\": 2\r\n      },\r\n      \"ui\": {\r\n        \"dashboard\": true,\r\n        \"order\": 0\r\n      },\r\n      \"zones\": {\r\n        \"porch\": {\r\n          \"coordinates\": \"0,720,1280,720,1280,0,1010,0,999,271,712,224,518,194,202,199,0,310\",\r\n          \"filters\": {},\r\n          \"objects\": [\r\n            \"person\"\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    \"camera4\": {\r\n      \"best_image_timeout\": 60,\r\n      \"birdseye\": {\r\n        \"enabled\": true,\r\n        \"mode\": \"objects\"\r\n      },\r\n      \"detect\": {\r\n        \"enabled\": true,\r\n        \"fps\": 4,\r\n        \"height\": 480,\r\n        \"max_disappeared\": 20,\r\n        \"stationary\": {\r\n          \"interval\": 0,\r\n          \"max_frames\": {\r\n            \"default\": null,\r\n            \"objects\": {}\r\n          },\r\n          \"threshold\": 40\r\n        },\r\n        \"width\": 640\r\n      },\r\n      \"ffmpeg\": {\r\n        \"global_args\": [\r\n          \"-hide_banner\",\r\n          \"-loglevel\",\r\n          \"warning\"\r\n        ],\r\n        \"hwaccel_args\": \"-c:v h264_cuvid\",\r\n        \"input_args\": \"-avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1\",\r\n        \"inputs\": [\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"record\"\r\n            ]\r\n          },\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"OMITTED\",\r\n            \"roles\": [\r\n              \"detect\",\r\n              \"rtmp\"\r\n            ]\r\n          }\r\n        ],\r\n        \"output_args\": {\r\n          \"detect\": [\r\n            \"-f\",\r\n            \"rawvideo\",\r\n            \"-pix_fmt\",\r\n            \"yuv420p\"\r\n          ],\r\n          \"record\": \"-f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v copy -c:a aac\",\r\n          \"rtmp\": [\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-f\",\r\n            \"flv\"\r\n          ]\r\n        }\r\n      },\r\n      \"ffmpeg_cmds\": [\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"record\"\r\n          ]\r\n        },\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -c:v h264_cuvid -avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 -i OMITTED\",\r\n          \"roles\": [\r\n            \"detect\",\r\n            \"rtmp\"\r\n          ]\r\n        }\r\n      ],\r\n      \"live\": {\r\n        \"height\": 720,\r\n        \"quality\": 8\r\n      },\r\n      \"motion\": {\r\n        \"contour_area\": 30,\r\n        \"delta_alpha\": 0.2,\r\n        \"frame_alpha\": 0.2,\r\n        \"frame_height\": 50,\r\n        \"improve_contrast\": false,\r\n        \"mask\": [\r\n          \"640,0,640,55,319,33,0,106,0,31,0,0\"\r\n        ],\r\n        \"mqtt_off_delay\": 30,\r\n        \"threshold\": 25\r\n      },\r\n      \"mqtt\": {\r\n        \"bounding_box\": true,\r\n        \"crop\": true,\r\n        \"enabled\": true,\r\n        \"height\": 270,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"timestamp\": true\r\n      },\r\n      \"name\": \"camera4\",\r\n      \"objects\": {\r\n        \"filters\": {\r\n          \"bear\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"car\": {\r\n            \"mask\": [\r\n              \"640,0,640,62,369,20,138,42,0,81,0,0\",\r\n              \"495,480,532,232,640,227,638,480\"\r\n            ],\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cat\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"cow\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"dog\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"horse\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"person\": {\r\n            \"mask\": [\r\n              \"0,18,490,48,640,50,640,1,0,0\"\r\n            ],\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          },\r\n          \"sheep\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"max_ratio\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_ratio\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          }\r\n        },\r\n        \"mask\": \"\",\r\n        \"track\": [\r\n          \"person\",\r\n          \"car\",\r\n          \"cat\",\r\n          \"dog\",\r\n          \"horse\",\r\n          \"sheep\",\r\n          \"cow\",\r\n          \"bear\"\r\n        ]\r\n      },\r\n      \"record\": {\r\n        \"enabled\": true,\r\n        \"events\": {\r\n          \"objects\": null,\r\n          \"post_capture\": 5,\r\n          \"pre_capture\": 5,\r\n          \"required_zones\": [\r\n            \"property\",\r\n            \"street\",\r\n            \"driveway_entrance\"\r\n          ],\r\n          \"retain\": {\r\n            \"default\": 10,\r\n            \"mode\": \"motion\",\r\n            \"objects\": {\r\n              \"bear\": 1,\r\n              \"car\": 3,\r\n              \"cat\": 1,\r\n              \"cow\": 1,\r\n              \"dog\": 1,\r\n              \"horse\": 1,\r\n              \"person\": 15,\r\n              \"sheep\": 1\r\n            }\r\n          }\r\n        },\r\n        \"expire_interval\": 60,\r\n        \"retain\": {\r\n          \"days\": 2,\r\n          \"mode\": \"all\"\r\n        },\r\n        \"retain_days\": null\r\n      },\r\n      \"rtmp\": {\r\n        \"enabled\": true\r\n      },\r\n      \"snapshots\": {\r\n        \"bounding_box\": true,\r\n        \"clean_copy\": true,\r\n        \"crop\": false,\r\n        \"enabled\": true,\r\n        \"height\": null,\r\n        \"quality\": 70,\r\n        \"required_zones\": [\r\n          \"property\",\r\n          \"street\",\r\n          \"driveway_entrance\"\r\n        ],\r\n        \"retain\": {\r\n          \"default\": 10,\r\n          \"mode\": \"motion\",\r\n          \"objects\": {\r\n            \"bear\": 1,\r\n            \"car\": 3,\r\n            \"cat\": 1,\r\n            \"cow\": 1,\r\n            \"dog\": 1,\r\n            \"horse\": 1,\r\n            \"person\": 15,\r\n            \"sheep\": 1\r\n          }\r\n        },\r\n        \"timestamp\": false\r\n      },\r\n      \"timestamp_style\": {\r\n        \"color\": {\r\n          \"blue\": 255,\r\n          \"green\": 255,\r\n          \"red\": 255\r\n        },\r\n        \"effect\": null,\r\n        \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n        \"position\": \"tl\",\r\n        \"thickness\": 2\r\n      },\r\n      \"ui\": {\r\n        \"dashboard\": true,\r\n        \"order\": 0\r\n      },\r\n      \"zones\": {\r\n        \"driveway\": {\r\n          \"coordinates\": \"467,480,521,249,448,125,265,114,0,306,0,480\",\r\n          \"filters\": {},\r\n          \"objects\": [\r\n            \"person\",\r\n            \"car\"\r\n          ]\r\n        },\r\n        \"driveway_entrance\": {\r\n          \"coordinates\": \"448,139,429,111,346,96,299,104,259,123\",\r\n          \"filters\": {},\r\n          \"objects\": [\r\n            \"person\",\r\n            \"car\"\r\n          ]\r\n        },\r\n        \"property\": {\r\n          \"coordinates\": \"435,118,481,127,530,176,624,258,626,121,640,120,640,480,0,480,0,61,174,65,249,122,310,100\",\r\n          \"filters\": {},\r\n          \"objects\": [\r\n            \"person\",\r\n            \"cat\",\r\n            \"dog\",\r\n            \"horse\",\r\n            \"sheep\",\r\n            \"cow\",\r\n            \"bear\"\r\n          ]\r\n        },\r\n        \"street\": {\r\n          \"coordinates\": \"597,92,396,83,359,93,408,108,598,119\",\r\n          \"filters\": {},\r\n          \"objects\": [\r\n            \"person\",\r\n            \"car\"\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"database\": {\r\n    \"path\": \"/media/frigate/frigate.db\"\r\n  },\r\n  \"detect\": {\r\n    \"enabled\": true,\r\n    \"fps\": 5,\r\n    \"height\": 720,\r\n    \"max_disappeared\": null,\r\n    \"stationary\": {\r\n      \"interval\": 0,\r\n      \"max_frames\": {\r\n        \"default\": null,\r\n        \"objects\": {}\r\n      },\r\n      \"threshold\": null\r\n    },\r\n    \"width\": 1280\r\n  },\r\n  \"detectors\": {\r\n    \"coral1\": {\r\n      \"device\": \"usb\",\r\n      \"num_threads\": 3,\r\n      \"type\": \"edgetpu\"\r\n    }\r\n  },\r\n  \"environment_vars\": {},\r\n  \"ffmpeg\": {\r\n    \"global_args\": [\r\n      \"-hide_banner\",\r\n      \"-loglevel\",\r\n      \"warning\"\r\n    ],\r\n    \"hwaccel_args\": \"-c:v h264_cuvid\",\r\n    \"input_args\": \"-avoid_negative_ts make_zero -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1\",\r\n    \"output_args\": {\r\n      \"detect\": [\r\n        \"-f\",\r\n        \"rawvideo\",\r\n        \"-pix_fmt\",\r\n        \"yuv420p\"\r\n      ],\r\n      \"record\": \"-f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v copy -c:a aac\",\r\n      \"rtmp\": [\r\n        \"-c\",\r\n        \"copy\",\r\n        \"-f\",\r\n        \"flv\"\r\n      ]\r\n    }\r\n  },\r\n  \"live\": {\r\n    \"height\": 720,\r\n    \"quality\": 8\r\n  },\r\n  \"logger\": {\r\n    \"default\": \"info\",\r\n    \"logs\": {}\r\n  },\r\n  \"model\": {\r\n    \"height\": 320,\r\n    \"labelmap\": {},\r\n    \"labelmap_path\": null,\r\n    \"path\": null,\r\n    \"width\": 320\r\n  },\r\n  \"motion\": null,\r\n  \"mqtt\": {\r\n    \"client_id\": \"frigate\",\r\n    \"host\": \"mosquitto\",\r\n    \"password\": null,\r\n    \"port\": 1883,\r\n    \"stats_interval\": 60,\r\n    \"tls_ca_certs\": null,\r\n    \"tls_client_cert\": null,\r\n    \"tls_client_key\": null,\r\n    \"tls_insecure\": null,\r\n    \"topic_prefix\": \"frigate\",\r\n    \"user\": null\r\n  },\r\n  \"objects\": {\r\n    \"filters\": null,\r\n    \"mask\": \"\",\r\n    \"track\": [\r\n      \"person\",\r\n      \"car\",\r\n      \"cat\",\r\n      \"dog\",\r\n      \"horse\",\r\n      \"sheep\",\r\n      \"cow\",\r\n      \"bear\"\r\n    ]\r\n  },\r\n  \"plus\": {\r\n    \"enabled\": false\r\n  },\r\n  \"record\": {\r\n    \"enabled\": true,\r\n    \"events\": {\r\n      \"objects\": null,\r\n      \"post_capture\": 5,\r\n      \"pre_capture\": 5,\r\n      \"required_zones\": [],\r\n      \"retain\": {\r\n        \"default\": 10,\r\n        \"mode\": \"motion\",\r\n        \"objects\": {\r\n          \"bear\": 1,\r\n          \"car\": 3,\r\n          \"cat\": 1,\r\n          \"cow\": 1,\r\n          \"dog\": 1,\r\n          \"horse\": 1,\r\n          \"person\": 15,\r\n          \"sheep\": 1\r\n        }\r\n      }\r\n    },\r\n    \"expire_interval\": 60,\r\n    \"retain\": {\r\n      \"days\": 2,\r\n      \"mode\": \"all\"\r\n    },\r\n    \"retain_days\": null\r\n  },\r\n  \"rtmp\": {\r\n    \"enabled\": true\r\n  },\r\n  \"snapshots\": {\r\n    \"bounding_box\": true,\r\n    \"clean_copy\": true,\r\n    \"crop\": false,\r\n    \"enabled\": true,\r\n    \"height\": null,\r\n    \"quality\": 70,\r\n    \"required_zones\": [],\r\n    \"retain\": {\r\n      \"default\": 10,\r\n      \"mode\": \"motion\",\r\n      \"objects\": {\r\n        \"bear\": 1,\r\n        \"car\": 3,\r\n        \"cat\": 1,\r\n        \"cow\": 1,\r\n        \"dog\": 1,\r\n        \"horse\": 1,\r\n        \"person\": 15,\r\n        \"sheep\": 1\r\n      }\r\n    },\r\n    \"timestamp\": false\r\n  },\r\n  \"timestamp_style\": {\r\n    \"color\": {\r\n      \"blue\": 255,\r\n      \"green\": 255,\r\n      \"red\": 255\r\n    },\r\n    \"effect\": null,\r\n    \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n    \"position\": \"tl\",\r\n    \"thickness\": 2\r\n  },\r\n  \"ui\": {\r\n    \"use_experimental\": false\r\n  }\r\n}\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n[2022-12-20 02:11:31] ffmpeg.camera4.record       ERROR   : av_interleaved_write_frame(): No space left on device\r\n[2022-12-20 02:11:31] ffmpeg.camera4.record       ERROR   :     Last message repeated 2 times\r\n[2022-12-20 02:11:31] ffmpeg.camera4.record       ERROR   : [segment @ 0x55e512f46b40] Failure occurred when ending segment '/tmp/cache/camera4-20221220021122.mp4'\r\n[2022-12-20 02:11:31] ffmpeg.camera4.record       ERROR   : Error writing trailer of /tmp/cache/camera4-%Y%m%d%H%M%S.mp4: No space left on device\r\n[2022-12-20 02:11:31] watchdog.camera4            INFO    : Terminating the existing ffmpeg process...\r\n[2022-12-20 02:11:31] watchdog.camera4            INFO    : Waiting for ffmpeg to exit gracefully...\r\n[2022-12-20 02:11:35] ffmpeg.camera3.record           ERROR   : Could not write header for output file #0 (incorrect codec parameters ?): No space left on device\r\n[2022-12-20 02:11:35] ffmpeg.camera3.record           ERROR   : Error initializing output stream 0:0 --\r\n[2022-12-20 02:11:35] ffmpeg.camera3.record           ERROR   :\r\n[2022-12-20 02:11:35] watchdog.camera3                INFO    : Terminating the existing ffmpeg process...\r\n[2022-12-20 02:11:35] watchdog.camera3                INFO    : Waiting for ffmpeg to exit gracefully...\r\n[2022-12-20 02:11:35] ffmpeg.camera2.record    ERROR   : Could not write header for output file #0 (incorrect codec parameters ?): No space left on device\r\n[2022-12-20 02:11:35] ffmpeg.camera2.record    ERROR   : Error initializing output stream 0:0 --\r\n[2022-12-20 02:11:35] ffmpeg.camera2.record    ERROR   :\r\n[2022-12-20 02:11:35] watchdog.camera2         INFO    : Terminating the existing ffmpeg process...\r\n```\r\n\r\n\r\n### FFprobe output from your camera\r\n\r\n```shell\r\nffprobe version n5.1-2-g915ef932a3-20220731 Copyright (c) 2007-2022 the FFmpeg developers\r\n  built with gcc 12.1.0 (crosstool-NG 1.25.0.55_3defb7b)\r\n  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-ffbuild-linux-gnu- --arch=x86_64 --target-os=linux --enable-gpl --enable-version3 --disable-debug --enable-iconv --enable-libxml2 --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-lzma --enable-fontconfig --enable-libvorbis --enable-opencl --enable-libpulse --enable-libvmaf --enable-libxcb --enable-xlib --enable-amf --enable-libaom --enable-libaribb24 --enable-avisynth --enable-libdav1d --enable-libdavs2 --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --enable-frei0r --enable-libgme --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-mbedtls --enable-librist --enable-libtheora --enable-libvpx --enable-libwebp --enable-lv2 --enable-libmfx --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --disable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-libtwolame --enable-libuavs3d --enable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-ldflags=-pthread --extra-ldexeflags=-pie --extra-libs='-ldl -lgomp' --extra-version=20220731\r\n  libavutil      57. 28.100 / 57. 28.100\r\n  libavcodec     59. 37.100 / 59. 37.100\r\n  libavformat    59. 27.100 / 59. 27.100\r\n  libavdevice    59.  7.100 / 59.  7.100\r\n  libavfilter     8. 44.100 /  8. 44.100\r\n  libswscale      6.  7.100 /  6.  7.100\r\n  libswresample   4.  7.100 /  4.  7.100\r\n  libpostproc    56.  6.100 / 56.  6.100\r\n[rtsp @ 0x55dd39201140] max delay reached. need to consume packet\r\n[rtsp @ 0x55dd39201140] RTP: missed 150 packets\r\n[h264 @ 0x55dd39206100] concealing 25084 DC, 25084 AC, 25084 MV errors in I frame\r\nInput #0, rtsp, from 'OMITTED':\r\n  Metadata:\r\n    title           : Media Presentation\r\n  Duration: N/A, start: 0.067000, bitrate: N/A\r\n  Stream #0:0: Video: h264 (High), yuvj420p(pc, bt709, progressive), 3840x2160 [SAR 1:1 DAR 16:9], 15 fps, 15 tbr, 90k tbn\r\n```\r\n\r\n\r\n### Frigate stats\r\n\r\n```json\r\n{\r\n  \"camera2\": {\r\n    \"camera_fps\": 4.0,\r\n    \"capture_pid\": 248,\r\n    \"detection_fps\": 0.0,\r\n    \"pid\": 243,\r\n    \"process_fps\": 4.0,\r\n    \"skipped_fps\": 0.0\r\n  },\r\n  \"camera1\": {\r\n    \"camera_fps\": 2.0,\r\n    \"capture_pid\": 253,\r\n    \"detection_fps\": 0.0,\r\n    \"pid\": 245,\r\n    \"process_fps\": 2.0,\r\n    \"skipped_fps\": 0.0\r\n  },\r\n  \"detection_fps\": 0.0,\r\n  \"detectors\": {\r\n    \"coral1\": {\r\n      \"detection_start\": 0.0,\r\n      \"inference_speed\": 7.69,\r\n      \"pid\": 35437\r\n    }\r\n  },\r\n  \"camera4\": {\r\n    \"camera_fps\": 2.0,\r\n    \"capture_pid\": 246,\r\n    \"detection_fps\": 0.0,\r\n    \"pid\": 239,\r\n    \"process_fps\": 2.0,\r\n    \"skipped_fps\": 0.0\r\n  },\r\n  \"camera3\": {\r\n    \"camera_fps\": 4.1,\r\n    \"capture_pid\": 247,\r\n    \"detection_fps\": 0.0,\r\n    \"pid\": 241,\r\n    \"process_fps\": 4.1,\r\n    \"skipped_fps\": 0.0\r\n  },\r\n  \"service\": {\r\n    \"latest_version\": \"0.11.1\",\r\n    \"storage\": {\r\n      \"/dev/shm\": {\r\n        \"free\": 5235.3,\r\n        \"mount_type\": \"tmpfs\",\r\n        \"total\": 5242.9,\r\n        \"used\": 7.6\r\n      },\r\n      \"/media/frigate/clips\": {\r\n        \"free\": 3861957.2,\r\n        \"mount_type\": \"xfs\",\r\n        \"total\": 3998831.6,\r\n        \"used\": 136874.4\r\n      },\r\n      \"/media/frigate/recordings\": {\r\n        \"free\": 3861957.2,\r\n        \"mount_type\": \"xfs\",\r\n        \"total\": 3998831.6,\r\n        \"used\": 136874.4\r\n      },\r\n      \"/tmp/cache\": {\r\n        \"free\": 332.7,\r\n        \"mount_type\": \"tmpfs\",\r\n        \"total\": 1000.0,\r\n        \"used\": 667.3\r\n      }\r\n    },\r\n    \"temperatures\": {\r\n      \r\n    },\r\n    \"uptime\": 878773,\r\n    \"version\": \"0.11.1-2eada21\"\r\n  }\r\n}\r\n```\r\n\r\n\r\n### Operating system\r\n\r\nOther Linux\r\n\r\n### Install method\r\n\r\nHassOS Addon\r\n\r\n### Coral version\r\n\r\nUSB\r\n\r\n### Network connection\r\n\r\nWired\r\n\r\n### Camera make and model\r\n\r\nVarious\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/4769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/3934", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/3934/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/3934/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/3934/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/3934", "id": 1384906448, "node_id": "I_kwDOCf7Pcs5Si_7Q", "number": 3934, "title": "[HW Accel Support]: Unable to use hwaccel on Intel 12th CPU + Docker container", "user": {"login": "t0ny-peng", "id": 4816327, "node_id": "MDQ6VXNlcjQ4MTYzMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/4816327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t0ny-peng", "html_url": "https://github.com/t0ny-peng", "followers_url": "https://api.github.com/users/t0ny-peng/followers", "following_url": "https://api.github.com/users/t0ny-peng/following{/other_user}", "gists_url": "https://api.github.com/users/t0ny-peng/gists{/gist_id}", "starred_url": "https://api.github.com/users/t0ny-peng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t0ny-peng/subscriptions", "organizations_url": "https://api.github.com/users/t0ny-peng/orgs", "repos_url": "https://api.github.com/users/t0ny-peng/repos", "events_url": "https://api.github.com/users/t0ny-peng/events{/privacy}", "received_events_url": "https://api.github.com/users/t0ny-peng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-09-25T05:47:17Z", "updated_at": "2023-01-12T22:13:21Z", "closed_at": "2022-11-02T00:11:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nI have several cameras that have a main stream and a sub stream, as shown in the following table. Frigate runs inside a docker container in a Proxmox VE instance. The CPU is Intel i3-12100. I tried to enable hardware accelerate by adding `hwaccel_args: -c:v h264_qsv` to the `ffmpeg` field of one camera, but the camera is not able to start.\r\n\r\nPossibly the same problem in https://github.com/blakeblackshear/frigate/issues/3170 but need confirmation\r\n\r\n|Main stream| Sub stream|\r\n|-|-|\r\n|<img width=\"552\" alt=\"image\" src=\"https://user-images.githubusercontent.com/4816327/192129746-7b650857-8398-47c0-9bf9-a237cebcd061.png\">|<img width=\"552\" alt=\"image\" src=\"https://user-images.githubusercontent.com/4816327/192129736-2067b719-271d-4cf3-ae64-5a9e120237ad.png\">|\r\n\r\n\r\nI tried to manually run the `ffmpeg` command inside the Docker container with the hardware acceleration flag, and it dumps some error message, attached at the below section. This command, without the hardware acceleration part, can dump the stream into pipe without any problem.\r\n\r\n```\r\nffmpeg -hide_banner -c:v h264_qsv -loglevel warning -avoid_negative_ts make_zero \\\r\n  -fflags +genpts+discardcorrupt -rtsp_transport tcp -timeout 5000000 -use_wallclock_as_timestamps 1 \\\r\n  -i \"rtsp://REDACTED:554/cam/realmonitor?channel=1&subtype=1\" -f segment -segment_time 10 \\\r\n  -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy -an /tmp/cache/Backyard-%Y%m%d%H%M%S.mp4 \\\r\n  -c copy -f flv rtmp://127.0.0.1/live/Backyard -r 5 -s 1280x720 -f rawvideo -pix_fmt yuv420p pipe:\r\n```\r\n\r\n\r\n### Version\r\n\r\n0.11.0\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\nmqtt:\r\n  host: REDACTED\r\n  user: bot\r\n  password: \"REDACTED\"\r\n\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\n\r\ndetect:\r\n  fps: 5\r\n  enabled: True\r\n  max_disappeared: 25\r\n\r\nobjects:\r\n  track:\r\n    - person\r\n    - cat\r\n\r\nrecord:\r\n  enabled: True\r\n  retain:\r\n    days: 7\r\n    mode: motion\r\n  events:\r\n    retain:\r\n      default: 14\r\n      mode: active_objects\r\n\r\nsnapshots:\r\n  enabled: True\r\n  timestamp: True\r\n  bounding_box: True\r\n\r\nrtmp:\r\n  enabled: True\r\n\r\ncameras:\r\n  Backyard_1:\r\n    ffmpeg:\r\n      inputs:\r\n        # 8M stream\r\n        - path: rtsp://REDACTED:554/cam/realmonitor?channel=1&subtype=0\r\n          roles:\r\n            - record\r\n            - rtmp\r\n        # Sub stream\r\n        - path: rtsp://REDACTED:554/cam/realmonitor?channel=1&subtype=1\r\n          roles:\r\n            - detect\r\n      hwaccel_args: -c:v h264_qsv\r\n\r\n    detect:\r\n      width: 640\r\n      height: 480\r\n```\r\n\r\n\r\n### docker-compose file or Docker CLI command\r\n\r\n```yaml\r\nversion: \"3.9\"\r\nservices:\r\n  frigate:\r\n    container_name: frigate\r\n    privileged: true\r\n    restart: unless-stopped\r\n    image: blakeblackshear/frigate:0.11.0\r\n    shm_size: \"1024mb\"\r\n    devices:\r\n      - /dev:/dev\r\n    volumes:\r\n      - /etc/localtime:/etc/localtime:ro\r\n      - /root/docker/frigate/frigate.yml:/config/config.yml:ro\r\n      - NFS_Share:/media/frigate:rw\r\n      - type: tmpfs # Optional: 1GB of memory, reduces SSD/SD Card wear\r\n        target: /tmp/cache\r\n        tmpfs:\r\n          size: 1000000000\r\n    ports:\r\n      - \"5000:5000\"\r\n      - \"1935:1935\" # RTMP feeds\r\n    environment:\r\n      FRIGATE_RTSP_PASSWORD: \"REDACTED\"\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n#### Frigate log\r\n\r\n```shell\r\n[2022-09-24 22:51:05] watchdog.Backyard_1            INFO    : No frames received from Backyard_1 in 20 seconds. Exiting ffmpeg...\r\n[2022-09-24 22:51:05] watchdog.Backyard_1            INFO    : Waiting for ffmpeg to exit gracefully...\r\n[2022-09-24 22:51:05] frigate.video                  ERROR   : Backyard_1: Unable to read frames from ffmpeg process.\r\n[2022-09-24 22:51:05] frigate.video                  ERROR   : Backyard_1: ffmpeg process is not running. exiting capture thread...\r\n```\r\n\r\n#### ffmpeg ran manually inside the container\r\n\r\n```shell\r\n\r\n\r\n[h264_qsv @ 0x55de82f62100] Error during set display handle\r\n: device failed (-17)\r\n[h264_qsv @ 0x55de82f62100] Error initializing an MFX session\r\n[h264_qsv @ 0x55de82f62100] Error decoding header\r\nError while decoding stream #0:0: Input/output error\r\n[segment @ 0x55de830e23c0] Timestamps are unset in a packet for stream 0. This is deprecated and will stop working in the future. Fix your code to set the timestamps properly\r\n[flv @ 0x55de82f58cc0] Timestamps are unset in a packet for stream 0. This is deprecated and will stop working in the future. Fix your code to set the timestamps properly\r\n[segment @ 0x55de830e23c0] Non-monotonous DTS in output stream 0:0; previous: 0, current: 0; changing to 1. This may result in incorrect timestamps in the output file.\r\n[h264_qsv @ 0x55de82f62100] Error during QSV decoding.: device failed (-17)\r\nError while decoding stream #0:0: Input/output error\r\n[h264_qsv @ 0x55de82f62100] Error during QSV decoding.: device failed (-17)\r\nError while decoding stream #0:0: Input/output error\r\n####### Repeated many times ######\r\nFinishing stream 2:0 without any data written to it.\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de839cc8c0] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83a06140] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83a3ea00] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83a772c0] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83aafb80] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83ae8fc0] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83b20d00] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83b5a140] deprecated pixel format used, make sure you did set range correctly\r\n[swscaler @ 0x55de839bf900] [swscaler @ 0x55de83b92a00] deprecated pixel format used, make sure you did set range correctly\r\n[flv @ 0x55de82f58cc0] Failed to update header with correct duration.\r\n[flv @ 0x55de82f58cc0] Failed to update header with correct filesize.\r\n```\r\n\r\n\r\n### FFprobe output from your camera\r\n\r\n```shell\r\nffprobe version n5.1-2-g915ef932a3-20220731 Copyright (c) 2007-2022 the FFmpeg developers\r\n  built with gcc 12.1.0 (crosstool-NG 1.25.0.55_3defb7b)\r\n  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-ffbuild-linux-gnu- --arch=x86_64 --target-os=linux --enable-gpl --enable-version3 --disable-debug --enable-iconv --enable-libxml2 --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-lzma --enable-fontconfig --enable-libvorbis --enable-opencl --enable-libpulse --enable-libvmaf --enable-libxcb --enable-xlib --enable-amf --enable-libaom --enable-libaribb24 --enable-avisynth --enable-libdav1d --enable-libdavs2 --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --enable-frei0r --enable-libgme --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-mbedtls --enable-librist --enable-libtheora --enable-libvpx --enable-libwebp --enable-lv2 --enable-libmfx --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --disable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-libtwolame --enable-libuavs3d --enable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-ldflags=-pthread --extra-ldexeflags=-pie --extra-libs='-ldl -lgomp' --extra-version=20220731\r\n  libavutil      57. 28.100 / 57. 28.100\r\n  libavcodec     59. 37.100 / 59. 37.100\r\n  libavformat    59. 27.100 / 59. 27.100\r\n  libavdevice    59.  7.100 / 59.  7.100\r\n  libavfilter     8. 44.100 /  8. 44.100\r\n  libswscale      6.  7.100 /  6.  7.100\r\n  libswresample   4.  7.100 /  4.  7.100\r\n  libpostproc    56.  6.100 / 56.  6.100\r\nInput #0, rtsp, from 'rtsp://REDACTED/cam/realmonitor?channel=1&subtype=1':\r\n  Metadata:\r\n    title           : Media Server\r\n  Duration: N/A, start: 0.400000, bitrate: N/A\r\n  Stream #0:0: Video: h264 (High), yuvj420p(pc, bt709, progressive), 640x480 [SAR 2571:1928 DAR 857:482], 5 fps, 100 tbr, 90k tbn\r\n```\r\n\r\n\r\n### Operating system\r\n\r\nProxmox\r\n\r\n### Install method\r\n\r\nDocker Compose\r\n\r\n### Network connection\r\n\r\nWired\r\n\r\n### Camera make and model\r\n\r\nAMCREST IP8M-T2499EW-28MM\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/3934/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/3934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2497", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2497/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2497/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2497/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/2497", "id": 1086254487, "node_id": "I_kwDOCf7Pcs5Avu2X", "number": 2497, "title": "[Support]: Event playback in 0.10.x freezes and buffers", "user": {"login": "jasonpstokes", "id": 29766924, "node_id": "MDQ6VXNlcjI5NzY2OTI0", "avatar_url": "https://avatars.githubusercontent.com/u/29766924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonpstokes", "html_url": "https://github.com/jasonpstokes", "followers_url": "https://api.github.com/users/jasonpstokes/followers", "following_url": "https://api.github.com/users/jasonpstokes/following{/other_user}", "gists_url": "https://api.github.com/users/jasonpstokes/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonpstokes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonpstokes/subscriptions", "organizations_url": "https://api.github.com/users/jasonpstokes/orgs", "repos_url": "https://api.github.com/users/jasonpstokes/repos", "events_url": "https://api.github.com/users/jasonpstokes/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonpstokes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2725128739, "node_id": "MDU6TGFiZWwyNzI1MTI4NzM5", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/support", "name": "support", "color": "EDB07E", "default": false, "description": ""}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-12-21T21:46:23Z", "updated_at": "2022-09-23T00:40:23Z", "closed_at": "2022-09-23T00:40:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nEvent playback freezes and buffers in 0.9 and 0.10, at the same timecode (spot) every time I play the clip. I'm seeing this on many/most clips whereas the downloaded clip plays perfectly. Happens on all (6) cameras.\r\n\r\nPlayback was fluent and never buffered in 0.8.4 (over 6+ months), running same recommended FFMpeg arguments as per docs. Experienced same playback issues in 0.9, when running that for a few days.\r\n\r\ne.g.\r\n\r\n![rlc-520a-main_stream](https://user-images.githubusercontent.com/29766924/147000185-6caad8b8-ae39-4cac-a6a1-c7d8c21f9ae2.gif)\n\n### Version\n\n0.10.0-DB1255A\n\n### Frigate config file\n\n```yaml\ndatabase:\r\n  path: /media/frigate/database/frigate.db\r\n\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\n\r\nmqtt:\r\n  host: 192.168.1.5\r\n  port: 1883\r\n  user: mqtt\r\n  password: \"{FRIGATE_MQTT_PASSWORD}\"\r\n\r\nbirdseye:\r\n  mode: continuous\r\n  width: 1792\r\n  height: 1344\r\n\r\ndetect:\r\n  width: 896\r\n  height: 672\r\n  fps: 5\r\n\r\nffmpeg:\r\n  hwaccel_args: -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -hwaccel_output_format yuv420p\r\n  input_args: -avoid_negative_ts make_zero -fflags nobuffer+genpts+discardcorrupt -flags low_delay -strict experimental -analyzeduration 1000M -probesize 1000M -rw_timeout 5000000 # https://github.com/blakeblackshear/frigate/issues/1713#issuecomment-932976305\r\n  output_args:\r\n    record: -f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy\r\n\r\nlive:\r\n  height: 672\r\n  quality: 12\r\n\r\nmotion:\r\n  mask:\r\n    - 265,650,265,625,630,625,630,650\r\n\r\nrecord:\r\n  enabled: True\r\n  retain:\r\n    days: 0\r\n  events:\r\n    retain:\r\n      default: 14\r\n      mode: active_objects\r\n\r\nrtmp:\r\n  enabled: False\r\n\r\nsnapshots:\r\n  enabled: true\r\n  clean_copy: false\r\n  bounding_box: true\r\n  retain:\r\n    default: 14\r\n\r\ntimestamp_style:\r\n  format: \"%d/%m/%Y %H:%M:%S\"\r\n\r\ncameras:\r\n  Driveway:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: http://192.168.1.71/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - detect\r\n        - path: http://192.168.1.71/flv?port=1935&app=bcs&stream=channel0_main.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - record\r\n    objects:\r\n      track:\r\n        - person\r\n        - vehicle\r\n        - dog\r\n      filters:\r\n        dog:\r\n          max_area: 30000\r\n        person:\r\n          mask: \r\n            - 510,120,540,120,540,160,510,160\r\n\r\n  Entrance:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: http://192.168.1.72/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - detect\r\n        - path: http://192.168.1.72/flv?port=1935&app=bcs&stream=channel0_main.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - record\r\n    objects:\r\n      track:\r\n        - person\r\n        - dog\r\n      filters:\r\n        person:\r\n          mask: 72,449,106,568,209,569,214,449\r\n\r\n  Rumpus:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: http://192.168.1.73/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - detect\r\n        - path: http://192.168.1.73/flv?port=1935&app=bcs&stream=channel0_main.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - record\r\n    objects:\r\n      track:\r\n        - person\r\n        - dog\r\n\r\n  Deck:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: http://192.168.1.74/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - detect\r\n        - path: http://192.168.1.74/flv?port=1935&app=bcs&stream=channel0_main.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - record\r\n    objects:\r\n      track:\r\n        - person\r\n\r\n  Laundry:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: http://192.168.1.75/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - detect\r\n        - path: http://192.168.1.75/flv?port=1935&app=bcs&stream=channel0_main.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - record\r\n    objects:\r\n      track:\r\n        - person\r\n\r\n  Balcony:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: http://192.168.1.76/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - detect\r\n        - path: http://192.168.1.76/flv?port=1935&app=bcs&stream=channel0_main.bcs&user={FRIGATE_USER}&password={FRIGATE_PASSWORD}\r\n          roles:\r\n            - record\r\n    objects:\r\n      track:\r\n        - person\r\n        - vehicle\n```\n\n\n### Relevant log output\n\n```shell\nno warnings or errors in logs\n```\n\n\n### FFprobe output from your camera\n\n```shell\n**RTSP stream, which I don't use.\r\n\r\nffprobe version 4.4-full_build-www.gyan.dev Copyright (c) 2007-2021 the FFmpeg developers\r\n  built with gcc 10.2.0 (Rev6, Built by MSYS2 project)\r\n  configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libdav1d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libaom --enable-libopenjpeg --enable-libvpx --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libmfx --enable-libglslang --enable-vulkan --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint\r\n  libavutil      56. 70.100 / 56. 70.100\r\n  libavcodec     58.134.100 / 58.134.100\r\n  libavformat    58. 76.100 / 58. 76.100\r\n  libavdevice    58. 13.100 / 58. 13.100\r\n  libavfilter     7.110.100 /  7.110.100\r\n  libswscale      5.  9.100 /  5.  9.100\r\n  libswresample   3.  9.100 /  3.  9.100\r\n  libpostproc    55.  9.100 / 55.  9.100\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 6 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 7 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 9 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 4 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 6 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 7 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 5 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 9 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[h264 @ 00000223019f6100] left block unavailable for requested intra4x4 mode -1\r\n[h264 @ 00000223019f6100] error while decoding MB 0 98, bytestream 75495\r\n[h264 @ 00000223019f6100] concealing 3569 DC, 3569 AC, 3569 MV errors in I frame\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 7 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 7 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 10 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 8 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[h264 @ 00000223019f6100] concealing 18267 DC, 18267 AC, 18267 MV errors in P frame\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 7 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[h264 @ 00000223019f6100] concealing 15891 DC, 15891 AC, 15891 MV errors in P frame\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 5 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 4 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 6 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 5 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 2 packets\r\n[h264 @ 00000223019f6100] concealing 18386 DC, 18386 AC, 18386 MV errors in P frame\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 4 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 15 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 14 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 3 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\n[h264 @ 00000223019f6100] concealing 10311 DC, 10311 AC, 10311 MV errors in P frame\r\n[rtsp @ 00000223019da980] max delay reached. need to consume packet\r\n[rtsp @ 00000223019da980] RTP: missed 1 packets\r\nInput #0, rtsp, from 'rtsp://user:pass@192.168.1.71:554//h264Preview_01_main':\r\n  Metadata:\r\n    title           : Session streamed by \"preview\"\r\n    comment         : h264Preview_01_main\r\n  Duration: N/A, start: 0.000500, bitrate: N/A\r\n  Stream #0:0: Video: h264 (High), yuv420p(progressive), 2560x1920, 30 fps, 30 tbr, 90k tbn, 180k tbc\r\n  Stream #0:1: Audio: aac (LC), 16000 Hz, mono, fltp\n```\n\n\n### Frigate stats\n\n```json\n{\"Balcony\":{\"camera_fps\":5.1,\"capture_pid\":266,\"detection_fps\":5.5,\"pid\":234,\"process_fps\":5.0,\"skipped_fps\":0.0},\"Deck\":{\"camera_fps\":5.0,\"capture_pid\":249,\"detection_fps\":0.0,\"pid\":231,\"process_fps\":5.0,\"skipped_fps\":0.0},\"Driveway\":{\"camera_fps\":5.0,\"capture_pid\":236,\"detection_fps\":4.0,\"pid\":224,\"process_fps\":5.0,\"skipped_fps\":0.0},\"Entrance\":{\"camera_fps\":5.1,\"capture_pid\":240,\"detection_fps\":0.0,\"pid\":228,\"process_fps\":5.1,\"skipped_fps\":0.0},\"Laundry\":{\"camera_fps\":5.1,\"capture_pid\":257,\"detection_fps\":1.2,\"pid\":233,\"process_fps\":5.1,\"skipped_fps\":0.0},\"Rumpus\":{\"camera_fps\":5.1,\"capture_pid\":243,\"detection_fps\":0.0,\"pid\":230,\"process_fps\":5.1,\"skipped_fps\":0.0},\"detection_fps\":10.7,\"detectors\":{\"coral\":{\"detection_start\":0.0,\"inference_speed\":13.59,\"pid\":218}},\"service\":{\"storage\":{\"/dev/shm\":{\"free\":59.0,\"mount_type\":\"tmpfs\",\"total\":67.1,\"used\":8.1},\"/media/frigate/clips\":{\"free\":1723469.8,\"mount_type\":\"nfs4\",\"total\":1921292.6,\"used\":197286.0},\"/media/frigate/recordings\":{\"free\":1723469.8,\"mount_type\":\"nfs4\",\"total\":1921292.6,\"used\":197286.0},\"/tmp/cache\":{\"free\":810.3,\"mount_type\":\"tmpfs\",\"total\":1073.7,\"used\":263.5}},\"temperatures\":{},\"uptime\":34626,\"version\":\"0.10.0-db1255a\"}}\n```\n\n\n### Operating system\n\nDebian\n\n### Install method\n\nDocker Compose\n\n### Coral version\n\nUSB\n\n### Network connection\n\nWired\n\n### Camera make and model\n\nReolink RLC-520A\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2497/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2497/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2129", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2129/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2129/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2129/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/2129", "id": 1037492699, "node_id": "I_kwDOCf7Pcs491uHb", "number": 2129, "title": "[Support]: Recording breaks if disabled by MQTT on Frigate start", "user": {"login": "rossoneri8", "id": 92133467, "node_id": "U_kgDOBX3YWw", "avatar_url": "https://avatars.githubusercontent.com/u/92133467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rossoneri8", "html_url": "https://github.com/rossoneri8", "followers_url": "https://api.github.com/users/rossoneri8/followers", "following_url": "https://api.github.com/users/rossoneri8/following{/other_user}", "gists_url": "https://api.github.com/users/rossoneri8/gists{/gist_id}", "starred_url": "https://api.github.com/users/rossoneri8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rossoneri8/subscriptions", "organizations_url": "https://api.github.com/users/rossoneri8/orgs", "repos_url": "https://api.github.com/users/rossoneri8/repos", "events_url": "https://api.github.com/users/rossoneri8/events{/privacy}", "received_events_url": "https://api.github.com/users/rossoneri8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2725128739, "node_id": "MDU6TGFiZWwyNzI1MTI4NzM5", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/support", "name": "support", "color": "EDB07E", "default": false, "description": ""}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 37, "created_at": "2021-10-27T14:27:10Z", "updated_at": "2022-03-23T23:47:26Z", "closed_at": "2021-12-23T20:31:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\n\nI have two cameras setup (same model) and both are setup via HA to enable/disable the camera's RTSP server and Frigate's Recording feature via a single button click. The problem I am experiencing is that after I enable/disable the recording feature in Frigate, the recording never resumes. When I navigate to the camera recording page I get the following error:\r\n> No Recordings Found\r\n> \r\n> Make sure you have enabled the record role in your configuration for the livingRoom camera.\r\n\r\nAnd if I look at the recording folder I see no new video files are being created. I can recover the recording feature by restarting the Frigate container, but enabling/disabling the recording feature breaks it again. Looking through the logs I don't see any obvious failures, it looks like Frigate is not correctly re-enabling the recording feature.\n\n### Version\n\n0.9.4-26ae608\n\n### Frigate config file\n\n```yaml\n{\r\n  \"birdseye\": {\r\n    \"enabled\": true,\r\n    \"height\": 720,\r\n    \"mode\": \"objects\",\r\n    \"quality\": 8,\r\n    \"width\": 1280\r\n  },\r\n  \"cameras\": {\r\n    \"babyRoom\": {\r\n      \"best_image_timeout\": 60,\r\n      \"detect\": {\r\n        \"enabled\": false,\r\n        \"fps\": 5,\r\n        \"height\": 1080,\r\n        \"max_disappeared\": 25,\r\n        \"width\": 1920\r\n      },\r\n      \"ffmpeg\": {\r\n        \"global_args\": [\r\n          \"-hide_banner\",\r\n          \"-loglevel\",\r\n          \"warning\"\r\n        ],\r\n        \"hwaccel_args\": [\r\n          \"-hwaccel\",\r\n          \"vaapi\",\r\n          \"-hwaccel_device\",\r\n          \"/dev/dri/renderD128\"\r\n        ],\r\n        \"input_args\": [\r\n          \"-avoid_negative_ts\",\r\n          \"make_zero\"\r\n        ],\r\n        \"inputs\": [\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"rtsp://<user>:<pass>@<ip>:8554/unicast\",\r\n            \"roles\": [\r\n              \"record\",\r\n              \"rtmp\",\r\n              \"detect\"\r\n            ]\r\n          }\r\n        ],\r\n        \"output_args\": {\r\n          \"detect\": [\r\n            \"-f\",\r\n            \"rawvideo\",\r\n            \"-pix_fmt\",\r\n            \"yuv420p\"\r\n          ],\r\n          \"record\": [\r\n            \"-f\",\r\n            \"segment\",\r\n            \"-segment_time\",\r\n            \"10\",\r\n            \"-segment_format\",\r\n            \"mp4\",\r\n            \"-reset_timestamps\",\r\n            \"1\",\r\n            \"-strftime\",\r\n            \"1\",\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-an\"\r\n          ],\r\n          \"rtmp\": [\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-f\",\r\n            \"flv\"\r\n          ]\r\n        }\r\n      },\r\n      \"ffmpeg_cmds\": [\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -avoid_negative_ts make_zero -i rtsp://<user>:<pass>@<ip>:8554/unicast -f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy -an /tmp/cache/babyRoom-%Y%m%d%H%M%S.mp4 -r 5 -s 1920x1080 -f rawvideo -pix_fmt yuv420p pipe:\",\r\n          \"roles\": [\r\n            \"record\",\r\n            \"rtmp\",\r\n            \"detect\"\r\n          ]\r\n        }\r\n      ],\r\n      \"live\": {\r\n        \"height\": 720,\r\n        \"quality\": 8\r\n      },\r\n      \"motion\": {\r\n        \"contour_area\": 99,\r\n        \"delta_alpha\": 0.2,\r\n        \"frame_alpha\": 0.2,\r\n        \"frame_height\": 180,\r\n        \"mask\": \"\",\r\n        \"threshold\": 25\r\n      },\r\n      \"mqtt\": {\r\n        \"bounding_box\": true,\r\n        \"crop\": true,\r\n        \"enabled\": true,\r\n        \"height\": 270,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"timestamp\": true\r\n      },\r\n      \"name\": \"babyRoom\",\r\n      \"objects\": {\r\n        \"filters\": {\r\n          \"person\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          }\r\n        },\r\n        \"mask\": \"\",\r\n        \"track\": [\r\n          \"person\"\r\n        ]\r\n      },\r\n      \"record\": {\r\n        \"enabled\": true,\r\n        \"events\": {\r\n          \"max_seconds\": 300,\r\n          \"objects\": null,\r\n          \"post_capture\": 5,\r\n          \"pre_capture\": 5,\r\n          \"required_zones\": [],\r\n          \"retain\": {\r\n            \"default\": 10,\r\n            \"objects\": {}\r\n          }\r\n        },\r\n        \"retain_days\": 1\r\n      },\r\n      \"rtmp\": {\r\n        \"enabled\": false\r\n      },\r\n      \"snapshots\": {\r\n        \"bounding_box\": true,\r\n        \"clean_copy\": true,\r\n        \"crop\": false,\r\n        \"enabled\": false,\r\n        \"height\": null,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"retain\": {\r\n          \"default\": 10,\r\n          \"objects\": {}\r\n        },\r\n        \"timestamp\": false\r\n      },\r\n      \"timestamp_style\": {\r\n        \"color\": {\r\n          \"blue\": 255,\r\n          \"green\": 255,\r\n          \"red\": 255\r\n        },\r\n        \"effect\": null,\r\n        \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n        \"position\": \"tl\",\r\n        \"thickness\": 2\r\n      },\r\n      \"zones\": {}\r\n    },\r\n    \"livingRoom\": {\r\n      \"best_image_timeout\": 60,\r\n      \"detect\": {\r\n        \"enabled\": false,\r\n        \"fps\": 5,\r\n        \"height\": 1080,\r\n        \"max_disappeared\": 25,\r\n        \"width\": 1920\r\n      },\r\n      \"ffmpeg\": {\r\n        \"global_args\": [\r\n          \"-hide_banner\",\r\n          \"-loglevel\",\r\n          \"warning\"\r\n        ],\r\n        \"hwaccel_args\": [\r\n          \"-hwaccel\",\r\n          \"vaapi\",\r\n          \"-hwaccel_device\",\r\n          \"/dev/dri/renderD128\"\r\n        ],\r\n        \"input_args\": [\r\n          \"-avoid_negative_ts\",\r\n          \"make_zero\"\r\n        ],\r\n        \"inputs\": [\r\n          {\r\n            \"global_args\": [],\r\n            \"hwaccel_args\": [],\r\n            \"input_args\": [],\r\n            \"path\": \"rtsp://<user>:<pass>@<ip>:8554/unicast\",\r\n            \"roles\": [\r\n              \"record\",\r\n              \"rtmp\",\r\n              \"detect\"\r\n            ]\r\n          }\r\n        ],\r\n        \"output_args\": {\r\n          \"detect\": [\r\n            \"-f\",\r\n            \"rawvideo\",\r\n            \"-pix_fmt\",\r\n            \"yuv420p\"\r\n          ],\r\n          \"record\": [\r\n            \"-f\",\r\n            \"segment\",\r\n            \"-segment_time\",\r\n            \"10\",\r\n            \"-segment_format\",\r\n            \"mp4\",\r\n            \"-reset_timestamps\",\r\n            \"1\",\r\n            \"-strftime\",\r\n            \"1\",\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-an\"\r\n          ],\r\n          \"rtmp\": [\r\n            \"-c\",\r\n            \"copy\",\r\n            \"-f\",\r\n            \"flv\"\r\n          ]\r\n        }\r\n      },\r\n      \"ffmpeg_cmds\": [\r\n        {\r\n          \"cmd\": \"ffmpeg -hide_banner -loglevel warning -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -avoid_negative_ts make_zero -i rtsp://<user>:<pass>@<ip>:8554/unicast -f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy -an /tmp/cache/livingRoom-%Y%m%d%H%M%S.mp4 -r 5 -s 1920x1080 -f rawvideo -pix_fmt yuv420p pipe:\",\r\n          \"roles\": [\r\n            \"record\",\r\n            \"rtmp\",\r\n            \"detect\"\r\n          ]\r\n        }\r\n      ],\r\n      \"live\": {\r\n        \"height\": 720,\r\n        \"quality\": 8\r\n      },\r\n      \"motion\": {\r\n        \"contour_area\": 99,\r\n        \"delta_alpha\": 0.2,\r\n        \"frame_alpha\": 0.2,\r\n        \"frame_height\": 180,\r\n        \"mask\": \"\",\r\n        \"threshold\": 25\r\n      },\r\n      \"mqtt\": {\r\n        \"bounding_box\": true,\r\n        \"crop\": true,\r\n        \"enabled\": true,\r\n        \"height\": 270,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"timestamp\": true\r\n      },\r\n      \"name\": \"livingRoom\",\r\n      \"objects\": {\r\n        \"filters\": {\r\n          \"person\": {\r\n            \"mask\": null,\r\n            \"max_area\": 24000000,\r\n            \"min_area\": 0,\r\n            \"min_score\": 0.5,\r\n            \"threshold\": 0.7\r\n          }\r\n        },\r\n        \"mask\": \"\",\r\n        \"track\": [\r\n          \"person\"\r\n        ]\r\n      },\r\n      \"record\": {\r\n        \"enabled\": true,\r\n        \"events\": {\r\n          \"max_seconds\": 300,\r\n          \"objects\": null,\r\n          \"post_capture\": 5,\r\n          \"pre_capture\": 5,\r\n          \"required_zones\": [],\r\n          \"retain\": {\r\n            \"default\": 10,\r\n            \"objects\": {}\r\n          }\r\n        },\r\n        \"retain_days\": 1\r\n      },\r\n      \"rtmp\": {\r\n        \"enabled\": false\r\n      },\r\n      \"snapshots\": {\r\n        \"bounding_box\": true,\r\n        \"clean_copy\": true,\r\n        \"crop\": false,\r\n        \"enabled\": false,\r\n        \"height\": null,\r\n        \"quality\": 70,\r\n        \"required_zones\": [],\r\n        \"retain\": {\r\n          \"default\": 10,\r\n          \"objects\": {}\r\n        },\r\n        \"timestamp\": false\r\n      },\r\n      \"timestamp_style\": {\r\n        \"color\": {\r\n          \"blue\": 255,\r\n          \"green\": 255,\r\n          \"red\": 255\r\n        },\r\n        \"effect\": null,\r\n        \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n        \"position\": \"tl\",\r\n        \"thickness\": 2\r\n      },\r\n      \"zones\": {}\r\n    }\r\n  },\r\n  \"database\": {\r\n    \"path\": \"/media/frigate/frigate.db\"\r\n  },\r\n  \"detect\": {\r\n    \"enabled\": true,\r\n    \"fps\": 5,\r\n    \"height\": 720,\r\n    \"max_disappeared\": null,\r\n    \"width\": 1280\r\n  },\r\n  \"detectors\": {\r\n    \"cpu\": {\r\n      \"device\": \"usb\",\r\n      \"num_threads\": 3,\r\n      \"type\": \"cpu\"\r\n    }\r\n  },\r\n  \"environment_vars\": {},\r\n  \"ffmpeg\": {\r\n    \"global_args\": [\r\n      \"-hide_banner\",\r\n      \"-loglevel\",\r\n      \"warning\"\r\n    ],\r\n    \"hwaccel_args\": [],\r\n    \"input_args\": [\r\n      \"-avoid_negative_ts\",\r\n      \"make_zero\",\r\n      \"+genpts+discardcorrupt\",\r\n      \"-vsync\",\r\n      \"drop\",\r\n      \"-use_wallclock_as_timestamps\",\r\n      \"1\"\r\n    ],\r\n    \"output_args\": {\r\n      \"detect\": [\r\n        \"-f\",\r\n        \"rawvideo\",\r\n        \"-pix_fmt\",\r\n        \"yuv420p\"\r\n      ],\r\n      \"record\": [\r\n        \"-f\",\r\n        \"segment\",\r\n        \"-segment_time\",\r\n        \"10\",\r\n        \"-segment_format\",\r\n        \"mp4\",\r\n        \"-reset_timestamps\",\r\n        \"1\",\r\n        \"-strftime\",\r\n        \"1\",\r\n        \"-c\",\r\n        \"copy\",\r\n        \"-an\"\r\n      ],\r\n      \"rtmp\": [\r\n        \"-c\",\r\n        \"copy\",\r\n        \"-f\",\r\n        \"flv\"\r\n      ]\r\n    }\r\n  },\r\n  \"live\": {\r\n    \"height\": 720,\r\n    \"quality\": 8\r\n  },\r\n  \"logger\": {\r\n    \"default\": \"info\",\r\n    \"logs\": {}\r\n  },\r\n  \"model\": {\r\n    \"height\": 320,\r\n    \"labelmap\": {},\r\n    \"labelmap_path\": null,\r\n    \"path\": null,\r\n    \"width\": 320\r\n  },\r\n  \"motion\": null,\r\n  \"mqtt\": {\r\n    \"client_id\": \"frigate\",\r\n    \"host\": \"mqtt\",\r\n    \"password\": \"<password>\",\r\n    \"port\": 1883,\r\n    \"stats_interval\": 60,\r\n    \"tls_ca_certs\": null,\r\n    \"tls_client_cert\": null,\r\n    \"tls_client_key\": null,\r\n    \"tls_insecure\": null,\r\n    \"topic_prefix\": \"frigate\",\r\n    \"user\": \"<user>\"\r\n  },\r\n  \"objects\": {\r\n    \"filters\": null,\r\n    \"mask\": \"\",\r\n    \"track\": [\r\n      \"person\"\r\n    ]\r\n  },\r\n  \"record\": {\r\n    \"enabled\": false,\r\n    \"events\": {\r\n      \"max_seconds\": 300,\r\n      \"objects\": null,\r\n      \"post_capture\": 5,\r\n      \"pre_capture\": 5,\r\n      \"required_zones\": [],\r\n      \"retain\": {\r\n        \"default\": 10,\r\n        \"objects\": {}\r\n      }\r\n    },\r\n    \"retain_days\": 0\r\n  },\r\n  \"rtmp\": {\r\n    \"enabled\": true\r\n  },\r\n  \"snapshots\": {\r\n    \"bounding_box\": true,\r\n    \"clean_copy\": true,\r\n    \"crop\": false,\r\n    \"enabled\": false,\r\n    \"height\": null,\r\n    \"quality\": 70,\r\n    \"required_zones\": [],\r\n    \"retain\": {\r\n      \"default\": 10,\r\n      \"objects\": {}\r\n    },\r\n    \"timestamp\": false\r\n  },\r\n  \"timestamp_style\": {\r\n    \"color\": {\r\n      \"blue\": 255,\r\n      \"green\": 255,\r\n      \"red\": 255\r\n    },\r\n    \"effect\": null,\r\n    \"format\": \"%m/%d/%Y %H:%M:%S\",\r\n    \"position\": \"tl\",\r\n    \"thickness\": 2\r\n  }\r\n}\n```\n\n\n### Relevant log output\n\n```shell\n[2021-10-27 09:55:08] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59438]\r\n\r\n\r\n[2021-10-27 09:55:11] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59438]\r\n\r\n\r\n[2021-10-27 09:55:11] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59452]\r\n\r\n\r\n[2021-10-27 09:56:39] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59452]\r\n\r\n\r\n[2021-10-27 10:02:35] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51250]\r\n\r\n\r\n[2021-10-27 10:02:40] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51250]\r\n\r\n\r\n[2021-10-27 10:02:41] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59664]\r\n\r\n\r\n[2021-10-27 10:02:41] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51262]\r\n\r\n\r\n[2021-10-27 10:02:52] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51262]\r\n\r\n\r\n[2021-10-27 10:02:56] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59664]\r\n\r\n\r\n[2021-10-27 10:02:57] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59694]\r\n\r\n\r\n[2021-10-27 10:02:59] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59694]\r\n\r\n\r\n[2021-10-27 10:02:59] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59708]\r\n\r\n\r\n[2021-10-27 10:03:00] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59708]\r\n\r\n\r\n[2021-10-27 10:03:00] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59718]\r\n\r\n\r\n[2021-10-27 10:03:02] frigate.mqtt                   INFO    : Turning on detection for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:03] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59718]\r\n\r\n\r\n[2021-10-27 10:03:03] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59730]\r\n\r\n\r\n[2021-10-27 10:03:05] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59730]\r\n\r\n\r\n[2021-10-27 10:03:05] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59740]\r\n\r\n\r\n[2021-10-27 10:03:16] frigate.mqtt                   INFO    : Turning on snapshots for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:17] frigate.mqtt                   INFO    : Turning off snapshots for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:22] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59740]\r\n\r\n\r\n[2021-10-27 10:03:22] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59770]\r\n\r\n\r\n[2021-10-27 10:03:24] frigate.mqtt                   INFO    : Turning off detection for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:25] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59770]\r\n\r\n\r\n[2021-10-27 10:03:26] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59788]\r\n\r\n\r\n[2021-10-27 10:03:27] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59788]\r\n\r\n\r\n[2021-10-27 10:03:27] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59798]\r\n\r\n\r\n[2021-10-27 10:03:31] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59798]\r\n\r\n\r\n[2021-10-27 10:03:31] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59810]\r\n\r\n\r\n[2021-10-27 10:03:33] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59810]\r\n\r\n\r\n[2021-10-27 10:03:33] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59824]\r\n\r\n\r\n[2021-10-27 10:03:35] frigate.mqtt                   INFO    : Turning off recordings for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:37] frigate.mqtt                   INFO    : Turning on recordings for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:40] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59824]\r\n\r\n\r\n[2021-10-27 10:03:40] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59838]\r\n\r\n\r\n[2021-10-27 10:03:42] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59838]\r\n\r\n\r\n[2021-10-27 10:03:42] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59848]\r\n\r\n\r\n[2021-10-27 10:03:43] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59848]\r\n\r\n\r\n[2021-10-27 10:03:43] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59858]\r\n\r\n\r\n[2021-10-27 10:03:44] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59858]\r\n\r\n\r\n[2021-10-27 10:03:44] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59866]\r\n\r\n\r\n[2021-10-27 10:03:45] frigate.mqtt                   INFO    : Turning off recordings for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:46] frigate.mqtt                   INFO    : Turning on detection for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:03:56] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51480]\r\n\r\n\r\n[2021-10-27 10:03:58] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51480]\r\n\r\n\r\n[2021-10-27 10:04:17] frigate.mqtt                   INFO    : Turning on recordings for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:04:21] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51620]\r\n\r\n\r\n[2021-10-27 10:04:22] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:51620]\r\n\r\n\r\n[2021-10-27 10:04:57] frigate.mqtt                   INFO    : Turning off detection for livingRoom via mqtt\r\n\r\n\r\n[2021-10-27 10:06:39] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:59866]\r\n\r\n\r\n[2021-10-27 10:08:09] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:60374]\r\n\r\n\r\n[2021-10-27 10:09:39] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:60374]\n```\n\n\n### FFprobe output from your camera\n\n```shell\nffprobe version 4.4.1-with-options Copyright (c) 2007-2021 the FFmpeg developers\r\n  built with Apple clang version 12.0.5 (clang-1205.0.22.11)\r\n  configuration: --prefix=/usr/local/Cellar/ffmpeg/4.4.1 --enable-shared --cc=clang --host-cflags= --host-ldflags= --enable-demuxer=dash --enable-gpl --enable-libaom --enable-libdav1d --enable-libmp3lame --enable-libopus --enable-libsnappy --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --disable-htmlpages --extra-version=with-options --enable-opencl --enable-videotoolbox\r\n  libavutil      56. 70.100 / 56. 70.100\r\n  libavcodec     58.134.100 / 58.134.100\r\n  libavformat    58. 76.100 / 58. 76.100\r\n  libavdevice    58. 13.100 / 58. 13.100\r\n  libavfilter     7.110.100 /  7.110.100\r\n  libswscale      5.  9.100 /  5.  9.100\r\n  libswresample   3.  9.100 /  3.  9.100\r\n  libpostproc    55.  9.100 / 55.  9.100\r\n[rtsp @ 0x7fef29811000] max delay reached. need to consume packet\r\n[rtsp @ 0x7fef29811000] RTP: missed 2 packets\r\n[rtsp @ 0x7fef29811000] max delay reached. need to consume packet\r\n[rtsp @ 0x7fef29811000] RTP: missed 7 packets\r\nInput #0, rtsp, from 'rtsp://<user>:<pass>@<ip>:8554/unicast':\r\n  Metadata:\r\n    title           : LIVE555 Streaming Media v2020.05.15\r\n    comment         : LIVE555 Streaming Media v2020.05.15\r\n  Duration: N/A, start: 0.000375, bitrate: N/A\r\n  Stream #0:0: Video: h264 (Main), yuv420p(progressive), 1920x1080, 25 fps, 15.08 tbr, 90k tbn, 50 tbc\r\n  Stream #0:1: Audio: pcm_mulaw, 16000 Hz, 1 channels, s16, 128 kb/s\n```\n\n\n### Frigate stats\n\n```json\n{\"babyRoom\":{\"camera_fps\":5.1,\"capture_pid\":230,\"detection_fps\":0.0,\"pid\":227,\"process_fps\":0.0,\"skipped_fps\":0.0},\"detection_fps\":0.0,\"detectors\":{\"cpu\":{\"detection_start\":0.0,\"inference_speed\":215.87,\"pid\":219}},\"livingRoom\":{\"camera_fps\":5.1,\"capture_pid\":228,\"detection_fps\":0.0,\"pid\":225,\"process_fps\":0.0,\"skipped_fps\":0.0},\"service\":{\"storage\":{\"/dev/shm\":{\"free\":60.2,\"mount_type\":\"tmpfs\",\"total\":67.1,\"used\":6.9},\"/media/frigate/clips\":{\"free\":160025.7,\"mount_type\":\"zfs\",\"total\":173435.4,\"used\":13409.7},\"/media/frigate/recordings\":{\"free\":160025.7,\"mount_type\":\"zfs\",\"total\":173435.4,\"used\":13409.7},\"/tmp/cache\":{\"free\":999.5,\"mount_type\":\"tmpfs\",\"total\":1000.0,\"used\":0.5}},\"uptime\":127266,\"version\":\"0.9.4-26ae608\"}}\n```\n\n\n### Operating system\n\nDebian\n\n### Install method\n\nDocker Compose\n\n### Coral version\n\nCPU (no coral)\n\n### Network connection\n\nWireless\n\n### Camera make and model\n\nWyze Pan w/ dafang hacks\n\n### Any other information that may be helpful\n\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2114", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2114/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2114/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2114/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/2114", "id": 1035673638, "node_id": "I_kwDOCf7Pcs49uyAm", "number": 2114, "title": "[Support]: cant create recordings \"pipe:: Invalid data found when processing input\"", "user": {"login": "scyto", "id": 11369180, "node_id": "MDQ6VXNlcjExMzY5MTgw", "avatar_url": "https://avatars.githubusercontent.com/u/11369180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scyto", "html_url": "https://github.com/scyto", "followers_url": "https://api.github.com/users/scyto/followers", "following_url": "https://api.github.com/users/scyto/following{/other_user}", "gists_url": "https://api.github.com/users/scyto/gists{/gist_id}", "starred_url": "https://api.github.com/users/scyto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scyto/subscriptions", "organizations_url": "https://api.github.com/users/scyto/orgs", "repos_url": "https://api.github.com/users/scyto/repos", "events_url": "https://api.github.com/users/scyto/events{/privacy}", "received_events_url": "https://api.github.com/users/scyto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2725128739, "node_id": "MDU6TGFiZWwyNzI1MTI4NzM5", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/support", "name": "support", "color": "EDB07E", "default": false, "description": ""}, {"id": 3413734788, "node_id": "LA_kwDOCf7Pcs7LeXWE", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/triage", "name": "triage", "color": "bfd4f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-10-25T23:54:58Z", "updated_at": "2021-10-27T22:09:10Z", "closed_at": "2021-10-27T22:08:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nHaven't used frigate in several months.\r\nDid a pull to update the docker container.\r\nOn start got config format errors - see config file format has changed, modified settings, changed camera config to have a hires stream and a lowres detection stream.\r\n\r\nDetection works, see picture of what is detected.  Try to play stream and get unsupported format in browser.\r\nTry to download stream and get html.\r\nFind no recordings in the media folder.\r\nFind error \"pipe:: Invalid data found when processing input\" in console output of frigate.\r\n\r\n### Version\r\n\r\n0.9.4-26AE608\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\n#global settings (some can be overriden on per camera basis)\r\nmqtt:\r\n  host: mqtt.alexbal.com\r\n\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\n\r\nffmpeg:\r\n  hwaccel_args:\r\n    - -c:v\r\n    - h264_mmal\r\n\r\nobjects:\r\n  track:\r\n    - person\r\n    - car\r\n    - cat\r\n    - bird\r\n    - dog\r\n\r\nbirdseye:\r\n  # Optional: Enable birdseye view (default: shown below)\r\n  enabled: True\r\n  # Optional: Width of the output resolution (default: shown below)\r\n  width: 1920\r\n  # Optional: Height of the output resolution (default: shown below)\r\n  height: 1080\r\n\r\n\r\n\r\n#per camera definitions (set one stream for clips, recording, etc, set another for detection)\r\ncameras:\r\n  frontdoor:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://user:password!@192.168.1.51:554/Streaming/Channels/101    \r\n          roles:\r\n#           - rtmp\r\n            - record\r\n        - path: rtsp://user:password@192.168.1.51:554/Streaming/Channels/102\r\n          roles:\r\n            - detect\r\n    rtmp:\r\n      enabled: false\r\n    detect:\r\n      width: 704\r\n      height: 480\r\n      fps: 6\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\npi@pi-frigate01:~/frigate $ docker-compose up\r\nStarting frigate ... done\r\nAttaching to frigate\r\nfrigate    | [s6-init] making user provided files available at /var/run/s6/etc...exited 0.\r\nfrigate    | [s6-init] ensuring user provided files have correct perms...exited 0.\r\nfrigate    | [fix-attrs.d] applying ownership & permissions fixes...\r\nfrigate    | [fix-attrs.d] done.\r\nfrigate    | [cont-init.d] executing container initialization scripts...\r\nfrigate    | [cont-init.d] done.\r\nfrigate    | [services.d] starting services\r\nfrigate    | [services.d] done.\r\nfrigate    | [2021-10-26 00:30:59] frigate.app                    INFO    : Starting Frigate (0.9.4-26ae608)\r\nfrigate    | Starting migrations\r\nfrigate    | [2021-10-26 00:30:59] peewee_migrate                 INFO    : Starting migrations\r\nfrigate    | There is nothing to migrate\r\nfrigate    | [2021-10-26 00:30:59] peewee_migrate                 INFO    : There is nothing to migrate\r\nfrigate    | [2021-10-26 00:31:00] frigate.mqtt                   INFO    : MQTT connected\r\nfrigate    | [2021-10-26 00:31:00] frigate.app                    INFO    : Output process started: 215\r\nfrigate    | [2021-10-26 00:31:00] detector.coral                 INFO    : Starting detection process: 214\r\nfrigate    | [2021-10-26 00:31:00] ws4py                          INFO    : Using epoll\r\nfrigate    | [2021-10-26 00:31:00] frigate.edgetpu                INFO    : Attempting to load TPU as usb\r\nfrigate    | [2021-10-26 00:31:00] frigate.app                    INFO    : Camera processor started for frontdoor: 218\r\nfrigate    | [2021-10-26 00:31:00] frigate.app                    INFO    : Capture process started for frontdoor: 221\r\nfrigate    | [2021-10-26 00:31:00] ws4py                          INFO    : Using epoll\r\nfrigate    | [2021-10-26 00:31:02] frigate.edgetpu                INFO    : TPU found\r\nfrigate    | [2021-10-26 00:31:09] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote =\r\nfrigate    | [2021-10-26 00:31:16] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:8082 | Remote =\r\nfrigate    | [2021-10-26 00:31:20] ws4py                          INFO    : Terminating websocket [Local => 127.0.0.1:8082 | Remot\r\nfrigate    | [2021-10-26 00:31:23] frigate.mqtt                   INFO    : Turning on recordings for frontdoor via mqtt\r\nfrigate    | [2021-10-26 00:32:29] frigate.http                   ERROR   : ffmpeg version 4.3.1 Copyright (c) 2000-2020 the FFmpeg developers\r\nfrigate    |   built with gcc 9 (Ubuntu 9.3.0-17ubuntu1~20.04)\r\nfrigate    |   configuration: --disable-debug --disable-doc --disable-ffplay --enable-shared --enable-avresample --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-gpl --enable-libfreetype --enable-libvidstab --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libxcb --enable-libx265 --enable-libxvid --enable-libx264 --enable-nonfree --enable-openssl --enable-libfdk_aac --enable-postproc --enable-small --enable-version3 --enable-libzmq --extra-libs=-ldl --prefix=/opt/ffmpeg --enable-libopenjpeg --enable-libkvazaar --enable-libaom --extra-libs=-lpthread --enable-omx --enable-omx-rpi --enable-mmal --enable-v4l2_m2m --enable-neon --extra-cflags=-I/opt/ffmpeg/include --extra-ldflags=-L/opt/ffmpeg/lib\r\nfrigate    |   libavutil      56. 51.100 / 56. 51.100\r\nfrigate    |   libavcodec     58. 91.100 / 58. 91.100\r\nfrigate    |   libavformat    58. 45.100 / 58. 45.100\r\nfrigate    |   libavdevice    58. 10.100 / 58. 10.100\r\nfrigate    |   libavfilter     7. 85.100 /  7. 85.100\r\nfrigate    |   libavresample   4.  0.  0 /  4.  0.  0\r\nfrigate    |   libswscale      5.  7.100 /  5.  7.100\r\nfrigate    |   libswresample   3.  7.100 /  3.  7.100\r\nfrigate    |   libpostproc    55.  7.100 / 55.  7.100\r\nfrigate    | pipe:: Invalid data found when processing input\r\nfrigate    |\r\n```\r\n\r\n\r\n### FFprobe output from your camera\r\n\r\n```shell\r\n\r\nroot@96920dc5526f:/opt/frigate/frigate# ffprobe rtsp://admin:redacted\\!@192.168.1.51:554/Streaming/Channels/101 \r\nffprobe version 4.3.1 Copyright (c) 2007-2020 the FFmpeg developers\r\n  built with gcc 9 (Ubuntu 9.3.0-17ubuntu1~20.04)\r\n  configuration: --disable-debug --disable-doc --disable-ffplay --enable-shared --enable-avresample --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-gpl --enable-libfreetype --enable-libvidstab --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libxcb --enable-libx265 --enable-libxvid --enable-libx264 --enable-nonfree --enable-openssl --enable-libfdk_aac --enable-postproc --enable-small --enable-version3 --enable-libzmq --extra-libs=-ldl --prefix=/opt/ffmpeg --enable-libopenjpeg --enable-libkvazaar --enable-libaom --extra-libs=-lpthread --enable-omx --enable-omx-rpi --enable-mmal --enable-v4l2_m2m --enable-neon --extra-cflags=-I/opt/ffmpeg/include --extra-ldflags=-L/opt/ffmpeg/lib\r\n  libavutil      56. 51.100 / 56. 51.100\r\n  libavcodec     58. 91.100 / 58. 91.100\r\n  libavformat    58. 45.100 / 58. 45.100\r\n  libavdevice    58. 10.100 / 58. 10.100\r\n  libavfilter     7. 85.100 /  7. 85.100\r\n  libavresample   4.  0.  0 /  4.  0.  0\r\n  libswscale      5.  7.100 /  5.  7.100\r\n  libswresample   3.  7.100 /  3.  7.100\r\n  libpostproc    55.  7.100 / 55.  7.100\r\n[udp @ 0x23b0a20] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[udp @ 0x23c0d80] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[udp @ 0x23d1a90] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[udp @ 0x23e1de0] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[rtsp @ 0x23aba90] max delay reached. need to consume packet\r\n[rtsp @ 0x23aba90] RTP: missed 250 packets\r\n[h264 @ 0x23af020] concealing 7049 DC, 7049 AC, 7049 MV errors in I frame\r\n[rtsp @ 0x23aba90] max delay reached. need to consume packet\r\n[rtsp @ 0x23aba90] RTP: missed 224 packets\r\nInput #0, rtsp, from 'rtsp://admin:redacted!@192.168.1.51:554/Streaming/Channels/101':\r\n  Metadata:\r\n    title           : Media Presentation\r\n  Duration: N/A, start: 0.000000, bitrate: N/A\r\n    Stream #0:0: Video: h264, yuv420p(tv, bt709, progressive), 2048x1536, 20 fps, 20 tbr, 90k tbn, 40 tbc\r\n    Stream #0:1: Audio: pcm_mulaw, 8000 Hz, 1 channels, s16, 64 kb/s\r\n\r\n\r\nroot@96920dc5526f:/opt/frigate/frigate# ffprobe rtsp://admin:redacted\\!@192.168.1.51:554/Streaming/Channels/102 \r\nffprobe version 4.3.1 Copyright (c) 2007-2020 the FFmpeg developers\r\n  built with gcc 9 (Ubuntu 9.3.0-17ubuntu1~20.04)\r\n  configuration: --disable-debug --disable-doc --disable-ffplay --enable-shared --enable-avresample --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-gpl --enable-libfreetype --enable-libvidstab --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libxcb --enable-libx265 --enable-libxvid --enable-libx264 --enable-nonfree --enable-openssl --enable-libfdk_aac --enable-postproc --enable-small --enable-version3 --enable-libzmq --extra-libs=-ldl --prefix=/opt/ffmpeg --enable-libopenjpeg --enable-libkvazaar --enable-libaom --extra-libs=-lpthread --enable-omx --enable-omx-rpi --enable-mmal --enable-v4l2_m2m --enable-neon --extra-cflags=-I/opt/ffmpeg/include --extra-ldflags=-L/opt/ffmpeg/lib\r\n  libavutil      56. 51.100 / 56. 51.100\r\n  libavcodec     58. 91.100 / 58. 91.100\r\n  libavformat    58. 45.100 / 58. 45.100\r\n  libavdevice    58. 10.100 / 58. 10.100\r\n  libavfilter     7. 85.100 /  7. 85.100\r\n  libavresample   4.  0.  0 /  4.  0.  0\r\n  libswscale      5.  7.100 /  5.  7.100\r\n  libswresample   3.  7.100 /  3.  7.100\r\n  libpostproc    55.  7.100 / 55.  7.100\r\n[udp @ 0x1bf9a00] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[udp @ 0x1c09d80] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[udp @ 0x1c1aa80] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\n[udp @ 0x1c2add0] attempted to set receive buffer to size 393216 but it only ended up set as 360448\r\nInput #0, rtsp, from 'rtsp://admin:redacted@192.168.1.51:554/Streaming/Channels/102':\r\n  Metadata:\r\n    title           : Media Presentation\r\n  Duration: N/A, start: 0.000000, bitrate: N/A\r\n    Stream #0:0: Video: h264, yuv420p(tv, smpte170m, progressive), 704x480, 6 fps, 6 tbr, 90k tbn, 12 tbc\r\n    Stream #0:1: Audio: pcm_mulaw, 8000 Hz, 1 channels, s16, 64 kb/s\r\n\r\n```\r\n\r\n\r\n### Frigate stats\r\n\r\n```json\r\n{\"detection_fps\":6.6,\"detectors\":{\"coral\":{\"detection_start\":0.0,\"inference_speed\":26.55,\"pid\":215}},\"frontdoor\":{\"camera_fps\":6.1,\"capture_pid\":224,\"detection_fps\":6.6,\"pid\":219,\"process_fps\":6.0,\"skipped_fps\":0.0},\"service\":{\"storage\":{\"/dev/shm\":{\"free\":66.0,\"mount_type\":\"tmpfs\",\"total\":67.1,\"used\":1.1},\"/media/frigate/clips\":{\"free\":116626.7,\"mount_type\":\"ext4\",\"total\":125752.2,\"used\":3982.7},\"/media/frigate/recordings\":{\"free\":116626.7,\"mount_type\":\"ext4\",\"total\":125752.2,\"used\":3982.7},\"/tmp/cache\":{\"free\":1000.0,\"mount_type\":\"tmpfs\",\"total\":1000.0,\"used\":0.0}},\"uptime\":143,\"version\":\"0.9.4-26ae608\"}}\r\n```\r\n\r\n\r\n### Operating system\r\n\r\nOther\r\n\r\n### Install method\r\n\r\nDocker Compose\r\n\r\n### Coral version\r\n\r\nUSB\r\n\r\n### Network connection\r\n\r\nWired\r\n\r\n### Camera make and model\r\n\r\nHikvision DS-2CD2732F-IS\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2073", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2073/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2073/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2073/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/2073", "id": 1032888376, "node_id": "I_kwDOCf7Pcs49kKA4", "number": 2073, "title": "[Support]: Screen is shaking around specific resolution", "user": {"login": "Mincka", "id": 6184289, "node_id": "MDQ6VXNlcjYxODQyODk=", "avatar_url": "https://avatars.githubusercontent.com/u/6184289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mincka", "html_url": "https://github.com/Mincka", "followers_url": "https://api.github.com/users/Mincka/followers", "following_url": "https://api.github.com/users/Mincka/following{/other_user}", "gists_url": "https://api.github.com/users/Mincka/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mincka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mincka/subscriptions", "organizations_url": "https://api.github.com/users/Mincka/orgs", "repos_url": "https://api.github.com/users/Mincka/repos", "events_url": "https://api.github.com/users/Mincka/events{/privacy}", "received_events_url": "https://api.github.com/users/Mincka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2701058239, "node_id": "MDU6TGFiZWwyNzAxMDU4MjM5", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/frontend", "name": "frontend", "color": "c2e0c6", "default": false, "description": ""}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-21T19:56:36Z", "updated_at": "2021-11-02T11:26:29Z", "closed_at": "2021-11-02T11:26:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the problem you are having\r\n\r\nThe screen is shaking when my Edge browser is in full screen with favorite bar on Windows 11. \r\nThis issue can be also reproduced using Firefox.\r\n\r\n![Animation](https://user-images.githubusercontent.com/6184289/138347067-e824bb64-b97e-4d50-b6b0-144ad04a1a54.gif)\r\n(The shaking is a lot faster in reality)\r\n\r\nThe resolution is:\r\n![image](https://user-images.githubusercontent.com/6184289/138347241-b21fa8ee-a9e9-466a-a77a-74c42398b698.png)\r\n\r\nBut it does not have to be specifically this resolution, it's around this height.\r\n\r\n\r\n### Version\r\n\r\n0.9.1\r\n\r\n### Frigate config file\r\n\r\n```yaml\r\nN/A\r\n```\r\n\r\n\r\n### Relevant log output\r\n\r\n```shell\r\nN/A\r\n```\r\n\r\n\r\n### FFprobe output from your camera\r\n\r\n```shell\r\nN/A\r\n```\r\n\r\n\r\n### Frigate stats\r\n\r\n_No response_\r\n\r\n### Operating system\r\n\r\nHassOS\r\n\r\n### Install method\r\n\r\nHassOS Addon\r\n\r\n### Coral version\r\n\r\nUSB\r\n\r\n### Network connection\r\n\r\nWired\r\n\r\n### Camera make and model\r\n\r\nHikvision DS-2CD2186G2-I\r\n\r\n### Any other information that may be helpful\r\n\r\n_No response_", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/2073/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1657", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1657/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1657/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1657/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/1657", "id": 983028576, "node_id": "MDU6SXNzdWU5ODMwMjg1NzY=", "number": 1657, "title": "Juddering UI due to scroll bar", "user": {"login": "deosrc", "id": 50599779, "node_id": "MDQ6VXNlcjUwNTk5Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/50599779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deosrc", "html_url": "https://github.com/deosrc", "followers_url": "https://api.github.com/users/deosrc/followers", "following_url": "https://api.github.com/users/deosrc/following{/other_user}", "gists_url": "https://api.github.com/users/deosrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/deosrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deosrc/subscriptions", "organizations_url": "https://api.github.com/users/deosrc/orgs", "repos_url": "https://api.github.com/users/deosrc/repos", "events_url": "https://api.github.com/users/deosrc/events{/privacy}", "received_events_url": "https://api.github.com/users/deosrc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-08-30T17:28:00Z", "updated_at": "2023-03-27T21:17:38Z", "closed_at": "2023-02-11T14:46:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe UI is constantly adding and removing the scroll bar which is causing a juddering:\r\n\r\n![ezgif-3-5caf3e5970de](https://user-images.githubusercontent.com/50599779/131378388-d98d1e20-ce99-4079-b1ea-68bce548cb8b.gif)\r\n\r\n(This is actually happening much faster but the frame rate of the GIF reduced the effect)\r\n\r\n\r\n\r\n**Version of frigate**\r\n\r\n0.9.0-46fe06e\r\n\r\n**Config file**\r\nInclude your full config file wrapped in triple back ticks.\r\n```yaml\r\n    mqtt:\r\n      host: mqtt\r\n      user: frigate\r\n      password: '{FRIGATE_MQTT_PASSWORD}'\r\n    hwaccel_args:\r\n      - -c:v\r\n      - h264_v4l2m2m\r\n    detectors:\r\n      cpu1:\r\n        type: cpu\r\n      cpu2:\r\n        type: cpu\r\n      cpu3:\r\n        type: cpu\r\n    objects:\r\n      track:\r\n        - person\r\n        - vehicle\r\n        - animal\r\n    record:\r\n      enabled: true\r\n      retain_days: 0\r\n      events:\r\n        enabled: true\r\n        objects:\r\n          - person\r\n          - vehicle\r\n          - animal\r\n        retain:\r\n          animal: 3\r\n    birdseye:\r\n      enabled: false\r\n    cameras:\r\n      front:\r\n        ffmpeg:\r\n          inputs:\r\n            - path: 'rtsp://frigate:{FRIGATE_CCTV_PASSWORD}@cctv/Streaming/Channels/101'\r\n              roles:\r\n                - rtmp\r\n                - detect\r\n                - record\r\n        detect:\r\n          width: 768\r\n          height: 432\r\n          fps: 2\r\n        motion:\r\n          mask:\r\n            - 14,19,14,42,218,42,218,19 # Timestamp\r\n      side:\r\n        ffmpeg:\r\n          inputs:\r\n            - path: 'rtsp://frigate:{FRIGATE_CCTV_PASSWORD}@cctv/Streaming/Channels/201'\r\n              roles:\r\n                - rtmp\r\n                - detect\r\n                - record\r\n        detect:\r\n          width: 768\r\n          height: 432\r\n          fps: 2\r\n        motion:\r\n          mask:\r\n            - 14,19,14,42,218,42,218,19 # Timestamp\r\n      garden_1:\r\n        ffmpeg:\r\n          inputs:\r\n            - path: 'rtsp://frigate:{FRIGATE_CCTV_PASSWORD}@cctv/Streaming/Channels/301'\r\n              roles:\r\n                - rtmp\r\n                - detect\r\n                - record\r\n        detect:\r\n          width: 768\r\n          height: 432\r\n          fps: 2\r\n        motion:\r\n          mask:\r\n            - 14,19,14,42,218,42,218,19 # Timestamp\r\n        objects:\r\n          track:\r\n            - person\r\n            - animal\r\n      garden_2:\r\n        ffmpeg:\r\n          inputs:\r\n            - path: 'rtsp://frigate:{FRIGATE_CCTV_PASSWORD}@cctv/Streaming/Channels/401'\r\n              roles:\r\n                - rtmp\r\n                - detect\r\n                - record\r\n        detect:\r\n          width: 768\r\n          height: 432\r\n          fps: 2\r\n        motion:\r\n          mask:\r\n            - 14,19,14,42,218,42,218,19 # Timestamp\r\n      shed:\r\n        ffmpeg:\r\n          inputs:\r\n            - path: 'rtsp://frigate:{FRIGATE_CCTV_PASSWORD}@cctv/Streaming/Channels/501'\r\n              roles:\r\n                - rtmp\r\n                - detect\r\n                - record\r\n        detect:\r\n          width: 768\r\n          height: 432\r\n          fps: 2\r\n        motion:\r\n          mask:\r\n            - 14,19,14,42,218,42,218,19 # Timestamp\r\n```\r\n\r\n**Frigate container logs**\r\n```\r\nInclude relevant log output here\r\n```\r\n\r\n**Frigate stats**\r\n```json\r\nOutput from frigate's /api/stats endpoint\r\n```\r\n\r\n**FFprobe from your camera**\r\n\r\nRun the following command and paste output below\r\n```\r\nffprobe <stream_url>\r\n```\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Computer Hardware**\r\n - OS: [e.g. Ubuntu, Windows] Pop!_OS\r\n - Install method: [e.g. Addon, Docker Compose, Docker Command] Kubernetes\r\n - Virtualization: [e.g. Proxmox, Virtualbox] N/A\r\n - Coral Version: [e.g. USB, PCIe, None] None\r\n - Network Setup: [e.g. Wired, WiFi] Wired\r\n\r\n**Camera Info:**\r\n - Manufacturer: [e.g. Dahua] Hikvision DVR\r\n - Model: [e.g. IPC-HDW5231R-ZE]\r\n - Resolution: [e.g. 720p] 720p\r\n - FPS: [e.g. 5]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\nInformation from browser developer tools:\r\n\r\n`html` tag computed size is flicking between 1920x883 and 1908x886\r\n`width` and `height` attributes on `<canvas data-testid=\"comeraimage-canvas\">` seem to be flicking between 528x297 and 532x299 for all cameras (same models so expected that the values would match).", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1657/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1649", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1649/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1649/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1649/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/1649", "id": 982185174, "node_id": "MDU6SXNzdWU5ODIxODUxNzQ=", "number": 1649, "title": "Camera input fails with special \"#\" character in password", "user": {"login": "hwinkel", "id": 152759, "node_id": "MDQ6VXNlcjE1Mjc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/152759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hwinkel", "html_url": "https://github.com/hwinkel", "followers_url": "https://api.github.com/users/hwinkel/followers", "following_url": "https://api.github.com/users/hwinkel/following{/other_user}", "gists_url": "https://api.github.com/users/hwinkel/gists{/gist_id}", "starred_url": "https://api.github.com/users/hwinkel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hwinkel/subscriptions", "organizations_url": "https://api.github.com/users/hwinkel/orgs", "repos_url": "https://api.github.com/users/hwinkel/repos", "events_url": "https://api.github.com/users/hwinkel/events{/privacy}", "received_events_url": "https://api.github.com/users/hwinkel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2792034105, "node_id": "MDU6TGFiZWwyNzkyMDM0MTA1", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/pinned", "name": "pinned", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-29T19:37:28Z", "updated_at": "2022-11-02T12:00:56Z", "closed_at": "2022-11-02T12:00:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**password with # breaks the input**\r\nAfter hours of debugging i found that stream passwords which contain a \"#\" will break the input with\r\nError messages like:\r\n```\r\nfrigate.video                  INFO    : mauer_cam: ffmpeg sent a broken frame. memoryview assignment: lvalue and rvalue have different structures\r\nfrigate.video                  INFO    : mauer_cam: ffmpeg process is not running. exiting capture thread...\r\n```\r\n\r\nThis leads to a green screen cam view.\r\n\r\n**Version of frigate**\r\n0.8.4-5043040`\r\n\r\n**Please Note**\r\nI'm pretty sure this is related to FFmpeg or another library and not frigate self. However for all user like to have \"#\" special character in the stream passwords it might save you some hours. FYI: I have not checked other special characters!\r\n", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1649/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1637", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1637/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1637/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/1637", "id": 981877843, "node_id": "MDU6SXNzdWU5ODE4Nzc4NDM=", "number": 1637, "title": "[Beta2] Frigate clips occasionally do not \"autoplay\" -- unexpected client/server interaction?", "user": {"login": "dermotduffy", "id": 1136829, "node_id": "MDQ6VXNlcjExMzY4Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1136829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dermotduffy", "html_url": "https://github.com/dermotduffy", "followers_url": "https://api.github.com/users/dermotduffy/followers", "following_url": "https://api.github.com/users/dermotduffy/following{/other_user}", "gists_url": "https://api.github.com/users/dermotduffy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dermotduffy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dermotduffy/subscriptions", "organizations_url": "https://api.github.com/users/dermotduffy/orgs", "repos_url": "https://api.github.com/users/dermotduffy/repos", "events_url": "https://api.github.com/users/dermotduffy/events{/privacy}", "received_events_url": "https://api.github.com/users/dermotduffy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2762576053, "node_id": "MDU6TGFiZWwyNzYyNTc2MDUz", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/stale", "name": "stale", "color": "F4D8C5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/3", "html_url": "https://github.com/blakeblackshear/frigate/milestone/3", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/3/labels", "id": 6462069, "node_id": "MDk6TWlsZXN0b25lNjQ2MjA2OQ==", "number": 3, "title": "0.9.0", "description": "", "creator": {"login": "blakeblackshear", "id": 569905, "node_id": "MDQ6VXNlcjU2OTkwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/569905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blakeblackshear", "html_url": "https://github.com/blakeblackshear", "followers_url": "https://api.github.com/users/blakeblackshear/followers", "following_url": "https://api.github.com/users/blakeblackshear/following{/other_user}", "gists_url": "https://api.github.com/users/blakeblackshear/gists{/gist_id}", "starred_url": "https://api.github.com/users/blakeblackshear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blakeblackshear/subscriptions", "organizations_url": "https://api.github.com/users/blakeblackshear/orgs", "repos_url": "https://api.github.com/users/blakeblackshear/repos", "events_url": "https://api.github.com/users/blakeblackshear/events{/privacy}", "received_events_url": "https://api.github.com/users/blakeblackshear/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 17, "state": "open", "created_at": "2021-02-22T13:34:07Z", "updated_at": "2022-02-06T20:41:41Z", "due_on": null, "closed_at": null}, "comments": 18, "created_at": "2021-08-28T16:43:56Z", "updated_at": "2021-10-01T04:19:00Z", "closed_at": "2021-10-01T04:18:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWith Frigate 0.9.0 beta2, and the matching HA integration pre-release 2.0.0, occasionally a clip/event will not autoplay in the browser. When the video element loads, manually clicking the play icon _will_ correctly play the video. I have observed this behavior:\r\n\r\n* In the HA media browser\r\n* In the [Lovelace card](https://github.com/dermotduffy/frigate-hass-card) where I'm manually assembling URLs and passing them to the HLS player.\r\n\r\nI am confident this is new behavior from Frigate 0.9.0 onwards, and as the URLs are resolving to correctly formed Frigate URLs and the video elements have the attribute autoplay enabled -- I am not convinced this is a \"client-side\" issue even though it has all the appearance of one. This happens across multiple browsers and OSes.\r\n\r\nThis makes media browsing more painful.\r\n\r\n**Version of frigate**\r\n0.9.0-3340952\r\n\r\n**Config file**\r\nInclude your full config file wrapped in triple back ticks.\r\n```yaml\r\nmqtt:\r\n  host: mqtt\r\nffmpeg:\r\n  global_args:\r\n    - -hide_banner\r\n    - -loglevel\r\n    - info\r\n  hwaccel_args:\r\n    - -hwaccel\r\n    - vaapi\r\n    - -hwaccel_device\r\n    - /dev/dri/renderD128\r\n    - -hwaccel_output_format\r\n    - yuv420p\r\n   - -fflags\r\n   - +genpts+discardcorrupt\r\n   - -rtsp_transport\r\n   - tcp\r\n   - -stimeout\r\n   - '5000000'\r\ncameras:\r\n  sitting_room:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://rtsp:{FRIGATE_WYZE_RTSP_PASSWORD}@{HOST_PATH}\r\n          roles:\r\n            - detect\r\n            - rtmp\r\n            - record\r\n    detect:\r\n      enabled: True\r\n      width: 1920\r\n      height: 1080\r\n      fps: 4\r\n    record:\r\n      events:\r\n        enabled: True\r\n        objects:\r\n          - person\r\n    motion:\r\n      mask:\r\n        - 1868,1058,1868,1018,1392,1018,1392,1058\r\n\r\n[cut as the file is lengthy and this is likely not relevant to the issue at hand. Full available upon request]\r\n\r\ndetectors:\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\nobjects:\r\n  filters:\r\n    person:\r\n      # Optional: minimum score for the object to initiate tracking (default: shown below)\r\n      min_score: 0.6\r\n      # Optional: minimum decimal percentage for tracked object's computed score to be considered a true positive (default: shown below)\r\n      threshold: 0.75\r\n```\r\n\r\n**Frigate container logs**\r\n\r\nNothing logged of interest.\r\n\r\n**Query logs**\r\n\r\nLogs from my reverse proxy (Apache) on the requests being made from HomeAssistant to Frigate:\r\n\r\nOn video element load (where I would expect autoplay):\r\n\r\n```\r\nfrigate:443 [IP] - - [28/Aug/2021:09:28:57 -0700] \"GET /vod/event/1630123639.21596-l1y9af/index.m3u8?authSig=[REDACTED] HTTP/1.1\" 200 955 \"https://[DOMAIN]/lovelace-test/0\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36\"\r\nfrigate:443 [IP] - - [28/Aug/2021:09:28:57 -0700] \"GET /vod/event/1630123639.21596-l1y9af/index.m3u8?authSig=[REDACTED] HTTP/1.1\" 200 5691 \"https://[DOMAIN]/lovelace-test/0\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36\"\r\nfrigate:443 [IP] - - [28/Aug/2021:09:28:57 -0700] \"GET /vod/event/1630123639.21596-l1y9af/seg-1-v1.ts?authSig=[REDACTED] HTTP/1.1\" 200 1173025 \"https://[DOMAIN]/lovelace-test/0\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36\"\r\nfrigate:443 [IP] - - [28/Aug/2021:09:28:57 -0700] \"GET /vod/event/1630123639.21596-l1y9af/seg-2-v1.ts?authSig=[REDACTED] HTTP/1.1\" 200 1049014 \"https://[DOMAIN]/lovelace-test/0\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36\"\r\nfrigate:443 [IP] - - [28/Aug/2021:09:28:57 -0700] \"GET /vod/event/1630123639.21596-l1y9af/seg-3-v1.ts?authSig=[REDACTED] HTTP/1.1\" 200 1157897 \"https://[DOMAIN]/lovelace-test/0\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36\"\r\n```\r\n... when play is manually clicked:\r\n\r\n```\r\nfrigate:443 [IP] - - [28/Aug/2021:09:28:59 -0700] \"GET / HTTP/1.1\" 200 6028 \"-\" \"Go-http-client/1.1\"\r\nfrigate:443 [IP] - - [28/Aug/2021:09:29:00 -0700] \"GET /vod/event/1630123639.21596-l1y9af/seg-4-v1.ts?authSig=[REDACTED] HTTP/1.1\" 200 149091 \"https://[DOMAIN]/lovelace-test/0\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36\"\r\n```\r\n\r\n\r\n**Frigate stats**\r\n```json\r\n{\"back_yard\":{\"camera_fps\":4.1,\"capture_pid\":285,\"detection_fps\":1.0,\"pid\":247,\"process_fps\":4.1,\"skipped_fps\":0.0},\"detection_fps\":7.1,\"detectors\":{\"coral\":{\"detection_start\":0.0,\"inference_speed\":9.53,\"pid\":227}},\"front_door\":{\"camera_fps\":4.0,\"capture_pid\":290,\"detection_fps\":0.0,\"pid\":249,\"process_fps\":4.0,\"skipped_fps\":0.0},\"garage\":{\"camera_fps\":4.1,\"capture_pid\":275,\"detection_fps\":0.0,\"pid\":244,\"process_fps\":4.1,\"skipped_fps\":0.0},\"kitchen\":{\"camera_fps\":0.1,\"capture_pid\":259,\"detection_fps\":0.1,\"pid\":238,\"process_fps\":0.1,\"skipped_fps\":0.0},\"landing\":{\"camera_fps\":4.0,\"capture_pid\":281,\"detection_fps\":0.0,\"pid\":246,\"process_fps\":4.0,\"skipped_fps\":0.0},\"living_room\":{\"camera_fps\":4.0,\"capture_pid\":266,\"detection_fps\":0.0,\"pid\":241,\"process_fps\":4.0,\"skipped_fps\":0.0},\"master_bedroom\":{\"camera_fps\":4.1,\"capture_pid\":270,\"detection_fps\":0.0,\"pid\":243,\"process_fps\":4.1,\"skipped_fps\":0.0},\"office\":{\"camera_fps\":0.1,\"capture_pid\":261,\"detection_fps\":0.0,\"pid\":239,\"process_fps\":0.1,\"skipped_fps\":0.0},\"service\":{\"storage\":{\"/dev/shm\":{\"free\":234.4,\"mount_type\":\"tmpfs\",\"total\":268.4,\"used\":34.1},\"/media/frigate/clips\":{\"free\":15628.6,\"mount_type\":\"ext4\",\"total\":244529.7,\"used\":216408.2},\"/media/frigate/recordings\":{\"free\":15628.6,\"mount_type\":\"ext4\",\"total\":244529.7,\"used\":216408.2},\"/tmp/cache\":{\"free\":1999.7,\"mount_type\":\"tmpfs\",\"total\":2000.0,\"used\":0.3}},\"uptime\":2177,\"version\":\"0.9.0-3340952\"},\"sitting_room\":{\"camera_fps\":4.1,\"capture_pid\":251,\"detection_fps\":6.0,\"pid\":235,\"process_fps\":4.1,\"skipped_fps\":0.0}}\r\n```\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\nMaybe ~75% of clicked clips will autoplay, 25% will act like this (no autoplay, but work fine when play is manually clicked).\r\n\r\n![Peek 2021-08-28 09-36](https://user-images.githubusercontent.com/1136829/131224724-e7108127-ed2f-4d95-ab25-ecf86335caf5.gif)\r\n\r\n**Computer Hardware**\r\n - OS: Ubuntu 20.04.3 LTS\r\n - Install method: Manual docker\r\n - Virtualization: None\r\n - Coral Version: USB\r\n - Network Setup: Both\r\n", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1633", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1633/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1633/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1633/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/1633", "id": 981789963, "node_id": "MDU6SXNzdWU5ODE3ODk5NjM=", "number": 1633, "title": "Live view broken due to camera name similarities", "user": {"login": "asaupp", "id": 78357634, "node_id": "MDQ6VXNlcjc4MzU3NjM0", "avatar_url": "https://avatars.githubusercontent.com/u/78357634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asaupp", "html_url": "https://github.com/asaupp", "followers_url": "https://api.github.com/users/asaupp/followers", "following_url": "https://api.github.com/users/asaupp/following{/other_user}", "gists_url": "https://api.github.com/users/asaupp/gists{/gist_id}", "starred_url": "https://api.github.com/users/asaupp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asaupp/subscriptions", "organizations_url": "https://api.github.com/users/asaupp/orgs", "repos_url": "https://api.github.com/users/asaupp/repos", "events_url": "https://api.github.com/users/asaupp/events{/privacy}", "received_events_url": "https://api.github.com/users/asaupp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-28T09:37:16Z", "updated_at": "2021-08-29T23:44:44Z", "closed_at": "2021-08-29T20:00:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSince 0.8 I'm using two cameras with similar names: \"garten\" and \"vorgarten\". In 0.9 beta as well as RC1 live view of 'vorgarten' is broken, the picture seems to mix with 'garten'. All other cameras (including garten) play out well. The same camera plays out well in Birdsview, recordings, events etc.. - So it seems to be a display issue, not so much a capture from camera issue.\r\n\r\n[Sample Picture](https://imgbb.com/0cSc1bd)\r\n\r\n**Version of frigate**\r\n0.9.0-4efc584\r\n\r\n**Config file**\r\nInclude your full config file wrapped in triple back ticks.\r\n```\r\n# Optional: Logging configuration\r\n##########\r\nlogger:\r\n##########\r\n  default: info\r\n  logs:\r\n    frigate.mqtt: error\r\n\r\n##########\r\nmqtt:\r\n##########\r\n  host: mqtt.mydomain.de\r\n  topic_prefix: frigate\r\n  client_id: frigate\r\n  user: admin\r\n  password: password\r\n\r\n##########\r\ndetectors:\r\n##########\r\n  coral:\r\n    type: edgetpu\r\n    device: usb\r\n\r\n##########\r\nobjects:\r\n##########\r\n  track:\r\n    - person\r\n    - cat\r\n  filters:\r\n    cat:\r\n      threshold: 0.5\r\n    person:\r\n      min_score: 0.5\r\n      threshold: 0.75\r\n\r\n\r\n##########\r\nbirdseye:\r\n##########\r\n  enabled: True\r\n  width: 1280\r\n  height: 720\r\n  quality: 8\r\n  mode: continuous\r\n  #mode: objects\r\n\r\n##########\r\ndatabase:\r\n##########\r\n  path: /media/frigate/database/frigate.db\r\n\r\ncameras:\r\n  ############################  \r\n  garten:\r\n  ############################\r\n    clips:\r\n      enabled: True\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://frigate:password@192.168.176.57/cam/realmonitor?channel=1&subtype=0\r\n          roles:\r\n            - record\r\n            - detect\r\n    detect:\r\n      width: 3840\r\n      height: 2160\r\n      fps: 5\r\n    record:\r\n      enabled: true\r\n      retain_days: 1\r\n      events:\r\n        enabled: true\r\n        pre_capture: 5\r\n        post_capture: 5\r\n        objects:\r\n          - person\r\n        required_zones: []\r\n        retain:\r\n          default: 10\r\n          objects:\r\n            person: 15\r\n    objects:\r\n      track:\r\n        - person\r\n        - cat\r\n\r\n\r\n    zones:\r\n      relevant:\r\n        coordinates: 2249,2160,3840,2160,3840,0,2554,0,2494,1563,2113,1554,1337,1651\r\n\r\n\r\n  ############################\r\n  vorgarten:\r\n  ############################\r\n    clips:\r\n      enabled: True\r\n    record:\r\n      enabled: True\r\n      retain_days: 1\r\n      events:\r\n        enabled: true\r\n        pre_capture: 5\r\n        post_capture: 5\r\n        objects:\r\n          - person\r\n        required_zones: []\r\n        retain:\r\n          default: 10\r\n          objects:\r\n            person: 15\r\n\r\n    objects:\r\n      track:\r\n        - person\r\n        - cat\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtmp://vorgarten.mydomain.de/bcs/channel0_main.bcs?channel=0&stream=0&user=frigate&password=password\r\n          input_args: -avoid_negative_ts make_zero -fflags nobuffer -flags low_delay -strict experimental -fflags +genpts+discardcorrupt -use_wallclock_as_timestamps 1\r\n          roles:\r\n            - record\r\n            - rtmp\r\n            - detect\r\n    detect:\r\n      width: 2560\r\n      height: 1920\r\n      fps: 5\r\n```\r\n\r\n**Frigate container logs**\r\n```\r\n#  podman logs -f home-assistant-frigate\r\n[s6-init] making user provided files available at /var/run/s6/etc...exited 0.\r\n[s6-init] ensuring user provided files have correct perms...exited 0.\r\n[fix-attrs.d] applying ownership & permissions fixes...\r\n[fix-attrs.d] done.\r\n[cont-init.d] executing container initialization scripts...\r\n[cont-init.d] done.\r\n[services.d] starting services\r\n[services.d] done.\r\n[2021-08-28 09:27:52] frigate.app                    WARNING : Camera garten has rtmp enabled, but rtmp is not assigned to an input.\r\nStarting migrations\r\n[2021-08-28 09:27:52] peewee_migrate                 INFO    : Starting migrations\r\nThere is nothing to migrate\r\n[2021-08-28 09:27:52] peewee_migrate                 INFO    : There is nothing to migrate\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Output process started: 214\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Camera processor started for garten: 217\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Camera processor started for keller: 221\r\n[2021-08-28 09:27:52] ws4py                          INFO    : Using epoll\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Camera processor started for eingang: 226\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Camera processor started for vorgarten: 232\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Capture process started for garten: 235\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Capture process started for keller: 240\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Capture process started for eingang: 244\r\n[2021-08-28 09:27:52] frigate.app                    INFO    : Capture process started for vorgarten: 251\r\n[2021-08-28 09:27:52] ws4py                          INFO    : Using epoll\r\n[2021-08-28 09:27:52] detector.coral                 INFO    : Starting detection process: 213\r\n[2021-08-28 09:27:52] frigate.edgetpu                INFO    : Attempting to load TPU as usb\r\n[2021-08-28 09:27:55] frigate.edgetpu                INFO    : TPU found\r\n[2021-08-28 09:30:53] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:5002 | Remote => 127.0.0.1:58776]\r\n[2021-08-28 09:30:56] ws4py                          INFO    : Managing websocket [Local => 127.0.0.1:8082 | Remote => 127.0.0.1:52972]\r\n```\r\n\r\n**Frigate stats**\r\n```\r\n{\"detection_fps\":0.0,\"detectors\":{\"coral\":{\"detection_start\":0.0,\"inference_speed\":54.03,\"pid\":213}},\"eingang\":{\"camera_fps\":5.0,\"capture_pid\":244,\"detection_fps\":0.0,\"pid\":226,\"process_fps\":5.0,\"skipped_fps\":0.0},\"garten\":{\"camera_fps\":5.0,\"capture_pid\":235,\"detection_fps\":0.0,\"pid\":217,\"process_fps\":5.0,\"skipped_fps\":0.0},\"keller\":{\"camera_fps\":5.0,\"capture_pid\":240,\"detection_fps\":0.0,\"pid\":221,\"process_fps\":5.0,\"skipped_fps\":0.0},\"service\":{\"storage\":{\"/dev/shm\":{\"free\":2105.0,\"mount_type\":\"tmpfs\",\"total\":2147.5,\"used\":42.5},\"/media/frigate/clips\":{\"free\":254325.6,\"mount_type\":\"nfs\",\"total\":589632.2,\"used\":305283.5},\"/media/frigate/recordings\":{\"free\":254325.7,\"mount_type\":\"nfs\",\"total\":589632.2,\"used\":305283.4},\"/tmp/cache\":{\"free\":12395.0,\"mount_type\":\"tmpfs\",\"total\":12415.2,\"used\":20.2}},\"uptime\":222,\"version\":\"0.9.0-4efc584\"},\"vorgarten\":{\"camera_fps\":5.0,\"capture_pid\":251,\"detection_fps\":0.0,\"pid\":232,\"process_fps\":5.0,\"skipped_fps\":0.0}}\r\n```\r\n\r\n**FFprobe from your camera**\r\n\r\n**Screenshots**\r\n[Sample Picture](https://ibb.co/0cSc1bd)\r\n\r\n**Computer Hardware**\r\n - OS: Fedora 34 / Podman\r\n - Install method: docker-compose\r\n - Virtualization: N/A\r\n - Coral Version: USB \r\n - Network Setup: Wired\r\n\r\n**Camera Info:**\r\n - Manufacturer: Reolink\r\n - Model: 5MP\r\n - Resolution: 5MP\r\n - FPS: 5\r\n", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1627", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1627/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1627/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1627/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/1627", "id": 981374515, "node_id": "MDU6SXNzdWU5ODEzNzQ1MTU=", "number": 1627, "title": "0.9-RC1 - Birdseye view shows up even if disabled", "user": {"login": "tubalainen", "id": 26795429, "node_id": "MDQ6VXNlcjI2Nzk1NDI5", "avatar_url": "https://avatars.githubusercontent.com/u/26795429?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tubalainen", "html_url": "https://github.com/tubalainen", "followers_url": "https://api.github.com/users/tubalainen/followers", "following_url": "https://api.github.com/users/tubalainen/following{/other_user}", "gists_url": "https://api.github.com/users/tubalainen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tubalainen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tubalainen/subscriptions", "organizations_url": "https://api.github.com/users/tubalainen/orgs", "repos_url": "https://api.github.com/users/tubalainen/repos", "events_url": "https://api.github.com/users/tubalainen/events{/privacy}", "received_events_url": "https://api.github.com/users/tubalainen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-27T15:45:35Z", "updated_at": "2021-09-13T06:15:26Z", "closed_at": "2021-09-13T06:15:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nDisabled Birdseyeview still shows up in the GUI and projects a white screen.\r\n\r\n**Version of frigate**\r\n0.9-RC1\r\n\r\n**Config file**\r\n```yaml\r\nbirdseye:\r\n  enabled: False\r\n```\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/26795429/131153864-95d5a8e9-a004-4d2c-b2c5-3224c54cbcee.png)\r\n", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1143", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1143/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1143/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1143/events", "html_url": "https://github.com/blakeblackshear/frigate/issues/1143", "id": 899017442, "node_id": "MDU6SXNzdWU4OTkwMTc0NDI=", "number": 1143, "title": "Deleted events remain in list view until a full refresh", "user": {"login": "blakeblackshear", "id": 569905, "node_id": "MDQ6VXNlcjU2OTkwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/569905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blakeblackshear", "html_url": "https://github.com/blakeblackshear", "followers_url": "https://api.github.com/users/blakeblackshear/followers", "following_url": "https://api.github.com/users/blakeblackshear/following{/other_user}", "gists_url": "https://api.github.com/users/blakeblackshear/gists{/gist_id}", "starred_url": "https://api.github.com/users/blakeblackshear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blakeblackshear/subscriptions", "organizations_url": "https://api.github.com/users/blakeblackshear/orgs", "repos_url": "https://api.github.com/users/blakeblackshear/repos", "events_url": "https://api.github.com/users/blakeblackshear/events{/privacy}", "received_events_url": "https://api.github.com/users/blakeblackshear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2762576053, "node_id": "MDU6TGFiZWwyNzYyNTc2MDUz", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/stale", "name": "stale", "color": "F4D8C5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "paularmstrong", "id": 33297, "node_id": "MDQ6VXNlcjMzMjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paularmstrong", "html_url": "https://github.com/paularmstrong", "followers_url": "https://api.github.com/users/paularmstrong/followers", "following_url": "https://api.github.com/users/paularmstrong/following{/other_user}", "gists_url": "https://api.github.com/users/paularmstrong/gists{/gist_id}", "starred_url": "https://api.github.com/users/paularmstrong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paularmstrong/subscriptions", "organizations_url": "https://api.github.com/users/paularmstrong/orgs", "repos_url": "https://api.github.com/users/paularmstrong/repos", "events_url": "https://api.github.com/users/paularmstrong/events{/privacy}", "received_events_url": "https://api.github.com/users/paularmstrong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "paularmstrong", "id": 33297, "node_id": "MDQ6VXNlcjMzMjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paularmstrong", "html_url": "https://github.com/paularmstrong", "followers_url": "https://api.github.com/users/paularmstrong/followers", "following_url": "https://api.github.com/users/paularmstrong/following{/other_user}", "gists_url": "https://api.github.com/users/paularmstrong/gists{/gist_id}", "starred_url": "https://api.github.com/users/paularmstrong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paularmstrong/subscriptions", "organizations_url": "https://api.github.com/users/paularmstrong/orgs", "repos_url": "https://api.github.com/users/paularmstrong/repos", "events_url": "https://api.github.com/users/paularmstrong/events{/privacy}", "received_events_url": "https://api.github.com/users/paularmstrong/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/3", "html_url": "https://github.com/blakeblackshear/frigate/milestone/3", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/milestones/3/labels", "id": 6462069, "node_id": "MDk6TWlsZXN0b25lNjQ2MjA2OQ==", "number": 3, "title": "0.9.0", "description": "", "creator": {"login": "blakeblackshear", "id": 569905, "node_id": "MDQ6VXNlcjU2OTkwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/569905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blakeblackshear", "html_url": "https://github.com/blakeblackshear", "followers_url": "https://api.github.com/users/blakeblackshear/followers", "following_url": "https://api.github.com/users/blakeblackshear/following{/other_user}", "gists_url": "https://api.github.com/users/blakeblackshear/gists{/gist_id}", "starred_url": "https://api.github.com/users/blakeblackshear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blakeblackshear/subscriptions", "organizations_url": "https://api.github.com/users/blakeblackshear/orgs", "repos_url": "https://api.github.com/users/blakeblackshear/repos", "events_url": "https://api.github.com/users/blakeblackshear/events{/privacy}", "received_events_url": "https://api.github.com/users/blakeblackshear/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 17, "state": "open", "created_at": "2021-02-22T13:34:07Z", "updated_at": "2022-02-06T20:41:41Z", "due_on": null, "closed_at": null}, "comments": 10, "created_at": "2021-05-23T13:11:54Z", "updated_at": "2021-08-05T18:47:46Z", "closed_at": "2021-08-05T18:47:45Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The delete functionality works to delete events, but the frontend doesn't remove the deleted event from the list view until I refresh the page. I am testing in development where I have only 5 events.\r\n\r\ncc @mitchross ", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/1143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/655", "repository_url": "https://api.github.com/repos/blakeblackshear/frigate", "labels_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/655/labels{/name}", "comments_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/655/comments", "events_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/655/events", "html_url": "https://github.com/blakeblackshear/frigate/pull/655", "id": 796590539, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzNzQ0NjQ4", "number": 655, "title": "fix(web): reduce transferred/unused assets on html load", "user": {"login": "paularmstrong", "id": 33297, "node_id": "MDQ6VXNlcjMzMjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paularmstrong", "html_url": "https://github.com/paularmstrong", "followers_url": "https://api.github.com/users/paularmstrong/followers", "following_url": "https://api.github.com/users/paularmstrong/following{/other_user}", "gists_url": "https://api.github.com/users/paularmstrong/gists{/gist_id}", "starred_url": "https://api.github.com/users/paularmstrong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paularmstrong/subscriptions", "organizations_url": "https://api.github.com/users/paularmstrong/orgs", "repos_url": "https://api.github.com/users/paularmstrong/repos", "events_url": "https://api.github.com/users/paularmstrong/events{/privacy}", "received_events_url": "https://api.github.com/users/paularmstrong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1209081518, "node_id": "MDU6TGFiZWwxMjA5MDgxNTE4", "url": "https://api.github.com/repos/blakeblackshear/frigate/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-29T05:27:39Z", "updated_at": "2021-01-29T20:11:49Z", "closed_at": "2021-01-29T12:27:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/blakeblackshear/frigate/pulls/655", "html_url": "https://github.com/blakeblackshear/frigate/pull/655", "diff_url": "https://github.com/blakeblackshear/frigate/pull/655.diff", "patch_url": "https://github.com/blakeblackshear/frigate/pull/655.patch", "merged_at": "2021-01-29T12:27:33Z"}, "body": "Removes `@snowpack/plugin-optimize`. When we added the `@snowpack/plugin-webpack`, that plugin handles all of what optimize does and more. The problem is that the webpack plugin didn't rewrite all of the `modulepreload` references in the HTML, causing the page to load a bunch of files unnecessarily, wasting bandwidth.\r\n\r\n## Before\r\n<img width=\"1392\" alt=\"1-before\" src=\"https://user-images.githubusercontent.com/33297/106235423-7c72c700-61af-11eb-883a-ac66cddd80da.png\">\r\n\r\n## After\r\n<img width=\"1392\" alt=\"1-after\" src=\"https://user-images.githubusercontent.com/33297/106235439-83013e80-61af-11eb-9a8a-4c32ef94ad72.png\">\r\n\r\nUpdates snowpack as well for minor fixes.", "reactions": {"url": "https://api.github.com/repos/blakeblackshear/frigate/issues/655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/blakeblackshear/frigate/issues/655/timeline", "performed_via_github_app": null, "state_reason": null}]