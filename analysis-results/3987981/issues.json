[{"url": "https://api.github.com/repos/deepchem/deepchem/issues/3327", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3327/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3327/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3327/events", "html_url": "https://github.com/deepchem/deepchem/issues/3327", "id": 1650823271, "node_id": "I_kwDOApGgZ85iZZBn", "number": 3327, "title": "DFT Layers are not rendering in the docs", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-02T06:15:55Z", "updated_at": "2023-04-05T23:29:08Z", "closed_at": "2023-04-05T23:29:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "<img width=\"1230\" alt=\"Screenshot 2023-04-01 at 11 13 24 PM\" src=\"https://user-images.githubusercontent.com/1057676/229335092-2f7d85f2-fd0c-4283-af18-faa3bab9d771.png\">\r\n\r\nCC @advikavs. This might be failing since `dqc` is not installed on the docs requirements.txt", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3306", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3306/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3306/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3306/events", "html_url": "https://github.com/deepchem/deepchem/issues/3306", "id": 1640321699, "node_id": "I_kwDOApGgZ85hxVKj", "number": 3306, "title": "Docs Build is Failing; Need to pin torch-sparse for docs", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tonydavis629", "id": 84199903, "node_id": "MDQ6VXNlcjg0MTk5OTAz", "avatar_url": "https://avatars.githubusercontent.com/u/84199903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tonydavis629", "html_url": "https://github.com/tonydavis629", "followers_url": "https://api.github.com/users/tonydavis629/followers", "following_url": "https://api.github.com/users/tonydavis629/following{/other_user}", "gists_url": "https://api.github.com/users/tonydavis629/gists{/gist_id}", "starred_url": "https://api.github.com/users/tonydavis629/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tonydavis629/subscriptions", "organizations_url": "https://api.github.com/users/tonydavis629/orgs", "repos_url": "https://api.github.com/users/tonydavis629/repos", "events_url": "https://api.github.com/users/tonydavis629/events{/privacy}", "received_events_url": "https://api.github.com/users/tonydavis629/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tonydavis629", "id": 84199903, "node_id": "MDQ6VXNlcjg0MTk5OTAz", "avatar_url": "https://avatars.githubusercontent.com/u/84199903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tonydavis629", "html_url": "https://github.com/tonydavis629", "followers_url": "https://api.github.com/users/tonydavis629/followers", "following_url": "https://api.github.com/users/tonydavis629/following{/other_user}", "gists_url": "https://api.github.com/users/tonydavis629/gists{/gist_id}", "starred_url": "https://api.github.com/users/tonydavis629/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tonydavis629/subscriptions", "organizations_url": "https://api.github.com/users/tonydavis629/orgs", "repos_url": "https://api.github.com/users/tonydavis629/repos", "events_url": "https://api.github.com/users/tonydavis629/events{/privacy}", "received_events_url": "https://api.github.com/users/tonydavis629/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-03-25T02:01:27Z", "updated_at": "2023-04-02T06:11:10Z", "closed_at": "2023-04-02T06:11:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n<img width=\"844\" alt=\"Screenshot 2023-03-24 at 6 59 15 PM\" src=\"https://user-images.githubusercontent.com/1057676/227680135-32cc14d2-4862-400d-a0a5-5d1a24b9f774.png\">\r\n\r\nThe deepchem docs build is failing because of torch-sparse. I think we have to pin torch-sparse in the requirements for the docs/requirements.txt\r\n\r\n@tonydavis629 Would you be able to take a quick crack at this? It should be a small bugfix following your earlier sparse pinning PR\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.\r\n2.\r\n3.\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n\r\n## Expected behavior\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n\r\n* OS:\r\n* Python version:\r\n* DeepChem version:\r\n* RDKit version (optional):\r\n* TensorFlow version (optional):\r\n* PyTorch version (optional):\r\n* Any other relevant information:\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3218", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3218/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3218/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3218/events", "html_url": "https://github.com/deepchem/deepchem/issues/3218", "id": 1566050407, "node_id": "I_kwDOApGgZ85dWAhn", "number": 3218, "title": "dgl release v1.0.0 is causing CI failures", "user": {"login": "arunppsg", "id": 26398753, "node_id": "MDQ6VXNlcjI2Mzk4NzUz", "avatar_url": "https://avatars.githubusercontent.com/u/26398753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arunppsg", "html_url": "https://github.com/arunppsg", "followers_url": "https://api.github.com/users/arunppsg/followers", "following_url": "https://api.github.com/users/arunppsg/following{/other_user}", "gists_url": "https://api.github.com/users/arunppsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/arunppsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arunppsg/subscriptions", "organizations_url": "https://api.github.com/users/arunppsg/orgs", "repos_url": "https://api.github.com/users/arunppsg/repos", "events_url": "https://api.github.com/users/arunppsg/events{/privacy}", "received_events_url": "https://api.github.com/users/arunppsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 859696756, "node_id": "MDU6TGFiZWw4NTk2OTY3NTY=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20Intermediate%20Contribution", "name": "Good Intermediate Contribution", "color": "fc97da", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-01T12:45:44Z", "updated_at": "2023-02-21T05:48:16Z", "closed_at": "2023-02-21T05:48:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "DGL released v1.0.0 and it is causing failures in torch CI and doctests due to backward incompatible features.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3145", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3145/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3145/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3145/events", "html_url": "https://github.com/deepchem/deepchem/issues/3145", "id": 1505905919, "node_id": "I_kwDOApGgZ85Zwkz_", "number": 3145, "title": "Loading of top layer in pretrained model when bias is False", "user": {"login": "arunppsg", "id": 26398753, "node_id": "MDQ6VXNlcjI2Mzk4NzUz", "avatar_url": "https://avatars.githubusercontent.com/u/26398753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arunppsg", "html_url": "https://github.com/arunppsg", "followers_url": "https://api.github.com/users/arunppsg/followers", "following_url": "https://api.github.com/users/arunppsg/following{/other_user}", "gists_url": "https://api.github.com/users/arunppsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/arunppsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arunppsg/subscriptions", "organizations_url": "https://api.github.com/users/arunppsg/orgs", "repos_url": "https://api.github.com/users/arunppsg/repos", "events_url": "https://api.github.com/users/arunppsg/events{/privacy}", "received_events_url": "https://api.github.com/users/arunppsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-21T08:33:34Z", "updated_at": "2023-04-05T23:47:43Z", "closed_at": "2023-04-05T23:47:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When we are reloading model weights with `include_top=False` using `load_from_pretrained` method, if the top layer has bias set as False, weights for the below the top layer is not getting copied. Here is the code to reproduce:\r\n```\r\nimport deepchem as dc\r\n\r\nimport torch\r\nimport torch.nn as nn\r\n\r\nclass Model(nn.Module):    \r\n    def __init__(self):\r\n        super(Model, self).__init__()\r\n        self.dense = nn.Linear(in_features=8, out_features=2, bias=True)\r\n        self.head = nn.Linear(in_features=2, out_features=1, bias=False)\r\n        \r\n    def forward(self, x):\r\n        return self.head(self.dense(x)) \r\n\r\npre = Model()\r\npre_dc = dc.models.TorchModel(pre, loss=dc.models.losses.L2Loss())\r\npre_dc.save_checkpoint()\r\n\r\nfine = Model()\r\nfine_dc = dc.models.TorchModel(fine, loss=dc.models.losses.L2Loss())\r\n\r\nfine_dc.load_from_pretrained(pre_dc, include_top=False)\r\n\r\nprint (fine_dc.model.state_dict())\r\nOrderedDict([('dense.weight',\r\n              tensor([[-0.1105, -0.3411, -0.0083, -0.0793,  0.1559,  0.2183,  0.2238, -0.2569],\r\n                      [ 0.2783, -0.2978,  0.0273, -0.0058, -0.2408, -0.1351,  0.0046, -0.3154]])),\r\n             ('dense.bias', tensor([-0.0330, -0.0030])),\r\n             ('head.weight', tensor([[-0.4924, -0.0605]]))])\r\n\r\nprint (pre_dc.model.state_dict())\r\nOrderedDict([('dense.weight',\r\n              tensor([[-0.1105, -0.3411, -0.0083, -0.0793,  0.1559,  0.2183,  0.2238, -0.2569],\r\n                      [ 0.2783, -0.2978,  0.0273, -0.0058, -0.2408, -0.1351,  0.0046, -0.3154]])),\r\n             ('dense.bias', tensor([-0.1272, -0.2554])),\r\n             ('head.weight', tensor([[0.4836, 0.2152]]))])\r\n```\r\n\r\nExpected output: For the layer `dense.bias`, pre_dc model and fine_dc should have same weights. In source, \r\n\r\nhttps://github.com/deepchem/deepchem/blob/8f5267cdec58449dcd5972c3d531447d0c0900ff/deepchem/models/torch_models/torch_model.py#L1078-L1080\r\n\r\nthe above lines cause skipping of an additional layer when bias is False.\r\n\r\nSome ideas:\r\n- I think we should have an option to specify whether top layer has bias or not.\r\n- Another option is to update our `load_from_pretrained` method to use model.state_dict() and match keys with an assignment map indicating layer names to load. Currently, assignment map is a dictionary of tensors with keys as tensors in source model, values as tensors in destination model (finetune model). The user has to specify assignment map. If the assignment map uses state_dict, users can avoid specifying top layers in the state_dict.\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3130", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3130/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3130/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3130/events", "html_url": "https://github.com/deepchem/deepchem/issues/3130", "id": 1471280297, "node_id": "I_kwDOApGgZ85XsfSp", "number": 3130, "title": "Dataset merge when y's dimension is 1", "user": {"login": "arunppsg", "id": 26398753, "node_id": "MDQ6VXNlcjI2Mzk4NzUz", "avatar_url": "https://avatars.githubusercontent.com/u/26398753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arunppsg", "html_url": "https://github.com/arunppsg", "followers_url": "https://api.github.com/users/arunppsg/followers", "following_url": "https://api.github.com/users/arunppsg/following{/other_user}", "gists_url": "https://api.github.com/users/arunppsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/arunppsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arunppsg/subscriptions", "organizations_url": "https://api.github.com/users/arunppsg/orgs", "repos_url": "https://api.github.com/users/arunppsg/repos", "events_url": "https://api.github.com/users/arunppsg/events{/privacy}", "received_events_url": "https://api.github.com/users/arunppsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-01T13:03:11Z", "updated_at": "2023-01-09T13:07:24Z", "closed_at": "2023-01-09T13:07:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n### To reproduce,\r\n\r\n```\r\na = dc.data.NumpyDataset(X=[1, 2, 3], y=[1, 2, 3])\r\nb = dc.data.NumpyDataset(X=[1, 2, 3], y=[1, 2, 3])\r\ndc.data.NumpyDataset.merge([a, b])\r\n\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\nInput In [39], in <cell line: 3>()\r\n      1 a = dc.data.NumpyDataset(X=[1, 2, 3], y=[1, 2, 3])\r\n      2 b = dc.data.NumpyDataset(X=[1, 2, 3], y=[1, 2, 3])\r\n----> 3 dc.data.NumpyDataset.merge([a, b])\r\n\r\nFile ~/dc/deepchem/data/datasets.py:1093, in NumpyDataset.merge(datasets)\r\n   1087   w = np.concatenate([w, dataset.w], axis=0)\r\n   1088   ids = np.concatenate(\r\n   1089       [ids, dataset.ids],\r\n   1090       axis=0,\r\n   1091   )\r\n-> 1093 return NumpyDataset(X, y, w, ids, n_tasks=y.shape[1])\r\n\r\nIndexError: tuple index out of range\r\n```\r\n\r\nThe shape handling should be taken care internally when the numpy dataset is created.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3085", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3085/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3085/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3085/events", "html_url": "https://github.com/deepchem/deepchem/issues/3085", "id": 1412807836, "node_id": "I_kwDOApGgZ85UNbyc", "number": 3085, "title": "Sklearn model error (TypeError: fit() takes 3 positional arguments but 4 were given)", "user": {"login": "laylagerami", "id": 40443981, "node_id": "MDQ6VXNlcjQwNDQzOTgx", "avatar_url": "https://avatars.githubusercontent.com/u/40443981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laylagerami", "html_url": "https://github.com/laylagerami", "followers_url": "https://api.github.com/users/laylagerami/followers", "following_url": "https://api.github.com/users/laylagerami/following{/other_user}", "gists_url": "https://api.github.com/users/laylagerami/gists{/gist_id}", "starred_url": "https://api.github.com/users/laylagerami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laylagerami/subscriptions", "organizations_url": "https://api.github.com/users/laylagerami/orgs", "repos_url": "https://api.github.com/users/laylagerami/repos", "events_url": "https://api.github.com/users/laylagerami/events{/privacy}", "received_events_url": "https://api.github.com/users/laylagerami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-18T08:39:31Z", "updated_at": "2022-11-10T08:32:35Z", "closed_at": "2022-11-10T08:32:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nWhen using certain Sklearn models (specifically GaussianProcessClassifier, KNeighborsClassifier, MLPClassifier and QuadraticDiscriminantAnalysis) the model.fit() stage throws an error.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.  model = dc.models.SklearnModel(GaussianProcessClassifier())\r\n2. model.fit(train_dataset)\r\n\r\n```\r\nTypeError Traceback (most recent call last)\r\n/tmp/ipykernel_29886/[3380587234.py](http://3380587234.py/) in <cell line: 2>()\r\n\r\n  1 model = dc.models.SklearnModel(GaussianProcessClassifier())\r\n----> 2 model.fit(train_dataset)\r\n3 model.predict(test_dataset)\r\n\r\n~/anaconda3/envs/tensorflow2_p38/lib/python3.8/site-packages/deepchem/models/sklearn_models/sklearn_model.py in fit(self, dataset)\r\n109 # Some scikit-learn models don't use weights.\r\n110 if self.use_weights:\r\n--> 111 self.model.fit(X, y, w)\r\n112 return\r\n113 self.model.fit(X, y)\r\n\r\nTypeError: fit() takes 3 positional arguments but 4 were given\r\n```\r\n## Expected behavior\r\n\r\nExpected to fit the model. When using e.g., model = dc.models.SklearnModel(RandomForestClassifier()) the model fits/predicts as expected. \r\n\r\n## Environment\r\n\r\n* OS: Linux\r\n* Python version: 3.8\r\n* DeepChem version: [pre] installation (2.6.2.dev)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3070", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/3070/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/3070/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/3070/events", "html_url": "https://github.com/deepchem/deepchem/issues/3070", "id": 1383329608, "node_id": "I_kwDOApGgZ85Sc-9I", "number": 3070, "title": "`smiles_from_seq` in `smiles_to_seq` has problem when `pad_len=0`.", "user": {"login": "sunwoongc", "id": 78211057, "node_id": "MDQ6VXNlcjc4MjExMDU3", "avatar_url": "https://avatars.githubusercontent.com/u/78211057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunwoongc", "html_url": "https://github.com/sunwoongc", "followers_url": "https://api.github.com/users/sunwoongc/followers", "following_url": "https://api.github.com/users/sunwoongc/following{/other_user}", "gists_url": "https://api.github.com/users/sunwoongc/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunwoongc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunwoongc/subscriptions", "organizations_url": "https://api.github.com/users/sunwoongc/orgs", "repos_url": "https://api.github.com/users/sunwoongc/repos", "events_url": "https://api.github.com/users/sunwoongc/events{/privacy}", "received_events_url": "https://api.github.com/users/sunwoongc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-23T05:56:04Z", "updated_at": "2022-10-16T09:19:21Z", "closed_at": "2022-10-16T09:19:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nIn the [code](https://github.com/deepchem/deepchem/blob/10bf8db8f46b9870999bcc2d55deeff77574182c/deepchem/feat/molecule_featurizers/smiles_to_seq.py#L99) for `remove_pad` in `SmilesToSeq` class, first it extract the characters by removing additional padding process. So after that process it only has characters with the size of `max_len`. But when the case of `pad_len=0` it removes all the characters.\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Featurizing smiles to sequences.\r\n2. Convert sequences to smiles back.\r\n3.\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n```\r\nfrom rdkit import Chem\r\nPAD_TOKEN = \"<pad>\"\r\nOUT_OF_VOCAB_TOKEN = \"<unk>\"\r\n\r\nchar_to_idx = {'<unk>': 0, \r\n               '<pad>': 1,\r\n               'C': 2, \r\n               'O': 3,}\r\nmax_len = 6\r\npad_len = 0\r\nfeaturizer = SmilesToSeq(char_to_idx=char_to_idx, max_len=max_len, pad_len=pad_len)\r\nexample_smiles = ['CCCCO', 'CCC']\r\nexample_mols = [Chem.MolFromSmiles(smile) for smile in example_smiles]\r\nfeaturized_smiles = featurizer.featurize(example_mols)\r\n\r\nprint(featurized_smiles)\r\nprint(\"length: \", len(featurized_smiles[1]))\r\nprint()\r\n\r\nfor seq in featurized_smiles:\r\n    print(\"seq: \", seq)\r\n    print(\">>> To smiles: \")\r\n    print(featurizer.smiles_from_seq(seq))\r\n```\r\n## Expected behavior\r\nI expected the above code to return `CCCCO`, and `CCC` but it returns empty string.\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n\r\n* OS: Colab\r\n* Python version: Python 3.7.14\r\n* DeepChem version: 2.6.1\r\n* RDKit version (optional): 2022.03.5\r\n\r\n* TensorFlow version (optional):\r\n* PyTorch version (optional):\r\n* Any other relevant information:\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/3070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/3070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2956", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2956/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2956/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2956/events", "html_url": "https://github.com/deepchem/deepchem/issues/2956", "id": 1277416215, "node_id": "I_kwDOApGgZ85MI9MX", "number": 2956, "title": "torch model.restore() error on CUDA mismatch", "user": {"login": "paulsonak", "id": 64031328, "node_id": "MDQ6VXNlcjY0MDMxMzI4", "avatar_url": "https://avatars.githubusercontent.com/u/64031328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulsonak", "html_url": "https://github.com/paulsonak", "followers_url": "https://api.github.com/users/paulsonak/followers", "following_url": "https://api.github.com/users/paulsonak/following{/other_user}", "gists_url": "https://api.github.com/users/paulsonak/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulsonak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulsonak/subscriptions", "organizations_url": "https://api.github.com/users/paulsonak/orgs", "repos_url": "https://api.github.com/users/paulsonak/repos", "events_url": "https://api.github.com/users/paulsonak/events{/privacy}", "received_events_url": "https://api.github.com/users/paulsonak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-20T21:50:38Z", "updated_at": "2023-04-06T03:46:14Z", "closed_at": "2023-04-06T03:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nIf a model is trained with a GPU but it's trying to reload the model when GPU isn't available (for example on a different machine), torch.load() fails unless the device is explicitly specified as 'cpu'.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Train torch model on GPU\r\n2. Transfer model to non-GPU computer\r\n3. Try to load the model with torch_model.restore()\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n[torch_restore_stack_trace.txt](https://github.com/deepchem/deepchem/files/8943790/torch_restore_stack_trace.txt)\r\n\r\n\r\n## Expected behavior\r\nEven if GPU isn't available, the model should be able to load on a different machine. \r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n\r\n* OS: Red Hat Enterprise Linux Server release 7.9 (Maipo)\r\n* Python version: 3.7.10\r\n* DeepChem version: 2.6.1\r\n* RDKit version (optional): 2022.03.01\r\n* TensorFlow version (optional): 2.8.0\r\n* PyTorch version (optional): 1.7.0\r\n* Any other relevant information: CUDA 11.1.0 was used to train the model\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\nI edited `/deepchem/models/torch_models/torch_model.py restore() `to the following and was able to resolve the problem, but the `cuda:0` part should probably be changed to something modular.\r\n```\r\n  def restore(self,\r\n              checkpoint: Optional[str] = None,\r\n              model_dir: Optional[str] = None) -> None:\r\n    \"\"\"Reload the values of all variables from a checkpoint file.\r\n\r\n    Parameters\r\n    ----------\r\n    checkpoint: str\r\n      the path to the checkpoint file to load.  If this is None, the most recent\r\n      checkpoint will be chosen automatically.  Call get_checkpoints() to get a\r\n      list of all available checkpoints.\r\n    model_dir: str, default None\r\n      Directory to restore checkpoint from. If None, use self.model_dir.  If\r\n      checkpoint is not None, this is ignored.\r\n    \"\"\"\r\n    self._ensure_built()\r\n\r\n    ###\r\n    device = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\r\n    ###\r\n\r\n    if checkpoint is None:\r\n      checkpoints = sorted(self.get_checkpoints(model_dir))\r\n      if len(checkpoints) == 0:\r\n        raise ValueError('No checkpoint found')\r\n      checkpoint = checkpoints[0]\r\n\r\n    ###\r\n    data = torch.load(checkpoint, map_location=device)\r\n    ###\r\n\r\n    self.model.load_state_dict(data['model_state_dict'])\r\n    self._pytorch_optimizer.load_state_dict(data['optimizer_state_dict'])\r\n    self._global_step = data['global_step']\r\n```", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2956/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2956/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2677", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2677/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2677/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2677/events", "html_url": "https://github.com/deepchem/deepchem/issues/2677", "id": 976516954, "node_id": "MDU6SXNzdWU5NzY1MTY5NTQ=", "number": 2677, "title": "Reshard fails for DiskDataset objects with no labels", "user": {"login": "Suzukazole", "id": 65379684, "node_id": "MDQ6VXNlcjY1Mzc5Njg0", "avatar_url": "https://avatars.githubusercontent.com/u/65379684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suzukazole", "html_url": "https://github.com/Suzukazole", "followers_url": "https://api.github.com/users/Suzukazole/followers", "following_url": "https://api.github.com/users/Suzukazole/following{/other_user}", "gists_url": "https://api.github.com/users/Suzukazole/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suzukazole/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suzukazole/subscriptions", "organizations_url": "https://api.github.com/users/Suzukazole/orgs", "repos_url": "https://api.github.com/users/Suzukazole/repos", "events_url": "https://api.github.com/users/Suzukazole/events{/privacy}", "received_events_url": "https://api.github.com/users/Suzukazole/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-23T00:40:25Z", "updated_at": "2021-12-06T17:13:17Z", "closed_at": "2021-12-06T17:13:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\nThis bug arises when attempting to reshard a `DiskDataset` created using `CSVLoader`. I believe the reason this happens is because the `create_dataset()` method of  the `DataLoader` class  sets y to `None` in the `shard_generator()` method,  if the labels column is empty ([for reference](https://github.com/deepchem/deepchem/blob/master/deepchem/data/data_loader.py#L219)). As a result, when the dataset is resharded, the call to the `generator` method fails since it requires the length of the column. \r\n\r\n\r\n## To Reproduce\r\nThe dummy dataset I will use to illustrate the problem looks something like [this: ](https://github.com/Suzukazole/deepchem/blob/usptotok/deepchem/data/tests/reaction_smiles.csv)\r\n```\r\nreactions\r\nCCS(=O)(=O)Cl.OCCBr>CCN(CC)CC.CCOCC>CCS(=O)(=O)OCCBr\r\nCC(C)CS(=O)(=O)Cl.OCCCl>CCN(CC)CC.CCOCC>CC(C)CS(=O)(=O)OCCCl\r\nO=[N+]([O-])c1cccc2cnc(Cl)cc12>CC(=O)O.O.[Fe].[Na+].[OH-]>Nc1cccc2cnc(Cl)cc12\r\nCc1cc2c([N+](=O)[O-])cccc2c[n+]1[O-].O=P(Cl)(Cl)Cl>>Cc1cc2c([N+](=O)[O-])cccc2c(Cl)n1\r\n```\r\n\r\nSteps to reproduce the behavior:\r\n```\r\n# file_path is path to above dataset file\r\n\r\n>>> featurizer = dc.feat.DummyFeaturizer()\r\n>>> loader = dc.data.CSVLoader(tasks=[], feature_field=\"reactions\", featurizer=featurizer)\r\n>>> dataset = loader.create_dataset(file_path)\r\n>>> dataset.reshard(shard_size=10)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/deepchem/deepchem/data/datasets.py\", line 1477, in reshard\r\n    generator(), data_dir=reshard_dir, tasks=self.tasks)\r\n  File \"/deepchem/deepchem/data/datasets.py\", line 1204, in create_dataset\r\n    for shard_num, (X, y, w, ids) in enumerate(shard_generator):\r\n  File \"/deepchem/deepchem/data/datasets.py\", line 1461, in generator\r\n    y = np.reshape(y, (len(y),) + y_shape[1:])\r\nTypeError: object of type 'NoneType' has no len()\r\n```\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n\r\n## Expected behavior\r\nIt should reshard the above dataset to a `shard_size` of 10.\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n\r\n* OS: Ubuntu\r\n* Python version: 3.7.0\r\n* DeepChem version: 2.6.0dev(this [branch](https://github.com/deepchem/deepchem/pull/2641))\r\n\r\n## Additional context\r\nAbove error came up while coming up with a fix for the splitter bug, which happens due to a similar reason as well.\r\n\r\n<!-- Add any other context about the problem here. -->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2665", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2665/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2665/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2665/events", "html_url": "https://github.com/deepchem/deepchem/issues/2665", "id": 973512541, "node_id": "MDU6SXNzdWU5NzM1MTI1NDE=", "number": 2665, "title": "Printing a Model", "user": {"login": "arunppsg", "id": 26398753, "node_id": "MDQ6VXNlcjI2Mzk4NzUz", "avatar_url": "https://avatars.githubusercontent.com/u/26398753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arunppsg", "html_url": "https://github.com/arunppsg", "followers_url": "https://api.github.com/users/arunppsg/followers", "following_url": "https://api.github.com/users/arunppsg/following{/other_user}", "gists_url": "https://api.github.com/users/arunppsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/arunppsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arunppsg/subscriptions", "organizations_url": "https://api.github.com/users/arunppsg/orgs", "repos_url": "https://api.github.com/users/arunppsg/repos", "events_url": "https://api.github.com/users/arunppsg/events{/privacy}", "received_events_url": "https://api.github.com/users/arunppsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-18T10:23:36Z", "updated_at": "2021-08-24T18:06:17Z", "closed_at": "2021-08-24T18:06:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n## To Reproduce\r\n\r\nSuppose I want to find the summary of a deepchem model and I use `print(model)` it throws an `AttributeError`.\r\n\r\nSteps to reproduce the behavior:\r\n```\r\nmodel = dc.models.AtomicConvModel(n_tasks = 4)\r\nprint (model)\r\n```\r\n\r\nI would like `print(model)` to print the summary of the model. Any hints on how to fix it?\r\nThanks", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2617", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2617/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2617/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2617/events", "html_url": "https://github.com/deepchem/deepchem/issues/2617", "id": 951679697, "node_id": "MDU6SXNzdWU5NTE2Nzk2OTc=", "number": 2617, "title": "Pytorch models cannot be printed to screen", "user": {"login": "mgarort", "id": 26173140, "node_id": "MDQ6VXNlcjI2MTczMTQw", "avatar_url": "https://avatars.githubusercontent.com/u/26173140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgarort", "html_url": "https://github.com/mgarort", "followers_url": "https://api.github.com/users/mgarort/followers", "following_url": "https://api.github.com/users/mgarort/following{/other_user}", "gists_url": "https://api.github.com/users/mgarort/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgarort/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgarort/subscriptions", "organizations_url": "https://api.github.com/users/mgarort/orgs", "repos_url": "https://api.github.com/users/mgarort/repos", "events_url": "https://api.github.com/users/mgarort/events{/privacy}", "received_events_url": "https://api.github.com/users/mgarort/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-23T15:27:55Z", "updated_at": "2021-12-15T16:36:07Z", "closed_at": "2021-12-15T16:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nAt least some Pytorch models cannot be printed to screen, as would be normal to do through `__str__` or `__repr__`. For example, MPNN fails with the error\r\n\r\n`AttributeError: 'MPNNModel' object has no attribute 'edge_hidden_feats'`\r\n\r\nand AttentiveFPModel fails with \r\n\r\n`AttributeError: 'AttentiveFPModel' object has no attribute 'dropout'`\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior for MPNN:\r\n\r\n```\r\n>> from deepchem.models.torch_models import MPNNModel\r\n>> model = MPNNModel(mode='classification', n_tasks=len(tasks),\r\n..                   batch_size=32, learning_rate=0.001)\r\n```\r\n\r\nNow, just try to print the model\r\n\r\n```\r\n>> print(model)\r\n```\r\n\r\nleading to `AttributeError: 'MPNNModel' object has no attribute 'edge_hidden_feats'`.\r\n\r\n## Expected behavior\r\n\r\nA string should be printed to screen by the `__str__` or the `__repr__` magic methods.\r\n\r\n## Environment\r\n\r\n* OS: Ubuntu 18\r\n* Python version: 3.7.10\r\n* DeepChem version: 2.5.0\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2613", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2613/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2613/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2613/events", "html_url": "https://github.com/deepchem/deepchem/issues/2613", "id": 950235458, "node_id": "MDU6SXNzdWU5NTAyMzU0NTg=", "number": 2613, "title": "DeepChem COLAB installation fails ", "user": {"login": "ravichas", "id": 7470240, "node_id": "MDQ6VXNlcjc0NzAyNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7470240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravichas", "html_url": "https://github.com/ravichas", "followers_url": "https://api.github.com/users/ravichas/followers", "following_url": "https://api.github.com/users/ravichas/following{/other_user}", "gists_url": "https://api.github.com/users/ravichas/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravichas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravichas/subscriptions", "organizations_url": "https://api.github.com/users/ravichas/orgs", "repos_url": "https://api.github.com/users/ravichas/repos", "events_url": "https://api.github.com/users/ravichas/events{/privacy}", "received_events_url": "https://api.github.com/users/ravichas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-07-22T01:59:03Z", "updated_at": "2021-11-02T15:50:07Z", "closed_at": "2021-11-02T15:50:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udcda Installation\r\n\r\n<!-- A clear and concise description of the installation error. \r\nIf you have installation log file, please provide it here as well. -->\r\n\r\n## Environment\r\n\r\n* OS: Ubuntu 18.04.5 LTS \r\n* Package manager (PyPI or Conda):  Conda\r\n* Python version: 3.7\r\n* DeepChem version: As defined in `https://raw.githubusercontent.com/deepchem/deepchem/master/scripts/colab_install.py`\r\n* TensorFlow version: NA\r\n* PyTorch version (optional):\r\n* CUDA/cuDNN version (optional):\r\n* Any other relevant information: Google COLAB \r\n\r\n## Checklist\r\n\r\n- [ x ] I followed the [installation guide](https://deepchem.readthedocs.io/en/latest/get_started/installation.html).\r\n- [ x ] I used Google Colab.\r\n- [   ] I do have multiple CUDA versions on my machine.\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\nRan the following tutorial in COLAB\r\nhttps://github.com/deepchem/deepchem/blob/master/examples/tutorials/06_Introduction_to_Graph_Convolutions.ipynb   \r\n```\r\n!curl -Lo conda_installer.py https://raw.githubusercontent.com/deepchem/deepchem/master/scripts/colab_install.py\r\nimport conda_installer\r\nconda_installer.install()\r\n!/root/miniconda/bin/conda info -e\r\n```\r\n**It gave me the following error. A few weeks ago, the code worked fine.** \r\n\r\n```\r\n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100  3501  100  3501    0     0  43762      0 --:--:-- --:--:-- --:--:-- 43762\r\npython version: 3.7.11\r\nremove current miniconda\r\nfetching installer from https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\r\ndone\r\ninstalling miniconda to /root/miniconda\r\ndone\r\ninstalling rdkit, openmm, pdbfixer\r\nadded conda-forge to channels\r\nadded omnia to channels\r\n---------------------------------------------------------------------------\r\nCalledProcessError                        Traceback (most recent call last)\r\n<ipython-input-5-0b37ae099887> in <module>()\r\n      2 get_ipython().system('curl -Lo conda_installer.py https://raw.githubusercontent.com/deepchem/deepchem/master/scripts/colab_install.py')\r\n      3 import conda_installer\r\n----> 4 conda_installer.install()\r\n      5 get_ipython().system('/root/miniconda/bin/conda info -e')\r\n\r\n1 frames\r\n/content/conda_installer.py in install(chunk_size, file_name, url_base, conda_path, add_python_path, additional_channels, additional_packages)\r\n    121       \"--yes\",\r\n    122       \"python=={}\".format(python_version),\r\n--> 123       *packages,\r\n    124   ])\r\n    125   logger.info(\"done\")\r\n\r\n/usr/lib/python3.7/subprocess.py in check_call(*popenargs, **kwargs)\r\n    361         if cmd is None:\r\n    362             cmd = popenargs[0]\r\n--> 363         raise CalledProcessError(retcode, cmd)\r\n    364     return 0\r\n    365 \r\n\r\nCalledProcessError: Command '['/root/miniconda/bin/conda', 'install', '--yes', 'python==3.7.11', 'rdkit=2020.09.02', 'pdbfixer', 'openmm']' returned non-zero exit status 1.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2519", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2519/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2519/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2519/events", "html_url": "https://github.com/deepchem/deepchem/issues/2519", "id": 893323826, "node_id": "MDU6SXNzdWU4OTMzMjM4MjY=", "number": 2519, "title": "SmilesTokenizer Instance can not be created", "user": {"login": "niklashoelter", "id": 83964137, "node_id": "MDQ6VXNlcjgzOTY0MTM3", "avatar_url": "https://avatars.githubusercontent.com/u/83964137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niklashoelter", "html_url": "https://github.com/niklashoelter", "followers_url": "https://api.github.com/users/niklashoelter/followers", "following_url": "https://api.github.com/users/niklashoelter/following{/other_user}", "gists_url": "https://api.github.com/users/niklashoelter/gists{/gist_id}", "starred_url": "https://api.github.com/users/niklashoelter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niklashoelter/subscriptions", "organizations_url": "https://api.github.com/users/niklashoelter/orgs", "repos_url": "https://api.github.com/users/niklashoelter/repos", "events_url": "https://api.github.com/users/niklashoelter/events{/privacy}", "received_events_url": "https://api.github.com/users/niklashoelter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-05-17T13:17:56Z", "updated_at": "2021-06-09T21:17:54Z", "closed_at": "2021-06-04T19:07:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nI wanted to use the SmilesTokenizer from deepchem as it is explained in [the docs](https://deepchem.readthedocs.io/en/2.4.0/api_reference/tokenizers.html#smilestokenizer). However, i'm not able to create an instance of the SmilesTokenizer due to the following error:\r\n```\r\nTraceback(most recent call last):\r\nFile \"/tmp/pycharm_projects/spielwiese/main.py\", line 19, in <module>\r\n    tokenizer = SmilesTokenizer(vocab_path)\r\nFile \"/root/miniconda3/lib/python3.8/site-packages/deepchem/feat/smiles_tokenizer.py\", line 89, in __init__\r\n    self.max_len_single_sentence = self.max_len - 2\r\nAttributeError: 'SmilesTokenizer' object has no attribute 'max_len\r\n```\r\n\r\nThis seems to be caused by incompabilities between the versions of deepchem and transformers as it was already mentioned [here.](https://github.com/huggingface/transformers/issues/8739) However, the fix \"changing max_len to model_max_length\" has not been applied to deepchem yet. \r\n\r\nThis would be nice for using the latest versions of all packages involved.\r\n\r\n* Python version: 3.8.5\r\n* DeepChem version: 2.5.0\r\n* Transformers version: 4.6.0\r\n* PyTorch version (optional): 1.8.1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2490", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2490/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2490/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2490/events", "html_url": "https://github.com/deepchem/deepchem/issues/2490", "id": 862118066, "node_id": "MDU6SXNzdWU4NjIxMTgwNjY=", "number": 2490, "title": "DeepChem Installation Failure", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-04-19T23:39:48Z", "updated_at": "2021-07-14T17:01:14Z", "closed_at": "2021-07-14T17:01:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nDeepChem when installed by the following commands:\r\n\r\n```\r\nconda create -y --name deepchem python=3.8\r\nconda activate deepchem\r\npip install tensorflow~=2.4\r\npip install deepchem\r\nconda install -y -c conda-forge rdkit\r\npip install jupyter\r\npip install seaborn\r\ngit clone git@github.com:deepchem/DeepLearningLifeSciences.git\r\n\r\ncd DeepLearningLifeSciences/Chapter11/\r\njupyter notebook \r\n\r\nOpen chapter_11_02_erk2_graph_conv.ipynb\r\nCell->Run All\r\n```\r\n\r\nfails with the following error\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nNotImplementedError                       Traceback (most recent call last)\r\n<ipython-input-6-1c890c29d1d2> in <module>\r\n\r\n      6     model = generate_graph_conv_model()\r\n      7     train_dataset, valid_dataset, test_dataset = splitter.train_valid_test_split(dataset)\r\n----> 8     model.fit(train_dataset)\r\n      9     train_scores = model.evaluate(train_dataset, metrics, transformers)\r\n     10     training_score_list.append(train_scores[\"mean-matthews_corrcoef\"])\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/deepchem/models/keras_model.py in fit(self, dataset, nb_epoch, max_checkpoints_to_keep, checkpoint_interval, deterministic, restore, variables, loss, callbacks, all_losses)\r\n    318     The average loss over the most recent checkpoint interval\r\n    319    \"\"\"\r\n--> 320     return self.fit_generator(\r\n    321         self.default_generator(\r\n    322             dataset, epochs=nb_epoch,\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/deepchem/models/keras_model.py in fit_generator(self, generator, max_checkpoints_to_keep, checkpoint_interval, restore, variables, loss, callbacks, all_losses)\r\n    407         inputs = inputs[0]\r\n    408 \r\n--> 409       batch_loss = apply_gradient_for_batch(inputs, labels, weights, loss)\r\n    410       current_step = self._global_step.numpy()\r\n    411 \r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/def_function.py in __call__(self, *args, **kwds)\r\n    826     tracing_count = self.experimental_get_tracing_count()\r\n    827     with trace.Trace(self._name) as tm:\r\n--> 828       result = self._call(*args, **kwds)\r\n    829       compiler = \"xla\" if self._experimental_compile else \"nonXla\"\r\n    830       new_tracing_count = self.experimental_get_tracing_count()\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/def_function.py in _call(self, *args, **kwds)\r\n    869       # This is the first call of __call__, so we have to initialize.\r\n    870       initializers = []\r\n--> 871       self._initialize(args, kwds, add_initializers_to=initializers)\r\n    872     finally:\r\n    873       # At this point we know that the initialization is complete (or less\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/def_function.py in _initialize(self, args, kwds, add_initializers_to)\r\n    723     self._graph_deleter = FunctionDeleter(self._lifted_initializer_graph)\r\n    724     self._concrete_stateful_fn = (\r\n--> 725         self._stateful_fn._get_concrete_function_internal_garbage_collected(  # pylint: disable=protected-access\r\n    726             *args, **kwds))\r\n    727 \r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/function.py in _get_concrete_function_internal_garbage_collected(self, *args, **kwargs)\r\n   2967       args, kwargs = None, None\r\n   2968     with self._lock:\r\n-> 2969       graph_function, _ = self._maybe_define_function(args, kwargs)\r\n   2970     return graph_function\r\n   2971 \r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/function.py in _maybe_define_function(self, args, kwargs)\r\n   3359 \r\n   3360           self._function_cache.missed.add(call_context_key)\r\n-> 3361           graph_function = self._create_graph_function(args, kwargs)\r\n   3362           self._function_cache.primary[cache_key] = graph_function\r\n   3363 \r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/function.py in _create_graph_function(self, args, kwargs, override_flat_arg_shapes)\r\n   3194     arg_names = base_arg_names + missing_arg_names\r\n   3195     graph_function = ConcreteFunction(\r\n-> 3196         func_graph_module.func_graph_from_py_func(\r\n   3197             self._name,\r\n   3198             self._python_function,\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/framework/func_graph.py in func_graph_from_py_func(name, python_func, args, kwargs, signature, func_graph, autograph, autograph_options, add_control_dependencies, arg_names, op_return_value, collections, capture_by_value, override_flat_arg_shapes)\r\n    988         _, original_func = tf_decorator.unwrap(python_func)\r\n    989 \r\n--> 990       func_outputs = python_func(*func_args, **func_kwargs)\r\n    991 \r\n    992       # invariant: `func_outputs` contains only Tensors, CompositeTensors,\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/def_function.py in wrapped_fn(*args, **kwds)\r\n    632             xla_context.Exit()\r\n    633         else:\r\n--> 634           out = weak_wrapped_fn().__wrapped__(*args, **kwds)\r\n    635         return out\r\n    636 \r\n\r\n~/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/framework/func_graph.py in wrapper(*args, **kwargs)\r\n    975           except Exception as e:  # pylint:disable=broad-except\r\n    976             if hasattr(e, \"ag_error_metadata\"):\r\n--> 977               raise e.ag_error_metadata.to_exception(e)\r\n    978             else:\r\n    979               raise\r\n\r\nNotImplementedError: in user code:\r\n\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/deepchem/models/keras_model.py:474 apply_gradient_for_batch  *\r\n        grads = tape.gradient(batch_loss, vars)\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/backprop.py:1080 gradient  **\r\n        flat_grad = imperative_grad.imperative_grad(\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/imperative_grad.py:71 imperative_grad\r\n        return pywrap_tfe.TFE_Py_TapeGradient(\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/eager/backprop.py:162 _gradient_function\r\n        return grad_fn(mock_op, *out_grads)\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/ops/math_grad.py:473 _UnsortedSegmentSumGrad\r\n        return _GatherDropNegatives(grad, op.inputs[1])[0], None, None\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/ops/math_grad.py:439 _GatherDropNegatives\r\n        array_ops.ones([array_ops.rank(gathered)\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/util/dispatch.py:201 wrapper\r\n        return target(*args, **kwargs)\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/ops/array_ops.py:3120 ones\r\n        output = _constant_if_small(one, shape, dtype, name)\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/ops/array_ops.py:2804 _constant_if_small\r\n        if np.prod(shape) < 1000:\r\n    <__array_function__ internals>:5 prod\r\n        \r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/numpy/core/fromnumeric.py:3030 prod\r\n        return _wrapreduction(a, np.multiply, 'prod', axis, dtype, out,\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/numpy/core/fromnumeric.py:87 _wrapreduction\r\n        return ufunc.reduce(obj, axis, dtype, out, **passkwargs)\r\n    /home/pwalters/anaconda3/envs/deepchem/lib/python3.8/site-packages/tensorflow/python/\r\nframework/ops.py:852 __array__\r\n        raise NotImplementedError(\r\n\r\n    NotImplementedError: Cannot convert a symbolic Tensor (gradient_tape/private__graph_conv_keras_model/graph_gather/sub:0) to a numpy array. This error may indicate that you're trying to pass a Tensor to a NumPy call, which is not supported\r\n```\r\n\r\nThe full environment is given by\r\n\r\n```\r\nname: deepchem\r\nchannels:\r\n  - conda-forge\r\n  - soumith\r\n  - defaults\r\ndependencies:\r\n  - _libgcc_mutex=0.1=conda_forge\r\n  - _openmp_mutex=4.5=1_gnu\r\n  - boost=1.74.0=py38hc10631b_3\r\n  - boost-cpp=1.74.0=hc6e9bd1_2\r\n  - bzip2=1.0.8=h7f98852_4\r\n  - ca-certificates=2020.12.5=ha878542_0\r\n  - cairo=1.16.0=h6cf1ce9_1008\r\n  - certifi=2020.12.5=py38h578d9bd_1\r\n  - cycler=0.10.0=py_2\r\n  - fontconfig=2.13.1=hba837de_1005\r\n  - freetype=2.10.4=h0708190_1\r\n  - gettext=0.19.8.1=h0b5b191_1005\r\n  - greenlet=1.0.0=py38h709712a_0\r\n  - icu=68.1=h58526e2_0\r\n  - jpeg=9d=h36c2ea0_0\r\n  - kiwisolver=1.3.1=py38h1fd1430_1\r\n  - lcms2=2.12=hddcbb42_0\r\n  - ld_impl_linux-64=2.33.1=h53a641e_7\r\n  - libblas=3.9.0=8_openblas\r\n  - libcblas=3.9.0=8_openblas\r\n  - libffi=3.3=he6710b0_2\r\n  - libgcc-ng=9.3.0=h2828fa1_19\r\n  - libgfortran-ng=9.3.0=hff62375_19\r\n  - libgfortran5=9.3.0=hff62375_19\r\n  - libglib=2.68.1=h3e27bee_0\r\n  - libgomp=9.3.0=h2828fa1_19\r\n  - libiconv=1.16=h516909a_0\r\n  - liblapack=3.9.0=8_openblas\r\n  - libopenblas=0.3.12=pthreads_h4812303_1\r\n  - libpng=1.6.37=h21135ba_2\r\n  - libstdcxx-ng=9.3.0=h6de172a_19\r\n  - libtiff=4.2.0=hdc55705_0\r\n  - libuuid=2.32.1=h7f98852_1000\r\n  - libwebp-base=1.2.0=h7f98852_2\r\n  - libxcb=1.13=h7f98852_1003\r\n  - libxml2=2.9.10=h72842e0_4\r\n  - lz4-c=1.9.3=h9c3ff4c_0\r\n  - matplotlib-base=3.4.1=py38hcc49a3a_0\r\n  - ncurses=6.2=he6710b0_1\r\n  - olefile=0.46=pyh9f0ad1d_1\r\n  - openjpeg=2.4.0=hf7af979_0\r\n  - openssl=1.1.1k=h7f98852_0\r\n  - pcre=8.44=he1b5a44_0\r\n  - pillow=8.1.2=py38ha0e1e83_1\r\n  - pip=21.0.1=py38h06a4308_0\r\n  - pixman=0.40.0=h36c2ea0_0\r\n  - pthread-stubs=0.4=h36c2ea0_1001\r\n  - pycairo=1.20.0=py38h323dad1_1\r\n  - pyparsing=2.4.7=pyh9f0ad1d_0\r\n  - python=3.8.8=hdb3f193_4\r\n  - python-dateutil=2.8.1=py_0\r\n  - python_abi=3.8=1_cp38\r\n  - pytz=2021.1=pyhd8ed1ab_0\r\n  - rdkit=2021.03.1=py38hf8acc3d_0\r\n  - readline=8.1=h27cfd23_0\r\n  - reportlab=3.5.66=py38hadf75a6_0\r\n  - setuptools=52.0.0=py38h06a4308_0\r\n  - six=1.15.0=pyh9f0ad1d_0\r\n  - sqlalchemy=1.4.7=py38h497a2fe_0\r\n  - sqlite=3.35.4=hdfb4753_0\r\n  - tk=8.6.10=hbc83047_0\r\n  - tornado=6.1=py38h497a2fe_1\r\n  - wheel=0.36.2=pyhd3eb1b0_0\r\n  - xorg-kbproto=1.0.7=h7f98852_1002\r\n  - xorg-libice=1.0.10=h7f98852_0\r\n  - xorg-libsm=1.2.3=hd9c2040_1000\r\n  - xorg-libx11=1.7.0=h7f98852_0\r\n  - xorg-libxau=1.0.9=h7f98852_0\r\n  - xorg-libxdmcp=1.1.3=h7f98852_0\r\n  - xorg-libxext=1.3.4=h7f98852_1\r\n  - xorg-libxrender=0.9.10=h7f98852_1003\r\n  - xorg-renderproto=0.11.1=h7f98852_1002\r\n  - xorg-xextproto=7.3.0=h7f98852_1002\r\n  - xorg-xproto=7.0.31=h7f98852_1007\r\n  - xz=5.2.5=h7b6447c_0\r\n  - zlib=1.2.11=h7b6447c_3\r\n  - zstd=1.4.9=ha95c52a_0\r\n  - pip:\r\n    - absl-py==0.12.0\r\n    - argon2-cffi==20.1.0\r\n    - astunparse==1.6.3\r\n    - async-generator==1.10\r\n    - attrs==20.3.0\r\n    - backcall==0.2.0\r\n    - bleach==3.3.0\r\n    - cachetools==4.2.1\r\n    - cffi==1.14.5\r\n    - chardet==4.0.0\r\n    - decorator==5.0.6\r\n    - deepchem==2.5.0\r\n    - defusedxml==0.7.1\r\n    - entrypoints==0.3\r\n    - flatbuffers==1.12\r\n    - gast==0.3.3\r\n    - google-auth==1.28.1\r\n    - google-auth-oauthlib==0.4.4\r\n    - google-pasta==0.2.0\r\n    - grpcio==1.32.0\r\n    - h5py==2.10.0\r\n    - idna==2.10\r\n    - ipykernel==5.5.3\r\n    - ipython==7.22.0\r\n    - ipython-genutils==0.2.0\r\n    - ipywidgets==7.6.3\r\n    - jedi==0.18.0\r\n    - jinja2==2.11.3\r\n    - joblib==1.0.1\r\n    - jsonschema==3.2.0\r\n    - jupyter==1.0.0\r\n    - jupyter-client==6.1.12\r\n    - jupyter-console==6.4.0\r\n    - jupyter-core==4.7.1\r\n    - jupyterlab-pygments==0.1.2\r\n    - jupyterlab-widgets==1.0.0\r\n    - keras-preprocessing==1.1.2\r\n    - markdown==3.3.4\r\n    - markupsafe==1.1.1\r\n    - mistune==0.8.4\r\n    - nbclient==0.5.3\r\n    - nbconvert==6.0.7\r\n    - nbformat==5.1.3\r\n    - nest-asyncio==1.5.1\r\n    - notebook==6.3.0\r\n    - numpy==1.19.5\r\n    - oauthlib==3.1.0\r\n    - opt-einsum==3.3.0\r\n    - packaging==20.9\r\n    - pandas==1.2.4\r\n    - pandocfilters==1.4.3\r\n    - parso==0.8.2\r\n    - pexpect==4.8.0\r\n    - pickleshare==0.7.5\r\n    - prometheus-client==0.10.1\r\n    - prompt-toolkit==3.0.18\r\n    - protobuf==3.15.8\r\n    - ptyprocess==0.7.0\r\n    - pyasn1==0.4.8\r\n    - pyasn1-modules==0.2.8\r\n    - pycparser==2.20\r\n    - pygments==2.8.1\r\n    - pyrsistent==0.17.3\r\n    - pyzmq==22.0.3\r\n    - qtconsole==5.0.3\r\n    - qtpy==1.9.0\r\n    - requests==2.25.1\r\n    - requests-oauthlib==1.3.0\r\n    - rsa==4.7.2\r\n    - scikit-learn==0.24.1\r\n    - scipy==1.6.2\r\n    - seaborn==0.11.1\r\n    - send2trash==1.5.0\r\n    - tensorboard==2.4.1\r\n    - tensorboard-plugin-wit==1.8.0\r\n    - tensorflow==2.4.1\r\n    - tensorflow-estimator==2.4.0\r\n    - termcolor==1.1.0\r\n    - terminado==0.9.4\r\n    - testpath==0.4.4\r\n    - threadpoolctl==2.1.0\r\n    - traitlets==5.0.5\r\n    - typing-extensions==3.7.4.3\r\n    - urllib3==1.26.4\r\n    - wcwidth==0.2.5\r\n    - webencodings==0.5.1\r\n    - werkzeug==1.0.1\r\n    - widgetsnbextension==3.5.1\r\n    - wrapt==1.12.1\r\nprefix: /home/pwalters/anaconda3/envs/deepchem\r\n```\r\n\r\nI'm relaying a bug report by @PatWalters on this issue\r\n\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.\r\n2.\r\n3.\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n\r\n## Expected behavior\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n\r\n* OS:\r\n* Python version:\r\n* DeepChem version:\r\n* RDKit version (optional):\r\n* TensorFlow version (optional):\r\n* PyTorch version (optional):\r\n* Any other relevant information:\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2476", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2476/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2476/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2476/events", "html_url": "https://github.com/deepchem/deepchem/issues/2476", "id": 857555061, "node_id": "MDU6SXNzdWU4NTc1NTUwNjE=", "number": 2476, "title": "\"InvalidVersionSpec\" error - installation fails", "user": {"login": "ashok-arjun", "id": 43197536, "node_id": "MDQ6VXNlcjQzMTk3NTM2", "avatar_url": "https://avatars.githubusercontent.com/u/43197536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashok-arjun", "html_url": "https://github.com/ashok-arjun", "followers_url": "https://api.github.com/users/ashok-arjun/followers", "following_url": "https://api.github.com/users/ashok-arjun/following{/other_user}", "gists_url": "https://api.github.com/users/ashok-arjun/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashok-arjun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashok-arjun/subscriptions", "organizations_url": "https://api.github.com/users/ashok-arjun/orgs", "repos_url": "https://api.github.com/users/ashok-arjun/repos", "events_url": "https://api.github.com/users/ashok-arjun/events{/privacy}", "received_events_url": "https://api.github.com/users/ashok-arjun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-04-14T06:09:19Z", "updated_at": "2021-05-16T07:13:23Z", "closed_at": "2021-05-16T07:13:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udcda Installation\r\n\r\n## Environment\r\n\r\n* OS: Ubuntu 18.04.4 LTS\r\n* Package manager (PyPI or Conda): Conda\r\n* Python version: 3.7.6\r\n* DeepChem version: 2.5.0\r\n* TensorFlow version: 2.3.0\r\n* PyTorch version (optional):\r\n* CUDA/cuDNN version (optional):\r\n* Any other relevant information: I would like to install **from source with conda**. I followed the instructions given [here](https://deepchem.readthedocs.io/en/latest/get_started/installation.html#from-source-with-conda) - with GPU.\r\n\r\n## Checklist\r\n\r\n- [x] I followed the [installation guide](https://deepchem.readthedocs.io/en/latest/get_started/installation.html).\r\n- [ ] I used Google Colab.\r\n- [ ] I do have multiple CUDA versions on my machine.\r\n\r\n## Additional context\r\n\r\nThe error I am getting is ```InvalidVersionSpec: Invalid version '5.4.104+': empty version component```, when executing the command ```source scripts/install_deepchem_conda.sh 3.7 gpu```. The log is given below:\r\n\r\n```\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: done\r\n\r\n\r\n==> WARNING: A newer version of conda exists. <==\r\n  current version: 4.8.5\r\n  latest version: 4.10.0\r\n\r\nPlease update conda by running\r\n\r\n    $ conda update -n base conda\r\n\r\n\r\n\r\n## Package Plan ##\r\n\r\n  environment location: /opt/conda/envs/deepchem\r\n\r\n  added / updated specs:\r\n    - python=3.7\r\n\r\n\r\nThe following packages will be downloaded:\r\n\r\n    package                    |            build\r\n    ---------------------------|-----------------\r\n    _libgcc_mutex-0.1          |      conda_forge           3 KB  conda-forge\r\n    _openmp_mutex-4.5          |            1_gnu          22 KB  conda-forge\r\n    ca-certificates-2020.12.5  |       ha878542_0         137 KB  conda-forge\r\n    certifi-2020.12.5          |   py37h89c1867_1         143 KB  conda-forge\r\n    ld_impl_linux-64-2.35.1    |       hea4e1c9_2         618 KB  conda-forge\r\n    libffi-3.3                 |       h58526e2_2          51 KB  conda-forge\r\n    libgcc-ng-9.3.0            |      h2828fa1_19         7.8 MB  conda-forge\r\n    libgomp-9.3.0              |      h2828fa1_19         376 KB  conda-forge\r\n    libstdcxx-ng-9.3.0         |      h6de172a_19         4.0 MB  conda-forge\r\n    ncurses-6.2                |       h58526e2_4         985 KB  conda-forge\r\n    openssl-1.1.1k             |       h7f98852_0         2.1 MB  conda-forge\r\n    pip-21.0.1                 |     pyhd8ed1ab_0         1.1 MB  conda-forge\r\n    python-3.7.10              |hffdb5ce_100_cpython        57.3 MB  conda-forge\r\n    python_abi-3.7             |          1_cp37m           4 KB  conda-forge\r\n    readline-8.0               |       he28a2e2_2         281 KB  conda-forge\r\n    setuptools-49.6.0          |   py37h89c1867_3         947 KB  conda-forge\r\n    sqlite-3.35.4              |       h74cdb3f_0         1.4 MB  conda-forge\r\n    tk-8.6.10                  |       h21135ba_1         3.2 MB  conda-forge\r\n    wheel-0.36.2               |     pyhd3deb0d_0          31 KB  conda-forge\r\n    xz-5.2.5                   |       h516909a_1         343 KB  conda-forge\r\n    zlib-1.2.11                |    h516909a_1010         106 KB  conda-forge\r\n    ------------------------------------------------------------\r\n                                           Total:        81.0 MB\r\n\r\nThe following NEW packages will be INSTALLED:\r\n\r\n  _libgcc_mutex      conda-forge/linux-64::_libgcc_mutex-0.1-conda_forge\r\n  _openmp_mutex      conda-forge/linux-64::_openmp_mutex-4.5-1_gnu\r\n  ca-certificates    conda-forge/linux-64::ca-certificates-2020.12.5-ha878542_0\r\n  certifi            conda-forge/linux-64::certifi-2020.12.5-py37h89c1867_1\r\n  ld_impl_linux-64   conda-forge/linux-64::ld_impl_linux-64-2.35.1-hea4e1c9_2\r\n  libffi             conda-forge/linux-64::libffi-3.3-h58526e2_2\r\n  libgcc-ng          conda-forge/linux-64::libgcc-ng-9.3.0-h2828fa1_19\r\n  libgomp            conda-forge/linux-64::libgomp-9.3.0-h2828fa1_19\r\n  libstdcxx-ng       conda-forge/linux-64::libstdcxx-ng-9.3.0-h6de172a_19\r\n  ncurses            conda-forge/linux-64::ncurses-6.2-h58526e2_4\r\n  openssl            conda-forge/linux-64::openssl-1.1.1k-h7f98852_0\r\n  pip                conda-forge/noarch::pip-21.0.1-pyhd8ed1ab_0\r\n  python             conda-forge/linux-64::python-3.7.10-hffdb5ce_100_cpython\r\n  python_abi         conda-forge/linux-64::python_abi-3.7-1_cp37m\r\n  readline           conda-forge/linux-64::readline-8.0-he28a2e2_2\r\n  setuptools         conda-forge/linux-64::setuptools-49.6.0-py37h89c1867_3\r\n  sqlite             conda-forge/linux-64::sqlite-3.35.4-h74cdb3f_0\r\n  tk                 conda-forge/linux-64::tk-8.6.10-h21135ba_1\r\n  wheel              conda-forge/noarch::wheel-0.36.2-pyhd3deb0d_0\r\n  xz                 conda-forge/linux-64::xz-5.2.5-h516909a_1\r\n  zlib               conda-forge/linux-64::zlib-1.2.11-h516909a_1010\r\n\r\n\r\n\r\nDownloading and Extracting Packages\r\npython-3.7.10        | 57.3 MB   | ############################################################################################################# | 100% \r\nzlib-1.2.11          | 106 KB    | ############################################################################################################# | 100% \r\nlibgcc-ng-9.3.0      | 7.8 MB    | ############################################################################################################# | 100% \r\nlibgomp-9.3.0        | 376 KB    | ############################################################################################################# | 100% \r\nld_impl_linux-64-2.3 | 618 KB    | ############################################################################################################# | 100% \r\ncertifi-2020.12.5    | 143 KB    | ############################################################################################################# | 100% \r\nopenssl-1.1.1k       | 2.1 MB    | ############################################################################################################# | 100% \r\nwheel-0.36.2         | 31 KB     | ############################################################################################################# | 100% \r\n_libgcc_mutex-0.1    | 3 KB      | ############################################################################################################# | 100% \r\nca-certificates-2020 | 137 KB    | ############################################################################################################# | 100% \r\nlibffi-3.3           | 51 KB     | ############################################################################################################# | 100% \r\npython_abi-3.7       | 4 KB      | ############################################################################################################# | 100% \r\nsqlite-3.35.4        | 1.4 MB    | ############################################################################################################# | 100% \r\n_openmp_mutex-4.5    | 22 KB     | ############################################################################################################# | 100% \r\nncurses-6.2          | 985 KB    | ############################################################################################################# | 100% \r\nreadline-8.0         | 281 KB    | ############################################################################################################# | 100% \r\nlibstdcxx-ng-9.3.0   | 4.0 MB    | ############################################################################################################# | 100% \r\nsetuptools-49.6.0    | 947 KB    | ############################################################################################################# | 100% \r\ntk-8.6.10            | 3.2 MB    | ############################################################################################################# | 100% \r\npip-21.0.1           | 1.1 MB    | ############################################################################################################# | 100% \r\nxz-5.2.5             | 343 KB    | ############################################################################################################# | 100% \r\nPreparing transaction: done\r\nVerifying transaction: done\r\nExecuting transaction: done\r\n#\r\n# To activate this environment, use\r\n#\r\n#     $ conda activate deepchem\r\n#\r\n# To deactivate an active environment, use\r\n#\r\n#     $ conda deactivate\r\n\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: done\r\n\r\n## Package Plan ##\r\n\r\n  environment location: /opt/conda\r\n\r\n  added / updated specs:\r\n    - conda-merge\r\n\r\n\r\nThe following packages will be downloaded:\r\n\r\n    package                    |            build\r\n    ---------------------------|-----------------\r\n    conda-4.10.0               |   py37h89c1867_1         3.1 MB  conda-forge\r\n    conda-merge-0.1.5          |             py_0           8 KB  conda-forge\r\n    ------------------------------------------------------------\r\n                                           Total:         3.1 MB\r\n\r\nThe following NEW packages will be INSTALLED:\r\n\r\n  conda-merge        conda-forge/noarch::conda-merge-0.1.5-py_0\r\n\r\nThe following packages will be UPDATED:\r\n\r\n  ca-certificates                      2020.6.20-hecda079_0 --> 2020.12.5-ha878542_0\r\n  certifi                          2020.6.20-py37hc8dfbb8_0 --> 2020.12.5-py37h89c1867_1\r\n  conda                                4.8.5-py37hc8dfbb8_1 --> 4.10.0-py37h89c1867_1\r\n\r\n\r\n\r\nDownloading and Extracting Packages\r\nconda-4.10.0         | 3.1 MB    | ############################################################################################################# | 100% \r\nconda-merge-0.1.5    | 8 KB      | ############################################################################################################# | 100% \r\nPreparing transaction: done\r\nVerifying transaction: done\r\nExecuting transaction: done\r\nInstalling DeepChem in the GPU environment\r\nCollecting package metadata (repodata.json): failed\r\n\r\nInvalidVersionSpec: Invalid version '5.4.104+': empty version component\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2474", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2474/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2474/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2474/events", "html_url": "https://github.com/deepchem/deepchem/issues/2474", "id": 857429593, "node_id": "MDU6SXNzdWU4NTc0Mjk1OTM=", "number": 2474, "title": "ValueError: y has more than n_class unique elements.", "user": {"login": "BlakeList", "id": 24213472, "node_id": "MDQ6VXNlcjI0MjEzNDcy", "avatar_url": "https://avatars.githubusercontent.com/u/24213472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlakeList", "html_url": "https://github.com/BlakeList", "followers_url": "https://api.github.com/users/BlakeList/followers", "following_url": "https://api.github.com/users/BlakeList/following{/other_user}", "gists_url": "https://api.github.com/users/BlakeList/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlakeList/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlakeList/subscriptions", "organizations_url": "https://api.github.com/users/BlakeList/orgs", "repos_url": "https://api.github.com/users/BlakeList/repos", "events_url": "https://api.github.com/users/BlakeList/events{/privacy}", "received_events_url": "https://api.github.com/users/BlakeList/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-14T01:03:16Z", "updated_at": "2021-05-09T22:47:59Z", "closed_at": "2021-05-09T22:47:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nHi there,\r\n\r\nNot sure if I am doing something wrong, but the code for the multiclass tutorial \r\n[multiclass_sklearn.py](https://github.com/deepchem/deepchem/blob/master/examples/multiclass/multiclass_sklearn.py)\r\n\r\nCreates an error:\r\n\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-153-2de1211744a4> in <module>\r\n     20 \r\n     21 print(\"About to evaluate model\")\r\n---> 22 train_scores = model.evaluate(dataset, sklearn.metrics.roc_auc_score, [])\r\n     23 \r\n     24 print(\"Train scores\")\r\n\r\n/workspace/appscratch/miniconda/cflbwl_black/lib/python3.7/site-packages/deepchem/models/models.py in evaluate(self, dataset, metrics, transformers, per_task_metrics, use_sample_weights, n_classes)\r\n    218         per_task_metrics=per_task_metrics,\r\n    219         use_sample_weights=use_sample_weights,\r\n--> 220         n_classes=n_classes)\r\n    221 \r\n    222   def get_task_type(self) -> str:\r\n\r\n/workspace/appscratch/miniconda/cflbwl_black/lib/python3.7/site-packages/deepchem/utils/evaluate.py in compute_model_performance(self, metrics, csv_out, stats_out, per_task_metrics, use_sample_weights, n_classes)\r\n    314           n_tasks=n_tasks,\r\n    315           n_classes=n_classes,\r\n--> 316           use_sample_weights=use_sample_weights)\r\n    317       if per_task_metrics:\r\n    318         multitask_scores[metric.name], computed_metrics = results\r\n\r\n/workspace/appscratch/miniconda/cflbwl_black/lib/python3.7/site-packages/deepchem/metrics/metric.py in compute_metric(self, y_true, y_pred, w, n_tasks, n_classes, per_task_metrics, use_sample_weights, **kwargs)\r\n    617 \r\n    618     y_true = normalize_labels_shape(\r\n--> 619         y_true, mode=self.mode, n_tasks=n_tasks, n_classes=n_classes)\r\n    620     y_pred = normalize_prediction_shape(\r\n    621         y_pred, mode=self.mode, n_tasks=n_tasks, n_classes=n_classes)\r\n\r\n/workspace/appscratch/miniconda/cflbwl_black/lib/python3.7/site-packages/deepchem/metrics/metric.py in normalize_labels_shape(y, mode, n_tasks, n_classes)\r\n    177       # check whether n_classes is int or not\r\n    178       assert isinstance(n_classes, int)\r\n--> 179       y_hot = to_one_hot(y_task, n_classes=n_classes)\r\n    180       y_hot = np.expand_dims(y_hot, 1)\r\n    181       all_y_task.append(y_hot)\r\n\r\n/workspace/appscratch/miniconda/cflbwl_black/lib/python3.7/site-packages/deepchem/metrics/metric.py in to_one_hot(y, n_classes)\r\n    398     raise ValueError(\"y must be a vector of shape (N,) or (N, 1)\")\r\n    399   if len(np.unique(y)) > n_classes:\r\n--> 400     raise ValueError(\"y has more than n_class unique elements.\")\r\n    401   N = np.shape(y)[0]\r\n    402   y_hot = np.zeros((N, n_classes))\r\n\r\nValueError: y has more than n_class unique elements.\r\n```\r\n\r\n## Environment\r\n\r\n* OS:\r\n* Python version: 3.7.4\r\n* DeepChem version: 2.5.0\r\n* RDKit version (optional): 2021.03.1\r\n* TensorFlow version (optional): 2.4.1\r\n* PyTorch version (optional): 1.7.1\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2459", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2459/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2459/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2459/events", "html_url": "https://github.com/deepchem/deepchem/issues/2459", "id": 843711176, "node_id": "MDU6SXNzdWU4NDM3MTExNzY=", "number": 2459, "title": "subclass import error", "user": {"login": "codestryker", "id": 37059870, "node_id": "MDQ6VXNlcjM3MDU5ODcw", "avatar_url": "https://avatars.githubusercontent.com/u/37059870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codestryker", "html_url": "https://github.com/codestryker", "followers_url": "https://api.github.com/users/codestryker/followers", "following_url": "https://api.github.com/users/codestryker/following{/other_user}", "gists_url": "https://api.github.com/users/codestryker/gists{/gist_id}", "starred_url": "https://api.github.com/users/codestryker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codestryker/subscriptions", "organizations_url": "https://api.github.com/users/codestryker/orgs", "repos_url": "https://api.github.com/users/codestryker/repos", "events_url": "https://api.github.com/users/codestryker/events{/privacy}", "received_events_url": "https://api.github.com/users/codestryker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-29T19:14:57Z", "updated_at": "2021-04-13T13:59:05Z", "closed_at": "2021-04-13T13:59:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nOn running => featuriser = dc.feat.LCNNFeaturizer(**PRIMITIVE_CELL_INF0)   it shows class import error.\r\n`\r\nImportError                               Traceback (most recent call last)\r\n\r\n/usr/local/lib/python3.7/dist-packages/deepchem/feat/material_featurizers/lcnn_featurizer.py in __init__(self, structure, aos, pbc, ns, na, cutoff)\r\n    149     try:\r\n--> 150       from pymatgen import Structure\r\n    151     except:\r\n\r\nImportError: cannot import name 'Structure' from 'pymatgen' (unknown location)\r\n\r\nIt will be fixed if we replace pymatgen to pymatgen.core . I think pymatgen module is updated.\r\n\r\n`\r\n\r\n\r\n## Environment\r\n\r\n* OS: windows 10\r\n* Python version: 3.7.10\r\n* DeepChem version: 2.5.0\r\n* RDKit version (optional):\r\n* TensorFlow version (optional):\r\n* PyTorch version (optional):\r\n* Any other relevant information:\r\n\r\n## Additional context\r\n\r\nThere is also need some little update on docstrings relates to pymatgen in lcnn.py under torch models directory.\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2430", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2430/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2430/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2430/events", "html_url": "https://github.com/deepchem/deepchem/issues/2430", "id": 825861427, "node_id": "MDU6SXNzdWU4MjU4NjE0Mjc=", "number": 2430, "title": "SmilesToImage can't featurize long molecules", "user": {"login": "PascalIversen", "id": 66594767, "node_id": "MDQ6VXNlcjY2NTk0NzY3", "avatar_url": "https://avatars.githubusercontent.com/u/66594767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PascalIversen", "html_url": "https://github.com/PascalIversen", "followers_url": "https://api.github.com/users/PascalIversen/followers", "following_url": "https://api.github.com/users/PascalIversen/following{/other_user}", "gists_url": "https://api.github.com/users/PascalIversen/gists{/gist_id}", "starred_url": "https://api.github.com/users/PascalIversen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PascalIversen/subscriptions", "organizations_url": "https://api.github.com/users/PascalIversen/orgs", "repos_url": "https://api.github.com/users/PascalIversen/repos", "events_url": "https://api.github.com/users/PascalIversen/events{/privacy}", "received_events_url": "https://api.github.com/users/PascalIversen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-03-09T12:37:12Z", "updated_at": "2021-04-08T08:58:51Z", "closed_at": "2021-04-08T08:58:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHey,\r\nthe `SmilesToImage` featurizer seems unable to handle long chains.\r\n\r\n```python\r\nFailed to featurize datapoint 1, CCCCCCCCCCCCCCCCCCCC(=O)OCCCNC(=O)c1ccccc1SSc1ccccc1C(=O)NCCCOC(=O)CCCCCCCCCCCCCCCCCCC. Appending empty array\r\nException message: index 81 is out of bounds for axis 0 with size 80\r\nFailed to featurize datapoint 2, COc1ccc(C=CC(=O)N2CC(CCl)c3c2cc(NC(=O)C(CCCCN)NC(=O)C(NC(=O)CCOCCOCCOCCOCCNC(=O)CBr)C(C)C)c2ccccc32)cc1.O=C(O)C(F)(F)F. Appending empty array\r\nException message: index 80 is out of bounds for axis 0 with size 80\r\n```\r\n## To Reproduce\r\n\r\n```python\r\nimport deepchem as dc\r\nmol = [\"CCCCCCCCC(=O)OCCCNC(=O)c1ccccc1SSc1ccccc1C(=O)NCCCOC(=O)CCCC\",\r\n    \"CCCCCCCCCCCCCCCCCCCC(=O)OCCCNC(=O)c1ccccc1SSc1ccccc1C(=O)NCCCOC(=O)CCCCCCCCCCCCCCCCCCC\",\r\n       \"COc1ccc(C=CC(=O)N2CC(CCl)c3c2cc(NC(=O)C(CCCCN)NC(=O)C(NC(=O)CCOCCOCCOCCOCCNC(=O)CBr)C(C)C)c2ccccc32)cc1.O=C(O)C(F)(F)F\"]\r\ndc.feat.SmilesToImage().featurize(mol)\r\n```\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n\r\n\r\n\r\n## Environment\r\n\r\n* OS: Windows 10\r\n* Python version: 3.7.6\r\n* DeepChem version: 2.4.0\r\n* RDKit version (optional): 2020.09.5\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2427", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2427/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2427/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2427/events", "html_url": "https://github.com/deepchem/deepchem/issues/2427", "id": 824606202, "node_id": "MDU6SXNzdWU4MjQ2MDYyMDI=", "number": 2427, "title": "load_chembl25 throws EOFError ", "user": {"login": "PascalIversen", "id": 66594767, "node_id": "MDQ6VXNlcjY2NTk0NzY3", "avatar_url": "https://avatars.githubusercontent.com/u/66594767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PascalIversen", "html_url": "https://github.com/PascalIversen", "followers_url": "https://api.github.com/users/PascalIversen/followers", "following_url": "https://api.github.com/users/PascalIversen/following{/other_user}", "gists_url": "https://api.github.com/users/PascalIversen/gists{/gist_id}", "starred_url": "https://api.github.com/users/PascalIversen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PascalIversen/subscriptions", "organizations_url": "https://api.github.com/users/PascalIversen/orgs", "repos_url": "https://api.github.com/users/PascalIversen/repos", "events_url": "https://api.github.com/users/PascalIversen/events{/privacy}", "received_events_url": "https://api.github.com/users/PascalIversen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-08T14:10:47Z", "updated_at": "2021-03-18T09:15:19Z", "closed_at": "2021-03-18T09:15:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nHey there,\r\nI am getting EOFError when trying to load Chembl25.\r\n\r\n```python\r\n---------------------------------------------------------------------------\r\nEOFError                                  Traceback (most recent call last)\r\n<ipython-input-1-1372f2caa156> in <module>\r\n      2 import deepchem as dc\r\n      3 chembl_tasks, datasets, transformers = dc.molnet.load_chembl25(\r\n----> 4     featurizer=dc.feat.RawFeaturizer(smiles=True), splitter=\"random\", reload=True) \r\n      5 \r\n      6 # # \"GraphConv\" featurizer was default\r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\molnet\\load_function\\chembl25_datasets.py in load_chembl25(featurizer, splitter, transformers, reload, data_dir, save_dir, **kwargs)\r\n     80   loader = _Chembl25Loader(featurizer, splitter, transformers, CHEMBL25_TASKS,\r\n     81                            data_dir, save_dir, **kwargs)\r\n---> 82   return loader.load_dataset('chembl25', reload)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\molnet\\load_function\\molnet_loader.py in load_dataset(self, name, reload)\r\n    175 \r\n    176     logger.info(\"About to featurize %s dataset.\" % name)\r\n--> 177     dataset = self.create_dataset()\r\n    178 \r\n    179     # Split and transform the dataset.\r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\molnet\\load_function\\chembl25_datasets.py in create_dataset(self)\r\n     42     loader = dc.data.CSVLoader(\r\n     43         tasks=self.tasks, feature_field=\"smiles\", featurizer=self.featurizer)\r\n---> 44     return loader.create_dataset(dataset_file, shard_size=8192)\r\n     45 \r\n     46 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\data\\data_loader.py in create_dataset(self, inputs, data_dir, shard_size)\r\n    224         yield X, y, w, ids\r\n    225 \r\n--> 226     return DiskDataset.create_dataset(shard_generator(), data_dir, self.tasks)\r\n    227 \r\n    228   def _get_shards(self, inputs: List, shard_size: Optional[int]) -> Iterator:\r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\data\\datasets.py in create_dataset(shard_generator, data_dir, tasks)\r\n   1201     metadata_rows = []\r\n   1202     time1 = time.time()\r\n-> 1203     for shard_num, (X, y, w, ids) in enumerate(shard_generator):\r\n   1204       basename = \"shard-%d\" % shard_num\r\n   1205       metadata_rows.append(\r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\data\\data_loader.py in shard_generator()\r\n    202 \r\n    203     def shard_generator():\r\n--> 204       for shard_num, shard in enumerate(self._get_shards(inputs, shard_size)):\r\n    205         time1 = time.time()\r\n    206         X, valid_inds = self._featurize_shard(shard)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\deepchem\\utils\\data_utils.py in load_csv_files(input_files, shard_size)\r\n    310     else:\r\n    311       logger.info(\"About to start loading CSV from %s\" % input_file)\r\n--> 312       for df in pd.read_csv(input_file, chunksize=shard_size):\r\n    313         logger.info(\r\n    314             \"Loading shard %d of size %s.\" % (shard_num, str(shard_size)))\r\n\r\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in __next__(self)\r\n   1032     def __next__(self):\r\n   1033         try:\r\n-> 1034             return self.get_chunk()\r\n   1035         except StopIteration:\r\n   1036             self.close()\r\n\r\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in get_chunk(self, size)\r\n   1082                 raise StopIteration\r\n   1083             size = min(size, self.nrows - self._currow)\r\n-> 1084         return self.read(nrows=size)\r\n   1085 \r\n   1086     def __enter__(self):\r\n\r\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in read(self, nrows)\r\n   1055     def read(self, nrows=None):\r\n   1056         nrows = validate_integer(\"nrows\", nrows)\r\n-> 1057         index, columns, col_dict = self._engine.read(nrows)\r\n   1058 \r\n   1059         if index is None:\r\n\r\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in read(self, nrows)\r\n   2059     def read(self, nrows=None):\r\n   2060         try:\r\n-> 2061             data = self._reader.read(nrows)\r\n   2062         except StopIteration:\r\n   2063             if self._first_chunk:\r\n\r\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.TextReader.read()\r\n\r\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.TextReader._read_low_memory()\r\n\r\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.TextReader._read_rows()\r\n\r\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.TextReader._tokenize_rows()\r\n\r\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.raise_parser_error()\r\n\r\n~\\Anaconda3\\lib\\_compression.py in readinto(self, b)\r\n     66     def readinto(self, b):\r\n     67         with memoryview(b) as view, view.cast(\"B\") as byte_view:\r\n---> 68             data = self.read(len(byte_view))\r\n     69             byte_view[:len(data)] = data\r\n     70         return len(data)\r\n\r\n~\\Anaconda3\\lib\\gzip.py in read(self, size)\r\n    480                 break\r\n    481             if buf == b\"\":\r\n--> 482                 raise EOFError(\"Compressed file ended before the \"\r\n    483                                \"end-of-stream marker was reached\")\r\n    484 \r\nEOFError: Compressed file ended before the end-of-stream marker was reached\r\n```\r\n\r\n## To Reproduce\r\n```python\r\nimport deepchem as dc\r\nchembl_tasks, datasets, transformers = dc.molnet.load_chembl25(\r\n    featurizer=dc.feat.RawFeaturizer(smiles=True), splitter=\"random\", reload=True) \r\n```\r\n\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n\r\n\r\n\r\n## Environment\r\n\r\n* OS: Windows10\r\n* Python version: 3.7.6\r\n* DeepChem version: 2.4.0\r\n* RDKit version (optional): 2020.09.5\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2379", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2379/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2379/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2379/events", "html_url": "https://github.com/deepchem/deepchem/issues/2379", "id": 798813395, "node_id": "MDU6SXNzdWU3OTg4MTMzOTU=", "number": 2379, "title": "Failed to run Deepchem Tutorial Part 15", "user": {"login": "greenaway0824", "id": 78390480, "node_id": "MDQ6VXNlcjc4MzkwNDgw", "avatar_url": "https://avatars.githubusercontent.com/u/78390480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greenaway0824", "html_url": "https://github.com/greenaway0824", "followers_url": "https://api.github.com/users/greenaway0824/followers", "following_url": "https://api.github.com/users/greenaway0824/following{/other_user}", "gists_url": "https://api.github.com/users/greenaway0824/gists{/gist_id}", "starred_url": "https://api.github.com/users/greenaway0824/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greenaway0824/subscriptions", "organizations_url": "https://api.github.com/users/greenaway0824/orgs", "repos_url": "https://api.github.com/users/greenaway0824/repos", "events_url": "https://api.github.com/users/greenaway0824/events{/privacy}", "received_events_url": "https://api.github.com/users/greenaway0824/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-02-02T00:17:33Z", "updated_at": "2021-10-15T02:48:43Z", "closed_at": "2021-10-15T02:48:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't avoid the error message while I am running Deepchem Tutorial Part 15 on Colab.\r\nPlease help me.\r\n\r\nTypeError: Keras symbolic inputs/outputs do not implement `__len__`. You may be trying to pass Keras symbolic inputs/outputs to a TF API that does not register dispatching, preventing Keras from automatically converting the API call to a lambda layer in the Functional Model. This error will also get raised if you try asserting a symbolic input/output directly.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2379/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2369", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2369/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2369/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2369/events", "html_url": "https://github.com/deepchem/deepchem/issues/2369", "id": 792289148, "node_id": "MDU6SXNzdWU3OTIyODkxNDg=", "number": 2369, "title": "AtomicConvModel does not fit data", "user": {"login": "Mirrty", "id": 43479139, "node_id": "MDQ6VXNlcjQzNDc5MTM5", "avatar_url": "https://avatars.githubusercontent.com/u/43479139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mirrty", "html_url": "https://github.com/Mirrty", "followers_url": "https://api.github.com/users/Mirrty/followers", "following_url": "https://api.github.com/users/Mirrty/following{/other_user}", "gists_url": "https://api.github.com/users/Mirrty/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mirrty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mirrty/subscriptions", "organizations_url": "https://api.github.com/users/Mirrty/orgs", "repos_url": "https://api.github.com/users/Mirrty/repos", "events_url": "https://api.github.com/users/Mirrty/events{/privacy}", "received_events_url": "https://api.github.com/users/Mirrty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-22T20:36:00Z", "updated_at": "2021-12-14T16:57:46Z", "closed_at": "2021-12-14T16:57:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nI attempted to use AtomicConvModel with pdbbind dataset loaded with _load_pdbbind(),_ but got the following error:\r\n```\r\n\r\ntrain_dataset.get_shape()\r\n((8, 3, 4), (8, 1), (8, 1), (8,)) # a subset of 8 molecules\r\nmodel = dc.models.AtomicConvModel()\r\nmodel.fit(train_dataset, nb_epoch=1)\r\n\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"/home/anaconda3/envs/acnn/lib/python3.7/site-packages/deepchem/models/keras_model.py\", line 307, in fit\r\n    checkpoint_interval, restore, variables, loss, callbacks)\r\n  File \"/home/anaconda3/envs/acnn/lib/python3.7/site-packages/deepchem/models/keras_model.py\", line 360, in fit_generator\r\n    for batch in generator:\r\n  File \"/home/anaconda3/envs/acnn/lib/python3.7/site-packages/deepchem/models/atomic_conv.py\", line 273, in default_generator\r\n    num_features = F_b[0][0].shape[1]\r\nIndexError: tuple index out of range\r\n```\r\n``\r\n\r\n## Environment\r\n\r\n* OS: Linux Centos 8\r\n* Python version: 3.7\r\n* DeepChem version: 2.3.0\r\n* RDKit version (optional): '2020.09.1'\r\n* TensorFlow version (optional): 1.14\r\n* PyTorch version (optional):\r\n* Any other relevant information:\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2366", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2366/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2366/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2366/events", "html_url": "https://github.com/deepchem/deepchem/issues/2366", "id": 789276098, "node_id": "MDU6SXNzdWU3ODkyNzYwOTg=", "number": 2366, "title": "Failed to featurize datapoint 4777. Appending empty array", "user": {"login": "saharctech", "id": 4704553, "node_id": "MDQ6VXNlcjQ3MDQ1NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4704553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saharctech", "html_url": "https://github.com/saharctech", "followers_url": "https://api.github.com/users/saharctech/followers", "following_url": "https://api.github.com/users/saharctech/following{/other_user}", "gists_url": "https://api.github.com/users/saharctech/gists{/gist_id}", "starred_url": "https://api.github.com/users/saharctech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saharctech/subscriptions", "organizations_url": "https://api.github.com/users/saharctech/orgs", "repos_url": "https://api.github.com/users/saharctech/repos", "events_url": "https://api.github.com/users/saharctech/events{/privacy}", "received_events_url": "https://api.github.com/users/saharctech/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-19T18:57:36Z", "updated_at": "2021-03-05T15:49:31Z", "closed_at": "2021-03-05T15:49:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \u2753 Questions & Help\r\n\r\n<!-- A clear and concise description of the question. -->\r\nHi- I am trying to load PDBbind dataset and apply Grid featurizer but I get error. \r\n\r\n**My code:**\r\nfrom deepchem.feat.complex_featurizers import RdkitGridFeaturizer\r\npdbbind_tasks, pdbbind_datasets, transformers = load_pdbbind(featurizer=RdkitGridFeaturizer(flatten=False), splitter=\"random\", subset=\"refined\")\r\ntrain_dataset, valid_dataset, test_dataset = pdbbind_datasets\r\n\r\n**Error:**\r\nFailed to featurize datapoint 4777. Appending empty array.\r\n\r\nNote: this error is triggered for each and every data points. For my case, is 4777 rows of error.\r\n\r\nAny help on this issue would mean a lot. Thank you in advance for your help.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2362", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2362/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2362/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2362/events", "html_url": "https://github.com/deepchem/deepchem/issues/2362", "id": 788009753, "node_id": "MDU6SXNzdWU3ODgwMDk3NTM=", "number": 2362, "title": "KeyError: 'atomic'", "user": {"login": "dkurt", "id": 25801568, "node_id": "MDQ6VXNlcjI1ODAxNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/25801568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkurt", "html_url": "https://github.com/dkurt", "followers_url": "https://api.github.com/users/dkurt/followers", "following_url": "https://api.github.com/users/dkurt/following{/other_user}", "gists_url": "https://api.github.com/users/dkurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkurt/subscriptions", "organizations_url": "https://api.github.com/users/dkurt/orgs", "repos_url": "https://api.github.com/users/dkurt/repos", "events_url": "https://api.github.com/users/dkurt/events{/privacy}", "received_events_url": "https://api.github.com/users/dkurt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-18T07:36:24Z", "updated_at": "2021-12-14T15:04:50Z", "closed_at": "2021-12-14T15:04:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"pdbbind_atomic_conv.py\", line 22, in <module>\r\n    featurizer=\"atomic\", split=\"random\", subset=\"core\")\r\n  File \"/home/dkurt/deepchem/deepchem/molnet/load_function/pdbbind_datasets.py\", line 166, in load_pdbbind\r\n    **kwargs)\r\n  File \"/home/dkurt/deepchem/deepchem/molnet/load_function/pdbbind_datasets.py\", line 20, in __init__\r\n    super(_PDBBindLoader, self).__init__(*args, **kwargs)\r\n  File \"/home/dkurt/deepchem/deepchem/molnet/load_function/molnet_loader.py\", line 119, in __init__\r\n    featurizer = featurizers[featurizer.lower()]\r\nKeyError: 'atomic'\r\n```\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. `cd deepchem/examples/pdbbind`\r\n2. `python3 pdbbind_atomic_conv.py`\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well. -->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2355", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2355/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2355/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2355/events", "html_url": "https://github.com/deepchem/deepchem/issues/2355", "id": 786192054, "node_id": "MDU6SXNzdWU3ODYxOTIwNTQ=", "number": 2355, "title": "dtype of `y` array in `DiskDataset` depends on whether `X` is accessed beforehand", "user": {"login": "jcwomack", "id": 12186302, "node_id": "MDQ6VXNlcjEyMTg2MzAy", "avatar_url": "https://avatars.githubusercontent.com/u/12186302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcwomack", "html_url": "https://github.com/jcwomack", "followers_url": "https://api.github.com/users/jcwomack/followers", "following_url": "https://api.github.com/users/jcwomack/following{/other_user}", "gists_url": "https://api.github.com/users/jcwomack/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcwomack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcwomack/subscriptions", "organizations_url": "https://api.github.com/users/jcwomack/orgs", "repos_url": "https://api.github.com/users/jcwomack/repos", "events_url": "https://api.github.com/users/jcwomack/events{/privacy}", "received_events_url": "https://api.github.com/users/jcwomack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-14T17:52:30Z", "updated_at": "2021-02-19T19:19:24Z", "closed_at": "2021-02-19T19:19:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n```\r\n_, datasets, _ = dc.molnet.load_hiv(\r\n    featurizer=dc.feat.RawFeaturizer(smiles=False),\r\n    splitter=None,   # no splitting\r\n    transformers=[]  # no transformation\r\n)\r\nprint(datasets[0].y.dtype)\r\n```\r\noutputs\r\n```\r\nobject\r\n```\r\n\r\nbut\r\n```\r\n_, datasets, _ = dc.molnet.load_hiv(\r\n    featurizer=dc.feat.RawFeaturizer(smiles=False),\r\n    splitter=None,   # no splitting\r\n    transformers=[]  # no transformation\r\n)\r\nprint(datasets[0].X.dtype)\r\nprint(datasets[0].y.dtype)\r\n```\r\noutputs\r\n```\r\nobject\r\nfloat64\r\n```\r\n\r\nIn the first case `y` has a `dtype` of `object`, but in the second case it has a `dtype` of `float64`\r\n\r\n## To Reproduce\r\n\r\nSee above.\r\n\r\nThis is for DeepChem version 2.4.0-rc1.dev, installed via pip.\r\n\r\n## Expected behavior\r\n\r\nThe `dtype` to consistently be `float64`\r\n\r\n## Environment\r\n\r\n* OS: Ubuntu 18.04. LTS\r\n* Python version: 3.8.6\r\n* DeepChem version: 2.4.0-rc1.dev\r\n* RDKit version (optional): 2020.09.3", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2310", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2310/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2310/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2310/events", "html_url": "https://github.com/deepchem/deepchem/issues/2310", "id": 756966789, "node_id": "MDU6SXNzdWU3NTY5NjY3ODk=", "number": 2310, "title": "pip install fails: incorrect metadata", "user": {"login": "chstem", "id": 29159589, "node_id": "MDQ6VXNlcjI5MTU5NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/29159589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chstem", "html_url": "https://github.com/chstem", "followers_url": "https://api.github.com/users/chstem/followers", "following_url": "https://api.github.com/users/chstem/following{/other_user}", "gists_url": "https://api.github.com/users/chstem/gists{/gist_id}", "starred_url": "https://api.github.com/users/chstem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chstem/subscriptions", "organizations_url": "https://api.github.com/users/chstem/orgs", "repos_url": "https://api.github.com/users/chstem/repos", "events_url": "https://api.github.com/users/chstem/events{/privacy}", "received_events_url": "https://api.github.com/users/chstem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-12-04T09:55:13Z", "updated_at": "2020-12-22T08:02:55Z", "closed_at": "2020-12-22T08:02:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Installing deepchem using pip 20.3 results in the following error message:\r\n\r\n```\r\n$ pip install deepchem \r\nCollecting deepchem\r\n  Using cached deepchem-2.4.0rc1.dev20201119053907.tar.gz (401 kB)\r\nERROR: Requested deepchem from https://files.pythonhosted.org/packages/fb/32/087\r\n7d24af313f071d7b2b93765c5759a861b46e603176d21bb339e2013cd/deepchem-2.4.0rc1.dev2\r\n0201119053907.tar.gz#sha256=e886573f12a52fd62a460835629daa4f2236e0a2926ec9766b7f\r\n02c89fc8412b has different version in metadata: '2.4.0rc1.dev20201204104606'  \r\n```\r\n\r\nApparently, there are two slightly different timestamps used in the packaging of a deepchem release for pypi.\r\n\r\nThis seems to be related to the new resolver used by pip, since using pip version 20.2 this error only occurs if `--use-feature=2020-resolver` is used.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2310/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2167", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2167/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2167/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2167/events", "html_url": "https://github.com/deepchem/deepchem/pull/2167", "id": 701173510, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg2Njc1NDk2", "number": 2167, "title": "QM9 loader bugfix", "user": {"login": "ncfrey", "id": 19844216, "node_id": "MDQ6VXNlcjE5ODQ0MjE2", "avatar_url": "https://avatars.githubusercontent.com/u/19844216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ncfrey", "html_url": "https://github.com/ncfrey", "followers_url": "https://api.github.com/users/ncfrey/followers", "following_url": "https://api.github.com/users/ncfrey/following{/other_user}", "gists_url": "https://api.github.com/users/ncfrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/ncfrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ncfrey/subscriptions", "organizations_url": "https://api.github.com/users/ncfrey/orgs", "repos_url": "https://api.github.com/users/ncfrey/repos", "events_url": "https://api.github.com/users/ncfrey/events{/privacy}", "received_events_url": "https://api.github.com/users/ncfrey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-14T14:50:10Z", "updated_at": "2020-09-16T20:09:27Z", "closed_at": "2020-09-14T22:15:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/deepchem/deepchem/pulls/2167", "html_url": "https://github.com/deepchem/deepchem/pull/2167", "diff_url": "https://github.com/deepchem/deepchem/pull/2167.diff", "patch_url": "https://github.com/deepchem/deepchem/pull/2167.patch", "merged_at": "2020-09-14T22:15:06Z"}, "body": "While working on #2161, I found a bug in the QM9 loader. I also added some tests. ", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2167/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2069", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2069/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2069/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2069/events", "html_url": "https://github.com/deepchem/deepchem/issues/2069", "id": 673460528, "node_id": "MDU6SXNzdWU2NzM0NjA1Mjg=", "number": 2069, "title": "Tutorial part 16: no module found", "user": {"login": "Draghohmmar", "id": 47124775, "node_id": "MDQ6VXNlcjQ3MTI0Nzc1", "avatar_url": "https://avatars.githubusercontent.com/u/47124775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Draghohmmar", "html_url": "https://github.com/Draghohmmar", "followers_url": "https://api.github.com/users/Draghohmmar/followers", "following_url": "https://api.github.com/users/Draghohmmar/following{/other_user}", "gists_url": "https://api.github.com/users/Draghohmmar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Draghohmmar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Draghohmmar/subscriptions", "organizations_url": "https://api.github.com/users/Draghohmmar/orgs", "repos_url": "https://api.github.com/users/Draghohmmar/repos", "events_url": "https://api.github.com/users/Draghohmmar/events{/privacy}", "received_events_url": "https://api.github.com/users/Draghohmmar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}, {"id": 859696756, "node_id": "MDU6TGFiZWw4NTk2OTY3NTY=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20Intermediate%20Contribution", "name": "Good Intermediate Contribution", "color": "fc97da", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-05T11:17:41Z", "updated_at": "2020-08-30T19:21:36Z", "closed_at": "2020-08-30T19:21:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tutorial part 16 needs updating.\r\nThis is error I get when running on the newest version of DeepChem.\r\n![image](https://user-images.githubusercontent.com/47124775/89406605-53e4a580-d715-11ea-9d80-e4b1db305931.png)\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2056", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2056/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2056/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2056/events", "html_url": "https://github.com/deepchem/deepchem/issues/2056", "id": 667283180, "node_id": "MDU6SXNzdWU2NjcyODMxODA=", "number": 2056, "title": "DiskDataset.shuffle_each_shard broken", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-28T18:33:11Z", "updated_at": "2020-07-31T23:52:24Z", "closed_at": "2020-07-31T23:52:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The implementation for `DiskDataset.shuffle_each_shard` (https://github.com/deepchem/deepchem/blob/master/deepchem/data/datasets.py#L1649-L1662) is broken. The issue is in line https://github.com/deepchem/deepchem/blob/master/deepchem/data/datasets.py#L1662 where shuffled shards are all written to the same file and overwrite one another. I think we don't have a proper unit test for this either or we would have caught this issue.\r\n\r\nWe also need improved logging (in general for `DiskDataset`, I think a good logging strategy is 1 logging output per new shard. If shards are reasonably sized, this provides good logging coverage without spam)", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2056/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2022", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/2022/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/2022/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/2022/events", "html_url": "https://github.com/deepchem/deepchem/issues/2022", "id": 659281377, "node_id": "MDU6SXNzdWU2NTkyODEzNzc=", "number": 2022, "title": "Cosine similarity calculation", "user": {"login": "gvisani", "id": 43044242, "node_id": "MDQ6VXNlcjQzMDQ0MjQy", "avatar_url": "https://avatars.githubusercontent.com/u/43044242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gvisani", "html_url": "https://github.com/gvisani", "followers_url": "https://api.github.com/users/gvisani/followers", "following_url": "https://api.github.com/users/gvisani/following{/other_user}", "gists_url": "https://api.github.com/users/gvisani/gists{/gist_id}", "starred_url": "https://api.github.com/users/gvisani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gvisani/subscriptions", "organizations_url": "https://api.github.com/users/gvisani/orgs", "repos_url": "https://api.github.com/users/gvisani/repos", "events_url": "https://api.github.com/users/gvisani/events{/privacy}", "received_events_url": "https://api.github.com/users/gvisani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-17T14:01:16Z", "updated_at": "2020-07-22T19:28:42Z", "closed_at": "2020-07-22T19:28:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I believe the function computing cosine similarity, found in layers.py, does not compute the denominator correctly if y is a matrix instead of a single vector:\r\n\r\n** Current code **\r\n\r\n```\r\ndef _cosine_dist(x, y):\r\n  denom = (backend.sqrt(backend.sum(tf.square(x)) * backend.sum(tf.square(y))) + backend.epsilon())\r\n  return backend.dot(x, tf.transpose(y)) / denom\r\n```\r\n\r\n** Possible fix **\r\n\r\n```\r\ndef _cosine_dist(x, y):\r\n  denom = backend.sqrt(backend.dot(tf.reshape(backend.sum(tf.square(x), axis=1), (-1, 1)), tf.reshape(backend.sum(tf.square(y), axis=1), (1, -1))) + backend.epsilon())\r\n  \r\n  return tf.math.divide(backend.dot(x, tf.transpose(y)), denom)\r\n```\r\n\r\nThe denominator should not be equal for every computed similarity value. It should be specific for each pair of vectors for which we wish to compute similarity.\r\n\r\nEdit by @rbharath: Fixed formatting on code samples", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/2022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/2022/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1946", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1946/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1946/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1946/events", "html_url": "https://github.com/deepchem/deepchem/issues/1946", "id": 650160226, "node_id": "MDU6SXNzdWU2NTAxNjAyMjY=", "number": 1946, "title": "Docs Build is Broken", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-02T19:33:58Z", "updated_at": "2020-07-02T21:41:42Z", "closed_at": "2020-07-02T21:41:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It looks like something about the latest build has stopped docs from rendering the docstrings. For example, https://deepchem.readthedocs.io/en/latest/transformers.html doesn't have any class doc strings. I'm not sure yet what's happening here but will take a look.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1909", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1909/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1909/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1909/events", "html_url": "https://github.com/deepchem/deepchem/issues/1909", "id": 642274948, "node_id": "MDU6SXNzdWU2NDIyNzQ5NDg=", "number": 1909, "title": "KerasModel.fit_on_batch is broken", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-20T00:38:03Z", "updated_at": "2021-07-09T16:55:09Z", "closed_at": "2020-06-30T00:05:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Here's a simple failing script\r\n\r\n```\r\nimport deepchem as dc                                                  \r\nimport numpy as np                                                     \r\nfrom rdkit import Chem                                                 \r\n                                                                       \r\nbi_tasks = ['a', 'b']                                                  \r\ny = np.array([[1, 1]])                                                 \r\nw = np.array([[1, 1]])                                                 \r\nsmiles = ['C']\r\nmols = [Chem.MolFromSmiles(smile) for smile in smiles]                 \r\nprint(\"mols\")                                                          \r\nprint(mols)\r\nfeaturizer = dc.feat.ConvMolFeaturizer()                               \r\nX = featurizer.featurize(mols)\r\n# set up dummy new model first                                         \r\nmodel = dc.models.GraphConvModel(n_tasks = len(bi_tasks),              \r\n                                 graph_conv_layers = [128, 128],       \r\n                                 dense_layer_size = 512,               \r\n                                 dropout = 0,                          \r\n                                 mode = 'regression',                  \r\n                                 learning_rate = 0.001,                \r\n                                 batch_size = 8,                       \r\n                                 model_dir = \"model\")                  \r\nmodel.fit_on_batch(X, y, w)\r\n```\r\n\r\nThe error we see is \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test_fit_on_batch.py\", line 23, in <module>\r\n    model.fit_on_batch(X, y, w)\r\n  File \"/Users/bharath/Code/deepchem/deepchem/models/keras_model.py\", line 428, in fit_on_batch\r\n    if not self.built:\r\nAttributeError: 'GraphConvModel' object has no attribute 'built'\r\n```\r\n\r\nThe bug is at this line https://github.com/deepchem/deepchem/blob/master/deepchem/models/keras_model.py#L428.\r\n\r\nThe issue is that neither `self.built` nor `self.build()` are available anymore. These need to be converted to use `self._ensure_built()` instead. We should also have a unit test for `fit_on_batch()` to avoid future errors.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1909/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1891", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1891/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1891/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1891/events", "html_url": "https://github.com/deepchem/deepchem/issues/1891", "id": 636635967, "node_id": "MDU6SXNzdWU2MzY2MzU5Njc=", "number": 1891, "title": "dc.metrics.balanced_accuracy_score is broken", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-11T00:37:41Z", "updated_at": "2020-06-16T00:15:35Z", "closed_at": "2020-06-16T00:15:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`dc.metrics.balanced_accuracy_score` is broken right now. This line https://github.com/deepchem/deepchem/blob/master/deepchem/metrics/__init__.py#L112\r\nshould be replaced with\r\n\r\n```\r\nsklearn.metrics.balanced_accuracy_score(y, y_pred, sample_weight=weights)\r\n```", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1729", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1729/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1729/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1729/events", "html_url": "https://github.com/deepchem/deepchem/issues/1729", "id": 550523262, "node_id": "MDU6SXNzdWU1NTA1MjMyNjI=", "number": 1729, "title": "model.save() raises an error NotImplemented", "user": {"login": "JZuegg", "id": 25675658, "node_id": "MDQ6VXNlcjI1Njc1NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/25675658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JZuegg", "html_url": "https://github.com/JZuegg", "followers_url": "https://api.github.com/users/JZuegg/followers", "following_url": "https://api.github.com/users/JZuegg/following{/other_user}", "gists_url": "https://api.github.com/users/JZuegg/gists{/gist_id}", "starred_url": "https://api.github.com/users/JZuegg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JZuegg/subscriptions", "organizations_url": "https://api.github.com/users/JZuegg/orgs", "repos_url": "https://api.github.com/users/JZuegg/repos", "events_url": "https://api.github.com/users/JZuegg/events{/privacy}", "received_events_url": "https://api.github.com/users/JZuegg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-16T01:37:43Z", "updated_at": "2020-01-16T17:31:01Z", "closed_at": "2020-01-16T17:31:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\n- DeepChem Version: 2.3.0\r\n\r\nI am starting to use DeepChem, after 1 year break, and I am trying to run some old scripts of mine from dc 2.1, in the current **dc 2.3.0** version. Specifically, I am trying to run a model=dc.models.MultitaskClassifier model, but when the script tries to _model.save()_:\r\n**error NotImplemented** \r\n\r\nIn the 'old' version, model.save created a 'model.pickle' file, which could be checked for if a model was present in a certain folder, before _model.load_from_dir(model_dir)_. In dc 2.30, the folder only contains checkpoint files \r\n\r\nThanks for any help...", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1728", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1728/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1728/events", "html_url": "https://github.com/deepchem/deepchem/issues/1728", "id": 548737323, "node_id": "MDU6SXNzdWU1NDg3MzczMjM=", "number": 1728, "title": "ModuleNotFoundError: No module named 'deepchem.models.autoencoder_models'", "user": {"login": "gwanseum", "id": 5158114, "node_id": "MDQ6VXNlcjUxNTgxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5158114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gwanseum", "html_url": "https://github.com/gwanseum", "followers_url": "https://api.github.com/users/gwanseum/followers", "following_url": "https://api.github.com/users/gwanseum/following{/other_user}", "gists_url": "https://api.github.com/users/gwanseum/gists{/gist_id}", "starred_url": "https://api.github.com/users/gwanseum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gwanseum/subscriptions", "organizations_url": "https://api.github.com/users/gwanseum/orgs", "repos_url": "https://api.github.com/users/gwanseum/repos", "events_url": "https://api.github.com/users/gwanseum/events{/privacy}", "received_events_url": "https://api.github.com/users/gwanseum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-13T06:49:49Z", "updated_at": "2020-06-12T21:51:49Z", "closed_at": "2020-06-12T21:51:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying out this tutorial:\r\n\r\nhttps://github.com/deepchem/deepchem/blob/master/examples/encoders/encoder_example.py\r\nWhen I run that code I get:\r\n\r\nModuleNotFoundError: No module named 'deepchem.models.autoencoder_models'\r\n\r\nAny help would be very appreciated!\r\n\r\n\r\nI installed deepchem==2.3.0.\r\n\r\nAnd installing it with conda.\r\n\r\n\r\n\r\n\r\n<!-- Please describe your problem as detailed as necessary -->\r\n\r\n<!-- If applicable, please provide working code that can reproduce your issue \r\nWe are much more likely to address a bug with a working reproduction quickly\r\n-->\r\n```\r\nYour code sample here\r\n```\r\n\r\n<!-- You can also ask questions on the DeepChem Gitter\r\nhttps://gitter.im/deepchem/Lobby\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1716", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1716/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1716/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1716/events", "html_url": "https://github.com/deepchem/deepchem/issues/1716", "id": 527953603, "node_id": "MDU6SXNzdWU1Mjc5NTM2MDM=", "number": 1716, "title": "use_chirality in WeaveFeaturizer", "user": {"login": "JanJorisDevogelaer", "id": 26218884, "node_id": "MDQ6VXNlcjI2MjE4ODg0", "avatar_url": "https://avatars.githubusercontent.com/u/26218884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JanJorisDevogelaer", "html_url": "https://github.com/JanJorisDevogelaer", "followers_url": "https://api.github.com/users/JanJorisDevogelaer/followers", "following_url": "https://api.github.com/users/JanJorisDevogelaer/following{/other_user}", "gists_url": "https://api.github.com/users/JanJorisDevogelaer/gists{/gist_id}", "starred_url": "https://api.github.com/users/JanJorisDevogelaer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JanJorisDevogelaer/subscriptions", "organizations_url": "https://api.github.com/users/JanJorisDevogelaer/orgs", "repos_url": "https://api.github.com/users/JanJorisDevogelaer/repos", "events_url": "https://api.github.com/users/JanJorisDevogelaer/events{/privacy}", "received_events_url": "https://api.github.com/users/JanJorisDevogelaer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-25T09:22:54Z", "updated_at": "2020-03-08T22:52:55Z", "closed_at": "2020-03-08T22:52:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "System:\r\n\r\n- DeepChem Version: 2.3.0 (built from source with GPU support)\r\n- Platform: Linux Fedora 30 \r\n\r\nWeaveFeaturizer does not seem to work when setting ```use_chirality=True```:\r\n\r\n```\r\n...\r\n~/anaconda3/envs/deepchem_gpu/lib/python3.5/site-packages/deepchem/feat/graph_features.py in _featurize(self, mol)\r\n    436         canon_adj_list,\r\n    437         bt_len=6,\r\n--> 438         graph_distance=self.graph_distance)\r\n    439 \r\n    440     return WeaveMol(nodes, pairs)\r\n\r\n~/anaconda3/envs/deepchem_gpu/lib/python3.5/site-packages/deepchem/feat/graph_features.py in pair_features(mol, edge_list, canon_adj_list, bt_len, graph_distance)\r\n    230       # first `bt_len` features are bond features(if applicable)\r\n    231       features[a1, a2, :bt_len] = np.asarray(\r\n--> 232           edge_list[tuple(sorted((a1, a2)))], dtype=float)\r\n    233     for ring in rings:\r\n    234       if a1 in ring:\r\n\r\nValueError: could not broadcast input array from shape (10) into shape (6)\r\n```\r\n\r\nThe ```bt_len``` variable in line 437 in graph_features.py appears to be hard-coded as 6. A small work-around that worked for me was adding the following code to ```def _featurize(self, mol)``` of the ```WeaveFeaturizer``` class in graph_features.py:\r\n```\r\n    if self.use_chirality:\r\n        bt_len_var = 10\r\n    else:\r\n        bt_len_var = 6\r\n```\r\nline 437: ``` bt_len=bt_len_var```\r\n\r\nBest regards,\r\nJ.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1693", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1693/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1693/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1693/events", "html_url": "https://github.com/deepchem/deepchem/issues/1693", "id": 506194459, "node_id": "MDU6SXNzdWU1MDYxOTQ0NTk=", "number": 1693, "title": "Inconsistent installation recommendations", "user": {"login": "KacperKubara", "id": 33067446, "node_id": "MDQ6VXNlcjMzMDY3NDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/33067446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KacperKubara", "html_url": "https://github.com/KacperKubara", "followers_url": "https://api.github.com/users/KacperKubara/followers", "following_url": "https://api.github.com/users/KacperKubara/following{/other_user}", "gists_url": "https://api.github.com/users/KacperKubara/gists{/gist_id}", "starred_url": "https://api.github.com/users/KacperKubara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KacperKubara/subscriptions", "organizations_url": "https://api.github.com/users/KacperKubara/orgs", "repos_url": "https://api.github.com/users/KacperKubara/repos", "events_url": "https://api.github.com/users/KacperKubara/events{/privacy}", "received_events_url": "https://api.github.com/users/KacperKubara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-12T14:34:12Z", "updated_at": "2020-02-29T10:39:53Z", "closed_at": "2020-02-29T10:39:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "OS: Linux\r\nPackage Manager: Conda\r\n\r\nThe installation recommendations on [deepchem.io](https://deepchem.io/):\r\n`\r\nconda install -c deepchem deepchem=2.1.0 python=3.6\r\n`\r\nAnd the installation recommendations on [Github](url):\r\n`\r\nconda install -c deepchem -c rdkit -c conda-forge -c omnia deepchem=2.2.0\r\n`\r\n\r\nThey are inconsistent and potentially confusing for new users. Especially, there are different versions of recommended deepchem and there is no Python 3.7 option on the website (although docs say that it can run on that version). Is there any reason behind of those inconsistencies, or it hasn't been updated yet?", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1647", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1647/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1647/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1647/events", "html_url": "https://github.com/deepchem/deepchem/issues/1647", "id": 473540104, "node_id": "MDU6SXNzdWU0NzM1NDAxMDQ=", "number": 1647, "title": "Model Interpretability tutorial with Tox21 dataset seems like it has a broken Lime explainer", "user": {"login": "sfrench007", "id": 22594045, "node_id": "MDQ6VXNlcjIyNTk0MDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/22594045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfrench007", "html_url": "https://github.com/sfrench007", "followers_url": "https://api.github.com/users/sfrench007/followers", "following_url": "https://api.github.com/users/sfrench007/following{/other_user}", "gists_url": "https://api.github.com/users/sfrench007/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfrench007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfrench007/subscriptions", "organizations_url": "https://api.github.com/users/sfrench007/orgs", "repos_url": "https://api.github.com/users/sfrench007/repos", "events_url": "https://api.github.com/users/sfrench007/events{/privacy}", "received_events_url": "https://api.github.com/users/sfrench007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-07-26T21:19:30Z", "updated_at": "2020-03-07T17:02:35Z", "closed_at": "2020-03-07T17:02:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description:**\r\nModel Interpretability tutorial with Tox21 dataset seems like it has a broken Lime explainer\r\n<!-- Please provide information about your setup -->\r\n<!-- To get the DeepChem version use the following commands:\r\n>> import deepchem\r\n>> deepchem.__version__\r\n\r\nIf you installed by source please give us the git hash as well\r\n>> git log | head -n 1\r\n-->\r\n- DeepChem Version: 2.1.1\r\n- Platform: Linux (conda)\r\n\r\n<!-- Please describe your problem as detailed as necessary -->\r\nThe eval_model function returns an error when run with the LimeTabularExplainer.  Below is the code from the tutorial, but it returns these errors when running the explainer (ipython):\r\n\r\nIn [5]: # this returns an Lime Explainer class\r\n   ...: # The explainer contains details for why the model behaved the way it di\r\n   ...: d\r\n   ...: exp = explainer.explain_instance(test_dataset.X[active_id], model_fn, nu\r\n   ...: m_features=5, top_labels=1)\r\n\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-5-f12b69f498c6> in <module>()\r\n      1 # this returns an Lime Explainer class\r\n      2 # The explainer contains details for why the model behaved the way it did\r\n----> 3 exp = explainer.explain_instance(test_dataset.X[active_id], model_fn, num_features=5, top_labels=1)\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.5/site-packages/lime/lime_tabular.py in explain_instance(self, data_row, predict_fn, labels, top_labels, num_features, num_samples, distance_metric, model_regressor)\r\n    350         ).ravel()\r\n    351 \r\n--> 352         yss = predict_fn(inverse)\r\n    353 \r\n    354         # for classification, the model needs to provide a list of tuples - classes\r\n\r\n<ipython-input-3-082beefe1da3> in eval_closure(x)\r\n      4         ds = dc.data.NumpyDataset(x, None, None, None)\r\n      5         # The 0th task is NR-AR\r\n----> 6         predictions = model.predict(ds)[:,0]\r\n      7         return predictions\r\n      8     return eval_closure\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.5/site-packages/deepchem/models/keras_model.py in predict(self, dataset, transformers, outputs)\r\n    674     generator = self.default_generator(\r\n    675         dataset, mode='predict', pad_batches=False)\r\n--> 676     return self.predict_on_generator(generator, transformers, outputs)\r\n    677 \r\n    678   def predict_uncertainty(self, dataset, masks=50):\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.5/site-packages/deepchem/models/keras_model.py in predict_on_generator(self, generator, transformers, outputs)\r\n    597       if it produces multiple outputs\r\n    598     \"\"\"\r\n--> 599     return self._predict(generator, transformers, outputs, False)\r\n    600 \r\n    601   def predict_on_batch(self, X, transformers=[], outputs=None):\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.5/site-packages/deepchem/models/keras_model.py in _predict(self, generator, transformers, outputs, uncertainty)\r\n    507     if isinstance(outputs, tf.Tensor):\r\n    508       outputs = [outputs]\r\n--> 509     for batch in generator:\r\n    510       inputs, labels, weights = batch\r\n    511       self._create_inputs(inputs)\r\n\r\n~/anaconda3/envs/deepchem/lib/python3.5/site-packages/deepchem/models/tensorgraph/fcnet.py in default_generator(self, dataset, epochs, mode, deterministic, pad_batches)\r\n    139         if y_b is not None:\r\n    140           y_b = to_one_hot(y_b.flatten(), self.n_classes).reshape(\r\n--> 141               -1, self.n_tasks, self.n_classes)\r\n    142         yield ([X_b], [y_b], [w_b])\r\n    143 \r\n\r\nValueError: cannot reshape array of size 200 into shape (12,2)\r\n\r\n\r\n\r\n<!-- If applicable, please provide working code that can reproduce your issue \r\nWe are much more likely to address a bug with a working reproduction quickly\r\n-->\r\n```\r\n# Imaging imports to get pictures in the notebook\r\nfrom rdkit import Chem\r\nfrom rdkit.Chem.Draw import IPythonConsole\r\nfrom IPython.display import SVG\r\nfrom rdkit.Chem import rdDepictor\r\nfrom rdkit.Chem.Draw import rdMolDraw2D\r\n\r\n\r\nimport numpy as np\r\nimport deepchem as dc\r\nfrom deepchem.molnet import load_tox21\r\n\r\n# Only for debug!\r\nnp.random.seed(123)\r\n\r\n# Load Tox21 dataset\r\nn_features = 1024\r\ntox21_tasks, tox21_datasets, transformers = load_tox21()\r\ntrain_dataset, valid_dataset, test_dataset = tox21_datasets\r\n\r\n# Fit models\r\nmetric = dc.metrics.Metric(\r\n    dc.metrics.roc_auc_score, np.mean, mode=\"classification\")\r\n\r\nnb_epoch = 10\r\nmodel = dc.models.tensorgraph.fcnet.MultitaskClassifier(\r\n    len(tox21_tasks),\r\n    train_dataset.get_data_shape()[0])\r\n\r\n# Fit trained model\r\nmodel.fit(train_dataset, nb_epoch=nb_epoch)\r\n#model.save('test.h5')\r\n\r\ntrain_scores = model.evaluate(train_dataset, [metric], transformers)\r\nvalid_scores = model.evaluate(valid_dataset, [metric], transformers)\r\n\r\nfrom lime import lime_tabular\r\nfeature_names = [\"fp_%s\"  % x for x in range(1024)]\r\nexplainer = lime_tabular.LimeTabularExplainer(train_dataset.X,\r\n                                              feature_names=feature_names,\r\n                                              categorical_features=feature_names,\r\n                                              class_names=['not toxic', 'toxic'],\r\n                                              discretize_continuous=True)\r\n\r\n# We need a function which takes a 2d numpy array (samples, features) and returns predictions (samples,)\r\ndef eval_model(my_model, transformers):\r\n    def eval_closure(x):\r\n        ds = dc.data.NumpyDataset(x, None, None, None)\r\n        # The 0th task is NR-AR\r\n        predictions = model.predict(ds)[:,0]\r\n        return predictions\r\n    return eval_closure\r\nmodel_fn = eval_model(model, transformers)\r\n\r\n# We want to investigate a toxic compound\r\nactive_id = np.where(test_dataset.y[:,0]==1)[0][0]\r\n\r\n# this returns an Lime Explainer class\r\n# The explainer contains details for why the model behaved the way it did\r\nexp = explainer.explain_instance(test_dataset.X[active_id], model_fn, num_features=5, top_labels=0)\r\n\r\n```\r\n\r\n<!-- You can also ask questions on the DeepChem Gitter\r\nhttps://gitter.im/deepchem/Lobby\r\n-->\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1504", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1504/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1504/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1504/events", "html_url": "https://github.com/deepchem/deepchem/issues/1504", "id": 406396268, "node_id": "MDU6SXNzdWU0MDYzOTYyNjg=", "number": 1504, "title": "Symmetry functions featurization functions are not in \"feats\"", "user": {"login": "brunocuevas", "id": 15262930, "node_id": "MDQ6VXNlcjE1MjYyOTMw", "avatar_url": "https://avatars.githubusercontent.com/u/15262930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunocuevas", "html_url": "https://github.com/brunocuevas", "followers_url": "https://api.github.com/users/brunocuevas/followers", "following_url": "https://api.github.com/users/brunocuevas/following{/other_user}", "gists_url": "https://api.github.com/users/brunocuevas/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunocuevas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunocuevas/subscriptions", "organizations_url": "https://api.github.com/users/brunocuevas/orgs", "repos_url": "https://api.github.com/users/brunocuevas/repos", "events_url": "https://api.github.com/users/brunocuevas/events{/privacy}", "received_events_url": "https://api.github.com/users/brunocuevas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-02-04T15:57:59Z", "updated_at": "2019-03-10T19:29:59Z", "closed_at": "2019-03-10T19:29:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nI just noticed that methods for featurization using Behler-Parrinello (2007) symmetry functions are not implemented in the corresponding \"feat\" class. On the contrary, those features are obtained using methods from deepchem.models.tensorgraph.symmetry_functions. It was a little hard for me to understand how to get those features until I read the commit of this class. \r\n\r\nI would suggest that the methods involved in the calculation of symmetry functions become methods from the deepchem.feat.BPSymmetryFunction, or on the contrary, if that is not possible, some reference to those functions in the docstrings.\r\n\r\nThanks, everybody for your great work", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1489", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1489/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1489/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1489/events", "html_url": "https://github.com/deepchem/deepchem/issues/1489", "id": 397954679, "node_id": "MDU6SXNzdWUzOTc5NTQ2Nzk=", "number": 1489, "title": "NumpyDataset and DiskDataset y vectors are not consistent", "user": {"login": "amandajean119", "id": 3688087, "node_id": "MDQ6VXNlcjM2ODgwODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3688087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amandajean119", "html_url": "https://github.com/amandajean119", "followers_url": "https://api.github.com/users/amandajean119/followers", "following_url": "https://api.github.com/users/amandajean119/following{/other_user}", "gists_url": "https://api.github.com/users/amandajean119/gists{/gist_id}", "starred_url": "https://api.github.com/users/amandajean119/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amandajean119/subscriptions", "organizations_url": "https://api.github.com/users/amandajean119/orgs", "repos_url": "https://api.github.com/users/amandajean119/repos", "events_url": "https://api.github.com/users/amandajean119/events{/privacy}", "received_events_url": "https://api.github.com/users/amandajean119/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-10T18:18:50Z", "updated_at": "2019-03-31T02:59:15Z", "closed_at": "2019-03-31T02:59:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description:**\r\n\r\n<!-- Please provide information about your setup -->\r\n\r\n<!-- To get the DeepChem version use the following commands:\r\n>> import deepchem\r\n>> deepchem.__version__\r\n\r\nIf you installed by source please give us the git hash as well\r\n>> git log | head -n 1\r\n-->\r\n- DeepChem Version: 2.1.0\r\n- Platform: Ubuntu\r\n\r\n<!-- Please describe your problem as detailed as necessary -->\r\nFor singletask datasets (1D label vector), NumpyDatasets and DiskDatasets return different views of the y vector. NumpyDataset returns a vector and DiskDataset returns a 2-D array.\r\n<!-- If applicable, please provide working code that can reproduce your issue \r\nWe are much more likely to address a bug with a working reproduction quickly\r\n-->\r\n```\r\ndataset_tmp = NumpyDataset(features, vals)\r\ndataset = DiskDataset.from_numpy(features, vals)\r\n(Pdb) dataset_tmp.y.shape\r\n(630,)\r\n(Pdb) dataset.y.shape\r\n(630, 1)\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1460", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1460/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1460/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1460/events", "html_url": "https://github.com/deepchem/deepchem/issues/1460", "id": 386910782, "node_id": "MDU6SXNzdWUzODY5MTA3ODI=", "number": 1460, "title": "Error in \"Explaining_Tox21.ipynb\" tutorial:  'MultitaskClassifier' object has no attribute 'predict_proba'", "user": {"login": "hseara", "id": 2016887, "node_id": "MDQ6VXNlcjIwMTY4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/2016887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hseara", "html_url": "https://github.com/hseara", "followers_url": "https://api.github.com/users/hseara/followers", "following_url": "https://api.github.com/users/hseara/following{/other_user}", "gists_url": "https://api.github.com/users/hseara/gists{/gist_id}", "starred_url": "https://api.github.com/users/hseara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hseara/subscriptions", "organizations_url": "https://api.github.com/users/hseara/orgs", "repos_url": "https://api.github.com/users/hseara/repos", "events_url": "https://api.github.com/users/hseara/events{/privacy}", "received_events_url": "https://api.github.com/users/hseara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-03T16:56:13Z", "updated_at": "2018-12-11T09:20:16Z", "closed_at": "2018-12-11T09:20:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description:**\r\n\r\n- DeepChem Version: 2.1.0\r\n- Platform: Linux \r\n- Installation:\r\n```bash\r\nconda install --name deepchem python=3.6\r\nconda activate deepchem\r\nconda install -c conda-forge -c rdkit -c omnia -c deepchem deepchem-gpu=2.1.0 python=3.6\r\nconda install -c conda-forge lime\r\n```\r\nWhen running the following cell of the Explaining_Tox21.ipynb tutorial,  \r\n``` python\r\n# this returns an Lime Explainer class\r\n# The explainer contains details for why the model behaved the way it did\r\nexp = explainer.explain_instance(test_dataset.X[active_id], model_fn, num_features=5, top_labels=1)\r\n```\r\nI get the following error:\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-5-f12b69f498c6> in <module>\r\n      1 # this returns an Lime Explainer class\r\n      2 # The explainer contains details for why the model behaved the way it did\r\n----> 3 exp = explainer.explain_instance(test_dataset.X[active_id], model_fn, num_features=5, top_labels=1)\r\n\r\n~/soft/anaconda3/envs/deepchem/lib/python3.6/site-packages/lime/lime_tabular.py in explain_instance(self, data_row, predict_fn, labels, top_labels, num_features, num_samples, distance_metric, model_regressor)\r\n    272         ).ravel()\r\n    273 \r\n--> 274         yss = predict_fn(inverse)\r\n    275 \r\n    276         # for classification, the model needs to provide a list of tuples - classes\r\n\r\n<ipython-input-3-3450f28d5ab4> in eval_closure(x)\r\n      4         ds = dc.data.NumpyDataset(x, None, None, None)\r\n      5         # The 0th task is NR-AR\r\n----> 6         predictions = model.predict_proba(ds)[:,0]\r\n      7         return predictions\r\n      8     return eval_closure\r\n\r\nAttributeError: 'MultitaskClassifier' object has no attribute 'predict_proba'\r\n```\r\nAs a result, exp is not populated. Lime version is:  lime: 0.1.1.32-py_1 conda-forge", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1459", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1459/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1459/events", "html_url": "https://github.com/deepchem/deepchem/issues/1459", "id": 386800104, "node_id": "MDU6SXNzdWUzODY4MDAxMDQ=", "number": 1459, "title": "About \"dc.molnet.load_pdbbind_grid()\" I am getting the following some errors", "user": {"login": "nbliangying", "id": 42087160, "node_id": "MDQ6VXNlcjQyMDg3MTYw", "avatar_url": "https://avatars.githubusercontent.com/u/42087160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbliangying", "html_url": "https://github.com/nbliangying", "followers_url": "https://api.github.com/users/nbliangying/followers", "following_url": "https://api.github.com/users/nbliangying/following{/other_user}", "gists_url": "https://api.github.com/users/nbliangying/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbliangying/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbliangying/subscriptions", "organizations_url": "https://api.github.com/users/nbliangying/orgs", "repos_url": "https://api.github.com/users/nbliangying/repos", "events_url": "https://api.github.com/users/nbliangying/events{/privacy}", "received_events_url": "https://api.github.com/users/nbliangying/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-12-03T12:40:06Z", "updated_at": "2019-01-16T13:07:25Z", "closed_at": "2019-01-16T13:07:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description:**\r\nAbout \"dc.molnet.load_pdbbind_grid()\" I am getting the following some errors\uff1a\r\nPDBBIND_tasks\uff0c\uff08train_dataset\uff0cvalid_dataset\uff0ctest_dataset\uff09\uff0ctransformers = dc.molnet.load_pdbbind_grid\uff08\uff09\r\n\r\nTypeError Traceback (most recent call last)\r\nin ()\r\n----> 1 PDBBIND_tasks, (train_dataset, valid_dataset, test_dataset), transformers = dc.molnet.load_pdbbind_grid()\r\n\r\nTypeError: 'NoneType' object is not iterable", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1374", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1374/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1374/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1374/events", "html_url": "https://github.com/deepchem/deepchem/issues/1374", "id": 350709213, "node_id": "MDU6SXNzdWUzNTA3MDkyMTM=", "number": 1374, "title": "Unable to search in Docs", "user": {"login": "pvskand", "id": 14890185, "node_id": "MDQ6VXNlcjE0ODkwMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/14890185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvskand", "html_url": "https://github.com/pvskand", "followers_url": "https://api.github.com/users/pvskand/followers", "following_url": "https://api.github.com/users/pvskand/following{/other_user}", "gists_url": "https://api.github.com/users/pvskand/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvskand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvskand/subscriptions", "organizations_url": "https://api.github.com/users/pvskand/orgs", "repos_url": "https://api.github.com/users/pvskand/repos", "events_url": "https://api.github.com/users/pvskand/events{/privacy}", "received_events_url": "https://api.github.com/users/pvskand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 264775171, "node_id": "MDU6TGFiZWwyNjQ3NzUxNzE=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-15T07:14:07Z", "updated_at": "2020-03-22T23:48:05Z", "closed_at": "2020-03-22T23:48:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unable to search in the DeepChem. Any search like `conv2D`, `maxPool`, `data loader` returns NULL.\r\nI suspect that the search returns NULL for all the keywords (but am not sure). This might be due to the version of Sphinx - we are currently using `1.3.5` and the latest version is `1.7.6`.\r\nIn any case this shouldn't be problem since search was working previously. I guess the root cause is something else.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1279", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1279/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1279/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1279/events", "html_url": "https://github.com/deepchem/deepchem/issues/1279", "id": 326853475, "node_id": "MDU6SXNzdWUzMjY4NTM0NzU=", "number": 1279, "title": "WeaveModel becomes a memory hog, gives seg fault", "user": {"login": "1particle", "id": 6697318, "node_id": "MDQ6VXNlcjY2OTczMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6697318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1particle", "html_url": "https://github.com/1particle", "followers_url": "https://api.github.com/users/1particle/followers", "following_url": "https://api.github.com/users/1particle/following{/other_user}", "gists_url": "https://api.github.com/users/1particle/gists{/gist_id}", "starred_url": "https://api.github.com/users/1particle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1particle/subscriptions", "organizations_url": "https://api.github.com/users/1particle/orgs", "repos_url": "https://api.github.com/users/1particle/repos", "events_url": "https://api.github.com/users/1particle/events{/privacy}", "received_events_url": "https://api.github.com/users/1particle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-05-27T21:38:46Z", "updated_at": "2023-04-06T00:21:54Z", "closed_at": "2023-04-06T00:21:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been able, in the past, to run WeaveModel on a small dataset of peptides with their MIC values as the target. Trying to repeat that partial success on a dataset of larger proteins (most of them around 70 aa in length) has completely failed, and I get segmentation faults all the time.\r\n\r\nI run the CPU version of deepchem (version 2.0) on the [Niagara](https://docs.computecanada.ca/wiki/Niagara) cluster of Compute Canada, with over **200 GB** of memory per job. My code is a minimally altered version of the [tox21 example](https://github.com/deepchem/deepchem/blob/master/examples/tox21/tox21_tensorgraph_weave.py), and my model specification line is\r\n\r\n`model = WeaveTensorGraph(len(tasks), n_atom_feat=75,n_pair_feat=14, n_hidden=50, learning_rate=0.0001, n_graph_feat=256, dropout=0.500, momentum=0.800, mode=\"regression\")\r\n`\r\n\r\nI have used batch sizes as small as 10 and as large as 100, and the result is always the same: featurization completes and the training fails at the first epoch, with a segmentation faults and a massive core dump. Having tried to rule out all other causes, I can only assume that the WeaveModel is prohibitively expensive for proteins of even moderate size.\r\n\r\nMy main question is: can one avoid the segmentation faults when using WeaveModel on larger proteins, even if at the expense of slower trainings? In my experiment with antimicrobial peptides, I found WeaveModel to be superior to graphconv models of various depths and widths, so I hope I can also use the WeaveModel on larger proteins.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1279/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1279/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1241", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1241/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1241/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1241/events", "html_url": "https://github.com/deepchem/deepchem/issues/1241", "id": 318634903, "node_id": "MDU6SXNzdWUzMTg2MzQ5MDM=", "number": 1241, "title": "deepchem/examples/adme datasets are not accessible", "user": {"login": "jieeshen", "id": 37315393, "node_id": "MDQ6VXNlcjM3MzE1Mzkz", "avatar_url": "https://avatars.githubusercontent.com/u/37315393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jieeshen", "html_url": "https://github.com/jieeshen", "followers_url": "https://api.github.com/users/jieeshen/followers", "following_url": "https://api.github.com/users/jieeshen/following{/other_user}", "gists_url": "https://api.github.com/users/jieeshen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jieeshen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jieeshen/subscriptions", "organizations_url": "https://api.github.com/users/jieeshen/orgs", "repos_url": "https://api.github.com/users/jieeshen/repos", "events_url": "https://api.github.com/users/jieeshen/events{/privacy}", "received_events_url": "https://api.github.com/users/jieeshen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-28T13:03:11Z", "updated_at": "2020-02-25T04:33:37Z", "closed_at": "2020-02-25T04:33:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems those csv files are not available anymore? \r\n\r\ndef retrieve_datasets():\r\n  os.system(\r\n      'wget -c %s' %\r\n      'https://s3-us-west-1.amazonaws.com/deep-crystal-california/az_logd.csv')\r\n  os.system(\r\n      'wget -c %s' %\r\n      'https://s3-us-west-1.amazonaws.com/deep-crystal-california/az_hppb.csv')\r\n  os.system(\r\n      'wget -c %s' %\r\n      'https://s3-us-west-1.amazonaws.com/deep-crystal-california/az_clearance.csv'\r\n  )\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1241/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1232", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1232/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1232/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1232/events", "html_url": "https://github.com/deepchem/deepchem/issues/1232", "id": 316137554, "node_id": "MDU6SXNzdWUzMTYxMzc1NTQ=", "number": 1232, "title": "bug in mpnn", "user": {"login": "jaechanglim", "id": 35298066, "node_id": "MDQ6VXNlcjM1Mjk4MDY2", "avatar_url": "https://avatars.githubusercontent.com/u/35298066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaechanglim", "html_url": "https://github.com/jaechanglim", "followers_url": "https://api.github.com/users/jaechanglim/followers", "following_url": "https://api.github.com/users/jaechanglim/following{/other_user}", "gists_url": "https://api.github.com/users/jaechanglim/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaechanglim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaechanglim/subscriptions", "organizations_url": "https://api.github.com/users/jaechanglim/orgs", "repos_url": "https://api.github.com/users/jaechanglim/repos", "events_url": "https://api.github.com/users/jaechanglim/events{/privacy}", "received_events_url": "https://api.github.com/users/jaechanglim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-20T05:58:07Z", "updated_at": "2019-03-27T19:54:53Z", "closed_at": "2019-03-27T19:54:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think that the indentation of line 104 in deepchem/contrib/mpnn/mpnn.py is wrong..\r\n\r\nit's indentation level should be one below\r\n\r\nisn't it?", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1166", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1166/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1166/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1166/events", "html_url": "https://github.com/deepchem/deepchem/issues/1166", "id": 306218749, "node_id": "MDU6SXNzdWUzMDYyMTg3NDk=", "number": 1166, "title": "AttributeError: 'module' object has no attribute 'nn' in MNIST GAN tutorial", "user": {"login": "mulancs", "id": 12010330, "node_id": "MDQ6VXNlcjEyMDEwMzMw", "avatar_url": "https://avatars.githubusercontent.com/u/12010330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mulancs", "html_url": "https://github.com/mulancs", "followers_url": "https://api.github.com/users/mulancs/followers", "following_url": "https://api.github.com/users/mulancs/following{/other_user}", "gists_url": "https://api.github.com/users/mulancs/gists{/gist_id}", "starred_url": "https://api.github.com/users/mulancs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mulancs/subscriptions", "organizations_url": "https://api.github.com/users/mulancs/orgs", "repos_url": "https://api.github.com/users/mulancs/repos", "events_url": "https://api.github.com/users/mulancs/events{/privacy}", "received_events_url": "https://api.github.com/users/mulancs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 768465739, "node_id": "MDU6TGFiZWw3Njg0NjU3Mzk=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Good%20First%20Contribution", "name": "Good First Contribution", "color": "801df9", "default": false, "description": null}, {"id": 787108243, "node_id": "MDU6TGFiZWw3ODcxMDgyNDM=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/Contribution%20Welcome", "name": "Contribution Welcome", "color": "38d8a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-18T07:14:25Z", "updated_at": "2018-03-26T18:21:12Z", "closed_at": "2018-03-26T18:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! While I was trying to run the MNIST GAN tutorial on my jupyter notebook, I found this error: \r\n\r\nin create_discriminator(), \r\n        conv = layers.Conv2D(num_outputs=32, kernel_size=5, stride=2, \r\n                    activation_fn=dc.nn.model_ops.lrelu(0.2), normalizer_fn=tf.layers.batch_normalization, \r\n                    in_layers=data_inputs)\r\n        AttributeError: 'module' object has no attribute 'nn'\r\n\r\nThe problem was one of the arguments in layers.Conv2D(), which was \r\nactivation_fn=dc.nn.model_ops.lrelu(0.2)\r\n\r\nI searched through the source code and modified it to be \r\nactivation_fn=dc.models.tensorgraph.model_ops.lrelu(0.2)\r\n\r\nIt was able to compile and run. However, the result looked a bit terrible so I am not sure if this was the right function to set up for activation_fn.  Would you mind letting me know the right way to fix it? \r\n\r\n![mnistgan](https://user-images.githubusercontent.com/12010330/37563313-5616184a-2a54-11e8-8a11-88e7be9f43b6.png)\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1144", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1144/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1144/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1144/events", "html_url": "https://github.com/deepchem/deepchem/issues/1144", "id": 303583933, "node_id": "MDU6SXNzdWUzMDM1ODM5MzM=", "number": 1144, "title": "ProgressiveMultitaskClassifier intox21_tf_progressive.py", "user": {"login": "skeinan", "id": 37190712, "node_id": "MDQ6VXNlcjM3MTkwNzEy", "avatar_url": "https://avatars.githubusercontent.com/u/37190712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skeinan", "html_url": "https://github.com/skeinan", "followers_url": "https://api.github.com/users/skeinan/followers", "following_url": "https://api.github.com/users/skeinan/following{/other_user}", "gists_url": "https://api.github.com/users/skeinan/gists{/gist_id}", "starred_url": "https://api.github.com/users/skeinan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skeinan/subscriptions", "organizations_url": "https://api.github.com/users/skeinan/orgs", "repos_url": "https://api.github.com/users/skeinan/repos", "events_url": "https://api.github.com/users/skeinan/events{/privacy}", "received_events_url": "https://api.github.com/users/skeinan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-08T18:29:39Z", "updated_at": "2018-07-20T13:15:44Z", "closed_at": "2018-07-20T13:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi guys,\r\nIn \"tox21_tf_progressive.py\":\r\nThere is no ProgressiveMultitaskClassifier, maybe you meant \"ProgressiveMultitaskRegressor\"?\r\nThanks,\r\nShahar\r\n", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1045", "repository_url": "https://api.github.com/repos/deepchem/deepchem", "labels_url": "https://api.github.com/repos/deepchem/deepchem/issues/1045/labels{/name}", "comments_url": "https://api.github.com/repos/deepchem/deepchem/issues/1045/comments", "events_url": "https://api.github.com/repos/deepchem/deepchem/issues/1045/events", "html_url": "https://github.com/deepchem/deepchem/issues/1045", "id": 291590731, "node_id": "MDU6SXNzdWUyOTE1OTA3MzE=", "number": 1045, "title": "mdtraj doesn't install with install script on OSX", "user": {"login": "lilleswing", "id": 1225605, "node_id": "MDQ6VXNlcjEyMjU2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1225605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilleswing", "html_url": "https://github.com/lilleswing", "followers_url": "https://api.github.com/users/lilleswing/followers", "following_url": "https://api.github.com/users/lilleswing/following{/other_user}", "gists_url": "https://api.github.com/users/lilleswing/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilleswing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilleswing/subscriptions", "organizations_url": "https://api.github.com/users/lilleswing/orgs", "repos_url": "https://api.github.com/users/lilleswing/repos", "events_url": "https://api.github.com/users/lilleswing/events{/privacy}", "received_events_url": "https://api.github.com/users/lilleswing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 264775168, "node_id": "MDU6TGFiZWwyNjQ3NzUxNjg=", "url": "https://api.github.com/repos/deepchem/deepchem/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-25T14:35:21Z", "updated_at": "2020-02-20T00:20:40Z", "closed_at": "2020-02-20T00:20:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "mdtraj doesn't install with install script on OSX.", "reactions": {"url": "https://api.github.com/repos/deepchem/deepchem/issues/1045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/deepchem/deepchem/issues/1045/timeline", "performed_via_github_app": null, "state_reason": "completed"}]